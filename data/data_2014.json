{"has_more": true, "items": [{"body": "<p>I generated two matrices of <code>1000</code> x <code>1000</code>:</p>\n\n<p>First Matrix: <code>O</code> and <code>#</code>.<br>\nSecond Matrix: <code>O</code> and <code>B</code>.</p>\n\n<p>Using the following code, the first matrix took 8.52 seconds to complete:</p>\n\n<pre><code>Random r = new Random();\nfor (int i = 0; i &lt; 1000; i++) {\n    for (int j = 0; j &lt; 1000; j++) {\n        if(r.nextInt(4) == 0) {\n            System.out.print(\"O\");\n        } else {\n            System.out.print(\"#\");\n        }\n    }\n\n   System.out.println(\"\");\n }\n</code></pre>\n\n<p>With this code, the second matrix took 259.152 seconds to complete:</p>\n\n<pre><code>Random r = new Random();\nfor (int i = 0; i &lt; 1000; i++) {\n    for (int j = 0; j &lt; 1000; j++) {\n        if(r.nextInt(4) == 0) {\n            System.out.print(\"O\");\n        } else {\n            System.out.print(\"B\"); //only line changed\n        }\n    }\n\n    System.out.println(\"\");\n}\n</code></pre>\n\n<p>What is the reason behind the dramatically different run times?</p>\n\n<hr>\n\n<p>As suggested in the comments, printing only <code>System.out.print(\"#\");</code> takes 7.8871 seconds, whereas <code>System.out.print(\"B\");</code> gives <code>still printing...</code>.</p>\n\n<p>As others who pointed out that it works for them normally, I tried <a href=\"http://ideone.com\">Ideone.com</a> for instance, and both pieces of code execute at the same speed.</p>\n\n<p>Test Conditions:</p>\n\n<ul>\n<li>I ran this test from Netbeans 7.2, with the output into its console</li>\n<li>I used <code>System.nanoTime()</code> for measurements</li>\n</ul>\n", "title": "Why is printing &quot;B&quot; dramatically slower than printing &quot;#&quot;?", "tags": ["java", "performance", "system.out"], "answer_count": 2, "link": "http://stackoverflow.com/questions/21947452/why-is-printing-b-dramatically-slower-than-printing", "answers": [{"body": "<p><em>Pure speculation</em> is that you're using a terminal that attempts to do <a href=\"http://en.wikipedia.org/wiki/Word_wrap\">word-wrapping</a> rather than character-wrapping, and treats <code>B</code> as a word character but <code>#</code> as a non-word character. So when it reaches the end of a line and searches for a place to break the line, it sees a <code>#</code> almost immediately and happily breaks there; whereas with the <code>B</code>, it has to keep searching for longer, and may have more text to wrap (which may be expensive on some terminals, e.g., outputting backspaces, then outputting spaces to overwrite the letters being wrapped).</p>\n\n<p>But that's pure speculation.</p>\n", "title": "Why is printing &quot;B&quot; dramatically slower than printing &quot;#&quot;?", "answer_id": 21947627, "question_id": 21947452, "tags": ["java", "performance", "system.out"]}, {"body": "<p>I performed tests on Eclipse vs Netbeans 8.0.2, both with Java version 1.8;\nI used <code>System.nanoTime()</code> for measurements.</p>\n\n<h2>Eclipse:</h2>\n\n<p>I got the <strong>same time on both cases</strong> - around <strong>1.564 seconds</strong>.</p>\n\n<h2>Netbeans:</h2>\n\n<ul>\n<li>Using \"#\": <strong>1.536 seconds</strong></li>\n<li>Using \"B\": <strong>44.164 seconds</strong></li>\n</ul>\n\n<p>So, it looks like Netbeans has bad performance on print to console.</p>\n\n<p>After more research I realized that the problem is <a href=\"http://en.wikipedia.org/wiki/Line_wrap_and_word_wrap\">line-wrapping</a> of the max buffer of Netbeans (it's not restricted to <code>System.out.println</code> command), demonstrated by this code:</p>\n\n<pre><code>for (int i = 0; i &lt; 1000; i++) {\n    long t1 = System.nanoTime();\n    System.out.print(\"BBB......BBB\"); \\\\&lt;-contain 1000 \"B\"\n    long t2 = System.nanoTime();\n    System.out.println(t2-t1);\n    System.out.println(\"\");\n}\n</code></pre>\n\n<p>The time results are less then 1 millisecond every iteration except <strong>every fifth iteration</strong>, when the time result is around 225 millisecond. Something like (in nanoseconds):</p>\n\n<pre><code>BBB...31744\nBBB...31744\nBBB...31744\nBBB...31744\nBBB...226365807\nBBB...31744\nBBB...31744\nBBB...31744\nBBB...31744\nBBB...226365807\n.\n.\n.\n</code></pre>\n\n<p>And so on..</p>\n\n<h2>Summary:</h2>\n\n<ol>\n<li>Eclipse works perfectly with \"B\"</li>\n<li>Netbeans has a line-wrapping problem that can be solved (because the problem does not occur in eclipse)(without adding space after B (\"B \")).</li>\n</ol>\n", "title": "Why is printing &quot;B&quot; dramatically slower than printing &quot;#&quot;?", "answer_id": 29434641, "question_id": 21947452, "tags": ["java", "performance", "system.out"]}], "question_id": 21947452}, {"body": "<p><strong>What I am looking for:</strong></p>\n\n<p>A way to style one <strong>HALF</strong> of a character. (In this case, half the letter being transparent)</p>\n\n<p><strong>What I have currently searched for and tried (With no luck):</strong></p>\n\n<ul>\n<li>Methods for styling half of a character/letter</li>\n<li>Styling part of a character with CSS or JavaScript</li>\n<li>Apply CSS to 50% of a character</li>\n</ul>\n\n<p>Below is an example of what I am trying to obtain.</p>\n\n<p><img src=\"http://i.stack.imgur.com/SaH8v.png\" alt=\"x\"></p>\n\n<p>Does a CSS or JavaScript solution exist for this, or am I going to have to resort to images? I would prefer not to go the image route as this text will end up being generated dynamically.</p>\n\n<hr>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>Since many have asked why I would ever want to style half of a character, this is why. My city had recently spent $250,000 to define a new \"brand\" for itself. This <strong><a href=\"http://halifaxdefined.ca/img/halifax_logo_new.png\">logo</a></strong> is what they came up with. Many people have complained about the simplicity and lack of creativity and continue to do so. My goal was to come up with this <strong><a href=\"http://gameovercancer.ca/tests/brandgenerator/\">website</a></strong> as a joke. Type in 'Halifax' and you will see what I mean. :)</p>\n", "title": "Is it possible to apply CSS to half of a character?", "tags": ["javascript", "html", "css", "styling"], "answer_count": 16, "link": "http://stackoverflow.com/questions/23569441/is-it-possible-to-apply-css-to-half-of-a-character", "answers": [{"body": "<p>Closest I can get:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(function(){\r\n  $('span').width($('span').width()/2);\r\n  $('span:nth-child(2)').css('text-indent', -$('span').width());\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body{\r\n  font-family: arial;\r\n}\r\nspan{\r\n  display: inline-block;\r\n  overflow: hidden;\r\n}\r\nspan:nth-child(2){\r\n  color: red;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;span&gt;X&lt;/span&gt;&lt;span&gt;X&lt;/span&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Demo: <a href=\"http://jsfiddle.net/9wxfY/2/\" rel=\"nofollow\">http://jsfiddle.net/9wxfY/2/</a></p>\n\n<p>Heres a version that just uses one span: <a href=\"http://jsfiddle.net/9wxfY/4/\" rel=\"nofollow\">http://jsfiddle.net/9wxfY/4/</a></p>\n", "title": "Is it possible to apply CSS to half of a character?", "answer_id": 23569649, "question_id": 23569441, "tags": ["javascript", "html", "css", "styling"]}, {"body": "<p><img src=\"http://i.imgur.com/G07u5An.png\" alt=\"enter image description here\"><br><br><br></p>\n\n<p>I've just finished developing the plugin and it is available for everyone to use! Hope you will enjoy it. </p>\n\n<h3>View Project on <a href=\"https://github.com/emisfera/Splitchar\">GitHub</a> - View Project <a href=\"http://razvanbalosin.com/Splitchar.js/\">Website</a>. <b>(so you can see all the split styles)</b></h3>\n\n<h2><b>Usage</b></h2>\n\n<p>First of all, make sure you have the <code>jQuery</code> library is included. The best way to get the latest jQuery version is to update your head tag with:</p>\n\n<pre><code>&lt;script src=\"http://code.jquery.com/jquery-latest.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>After downloading the files, make sure you include them in your project:</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"css/splitchar.css\"&gt;\n&lt;script type=\"text/javascript\" src=\"js/splitchar.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<h2><b>Markup</b></h2>\n\n<p>All you have to do is to asign the class <code>splitchar</code> , followed by the desired style to the element wrapping your text. e.g</p>\n\n<pre><code>&lt;h1 class=\"splitchar horizontal\"&gt;Splitchar&lt;/h1&gt;\n</code></pre>\n\n<p>After all this is done, just make sure you call the jQuery function in your document ready file like this:</p>\n\n<pre><code>$(\".splitchar\").splitchar();\n</code></pre>\n\n<h2><b>Customizing</b></h2>\n\n<p>In order to make the text look exactly as you want it to, all you have to do is apply your design like this:</p>\n\n<pre><code>.horizontal { /* Base CSS - e.g font-size */ }\n.horizontal:before { /* CSS for the left half */ }\n.horizontal:after { /* CSS for the right half */ }\n</code></pre>\n\n<p><br>\nThat's it! Now you have the <code>Splitchar</code> plugin all set. More info about it at <a href=\"http://razvanbalosin.com/Splitchar.js/\">http://razvanbalosin.com/Splitchar.js/</a>.</p>\n", "title": "Is it possible to apply CSS to half of a character?", "answer_id": 23569710, "question_id": 23569441, "tags": ["javascript", "html", "css", "styling"]}, {"body": "<p><img src=\"http://i.stack.imgur.com/oBWFs.png\" alt=\"Example\"></p>\n\n<hr>\n\n<h2><a href=\"http://jsfiddle.net/CL82F/14/\">JSFiddle DEMO</a></h2>\n\n<p>We'll do it using just CSS pseudo selectors! </p>\n\n<p>This technique will work with dynamically generated content and different font sizes and widths.</p>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code>&lt;div class='split-color'&gt;Two is better than one.&lt;/div&gt;\n</code></pre>\n\n<p><strong>CSS:</strong></p>\n\n<pre><code>.split-color &gt; span {\n    white-space: pre-line;\n    position: relative;\n    color: #409FBF;\n}\n\n.split-color &gt; span:before {\n    content: attr(data-content);\n    pointer-events: none;  /* Prevents events from targeting pseudo-element */\n    position: absolute;\n    overflow: hidden;\n    color: #264A73;\n    width: 50%;\n    z-index: 1;\n}\n</code></pre>\n\n<p>To wrap the dynamically generated string, you could use a function like this:</p>\n\n<pre><code>// Wrap each letter in a span tag and return an HTML string\n// that can be used to replace the original text\nfunction wrapString(str) {\n  var output = [];\n  str.split('').forEach(function(letter) {\n    var wrapper = document.createElement('span');\n    wrapper.dataset.content = wrapper.innerHTML = letter;\n\n    output.push(wrapper.outerHTML);\n  });\n\n  return output.join('');\n}\n\n// Replace the original text with the split-color text\nwindow.onload = function() {\n    var el  = document.querySelector('.split-color'),\n        txt = el.innerHTML;\n\n    el.innerHTML = wrapString(txt);\n}\n</code></pre>\n", "title": "Is it possible to apply CSS to half of a character?", "answer_id": 23569745, "question_id": 23569441, "tags": ["javascript", "html", "css", "styling"]}, {"body": "<p><strong>Limited CSS and jQuery Solution</strong></p>\n\n<p>I am not sure how elegant this solution is, but it cuts everything exactly in half: <a href=\"http://jsfiddle.net/9wxfY/11/\" rel=\"nofollow\">http://jsfiddle.net/9wxfY/11/</a></p>\n\n<p>Otherwise, I have created a nice solution for you... All you need to do is have this for your HTML:</p>\n\n<p>Take a look at this most recent, and accurate, edit as of 6/13/2016 : <a href=\"http://jsfiddle.net/9wxfY/41/\" rel=\"nofollow\">http://jsfiddle.net/9wxfY/41/</a></p>\n\n<p>As for the CSS, it is very limited... You only need to apply it to <code>:nth-child(even)</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(function(){\r\n  var $hc = $('.half-color');\r\n  var str = $hc.text();\r\n  $hc.html(\"\");\r\n\r\n  var i = 0;\r\n  var chars;\r\n  var dupText;\r\n\r\n  while(i &lt; str.length){\r\n    chars = str[i];\r\n    dupText = \"&lt;span&gt;\" + chars + \"&lt;/span&gt;\";\r\n\r\n    var firstHalf = $(dupText);\r\n    var secondHalf = $(dupText);\r\n\r\n    $hc.append(firstHalf)\r\n    $hc.append(secondHalf)\r\n\r\n    var width = firstHalf.width()/2;\r\n\r\n    firstHalf.width(width);\r\n    secondHalf.css('text-indent', -width);\r\n\r\n    i++;\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.half-color span{\r\n  font-size: 2em;\r\n  display: inline-block;\r\n  overflow: hidden;\r\n}\r\n.half-color span:nth-child(even){\r\n  color: red;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"half-color\"&gt;This is a sentence&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "Is it possible to apply CSS to half of a character?", "answer_id": 23569840, "question_id": 23569441, "tags": ["javascript", "html", "css", "styling"]}, {"body": "<h1><a href=\"https://github.com/arbelh/HalfStyle\">Now on GitHub as a Plugin!</a></h1>\n\n<p><img src=\"http://i.stack.imgur.com/Glo2Q.png\" alt=\"enter image description here\"> Feel free to fork and improve.</p>\n\n<h1><a href=\"http://jsfiddle.net/pd9yB/820/\">Demo</a> | <a href=\"https://github.com/arbelh/HalfStyle/archive/master.zip\">Download Zip</a> | <a href=\"http://www.half-style.com\">Half-Style.com</a> (Redirects to GitHub)</h1>\n\n<hr>\n\n<ul>\n<li><strong>Pure CSS</strong> for a Single Character</li>\n<li>JavaScript used for automation accross text or multiple characters</li>\n<li>Preserves Text Accessibility for screen readers for the blind or visually\nimpaired</li>\n</ul>\n\n<h1>Part1: Basic Solution</h1>\n\n<p><img src=\"http://i.stack.imgur.com/ZYic1.png\" alt=\"Half Style on text\"></p>\n\n<p><strong>Demo:</strong> <a href=\"http://jsfiddle.net/pd9yB/817/\">http://jsfiddle.net/pd9yB/817/</a></p>\n\n<hr>\n\n<p>This works on any dynamic text, or a single character, and is all automated. All you need to do is add a class on the target text and the rest is taken care of.</p>\n\n<p>Also, the accessibility of the original text is preserved for screen readers for the blind or visually impaired.</p>\n\n<p><strong>Explanation for a single character:</strong></p>\n\n<p>Pure CSS. All you need to do is to apply <code>.halfStyle</code> class to each element that contains the character you want to be half-styled.</p>\n\n<p>For each span element containing the character, you can create a data attribute, for example here <code>data-content=\"X\"</code>, and on the pseudo element use <code>content: attr(data-content);</code> so the <code>.halfStyle:before</code> class will be dynamic and you won't need to hard code it for every instance.</p>\n\n<p><strong>Explanation for any text:</strong></p>\n\n<p>Simply add <code>textToHalfStyle</code> class to the element containing the text.</p>\n\n<hr>\n\n<p><strong>CSS:</strong></p>\n\n<pre class=\"lang-css prettyprint-override\"><code>.halfStyle {\n    position:relative;\n    display:inline-block;\n    font-size:80px; /* or any font size will work */\n    color: black; /* or transparent, any color */\n    overflow:hidden;\n    white-space: pre; /* to preserve the spaces from collapsing */\n}\n.halfStyle:before {\n    display:block;\n    z-index:1;\n    position:absolute;\n    top:0;\n    left:0;\n    width: 50%;\n    content: attr(data-content); /* dynamic content for the pseudo element */\n    overflow:hidden;\n    color: #f00;\n}\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;p&gt;Single Characters:&lt;/p&gt;\n&lt;span class=\"halfStyle\" data-content=\"X\"&gt;X&lt;/span&gt;\n&lt;span class=\"halfStyle\" data-content=\"Y\"&gt;Y&lt;/span&gt;\n&lt;span class=\"halfStyle\" data-content=\"Z\"&gt;Z&lt;/span&gt;\n&lt;span class=\"halfStyle\" data-content=\"A\"&gt;A&lt;/span&gt;\n\n&lt;hr/&gt;\n&lt;p&gt;Automated:&lt;/p&gt;\n\n&lt;span class=\"textToHalfStyle\"&gt;Half-style, please.&lt;/span&gt;\n</code></pre>\n\n<hr>\n\n<p>To make it automated, simply add <code>textToHalfStyle</code> class to the element containing the text.</p>\n\n<p><strong>jQuery</strong> for automated mode:</p>\n\n<pre><code>jQuery(function($) {\n    var text, chars, $el, i, output;\n\n    // Iterate over all class occurences\n    $('.textToHalfStyle').each(function(idx, el) {\n        $el = $(el);\n        text = $el.text();\n        chars = text.split('');\n\n        // Set the screen-reader text\n        $el.html('&lt;span style=\"position: absolute !important;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);\"&gt;' + text + '&lt;/span&gt;');\n\n        // Reset output for appending\n        output = '';\n\n        // Iterate over all chars in the text\n        for (i = 0; i &lt; chars.length; i++) {\n            // Create a styled element for each character and append to container\n            output += '&lt;span aria-hidden=\"true\" class=\"halfStyle\" data-content=\"' + chars[i] + '\"&gt;' + chars[i] + '&lt;/span&gt;';\n        }\n\n        // Write to DOM only once\n        $el.append(output);\n    });\n});\n</code></pre>\n\n<p><strong>Demo:</strong> <a href=\"http://jsfiddle.net/pd9yB/819/\">http://jsfiddle.net/pd9yB/819/</a></p>\n\n<hr>\n\n<h1>Part2: Advanced solution - Independent left and right parts</h1>\n\n<p><img src=\"http://i.stack.imgur.com/zYa0F.png\" alt=\"Half Style on text - advanced\"></p>\n\n<p><strong><em>With this solution you can style left and right parts, individually and independently</em></strong>.</p>\n\n<p>Everything is the same, only more advanced CSS does the magic.</p>\n\n<p><strong>Demo:</strong> <a href=\"http://jsfiddle.net/pd9yB/819/\">http://jsfiddle.net/pd9yB/819/</a></p>\n\n<pre class=\"lang-css prettyprint-override\"><code>.halfStyle {\n    position:relative;\n    display:inline-block;\n    font-size:80px; /* or any font size will work */\n    color: transparent; /* hide the base character */\n    overflow:hidden;\n    white-space: pre; /* to preserve the spaces from collapsing */\n}\n.halfStyle:before { /* creates the left part */\n    display:block;\n    z-index:1;\n    position:absolute;\n    top:0;\n    width: 50%;\n    content: attr(data-content); /* dynamic content for the pseudo element */\n    overflow:hidden;\n    pointer-events: none; /* so the base char is selectable by mouse */\n    color: #f00; /* for demo purposes */\n    text-shadow: 2px -2px 0px #af0; /* for demo purposes */\n}\n.halfStyle:after { /* creates the right part */\n    display:block;\n    direction: rtl; /* very important, will make the width to start from right */\n    position:absolute;\n    z-index:2;\n    top:0;\n    left:50%;\n    width: 50%;\n    content: attr(data-content); /* dynamic content for the pseudo element */\n    overflow:hidden;\n    pointer-events: none; /* so the base char is selectable by mouse */\n    color: #000; /* for demo purposes */\n    text-shadow: 2px 2px 0px #0af; /* for demo purposes */\n}\n</code></pre>\n\n<p><hr/>\n<hr/></p>\n\n<h1>Part3: Mix-Match and Improve</h1>\n\n<p>Now that we know what is possible, let's create some variations.</p>\n\n<hr/>\n\n<h2>-Horizontal Half Parts</h2>\n\n<p><img src=\"http://i.stack.imgur.com/2eDaQ.png\" alt=\"halfStyle - Horizontal Half Parts\"></p>\n\n<h1><a href=\"http://jsfiddle.net/pd9yB/821/\">Demo</a></h1>\n\n<pre><code>.halfStyle {\n    position:relative;\n    display:inline-block;\n    font-size:80px; /* or any font size will work */\n    color: transparent; /* hide the base character */\n    overflow:hidden;\n    white-space: pre; /* to preserve the spaces from collapsing */\n}\n.halfStyle:before { /* creates the top part */\n    display:block;\n    z-index:2;\n    position:absolute;\n    top:0;\n    height: 50%;\n    content: attr(data-content); /* dynamic content for the pseudo element */\n    overflow:hidden;\n    pointer-events: none; /* so the base char is selectable by mouse */\n    color: #f00; /* for demo purposes */\n    text-shadow: 2px -2px 0px #af0; /* for demo purposes */\n}\n.halfStyle:after { /* creates the bottom part */\n    display:block;\n    position:absolute;\n    z-index:1;\n    top:0;\n    height: 100%;\n    content: attr(data-content); /* dynamic content for the pseudo element */\n    overflow:hidden;\n    pointer-events: none; /* so the base char is selectable by mouse */\n    color: #000; /* for demo purposes */\n    text-shadow: 2px 2px 0px #0af; /* for demo purposes */\n}\n</code></pre>\n\n<hr/>\n\n<hr/>\n\n<h2>-Vertical 1/3 Parts</h2>\n\n<p><img src=\"http://i.stack.imgur.com/ypn4X.png\" alt=\"halfStyle - Vertical 1/3 Parts\"></p>\n\n<h1><a href=\"http://jsfiddle.net/pd9yB/850/\">Demo</a></h1>\n\n<pre><code>.halfStyle { /* base char and also the right 1/3 */\n    position:relative;\n    display:inline-block;\n    font-size:80px; /* or any font size will work */\n    color: transparent; /* hide the base character */\n    overflow:hidden;\n    white-space: pre; /* to preserve the spaces from collapsing */\n    color: #f0f; /* for demo purposes */\n    text-shadow: 2px 2px 0px #0af; /* for demo purposes */\n}\n.halfStyle:before { /* creates the left 1/3 */\n    display:block;\n    z-index:2;\n    position:absolute;\n    top:0;\n    width: 33.33%;\n    content: attr(data-content); /* dynamic content for the pseudo element */\n    overflow:hidden;\n    pointer-events: none; /* so the base char is selectable by mouse */\n    color: #f00; /* for demo purposes */\n    text-shadow: 2px -2px 0px #af0; /* for demo purposes */\n}\n.halfStyle:after { /* creates the middle 1/3 */\n    display:block;\n    z-index:1;\n    position:absolute;\n    top:0;\n    width: 66.66%;\n    content: attr(data-content); /* dynamic content for the pseudo element */\n    overflow:hidden;\n    pointer-events: none; /* so the base char is selectable by mouse */\n    color: #000; /* for demo purposes */\n    text-shadow: 2px 2px 0px #af0; /* for demo purposes */\n}\n</code></pre>\n\n<hr/>\n\n<hr/>\n\n<h2>-Horizontal 1/3 Parts</h2>\n\n<p><img src=\"http://i.stack.imgur.com/UeuxW.png\" alt=\"halfStyle - Horizontal 1/3 Parts\"></p>\n\n<h1><a href=\"http://jsfiddle.net/pd9yB/823/\">Demo</a></h1>\n\n<pre><code>.halfStyle { /* base char and also the bottom 1/3 */\n    position:relative;\n    display:inline-block;\n    font-size:80px; /* or any font size will work */\n    color: transparent;\n    overflow:hidden;\n    white-space: pre; /* to preserve the spaces from collapsing */\n    color: #f0f;\n    text-shadow: 2px 2px 0px #0af; /* for demo purposes */\n}\n.halfStyle:before { /* creates the top 1/3 */\n    display:block;\n    z-index:2;\n    position:absolute;\n    top:0;\n    height: 33.33%;\n    content: attr(data-content); /* dynamic content for the pseudo element */\n    overflow:hidden;\n    pointer-events: none; /* so the base char is selectable by mouse */\n    color: #f00; /* for demo purposes */\n    text-shadow: 2px -2px 0px #fa0; /* for demo purposes */\n}\n.halfStyle:after { /* creates the middle 1/3 */\n    display:block;\n    position:absolute;\n    z-index:1;\n    top:0;\n    height: 66.66%;\n    content: attr(data-content); /* dynamic content for the pseudo element */\n    overflow:hidden;\n    pointer-events: none; /* so the base char is selectable by mouse */\n    color: #000; /* for demo purposes */\n    text-shadow: 2px 2px 0px #af0; /* for demo purposes */\n}\n</code></pre>\n\n<hr/>\n\n<hr/>\n\n<h2>-HalfStyle Improvement By @KevinGranger</h2>\n\n<p><img src=\"http://i.stack.imgur.com/PgdJ6.png\" alt=\"halfStyle - KevinGranger\"></p>\n\n<h1><a href=\"http://jsfiddle.net/pd9yB/824/\">DEMO</a></h1>\n\n<pre><code>body{\n    background-color: black;\n}\n\n.textToHalfStyle{\n    display:block;\n    margin: 200px 0 0 0;\n    text-align:center;\n}\n\n.halfStyle {\n    font-family: 'Libre Baskerville', serif;\n    position:relative;\n    display:inline-block;\n    width:1;\n    font-size:70px;\n    color: black;\n    overflow:hidden;\n    white-space: pre;\n    text-shadow: 1px 2px 0 white;\n}\n.halfStyle:before {\n    display:block;\n    z-index:1;\n    position:absolute;\n    top:0;\n    width: 50%;\n    content: attr(data-content); /* dynamic content for the pseudo element */\n    overflow:hidden;\n    color: white;\n}\n</code></pre>\n\n<p><hr/>\n<hr/></p>\n\n<h2>-PeelingStyle improvement of HalfStyle by @SamTremaine</h2>\n\n<p><img src=\"http://i.stack.imgur.com/r67KC.png\" alt=\"halfStyle - SamTremaine\"></p>\n\n<h1><a href=\"http://jsfiddle.net/pd9yB/826/\">Demo</a> and on <a href=\"http://experimental.samtremaine.co.uk/half-style/\">samtremaine.co.uk</a></h1>\n\n<pre><code>.halfStyle {\n    position: relative;\n    display: inline-block;\n    font-size: 68px;\n    color: rgba(0, 0, 0, 0.8);\n    overflow: hidden;\n    white-space: pre;\n    transform: rotate(4deg);\n    text-shadow: 2px 1px 3px rgba(0, 0, 0, 0.3);\n}\n.halfStyle:before { /* creates the left part */\n    display: block;\n    z-index: 1;\n    position: absolute;\n    top: -0.5px;\n    left: -3px;\n    width: 100%;\n    content: attr(data-content);\n    overflow: hidden;\n    pointer-events: none;\n    color: #FFF;\n    transform: rotate(-4deg);\n    text-shadow: 0px 0px 1px #000;\n}\n</code></pre>\n\n<p><hr/>\n<hr/></p>\n\n<h1>Part4: Ready for Production</h1>\n\n<p>Customized different Half-Style style-sets can be used on desired elements on the same page.\nYou can define multiple style-sets and tell the plugin which one to use.</p>\n\n<p>The plugin uses data attribute <code>data-halfstyle=\"[-CustomClassName-]\"</code> on the target <code>.textToHalfStyle</code> elements and makes all the necessary changes automatically.</p>\n\n<p>So, simply on the element containing the text add <code>textToHalfStyle</code> class and data attribute <code>data-halfstyle=\"[-CustomClassName-]\"</code>. The plugin will do the rest of the job.</p>\n\n<p><img src=\"http://i.stack.imgur.com/RxjKF.png\" alt=\"halfStyle - Multiple on Same Page\"></p>\n\n<h1><a href=\"http://jsfiddle.net/pd9yB/787/\">Demo</a> of Multiple Half-Styles on the same page.</h1>\n\n<pre><code>jQuery(function($) {\n    var halfstyle_text, halfstyle_chars, $halfstyle_el, halfstyle_i, halfstyle_output, halfstyle_style;\n\n    // Iterate over all class occurrences\n    $('.textToHalfStyle').each(function(idx, halfstyle_el) {\n        $halfstyle_el = $(halfstyle_el);\n        halfstyle_style = $halfstyle_el.data('halfstyle');\n        halfstyle_text = $halfstyle_el.text();\n        halfstyle_chars = halfstyle_text.split('');\n\n        // Set the screen-reader text\n        $halfstyle_el.html('&lt;span style=\"position: absolute !important;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);\"&gt;' + halfstyle_text + '&lt;/span&gt;');\n\n        // Reset output for appending\n        halfstyle_output = '';\n\n        // Iterate over all chars in the text\n        for (halfstyle_i = 0; halfstyle_i &lt; halfstyle_chars.length; halfstyle_i++) {\n            // Create a styled element for each character and append to container\n            halfstyle_output += '&lt;span aria-hidden=\"true\" class=\"halfStyle ' + halfstyle_style + '\" data-content=\"' + halfstyle_chars[halfstyle_i] + '\"&gt;' + halfstyle_chars[halfstyle_i] + '&lt;/span&gt;';\n        }\n\n        // Write to DOM only once\n        $halfstyle_el.append(halfstyle_output);\n    });\n});\n</code></pre>\n\n<p>Also the CSS style-sets' class definitions match the <code>[-CustomClassName-]</code> part mentioned above and is chained to <code>.halfStyle</code>, so we will have <code>.halfStyle.[-CustomClassName-]</code></p>\n\n<pre><code> /* start half-style hs-base */\n .halfStyle.hs-base {\n    position:relative;\n    display:inline-block;\n    font-size:80px; /* or any font size will work */\n    overflow:hidden;\n    white-space: pre; /* to preserve the spaces from collapsing */\n    color: #000; /* for demo purposes */\n}\n.halfStyle.hs-base:before {\n    display:block;\n    z-index:1;\n    position:absolute;\n    top:0;\n    width: 50%;\n    content: attr(data-content); /* dynamic content for the pseudo element */\n    pointer-events: none; /* so the base char is selectable by mouse */\n    overflow:hidden;\n    color: #f00; /* for demo purposes */\n}\n /* end half-style hs-base */\n\n/* start half-style hs-horizontal-third */\n.halfStyle.hs-horizontal-third { /* base char and also the bottom 1/3 */\n    position:relative;\n    display:inline-block;\n    font-size:80px; /* or any font size will work */\n    color: transparent;\n    overflow:hidden;\n    white-space: pre; /* to preserve the spaces from collapsing */\n    color: #f0f;\n    text-shadow: 2px 2px 0px #0af; /* for demo purposes */\n}\n.halfStyle.hs-horizontal-third:before { /* creates the top 1/3 */\n    display:block;\n    z-index:2;\n    position:absolute;\n    top:0;\n    height: 33.33%;\n    content: attr(data-content); /* dynamic content for the pseudo element */\n    overflow:hidden;\n    pointer-events: none; /* so the base char is selectable by mouse */\n    color: #f00; /* for demo purposes */\n    text-shadow: 2px -2px 0px #fa0; /* for demo purposes */\n}\n.halfStyle.hs-horizontal-third:after { /* creates the middle 1/3 */\n    display:block;\n    position:absolute;\n    z-index:1;\n    top:0;\n    height: 66.66%;\n    content: attr(data-content); /* dynamic content for the pseudo element */\n    overflow:hidden;\n    pointer-events: none; /* so the base char is selectable by mouse */\n    color: #000; /* for demo purposes */\n    text-shadow: 2px 2px 0px #af0; /* for demo purposes */\n}\n/* end half-style hs-horizontal-third */\n\n/* start half-style hs-PeelingStyle, by user SamTremaine on Stackoverflow.com */\n.halfStyle.hs-PeelingStyle {\n    position: relative;\n    display: inline-block;\n    font-size: 68px;\n    color: rgba(0, 0, 0, 0.8);\n    overflow: hidden;\n    white-space: pre;\n    transform: rotate(4deg);\n    text-shadow: 2px 1px 3px rgba(0, 0, 0, 0.3);\n}\n.halfStyle.hs-PeelingStyle:before { /* creates the left part */\n    display: block;\n    z-index: 1;\n    position: absolute;\n    top: -0.5px;\n    left: -3px;\n    width: 100%;\n    content: attr(data-content);\n    overflow: hidden;\n    pointer-events: none;\n    color: #FFF;\n    transform: rotate(-4deg);\n    text-shadow: 0px 0px 1px #000;\n}\n/* end half-style hs-PeelingStyle */\n\n/* start half-style hs-KevinGranger, by user KevinGranger on StackOverflow.com*/\n.textToHalfStyle.hs-KevinGranger {\n    display:block;\n    margin: 200px 0 0 0;\n    text-align:center;\n}\n\n.halfStyle.hs-KevinGranger {\n    font-family: 'Libre Baskerville', serif;\n    position:relative;\n    display:inline-block;\n    width:1;\n    font-size:70px;\n    color: black;\n    overflow:hidden;\n    white-space: pre;\n    text-shadow: 1px 2px 0 white;\n}\n.halfStyle.hs-KevinGranger:before {\n    display:block;\n    z-index:1;\n    position:absolute;\n    top:0;\n    width: 50%;\n    content: attr(data-content); /* dynamic content for the pseudo element */\n    overflow:hidden;\n    color: white;\n}\n/* end half-style hs-KevinGranger\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;p&gt;\n    &lt;span class=\"textToHalfStyle\" data-halfstyle=\"hs-base\"&gt;Half-style, please.&lt;/span&gt;\n&lt;/p&gt;\n&lt;p&gt;\n    &lt;span class=\"textToHalfStyle\" data-halfstyle=\"hs-horizontal-third\"&gt;Half-style, please.&lt;/span&gt;\n&lt;/p&gt;\n&lt;p&gt;\n    &lt;span class=\"textToHalfStyle\" data-halfstyle=\"hs-PeelingStyle\"&gt;Half-style, please.&lt;/span&gt;\n&lt;/p&gt;\n&lt;p style=\"background-color:#000;\"&gt;\n    &lt;span class=\"textToHalfStyle\" data-halfstyle=\"hs-KevinGranger\"&gt;Half-style, please.&lt;/span&gt;\n&lt;/p&gt;\n</code></pre>\n\n<h1><a href=\"http://jsfiddle.net/pd9yB/787/\">Demo</a> of Multiple Half-Styles on the same page.</h1>\n", "title": "Is it possible to apply CSS to half of a character?", "answer_id": 23569891, "question_id": 23569441, "tags": ["javascript", "html", "css", "styling"]}, {"body": "<p>Yes, you can do this with only one character and only CSS. </p>\n\n<p>Webkit (and Chrome) only, though:</p>\n\n<p><a href=\"http://jsbin.com/rexoyice/1/\">http://jsbin.com/rexoyice/1/</a></p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;h1&gt;X&lt;/h1&gt;\n</code></pre>\n\n<p>CSS:</p>\n\n<pre><code>h1 {\n  display: inline-block;\n  font-family: helvetica, arial, sans-serif;\n  font-weight: bold;\n  font-size: 300px;\n  background: linear-gradient(to right, #7db9e8 50%,#1e5799 50%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n}\n</code></pre>\n\n<p>Visually, all the examples that use two characters (be it via JS, CSS pseudo elements, or just HTML) look fine, but note that that all adds content to the DOM which may cause accessibility--as well as text selection/cut/paste issues. </p>\n", "title": "Is it possible to apply CSS to half of a character?", "answer_id": 23569898, "question_id": 23569441, "tags": ["javascript", "html", "css", "styling"]}, {"body": "<p>A nice WebKit-only solution that takes advantage of the <code>background-clip: text</code> support: <a href=\"http://jsfiddle.net/sandro_paganotti/wLkVt/\">http://jsfiddle.net/sandro_paganotti/wLkVt/</a></p>\n\n<pre><code>span{\n   font-size: 100px;\n   background: linear-gradient(to right, black, black 50%, grey 50%, grey);\n   -webkit-background-clip: text;\n   -webkit-text-fill-color: transparent;\n}\n</code></pre>\n", "title": "Is it possible to apply CSS to half of a character?", "answer_id": 23571018, "question_id": 23569441, "tags": ["javascript", "html", "css", "styling"]}, {"body": "<p>Here an ugly implementation in canvas. I tried this solution, but the results are worse than I expected, so here it is anyway.</p>\n\n<p><img src=\"http://i.stack.imgur.com/ltPQu.png\" alt=\"Canvas example\"></p>\n\n<p><a href=\"http://jsfiddle.net/kLXmL/2/\">http://jsfiddle.net/kLXmL/2/</a></p>\n\n<pre><code>&lt;div&gt;Example Text&lt;/div&gt;\n\n$(function(){\n    $(\"div\").each(function(){\n        var CHARS = $(this).text().split('');\n        $(this).html(\"\");\n        $.each(CHARS,function(index, char){\n            var canvas = $(\"&lt;canvas /&gt;\")\n                    .css(\"width\", \"40px\")\n                    .css(\"height\", \"40px\")\n                    .get(0);\n            $(\"div\").append(canvas);\n            var ctx = canvas.getContext(\"2d\");\n            var gradient = ctx.createLinearGradient(0, 0, 130, 0);\n            gradient.addColorStop(\"0\", \"blue\");\n            gradient.addColorStop(\"0.5\", \"blue\");\n            gradient.addColorStop(\"0.51\", \"red\");\n            gradient.addColorStop(\"1.0\", \"red\");\n            ctx.font = '130pt Calibri';\n            ctx.fillStyle = gradient;\n            ctx.fillText(char, 10, 130);\n        });\n    });\n});\n</code></pre>\n", "title": "Is it possible to apply CSS to half of a character?", "answer_id": 23572567, "question_id": 23569441, "tags": ["javascript", "html", "css", "styling"]}, {"body": "<p>Another CSS-only solution (though data-attribute is needed if you don't want to write letter-specific CSS). This one works more across the board (Tested IE 9/10, Chrome latest &amp; FF latest)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>span {\r\n  position: relative;\r\n  color: rgba(50,50,200,0.5);\r\n}\r\n\r\nspan:before {\r\n  content: attr(data-char);\r\n  position: absolute;\r\n  width: 50%;\r\n  overflow: hidden;\r\n  color: rgb(50,50,200);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;span data-char=\"X\"&gt;X&lt;/span&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "Is it possible to apply CSS to half of a character?", "answer_id": 23616496, "question_id": 23569441, "tags": ["javascript", "html", "css", "styling"]}, {"body": "<p>Nice trick, <a href=\"http://en.wikipedia.org/wiki/Cascading_Style_Sheets\" rel=\"nofollow\">CSS</a> is everything :)</p>\n\n<p><img src=\"http://i.stack.imgur.com/RftEr.png\" alt=\"Enter image description here\"></p>\n\n<p>I just played with @Arbel's solution:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body{\r\n  background-color: black;\r\n}\r\n.textToHalfStyle{\r\n  display: block;\r\n  margin: 200px 0 0 0;\r\n  text-align:center;\r\n}\r\n.halfStyle {\r\n  font-family: 'Libre Baskerville', serif;\r\n  position: relative;\r\n  display: inline-block;\r\n  width: 1;\r\n  font-size: 70px;\r\n  color: black;\r\n  overflow: hidden;\r\n  white-space: pre;\r\n  text-shadow: 1px 2px 0 white;\r\n}\r\n.halfStyle:before {\r\n  display: block;\r\n  z-index: 1;\r\n  position: absolute;\r\n  top: 0;\r\n  width: 50%;\r\n  content: attr(data-content); /* Dynamic content for the pseudo element */\r\n  overflow: hidden;\r\n  color: white;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> &lt;span class=\"textToHalfStyle\"&gt;Dr. Jekyll and M. Hide&lt;/span&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "Is it possible to apply CSS to half of a character?", "answer_id": 23618313, "question_id": 23569441, "tags": ["javascript", "html", "css", "styling"]}, {"body": "<pre><code>.halfStyle {\n    position:relative;\n    display:inline-block;\n    font-size:68px; /* or any font size will work */\n    color: rgba(0,0,0,0.8); /* or transparent, any color */\n    overflow:hidden;\n    white-space: pre; /* to preserve the spaces from collapsing */\n    transform:rotate(4deg);\n    -webkit-transform:rotate(4deg);\n    text-shadow:2px 1px 3px rgba(0,0,0,0.3);\n}\n.halfStyle:before {\n    display:block;\n    z-index:1;\n    position:absolute;\n    top:-0.5px;\n    left:-3px;\n    width: 100%;\n    content: attr(data-content); /* dynamic content for the pseudo element */\n    overflow:hidden;\n    color: white;\n    transform:rotate(-4deg);\n    -webkit-transform:rotate(-4deg);\n    text-shadow:0 0 1px black;\n\n}\n</code></pre>\n\n<p><a href=\"http://experimental.samtremaine.co.uk/half-style/\">http://experimental.samtremaine.co.uk/half-style/</a></p>\n\n<p>You can crowbar this code into doing all sorts of interesting things - this is just one implementation my associate and I came up with last night.</p>\n", "title": "Is it possible to apply CSS to half of a character?", "answer_id": 23627436, "question_id": 23569441, "tags": ["javascript", "html", "css", "styling"]}, {"body": "<p>It may be irrelevant, maybe not, but sometime ago, I created a jQuery function that does the same thing, but horizontally.</p>\n\n<p>I called it \"Strippex\" For 'stripe'+'text', demo : <a href=\"http://cdpn.io/FcIBg\">http://cdpn.io/FcIBg</a></p>\n\n<p>I'm not saying this is the solution of any problems, but I already tried to apply css to half of a character, but horizontally, So the idea is the same, the realisation may be horrible, but it works.</p>\n\n<p>Ah, and the most important, I had fun creating it !</p>\n\n<p><img src=\"http://i.stack.imgur.com/z15N0.png\" alt=\"enter image description here\"></p>\n", "title": "Is it possible to apply CSS to half of a character?", "answer_id": 23629512, "question_id": 23569441, "tags": ["javascript", "html", "css", "styling"]}, {"body": "<p>You can also do it using SVG, if you wish:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var title = document.querySelector('h1'),\r\n    text = title.innerHTML,\r\n    svgTemplate = document.querySelector('svg'),\r\n    charStyle = svgTemplate.querySelector('#text');\r\n\r\nsvgTemplate.style.display = 'block';\r\n\r\nvar space = 0;\r\n\r\nfor (var i = 0; i &lt; text.length; i++) {\r\n  var x = charStyle.cloneNode();\r\n  x.textContent = text[i];\r\n  svgTemplate.appendChild(x);\r\n  x.setAttribute('x', space);\r\n  space += x.clientWidth || 15;\r\n}\r\n\r\ntitle.innerHTML = '';\r\ntitle.appendChild(svgTemplate);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;svg style=\"display: none; height: 100px; width: 100%\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:svg=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\"&gt;\r\n    &lt;defs id=\"FooDefs\"&gt;\r\n        &lt;linearGradient id=\"MyGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\"&gt;\r\n            &lt;stop offset=\"50%\" stop-color=\"blue\" /&gt;\r\n            &lt;stop offset=\"50%\" stop-color=\"red\" /&gt;\r\n        &lt;/linearGradient&gt;\r\n    &lt;/defs&gt;\r\n    &lt;text y=\"50%\" id=\"text\" style=\"font-size: 72px; fill: url(#MyGradient)\"&gt;&lt;/text&gt;\r\n&lt;/svg&gt;\r\n\r\n&lt;h1&gt;This is not a solution X&lt;/h1&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><a href=\"http://codepen.io/nicbell/pen/jGcbq\">http://codepen.io/nicbell/pen/jGcbq</a></p>\n", "title": "Is it possible to apply CSS to half of a character?", "answer_id": 23679647, "question_id": 23569441, "tags": ["javascript", "html", "css", "styling"]}, {"body": "<p>FWIW, here's my take on this doing it only with CSS: <a href=\"http://codepen.io/ricardozea/pen/uFbts/\">http://codepen.io/ricardozea/pen/uFbts/</a></p>\n\n<p>Several notes:</p>\n\n<ul>\n<li><p>The main reason I did this was to test myself and see if I was able to accomplish styling half of a character while actually providing a meaningful answer to the OP.</p></li>\n<li><p>I am aware that this is not an ideal or the most scalable solution and the solutions proposed by the people here are far better for \"real world\" scenarios.</p></li>\n<li><p>The CSS code I created is based on the first thoughts that came to my mind and my own personal approach to the problem.</p></li>\n<li><p>My solution only works on symmetrical characters, like X, A, O, M. **It does not work on asymmetric characters like B, C, F, K or lower case letters.</p></li>\n<li><p>** HOWEVER, this approach creates very interesting 'shapes' with asymmetric characters. Try changing the X to a K or to a lower case letter like an <em>h</em> or a <em>p</em> in the CSS :)</p></li>\n</ul>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;span class=\"half-letter\"&gt;&lt;/span&gt;\n</code></pre>\n\n<p><strong>SCSS</strong></p>\n\n<pre><code>.half-character { \n  display: inline-block;\n  font: bold 350px/.8 Arial;\n  position: relative;\n\n  &amp;:before, &amp;:after {\n    content: 'X'; //Change character here\n    display: inline-block;\n    width: 50%;\n    overflow: hidden;\n    color: #7db9e8;\n  }\n  &amp;:after {\n    position: absolute;\n    top: 0;\n    left: 50%;\n    color: #1e5799;\n    transform: rotateY(-180deg);\n  }\n}\n</code></pre>\n", "title": "Is it possible to apply CSS to half of a character?", "answer_id": 23703938, "question_id": 23569441, "tags": ["javascript", "html", "css", "styling"]}, {"body": "<p>If you are interested in this, then Lucas Bebber's Glitch is a very similar and super cool effect:</p>\n\n<p><img src=\"http://i.stack.imgur.com/63fkI.gif\" alt=\"enter image description here\"></p>\n\n<p>Created using a simple SASS Mixin such as</p>\n\n<pre><code>.example-one {\n  font-size: 100px;\n  @include textGlitch(\"example-one\", 17, white, black, red, blue, 450, 115);\n}\n</code></pre>\n\n<p>More details at <a href=\"http://css-tricks.com/glitch-effect-text-images-svg/\">Chris Coyer's CSS Tricks</a> and <a href=\"http://codepen.io/lbebber/pen/ypgql\">Lucas Bebber's Codepen page</a></p>\n", "title": "Is it possible to apply CSS to half of a character?", "answer_id": 26141587, "question_id": 23569441, "tags": ["javascript", "html", "css", "styling"]}, {"body": "<p>This can be achieved with just CSS <code>:before</code> selector and <code>content property value</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.halfed, .halfed1 {\r\n  float: left;\r\n}\r\n\r\n.halfed, .halfed1 {\r\n  font-family: arial;\r\n  font-size: 300px;\r\n  font-weight: bolder;\r\n  width: 200px;\r\n  height: 300px;\r\n  position: relative; /* To help hold the content value within */\r\n  overflow: hidden;\r\n  color: #000;\r\n}\r\n\r\n\r\n\r\n\r\n.halfed:before, .halfed1:before   {\r\n  width: 50%; /* How much we'd like to show */\r\n  overflow: hidden; /* Hide what goes beyond our dimension */  \r\n  content: 'X'; /* Halfed character */\r\n  height: 100%;\r\n  position: absolute;\r\n  color: #28507D;\r\n\r\n}\r\n\r\n\r\n\r\n/* For Horizontal cut off */ \r\n\r\n.halfed1:before   {\r\n  width: 100%;\r\n  height: 55%;\r\n  \r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"halfed\"&gt; X &lt;/div&gt;\r\n\r\n&lt;div class=\"halfed1\"&gt; X &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><a href=\"https://jsfiddle.net/u5c03mjt/\">>> See on jsFiddle</a></p>\n", "title": "Is it possible to apply CSS to half of a character?", "answer_id": 34792308, "question_id": 23569441, "tags": ["javascript", "html", "css", "styling"]}], "question_id": 23569441}, {"body": "<p>I have recently stumbled upon the game <a href=\"http://gabrielecirulli.github.io/2048/\">2048</a>. You merge similar tiles by moving them in any of the four directions to make \"bigger\" tiles. After each move, a new tile appears at random empty position with value of either <code>2</code> or <code>4</code>. The game terminates when all the boxes are filled and there are no moves that can merge tiles, or you create a tile with a value of <code>2048</code>.</p>\n\n<p>One, I need to follow a well-defined strategy to reach the goal. So, I thought of writing a program for it.</p>\n\n<p>My current algorithm:</p>\n\n<pre><code>while (!game_over) {\n    for each possible move:\n        count_no_of_merges_for_2-tiles and 4-tiles\n    choose the move with large number of merges\n}\n</code></pre>\n\n<p>What I am doing is at any point, I will try to merge the tiles with values <code>2</code> and <code>4</code>, that is, I try to have <code>2</code> and <code>4</code> tiles, as minimum as possible. If I try it this way, all other tiles were automatically getting merged and the strategy seems good.</p>\n\n<p>But, when I actually use this algorithm, I only get around 4000 points before the game terminates. Maximum points AFAIK is slightly more than 20,000 points which is way larger than my current score. Is there a better algorithm than the above?</p>\n", "title": "What is the optimal algorithm for the game 2048?", "tags": ["algorithm", "logic", "artificial-intelligence"], "answer_count": 13, "link": "http://stackoverflow.com/questions/22342854/what-is-the-optimal-algorithm-for-the-game-2048", "answers": [{"body": "<p><strong>EDIT:</strong> This is a naive algorithm, modelling human conscious thought process, and gets very weak results compared to AI that search all possibilities since it only looks one tile ahead. It was submitted early in the response timeline.</p>\n\n<p>I have refined the algorithm and beaten the game! It may fail due to simple bad luck close to the end (you are forced to move down, which you should never do, and a tile appears where your highest should be. Just try to keep the top row filled, so moving left does not break the pattern), but basically you end up having a fixed part and a mobile part to play with. This is your objective:</p>\n\n<p><img src=\"http://i.stack.imgur.com/ZBprh.png\" alt=\"Ready to finish\"></p>\n\n<p>This is the model I chose by default.</p>\n\n<pre><code>1024 512 256 128\n  8   16  32  64\n  4   2   x   x\n  x   x   x   x\n</code></pre>\n\n<p>The chosen corner is arbitrary, you basically never press one key (the forbidden move), and if you do, you press the contrary again and try to fix it. For future tiles the model always expects the next random tile to be a 2 and appear on the opposite side to the current model (while the first row is incomplete, on the bottom right corner, once the first row is completed, on the bottom left corner).</p>\n\n<p>Here goes the algorithm. Around 80% wins (it seems it is always possible to win with more \"professional\" AI techniques, I am not sure about this, though.)</p>\n\n<pre><code>initiateModel();\n\nwhile(!game_over)\n{    \n    checkCornerChosen(); // Unimplemented, but it might be an improvement to change the reference point\n\n    for each 3 possible move:\n        evaluateResult()\n    execute move with best score\n    if no move is available, execute forbidden move and undo, recalculateModel()\n }\n\n evaluateResult() {\n     calculatesBestCurrentModel()\n     calculates distance to chosen model\n     stores result\n }\n\n calculateBestCurrentModel() {\n      (according to the current highest tile acheived and their distribution)\n  }\n</code></pre>\n\n<p>A few pointers on the missing steps. Here: <img src=\"http://i.stack.imgur.com/oe0QJ.png\" alt=\"model change\"></p>\n\n<p>The model has changed due to the luck of being closer to the expected model. The model the AI is trying to achieve is</p>\n\n<pre><code> 512 256 128  x\n  X   X   x   x\n  X   X   x   x\n  x   x   x   x\n</code></pre>\n\n<p>And the chain to get there has become:</p>\n\n<pre><code> 512 256  64  O\n  8   16  32  O\n  4   x   x   x\n  x   x   x   x\n</code></pre>\n\n<p>The <code>O</code> represent forbidden spaces... </p>\n\n<p>So it will press right, then right again, then (right or top depending on where the 4 has created) then will proceed to complete the chain until it gets:</p>\n\n<p><img src=\"http://i.stack.imgur.com/FCQKU.png\" alt=\"Chain completed\"></p>\n\n<p>So now the model and chain are back to:</p>\n\n<pre><code> 512 256 128  64\n  4   8  16   32\n  X   X   x   x\n  x   x   x   x\n</code></pre>\n\n<p>Second pointer, it has had bad luck and its main spot has been taken. It is likely that it will fail, but it can still achieve it:</p>\n\n<p><img src=\"http://i.stack.imgur.com/ERU2p.png\" alt=\"Enter image description here\"></p>\n\n<p>Here the model and chain is:</p>\n\n<pre><code>  O 1024 512 256\n  O   O   O  128\n  8  16   32  64\n  4   x   x   x\n</code></pre>\n\n<p>When it manages to reach the 128 it gains a whole row is gained again:</p>\n\n<pre><code>  O 1024 512 256\n  x   x  128 128\n  x   x   x   x\n  x   x   x   x\n</code></pre>\n", "title": "What is the optimal algorithm for the game 2048?", "answer_id": 22357256, "question_id": 22342854, "tags": ["algorithm", "logic", "artificial-intelligence"]}, {"body": "<p>I think I found an algorithm which works quite well, as I often reach scores over 10000, my personal best being around 16000. My solution does not aim at keeping biggest numbers in a corner, but to keep it in the top row.             </p>\n\n<p>Please see the code below:</p>\n\n<pre><code>while( !game_over ) {\n    move_direction=up;\n    if( !move_is_possible(up) ) {\n        if( move_is_possible(right) &amp;&amp; move_is_possible(left) ){\n            if( number_of_empty_cells_after_moves(left,up) &gt; number_of_empty_cells_after_moves(right,up) ) \n                move_direction = left;\n            else\n                move_direction = right;\n        } else if ( move_is_possible(left) ){\n            move_direction = left;\n        } else if ( move_is_possible(right) ){\n            move_direction = right;\n        } else {\n            move_direction = down;\n        }\n    }\n    do_move(move_direction);\n}\n</code></pre>\n", "title": "What is the optimal algorithm for the game 2048?", "answer_id": 22361253, "question_id": 22342854, "tags": ["algorithm", "logic", "artificial-intelligence"]}, {"body": "<p><strong>Algorithm</strong></p>\n\n<pre><code>while(!game_over)\n{\n    for each possible move:\n        evaluate next state\n\n    choose the maximum evaluation\n}\n</code></pre>\n\n<p><strong>Evaluation</strong></p>\n\n<pre><code>Evaluation =\n    128 (Constant)\n    + (Number of Spaces x 128)\n    + Sum of faces adjacent to a space { (1/face) x 4096 }\n    + Sum of other faces { log(face) x 4 }\n    + (Number of possible next moves x 256)\n    + (Number of aligned values x 2)\n</code></pre>\n\n<hr>\n\n<p><strong>Evaluation Details</strong></p>\n\n<pre><code>128 (Constant)\n</code></pre>\n\n<p>This is a constant, used as a base-line and for other uses like testing.</p>\n\n<pre><code>+ (Number of Spaces x 128)\n</code></pre>\n\n<p>More spaces makes the state more flexible, we multiply by 128 (which is the median) since a grid filled with 128 faces is an optimal impossible state.</p>\n\n<pre><code>+ Sum of faces adjacent to a space { (1/face) x 4096 }\n</code></pre>\n\n<p>Here we evaluate faces that have the possibility to getting to merge, by evaluating them backwardly, tile 2 become of value 2048, while tile 2048 is evaluated 2.</p>\n\n<pre><code>+ Sum of other faces { log(face) x 4 }\n</code></pre>\n\n<p>In here we still need to check for stacked values, but in a lesser way that doesn't interrupt the flexibility parameters, so we have the sum of { x in [4,44] }.</p>\n\n<pre><code>+ (Number of possible next moves x 256)\n</code></pre>\n\n<p>A state is more flexible if it has more freedom of possible transitions.</p>\n\n<pre><code>+ (Number of aligned values x 2)\n</code></pre>\n\n<p>This is a simplified check of the possibility of having merges within that state, without making a look-ahead.</p>\n\n<p><em>Note: The constants can be tweaked..</em></p>\n", "title": "What is the optimal algorithm for the game 2048?", "answer_id": 22362818, "question_id": 22342854, "tags": ["algorithm", "logic", "artificial-intelligence"]}, {"body": "<p>There is already an AI implementation for this game: <a href=\"https://github.com/ov3y/2048-AI\">here</a>. Excerpt from README:</p>\n\n<blockquote>\n  <p>The algorithm is iterative deepening depth first alpha-beta search. The evaluation function tries to keep the rows and columns monotonic (either all decreasing or increasing) while minimizing the number of tiles on the grid.</p>\n</blockquote>\n\n<p>There is also a discussion on <a href=\"https://news.ycombinator.com/item?id=7379821\">ycombinator</a> about this algorithm that you may find useful.</p>\n", "title": "What is the optimal algorithm for the game 2048?", "answer_id": 22373932, "question_id": 22342854, "tags": ["algorithm", "logic", "artificial-intelligence"]}, {"body": "<p>I'm the author of the AI program that others have mentioned in this thread. You can view the AI in <a href=\"http://ovolve.github.io/2048-AI/\">action</a> or read the <a href=\"https://github.com/ovolve/2048-AI\">source</a>.</p>\n\n<p>Currently, the program achieves about a 90% win rate running in javascript in the browser on my laptop given about 100 milliseconds of thinking time per move, so while not perfect (yet!) it performs pretty well.</p>\n\n<p>Since the game is a discrete state space, perfect information, turn-based game like chess and checkers, I used the same methods that have been proven to work on those games, namely <a href=\"http://www.flyingmachinestudios.com/programming/minimax/\">minimax</a> <a href=\"http://xkcd.com/832/\">search</a> with <a href=\"http://cs.ucla.edu/~rosen/161/notes/alphabeta.html\">alpha-beta pruning</a>. Since there is already a lot of info on that algorithm out there, I'll just talk about the two main heuristics that I use in the <a href=\"http://en.wikipedia.org/wiki/Evaluation_function\">static evaluation function</a> and which formalize many of the intuitions that other people have expressed here.</p>\n\n<h3>Monotonicity</h3>\n\n<p>This heuristic tries to ensure that the values of the tiles are all either increasing or decreasing along both the left/right and up/down directions. This heuristic alone captures the intuition that many others have mentioned, that higher valued tiles should be clustered in a corner. It will typically prevent smaller valued tiles from getting orphaned and will keep the board very organized, with smaller tiles cascading in and filling up into the larger tiles.</p>\n\n<p>Here's a screenshot of a perfectly monotonic grid. I obtained this by running the algorithm with the eval function set to disregard the other heuristics and only consider monotonicity.</p>\n\n<p><img src=\"https://i.stack.imgur.com/Oce4N.png\" alt=\"A perfectly monotonic 2048 board\"></p>\n\n<h3>Smoothness</h3>\n\n<p>The above heuristic alone tends to create structures in which adjacent tiles are decreasing in value, but of course in order to merge, adjacent tiles need to be the same value. Therefore, the smoothness heuristic just measures the value difference between neighboring tiles, trying to minimize this count. </p>\n\n<p>A commenter on Hacker News gave <a href=\"https://news.ycombinator.com/item?id=7381082\">an interesting formalization</a> of this idea in terms of graph theory. </p>\n\n<p>Here's a screenshot of a perfectly smooth grid, courtesy of <a href=\"http://jennypeng.me/2048/\">this excellent parody fork</a>.</p>\n\n<p><img src=\"https://i.stack.imgur.com/wxgDV.png\" alt=\"A perfectly smooth 2048 board\"></p>\n\n<h3>Free Tiles</h3>\n\n<p>And finally, there is a penalty for having too few free tiles, since options can quickly run out when the game board gets too cramped.</p>\n\n<p>And that's it! Searching through the game space while optimizing these criteria yields remarkably good performance. One advantage to using a generalized approach like this rather than an explicitly coded move strategy is that the algorithm can often find interesting and unexpected solutions. If you watch it run, it will often make surprising but effective moves, like suddenly switching which wall or corner it's building up against.</p>\n\n<h2><em>Edit:</em></h2>\n\n<p>Here's a demonstration of the power of this approach. I uncapped the tile values (so it kept going after reaching 2048) and here is the best result after eight trials.</p>\n\n<p><img src=\"https://i.stack.imgur.com/x69jZ.png\" alt=\"4096\"></p>\n\n<p>Yes, that's a 4096 alongside a 2048. =) That means it achieved the elusive 2048 tile three times on the same board. </p>\n", "title": "What is the optimal algorithm for the game 2048?", "answer_id": 22389702, "question_id": 22342854, "tags": ["algorithm", "logic", "artificial-intelligence"]}, {"body": "<p>This algorithm is not optimal for winning the game, but it is fairly optimal in terms of performance and amount of code needed:</p>\n\n<pre><code>  if(can move neither right, up or down)\n    direction = left\n  else\n  {\n    do\n    {\n      direction = random from (right, down, up)\n    }\n    while(can not move in \"direction\")\n  }\n</code></pre>\n", "title": "What is the optimal algorithm for the game 2048?", "answer_id": 22416421, "question_id": 22342854, "tags": ["algorithm", "logic", "artificial-intelligence"]}, {"body": "<p>I developed a 2048 AI using <em>expectimax</em> optimization, instead of the minimax search used by @ovolve's algorithm. The AI simply performs maximization over all possible moves, followed by expectation over all possible tile spawns (weighted by the probability of the tiles, i.e. 10% for a 4 and 90% for a 2). As far as I'm aware, it is not possible to prune expectimax optimization (except to remove branches that are exceedingly unlikely), and so the algorithm used is a carefully optimized brute force search.</p>\n\n<h2>Performance</h2>\n\n<p>The AI in its default configuration (max search depth of 8) takes anywhere from 10ms to 200ms to execute a move, depending on the complexity of the board position. In testing, the AI achieves an average move rate of 5-10 moves per second over the course of an entire game. If the search depth is limited to 6 moves, the AI can easily execute 20+ moves per second, which makes for some <a href=\"https://www.youtube.com/watch?v=96ab_dK6JM0\">interesting watching</a>.</p>\n\n<p>To assess the score performance of the AI, I ran the AI 100 times (connected to the browser game via remote control). For each tile, here are the proportions of games in which that tile was achieved at least once:</p>\n\n<pre><code>2048: 100%\n4096: 100%\n8192: 100%\n16384: 94%\n32768: 36%\n</code></pre>\n\n<p>The minimum score over all runs was 124024; the maximum score achieved was 794076. The median score is 387222. The AI never failed to obtain the 2048 tile (so it never lost the game even once in 100 games); in fact, it achieved the <strong>8192</strong> tile at least once in every run!</p>\n\n<p>Here's the screenshot of the best run:</p>\n\n<p><img src=\"http://i.stack.imgur.com/jG2CL.png\" alt=\"32768 tile, score 794076\"></p>\n\n<p>This game took 27830 moves over 96 minutes, or an average of 4.8 moves per second. </p>\n\n<h2>Implementation</h2>\n\n<p>My approach encodes the entire board (16 entries) as a single 64-bit integer (where tiles are the nybbles, i.e. 4-bit chunks). On a 64-bit machine, this enables the entire board to be passed around in a single machine register.</p>\n\n<p>Bit shift operations are used to extract individual rows and columns. A single row or column is a 16-bit quantity, so a table of size 65536 can encode transformations which operate on a single row or column. For example, moves are implemented as 4 lookups into a precomputed \"move effect table\" which describes how each move affects a single row or column (for example, the \"move right\" table contains the entry \"1122 -> 0023\" describing how the row [2,2,4,4] becomes the row [0,0,4,8] when moved to the right).</p>\n\n<p>Scoring is also done using table lookup. The tables contain heuristic scores computed on all possible rows/columns, and the resultant score for a board is simply the sum of the table values across each row and column.</p>\n\n<p>This board representation, along with the table lookup approach for movement and scoring, allows the AI to search a huge number of game states in a short period of time (over 10,000,000 game states per second on one core of my mid-2011 laptop).</p>\n\n<p>The expectimax search itself is coded as a recursive search which alternates between \"expectation\" steps (testing all possible tile spawn locations and values, and weighting their optimized scores by the probability of each possibility), and \"maximization\" steps (testing all possible moves and selecting the one with the best score). The tree search terminates when it sees a previously-seen position (using a <a href=\"http://en.wikipedia.org/wiki/Transposition_table\">transposition table</a>), when it reaches a predefined depth limit, or when it reaches a board state that is highly unlikely (e.g. it was reached by getting 6 \"4\" tiles in a row from the starting position). The typical search depth is 4-8 moves.</p>\n\n<h2>Heuristics</h2>\n\n<p>Several heuristics are used to direct the optimization algorithm towards favorable positions. The precise choice of heuristic has a huge effect on the performance of the algorithm. The various heuristics are weighted and combined into a positional score, which determines how \"good\" a given board position is. The optimization search will then aim to maximize the average score of all possible board positions. The actual score, as shown by the game, is <em>not</em> used to calculate the board score, since it is too heavily weighted in favor of merging tiles (when delayed merging could produce a large benefit).</p>\n\n<p>Initially, I used two very simple heuristics, granting \"bonuses\" for open squares and for having large values on the edge. These heuristics performed pretty well, frequently achieving 16384 but never getting to 32768.</p>\n\n<p>Petr Mor\u00e1vek (@xificurk) took my AI and added two new heuristics. The first heuristic was a penalty for having non-monotonic rows and columns which increased as the ranks increased, ensuring that  non-monotonic rows of small numbers would not strongly affect the score, but non-monotonic rows of large numbers hurt the score substantially. The second heuristic counted the number of potential merges (adjacent equal values) in addition to open spaces. These two heuristics served to push the algorithm towards monotonic boards (which are easier to merge), and towards board positions with lots of merges (encouraging it to align merges where possible for greater effect).</p>\n\n<p>Furthermore, Petr also optimized the heuristic weights using a \"meta-optimization\" strategy (using an algorithm called <a href=\"https://en.wikipedia.org/wiki/CMA-ES\">CMA-ES</a>), where the weights themselves were adjusted to obtain the highest possible average score.</p>\n\n<p>The effect of these changes are extremely significant. The algorithm went from achieving the 16384 tile around 13% of the time to achieving it over 90% of the time, and the algorithm began to achieve 32768 over 1/3 of the time (whereas the old heuristics never once produced a 32768 tile).</p>\n\n<p>I believe there's still room for improvement on the heuristics. This algorithm definitely isn't yet \"optimal\", but I feel like it's getting pretty close.</p>\n\n<hr>\n\n<p>That the AI achieves the 32768 tile in over a third of its games is a huge milestone; I will be surprised to hear if any human players have achieved 32768 on the official game (i.e. without using tools like savestates or undo). I think the 65536 tile is within reach!</p>\n\n<p>You can try the AI for yourself. The code is available at <a href=\"https://github.com/nneonneo/2048-ai\">https://github.com/nneonneo/2048-ai</a>.</p>\n", "title": "What is the optimal algorithm for the game 2048?", "answer_id": 22498940, "question_id": 22342854, "tags": ["algorithm", "logic", "artificial-intelligence"]}, {"body": "<p>I copy here the content of a <a href=\"http://diaryofatinker.blogspot.it/2014/03/an-artificial-intelligence-for-2048-game.html\">post on my blog</a></p>\n\n<hr>\n\n<p>The solution I propose is very simple and easy to implement. Although, it has reached the score of 131040. Several benchmarks of the algorithm performances are presented.</p>\n\n<p><img src=\"http://i.stack.imgur.com/ahJt2.png\" alt=\"Score\"></p>\n\n<h2><strong>Algorithm</strong></h2>\n\n<p><strong>Heuristic scoring algorithm</strong></p>\n\n<p>The assumption on which my algorithm is based is rather simple: if you want to achieve higher score, the board must be kept as tidy as possible. In particular, the optimal setup is given by a linear and monotonic decreasing order of the tile values.\nThis intuition will give you also the upper bound for a tile value: <img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=2%5E%7Bn%7D%20%5Crightarrow%202%5E%7B16%7D%20%3D%2065536\" alt=\"s\"> where n is the number of tile on the board. </p>\n\n<p>(There's a possibility to reach the 131072 tile if the 4-tile is randomly generated instead of the 2-tile when needed)</p>\n\n<p>Two possible ways of organizing the board are shown in the following images:</p>\n\n<p><img src=\"http://i.stack.imgur.com/pNEFG.png\" alt=\"enter image description here\"></p>\n\n<p>To enforce the ordination of the tiles in a monotonic decreasing order, the score si computed as the sum of the linearized values on the board multiplied by the values of a geometric sequence with common ratio r&lt;1 .</p>\n\n<p><img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=p_n%20%5Cin%20Path_%7B0%20%5Ccdots%20N-1%7D\" alt=\"s\"></p>\n\n<p><img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=score%20%3D%20%5Csum_%7Bn%3D0%7D%5E%7BN-1%7D%20value%28p_n%29%20%2a%20r%5En\" alt=\"s\"></p>\n\n<p>Several linear path could be evaluated at once, the final score will be the maximum score of any path.</p>\n\n<p><strong>Decision rule</strong></p>\n\n<p>The decision rule implemented is not quite smart, the code in Python is presented here:</p>\n\n<pre><code>@staticmethod\ndef nextMove(board,recursion_depth=3):\n    m,s = AI.nextMoveRecur(board,recursion_depth,recursion_depth)\n    return m\n\n@staticmethod\ndef nextMoveRecur(board,depth,maxDepth,base=0.9):\n    bestScore = -1.\n    bestMove = 0\n    for m in range(1,5):\n        if(board.validMove(m)):\n            newBoard = copy.deepcopy(board)\n            newBoard.move(m,add_tile=True)\n\n            score = AI.evaluate(newBoard)\n            if depth != 0:\n                my_m,my_s = AI.nextMoveRecur(newBoard,depth-1,maxDepth)\n                score += my_s*pow(base,maxDepth-depth+1)\n\n            if(score &gt; bestScore):\n                bestMove = m\n                bestScore = score\n    return (bestMove,bestScore);\n</code></pre>\n\n<p>An implementation of the minmax or the Expectiminimax will surely improve the algorithm. Obviously a more\nsophisticated decision rule will slow down the algorithm and it will require some time to be implemented.I will try a minimax implementation in the near future. (stay tuned)</p>\n\n<h2>Benchmark</h2>\n\n<ul>\n<li>T1 - 121 tests - 8 different paths - r=0.125  </li>\n<li>T2 - 122 tests - 8-different paths - r=0.25  </li>\n<li>T3 - 132 tests - 8-different paths - r=0.5 </li>\n<li>T4 - 211 tests - 2-different paths - r=0.125 </li>\n<li>T5 - 274 tests - 2-different paths - r=0.25 </li>\n<li>T6 - 211 tests - 2-different paths - r=0.5</li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/6w4qY.png\" alt=\"enter image description here\">\n<img src=\"http://i.stack.imgur.com/gYbmS.png\" alt=\"enter image description here\">\n<img src=\"http://i.stack.imgur.com/suxOr.png\" alt=\"enter image description here\">\n<img src=\"http://i.stack.imgur.com/KQi8C.png\" alt=\"enter image description here\"></p>\n\n<p>In case of T2, four tests in ten generate the 4096 tile with an average score of <img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=%5Csim%20\" alt=\"s\"> 42000</p>\n\n<h2>Code</h2>\n\n<p>The code can be found on GiHub at the following link: <a href=\"https://github.com/Nicola17/term2048-AI\">https://github.com/Nicola17/term2048-AI</a>\nIt is based on <a href=\"https://github.com/bfontaine/term2048\">term2048</a> and it's written in Python. I will implement a more efficient version in C++ as soon as possible.</p>\n", "title": "What is the optimal algorithm for the game 2048?", "answer_id": 22674149, "question_id": 22342854, "tags": ["algorithm", "logic", "artificial-intelligence"]}, {"body": "<p>I wrote a 2048 solver in Haskell, mainly because I'm learning this language right now.</p>\n\n<p>My implementation of the game slightly differs from the actual game, in that a new tile is always a '2' (rather than 90% 2 and 10% 4). And that the new tile is not random, but always the first available one from the top left.</p>\n\n<p>As a consequence, this solver is deterministic.</p>\n\n<p>I used an exhaustive algorithm that favours empty tiles. It performs pretty quickly for depth 1-4, but on depth 5 it gets rather slow at a around 1 second per move.</p>\n\n<p>Below is the code implementing the solving algorithm. The grid is represented as a 16-length array of Integers. And scoring is done simply by counting the number of empty squares.</p>\n\n<pre><code>bestMove :: Int -&gt; [Int] -&gt; Int\nbestMove depth grid = maxTuple [ (gridValue depth (takeTurn x grid), x) | x &lt;- [0..3], takeTurn x grid /= [] ]\n\ngridValue :: Int -&gt; [Int] -&gt; Int\ngridValue _ [] = -1\ngridValue 0 grid = length $ filter (==0) grid  -- &lt;= SCORING\ngridValue depth grid = maxInList [ gridValue (depth-1) (takeTurn x grid) | x &lt;- [0..3] ]\n</code></pre>\n\n<p>I thinks it's quite successful for its simplicity. The result it reaches when starting with an empty grid and solving at depth 5 is:</p>\n\n<pre><code>Move 4006\n[2,64,16,4]\n[16,4096,128,512]\n[2048,64,1024,16]\n[2,4,16,2]\n\nGame Over\n</code></pre>\n\n<p>Source code can be found here: <a href=\"https://github.com/popovitsj/2048-haskell\">https://github.com/popovitsj/2048-haskell</a></p>\n", "title": "What is the optimal algorithm for the game 2048?", "answer_id": 22851600, "question_id": 22342854, "tags": ["algorithm", "logic", "artificial-intelligence"]}, {"body": "<p>I became interested in the idea of an AI for this game containing <strong>no hard-coded intelligence</strong> (i.e no heuristics, scoring functions etc). The AI should <em>\"know\"</em> only the game rules, and <em>\"figure out\"</em> the game play. This is in contrast to most AIs (like the ones in this thread) where the game play is essentially brute force steered by a scoring function representing human understanding of the game.</p>\n\n<h2>AI Algorithm</h2>\n\n<p>I found a simple yet surprisingly good playing algorithm: To determine the move for a given board, the AI plays the game til the end using <strong>random moves</strong>. This is done many times while keeping track of the end score. Then the average end score <em>per starting move</em> is calculated. The move with the highest score is chosen.</p>\n\n<p>Using just 100 runs per move the AI achieves the 2048 tile 80% of the times and the 4096 tile 50% of the times. Using 10000 runs gets the 2048 tile 100%, 70% for 4096 tile, and about 1% for the 8192 tile.</p>\n\n<p><a href=\"http://ronzil.github.io/2048-AI/\">See it in action</a></p>\n\n<p>The best achieved score is shown here:</p>\n\n<p><img src=\"http://i.stack.imgur.com/zk5Pu.png\" alt=\"best score\"></p>\n\n<p>An interesting fact about this AI is that the random-play games are (unsurprisingly) quite bad, yet choosing the best (or least bad) move leads to very good game play: A typical AI game can reach 70000 points and last 3000 moves, yet the random-play runs yield an average of 340 extra points and only 40 moves before dying. (You can see this for yourself by running the AI and opening the debug console.)</p>\n\n<p>This graph illustrates this point: The blue line shows the board score after each move. The red line shows the AI's best end game score at that point. In essence, the red values are \"pulling\" the blue values upwards towards them, as they are the AI's best guess. Note that the red line is just a tiny bit over the blue line at each point, yet the blue line continues to increase more and more.</p>\n\n<p><img src=\"http://i.stack.imgur.com/gXI6b.png\" alt=\"scoring graph\"></p>\n\n<p>I find this quite surprising, that the AI doesn't need to actually foresee good game play in order to chose the moves that produce it.</p>\n\n<p>Searching later I found this algorithm might be classified as a <a href=\"http://en.wikipedia.org/wiki/Monte-Carlo_tree_search#Pure_Monte_Carlo_game_search\">Pure Monte Carlo Tree Search</a> algorithm.</p>\n\n<h2>Implementation and Links</h2>\n\n<p>First I created a JavaScript version which can be <a href=\"http://ronzil.github.io/2048-AI/\">seen in action here</a>. This version can run 100's of runs in decent time. Open the console for extra info. \n(<a href=\"https://github.com/ronzil/2048-AI\">source</a>)</p>\n\n<p>Later, in order to play around some more I used @nneonneo highly optimized infrastructure and implemented my version in C++. This version allows for up to 100000 runs per move and even 1000000 if you have the patience. Building instructions provided. It runs in the console and also has a remote-control to play the web version.\n(<a href=\"https://github.com/ronzil/2048-ai-cpp\">source</a>)</p>\n\n<h2>Results</h2>\n\n<p>Surprisingly, increasing the number of runs does not drastically improve the game play. There seems to be a limit to this strategy at around 80000 points with the 4096 tile and all the smaller ones, very close to the achieving the 8192 tile. Increasing the number of runs from 100 to 100000 increases the <strong>odds</strong> of getting to around this score limit (from 5% to 40%) but not breaking through it. </p>\n\n<p>Running 10000 runs with a temporary increase to 1000000 near critical positions managed to break this barrier less than 1% of the times achieving a max score of 129892 and a 8192 tile.</p>\n\n<h2>Improvements</h2>\n\n<p>After implementing this algorithm I tried many improvements including using the min or max scores, or a combination of min,max,and avg. I also tried using depth: Instead of trying K runs per move, I tried K moves per move <em>list</em> of a given length (\"up,up,left\" for example) and selecting the first move of the best scoring move list.</p>\n\n<p>Later I implemented a scoring tree that took into account the conditional probability of being able to play a move after a given move list.</p>\n\n<p>However, none of these ideas showed any real advantage over the simple first idea. I left the code for these ideas commented out in the C++ code.</p>\n\n<p>I did add a \"Deep Search\" mechanism that increased the run number temporarily to 1000000 when any of the runs managed to accidentally reach the next highest tile. This offered a time improvement. </p>\n\n<p>I'd be interested to hear if anyone has other improvement ideas that maintain the domain-independence of the AI.</p>\n\n<h2>2048 Variants and Clones</h2>\n\n<p>Just for fun, I've also <a href=\"http://ronzil.github.io/2048AI-AllClones/\">implemented the AI as a bookmarklet</a>, hooking into the game's controls. This allows the AI to work with the original game and <strong>many of its variants</strong>.</p>\n\n<p>This is possible due to domain-independent nature of the AI. Some of the variants are quite distinct, such as the Hexagonal clone.</p>\n", "title": "What is the optimal algorithm for the game 2048?", "answer_id": 23853848, "question_id": 22342854, "tags": ["algorithm", "logic", "artificial-intelligence"]}, {"body": "<p>My attempt uses expectimax like others solutions above, but without bitboards. Nneonneo's solution can check 10millions of moves which is approximately a depth of 4 with 6 tiles left and 4 moves possible (2*6*4)<sup>4</sup>. In my case, this depth takes too long to explore, I adjust the depth of expectimax search according to the number of free tiles left:</p>\n\n<pre><code>depth = free &gt; 7 ? 1 : (free &gt; 4 ? 2 : 3)\n</code></pre>\n\n<p>The scores of the boards are computed with the weighted sum of the square of the number of free tiles and the dot product of the 2D grid with this:</p>\n\n<pre><code>[[10,8,7,6.5],\n [.5,.7,1,3],\n [-.5,-1.5,-1.8,-2],\n [-3.8,-3.7,-3.5,-3]]\n</code></pre>\n\n<p>which forces to organize tiles descendingly in a sort of snake from the top left tile.</p>\n\n<p>Code below or <a href=\"http://jsbin.com/yawewe\">jsbin</a>:\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  \r\nvar n = 4,\r\n\tM = new MatrixTransform(n);\r\n\r\nvar ai = {weights: [1, 1], depth: 1}; // depth=1 by default, but we adjust it on every prediction according to the number of free tiles\r\n\r\nvar snake= [[10,8,7,6.5],\r\n            [.5,.7,1,3],\r\n            [-.5,-1.5,-1.8,-2],\r\n            [-3.8,-3.7,-3.5,-3]]\r\nsnake=snake.map(function(a){return a.map(Math.exp)})\r\n\r\ninitialize(ai)\r\n\r\nfunction run(ai) {\r\n\tvar p;\r\n\twhile ((p = predict(ai)) != null) {\r\n\t\tmove(p, ai);\r\n\t}\r\n\t//console.log(ai.grid , maxValue(ai.grid))\r\n\tai.maxValue = maxValue(ai.grid)\r\n\tconsole.log(ai)\r\n}\r\n\r\nfunction initialize(ai) {\r\n\tai.grid = [];\r\n\tfor (var i = 0; i &lt; n; i++) {\r\n\t\tai.grid[i] = []\r\n\t\tfor (var j = 0; j &lt; n; j++) {\r\n\t\t\tai.grid[i][j] = 0;\r\n\t\t}\r\n\t}\r\n\trand(ai.grid)\r\n\trand(ai.grid)\r\n\tai.steps = 0;\r\n}\r\n\r\nfunction move(p, ai) { //0:up, 1:right, 2:down, 3:left\r\n\tvar newgrid = mv(p, ai.grid);\r\n\tif (!equal(newgrid, ai.grid)) {\r\n\t\t//console.log(stats(newgrid, ai.grid))\r\n\t\tai.grid = newgrid;\r\n\t\ttry {\r\n\t\t\trand(ai.grid)\r\n\t\t\tai.steps++;\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log('no room', e)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction predict(ai) {\r\n\tvar free = freeCells(ai.grid);\r\n\tai.depth = free &gt; 7 ? 1 : (free &gt; 4 ? 2 : 3);\r\n\tvar root = {path: [],prob: 1,grid: ai.grid,children: []};\r\n\tvar x = expandMove(root, ai)\r\n\t//console.log(\"number of leaves\", x)\r\n\t//console.log(\"number of leaves2\", countLeaves(root))\r\n\tif (!root.children.length) return null\r\n\tvar values = root.children.map(expectimax);\r\n\tvar mx = max(values);\r\n\treturn root.children[mx[1]].path[0]\r\n\r\n}\r\n\r\nfunction countLeaves(node) {\r\n\tvar x = 0;\r\n\tif (!node.children.length) return 1;\r\n\tfor (var n of node.children)\r\n\t\tx += countLeaves(n);\r\n\treturn x;\r\n}\r\n\r\nfunction expectimax(node) {\r\n\tif (!node.children.length) {\r\n\t\treturn node.score\r\n\t} else {\r\n\t\tvar values = node.children.map(expectimax);\r\n\t\tif (node.prob) { //we are at a max node\r\n\t\t\treturn Math.max.apply(null, values)\r\n\t\t} else { // we are at a random node\r\n\t\t\tvar avg = 0;\r\n\t\t\tfor (var i = 0; i &lt; values.length; i++)\r\n\t\t\t\tavg += node.children[i].prob * values[i]\r\n\t\t\treturn avg / (values.length / 2)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction expandRandom(node, ai) {\r\n\tvar x = 0;\r\n\tfor (var i = 0; i &lt; node.grid.length; i++)\r\n\t\tfor (var j = 0; j &lt; node.grid.length; j++)\r\n\t\t\tif (!node.grid[i][j]) {\r\n\t\t\t\tvar grid2 = M.copy(node.grid),\r\n\t\t\t\t\tgrid4 = M.copy(node.grid);\r\n\t\t\t\tgrid2[i][j] = 2;\r\n\t\t\t\tgrid4[i][j] = 4;\r\n\t\t\t\tvar child2 = {grid: grid2,prob: .9,path: node.path,children: []};\r\n\t\t\t\tvar child4 = {grid: grid4,prob: .1,path: node.path,children: []}\r\n\t\t\t\tnode.children.push(child2)\r\n\t\t\t\tnode.children.push(child4)\r\n\t\t\t\tx += expandMove(child2, ai)\r\n\t\t\t\tx += expandMove(child4, ai)\r\n\t\t\t}\r\n\treturn x;\r\n}\r\n\r\nfunction expandMove(node, ai) { // node={grid,path,score}\r\n\tvar isLeaf = true,\r\n\t\tx = 0;\r\n\tif (node.path.length &lt; ai.depth) {\r\n\t\tfor (var move of[0, 1, 2, 3]) {\r\n\t\t\tvar grid = mv(move, node.grid);\r\n\t\t\tif (!equal(grid, node.grid)) {\r\n\t\t\t\tisLeaf = false;\r\n\t\t\t\tvar child = {grid: grid,path: node.path.concat([move]),children: []}\r\n\t\t\t\tnode.children.push(child)\r\n\t\t\t\tx += expandRandom(child, ai)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (isLeaf) node.score = dot(ai.weights, stats(node.grid))\r\n\treturn isLeaf ? 1 : x;\r\n}\r\n\r\n\r\n\r\nvar cells = []\r\nvar table = document.querySelector(\"table\");\r\nfor (var i = 0; i &lt; n; i++) {\r\n\tvar tr = document.createElement(\"tr\");\r\n\tcells[i] = [];\r\n\tfor (var j = 0; j &lt; n; j++) {\r\n\t\tcells[i][j] = document.createElement(\"td\");\r\n\t\ttr.appendChild(cells[i][j])\r\n\t}\r\n\ttable.appendChild(tr);\r\n}\r\n\r\nfunction updateUI(ai) {\r\n\tcells.forEach(function(a, i) {\r\n\t\ta.forEach(function(el, j) {\r\n\t\t\tel.innerHTML = ai.grid[i][j] || ''\r\n\t\t})\r\n\t});\r\n}\r\nupdateUI(ai)\r\n\r\nfunction runAI() {\r\n\tvar p = predict(ai);\r\n\tif (p != null &amp;&amp; ai.running) {\r\n\t\tmove(p, ai)\r\n\t\tupdateUI(ai)\r\n\t\trequestAnimationFrame(runAI)\r\n\t}\r\n}\r\nrunai.onclick = function() {\r\n\tif (!ai.running) {\r\n\t\tthis.innerHTML = 'stop AI';\r\n\t\tai.running = true;\r\n\t\trunAI();\r\n\t} else {\r\n\t\tthis.innerHTML = 'run AI';\r\n\t\tai.running = false;\r\n\t}\r\n}\r\n\r\n\r\nhint.onclick = function() {\r\n\thintvalue.innerHTML = ['up', 'right', 'down', 'left'][predict(ai)]\r\n}\r\ndocument.addEventListener(\"keydown\", function(event) {\r\n\tif (event.which in map) {\r\n\t\tmove(map[event.which], ai)\r\n\t\tconsole.log(stats(ai.grid))\r\n\t\tupdateUI(ai)\r\n\t}\r\n})\r\nvar map = {\r\n\t38: 0, // Up\r\n\t39: 1, // Right\r\n\t40: 2, // Down\r\n\t37: 3, // Left\r\n};\r\ninit.onclick = function() {\r\n\tinitialize(ai);\r\n\tupdateUI(ai)\r\n}\r\n\r\n\r\nfunction stats(grid, previousGrid) {\r\n\r\n\tvar free = freeCells(grid);\r\n\r\n\tvar c = dot2(grid, snake);\r\n\r\n\treturn [c, free * free];\r\n}\r\n\r\nfunction dist2(a, b) { //squared 2D distance\r\n\treturn Math.pow(a[0] - b[0], 2) + Math.pow(a[1] - b[1], 2)\r\n}\r\n\r\nfunction dot(a, b) {\r\n\tvar r = 0;\r\n\tfor (var i = 0; i &lt; a.length; i++)\r\n\t\tr += a[i] * b[i];\r\n\treturn r\r\n}\r\n\r\nfunction dot2(a, b) {\r\n\tvar r = 0;\r\n\tfor (var i = 0; i &lt; a.length; i++)\r\n\t\tfor (var j = 0; j &lt; a[0].length; j++)\r\n\t\t\tr += a[i][j] * b[i][j]\r\n\treturn r;\r\n}\r\n\r\nfunction product(a) {\r\n\treturn a.reduce(function(v, x) {\r\n\t\treturn v * x\r\n\t}, 1)\r\n}\r\n\r\nfunction maxValue(grid) {\r\n\treturn Math.max.apply(null, grid.map(function(a) {\r\n\t\treturn Math.max.apply(null, a)\r\n\t}));\r\n}\r\n\r\nfunction freeCells(grid) {\r\n\treturn grid.reduce(function(v, a) {\r\n\t\treturn v + a.reduce(function(t, x) {\r\n\t\t\treturn t + (x == 0)\r\n\t\t}, 0)\r\n\t}, 0)\r\n}\r\n\r\nfunction max(arr) { // return [value, index] of the max\r\n\tvar m = [-Infinity, null];\r\n\tfor (var i = 0; i &lt; arr.length; i++) {\r\n\t\tif (arr[i] &gt; m[0]) m = [arr[i], i];\r\n\t}\r\n\treturn m\r\n}\r\n\r\nfunction min(arr) { // return [value, index] of the min\r\n\tvar m = [Infinity, null];\r\n\tfor (var i = 0; i &lt; arr.length; i++) {\r\n\t\tif (arr[i] &lt; m[0]) m = [arr[i], i];\r\n\t}\r\n\treturn m\r\n}\r\n\r\nfunction maxScore(nodes) {\r\n\tvar min = {\r\n\t\tscore: -Infinity,\r\n\t\tpath: []\r\n\t};\r\n\tfor (var node of nodes) {\r\n\t\tif (node.score &gt; min.score) min = node;\r\n\t}\r\n\treturn min;\r\n}\r\n\r\n\r\nfunction mv(k, grid) {\r\n\tvar tgrid = M.itransform(k, grid);\r\n\tfor (var i = 0; i &lt; tgrid.length; i++) {\r\n\t\tvar a = tgrid[i];\r\n\t\tfor (var j = 0, jj = 0; j &lt; a.length; j++)\r\n\t\t\tif (a[j]) a[jj++] = (j &lt; a.length - 1 &amp;&amp; a[j] == a[j + 1]) ? 2 * a[j++] : a[j]\r\n\t\tfor (; jj &lt; a.length; jj++)\r\n\t\t\ta[jj] = 0;\r\n\t}\r\n\treturn M.transform(k, tgrid);\r\n}\r\n\r\nfunction rand(grid) {\r\n\tvar r = Math.floor(Math.random() * freeCells(grid)),\r\n\t\t_r = 0;\r\n\tfor (var i = 0; i &lt; grid.length; i++) {\r\n\t\tfor (var j = 0; j &lt; grid.length; j++) {\r\n\t\t\tif (!grid[i][j]) {\r\n\t\t\t\tif (_r == r) {\r\n\t\t\t\t\tgrid[i][j] = Math.random() &lt; .9 ? 2 : 4\r\n\t\t\t\t}\r\n\t\t\t\t_r++;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction equal(grid1, grid2) {\r\n\tfor (var i = 0; i &lt; grid1.length; i++)\r\n\t\tfor (var j = 0; j &lt; grid1.length; j++)\r\n\t\t\tif (grid1[i][j] != grid2[i][j]) return false;\r\n\treturn true;\r\n}\r\n\r\nfunction conv44valid(a, b) {\r\n\tvar r = 0;\r\n\tfor (var i = 0; i &lt; 4; i++)\r\n\t\tfor (var j = 0; j &lt; 4; j++)\r\n\t\t\tr += a[i][j] * b[3 - i][3 - j]\r\n\treturn r\r\n}\r\n\r\nfunction MatrixTransform(n) {\r\n\tvar g = [],\r\n\t\tig = [];\r\n\tfor (var i = 0; i &lt; n; i++) {\r\n\t\tg[i] = [];\r\n\t\tig[i] = [];\r\n\t\tfor (var j = 0; j &lt; n; j++) {\r\n\t\t\tg[i][j] = [[j, i],[i, n-1-j],[j, n-1-i],[i, j]]; // transformation matrix in the 4 directions g[i][j] = [up, right, down, left]\r\n\t\t\tig[i][j] = [[j, i],[i, n-1-j],[n-1-j, i],[i, j]]; // the inverse tranformations\r\n\t\t}\r\n\t}\r\n\tthis.transform = function(k, grid) {\r\n\t\treturn this.transformer(k, grid, g)\r\n\t}\r\n\tthis.itransform = function(k, grid) { // inverse transform\r\n\t\treturn this.transformer(k, grid, ig)\r\n\t}\r\n\tthis.transformer = function(k, grid, mat) {\r\n\t\tvar newgrid = [];\r\n\t\tfor (var i = 0; i &lt; grid.length; i++) {\r\n\t\t\tnewgrid[i] = [];\r\n\t\t\tfor (var j = 0; j &lt; grid.length; j++)\r\n\t\t\t\tnewgrid[i][j] = grid[mat[i][j][k][0]][mat[i][j][k][1]];\r\n\t\t}\r\n\t\treturn newgrid;\r\n\t}\r\n\tthis.copy = function(grid) {\r\n\t\treturn this.transform(3, grid)\r\n\t}\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n\ttext-align: center\r\n}\r\ntable, th, td {\r\n    border: 1px solid black;\r\n    margin: 5px auto;\r\n}\r\ntd {\r\n    width: 35px;\r\n    height: 35px;\r\n    text-align: center;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;table&gt;&lt;/table&gt;\r\n&lt;button id=init&gt;init&lt;/button&gt;&lt;button id=runai&gt;run AI&lt;/button&gt;&lt;button id=hint&gt;hint&lt;/button&gt;&lt;span id=hintvalue&gt;&lt;/span&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "What is the optimal algorithm for the game 2048?", "answer_id": 28824788, "question_id": 22342854, "tags": ["algorithm", "logic", "artificial-intelligence"]}, {"body": "<p>Many of the other answers use AI with computationally expensive searching of possible futures, or are a sort of artificial mind that can learn, and the such, these are very impressive and probably the correct way forward, but I wish to contribute another idea.</p>\n\n<p>Model the sort of strategy that good players of the game use.</p>\n\n<p>For example:</p>\n\n<pre><code>13 14 15 16\n12 11 10  9\n 5  6  7  8\n 4  3  2  1\n</code></pre>\n\n<p>Read the squares in the order shown above until the next squares value is greater the current one, then try to merge another tile of the same value into this square.</p>\n\n<p>To resolve this problem their are 2 ways to move that arn't left or worse up and examining both possibilities may emmidatly reveal more problems, this forms a list of dependancies, each problem requiring another problem to be solved first. I think I have this chain or sometimes tree of dependancies Internally when deciding my next move, particularly when stuck.</p>\n\n<p>Tile needs merging with neighbour but is too small: Merge another neighbour with this one.</p>\n\n<p>Larger tile in the way: Increase the value of a smaller surrounding tile.</p>\n\n<p>etc...</p>\n\n<p>The whole aproach will likely be complicated than this, and even as I write it seems to contain too much hidden issues behind implementing every part of the strategy, but could perhaps be this mechanical in feel, without scores, weights, neurones and deep searches of possibilities.</p>\n", "title": "What is the optimal algorithm for the game 2048?", "answer_id": 31922473, "question_id": 22342854, "tags": ["algorithm", "logic", "artificial-intelligence"]}, {"body": "<p>I am a co-author of a 2048 controller that scores better than any other program mentioned in this thread. It is available on <a href=\"https://github.com/aszczepanski/2048\" rel=\"nofollow\">github</a> and it is described in the <a href=\"http://arxiv.org/abs/1604.05085\" rel=\"nofollow\">paper</a>.</p>\n\n<p>It uses expectimax search with a state evaluation function learned from scratch (without human 2048 expertise) by a variant of <strong>temporal difference learning</strong> (a reinforcement learning technique). The state-value  function uses an <strong>n-tuple network</strong>, which is basically a weighted linear function of patterns observed on the board. It involved more than <strong>1 billion weights</strong>, in total.</p>\n\n<h2>Performance</h2>\n\n<p>At 1 moves/s: <strong>609104</strong> (100 games average)</p>\n\n<p>At 10 moves/s: <strong>589355</strong> (300 games average)</p>\n\n<p>At 3-ply (ca. 1500 moves/s): <strong>511759</strong> (1000 games average)</p>\n\n<p>The tile statistics for 10 moves/s are as follows:</p>\n\n<pre><code>2048: 100%\n4096: 100%\n8192: 100%\n16384: 97%\n32768: 64%\n32768,16384,8192,4096: 10%\n</code></pre>\n\n<p>(The last line means having the given tiles at the same time on the board).</p>\n\n<p>For 3-ply:</p>\n\n<pre><code>2048: 100%\n4096: 100%\n8192: 100%\n16384: 96%\n32768: 54%\n32768,16384,8192,4096: 8%\n</code></pre>\n\n<p>However, I have never observed it obtaining the 65536 tile.</p>\n", "title": "What is the optimal algorithm for the game 2048?", "answer_id": 34393913, "question_id": 22342854, "tags": ["algorithm", "logic", "artificial-intelligence"]}], "question_id": 22342854}, {"body": "<p>So apparently because of the recent scams, the developer tools is exploited by people to post spam and even used to \"hack\" accounts. Facebook has blocked the developer tools, and I can't even use the console.</p>\n\n<p><img src=\"http://i.stack.imgur.com/Wiatp.png\" alt=\"Enter image description here\"></p>\n\n<p>How did they do that?? <a href=\"http://stackoverflow.com/questions/7559409/disable-developer-tools\">One Stack Overflow post claimed that it is not possible</a>, but Facebook has proven them wrong.</p>\n\n<p>Just go to Facebook and open up the developer tools, type one character into the console, and this warning pops up. No matter what you put in, it will not get executed.</p>\n\n<p>How is this possible?</p>\n\n<p>They even blocked auto-complete in the console:</p>\n\n<p><img src=\"http://i.stack.imgur.com/j0Zmx.png\" alt=\"Enter image description here\"></p>\n", "title": "How does Facebook disable the browser&#39;s integrated Developer Tools?", "tags": ["javascript", "facebook", "google-chrome-devtools"], "answer_count": 7, "link": "http://stackoverflow.com/questions/21692646/how-does-facebook-disable-the-browsers-integrated-developer-tools", "answers": [{"body": "<p>It works fine for me in Chrome - but Facebook do seem to be trying to disable the JavaScript console to prevent a recent scam.</p>\n\n<p>Edit: As per my comment - something like <a href=\"http://kspace.in/blog/2013/02/22/disable-javascript-execution-from-console/\" rel=\"nofollow\">this</a> could prevent JavaScript execution from the console.</p>\n", "title": "How does Facebook disable the browser&#39;s integrated Developer Tools?", "answer_id": 21692733, "question_id": 21692646, "tags": ["javascript", "facebook", "google-chrome-devtools"]}, {"body": "<p>I couldn't get it to trigger that on any page. A more robust version of this would do it:</p>\n\n<pre><code>window.console.log = function(){\n    console.error('The developer console is temp...');\n    window.console.log = function() {\n        return false;\n    }\n}\n\nconsole.log('test');\n</code></pre>\n\n<p>To style the output: <a href=\"http://stackoverflow.com/a/13017382/3189029\">Colors in JavaScript console</a></p>\n\n<p><strong>Edit</strong> Thinking <a href=\"http://stackoverflow.com/a/21692733/282110\">@joeldixon66</a> has the right idea: <a href=\"http://kspace.in/blog/2013/02/22/disable-javascript-execution-from-console/\">Disable JavaScript execution from console &laquo;  ::: KSpace :::</a></p>\n", "title": "How does Facebook disable the browser&#39;s integrated Developer Tools?", "answer_id": 21692858, "question_id": 21692646, "tags": ["javascript", "facebook", "google-chrome-devtools"]}, {"body": "<p>I'm a security engineer at Facebook and this is my fault. We're testing this for some users to see if it can slow down some attacks where users are tricked into pasting (malicious) JavaScript code into the browser console.</p>\n\n<p>Just to be clear: trying to block hackers client-side is a <a href=\"http://stackoverflow.com/questions/7559409/disable-developer-tools\">bad idea</a> in general;\nthis is to protect against a <a href=\"https://www.facebook.com/photo.php?v=956977232793\">specific social engineering attack</a>.</p>\n\n<p>If you ended up in the test group and are annoyed by this, sorry.\nI tried to make the old opt-out page (now <a href=\"https://www.facebook.com/selfxss\">help page</a>)  as simple as possible while still being scary enough to stop at least <em>some</em> of the victims.</p>\n\n<p>The actual code is pretty similar to <a href=\"http://stackoverflow.com/a/21692733\">@joeldixon66's link</a>; ours is a little more complicated for no good reason.</p>\n\n<p>Chrome wraps all console code in</p>\n\n<pre><code>with ((console &amp;&amp; console._commandLineAPI) || {}) {\n  &lt;code goes here&gt;\n}\n</code></pre>\n\n<p>... so the site redefines <code>console._commandLineAPI</code> to throw:</p>\n\n<pre><code>Object.defineProperty(console, '_commandLineAPI',\n   { get : function() { throw 'Nooo!' } })\n</code></pre>\n\n<p>This is <a href=\"http://escape.alf.nu/20\">not quite enough (try it!)</a>, but that's the\nmain trick.</p>\n\n<hr>\n\n<p>Epilogue: The Chrome team decided that defeating the console from user-side JS was a bug and <a href=\"https://code.google.com/p/chromium/issues/detail?id=349993\">fixed the issue</a>, rendering this technique invalid. Afterwards, additional protection was added to <a href=\"https://code.google.com/p/chromium/issues/detail?id=345205#c21\">protect users from self-xss</a>. </p>\n", "title": "How does Facebook disable the browser&#39;s integrated Developer Tools?", "answer_id": 21693931, "question_id": 21692646, "tags": ["javascript", "facebook", "google-chrome-devtools"]}, {"body": "<p>I located the Facebook's console buster script using Chrome developer tools. Here is the script with minor changes for readability. I have removed the bits that I could not understand:</p>\n\n<pre><code>Object.defineProperty(window, \"console\", {\n    value: console,\n    writable: false,\n    configurable: false\n});\n\nvar i = 0;\nfunction showWarningAndThrow() {\n    if (!i) {\n        setTimeout(function () {\n            console.log(\"%cWarning message\", \"font: 2em sans-serif; color: yellow; background-color: red;\");\n        }, 1);\n        i = 1;\n    }\n    throw \"Console is disabled\";\n}\n\nvar l, n = {\n        set: function (o) {\n            l = o;\n        },\n        get: function () {\n            showWarningAndThrow();\n            return l;\n        }\n    };\nObject.defineProperty(console, \"_commandLineAPI\", n);\nObject.defineProperty(console, \"__commandLineAPI\", n);\n</code></pre>\n\n<p>With this, the console auto-complete fails silently while statements typed in console will fail to execute (the exception will be logged).</p>\n\n<p>References:</p>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty\">Object.defineProperty</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor\">Object.getOwnPropertyDescriptor</a></li>\n<li><a href=\"https://developers.google.com/chrome-developer-tools/docs/console-api#consolelogobject_object\">Chrome's console.log function (for tips on formatting output)</a></li>\n</ul>\n", "title": "How does Facebook disable the browser&#39;s integrated Developer Tools?", "answer_id": 21795086, "question_id": 21692646, "tags": ["javascript", "facebook", "google-chrome-devtools"]}, {"body": "<p>Besides redefining <code>console._commandLineAPI</code>,\nthere are some other ways to break into InjectedScriptHost on webkit browsers, to prevent or alter the evaluation of expressions entered into the developers console.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Chrome has fixed this in a past release. <em>- which must have been before February 2015, as i created the gist at that time</em>  </p>\n\n<p>So here's another possibilty. This time we hook in, a level above, directly into <code>InjectedScript</code> rather than <code>InjectedScriptHost</code> as opposed to the prior version. </p>\n\n<p>Which is kind of nice, as you can directly monkey patch <code>InjectedScript._evaluateAndWrap</code> instead of having to rely on <code>InjectedScriptHost.evaluate</code> as that gives you more finegrained control about what should happen. </p>\n\n<p>Another pretty intersting thing is, that we can intercept the internal result when an expression is evaluated and <em>return that</em> to the user instead of the normal behaviour. </p>\n\n<p>Here is the code, that does exactly that, return the internal result when a user evaluates something in the console.</p>\n\n<pre><code>var is;\nObject.defineProperty(Object.prototype,\"_lastResult\",{\n   get:function(){\n       return this._lR;\n   },\n   set:function(v){\n       if (typeof this._commandLineAPIImpl==\"object\") is=this;\n       this._lR=v;\n   }\n});\nsetTimeout(function(){\n   var ev=is._evaluateAndWrap;\n   is._evaluateAndWrap=function(){\n       var res=ev.apply(is,arguments);\n       console.log();\n       if (arguments[2]===\"completion\") {\n           //This is the path you end up when a user types in the console and autocompletion get's evaluated\n\n           //Chrome expects a wrapped result to be returned from evaluateAndWrap.\n           //You can use `ev` to generate an object yourself.\n           //In case of the autocompletion chrome exptects an wrapped object with the properties that can be autocompleted. e.g.;\n           //{iGetAutoCompleted: true}\n           //You would then go and return that object wrapped, like\n           //return ev.call (is, '', '({test:true})', 'completion', true, false, true);\n           //Would make `test` pop up for every autocompletion.\n           //Note that syntax as well as every Object.prototype property get's added to that list later,\n           //so you won't be able to exclude things like `while` from the autocompletion list,\n           //unless you wou'd find a way to rewrite the getCompletions function.\n           //\n           return res; //Return the autocompletion result. If you want to break that, return nothing or an empty object\n       } else {\n           //This is the path where you end up when a user actually presses enter to evaluate an expression.\n           //In order to return anything as normal evaluation output, you have to return a wrapped object.\n\n           //In this case, we want to return the generated remote object. \n           //Since this is already a wrapped object it would be converted if we directly return it. Hence,\n           //`return result` would actually replicate the very normal behaviour as the result is converted.\n           //to output what's actually in the remote object, we have to stringify it and `evaluateAndWrap` that object again.`\n           //This is quite interesting;\n           return ev.call (is, null, '(' + JSON.stringify (res) + ')', \"console\", true, false, true)\n       }\n   };\n},0);\n</code></pre>\n\n<p><em>It's a bit verbose, but i thought i put some comments into it</em></p>\n\n<p>So normally, if a user for example evaluates <code>[1,2,3,4]</code> you'd expect the following output:</p>\n\n<p><a href=\"http://i.stack.imgur.com/FLAnR.png\"><img src=\"http://i.stack.imgur.com/FLAnR.png\" alt=\"enter image description here\"></a> </p>\n\n<p>After monkeypatching <code>InjectedScript._evaluateAndWrap</code> evaluating the very same expression, gives the following output: </p>\n\n<p><a href=\"http://i.stack.imgur.com/1fOfj.png\"><img src=\"http://i.stack.imgur.com/1fOfj.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you see the little left arrow, indicating output, is still there, but this time we get an object. Where the result of the expression, the array <code>[1,2,3,4]</code> is represented as an object with all its properties described.</p>\n\n<p>I recommend trying to evaluate this and that expression, including those that generate errors. It's quite interesting. </p>\n\n<p>Additionally, take a look at the <code>is</code> <em>- <code>InjectedScriptHost</code> -</em> object. It provides some methods to play with and get a bit of insight at the internals of the inspector. </p>\n\n<p>Of course you could intercept all that information and still return the original result to the user. </p>\n\n<p>Just replace the return statement in the else path by a <code>console.log (res)</code> following a <code>return res</code>. Then you'd end up with the following. </p>\n\n<p><a href=\"http://i.stack.imgur.com/4X4Ep.png\"><img src=\"http://i.stack.imgur.com/4X4Ep.png\" alt=\"enter image description here\"></a> </p>\n\n<p><em>End of Edit</em>  </p>\n\n<hr>\n\n<p>This is the prior version which was fixed by google. Henve not a possible way anymore.</p>\n\n<p><s>One of it is hooking into <code>Function.prototype.call</code></p>\n\n<p>Chrome evaluates the entered expression by <code>call</code>ing its eval function with <code>InjectedScriptHost</code> as <code>thisArg</code></s></p>\n\n<p><code>var result = evalFunction.call(object, expression);</code></p>\n\n<p>Given this, you can listen for the <code>thisArg</code> of <code>call</code> being <code>evaluate</code> and get a reference to the first argument (<code>InjectedScriptHost</code>)</p>\n\n<pre><code>if (window.URL) {\n    var ish, _call = Function.prototype.call;\n    Function.prototype.call = function () { //Could be wrapped in a setter for _commandLineAPI, to redefine only when the user started typing.\n        if (arguments.length &gt; 0 &amp;&amp; this.name === \"evaluate\" &amp;&amp; arguments [0].constructor.name === \"InjectedScriptHost\") { //If thisArg is the evaluate function and the arg0 is the ISH\n            ish = arguments[0];\n            ish.evaluate = function (e) { //Redefine the evaluation behaviour\n                throw new Error ('Rejected evaluation of: \\n\\'' + e.split ('\\n').slice(1,-1).join (\"\\n\") + '\\'');\n            };\n            Function.prototype.call = _call; //Reset the Function.prototype.call\n            return _call.apply(this, arguments);  \n        }\n    };\n}\n</code></pre>\n\n<p>You could e.g. throw an error, that the evaluation was rejected.</p>\n\n<p><img src=\"http://i.imgur.com/YYDovbt.png\" alt=\"enter image description here\"></p>\n\n<p><sub>\nHere is an <a href=\"http://jsfiddle.net/Glutamat/jW7jp/show\">example</a> where the entered expression gets passed to a CoffeScript compiler before passing it to the <code>evaluate</code> function.</p>\n\n<p></sub></p>\n", "title": "How does Facebook disable the browser&#39;s integrated Developer Tools?", "answer_id": 21883967, "question_id": 21692646, "tags": ["javascript", "facebook", "google-chrome-devtools"]}, {"body": "<p>Netflix also implements this feature</p>\n\n<pre><code>(function() {\n    try {\n        var $_console$$ = console;\n        Object.defineProperty(window, \"console\", {\n            get: function() {\n                if ($_console$$._commandLineAPI)\n                    throw \"Sorry, for security reasons, the script console is deactivated on netflix.com\";\n                return $_console$$\n            },\n            set: function($val$$) {\n                $_console$$ = $val$$\n            }\n        })\n    } catch ($ignore$$) {\n    }\n})();\n</code></pre>\n\n<p>They just override <code>console._commandLineAPI</code> to throw security error.</p>\n", "title": "How does Facebook disable the browser&#39;s integrated Developer Tools?", "answer_id": 22216648, "question_id": 21692646, "tags": ["javascript", "facebook", "google-chrome-devtools"]}, {"body": "<p>This is actually possible since Facebook was able to do it.\nWell, not the actual web developer tools but the execution of Javascript in console.</p>\n\n<p>See this: <a href=\"http://stackoverflow.com/questions/21692646/\">How does Facebook disable the browser&#39;s integrated Developer Tools?</a></p>\n\n<p>This really wont do much though since there are other ways to bypass this type of client-side security.</p>\n\n<p>When you say it is client-side, it happens outside the control of the server, so there is not much you can do about it. If you are asking why Facebook still does this, this is not really for security but to protect normal users that do not know javascript from running code (that they don't know how to read) into the console. This is common for sites that promise auto-liker service or other Facebook functionality bots after you do what they ask you to do, where in most cases, they give you a snip of javascript to run in console.</p>\n\n<p>If you don't have as much users as Facebook, then I don't think there's any need to do what Facebook is doing.</p>\n\n<p>Even if you disable Javascript in console, running javascript via address bar is still possible.</p>\n\n<p><a href=\"http://i.stack.imgur.com/pCtTk.png\"><img src=\"http://i.stack.imgur.com/pCtTk.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"http://i.stack.imgur.com/QxDLs.png\"><img src=\"http://i.stack.imgur.com/QxDLs.png\" alt=\"enter image description here\"></a></p>\n\n<p>and if the browser disables javascript at address bar, (When you paste code to the address bar in Google Chrome, it deletes the phrase 'javascript:') pasting javascript into one of the links via inspect element is still possible.</p>\n\n<p>Inspect the anchor:</p>\n\n<p><a href=\"http://i.stack.imgur.com/VHXyy.png\"><img src=\"http://i.stack.imgur.com/VHXyy.png\" alt=\"enter image description here\"></a></p>\n\n<p>Paste code in href:</p>\n\n<p><a href=\"http://i.stack.imgur.com/hwmKo.png\"><img src=\"http://i.stack.imgur.com/hwmKo.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"http://i.stack.imgur.com/UTUFH.png\"><img src=\"http://i.stack.imgur.com/UTUFH.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"http://i.stack.imgur.com/kwLjP.png\"><img src=\"http://i.stack.imgur.com/kwLjP.png\" alt=\"enter image description here\"></a></p>\n\n<p>Bottom line is server-side validation and security should be first, then do client-side after.</p>\n", "title": "How does Facebook disable the browser&#39;s integrated Developer Tools?", "answer_id": 33534889, "question_id": 21692646, "tags": ["javascript", "facebook", "google-chrome-devtools"]}], "question_id": 21692646}, {"body": "<p>After I upgraded to latest stable <code>node</code> and <code>npm</code>, I tried <code>npm install moment --save</code>. It saves the entry in the package.json with the <code>caret(^)</code> prefix. Previously, it was a <code>tilde(~)</code> prefix. </p>\n\n<ol>\n<li>Why are these changes made in npm? </li>\n<li>What is the difference between tilde(~) and caret(^)?</li>\n<li>What is the advantages over others?</li>\n</ol>\n", "title": "Difference between tilde(~) and caret(^) in package.json", "tags": ["javascript", "node.js", "npm"], "answer_count": 8, "link": "http://stackoverflow.com/questions/22343224/difference-between-tilde-and-caret-in-package-json", "answers": [{"body": "<blockquote>\n  <p>In the simplest terms, the tilde matches the most recent minor version\n  (the middle number). ~1.2.3 will match all 1.2.x versions but will\n  miss 1.3.0.</p>\n  \n  <p>The caret, on the other hand, is more relaxed. It will update you to\n  the most recent major version (the first number). ^1.2.3 will match\n  any 1.x.x release including 1.3.0, but will hold off on 2.0.0.</p>\n</blockquote>\n\n<p><a href=\"http://fredkschott.com/post/2014/02/npm-no-longer-defaults-to-tildes/\">http://fredkschott.com/post/2014/02/npm-no-longer-defaults-to-tildes/</a></p>\n", "title": "Difference between tilde(~) and caret(^) in package.json", "answer_id": 22345808, "question_id": 22343224, "tags": ["javascript", "node.js", "npm"]}, {"body": "<p><code>~</code> fixes major and minor numbers. It is used when you're ready to accept bug-fixes in your dependency, but don't want any potentially incompatible changes.</p>\n\n<p><code>^</code> fixes the major number only. It is used when you're closely watching your dependencies and are ready to quickly change your code if minor release will be incompatible.</p>\n\n<p>In addition to that, <code>^</code> is <a href=\"https://stackoverflow.com/questions/22270244/install-grunt-phonegap-error-no-compatible-version-found-urijs1-12-0#comment33861904_22270244\">not supported</a> by old npm versions, and should be used with caution.</p>\n\n<p>So, <code>^</code> is a good default, but it's not perfect. I suggest to carefully pick and configure the semver operator that is most useful to you.</p>\n", "title": "Difference between tilde(~) and caret(^) in package.json", "answer_id": 22365742, "question_id": 22343224, "tags": ["javascript", "node.js", "npm"]}, {"body": "<p><code>~</code> : Reasonably <strong>close</strong> to</p>\n\n<pre><code>   ~1.1.5: 1.1.0 &lt;= accepted &lt; 1.2.0\n</code></pre>\n\n<p><code>^</code>: <strong>Compatible</strong> with</p>\n\n<pre><code>   ^1.1.5: 1.1.5 &lt;= accepted &lt; 2.0.0\n\n   ^0.1.3: 0.1.3 &lt;= accepted &lt; 0.2.0\n\n   ^0.0.4: 0.0.4 &lt;= accepted &lt; 0.1.0\n</code></pre>\n", "title": "Difference between tilde(~) and caret(^) in package.json", "answer_id": 24456372, "question_id": 22343224, "tags": ["javascript", "node.js", "npm"]}, {"body": "<p>I would like to add the official npmjs documentation as well which describes all methods for version specificity including the ones referred to in the question - </p>\n\n<p><a href=\"https://www.npmjs.org/doc/files/package.json.html\">https://www.npmjs.org/doc/files/package.json.html</a></p>\n\n<p><a href=\"https://docs.npmjs.com/misc/semver#x-ranges-12x-1x-12-\">https://docs.npmjs.com/misc/semver#x-ranges-12x-1x-12-</a></p>\n\n<ul>\n<li><code>~version</code> \"Approximately equivalent to version\" See <a href=\"https://docs.npmjs.com/misc/semver#prerelease-identifiers\">npm semver - Tilde Ranges</a> &amp; <a href=\"http://semver.org/\">semver (7)</a></li>\n<li><code>^version</code> \"Compatible with version\" See <a href=\"https://docs.npmjs.com/misc/semver#prerelease-identifiers\">npm semver - Caret Ranges</a> &amp; <a href=\"http://semver.org/\">semver (7)</a></li>\n<li><code>version</code> Must match version exactly</li>\n<li><code>&gt;version</code> Must be greater than version</li>\n<li><code>&gt;=version</code> etc</li>\n<li><code>&lt;version</code></li>\n<li><code>&lt;=version</code></li>\n<li><code>1.2.x</code> 1.2.0, 1.2.1, etc., but not 1.3.0</li>\n<li><code>http://sometarballurl</code> (this may be the URL of a tarball which will be downloaded and installed locally</li>\n<li><code>*</code> Matches any version</li>\n</ul>\n\n<p>The above list is not exhaustive. Other version specifiers include GitHub urls and GitHub user repo's, local paths  and packages with specific npm tags</p>\n", "title": "Difference between tilde(~) and caret(^) in package.json", "answer_id": 25861938, "question_id": 22343224, "tags": ["javascript", "node.js", "npm"]}, {"body": "<p><code>^</code> is 1.[any].[any] (latest minor version)<br/>\n<code>~</code> is 1.2.[any] (latest patch)</p>\n\n<p>A great read is <a href=\"http://blog.npmjs.org/post/98131109725/npm-2-0-0\">this blog post</a> on how semver applies to npm<br/>\nand what they're doing to make it match <a href=\"http://semver.org/spec/v2.0.0.html\">the semver standard</a><br/>\n<a href=\"http://blog.npmjs.org/post/98131109725/npm-2-0-0\">http://blog.npmjs.org/post/98131109725/npm-2-0-0</a></p>\n", "title": "Difference between tilde(~) and caret(^) in package.json", "answer_id": 27490301, "question_id": 22343224, "tags": ["javascript", "node.js", "npm"]}, {"body": "<p>Npm allows installing newer version of a package than the one specified. Using tilde (~) gives you bug fix releases and caret (^) gives you backwards compatible new functionality as well. </p>\n\n<p>The problem is old versions usually don't receive bug fixes that much, so npm uses caret (^) as the default for <code>--save</code>.</p>\n\n<blockquote>\n  <p><img src=\"http://bytearcher.com/articles/semver-explained-why-theres-a-caret-in-my-package-json/promopics/1-table-semver-plain.png\" alt=\"semver table\"></p>\n</blockquote>\n\n<p>According to: <a href=\"http://bytearcher.com/articles/semver-explained-why-theres-a-caret-in-my-package-json/\">\"Semver explained - why there's a caret (^) in my package.json?\"</a>.</p>\n\n<p>Note that the rules apply to versions above 1.0.0 and not every project follows semantic versioning.</p>\n", "title": "Difference between tilde(~) and caret(^) in package.json", "answer_id": 31733623, "question_id": 22343224, "tags": ["javascript", "node.js", "npm"]}, {"body": "<h2>Semver</h2>\n\n<pre><code>&lt;major&gt;.&lt;minor&gt;.&lt;patch&gt;-beta.&lt;beta&gt; == 1.2.3-beta.2\n</code></pre>\n\n<p><strong>^</strong> (caret)</p>\n\n<ul>\n<li>find left-most non-zero - freeze it</li>\n<li>find sublevel (0 if none) - set as starting number</li>\n</ul>\n\n<p><strong>~</strong> (tilde)</p>\n\n<ul>\n<li>find right-most non-zero (0 if none)</li>\n<li>set as starting number</li>\n<li>freeze super levels</li>\n</ul>\n\n<p>&nbsp;</p>\n\n<pre><code>^semver~  // graphically to help you remember\n</code></pre>\n\n<p><em>Avoid numbering from 0, because with ^ as default in npm, your users won't get minor updates or even patches!</em></p>\n\n<p>Missing major, minor, patch or specifying <code>beta</code> without number, is the same as x (any) for the missing level.</p>\n\n<p><em><code>..</code> in the right column is range in my notation: <code>1.2..*.3</code> means <code>1.x.3</code>, where <code>x &gt;= 2</code> and initial patch is <code>3</code>.</em></p>\n\n<p><strong>Allow major-level changes</strong></p>\n\n<pre><code>*                 *\n\"\" (empty string) *\n                  1..*              // Not possible with semver? Maybe 1 - *?\n</code></pre>\n\n<p><strong>Allow minor-level changes</strong></p>\n\n<pre><code>~0 (0)            0.0..*            // No minor and no non-zero, allow minor-level changes\n0.2               0.2..*            // Can't do that with carret or tilde \n~1 (1, ^1)        1.0..*\n^1.2              1.2..*\n^1.2.3            1.2..*.3          // Start from 1.2.3\n^1.2.3-beta.4     1.2..*.3-beta.4   // Start from 1.2.3-beta.4\n</code></pre>\n\n<p><strong>Allow patch-level changes</strong></p>\n\n<pre><code>^0.0 (0.0)        0.0.0..*          // No patch and no non-zero, allow patch-level changes\n~0.2              0.2.0..*\n~1.2              1.2.0..*\n~0.2.3 (^0.2.3)   0.2.3..*\n~1.2.3            1.2.3..*\n</code></pre>\n\n<p><strong>Allow beta-level changes</strong></p>\n\n<pre><code>~1.2.3-beta.4     1.2.3-beta.4..*\n^0.0.3-beta       0.0.3-beta.0..*, 0.0.3-pr.0..*\n^0.0.3-beta.4     0.0.3-beta.4..*, 0.0.3-pr.4..*\n</code></pre>\n\n<p><strong>Disallow changes</strong></p>\n\n<pre><code>1.2.3             1.2.3\n^0.0.3 (0.0.3)    0.0.3\n</code></pre>\n\n<ul>\n<li><a href=\"https://docs.npmjs.com/misc/semver\">https://docs.npmjs.com/misc/semver</a></li>\n<li><a href=\"https://docs.npmjs.com/files/package.json#dependencies\">https://docs.npmjs.com/files/package.json#dependencies</a></li>\n</ul>\n", "title": "Difference between tilde(~) and caret(^) in package.json", "answer_id": 33067594, "question_id": 22343224, "tags": ["javascript", "node.js", "npm"]}, {"body": "<p>Hat matching may be considered \"broken\" because it wont update <code>^0.1.2</code> to <code>0.2.0</code>. When the software is emerging use <code>0.x.x</code> versions and hat matching will only match the (varying) last digit. This is done on purpose so that when the software is finally ready it doesn't have version <code>10.0.0</code> but instead has version <code>1.0.0</code> (because people will be using the software when it's <code>0.1.x</code>, <code>0.2.x</code>, etc, and you wouldn't like to break all that code while modifying the public API of your software).</p>\n\n<p>The rule is: use <code>0.x.x</code> versioning when your software hasn't yet matured and release it with incrementing the middle digit when your public API changes (therefore people having <code>^0.1.0</code> won't get <code>0.2.0</code> update and it won't break their code). Then, when the software matures, release it under <code>1.0.0</code> and increment the leftmost digit each time your public API changes (therefore people having <code>^1.0.0</code> won't get <code>2.0.0</code> update and it won't break their code).</p>\n\n<pre><code>Given a version number MAJOR.MINOR.PATCH, increment the:\n\nMAJOR version when you make incompatible API changes,\nMINOR version when you add functionality in a backwards-compatible manner, and\nPATCH version when you make backwards-compatible bug fixes.\n</code></pre>\n", "title": "Difference between tilde(~) and caret(^) in package.json", "answer_id": 33213161, "question_id": 22343224, "tags": ["javascript", "node.js", "npm"]}], "question_id": 22343224}, {"body": "<p>I'm coming from a Java background and have started working with objects in C++. But one thing that occurred to me is that people often use pointers to objects rather than the objects themselves, for example this declaration:</p>\n\n<pre><code>Object *myObject = new Object;\n</code></pre>\n\n<p>rather than:</p>\n\n<pre><code>Object myObject;\n</code></pre>\n\n<p>Or instead of using a function, let's say <code>testFunc()</code>, like this:</p>\n\n<pre><code>myObject.testFunc();\n</code></pre>\n\n<p>we have to write:</p>\n\n<pre><code>myObject-&gt;testFunc();\n</code></pre>\n\n<p>But I can't figure out why should we do it this way. I would assume it has to do with efficiency and speed since we get direct access to the memory address. Am I right?</p>\n", "title": "Why should I use a pointer rather than the object itself?", "tags": ["c++", "pointers", "c++11"], "answer_count": 19, "link": "http://stackoverflow.com/questions/22146094/why-should-i-use-a-pointer-rather-than-the-object-itself", "answers": [{"body": "<p>In C++, objects allocated on the stack (using <code>Object object;</code> statement within a block) will only live within the scope they are declared in. When the block of code finishes execution, the object declared are destroyed. \nWhereas if you allocate memory on heap, using <code>Object* obj = new Object()</code>, they continue to live in heap until you call <code>delete obj</code>.</p>\n\n<p>I would create an object on heap when I like to use the object not only in the block of code which declared/allocated it.</p>\n", "title": "Why should I use a pointer rather than the object itself?", "answer_id": 22146231, "question_id": 22146094, "tags": ["c++", "pointers", "c++11"]}, {"body": "<p>It's very unfortunate that you see dynamic allocation so often. That just shows how many bad C++ programmers there are.</p>\n\n<p>In a sense, you have two questions bundled up into one. The first is when should we use dynamic allocation (using <code>new</code>)? The second is when should we use pointers?</p>\n\n<p>The important take-home message is that you should <strong>always use the appropriate tool for the job</strong>. In almost all situations, there is something more appropriate and safer than performing manual dynamic allocation and/or using raw pointers.</p>\n\n<h2>Dynamic allocation</h2>\n\n<p>In your question, you've demonstrated two ways of creating an object. The main difference is the storage duration of the object. When doing <code>Object myObject;</code> within a block, the object is created with automatic storage duration, which means it will be destroyed automatically when it goes out of scope. When you do <code>new Object()</code>, the object has dynamic storage duration, which means it stays alive until you explicitly <code>delete</code> it. You should only use dynamic storage duration when you need it. \nThat is, <strong>you should <em>always</em> prefer creating objects with automatic storage duration when you can</strong>.</p>\n\n<p>The main two situations in which you might require dynamic allocation:</p>\n\n<ol>\n<li><strong>You need the object to outlive the current scope</strong> - that specific object at that specific memory location, not a copy of it. If you're okay with copying/moving the object (most of the time you should be), you should prefer an automatic object.</li>\n<li><strong>You need to allocate a lot of memory</strong>, which may easily fill up the stack. It would be nice if we didn't have to concern ourselves with this (most of the time you shouldn't have to), as it's really outside the purview of C++, but unfortunately we have to deal with the reality of the systems we're developing for.</li>\n</ol>\n\n<p>When you do absolutely require dynamic allocation, you should encapsulate it in a smart pointer or some other type that performs <a href=\"http://en.wikipedia.org/wiki/Resource_Acquisition_Is_Initialization\">RAII</a> (like the standard containers). Smart pointers provide ownership semantics of dynamically allocated objects. Take a look at <a href=\"http://en.cppreference.com/w/cpp/memory/unique_ptr\"><code>std::unique_ptr</code></a> and <a href=\"http://en.cppreference.com/w/cpp/memory/shared_ptr\"><code>std::shared_ptr</code></a>, for example. If you use them appropriately, you can almost entirely avoid performing your own memory management (see the <a href=\"http://flamingdangerzone.com/cxx11/rule-of-zero/\">Rule of Zero</a>).</p>\n\n<h2>Pointers</h2>\n\n<p>However, there are other more general uses for raw pointers beyond dynamic allocation, but most have alternatives that you should prefer. As before, <strong>always prefer the alternatives unless you really need pointers</strong>.</p>\n\n<ol>\n<li><p><strong>You need reference semantics</strong>. Sometimes you want to pass an object using a pointer (regardless of how it was allocated) because you want the function to which you're passing it to have access that that specific object (not a copy of it). However, in most situations, you should prefer reference types to pointers, because this is specifically what they're designed for. Note this is not necessarily about extending the lifetime of the object beyond the current scope, as in situation 1 above. As before, if you're okay with passing a copy of the object, you don't need reference semantics.</p></li>\n<li><p><strong>You need polymorphism</strong>. You can only call functions polymorphically (that is, according to the dynamic type of an object) through a pointer or reference to the object. If that's the behaviour you need, then you need to use pointers or references. Again, references should be preferred.</p></li>\n<li><p><strong>You want to represent that an object is optional</strong> by allowing a <code>nullptr</code> to be passed when the object is being omitted. If it's an argument, you should prefer to use default arguments or function overloads. Otherwise, you should prefer use a type that encapsulates this behaviour, such as <code>boost::optional</code> (or perhaps soon, <code>std::optional</code> - <strong>Edit</strong> <code>std::optional</code> is voted out of the current C++14 draft n3797).</p></li>\n<li><p><strong>You want to decouple compilation units to improve compilation time</strong>. The useful property of a pointer is that you only require a forward declaration of the pointed-to type (to actually use the object, you'll need a definition). This allows you to decouple parts of your compilation process, which may significantly improve compilation time. See the <a href=\"http://en.wikipedia.org/wiki/Opaque_pointer\">Pimpl idiom</a>.</p></li>\n<li><p><strong>You need to interface with a C library</strong> or a C-style library. At this point, you're forced to use raw pointers. The best thing you can do is make sure you only let your raw pointers loose at the last possible moment. You can get a raw pointer from a smart pointer, for example, by using its <code>get</code> member function. If a library performs some allocation for you which it expects you to deallocate via a handle, you can often wrap the handle up in a smart pointer with a custom deleter that will deallocate the object appropriately.</p></li>\n</ol>\n", "title": "Why should I use a pointer rather than the object itself?", "answer_id": 22146244, "question_id": 22146094, "tags": ["c++", "pointers", "c++11"]}, {"body": "<p>Let's say that you have <code>class A</code> that contain <code>class B</code> When you want to call some function of <code>class B</code> outside <code>class A</code> you will simply obtain a pointer to this class and you can do whatever you want and it will also change context of <code>class B</code> in your <code>class A</code></p>\n\n<p>But be careful with dynamic object</p>\n", "title": "Why should I use a pointer rather than the object itself?", "answer_id": 22146270, "question_id": 22146094, "tags": ["c++", "pointers", "c++11"]}, {"body": "<p>Technically it is a memory allocation issue, however here are two more practical aspects of this.\nIt has to do with two things:\n1) Scope, when you define an object without a pointer you will no longer be able to access it after the code block it is defined in, whereas if you define a pointer with \"new\" then you can access it from anywhere you have a pointer to this memory until you call \"delete\" on the same pointer.\n2) If you want to pass arguments to a function you want to pass a pointer or a reference in order to be more efficient. When you pass an Object then the object is copied, if this is an object that uses a lot of memory this might be CPU consuming (e.g. you copy a vector full of data). When you pass a pointer all you pass is one int (depending of implementation but most of them are one int).</p>\n\n<p>Other than that you need to understand that \"new\" allocates memory on the heap that needs to be freed at some point. When you don't have to use \"new\" I suggest you use a regular object definition \"on the stack\".</p>\n", "title": "Why should I use a pointer rather than the object itself?", "answer_id": 22146335, "question_id": 22146094, "tags": ["c++", "pointers", "c++11"]}, {"body": "<p>There are many use cases for pointers. </p>\n\n<p><strong>Polymorphic behavior</strong>. For polymorphic types, pointers (or references) are used to avoid slicing:</p>\n\n<pre><code>class Base { ... };\nclass Derived : public Base { ... };\n\nvoid fun(Base b) { ... }\nvoid gun(Base* b) { ... }\nvoid hun(Base&amp; b) { ... }\n\nDerived d;\nfun(d);    // oops, all Derived parts silently \"sliced\" off\ngun(&amp;d);   // OK, a Derived object IS-A Base object\nhun(d);    // also OK, reference also doesn't slice\n</code></pre>\n\n<p><strong>Reference semantics and avoiding copying</strong>. For non-polymorphic types, a pointer (or a reference) will avoid copying a potentially expensive object</p>\n\n<pre><code>Base b;\nfun(b);  // copies b, potentially expensive \ngun(&amp;b); // takes a pointer to b, no copying\nhun(b);  // regular syntax, behaves as a pointer\n</code></pre>\n\n<p>Note that C++11 has move semantics that can avoid many copies of expensive objects into function argument and as return values. But using a pointer will definitely avoid those and will allow multiple pointers on the same object (whereas an object can only be moved from once).</p>\n\n<p><strong>Resource acquisition</strong>. Creating a pointer to a resource using the <code>new</code> operator is an <strong>anti-pattern</strong> in modern C++. Use a special resource class (one of the Standard containers) or a <strong>smart pointer</strong> (<code>std::unique_ptr&lt;&gt;</code> or <code>std::shared_ptr&lt;&gt;</code>). Consider:   </p>\n\n<pre><code>{\n    auto b = new Base;\n    ...       // oops, if an exception is thrown, destructor not called!\n    delete b;\n}\n</code></pre>\n\n<p>vs. </p>\n\n<pre><code>{\n    auto b = std::make_unique&lt;Base&gt;();\n    ...       // OK, now exception safe\n}\n</code></pre>\n\n<p>A raw pointer should only be used as a \"view\" and not in any way involved in ownership, be it through direct creation or implicitly through return values. See also <a href=\"http://stackoverflow.com/questions/8706192/which-kind-of-pointer-do-i-use-when?lq=1\"><strong>this Q&amp;A from the C++ FAQ</strong></a>.</p>\n\n<p><strong>More fine-grained life-time control</strong> Every time a shared pointer is being copied (e.g. as a function argument) the resource it points to is being kept alive. Regular objects (not created by <code>new</code>, either directly by you or inside a resource class) are destroyed when going out of scope.</p>\n", "title": "Why should I use a pointer rather than the object itself?", "answer_id": 22146344, "question_id": 22146094, "tags": ["c++", "pointers", "c++11"]}, {"body": "<p>There are many benefits of using pointers to object - </p>\n\n<ol>\n<li>Efficiency (as you already pointed out). Passing objects to\nfunctions mean creating new copies of object. </li>\n<li>Working with objects from third party libraries. If your object\nbelongs to a third party code and the authors intend the usage of their objects through pointers only (no copy constructors etc) the only way you can pass around this\nobject is using pointers. Passing by value may cause issues. (Deep\ncopy / shallow copy issues).</li>\n<li>if the object owns a resource and you want that the ownership should not be sahred with other objects.</li>\n</ol>\n", "title": "Why should I use a pointer rather than the object itself?", "answer_id": 22146600, "question_id": 22146094, "tags": ["c++", "pointers", "c++11"]}, {"body": "<blockquote>\n  <p>But I can't figure out why should we use it like this?</p>\n</blockquote>\n\n<p>I will compare how it works inside function body, if you use:</p>\n\n<pre><code>Object myObject;\n</code></pre>\n\n<p>inside function, your <code>myObject</code> will get destroyed once this function returns. So this is usefull if you dont need your object outside your function. This object will be put on current thread stack.</p>\n\n<p>If you write inside function body:</p>\n\n<pre><code> Object *myObject = new Object;\n</code></pre>\n\n<p>then Object class instance pointed by <code>myObject</code> will not get destroyed once function ends, and allocation is on heap.</p>\n\n<p>Now if you are java programmer, then the second example is closer to how object allocation works under java. This line: <code>Object *myObject = new Object;</code> is equivalent to java: <code>Object myObject = new Object();</code>. The difference is that under java myObject will get garbage collected, while under c++ it will not get freed, you must somewhere explicitly call `delete myObject;' otherwise you will introduce memory leaks.</p>\n\n<p>Since c++11 you can use safe ways of dynamic allocations: <code>new Object</code>, by storing values in shared_ptr/unique_ptr.</p>\n\n<pre><code>std::shared_ptr&lt;std::string&gt; safe_str = make_shared&lt;std::string&gt;(\"make_shared\");\n\n// since c++14\nstd::unique_ptr&lt;std::string&gt; safe_str = make_unique&lt;std::string&gt;(\"make_shared\"); \n</code></pre>\n\n<p>also, objects are very often stored in containers, like map-s or vector-s, they will automatically manage lifetime of your objects.</p>\n", "title": "Why should I use a pointer rather than the object itself?", "answer_id": 22146614, "question_id": 22146094, "tags": ["c++", "pointers", "c++11"]}, {"body": "<p>Another good reason to use pointers would be for <a href=\"http://en.wikipedia.org/wiki/Forward_declaration\">forward declarations</a>. In a large enough project they can really speed up compile time. </p>\n", "title": "Why should I use a pointer rather than the object itself?", "answer_id": 22149438, "question_id": 22146094, "tags": ["c++", "pointers", "c++11"]}, {"body": "<p>A pointer directly references the memory location of an object. Java has nothing like this. Java has references that reference the location of object through hash tables. You cannot do anything like pointer arithmetic in Java with these references.</p>\n\n<p>To answer your question, it's just your preference. I prefer using the Java-like syntax.</p>\n", "title": "Why should I use a pointer rather than the object itself?", "answer_id": 22182492, "question_id": 22146094, "tags": ["c++", "pointers", "c++11"]}, {"body": "<p>\"Necessity is the mother of invention.\"\nThe most of important difference that I would like to point out is the outcome of my own experience of coding.\nSometimes you need to pass objects to  functions . In that case if your object is  of a very  big class then passing it as an object will copy its state  (which you might not want ..AND CAN BE BIG OVERHEAD) thus resulting in overhead of copying object .while pointer is fixed 4 byte size (assuming 32 bit).Other reasons are already mentioned above...</p>\n", "title": "Why should I use a pointer rather than the object itself?", "answer_id": 22194306, "question_id": 22146094, "tags": ["c++", "pointers", "c++11"]}, {"body": "<p>There are many excellent answers to this question, including the important use cases of forward declarations, polymorphism etc. but I feel a part of the \"soul\" of your question is not answered - namely what the different syntaxes mean across Java and C++.</p>\n\n<p>Let's examine these two statements:</p>\n\n<h3>Java:</h3>\n\n<pre><code>Object object1 = new Object(); //A new object is allocated by Java\nObject object2 = new Object(); //Another new object is allocated by Java\n\nobject1 = object2; \n//object1 now points to the object originally allocated for object2\n//The object originally allocated for object1 is now \"dead\" - nothing points to it, so it\n//will be reclaimed by the Garbage Collector.\n//If either object1 or object2 is changed, the change will be reflected to the other\n</code></pre>\n\n<p>The closest equivalent to this, is:</p>\n\n<h3>C++:</h3>\n\n<pre><code>Object * object1 = new Object(); //A new object is allocated on the heap\nObject * object2 = new Object(); //Another new object is allocated on the heap\ndelete object1;\n//Since C++ does not have a garbage collector, if we don't do that, the next line would \n//cause a \"memory leak\", i.e. a piece of claimed memory that the app cannot use \n//and that we have no way to reclaim...\n\nobject1 = object2; //Same as Java, object1 points to object2.\n</code></pre>\n\n<p>Let's see the alternative C++ way:</p>\n\n<pre><code>Object object1; //A new object is allocated on the STACK\nObject object2; //Another new object is allocated on the STACK\nobject1 = object2;//!!!! This is different! The CONTENTS of object2 are COPIED onto object1,\n//using the \"copy assignment operator\", the definition of operator =.\n//But, the two objects are still different. Change one, the other remains unchanged.\n//Also, the objects get automatically destroyed once the function returns...\n</code></pre>\n\n<p>The best way to think of it is that -- more or less -- Java (implicitly) handles pointers to objects, while C++ may handle either pointers to objects, or the objects themselves.\nThere are exceptions to this -- for example, if you declare Java \"primitive\" types, they are actual values that are copied, and not pointers.\nSo,</p>\n\n<h3>Java:</h3>\n\n<pre><code>int object1; //An integer is allocated on the stack.\nint object2; //Another integer is allocated on the stack.\nobject1 = object2; //The value of object2 is copied to object1.\n</code></pre>\n\n<p>That said, using pointers is NOT necessarily either the correct or the wrong way to handle things; however other answers have covered that satisfactorily. The general idea though is that in C++ you have much more control on the lifetime of the objects, and on where they will live.</p>\n\n<p>Take home point -- the <code>Object * object = new Object()</code> construct is actually what is closest to typical Java (or C# for that matter) semantics.</p>\n", "title": "Why should I use a pointer rather than the object itself?", "answer_id": 22233179, "question_id": 22146094, "tags": ["c++", "pointers", "c++11"]}, {"body": "<h2>Preface</h2>\n\n<p>Java is nothing like C++, contrary to hype. The Java hype machine would like you to believe that because Java has C++ like syntax, that the languages are similar. Nothing can be further from the truth. This misinformation is part of the reason why Java programmers go to C++ and use Java-like syntax without understanding the implications of their code.</p>\n\n<h2>Onwards we go</h2>\n\n<blockquote>\n  <p>But I can't figure out why should we do it this way. I would assume it\n  has to do with efficiency and speed since we get direct access to the\n  memory address. Am I right?</p>\n</blockquote>\n\n<p>To the contrary, actually. <a href=\"http://stackoverflow.com/questions/2264969/why-memory-allocation-on-heap-is-much-slower-than-on-stack\">The heap is much slower</a> than the stack, because the stack is very simple compared to the heap. Automatic storage variables (aka stack variables) have their destructors called once they go out of scope. For example:</p>\n\n<pre><code>{\n    std::string s;\n}\n// s is destroyed here\n</code></pre>\n\n<p>On the other hand, if you use a pointer dynamically allocated, its destructor must be called manually. <code>delete</code> calls this destructor for you.</p>\n\n<pre><code>{\n    std::string* s = new std::string;\n}\ndelete s; // destructor called\n</code></pre>\n\n<p>This has nothing to do with the <code>new</code> syntax prevalent in C# and Java. They are used for completely different purposes. </p>\n\n<h2>Benefits of dynamic allocation</h2>\n\n<blockquote>\n  <p><strong>1. You don't have to know the size of the array in advance</strong></p>\n</blockquote>\n\n<p>One of the first problems many C++ programmers run into is that when they are accepting arbitrary input from users, you can only allocate a fixed size for a stack variable. You cannot change the size of arrays either. For example:</p>\n\n<pre><code>char buffer[100];\nstd::cin &gt;&gt; buffer;\n// bad input = buffer overflow\n</code></pre>\n\n<p>Of course if you used an <code>std::string</code> instead, <code>std::string</code> internally resizes itself so that shouldn't be a problem. But essentially the solution to this problem is dynamic allocation. You can allocate dynamic memory based on input of the user, for example:</p>\n\n<pre><code>int * pointer;\nstd::cout &lt;&lt; \"How many items do you need?\";\nstd::cin &gt;&gt; n;\npointer = new int[n];\n</code></pre>\n\n<blockquote>\n  <p><b>Side note</b>: One mistake many beginners make is the usage of\n  variable length arrays. This is a GNU extension and also one in Clang\n  because they mirror many of GCC's extensions. So the following \n  <code>int arr[n]</code> should not be relied on.</p>\n</blockquote>\n\n<p>Because the heap is much bigger than the stack, one can arbitrary allocate/reallocate as much memory as he/she needs, whereas the stack has a limitation. </p>\n\n<blockquote>\n  <p><strong>2. Arrays are not pointers</strong></p>\n</blockquote>\n\n<p>How is this a benefit you ask? The answer will become clear once you understand the confusion/myth behind arrays and pointers. It is commonly assumed that they are the same, but they are not. This myth comes from the fact that pointers can be subscripted just like arrays and because arrays decay to pointers at the top level in a function declaration. However, once an array decays to a pointer, the pointer loses its <code>sizeof</code> information. So <code>sizeof(pointer)</code> will give the size of the pointer in bytes, which is usually 8 bytes on a 64-bit system. </p>\n\n<p>You cannot assign to arrays, only initialize them. For example:</p>\n\n<pre><code>int arr[5] = {1, 2, 3, 4, 5}; // initialization \nint arr[] = {1, 2, 3, 4, 5}; // The standard dictates that the size of the array\n                             // be given by the amount of members in the initializer  \narr = { 1, 2, 3, 4, 5 }; // ERROR\n</code></pre>\n\n<p>On the other hand, you can do whatever you want with pointers. Unfortunately because the distinction between pointers and arrays are hand-waved in Java and C#, beginners don't understand the difference. </p>\n\n<blockquote>\n  <p><strong>3. Polymorphism</strong></p>\n</blockquote>\n\n<p>Java and C# have facilities that allow you to treat objects as another, for example using the <code>as</code> keyword. So if somebody wanted to treat an <code>Entity</code> object as a <code>Player</code> object, one could do <code>Player player = Entity as Player;</code> This is very useful if you intend to call functions on a homogeneous container that should only apply to a specific type. The functionality can be achieved in a similar fashion below:</p>\n\n<pre><code>std::vector&lt;Base*&gt; vector;\nvector.push_back(&amp;square);\nvector.push_back(&amp;triangle);\nfor (auto&amp; e : vector)\n{\n     auto test = dynamic_cast&lt;Triangle*&gt;(e); // I only care about triangles\n     if (!test) // not a triangle\n        e.GenericFunction();\n     else\n        e.TriangleOnlyMagic();\n}\n</code></pre>\n\n<p>So say if only Triangles had a Rotate function, it would be a compiler error if you tried to call it on all objects of the class. Using <code>dynamic_cast</code>, you can simulate the <code>as</code> keyword. To be clear, if a cast fails, it returns an invalid pointer. So <code>!test</code> is essentially a shorthand for checking if <code>test</code> is NULL or an invalid pointer, which means the cast failed.</p>\n\n<h2>Benefits of automatic variables</h2>\n\n<p>After seeing all the great things dynamic allocation can do, you're probably wondering why wouldn't anyone NOT use dynamic allocation all the time? I already told you one reason, the heap is slow. And if you don't need all that memory, you shouldn't abuse it. So here's some disadvantages in no particular order:</p>\n\n<ul>\n<li><p>It is error prone. Manual memory allocation is dangerous and you are prone to leaks. If you are not proficient at using the debugger or <code>valgrind</code> (a memory leak tool), you may pull your hair out of your head. Luckily RAII idioms and smart pointers alleviate this a bit, but you must be familiar with practices such as The Rule Of Three and The Rule Of Five. It is a lot of information to take in, and beginners who either don't know or don't care will fall into this trap.</p></li>\n<li><p>It is not necessary. Unlike Java and C# where it is idiomatic to use the <code>new</code> keyword everywhere, in C++, you should only use it if you need to. The common phrase goes, everything looks like a nail if you have a hammer. Whereas beginners who start with C++ are scared of pointers and learn to use stack variables by habit, Java and C# programmers <b>start</b> by using pointers without understanding it! That is literally stepping off on the wrong foot. You must abandon everything you know because syntax is one thing, learning the language is another.</p></li>\n</ul>\n\n<blockquote>\n  <p><b>1. (N)RVO - Aka, (Named) Return Value Optimization</b></p>\n</blockquote>\n\n<p>One optimization many compilers make are things called <b>elision</b> and <b>return value optimization</b>. These things can obviate unnecessary copys which is useful for objects that are very large, such as a vector containing many elements. Normally the common practice is to use pointers to <b>transfer ownership</b> rather than copying the large objects to <b>move</b> them around. This has lead to the inception of <b>move semantics</b> and <b>smart pointers</b>.</p>\n\n<p>If you are using pointers, (N)RVO does <b>NOT</b> occur. It is more beneficial and less error-prone to take advantage of (N)RVO rather than returning or passing pointers if you are worried about optimization. Error leaks can happen if the caller of a function is responsible for <code>delete</code>ing a dynamically allocated object and such. It can be difficult to track the ownership of an object if pointers are being passed around like a hot potato. Just use stack variables because it is simpler and better.</p>\n", "title": "Why should I use a pointer rather than the object itself?", "answer_id": 22244097, "question_id": 22146094, "tags": ["c++", "pointers", "c++11"]}, {"body": "<p>C++ gives you three ways to pass an object: by pointer, by reference, and by value. Java limits you with the latter one (the only exception is primitive types like int, boolean etc). If you want to use C++ not just like a weird toy, then you'd better get to know the difference between these three ways.</p>\n\n<p>Java pretends that there is no such problem as 'who and when should destroy this?'. The answer is: The Garbage Collector, Great and Awful. Nevertheless, it can't provide 100% protection against memory leaks (yes, <a href=\"http://iwillgetthatjobatgoogle.tumblr.com/post/12591334729/java-memory-leaks\">java <strong>can</strong> leak memory</a>). Actually, GC gives you a false sense of safety. The bigger your SUV, the longer your way to the evacuator.</p>\n\n<p>C++ leaves you face-to-face with object's lifecycle management. Well, there are means to deal with that (<a href=\"http://en.wikipedia.org/wiki/Smart_pointer\">smart pointers</a> family, QObject in Qt and so on), but none of them can be used in 'fire and forget' manner like GC: you should <strong>always</strong> keep in mind memory handling. Not only should you care about destroying an object, you also have to avoid destroying the same object more than once.</p>\n\n<p>Not scared yet? Ok: cyclic references - handle them yourself, human. And remember: kill each object precisely once, we C++ runtimes don't like those who mess with corpses, leave dead ones alone.</p>\n\n<p>So, back to your question.</p>\n\n<p>When you pass your object around by value, not by pointer or by reference, you copy the object (the whole object, whether it's a couple of bytes or a huge database dump - you're smart enough to care to avoid latter, aren't you?) every time you do '='. And to access the object's members, you use '.' (dot).</p>\n\n<p>When you pass your object by pointer, you copy just a few bytes (4 on 32-bit systems, 8 on 64-bit ones), namely - the address of this object. And to show this to everyone, you use this fancy '->' operator when you access the members. Or you can use the combination of '*' and '.'.</p>\n\n<p>When you use references, then you get the pointer that pretends to be a value. It's a pointer, but you access the members through '.'.</p>\n\n<p>And, to blow your mind one more time: when you declare several variables separated by commas, then (watch the hands):</p>\n\n<ul>\n<li>Type is given to everyone</li>\n<li>Value/pointer/reference modifier is individual</li>\n</ul>\n\n<p>Example:</p>\n\n<pre><code>struct MyStruct\n{\n    int* someIntPointer, someInt; //here comes the surprise\n    MyStruct *somePointer;\n    MyStruct &amp;someReference;\n};\n\nMyStruct s1; //we allocated an object on stack, not in heap\n\ns1.someInt = 1; //someInt is of type 'int', not 'int*' - value/pointer modifier is individual\ns1.someIntPointer = &amp;s1.someInt;\n*s1.someIntPointer = 2; //now s1.someInt has value '2'\ns1.somePointer = &amp;s1;\ns1.someReference = s1; //note there is no '&amp;' operator: reference tries to look like value\ns1.somePointer-&gt;someInt = 3; //now s1.someInt has value '3'\n*(s1.somePointer).someInt = 3; //same as above line\n*s1.somePointer-&gt;someIntPointer = 4; //now s1.someInt has value '4'\n\ns1.someReference.someInt = 5; //now s1.someInt has value '5'\n                              //although someReference is not value, it's members are accessed through '.'\n\nMyStruct s2 = s1; //'NO WAY' the compiler will say. Go define your '=' operator and come back.\n\n//OK, assume we have '=' defined in MyStruct\n\ns2.someInt = 0; //s2.someInt == 0, but s1.someInt is still 5 - it's two completely different objects, not the references to the same one\n</code></pre>\n", "title": "Why should I use a pointer rather than the object itself?", "answer_id": 22246945, "question_id": 22146094, "tags": ["c++", "pointers", "c++11"]}, {"body": "<p>This is has been discussed at length, but in Java everything is a pointer. It makes no distinction between stack and heap allocations (all objects are allocated on the heap), so you don't realize you're using pointers. In C++, you can mix the two, depending on your memory requirements. Performance and memory usage is more deterministic in C++ (duh).  </p>\n", "title": "Why should I use a pointer rather than the object itself?", "answer_id": 22263437, "question_id": 22146094, "tags": ["c++", "pointers", "c++11"]}, {"body": "<p>Well the main question is <strong>Why should I use a pointer rather than the object itself?</strong> And my answer, you should (almost) never use pointer instead of object, because C++ has <a href=\"http://www.cprogramming.com/tutorial/references.html\" rel=\"nofollow\">references</a>, it is safer then pointers and guarantees the same performance as pointers.</p>\n\n<p>Another thing you mentioned in your question:</p>\n\n<pre><code>Object *myObject = new Object;\n</code></pre>\n\n<p>How does it work? It creates pointer of <code>Object</code> type, allocates memory to fit one object and calls default constructor, sounds good, right? But actually it isn't so good, if you dynamically allocated memory (used keyword <code>new</code>), you also have to free memory manually, that means in code you should have:</p>\n\n<pre><code>delete myObject;\n</code></pre>\n\n<p>This calls destructor and frees memory, looks easy, however in big projects may be difficult to detect if one thread freed memory or not, but for that purpose you can try <a href=\"https://www.google.lt/?gws_rd=cr&amp;ei=ge4aU_OqC-PoywPVsoL4BA#q=c%2b%2b%20shared%20pointer\" rel=\"nofollow\">shared pointers</a>, these slightly decreases performance, but it is much easier to work with them.</p>\n\n<hr>\n\n<p>And now some introduction is over and go back to question.</p>\n\n<p>You can use pointers instead of objects to get better performance while transferring data between function.</p>\n\n<p>Take a look, you have <code>std::string</code> (it is also object) and it contains really much data, for example big XML, now you need to parse it, but for that you have function <code>void foo(...)</code> which can be declarated in different ways:</p>\n\n<ol>\n<li><code>void foo(std::string xml);</code>\nIn this case you will copy all data from your variable to function stack, it takes some time, so your performance will be low.</li>\n<li><code>void foo(std::string* xml);</code>\nIn this case you will pass pointer to object, same speed as passing <code>size_t</code> variable, however this declaration has error prone, because you can pass <code>NULL</code> pointer or invalid pointer. Pointers usually used in <code>C</code> because it doesn't have references.</li>\n<li><code>void foo(std::string&amp; xml);</code>\nHere you pass reference, basically it is the same as passing pointer, but compiler does some stuff and you cannot pass invalid reference (actually it is possible to create situation with invalid reference, but it is tricking compiler).</li>\n<li><code>void foo(const std::string* xml);</code>\nHere is the same as second, just pointer value cannot be changed.</li>\n<li><code>void foo(const std::string&amp; xml);</code>\nHere is the same as third, but object value cannot be changed.</li>\n</ol>\n\n<p>What more I want to mention, you can use these 5 ways to pass data no matter which allocation way you have chosen (with <code>new</code> or <em>regular</em>).</p>\n\n<hr>\n\n<p>Another thing to mention, when you create object in <em>regular</em> way, you allocate memory in stack, but while you create it with <code>new</code> you allocate heap. It is much faster to allocate stack, but it is kind a small for really big arrays of data, so if you need big object you should use heap, because you may get stack overflow, but usually this issue is solved using <a href=\"http://www.cplusplus.com/reference/stl/\" rel=\"nofollow\">STL containers</a> and remember <code>std::string</code> is also container, some guys forgot it :)</p>\n", "title": "Why should I use a pointer rather than the object itself?", "answer_id": 22268280, "question_id": 22146094, "tags": ["c++", "pointers", "c++11"]}, {"body": "<p>There are many excellent answers already, but let me give you one example:</p>\n\n<p>I have an simple Item class:</p>\n\n<pre><code> class Item\n    {\n    public: \n      std::string name;\n      int weight;\n      int price;\n    };\n</code></pre>\n\n<p>I make a vector to hold a bunch of them.</p>\n\n<p><code>std::vector&lt;Item&gt; inventory;</code></p>\n\n<p>I create one million Item objects, and push them back onto the vector. I sort the vector by name, and then do a simple iterative binary search for a particular item name. I test the program, and it takes over 8 minutes to finish executing. Then I change my inventory vector like so:</p>\n\n<p><code>std::vector&lt;Item *&gt; inventory;</code></p>\n\n<p>...and create my million Item objects via new. The ONLY changes I make to my code are to use the pointers to Items, excepting a loop I add for memory cleanup at the end. That program runs in under 40 seconds, or better than a 10x speed increase.\nEDIT: The code is at <a href=\"http://pastebin.com/DK24SPeW\" rel=\"nofollow\">http://pastebin.com/DK24SPeW</a>\nWith compiler optimizations it shows only a 3.4x increase on the machine I just tested it on, which is still considerable.</p>\n", "title": "Why should I use a pointer rather than the object itself?", "answer_id": 28350447, "question_id": 22146094, "tags": ["c++", "pointers", "c++11"]}, {"body": "<p>You <em>shouldn't</em>. People (many people, sadly) write it out of ignorance.</p>\n\n<p>Sometimes dynamic allocation has its place but, in the examples you give, it is <em>wrong</em>.</p>\n\n<p>If you want to think about efficiency, then this is <em>worse</em>, because it introduces indirection for no good reason. This sort of programming is <em>slower</em> and <em>more error-prone</em>.</p>\n", "title": "Why should I use a pointer rather than the object itself?", "answer_id": 33726825, "question_id": 22146094, "tags": ["c++", "pointers", "c++11"]}, {"body": "<p><strong>With pointers</strong> , </p>\n\n<ul>\n<li><p>can directly talk to the memory. </p></li>\n<li><p>can prevent lot of memory leaks of a program by manipulating pointers.</p></li>\n</ul>\n\n<p>for a example, in java java it has its own garbage collector which might not efficient enough for a particular program you use. but in C++ ,using pointers , you can create a custom garbage collector for your own program</p>\n", "title": "Why should I use a pointer rather than the object itself?", "answer_id": 37565638, "question_id": 22146094, "tags": ["c++", "pointers", "c++11"]}, {"body": "<p>Suppose you want to visit your friends home, \nTell him to bring his home to your place. This is Passing object itself.</p>\n\n<p>Then ask him his home address, he will give you the address. Now you can visit his home this is Pass by Pointer. </p>\n\n<p>getting address from your friend is easier than copying his home everywhere.\nthis is why you should use pointers to objects.</p>\n", "title": "Why should I use a pointer rather than the object itself?", "answer_id": 39248439, "question_id": 22146094, "tags": ["c++", "pointers", "c++11"]}], "question_id": 22146094}, {"body": "<p>I have Windows 7 32-bit. I installed the latest <a href=\"http://en.wikipedia.org/wiki/Node.js\">Node.js</a> 32 bit. When I try to run the command <code>npm install jquery</code>, I receive the error:</p>\n\n<blockquote>\n  <p>Error: ENOENT, stat 'C:\\Users\\RT\\AppData\\Roaming\\npm </p>\n</blockquote>\n\n<p>How does one resolve it?</p>\n", "title": "Node.js/Windows error: ENOENT, stat &#39;C:\\Users\\RT\\AppData\\Roaming\\npm&#39;", "tags": ["windows", "node.js", "install"], "answer_count": 7, "link": "http://stackoverflow.com/questions/25093276/node-js-windows-error-enoent-stat-c-users-rt-appdata-roaming-npm", "answers": [{"body": "<p>Manually creating a folder named 'npm' in the displayed path fixed the problem.</p>\n\n<p>More information can be found on <a href=\"https://github.com/npm/npm/wiki/Troubleshooting#error-enoent-stat-cusersuserappdataroamingnpm-on-windows-7\">Troubleshooting page</a></p>\n", "title": "Node.js/Windows error: ENOENT, stat &#39;C:\\Users\\RT\\AppData\\Roaming\\npm&#39;", "answer_id": 25095327, "question_id": 25093276, "tags": ["windows", "node.js", "install"]}, {"body": "<p>I ran into the same problem while installing a package via npm. </p>\n\n<p>After creating the <code>npm</code> folder manually in <code>C:\\Users\\UserName\\AppData\\Roaming\\</code> that particular error was gone, but it gave similar multiple errors as it tried to create additional directories in the <code>npm</code> folder and failed. The issue was resolved after <strong>running the command prompt as an administrator</strong>.</p>\n", "title": "Node.js/Windows error: ENOENT, stat &#39;C:\\Users\\RT\\AppData\\Roaming\\npm&#39;", "answer_id": 25742097, "question_id": 25093276, "tags": ["windows", "node.js", "install"]}, {"body": "<p>Install a stable version instead of the latest one, I have downgrade my version to <code>node-v0.10.29-x86.msi</code> from <code>'node-v0.10.33-x86.msi'</code> and it is working well for me! </p>\n\n<p><a href=\"http://blog.nodejs.org/2014/06/16/node-v0-10-29-stable/\" rel=\"nofollow\">http://blog.nodejs.org/2014/06/16/node-v0-10-29-stable/</a></p>\n", "title": "Node.js/Windows error: ENOENT, stat &#39;C:\\Users\\RT\\AppData\\Roaming\\npm&#39;", "answer_id": 27421047, "question_id": 25093276, "tags": ["windows", "node.js", "install"]}, {"body": "<p>This can also be fixed by installing a node package manually.</p>\n\n<pre><code>npm install npm -g\n</code></pre>\n\n<p>The process of doing that will setup all the required directories.</p>\n", "title": "Node.js/Windows error: ENOENT, stat &#39;C:\\Users\\RT\\AppData\\Roaming\\npm&#39;", "answer_id": 27494648, "question_id": 25093276, "tags": ["windows", "node.js", "install"]}, {"body": "<p>You can go to the <strong>Start Menu</strong> and search the Node.js icon and open the shell and then install anything with</p>\n\n<pre><code>install &lt;packagename&gt; -g\n</code></pre>\n", "title": "Node.js/Windows error: ENOENT, stat &#39;C:\\Users\\RT\\AppData\\Roaming\\npm&#39;", "answer_id": 27697015, "question_id": 25093276, "tags": ["windows", "node.js", "install"]}, {"body": "<p>I recommend setting an alternative location for your npm modules.</p>\n\n<pre><code>npm config set prefix C:\\Dev\\npm-repository\\npm --global \nnpm config set cache C:\\Dev\\npm-repository\\npm-cache --global  \n</code></pre>\n\n<p>Of course you can set the location to wherever best suits.</p>\n\n<p>This has worked well for me and gets around any permissions issues that you may encounter.</p>\n", "title": "Node.js/Windows error: ENOENT, stat &#39;C:\\Users\\RT\\AppData\\Roaming\\npm&#39;", "answer_id": 30722593, "question_id": 25093276, "tags": ["windows", "node.js", "install"]}, {"body": "<p>I needed a package from github that was written in typscript.  I did a git pull of the most recent version from the master branch into the root of my main project.  I then went into the directory and did an npm install so that the gulp commands would work that generates ES5 modules. Anyway, to make the long story short, my build process was trying to build files from this new folder so I had to move it out of my root.  This was causing these same errors.</p>\n", "title": "Node.js/Windows error: ENOENT, stat &#39;C:\\Users\\RT\\AppData\\Roaming\\npm&#39;", "answer_id": 38710868, "question_id": 25093276, "tags": ["windows", "node.js", "install"]}], "question_id": 25093276}, {"body": "<p>I was looking for the fastest way to <code>popcount</code> large arrays of data. I encountered a <em>very weird</em> effect: Changing the loop variable from <code>unsigned</code> to <code>uint64_t</code> made the performance drop by 50% on my PC.</p>\n\n<h2>The Benchmark</h2>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;chrono&gt;\n#include &lt;x86intrin.h&gt;\n\nint main(int argc, char* argv[]) {\n\n    using namespace std;\n    if (argc != 2) {\n       cerr &lt;&lt; \"usage: array_size in MB\" &lt;&lt; endl;\n       return -1;\n    }\n\n    uint64_t size = atol(argv[1])&lt;&lt;20;\n    uint64_t* buffer = new uint64_t[size/8];\n    char* charbuffer = reinterpret_cast&lt;char*&gt;(buffer);\n    for (unsigned i=0; i&lt;size; ++i)\n        charbuffer[i] = rand()%256;\n\n    uint64_t count,duration;\n    chrono::time_point&lt;chrono::system_clock&gt; startP,endP;\n    {\n        startP = chrono::system_clock::now();\n        count = 0;\n        for( unsigned k = 0; k &lt; 10000; k++){\n            // Tight unrolled loop with unsigned\n            for (unsigned i=0; i&lt;size/8; i+=4) {\n                count += _mm_popcnt_u64(buffer[i]);\n                count += _mm_popcnt_u64(buffer[i+1]);\n                count += _mm_popcnt_u64(buffer[i+2]);\n                count += _mm_popcnt_u64(buffer[i+3]);\n            }\n        }\n        endP = chrono::system_clock::now();\n        duration = chrono::duration_cast&lt;std::chrono::nanoseconds&gt;(endP-startP).count();\n        cout &lt;&lt; \"unsigned\\t\" &lt;&lt; count &lt;&lt; '\\t' &lt;&lt; (duration/1.0E9) &lt;&lt; \" sec \\t\"\n             &lt;&lt; (10000.0*size)/(duration) &lt;&lt; \" GB/s\" &lt;&lt; endl;\n    }\n    {\n        startP = chrono::system_clock::now();\n        count=0;\n        for( unsigned k = 0; k &lt; 10000; k++){\n            // Tight unrolled loop with uint64_t\n            for (uint64_t i=0;i&lt;size/8;i+=4) {\n                count += _mm_popcnt_u64(buffer[i]);\n                count += _mm_popcnt_u64(buffer[i+1]);\n                count += _mm_popcnt_u64(buffer[i+2]);\n                count += _mm_popcnt_u64(buffer[i+3]);\n            }\n        }\n        endP = chrono::system_clock::now();\n        duration = chrono::duration_cast&lt;std::chrono::nanoseconds&gt;(endP-startP).count();\n        cout &lt;&lt; \"uint64_t\\t\"  &lt;&lt; count &lt;&lt; '\\t' &lt;&lt; (duration/1.0E9) &lt;&lt; \" sec \\t\"\n             &lt;&lt; (10000.0*size)/(duration) &lt;&lt; \" GB/s\" &lt;&lt; endl;\n    }\n\n    free(charbuffer);\n}\n</code></pre>\n\n<p>As you see, we create a buffer of random data, with the size being <code>x</code> megabytes where <code>x</code> is read from the command line. Afterwards, we iterate over the buffer and use an unrolled version of the x86 <code>popcount</code> intrinsic to perform the popcount. To get a more precise result, we do the popcount 10,000 times. We measure the times for the popcount. In the upper case, the inner loop variable is <code>unsigned</code>, in the lower case, the inner loop variable is <code>uint64_t</code>. I thought that this should make no difference, but the opposite is the case.</p>\n\n<h2>The (absolutely crazy) results</h2>\n\n<p>I compile it like this (g++ version: Ubuntu 4.8.2-19ubuntu1):</p>\n\n<pre><code>g++ -O3 -march=native -std=c++11 test.cpp -o test\n</code></pre>\n\n<p>Here are the results on my <a href=\"http://en.wikipedia.org/wiki/Haswell_%28microarchitecture%29\">Haswell</a> <a href=\"http://en.wikipedia.org/wiki/Haswell_%28microarchitecture%29#Desktop_processors\">Core i7-4770K</a> CPU @ 3.50&nbsp;GHz, running <code>test 1</code> (so 1&nbsp;MB random data):</p>\n\n<ul>\n<li>unsigned  41959360000  0.401554 sec   <strong>26.113&nbsp;GB/s</strong></li>\n<li>uint64_t  41959360000  0.759822 sec   <strong>13.8003&nbsp;GB/s</strong></li>\n</ul>\n\n<p>As you see, the throughput of the <code>uint64_t</code> version is <strong>only half</strong> the one of the <code>unsigned</code> version! The problem seems to be that different assembly gets generated, but why? First, I thought of a compiler bug, so I tried <code>clang++</code> (Ubuntu <a href=\"http://en.wikipedia.org/wiki/Clang\">Clang</a> version 3.4-1ubuntu3):</p>\n\n<pre><code>clang++ -O3 -march=native -std=c++11 teest.cpp -o test\n</code></pre>\n\n<p>Result: <code>test 1</code></p>\n\n<ul>\n<li>unsigned  41959360000  0.398293 sec   <strong>26.3267 GB/s</strong></li>\n<li>uint64_t  41959360000  0.680954 sec   <strong>15.3986 GB/s</strong></li>\n</ul>\n\n<p>So, it is almost the same result and is still strange. <em>But now it gets super strange.</em> I replace the buffer size that was read from input with a constant <code>1</code>, so I change:</p>\n\n<pre><code>uint64_t size = atol(argv[1]) &lt;&lt; 20;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>uint64_t size = 1 &lt;&lt; 20;\n</code></pre>\n\n<p>Thus, the compiler now knows the buffer size at compile time. Maybe it can add some optimizations! Here are the numbers for <code>g++</code>:</p>\n\n<ul>\n<li>unsigned  41959360000  0.509156 sec   <strong>20.5944&nbsp;GB/s</strong></li>\n<li>uint64_t  41959360000  0.508673 sec   <strong>20.6139&nbsp;GB/s</strong></li>\n</ul>\n\n<p>Now, both versions are equally fast. However, the <code>unsigned</code> <strong>got even slower</strong>! It dropped from <code>26</code> to <code>20 GB/s</code>, thus replacing a non-constant by a constant value lead to a <strong>deoptimization</strong>. Seriously, I have no clue what is going on here! But now to <code>clang++</code> with the new version:</p>\n\n<ul>\n<li>unsigned  41959360000  0.677009 sec   <strong>15.4884&nbsp;GB/s</strong></li>\n<li>uint64_t  41959360000  0.676909 sec   <strong>15.4906&nbsp;GB/s</strong></li>\n</ul>\n\n<p><em>Wait, what?</em> Now, both versions dropped to the <strong>slow</strong> number of 15&nbsp;GB/s. Thus, replacing a non-constant by a constant value even lead to slow code in <strong>both</strong> cases for Clang!</p>\n\n<p>I asked a colleague with an <a href=\"http://en.wikipedia.org/wiki/Ivy_Bridge_%28microarchitecture%29\">Ivy Bridge</a> CPU to compile my benchmark. He got similar results, so it does not seem to be Haswell. Because two compilers produce strange results here, it also does not seem to be a compiler bug. We do not have an AMD CPU here, so we could only test with Intel.</p>\n\n<h2>More madness, please!</h2>\n\n<p>Take the first example (the one with <code>atol(argv[1])</code>) and put a <code>static</code> before the variable, i.e.:</p>\n\n<pre><code>static uint64_t size=atol(argv[1])&lt;&lt;20;\n</code></pre>\n\n<p>Here are my results in g++:</p>\n\n<ul>\n<li>unsigned  41959360000  0.396728 sec   <strong>26.4306 GB/s</strong></li>\n<li>uint64_t  41959360000  0.509484 sec   <strong>20.5811 GB/s</strong></li>\n</ul>\n\n<p><em>Yay, yet another alternative</em>. We still have the fast 26&nbsp;GB/s with <code>u32</code>, but we managed to get <code>u64</code> at least from the 13&nbsp;GB/s to the 20&nbsp;GB/s version! <strong>On my collegue's PC, the <code>u64</code> version became even faster than the <code>u32</code> version, yielding the fastest result of all.</strong> Sadly, this only works for <code>g++</code>, <code>clang++</code> does not seem to care about <code>static</code>.</p>\n\n<h2>My question</h2>\n\n<p>Can you explain these results? Especially:</p>\n\n<ul>\n<li>How can there be such a difference between <code>u32</code> and <code>u64</code>?</li>\n<li>How can replacing a non-constant by a constant buffer size trigger <em>less optimal code</em>?</li>\n<li>How can the insertion of the <code>static</code> keyword make the <code>u64</code> loop faster? Even faster than the original code on my collegue's computer!</li>\n</ul>\n\n<p>I know that optimization is a tricky territory, however, I never thought that such small changes can lead to a <strong>100% difference</strong> in execution time and that small factors like a constant buffer size can again mix results totally. Of course, I always want to have the version that is able to popcount 26&nbsp;GB/s. The only reliable way I can think of is copy paste the assembly for this case and use inline assembly. This is the only way I can get rid of compilers that seem to go mad on small changes. What do you think? Is there another way to reliably get the code with most performance?</p>\n\n<h2>The Disassembly</h2>\n\n<p>Here is the disassembly for the various results:</p>\n\n<p>26&nbsp;GB/s version from <strong>g++ / u32 / non-const bufsize</strong>:</p>\n\n<pre><code>0x400af8:\nlea 0x1(%rdx),%eax\npopcnt (%rbx,%rax,8),%r9\nlea 0x2(%rdx),%edi\npopcnt (%rbx,%rcx,8),%rax\nlea 0x3(%rdx),%esi\nadd %r9,%rax\npopcnt (%rbx,%rdi,8),%rcx\nadd $0x4,%edx\nadd %rcx,%rax\npopcnt (%rbx,%rsi,8),%rcx\nadd %rcx,%rax\nmov %edx,%ecx\nadd %rax,%r14\ncmp %rbp,%rcx\njb 0x400af8\n</code></pre>\n\n<p>13&nbsp;GB/s version from <strong>g++ / u64 / non-const bufsize</strong>:</p>\n\n<pre><code>0x400c00:\npopcnt 0x8(%rbx,%rdx,8),%rcx\npopcnt (%rbx,%rdx,8),%rax\nadd %rcx,%rax\npopcnt 0x10(%rbx,%rdx,8),%rcx\nadd %rcx,%rax\npopcnt 0x18(%rbx,%rdx,8),%rcx\nadd $0x4,%rdx\nadd %rcx,%rax\nadd %rax,%r12\ncmp %rbp,%rdx\njb 0x400c00\n</code></pre>\n\n<p>15&nbsp;GB/s version from <strong>clang++ / u64 / non-const bufsize</strong>:</p>\n\n<pre><code>0x400e50:\npopcnt (%r15,%rcx,8),%rdx\nadd %rbx,%rdx\npopcnt 0x8(%r15,%rcx,8),%rsi\nadd %rdx,%rsi\npopcnt 0x10(%r15,%rcx,8),%rdx\nadd %rsi,%rdx\npopcnt 0x18(%r15,%rcx,8),%rbx\nadd %rdx,%rbx\nadd $0x4,%rcx\ncmp %rbp,%rcx\njb 0x400e50\n</code></pre>\n\n<p>20&nbsp;GB/s version from <strong>g++ / u32&amp;u64 / const bufsize</strong>:</p>\n\n<pre><code>0x400a68:\npopcnt (%rbx,%rdx,1),%rax\npopcnt 0x8(%rbx,%rdx,1),%rcx\nadd %rax,%rcx\npopcnt 0x10(%rbx,%rdx,1),%rax\nadd %rax,%rcx\npopcnt 0x18(%rbx,%rdx,1),%rsi\nadd $0x20,%rdx\nadd %rsi,%rcx\nadd %rcx,%rbp\ncmp $0x100000,%rdx\njne 0x400a68\n</code></pre>\n\n<p>15&nbsp;GB/s version from <strong>clang++ / u32&amp;u64 / const bufsize</strong>:</p>\n\n<pre><code>0x400dd0:\npopcnt (%r14,%rcx,8),%rdx\nadd %rbx,%rdx\npopcnt 0x8(%r14,%rcx,8),%rsi\nadd %rdx,%rsi\npopcnt 0x10(%r14,%rcx,8),%rdx\nadd %rsi,%rdx\npopcnt 0x18(%r14,%rcx,8),%rbx\nadd %rdx,%rbx\nadd $0x4,%rcx\ncmp $0x20000,%rcx\njb 0x400dd0\n</code></pre>\n\n<p>Interestingly, the fastest (26&nbsp;GB/s) version is also the longest! It seems to be the only solution that uses <code>lea</code>. Some versions use <code>jb</code> to jump, others use <code>jne</code>. But apart from that, all versions seem to be comparable. I don't see where a 100% performance gap could originate from, but I am not too adept at deciphering assembly. The slowest (13&nbsp;GB/s) version looks even very short and good. Can anyone explain this?</p>\n\n<h2>Lessons learned</h2>\n\n<p>No matter what the answer to this question will be; I have learned that in really hot loops <em>every</em> detail can matter, <em>even details that do not seem to have any association to the hot code</em>. I have never thought about what type to use for a loop variable, but as you see such a minor change can make a <em>100%</em> difference! Even the storage type of a buffer can make a huge difference, as we saw with the insertion of the <code>static</code> keyword in front of the size variable! In the future, I will always test various alternatives on various compilers when writing really tight and hot loops that are crucial for system performance.</p>\n\n<p>The interesting thing is also that the performance difference is still so high although I have already unrolled the loop four times. So even if you unroll, you can still get hit by major performance deviations. Quite interesting.</p>\n", "title": "Replacing a 32-bit loop count variable with 64-bit introduces crazy performance deviations", "tags": ["c++", "performance", "optimization", "assembly", "compiler-optimization"], "answer_count": 8, "link": "http://stackoverflow.com/questions/25078285/replacing-a-32-bit-loop-count-variable-with-64-bit-introduces-crazy-performance", "answers": [{"body": "<p>This is not an answer, but it's hard to read if I put results in comment.</p>\n\n<p>I get these results with a <a href=\"http://en.wikipedia.org/wiki/Mac_Pro\">Mac Pro</a> (<a href=\"http://en.wikipedia.org/wiki/Westmere_%28microarchitecture%29\">Westmere</a> 6-Cores <a href=\"http://en.wikipedia.org/wiki/Xeon\">Xeon</a> 3.33&nbsp;GHz). I compiled it with <code>clang -O3 -msse4 -lstdc++ a.cpp -o a</code> (-O2 get same result).</p>\n\n<h3>clang with <code>uint64_t size=atol(argv[1])&lt;&lt;20;</code></h3>\n\n<pre><code>unsigned    41950110000 0.811198 sec    12.9263 GB/s\nuint64_t    41950110000 0.622884 sec    16.8342 GB/s\n</code></pre>\n\n<h3>clang with <code>uint64_t size=1&lt;&lt;20;</code></h3>\n\n<pre><code>unsigned    41950110000 0.623406 sec    16.8201 GB/s\nuint64_t    41950110000 0.623685 sec    16.8126 GB/s\n</code></pre>\n\n<p>I also tried to:</p>\n\n<ol>\n<li>Reverse the test order, the result is the same so it rules out the cache factor.</li>\n<li>Have the <code>for</code> statement in reverse: <code>for (uint64_t i=size/8;i&gt;0;i-=4)</code>. This gives the same result and proves the compile is smart enough to not divide size by 8 every iteration (as expected).</li>\n</ol>\n\n<p>Here is my wild guess:</p>\n\n<p>The speed factor comes in three parts:</p>\n\n<ul>\n<li><p>code cache: <code>uint64_t</code> version has larger code size, but this does not have an effect on my Xeon CPU. This makes the 64-bit version slower.</p></li>\n<li><p>Instructions used. Note not only the loop count, but the buffer is accessed with a 32-bit and 64-bit index on the two versions. Accessing a pointer with a 64-bit offset requests a dedicated 64-bit register and addressing, while you can use immediate for a 32-bit offset. This may make the 32-bit version faster.</p></li>\n<li><p>Instructions are only emitted on the 64-bit compile (that is, prefetch). This makes 64-bit faster.</p></li>\n</ul>\n\n<p>The three factors together match with the observed seemingly conflicting results.</p>\n", "title": "Replacing a 32-bit loop count variable with 64-bit introduces crazy performance deviations", "answer_id": 25078871, "question_id": 25078285, "tags": ["c++", "performance", "optimization", "assembly", "compiler-optimization"]}, {"body": "<p>Have you tried moving the reduction step outside the loop?  Right now you have a data dependency that really isn't needed.</p>\n\n<p>Try:</p>\n\n<pre><code>  uint64_t subset_counts[4] = {};\n  for( unsigned k = 0; k &lt; 10000; k++){\n     // Tight unrolled loop with unsigned\n     unsigned i=0;\n     while (i &lt; size/8) {\n        subset_counts[0] += _mm_popcnt_u64(buffer[i]);\n        subset_counts[1] += _mm_popcnt_u64(buffer[i+1]);\n        subset_counts[2] += _mm_popcnt_u64(buffer[i+2]);\n        subset_counts[3] += _mm_popcnt_u64(buffer[i+3]);\n        i += 4;\n     }\n  }\n  count = subset_counts[0] + subset_counts[1] + subset_counts[2] + subset_counts[3];\n</code></pre>\n\n<p>You also have some weird aliasing going on, that I'm not sure is conformant to the strict aliasing rules.</p>\n", "title": "Replacing a 32-bit loop count variable with 64-bit introduces crazy performance deviations", "answer_id": 25086531, "question_id": 25078285, "tags": ["c++", "performance", "optimization", "assembly", "compiler-optimization"]}, {"body": "<p>I can't give an authoritative answer, but provide an overview of a likely cause. <a href=\"https://gmplib.org/~tege/x86-timing.pdf\" rel=\"nofollow\">This reference</a> shows pretty clearly that for the instructions in the body of your loop there is a 3:1 ratio between latency and throughput. It also shows the effects of multiple dispatch. Since there are (give-or-take) three integer units in modern x86 processors, it's generally possible to dispatch three instructions per cycle.  </p>\n\n<p>So between peak pipeline and multiple dispatch performance and failure of these mechanisms, we have a factor of six in performance. It's pretty well known that the complexity of the x86 instruction set makes it quite easy for quirky breakage to occur. The document above has a great example:</p>\n\n<blockquote>\n  <p>The Pentium 4 performance for 64-bit right shifts is really poor. 64-bit left shift as well as all 32-bit shifts have acceptable performance. It appears that the data path from the upper 32 bits to the lower 32 bit of the ALU is not well designed.</p>\n</blockquote>\n\n<p>I personally ran into a strange case where a hot loop ran considerably slower on a specific core of a four-core chip (AMD if I recall). We actually got better performance on a map-reduce calculation by turning that core off.</p>\n\n<p>Here my guess is contention for integer units: that the <code>popcnt</code>, loop counter, and address calculations can all just barely run at full speed with the 32-bit wide counter, but the 64-bit counter causes contention and pipeline stalls. Since there are only about 12 cycles total, potentially 4 cycles with multiple dispatch, per loop body execution, a single stall could reasonably affect run time by a factor of 2. </p>\n\n<p>The change induced by using a static variable, which I'm guessing just causes a minor reordering of instructions, is another clue that the 32-bit code is at some tipping point for contention.</p>\n\n<p>I know this is not a rigorous analysis, but it <em>is</em> a plausible explanation.</p>\n", "title": "Replacing a 32-bit loop count variable with 64-bit introduces crazy performance deviations", "answer_id": 25087977, "question_id": 25078285, "tags": ["c++", "performance", "optimization", "assembly", "compiler-optimization"]}, {"body": "<p><strong>Culprit: False Data Dependency</strong> (and the compiler isn't even aware of it)</p>\n\n<p>On Sandy/Ivy Bridge and Haswell processors, the instruction:</p>\n\n<pre><code>popcnt src, dest\n</code></pre>\n\n<p>appears to have a false dependency on the destination register <code>dest</code>. Even though the instruction only writes to it, the instruction will wait until <code>dest</code> is ready before executing.</p>\n\n<p>This dependency doesn't just hold up the 4 <code>popcnt</code>s from a single loop iteration. It can carry across loop iterations making it impossible for the processor to parallelize different loop iterations.</p>\n\n<p>The <code>unsigned</code> vs. <code>uint64_t</code> and other tweaks don't directly affect the problem. But they influence the register allocator which assigns the registers to the variables.</p>\n\n<p>In your case, the speeds are a direct result of what is stuck to the (false) dependency chain depending on what the register allocator decided to do.</p>\n\n<ul>\n<li>13 GB/s has a chain: popcnt-add-popcnt-popcnt --> next iteration</li>\n<li>15 GB/s has a chain: popcnt-add-popcnt-add --> next iteration</li>\n<li>20 GB/s has a chain: popcnt-popcnt --> next iteration</li>\n<li>26 GB/s has a chain: popcnt-popcnt --> next iteration</li>\n</ul>\n\n<p>The difference between 20 GB/s and 26 GB/s seems to be a minor artifact of the indirect addressing. Either way, the processor starts to hit other bottlenecks once you reach this speed.</p>\n\n<hr>\n\n<p>To test this, I used inline assembly to bypass the compiler and get exactly the assembly I want. I also split up the <code>count</code> variable to break all other dependencies that might mess with the benchmarks.</p>\n\n<p>Here are the results:</p>\n\n<p><strong>Sandy Bridge Xeon @ 3.5 GHz:</strong> (full test code can be found at the bottom)</p>\n\n<ul>\n<li>GCC 4.6.3: <code>g++ popcnt.cpp -std=c++0x -O3 -save-temps -march=native</code></li>\n<li>Ubuntu 12</li>\n</ul>\n\n<p>Different Registers: <strong>18.6195 GB/s</strong></p>\n\n<pre><code>.L4:\n    movq    (%rbx,%rax,8), %r8\n    movq    8(%rbx,%rax,8), %r9\n    movq    16(%rbx,%rax,8), %r10\n    movq    24(%rbx,%rax,8), %r11\n    addq    $4, %rax\n\n    popcnt %r8, %r8\n    add    %r8, %rdx\n    popcnt %r9, %r9\n    add    %r9, %rcx\n    popcnt %r10, %r10\n    add    %r10, %rdi\n    popcnt %r11, %r11\n    add    %r11, %rsi\n\n    cmpq    $131072, %rax\n    jne .L4\n</code></pre>\n\n<p>Same Register: <strong>8.49272 GB/s</strong></p>\n\n<pre><code>.L9:\n    movq    (%rbx,%rdx,8), %r9\n    movq    8(%rbx,%rdx,8), %r10\n    movq    16(%rbx,%rdx,8), %r11\n    movq    24(%rbx,%rdx,8), %rbp\n    addq    $4, %rdx\n\n    # This time reuse \"rax\" for all the popcnts.\n    popcnt %r9, %rax\n    add    %rax, %rcx\n    popcnt %r10, %rax\n    add    %rax, %rsi\n    popcnt %r11, %rax\n    add    %rax, %r8\n    popcnt %rbp, %rax\n    add    %rax, %rdi\n\n    cmpq    $131072, %rdx\n    jne .L9\n</code></pre>\n\n<p>Same Register with broken chain: <strong>17.8869 GB/s</strong></p>\n\n<pre><code>.L14:\n    movq    (%rbx,%rdx,8), %r9\n    movq    8(%rbx,%rdx,8), %r10\n    movq    16(%rbx,%rdx,8), %r11\n    movq    24(%rbx,%rdx,8), %rbp\n    addq    $4, %rdx\n\n    # Reuse \"rax\" for all the popcnts.\n    xor    %rax, %rax    # Break the cross-iteration dependency by zeroing \"rax\".\n    popcnt %r9, %rax\n    add    %rax, %rcx\n    popcnt %r10, %rax\n    add    %rax, %rsi\n    popcnt %r11, %rax\n    add    %rax, %r8\n    popcnt %rbp, %rax\n    add    %rax, %rdi\n\n    cmpq    $131072, %rdx\n    jne .L14\n</code></pre>\n\n<hr>\n\n<p><strong>So what went wrong with the compiler?</strong></p>\n\n<p>It seems that neither GCC, nor Visual Studio are aware that <code>popcnt</code> has such a false dependency. Nevertheless, these false dependencies aren't uncommon. It's just a matter of whether the compiler is aware of it.</p>\n\n<p><code>popcnt</code> isn't exactly the most used instruction. So it's not really a surprise that a major compiler could miss something like this. There also appears to be no documentation anywhere that mentions this problem. If Intel doesn't disclose it, then nobody outside will know until someone runs into it by chance.</p>\n\n<p><strong>Why does the CPU have such a false dependency?</strong></p>\n\n<p>We can only speculate, but it's likely that Intel has the same handling for a lot of two-operand instructions. Common instructions like <code>add</code>, <code>sub</code> take two operands both of which are inputs. So Intel probably shoved <code>popcnt</code> into the same category to keep the processor design simple.</p>\n\n<p>AMD processors do not appear to have this false dependency.</p>\n\n<hr>\n\n<p>The full test code is below for reference:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;chrono&gt;\n#include &lt;x86intrin.h&gt;\n\nint main(int argc, char* argv[]) {\n\n   using namespace std;\n   uint64_t size=1&lt;&lt;20;\n\n   uint64_t* buffer = new uint64_t[size/8];\n   char* charbuffer=reinterpret_cast&lt;char*&gt;(buffer);\n   for (unsigned i=0;i&lt;size;++i) charbuffer[i]=rand()%256;\n\n   uint64_t count,duration;\n   chrono::time_point&lt;chrono::system_clock&gt; startP,endP;\n   {\n      uint64_t c0 = 0;\n      uint64_t c1 = 0;\n      uint64_t c2 = 0;\n      uint64_t c3 = 0;\n      startP = chrono::system_clock::now();\n      for( unsigned k = 0; k &lt; 10000; k++){\n         for (uint64_t i=0;i&lt;size/8;i+=4) {\n            uint64_t r0 = buffer[i + 0];\n            uint64_t r1 = buffer[i + 1];\n            uint64_t r2 = buffer[i + 2];\n            uint64_t r3 = buffer[i + 3];\n            __asm__(\n                \"popcnt %4, %4  \\n\\t\"\n                \"add %4, %0     \\n\\t\"\n                \"popcnt %5, %5  \\n\\t\"\n                \"add %5, %1     \\n\\t\"\n                \"popcnt %6, %6  \\n\\t\"\n                \"add %6, %2     \\n\\t\"\n                \"popcnt %7, %7  \\n\\t\"\n                \"add %7, %3     \\n\\t\"\n                : \"+r\" (c0), \"+r\" (c1), \"+r\" (c2), \"+r\" (c3)\n                : \"r\"  (r0), \"r\"  (r1), \"r\"  (r2), \"r\"  (r3)\n            );\n         }\n      }\n      count = c0 + c1 + c2 + c3;\n      endP = chrono::system_clock::now();\n      duration=chrono::duration_cast&lt;std::chrono::nanoseconds&gt;(endP-startP).count();\n      cout &lt;&lt; \"No Chain\\t\" &lt;&lt; count &lt;&lt; '\\t' &lt;&lt; (duration/1.0E9) &lt;&lt; \" sec \\t\"\n            &lt;&lt; (10000.0*size)/(duration) &lt;&lt; \" GB/s\" &lt;&lt; endl;\n   }\n   {\n      uint64_t c0 = 0;\n      uint64_t c1 = 0;\n      uint64_t c2 = 0;\n      uint64_t c3 = 0;\n      startP = chrono::system_clock::now();\n      for( unsigned k = 0; k &lt; 10000; k++){\n         for (uint64_t i=0;i&lt;size/8;i+=4) {\n            uint64_t r0 = buffer[i + 0];\n            uint64_t r1 = buffer[i + 1];\n            uint64_t r2 = buffer[i + 2];\n            uint64_t r3 = buffer[i + 3];\n            __asm__(\n                \"popcnt %4, %%rax   \\n\\t\"\n                \"add %%rax, %0      \\n\\t\"\n                \"popcnt %5, %%rax   \\n\\t\"\n                \"add %%rax, %1      \\n\\t\"\n                \"popcnt %6, %%rax   \\n\\t\"\n                \"add %%rax, %2      \\n\\t\"\n                \"popcnt %7, %%rax   \\n\\t\"\n                \"add %%rax, %3      \\n\\t\"\n                : \"+r\" (c0), \"+r\" (c1), \"+r\" (c2), \"+r\" (c3)\n                : \"r\"  (r0), \"r\"  (r1), \"r\"  (r2), \"r\"  (r3)\n                : \"rax\"\n            );\n         }\n      }\n      count = c0 + c1 + c2 + c3;\n      endP = chrono::system_clock::now();\n      duration=chrono::duration_cast&lt;std::chrono::nanoseconds&gt;(endP-startP).count();\n      cout &lt;&lt; \"Chain 4   \\t\"  &lt;&lt; count &lt;&lt; '\\t' &lt;&lt; (duration/1.0E9) &lt;&lt; \" sec \\t\"\n            &lt;&lt; (10000.0*size)/(duration) &lt;&lt; \" GB/s\" &lt;&lt; endl;\n   }\n   {\n      uint64_t c0 = 0;\n      uint64_t c1 = 0;\n      uint64_t c2 = 0;\n      uint64_t c3 = 0;\n      startP = chrono::system_clock::now();\n      for( unsigned k = 0; k &lt; 10000; k++){\n         for (uint64_t i=0;i&lt;size/8;i+=4) {\n            uint64_t r0 = buffer[i + 0];\n            uint64_t r1 = buffer[i + 1];\n            uint64_t r2 = buffer[i + 2];\n            uint64_t r3 = buffer[i + 3];\n            __asm__(\n                \"xor %%rax, %%rax   \\n\\t\"   // &lt;--- Break the chain.\n                \"popcnt %4, %%rax   \\n\\t\"\n                \"add %%rax, %0      \\n\\t\"\n                \"popcnt %5, %%rax   \\n\\t\"\n                \"add %%rax, %1      \\n\\t\"\n                \"popcnt %6, %%rax   \\n\\t\"\n                \"add %%rax, %2      \\n\\t\"\n                \"popcnt %7, %%rax   \\n\\t\"\n                \"add %%rax, %3      \\n\\t\"\n                : \"+r\" (c0), \"+r\" (c1), \"+r\" (c2), \"+r\" (c3)\n                : \"r\"  (r0), \"r\"  (r1), \"r\"  (r2), \"r\"  (r3)\n                : \"rax\"\n            );\n         }\n      }\n      count = c0 + c1 + c2 + c3;\n      endP = chrono::system_clock::now();\n      duration=chrono::duration_cast&lt;std::chrono::nanoseconds&gt;(endP-startP).count();\n      cout &lt;&lt; \"Broken Chain\\t\"  &lt;&lt; count &lt;&lt; '\\t' &lt;&lt; (duration/1.0E9) &lt;&lt; \" sec \\t\"\n            &lt;&lt; (10000.0*size)/(duration) &lt;&lt; \" GB/s\" &lt;&lt; endl;\n   }\n\n   free(charbuffer);\n}\n</code></pre>\n\n<hr>\n\n<p>An equally interesting benchmark can be found here: <a href=\"http://pastebin.com/kbzgL8si\">http://pastebin.com/kbzgL8si</a>\n<br>\nThis benchmark varies the number of <code>popcnt</code>s that are in the (false) dependency chain.</p>\n\n<pre><code>False Chain 0:  41959360000 0.57748 sec     18.1578 GB/s\nFalse Chain 1:  41959360000 0.585398 sec    17.9122 GB/s\nFalse Chain 2:  41959360000 0.645483 sec    16.2448 GB/s\nFalse Chain 3:  41959360000 0.929718 sec    11.2784 GB/s\nFalse Chain 4:  41959360000 1.23572 sec     8.48557 GB/s\n</code></pre>\n", "title": "Replacing a 32-bit loop count variable with 64-bit introduces crazy performance deviations", "answer_id": 25089720, "question_id": 25078285, "tags": ["c++", "performance", "optimization", "assembly", "compiler-optimization"]}, {"body": "<p>I coded up an equivalent C program to experiment, and I can confirm this strange behaviour. What's more, <code>gcc</code> believes the 64-bit integer (which should probably be a <code>size_t</code> anyway...) to be better, as using <code>uint_fast32_t</code> causes gcc to use a 64-bit uint.<br><br>\nI did a bit of mucking around with the assembly:<br>\nSimply take the 32-bit version, replace all 32-bit instructions/registers with the 64-bit version in the inner popcount-loop of the program. Observation: the code is <strong>just as fast as the 32-bit version!</strong><br><br>\nThis is obviously a hack, as the size of the variable isn't really 64 bit, as other parts of the program still use the 32-bit version, but as long as the inner popcount-loop dominates performance, this is a good start.<br><br>\nI then copied the inner loop code from the 32-bit version of the program, hacked it up to be 64 bit, fiddled with the registers to make it a replacement for the inner loop of the 64-bit version. <strong>This code also runs as fast as the 32-bit version.</strong><br><br>\nMy conclusion is that this is bad instruction scheduling by the compiler, not actual speed/latency advantage of 32-bit instructions.<br><br> (Caveat: I hacked up assembly, could have broken something without noticing. I don't think so.)</p>\n", "title": "Replacing a 32-bit loop count variable with 64-bit introduces crazy performance deviations", "answer_id": 25089857, "question_id": 25078285, "tags": ["c++", "performance", "optimization", "assembly", "compiler-optimization"]}, {"body": "<p>I tried this with Visual Studio 2013 express, using a pointer instead of an index, which sped up the process a bit. I suspect this is because the addressing is offset + register, instead of offset + register + (register&lt;&lt;3). C++ code. </p>\n\n<pre><code>   uint64_t* bfrend = buffer+(size/8);\n   uint64_t* bfrptr;\n// ...\n   {\n      startP = chrono::system_clock::now();\n      count=0;\n      for( unsigned k = 0; k &lt; 10000; k++){\n         // Tight unrolled loop with uint64_t\n         for (bfrptr = buffer; bfrptr &lt; bfrend;){\n            count += __popcnt64(*bfrptr++);\n            count += __popcnt64(*bfrptr++);\n            count += __popcnt64(*bfrptr++);\n            count += __popcnt64(*bfrptr++);\n         }\n      }\n      endP = chrono::system_clock::now();\n      duration=chrono::duration_cast&lt;std::chrono::nanoseconds&gt;(endP-startP).count();\n      cout &lt;&lt; \"uint64_t\\t\"  &lt;&lt; count &lt;&lt; '\\t' &lt;&lt; (duration/1.0E9) &lt;&lt; \" sec \\t\"\n            &lt;&lt; (10000.0*size)/(duration) &lt;&lt; \" GB/s\" &lt;&lt; endl;\n   }\n</code></pre>\n\n<p>assembly code: r10 = bfrptr, r15 = bfrend, rsi = count, rdi = buffer, r13 = k :</p>\n\n<pre><code>$LL5@main:\n        mov     r10, rdi\n        cmp     rdi, r15\n        jae     SHORT $LN4@main\n        npad    4\n$LL2@main:\n        mov     rax, QWORD PTR [r10+24]\n        mov     rcx, QWORD PTR [r10+16]\n        mov     r8, QWORD PTR [r10+8]\n        mov     r9, QWORD PTR [r10]\n        popcnt  rdx, rax\n        popcnt  rax, rcx\n        add     rdx, rax\n        popcnt  rax, r8\n        add     r10, 32\n        add     rdx, rax\n        popcnt  rax, r9\n        add     rsi, rax\n        add     rsi, rdx\n        cmp     r10, r15\n        jb      SHORT $LL2@main\n$LN4@main:\n        dec     r13\n        jne     SHORT $LL5@main\n</code></pre>\n", "title": "Replacing a 32-bit loop count variable with 64-bit introduces crazy performance deviations", "answer_id": 25091471, "question_id": 25078285, "tags": ["c++", "performance", "optimization", "assembly", "compiler-optimization"]}, {"body": "<p>Have you tried passing <code>-funroll-loops -fprefetch-loop-arrays</code> to GCC?</p>\n\n<p>I get the following results with these additional optimizations:</p>\n\n<pre><code>[1829] /tmp/so_25078285 $ cat /proc/cpuinfo |grep CPU|head -n1\nmodel name      : Intel(R) Core(TM) i3-3225 CPU @ 3.30GHz\n[1829] /tmp/so_25078285 $ g++ --version|head -n1\ng++ (Ubuntu/Linaro 4.7.3-1ubuntu1) 4.7.3\n\n[1829] /tmp/so_25078285 $ g++ -O3 -march=native -std=c++11 test.cpp -o test_o3\n[1829] /tmp/so_25078285 $ g++ -O3 -march=native -funroll-loops -fprefetch-loop-arrays -std=c++11     test.cpp -o test_o3_unroll_loops__and__prefetch_loop_arrays\n\n[1829] /tmp/so_25078285 $ ./test_o3 1\nunsigned        41959360000     0.595 sec       17.6231 GB/s\nuint64_t        41959360000     0.898626 sec    11.6687 GB/s\n\n[1829] /tmp/so_25078285 $ ./test_o3_unroll_loops__and__prefetch_loop_arrays 1\nunsigned        41959360000     0.618222 sec    16.9612 GB/s\nuint64_t        41959360000     0.407304 sec    25.7443 GB/s\n</code></pre>\n", "title": "Replacing a 32-bit loop count variable with 64-bit introduces crazy performance deviations", "answer_id": 25122442, "question_id": 25078285, "tags": ["c++", "performance", "optimization", "assembly", "compiler-optimization"]}, {"body": "<p>TL;DR: Use <code>__builtin</code> intrinsics instead.</p>\n\n<p>I was able to make <code>gcc</code> 4.8.4 (and even 4.7.3 on gcc.godbolt.org) generate optimal code for this by using <code>__builtin_popcountll</code> which uses the same assembly instruction but doesn't have that false dependency bug. I am not 100% sure of my benchmarking code, but <code>objdump</code> output seems to share my views. I use some other tricks(<code>++i</code> vs <code>i++</code>) to make compiler unroll loop for me without any <code>movl</code> instruction(strange behaviour, I must say).</p>\n\n<p>Results:</p>\n\n<p><code>Count: 20318230000 Elapsed: 0.411156 seconds   Speed: 25.503118 GB/s</code></p>\n\n<p>Benchmarking code:</p>\n\n<pre><code>#include &lt;stdint.h&gt;\n#include &lt;stddef.h&gt;\n#include &lt;time.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\nuint64_t builtin_popcnt(const uint64_t* buf, size_t len){\n  uint64_t cnt = 0;\n  for(size_t i = 0; i &lt; len; ++i){\n    cnt += __builtin_popcountll(buf[i]);\n  }\n  return cnt;\n}\n\nint main(int argc, char** argv){\n  if(argc != 2){\n    printf(\"Usage: %s &lt;buffer size in MB&gt;\\n\", argv[0]);\n    return -1;\n  }\n  uint64_t size = atol(argv[1]) &lt;&lt; 20;\n  uint64_t* buffer = (uint64_t*)malloc((size/8)*sizeof(*buffer));\n  //spoil copy-on-write memory allocation on *nix\n  for (size_t i = 0; i &lt; (size / 8); i++) {\n    buffer[i] = random();\n  }\n  uint64_t count = 0;\n  clock_t tic = clock();\n  for(size_t i = 0; i &lt; 10000; ++i){\n    count += builtin_popcnt(buffer, size/8);\n  }\n  clock_t toc = clock();\n  printf(\"Count: %lu\\tElapsed: %f seconds\\tSpeed: %f GB/s\\n\", count, (double)(toc - tic) / CLOCKS_PER_SEC, ((10000.0*size)/(((double)(toc - tic)*1e+9) / CLOCKS_PER_SEC)));\n  return 0;\n}\n</code></pre>\n\n<p>Compile options:</p>\n\n<p><code>gcc --std=gnu99 -mpopcnt -O3 -funroll-loops -march=native bench.c -o bench</code></p>\n\n<p>GCC version:</p>\n\n<p><code>gcc (Ubuntu 4.8.4-2ubuntu1~14.04.1) 4.8.4</code></p>\n\n<p>Kernel version:</p>\n\n<p><code>Linux pinguino 3.19.0-58-generic #64~14.04.1-Ubuntu SMP Fri Mar 18 19:05:43 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux</code></p>\n\n<p>CPU info:</p>\n\n<pre><code>processor   : 0\nvendor_id   : GenuineIntel\ncpu family  : 6\nmodel       : 70\nmodel name  : Intel(R) Core(TM) i7-4870HQ CPU @ 2.50GHz\nstepping    : 1\nmicrocode   : 0xf\ncpu MHz     : 2494.226\ncache size  : 6144 KB\nphysical id : 0\nsiblings    : 1\ncore id     : 0\ncpu cores   : 1\napicid      : 0\ninitial apicid  : 0\nfpu     : yes\nfpu_exception   : yes\ncpuid level : 13\nwp      : yes\nflags       : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ss ht syscall nx rdtscp lm constant_tsc nopl xtopology nonstop_tsc eagerfpu pni pclmulqdq ssse3 fma cx16 pcid sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand hypervisor lahf_lm abm arat pln pts dtherm fsgsbase tsc_adjust bmi1 hle avx2 smep bmi2 invpcid xsaveopt\nbugs        :\nbogomips    : 4988.45\nclflush size    : 64\ncache_alignment : 64\naddress sizes   : 36 bits physical, 48 bits virtual\npower management:\n</code></pre>\n", "title": "Replacing a 32-bit loop count variable with 64-bit introduces crazy performance deviations", "answer_id": 37026212, "question_id": 25078285, "tags": ["c++", "performance", "optimization", "assembly", "compiler-optimization"]}], "question_id": 25078285}, {"body": "<p>I am new to AngularJS. I find Angular quite interesting and planning to use angular in my big apps. So I am in the process to find out the right modules to use.</p>\n\n<p>What is the difference between <strong>ngRoute (angular-route.js)</strong> and <strong>ui-router (angular-ui-router.js)</strong> modules?</p>\n\n<p>In many articles when <em>ngRoute</em> is used, route is configured with <strong><em>$routeProvider</em></strong>. However, when used with <em>ui-router</em>, route is configured with <strong><em>$stateProvider and $urlRouterProvider</em></strong>. </p>\n\n<p>This creates a bit of confusion for me. Which module should I use for better manageability and extensibility?</p>\n", "title": "AngularJS : Difference between angular-route and angular-ui-router", "tags": ["javascript", "angularjs", "angularjs-routing", "angular-ui-router", "angularjs-module"], "answer_count": 12, "link": "http://stackoverflow.com/questions/21023763/angularjs-difference-between-angular-route-and-angular-ui-router", "answers": [{"body": "<p><a href=\"https://github.com/angular-ui/ui-router\">ui-router</a> is a 3rd-party module and is very powerful.  It supports everything the normal ngRoute can do as well as many extra functions.</p>\n\n<p>Here are some common reason ui-router is chosen over ngRoute:</p>\n\n<ul>\n<li><p>ui-router allows for <a href=\"https://github.com/angular-ui/ui-router/wiki/Nested-States-%26-Nested-Views\">nested views</a> and <a href=\"https://github.com/angular-ui/ui-router/wiki/Multiple-Named-Views\">multiple named views</a>.  This is very useful with larger app where you may have pages that inherit from other sections.</p></li>\n<li><p>ui-router allows for you to have strong-type linking between states based on state names.  Change the url in one place will update every link to that state when you build your links with <a href=\"http://angular-ui.github.io/ui-router/site/#/api/ui.router.state.directive:ui-sref\"><code>ui-sref</code></a>. Very useful for larger projects where URLs might change.</p></li>\n<li><p>There is also the concept of the <a href=\"http://angular-ui.github.io/ui-router/site/#/api/ui.router.state.$stateProvider#methods_decorator\">decorator</a> which could be used to allow your routes to be dynamically created based on the URL that is trying to be accessed. This could mean that you will not need to specify all of your routes before hand.</p></li>\n<li><p><a href=\"https://github.com/angular-ui/ui-router/wiki#state-manager\">states</a> allow you to map and access different information about different states and you can easily pass information between states via <a href=\"https://github.com/angular-ui/ui-router/wiki/URL-Routing#stateparams-service\"><code>$stateParams</code></a>.</p></li>\n<li><p>You can easily determine if you are in a state or parent of a state to adjust UI element (highlighting the navigation of the current state) within your templates via <a href=\"http://angular-ui.github.io/ui-router/site/#/api/ui.router.state.$state\"><code>$state</code></a> provided by ui-router which you can expose via setting it in <code>$rootScope</code> on <code>run</code>.</p></li>\n</ul>\n\n<p>In essence, ui-router is ngRouter with more features, under the sheets it is quite different. These additional features are very useful for larger applications.</p>\n\n<p>More Information:</p>\n\n<ul>\n<li>Github: <a href=\"https://github.com/angular-ui/ui-router\">https://github.com/angular-ui/ui-router</a></li>\n<li>Documentation:\n<ul>\n<li>API Reference: <a href=\"http://angular-ui.github.io/ui-router/site/#/api\">http://angular-ui.github.io/ui-router/site/#/api</a></li>\n<li>Guide: <a href=\"https://github.com/angular-ui/ui-router/wiki\">https://github.com/angular-ui/ui-router/wiki</a></li>\n</ul></li>\n<li>FAQs: <a href=\"https://github.com/angular-ui/ui-router/wiki/Frequently-Asked-Questions\">https://github.com/angular-ui/ui-router/wiki/Frequently-Asked-Questions</a></li>\n<li>Sample Application: <a href=\"http://angular-ui.github.io/ui-router/sample/#/\">http://angular-ui.github.io/ui-router/sample/#/</a> </li>\n</ul>\n", "title": "AngularJS : Difference between angular-route and angular-ui-router", "answer_id": 21024270, "question_id": 21023763, "tags": ["javascript", "angularjs", "angularjs-routing", "angular-ui-router", "angularjs-module"]}, {"body": "<p>ngRoute is part of the core AngularJS framework.</p>\n\n<p>ui-router is a community library that has been created to attempt to improve upon the default routing capabilities.</p>\n\n<p>here is a good article about configuring/setting up ui-router:</p>\n\n<p><a href=\"http://www.ng-newsletter.com/posts/angular-ui-router.html\">http://www.ng-newsletter.com/posts/angular-ui-router.html</a></p>\n", "title": "AngularJS : Difference between angular-route and angular-ui-router", "answer_id": 21024339, "question_id": 21023763, "tags": ["javascript", "angularjs", "angularjs-routing", "angular-ui-router", "angularjs-module"]}, {"body": "<p><strong>ngRoute</strong> is a module developed by the Angular.js team which was earlier part of the Angular core.</p>\n\n<p><strong>ui-router</strong> is a framework which was made outside the Angular.js project to improve and enhance routing capabalities. </p>\n\n<p>From the ui-router <a href=\"https://github.com/angular-ui/ui-router\">documentation</a>:</p>\n\n<blockquote>\n  <p>AngularUI Router is a routing framework for AngularJS, which allows\n  you to organize the parts of your interface into a state machine.\n  Unlike the $route service in Angular core, which is organized around\n  URL routes, UI-Router is organized around states, which may optionally\n  have routes, as well as other behavior, attached.</p>\n  \n  <p>States are bound to named, nested and parallel views, allowing you to\n  powerfully manage your application's interface.</p>\n</blockquote>\n\n<p>Neither of them is better, you will have to chose the most appropriate for your project.</p>\n\n<p>However, if you plan to have complex views in your application and you would like to deal with the \"$state\" notion. I recommend you to chose ui-router.</p>\n\n<p>Hope that help !</p>\n", "title": "AngularJS : Difference between angular-route and angular-ui-router", "answer_id": 21024396, "question_id": 21023763, "tags": ["javascript", "angularjs", "angularjs-routing", "angular-ui-router", "angularjs-module"]}, {"body": "<p>If you want to make use of nested views functionality implemented within ngRoute paradigm, try <a href=\"http://angular-route-segment.com\">angular-route-segment</a> - it aims to extend ngRoute rather than to replace it.</p>\n", "title": "AngularJS : Difference between angular-route and angular-ui-router", "answer_id": 22921263, "question_id": 21023763, "tags": ["javascript", "angularjs", "angularjs-routing", "angular-ui-router", "angularjs-module"]}, {"body": "<p>ngRoute is basic routing library, where you can specify just one view and controller for any route.</p>\n\n<p>With ui-router, you can specify multiple views, both parallel and nested. So if you app requires (or may require in future) any kind of complex routing/views, then go ahead with ui-router. </p>\n\n<p><a href=\"http://www.ng-newsletter.com/posts/angular-ui-router.html\" rel=\"nofollow\">This</a> is best getting started guide for AngularUI Router.</p>\n", "title": "AngularJS : Difference between angular-route and angular-ui-router", "answer_id": 25546125, "question_id": 21023763, "tags": ["javascript", "angularjs", "angularjs-routing", "angular-ui-router", "angularjs-module"]}, {"body": "<blockquote>\n  <p>ngRoute is a angular core module which is good for basic scenarios. I believe that they will add more powerful features in upcoming releases.</p>\n</blockquote>\n\n<p>URL: <a href=\"https://docs.angularjs.org/api/ngRoute\">https://docs.angularjs.org/api/ngRoute</a></p>\n\n<blockquote>\n  <p>Ui-router is a contributed module which is overcome the problems of ngRoute. Mainly Nested/Complex views.</p>\n</blockquote>\n\n<p>URL: <a href=\"https://github.com/angular-ui/ui-router\">https://github.com/angular-ui/ui-router</a></p>\n\n<p>Some of the difference between ui-router and ngRoute</p>\n\n<p><a href=\"http://www.amasik.com/angularjs-ngroute-vs-ui-router/\">http://www.amasik.com/angularjs-ngroute-vs-ui-router/</a></p>\n\n<p><img src=\"http://i.stack.imgur.com/PkUq0.png\" alt=\"enter image description here\"></p>\n", "title": "AngularJS : Difference between angular-route and angular-ui-router", "answer_id": 27547301, "question_id": 21023763, "tags": ["javascript", "angularjs", "angularjs-routing", "angular-ui-router", "angularjs-module"]}, {"body": "<p>ngRoute is a module built by the Angular team that provides basic client-side routing functionality. This module provides a fairly powerful base for routing, and can be built upon pretty easily to give solid routing functionality, as exemplified in <a href=\"http://www.bennadel.com/blog/2801-revisiting-routing-nested-views-and-caching-with-ngroute-in-angularjs-1-x.htm\" rel=\"nofollow\">this blog post</a> (be sure to read the comment trail between Ward Bell and Ben Nadel, the author - they are a couple of Angular pros)</p>\n\n<p>ui-router shifts the focus from url-centric routes to application \"states\", which may or may not be reflected in the url.</p>\n\n<p>The primary features added by ui-router are nested states and named views.</p>\n\n<p>Nested states allow you to separate controller logic for the various pieces of the application. A very simple example of this would be an app with primary navigation across the top, a secondary navigation list along the left, and content on the right. Without nested states, a single controller would typically have to handle the display logic for the secondary navigation as well as the content. Nested routing allows you to separate these concerns.</p>\n\n<p>Named views are another additional feature of ui-router. With ngRoute, you can only have a single ngView directive on a page, whereas with named views in ui-router you can specify multiple ui-view directives, and then each state is able to affect the template and controller of the names views. A super simple example of this would be to have the main content of your app be the primary view, and then to also have a footer bar that would be a separate ui-view. In this scenario, the footer's controller no longer has to listen for state/route changes.</p>\n\n<p>A good comparison of ngRoute and ui-router can be found on <a href=\"http://devchat.tv/adventures-in-angular/032-aia-angular-ui-router-with-craig-mckeachie\" rel=\"nofollow\">this podcast</a> episode.</p>\n\n<p>Just to make things more confusing, keep an eye on the new \"official\" routing module that the Angular team is expecting to release for versions 1.5 and 2.0 of Angular. This will be replacing the ngRoute module. <a href=\"http://angular.github.io/router/\" rel=\"nofollow\">Here</a>  is the current documentation for the new Router module - it is fairly sparse as of this posting since the implementation has not yet been finalized. Watch <a href=\"https://blog.angularjs.org/\" rel=\"nofollow\">here</a> for more news on when this module will actually be released.</p>\n", "title": "AngularJS : Difference between angular-route and angular-ui-router", "answer_id": 31085000, "question_id": 21023763, "tags": ["javascript", "angularjs", "angularjs-routing", "angular-ui-router", "angularjs-module"]}, {"body": "<p>ui router make ur life easier! you can add it to you Angular app via injecting it into your app.. </p>\n\n<p>ng-route comes as part of the core Angular, so it's simpler and give u less options...</p>\n\n<p>Look at here to understand ng-route better : <a href=\"https://docs.angularjs.org/api/ngRoute\" rel=\"nofollow\">https://docs.angularjs.org/api/ngRoute</a></p>\n\n<p>Also when using it , don't forget to use: ngView ..</p>\n\n<p>ng-ui-router is different but:</p>\n\n<p><a href=\"https://github.com/angular-ui/ui-router\" rel=\"nofollow\">https://github.com/angular-ui/ui-router</a> but gives you more options....</p>\n", "title": "AngularJS : Difference between angular-route and angular-ui-router", "answer_id": 33171868, "question_id": 21023763, "tags": ["javascript", "angularjs", "angularjs-routing", "angular-ui-router", "angularjs-module"]}, {"body": "<p>Generally ui-router work on state mechanism...\nIt can be understand with an easy example...\nLets say we have a big application of music library ( like ..gaana or saavan or any other)\nAnd at the bottom of the page you have music player which is shared across all the state of the page.\nNow let's say you just click on some songs to play.\nIn this case only that music player state should change instead of reloading full page.\nThat can be easily handled  by ui-router.</p>\n\n<p>While in ngRoute we just attach the view and the controller.</p>\n", "title": "AngularJS : Difference between angular-route and angular-ui-router", "answer_id": 34571427, "question_id": 21023763, "tags": ["javascript", "angularjs", "angularjs-routing", "angular-ui-router", "angularjs-module"]}, {"body": "<p>AngularUI Router is a routing framework for AngularJS, which allows you to organize the parts of your interface into a state machine. Unlike the $route service in the Angular ngRoute module, which is organized around URL routes, UI-Router is organized around states, which may optionally have routes, as well as other behavior, attached.</p>\n\n<p><a href=\"https://github.com/angular-ui/ui-router\" rel=\"nofollow\">https://github.com/angular-ui/ui-router</a></p>\n", "title": "AngularJS : Difference between angular-route and angular-ui-router", "answer_id": 35262754, "question_id": 21023763, "tags": ["javascript", "angularjs", "angularjs-routing", "angular-ui-router", "angularjs-module"]}, {"body": "<p>Why You Should Use UI-Router:</p>\n\n<p>Multiple Views:\n    Most applications can be broken up into regions. At a minimum, applications usually have a header, a main content area, and a footer.</p>\n\n<p>Commonly, applications may have an additional sidebar on the left or right side of the page as shown below.\n    <a href=\"http://i.stack.imgur.com/qyYgX.jpg\"><img src=\"http://i.stack.imgur.com/qyYgX.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>In most use cases, all of these regions (views) are shown on the page at the same time. With the built-in AngularJS router, ngRoute, only one view (ng-view) is allowed per page. This limitation causes people to use includes (ng-include) or other workarounds to create a layout or master page for their application. UI-Router supports multiple views and each can have it\u2019s own corresponding Controller so that each of these regions can be encapsulated and reused throughout the application if needed.</p>\n\n<p>Nested Views:\n    The common example of a nested view in applications is a master/detail or, more specifically, a list/detail page. Many applications show a list of items then when you click on an item you see the detail for that item. Taking this example further, you might then click an edit link when viewing the item\u2019s details that takes you to an editable form for the item (see the diagram below to visualize).\n    <a href=\"http://i.stack.imgur.com/oJcUe.jpg\"><img src=\"http://i.stack.imgur.com/oJcUe.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>This scenario is easily achieved with the built-in AngularJS router, <code>ngRoute</code>, if the list and detail are on separate pages (or views as they are called in AngularJS). However, if you want the list to remain on the page while you show the detail to the right or below the list this becomes more challenging.</p>\n\n<p>To be clear, this requirement can be achieved with <code>ngRoute</code> by sharing a single view with two controllers: one for the list and one for the detail and hiding and showing the detail as needed.</p>\n\n<p>The result is not ideal because we would like the list and detail to each have their own controller and view with only one responsibility (showing a list or showing item details). By encapsulating these user interface areas in their own view we can have a more composable UI that allows us to bring the pieces together or break them apart as needed to meet requirements.</p>\n\n<p>Nested views enable us to not only to bring these views together at the same time, but also to nest a view inside another view.</p>\n", "title": "AngularJS : Difference between angular-route and angular-ui-router", "answer_id": 37274246, "question_id": 21023763, "tags": ["javascript", "angularjs", "angularjs-routing", "angular-ui-router", "angularjs-module"]}, {"body": "<p>ng-route is Developed by the angularJS Team for routing.\nng-route:  url (Location) based routing</p>\n\n<p>ui-router is develoepd by 3rd party module\nui-router : state based routing\nui-router allows for nested views \nui-router more powerful ng-route</p>\n\n<p><a href=\"https://docs.angularjs.org/api/ngRoute\" rel=\"nofollow\">ng-router</a>, \n<a href=\"https://github.com/angular-ui/ui-router\" rel=\"nofollow\">ui-router</a></p>\n", "title": "AngularJS : Difference between angular-route and angular-ui-router", "answer_id": 39227183, "question_id": 21023763, "tags": ["javascript", "angularjs", "angularjs-routing", "angular-ui-router", "angularjs-module"]}], "question_id": 21023763}, {"body": "<p>I've been developing an app for 1 or 2 weeks now and just yesterday I've updated my iPhone 5S to the iOS 8 GM. Everything worked fine and I could test on my device as well until I deleted the app from my phone and wanted to build again. The following error appeared:</p>\n\n<pre><code>Could not launch \"My App\"\nprocess launch failed: Security\n</code></pre>\n\n<p><a href=\"http://i.stack.imgur.com/TzLwB.png\"><img src=\"http://i.stack.imgur.com/TzLwB.png\" alt=\"Screenshot added\"></a></p>\n\n<p>When I test with the simulator it works fine.\nIs this because of the iOS 8 GM update and how can I fix this launch problem?\nI want to be able to test on my iPhone and in the simulator.</p>\n", "title": "Xcode process launch failed: Security", "tags": ["ios", "xcode", "process", "build"], "answer_count": 14, "link": "http://stackoverflow.com/questions/25824908/xcode-process-launch-failed-security", "answers": [{"body": "<p>I have the same issue. I click ok in xcode and when launching the app on my iPhone I'm asked if I want to trust this application. Doing it, the app runs and further build-and-run from xcode went without any issue until deleting the app from the iPhone and reinstalling it. Then goto first line ;-)</p>\n", "title": "Xcode process launch failed: Security", "answer_id": 25825005, "question_id": 25824908, "tags": ["ios", "xcode", "process", "build"]}, {"body": "<p>If you get this, the app has installed on your device. You have to tap the icon. It will ask you if you <em>really</em> want to run it. Say \u201c<code>yes</code>\u201d and then <code>Build &amp; Run again</code>.</p>\n\n<p>As from iOS 9, it is required to go to <code>Settings \u2192 General \u2192 DeviceManagement \u2192 DeveloperApp \u2192 Trust</code>.</p>\n", "title": "Xcode process launch failed: Security", "answer_id": 25837245, "question_id": 25824908, "tags": ["ios", "xcode", "process", "build"]}, {"body": "<p>Xcode is able to build and install the app, but isn't able to launch it the first time. You just need to tap on the app's icon on the phone, then you will be prompted to ask if you want to trust the developer. Allow it and the app will launch, then Xcode will be able to automatically install &amp; launch this and your other apps.</p>\n", "title": "Xcode process launch failed: Security", "answer_id": 25944086, "question_id": 25824908, "tags": ["ios", "xcode", "process", "build"]}, {"body": "<p>Hey so the accepted answer works, except if you need to debug the initial launch of the app. However I think that answer is more of a work around, and not an actual solution. From my understanding this message occurs when you have some weirdness in your provisioning profile / cert setup so make extra sure everything is in tip-top shape in that dept. before ramming your head against the wall repeatedly.</p>\n\n<p>What worked for me was as follows from the <a href=\"https://developer.apple.com/library/ios/releasenotes/General/RN-iOSSDK-8.0/\">apple docs</a>:</p>\n\n<blockquote>\n  <p>Provisioning Profiles Known Issue If you have upgraded to the GM seed\n  from other betas you may see your apps crashing due to provisioning\n  profile issues.</p>\n  \n  <p>Workaround:</p>\n  \n  <ol>\n  <li><p>Connect the device via USB to your Mac</p></li>\n  <li><p>Launch Xcode Choose Window ->Devices</p></li>\n  <li><p>Right click on the device in left column, choose \"Show\n  Provisioning Profiles\"   </p></li>\n  <li><p>Click on the provisioning profile in question</p></li>\n  <li><p>Press the \"-\" button Continue to removing all affected profiles.</p></li>\n  <li><p>Re-install the app</p></li>\n  </ol>\n</blockquote>\n\n<p>Make sure you right click on the image of the device not the name of the device or you won't see the provisioning profiles option. I restored my new phone from an old backup and there was a lot of cruft hanging around, i also had 2 different dev. certs active (not sure why) but i deleted one, made a new profile got rid of all the profiles on device and it worked. </p>\n\n<p>Hope this helps someone else.</p>\n", "title": "Xcode process launch failed: Security", "answer_id": 25965341, "question_id": 25824908, "tags": ["ios", "xcode", "process", "build"]}, {"body": "<p>\"If you get this, the app has installed on your device. You have to tap the icon. It will ask you if you really want to run it. Say \u201cyes\u201d and then Build &amp; Run again.\"</p>\n\n<p>To add to that, this only holds true the moment you get the error, if you click OK, then tap on the app. It will do nothing. Scratched my head on that for 30 odd minutes, searching for alternative ways to address the problem.</p>\n", "title": "Xcode process launch failed: Security", "answer_id": 25965823, "question_id": 25824908, "tags": ["ios", "xcode", "process", "build"]}, {"body": "<p>BTW, this also happens if you change the team of your target in Xcode and rebuild. Was quite puzzled to see that problem with an app that I had run on the device before. Took me a while to figure out\u2026\nMight only happen the first time building to a device with a team, though.</p>\n", "title": "Xcode process launch failed: Security", "answer_id": 26020986, "question_id": 25824908, "tags": ["ios", "xcode", "process", "build"]}, {"body": "<p>To get around the <code>process launch failed: Security</code> issue and immediately launch the app on your device, tap the app icon on your iOS device after running the app via Xcode.</p>\n\n<p>This will allow you to immediately run the app. It may not actually \"fix\" the root issue that is causing these permission alerts.</p>\n\n<p>Be sure to tap the app icon <strong>while the Xcode alert is still shown</strong>. Otherwise the app will not run. I continually forget this vital step and am unable to run the app on my device. Thus I am documenting it here for myself and everyone else :)</p>\n\n<ol>\n<li>Run the app via Xcode. You will see the security alert below. <strong>Do not press OK</strong>.</li>\n</ol>\n\n<p><img src=\"http://i.stack.imgur.com/Ei0kQ.png\" alt=\"Could not launch &quot;AppName&quot; process launch failed: Security\"></p>\n\n<ol start=\"2\">\n<li>On your iOS device, tap the newly installed app icon:</li>\n</ol>\n\n<p><img src=\"http://i.stack.imgur.com/SlIvr.png\" alt=\"tap the app icon on your iOS device\"></p>\n\n<ol start=\"3\">\n<li><p>After tapping the icon, you should now see an alert asking you to \"Trust\" the Untrusted App Developer. After doing so the app will immediately run, unconnected to the Xcode debugger.</p>\n\n<ul>\n<li>If you do not see this \"Trust\" alert, you likely pressed \"OK\" in Xcode too soon. <strong>Do not press \"OK\" on the Xcode alert</strong> until <em>after</em> trusting the developer.</li>\n</ul></li>\n</ol>\n\n<p><img src=\"http://i.stack.imgur.com/eacvl.png\" alt=\"Trust this developer?\"></p>\n\n<ol start=\"4\">\n<li>Finally, go back and press \"OK\" on the Xcode alert. You will have to re-run the app to connect the running app on your iOS device to the Xcode debugger.</li>\n</ol>\n\n<p><img src=\"http://i.stack.imgur.com/0Yiig.png\" alt=\"Now press OK in Xcode.\"></p>\n", "title": "Xcode process launch failed: Security", "answer_id": 28121030, "question_id": 25824908, "tags": ["ios", "xcode", "process", "build"]}, {"body": "<p><strong>Updated answer for Xcode 7</strong>: Tapping the app no longer works (as of beta 1 it just displays an \"untrusted enterprise developer\" message with only a Dismiss button).</p>\n\n<p>To fix, open the Settings app, go to General / Profiles, and you'll see your profile. Mark it trusted and things should start working normally again.</p>\n\n<p><strong>Updated For iOS 9.2.1 and Xcode 7.2.1:</strong></p>\n\n<p>Goto: Settings > General > Device Management > Select App from Developer Apps > Trust App.</p>\n", "title": "Xcode process launch failed: Security", "answer_id": 30888983, "question_id": 25824908, "tags": ["ios", "xcode", "process", "build"]}, {"body": "<p>Alternatively if one does not see \"Untrust App Developer\" dialog:</p>\n\n<p>Go to your iPhone > Settings > General > Profile > \"you@email.com\" > Trust</p>\n", "title": "Xcode process launch failed: Security", "answer_id": 32697562, "question_id": 25824908, "tags": ["ios", "xcode", "process", "build"]}, {"body": "<p><strong>Update for iOS9.2.1 and XCode 7.2.1</strong></p>\n\n<p>If you get this error when building to a device in XCode: </p>\n\n<p><a href=\"http://i.stack.imgur.com/4faFd.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/4faFd.png\" alt=\"Error Image for XCode Build\"></a></p>\n\n<p>On your device, tap the app icon that would have just been added from your attempt at building the app and you should see this:</p>\n\n<p><a href=\"http://i.stack.imgur.com/qFNnJ.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/qFNnJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>Next, on your device, go to Settings --> General --> Device Management, and you will see this page:</p>\n\n<p><a href=\"http://i.stack.imgur.com/wnpFI.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/wnpFI.png\" alt=\"enter image description here\"></a></p>\n\n<p>Select the profile you are using with XCode, and you should see this page:\n<a href=\"http://i.stack.imgur.com/PXl9um.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/PXl9um.png\" alt=\"enter image description here\"></a></p>\n\n<p>Click Trust \"username@email.com\" then click Trust on the next popup.</p>\n\n<p>Go back to XCode and re-run your project and it should build the app to your device.</p>\n", "title": "Xcode process launch failed: Security", "answer_id": 33051150, "question_id": 25824908, "tags": ["ios", "xcode", "process", "build"]}, {"body": "<p>SETTINGS ->  GENERAL -> Profiles &amp; Device Management\nchoose the developer profile and push Trust.</p>\n\n<p>if you do not have Profiles &amp; Device Management menu you have to enroll your device on <a href=\"https://beta.apple.com\" rel=\"nofollow\">beta.apple.com</a> and download the profile from Safari.</p>\n\n<ol>\n<li>install the profile </li>\n<li>Restart your device</li>\n<li>tap on the developer profile and trust.</li>\n</ol>\n\n<p>You are all set.</p>\n", "title": "Xcode process launch failed: Security", "answer_id": 33248398, "question_id": 25824908, "tags": ["ios", "xcode", "process", "build"]}, {"body": "<p>Ok this this seems late and I was testing the app with internet connection off to test my app for some functionality. As I turned off the internet it gave me such error. After I turned on the internet I can install again. I know this is silly but this might be helpful to someone</p>\n", "title": "Xcode process launch failed: Security", "answer_id": 33436146, "question_id": 25824908, "tags": ["ios", "xcode", "process", "build"]}, {"body": "<p>In iOS 9.2 they renamed the 'Profiles' to 'Device Management'</p>\n\n<p>This is how you should do it now:</p>\n\n<ol>\n<li>Settings -> General -> Device Management</li>\n<li>Verify the app</li>\n</ol>\n", "title": "Xcode process launch failed: Security", "answer_id": 34205327, "question_id": 25824908, "tags": ["ios", "xcode", "process", "build"]}, {"body": "<p>I had this issue before on Xcode 7 cause then i realized it's all about my internet connection it was down and the security check using the internet to make sure your developer account is correct. and when it see no internet it give this error \u2026 after i have fixed my internet it works good.</p>\n", "title": "Xcode process launch failed: Security", "answer_id": 34636349, "question_id": 25824908, "tags": ["ios", "xcode", "process", "build"]}], "question_id": 25824908}, {"body": "<p>When planning out my programs, I often start with a chain of thought like so:</p>\n\n<blockquote>\n  <p>A football team is just a list of football players. Therefore, I should represent it with:</p>\n\n<pre><code>var football_team = new List&lt;FootballPlayer&gt;();\n</code></pre>\n  \n  <p>The ordering of this list represent the order in which the players are listed in the roster.</p>\n</blockquote>\n\n<p>But I realize later that teams also have other properties, besides the mere list of players, that must be recorded. For example, the running total of scores this season, the current budget, the uniform colors, a <code>string</code> representing the name of the team, etc..</p>\n\n<p>So then I think:</p>\n\n<blockquote>\n  <p>Okay, a football team is just like a list of players, but additionally, it has a name (a <code>string</code>) and a running total of scores (an <code>int</code>). .NET does not provide a class for storing football teams, so I will make my own class. The most similar and relevant existing structure is <code>List&lt;FootballPlayer&gt;</code>, so I will inherit from it:</p>\n\n<pre><code>class FootballTeam : List&lt;FootballPlayer&gt; \n{ \n    public string TeamName; \n    public int RunningTotal \n}\n</code></pre>\n</blockquote>\n\n<p>But it turns out that <a href=\"http://stackoverflow.com/a/5376343/1042555\">a guideline says you shouldn't inherit from <code>List&lt;T&gt;</code></a>. I'm thoroughly confused by this guideline in two respects.</p>\n\n<h2>Why not?</h2>\n\n<p>Apparently <a href=\"http://stackoverflow.com/a/5376358/1042555\"><code>List</code> is somehow optimized for performance</a>. How so? What performance problems will I cause if I extend <code>List</code>? What exactly will break?</p>\n\n<p>Another reason I've seen is that <code>List</code> is provided by Microsoft, and I have no control over it, so <a href=\"http://stackoverflow.com/questions/5376203/inherit-listt#comment6077237_5376343\">I cannot change it later, after exposing a \"public API\"</a>. But I struggle to understand this. What is a public API and why should I care? If my current project does not and is not likely to ever have this public API, can I safely ignore this guideline? If I do inherit from <code>List</code> <em>and</em> it turns out I need a public API, what difficulties will I have?</p>\n\n<p>Why does it even matter? A list is a list. What could possibly change? What could I possibly want to change?</p>\n\n<p>And lastly, if Microsoft did not want me to inherit from <code>List</code>, why didn't they make the class <code>sealed</code>?</p>\n\n<h2>What else am I supposed to use?</h2>\n\n<p>Apparently, for custom collections, Microsoft has provided a <code>Collection</code> class which should be extended instead of <code>List</code>. But this class is very bare, and does not have many useful things, <a href=\"http://stackoverflow.com/questions/1474863/addrange-to-a-collection\">such as <code>AddRange</code></a>, for instance. <a href=\"http://stackoverflow.com/a/12039943/1042555\">jvitor83's answer</a> provides a performance rationale for that particular method, but how is a slow <code>AddRange</code> not better than no <code>AddRange</code>?</p>\n\n<p>Inheriting from <code>Collection</code> is way more work than inheriting from <code>List</code>, and I see no benefit. Surely Microsoft wouldn't tell me to do extra work for no reason, so I can't help feeling like I am somehow misunderstanding something, and inheriting <code>Collection</code> is actually not the right solution for my problem.</p>\n\n<p>I've seen suggestions such as implementing <code>IList</code>. Just no. This is dozens of lines of boilerplate code which gains me nothing.</p>\n\n<p>Lastly, some suggest wrapping the <code>List</code> in something: </p>\n\n<pre><code>class FootballTeam \n{ \n    public List&lt;FootballPlayer&gt; Players; \n}\n</code></pre>\n\n<p>There are two problems with this:</p>\n\n<ol>\n<li><p>It makes my code needlessly verbose. I must now call <code>my_team.Players.Count</code> instead of just <code>my_team.Count</code>. Thankfully, with C# I can define indexers to make indexing transparent, and forward all the methods of the internal <code>List</code>... But that's a lot of code! What do I get for all that work?</p></li>\n<li><p>It just plain doesn't make any sense. A football team doesn't \"have\" a list of players. It <em>is</em> the list of players. You don't say \"John McFootballer has joined SomeTeam's players\". You say \"John has joined SomeTeam\". You don't add a letter to \"a string's characters\", you add a letter to a string. You don't add a book to a library's books, you add a book to a library.</p></li>\n</ol>\n\n<p>I realize that what happens \"under the hood\" can be said to be \"adding X to Y's internal list\", but this seems like a very counter-intuitive way of thinking about the world.</p>\n\n<h2>My question (summarized)</h2>\n\n<p>What is the correct C# way of representing a data structure, which, \"logically\" (that is to say, \"to the human mind\") is just a <code>list</code> of <code>things</code> with a few bells and whistles?</p>\n\n<p>Is inheriting from <code>List&lt;T&gt;</code> always unacceptable? When is it acceptable? Why/why not? What must a programmer consider, when deciding whether to inherit from <code>List&lt;T&gt;</code> or not?</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "tags": ["c#", ".net", "oop", "inheritance", "design"], "answer_count": 24, "link": "http://stackoverflow.com/questions/21692193/why-not-inherit-from-listt", "answers": [{"body": "<blockquote>\n  <p>Lastly, some suggest wrapping the List in something:</p>\n</blockquote>\n\n<p>That is the correct way. \"Needlessly wordy\" is a bad way to look at this. It has an explicit meaning when you write <code>my_team.Players.Count</code>. You want to count the players.</p>\n\n<pre><code>my_team.Count\n</code></pre>\n\n<p>..means nothing. Count what?</p>\n\n<p>Your design is broken when you want to inherit from <code>List</code>. Your team isn't a list.. it's an enclosing entity that owns other entities. A team owns players, so players should be part of it (a member).</p>\n\n<p>If you're <em>really</em> worried about it being \"needlessly wordy\", you can always expose properties from the team:</p>\n\n<pre><code>public int PlayerCount {\n    get {\n        return Players.Count;\n    }\n}\n</code></pre>\n\n<p>..which becomes:</p>\n\n<pre><code>my_team.PlayerCount\n</code></pre>\n\n<p>This has meaning now and adheres to <a href=\"http://en.wikipedia.org/wiki/Law_of_Demeter\">The Law Of Demeter</a>.</p>\n\n<p>You should also consider adhering to the <a href=\"http://en.wikipedia.org/wiki/Composition_over_inheritance\">Composite reuse principle</a>. By inheriting from <code>List&lt;T&gt;</code>, you're saying a team <strong>is a</strong> list of players and exposing needless methods out of it. This is incorrect - as you stated, a team is more than a list of players: it has a name, managers, board members, trainers, medical staff, salary caps, etc. By having your team class contain a list of players, you're saying \"A team <strong>has a</strong> list of players\", but it can also have other things.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "answer_id": 21692228, "question_id": 21692193, "tags": ["c#", ".net", "oop", "inheritance", "design"]}, {"body": "<p>First of all, it has to do with usability. If you use inheritance, the <code>Team</code> class will expose behavior (methods) that are designed purely for object manipulation. For example, <code>AsReadOnly()</code> or <code>CopyTo(obj)</code> methods make no sense for the team object. Instead of the <code>AddRange(items)</code> method you would probably want a more descriptive <code>AddPlayers(players)</code> method.</p>\n\n<p>If you want to use LINQ, implementing a generic interface such as <code>ICollection&lt;T&gt;</code> or <code>IEnumerable&lt;T&gt;</code> would make more sense.</p>\n\n<p>As mentioned, composition is the right way to go about it. Just implement a list of players as a private variable.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "answer_id": 21692455, "question_id": 21692193, "tags": ["c#", ".net", "oop", "inheritance", "design"]}, {"body": "<p>Wow, your post has an entire slew of questions and points. Most of the reasoning you get from Microsoft is exactly on point. Let's start with everything about <code>List&lt;T&gt;</code></p>\n\n<ul>\n<li><code>List&lt;T&gt;</code> <strong>is</strong> highly optimized. It's main usage is to be used as a private member of an object.</li>\n<li>Microsoft did not seal it because sometimes you might want to create a class that has a friendlier name: <code>class MyList&lt;T, TX&gt; : List&lt;CustomObject&lt;T, Something&lt;TX&gt;&gt; { ... }</code>. Now it's as easy as doing <code>var list = new MyList&lt;int, string&gt;();</code>.</li>\n<li><a href=\"http://msdn.microsoft.com/en-us/library/ms182142.aspx\" rel=\"nofollow\">CA1002: Do not expose generic lists</a>: Basically, even if you plan to use this app as the sole developer, it's worthwhile to develop with good coding practices, so they become instilled into you and second nature. You are still allowed to expose the list as an <code>IList&lt;T&gt;</code> if you need any consumer to have an indexed list. This let's you change the implementation within a class later on.</li>\n<li>Microsoft made <code>Collection&lt;T&gt;</code> very generic because it is a generic concept... the name says it all; it is just a collection. There are more precise versions such as <code>SortedCollection&lt;T&gt;</code>, <code>ObservableCollection&lt;T&gt;</code>, <code>ReadOnlyCollection&lt;T&gt;</code>, etc. each of which implement <code>IList&lt;T&gt;</code> but <strong>not</strong> <code>List&lt;T&gt;</code>.</li>\n<li><code>Collection&lt;T&gt;</code> allows for members (i.e. Add, Remove, etc.) to be overridden because they are virtual. <code>List&lt;T&gt;</code> does not.</li>\n<li>The last part of your question is spot on. A Football team is more than just a list of players, so it should be a class that contains that list of players. Think <a href=\"http://stackoverflow.com/a/49016/347172\">Composition vs Inheritance</a>. A Football team <em>has</em> a list of players (a roster), it isn't a list of players.</li>\n</ul>\n\n<hr>\n\n<p>If I were writing this code the class would probably look something like so:</p>\n\n<pre><code>public class FootballTeam\n{\n    // Football team rosters are generally 53 total players.\n    private readonly List&lt;T&gt; _roster = new List&lt;T&gt;(53);\n\n    public IList&lt;T&gt; Roster\n    {\n        get { return _roster; }\n    }\n\n    // Yes. I used LINQ here. This is so I don't have to worry about\n    // _roster.Length vs _roster.Count vs anything else.\n    public int PlayerCount\n    {\n        get { return _roster.Count(); }\n    }\n\n    // Any additional members you want to expose/wrap.\n}\n</code></pre>\n", "title": "Why not inherit from List&lt;T&gt;?", "answer_id": 21692470, "question_id": 21692193, "tags": ["c#", ".net", "oop", "inheritance", "design"]}, {"body": "<p>There are some good answers here. I would add to them the following points.</p>\n\n<blockquote>\n  <p>What is the correct C# way of representing a data structure, which, \"logically\" (that is to say, \"to the human mind\") is just a list of things with a few bells and whistles?</p>\n</blockquote>\n\n<p>Ask any ten non-computer-programmer people who are familiar with the existence of football to fill in the blank:</p>\n\n<pre><code>A football team is a particular kind of _____\n</code></pre>\n\n<p>Did <em>anyone</em> say \"list of football players with a few bells and whistles\", or did they all say \"sports team\" or \"club\" or \"organization\"?  Your notion that a football team is <em>a particular kind of list of players</em> is in your human mind and your human mind alone. </p>\n\n<p><code>List&lt;T&gt;</code> is a <em>mechanism</em>.  Football team is a <em>business object</em> -- that is, an object that represents some concept that is in the <em>business domain</em> of the program. Don't mix those! A football team <em>is a kind of</em> team; it <em>has a</em> roster, a roster <em>is a list of players</em>. A roster is not a <em>particular kind of list of players</em>. A roster <em>is</em> a list of players. So make a property called <code>Roster</code> that is a <code>List&lt;Player&gt;</code>. And make it <code>ReadOnlyList&lt;Player&gt;</code> while you're at it, unless you believe that everyone who knows about a football team gets to delete players from the roster.</p>\n\n<blockquote>\n  <p>Is inheriting from <code>List&lt;T&gt;</code> always unacceptable? </p>\n</blockquote>\n\n<p>Unacceptable to who? Me? No.</p>\n\n<blockquote>\n  <p>When is it acceptable? </p>\n</blockquote>\n\n<p>When you're building a mechanism that <em>extends the <code>List&lt;T&gt;</code> mechanism</em>.</p>\n\n<blockquote>\n  <p>What must a programmer consider, when deciding whether to inherit from <code>List&lt;T&gt;</code> or not?</p>\n</blockquote>\n\n<p>Am I building a <em>mechanism</em> or a <em>business object</em>? </p>\n\n<blockquote>\n  <p>But that's a lot of code! What do I get for all that work?</p>\n</blockquote>\n\n<p>You spent more time typing up your question that it would have taken you to write forwarding methods for the relevant members of <code>List&lt;T&gt;</code> fifty times over. You're clearly not afraid of verbosity, and we are talking about a very small amount of code here; this is a few minutes work.</p>\n\n<h2>UPDATE</h2>\n\n<p>I gave it some more thought and there is another reason to not model a football team as a list of players. In fact it might be a bad idea to model a football team as <em>having</em> a list of players too. The problem with a team as/having a list of players is that what you've got is a <em>snapshot</em> of the team <em>at a moment in time</em>. I don't know what your business case is for this class, but if I had a class that represented a football team I would want to ask it questions like \"how many Seahawks players missed games due to injury between 2003 and 2013?\" or \"What Denver player who previously played for another team had the largest year-over-year increase in yards ran?\" or \"<a href=\"http://theoatmeal.com/comics/working_home\">Did the Piggers go all the way this year?</a>\" </p>\n\n<p>That is, a football team seems to me to be well modeled as <em>a collection of historical facts</em> such as when a player was recruited, injured, retired, etc. Obviously the current player roster is an important fact that should probably be front-and-center, but there may be other interesting things you want to do with this object that require a more historical perspective.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "answer_id": 21694054, "question_id": 21692193, "tags": ["c#", ".net", "oop", "inheritance", "design"]}, {"body": "<h1>It depends on the context</h1>\n\n<p>When you consider your team as a list of players, you are projecting the \"idea\" of a foot ball team down to one aspect: You reduce the \"team\" to the people you see on the field. This projection is only correct in a certain context. In a different context, this might be completely wrong. Imagine you want to become a sponsor of the team. So you have to talk to the managers of the team. In this context the team is projected to the list of its managers. And these two lists usually don't overlap very much. Other contexts are the current versus the former players, etc.</p>\n\n<h2>Unclear semantics</h2>\n\n<p>So the problem with considering a team as a list of its players is that its semantic depends on the context and that it cannot be extended when the context changes. Additionally it is hard to express, which context you are using.</p>\n\n<h2>Classes are extensible</h2>\n\n<p>When you using a class with only one member (e.g. <code>IList activePlayers</code>), you can use the name of the member (and additionally its comment) to make the context clear. When there are additional contexts, you just add an additional member.</p>\n\n<h2>Classes are more complex</h2>\n\n<p>In some cases it might be overkill to create a extra class. Each class definition must be loaded through the classloader and will be cached by the virtual machine. This costs you runtime performance and memory. When you have a very specific context it might be OK to consider a football team as a list of players. But in this case, you should really just use a <code> IList </code>, not a class derived from it.</p>\n\n<h1>Conclusion / Considerations</h1>\n\n<p>When you have a very specific context, it is OK to consider a team as a list of players. For example inside a method it is completely OK to write</p>\n\n<pre><code>IList&lt;Player&gt; footballTeam = ...\n</code></pre>\n\n<p>When using F#, it can even be OK to create a type abbreviation</p>\n\n<pre><code>type FootballTeam = IList&lt;Player&gt;\n</code></pre>\n\n<p>But when the context is broader or even unclear, you should not do this. This is especially the case, when you create a new class, where it is not clear in which context it may be used in the future. A warning sign is when you start to add additional attributes to your class (name of the team, coach, etc.). This is a clear sign that the context where the class will be used is not fixed and will change in the future. In this case you cannot consider the team as a list of players, but you should model the list of the (currently active, not injured, etc.) players as an attribute of the team.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "answer_id": 21698789, "question_id": 21692193, "tags": ["c#", ".net", "oop", "inheritance", "design"]}, {"body": "<p>This is a classic example of <a href=\"https://en.wikipedia.org/wiki/Object_composition\">composition</a> vs <a href=\"https://en.wikipedia.org/wiki/Inheritance_%28object-oriented_programming%29\">inheritance</a>.</p>\n\n<p>In this specific case:</p>\n\n<p>Is the team a list of players with added behavior</p>\n\n<p>or</p>\n\n<p>Is the team an object of its own that happens to contain a list of players.</p>\n\n<p>By extending List you are limiting yourself in a number of ways:</p>\n\n<ol>\n<li><p>You cannot restrict access (for example, stopping people changing the roster). You get all the List methods whether you need/want them all or not.</p></li>\n<li><p>What happens if you want to have lists of other things as well. For example, teams have coaches, managers, fans, equipment, etc. Some of those might well be lists in their own right.</p></li>\n<li><p>You limit your options for inheritance. For example you might want to create a generic Team object, and then have BaseballTeam, FootballTeam, etc. that inherit from that. To inherit from List you need to do the inheritance from Team, but that then means that all the various types of team are forced to have the same implementation of that roster.</p></li>\n</ol>\n\n<p>Composition - including an object giving the behavior you want inside your object.</p>\n\n<p>Inheritance - your object becomes an instance of the object that has the behavior you want.</p>\n\n<p>Both have their uses, but this is a clear case where composition is preferable.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "answer_id": 21699942, "question_id": 21692193, "tags": ["c#", ".net", "oop", "inheritance", "design"]}, {"body": "<p>This reminds me of the \"Is a\" versus \"has a\" tradeoff.  Sometimes it is easier and makesmore sense to inherit directly from a super class.  Other times it makes more sense to create a standalone class and include the class you would have inherited from as a member variable.  You can still access the functionality of the class but are not bound to the interface or any other constraints that might come from inheriting from the class.</p>\n\n<p>Which do you do?  As with a lot of things...it depends on the context.  The guide I would use is that in order to inherit from another class there truly should be an \"is a\" relationship.  So if you a writing a class called BMW, it could inherit from Car because a BMW truly is a car.  A Horse class can inherit from the Mammal class because a horse actually is a mammal in real life and any Mammal functionality should be relevant to Horse.  But can you say that a team is a list?  From what I can tell, it does not seem like a Team really \"is a\" List.  So in this case, I would have a List as a member variable.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "answer_id": 21705278, "question_id": 21692193, "tags": ["c#", ".net", "oop", "inheritance", "design"]}, {"body": "<pre><code>class FootballTeam : List&lt;FootballPlayer&gt; \n{ \n    public string TeamName; \n    public int RunningTotal \n}\n</code></pre>\n\n<p>Previous code means: a bunch of guys from the street playing football, and they happen to have a name. Something like:</p>\n\n<p><img src=\"http://i.stack.imgur.com/PqKUd.jpg\" alt=\"enter image description here\"></p>\n\n<p>Anyway, this code (from m-y's answer) </p>\n\n<pre><code>public class FootballTeam\n{\n    // Football team rosters are generally 53 total players.\n    private readonly List&lt;T&gt; _roster = new List&lt;T&gt;(53);\n\n    public IList&lt;T&gt; Roster\n    {\n        get { return _roster; }\n    }\n\n    public int PlayerCount\n    {\n    get { return _roster.Count(); }\n    }\n\n    // Any additional members you want to expose/wrap.\n}\n</code></pre>\n\n<p>Means: this is a football team which has management, players, admins, etc. Something like:</p>\n\n<p><img src=\"http://i.stack.imgur.com/4QQ31.jpg\" alt=\"enter image description here\"></p>\n\n<p>This is how is your logic presented in pictures...</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "answer_id": 21706411, "question_id": 21692193, "tags": ["c#", ".net", "oop", "inheritance", "design"]}, {"body": "<p>A football team <strong>is not</strong> a list of football players. A football team <strong>is composed of</strong> a list of football players! </p>\n\n<p>This is logically wrong:</p>\n\n<pre><code>class FootballTeam : List&lt;FootballPlayer&gt; \n{ \n    public string TeamName; \n    public int RunningTotal \n}\n</code></pre>\n\n<p>and this is correct:</p>\n\n<pre><code>class FootballTeam \n{ \n    public List&lt;FootballPlayer&gt; players\n    public string TeamName; \n    public int RunningTotal \n}\n</code></pre>\n", "title": "Why not inherit from List&lt;T&gt;?", "answer_id": 21707359, "question_id": 21692193, "tags": ["c#", ".net", "oop", "inheritance", "design"]}, {"body": "<p>It depends on the <em>behaviour</em> of your \"team\" object.  If it behaves just like a collection, it might be OK to represent it first with a plain List.  Then you might start to notice that you keep duplicating code that iterates on the list; at this point you have the option of creating a FootballTeam object that wraps the list of players.  The FootballTeam class becomes the home for all the code that iterates on the list of players.</p>\n\n<blockquote>\n  <p>It makes my code needlessly verbose. I must now call my_team.Players.Count instead of just my_team.Count. Thankfully, with C# I can define indexers to make indexing transparent, and forward all the methods of the internal List... But that's a lot of code! What do I get for all that work?</p>\n</blockquote>\n\n<p>Encapsulation.  Your clients need not know what goes on inside of FootballTeam.  For all your clients know, it might be implemented by looking the list of players up in a database.  They don't need to know, and this improves your design.</p>\n\n<blockquote>\n  <p>It just plain doesn't make any sense. A football team doesn't \"have\" a list of players. It is the list of players. You don't say \"John McFootballer has joined SomeTeam's players\". You say \"John has joined SomeTeam\". You don't add a letter to \"a string's characters\", you add a letter to a string. You don't add a book to a library's books, you add a book to a library.</p>\n</blockquote>\n\n<p>Exactly :) you will say footballTeam.Add(john), not footballTeam.List.Add(john).  The internal list will not be visible.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "answer_id": 21707971, "question_id": 21692193, "tags": ["c#", ".net", "oop", "inheritance", "design"]}, {"body": "<p>As everyone has pointed out, a team of players is not a list of players. This mistake is made by many people everywhere, perhaps at various levels of expertise. Often the problem is subtle and occasionally very gross, as in this case. Such designs are bad because these violate the  <strong>Liskov Substitution Principle</strong>. The internet has many good articles explaining this concept e.g., <a href=\"http://en.wikipedia.org/wiki/Liskov_substitution_principle\">http://en.wikipedia.org/wiki/Liskov_substitution_principle</a> </p></p>\n\n<p>In summary, there are two rules to be preserved in a Parent/Child relationship among classes:</p>\n\n<ul>\n<li>a Child should require no characteristic less than what completely defines the Parent.</li>\n<li>a Parent should require no characteristic in addition to what completely defines the Child.</li>\n</ul>\n\n<p>In other words, a Parent is a necessary definition of a child, and a child is a sufficient definition of a Parent.</p>\n\n<p>Here is a way to think through ones solution and apply the above principle that should help one avoid such a mistake. One should test ones hypothesis by verifying if all the operations of a parent class are valid for the derived class both structurally and semantically.</p>\n\n<ul>\n<li>Is a football team a list of football players? ( Do all properties of a list apply to a team in the same meaning)\n<ul>\n<li>Is a team a collection of homogenous entities? Yes, team is a collection of Players</li>\n<li>Is the order of inclusion of players descriptive of the state of the team and does the team ensure that the sequence is preserved unless explicitly changed? No, and No</li>\n<li>Are players expected to be included/dropped based on their sequencial position in the team? No</li>\n</ul></li>\n</ul>\n\n<p>As you see, only the first characteristic of a list is applicable to a team. Hence a team is not a list. A list would be a implementation detail of how you manage your team, so it should only be used to store the player objects and be manipulated with methods of Team class.</p>\n\n<p>At this point I'd like to remark that a Team class should, in my opinion, not even be implemented using a List; it should be implemented using a Set data structure (HashSet, for example) in most cases.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "answer_id": 21708083, "question_id": 21692193, "tags": ["c#", ".net", "oop", "inheritance", "design"]}, {"body": "<blockquote>\n  <p>What is the <strong>correct</strong> C# way of representing a data structure...</p>\n</blockquote>\n\n<p>Remeber, \"All models are wrong, but some are useful.\" -<a href=\"http://en.wikiquote.org/wiki/George_E._P._Box\" rel=\"nofollow\">George E. P. Box</a></p>\n\n<p>There is no a \"correct way\", only a useful one.</p>\n\n<p>Choose one that is useful to you and/your users. That's it. <strike>Develop economically, don't over-engineer. The less code you write, the less code you will need to debug.</strike> (read the following editions).</p>\n\n<p>-- Edited</p>\n\n<p>My best answer would be... it depends. Inheriting from a List would expose the clients of this class to methods that may be should not be exposed, primarily because FootballTeam looks like a business entity. </p>\n\n<p>-- Edition 2</p>\n\n<p>I sincerely don't remember to what I was referring on the \u201cdon't over-engineer\u201d comment. While I believe the <a href=\"https://en.wikipedia.org/wiki/KISS_principle\" rel=\"nofollow\">KISS</a> mindset is a good guide, I want to emphasize that inheriting a business class from List would create more problems than it resolves, due <a href=\"https://en.wikipedia.org/wiki/Leaky_abstraction\" rel=\"nofollow\" title=\"abstraction leakage\">abstraction leakage</a>.</p>\n\n<p>On the other hand, I believe there are a limited number of cases where simply to inherit from List is useful. As I wrote in the previous edition, it depends. The answer to each case is heavily influenced by both knowledge, experience and personal preferences.</p>\n\n<p>Thanks to @kai for helping me to think more precisely about the answer.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "answer_id": 21709589, "question_id": 21692193, "tags": ["c#", ".net", "oop", "inheritance", "design"]}, {"body": "<p>Does allowing people to say</p>\n\n<pre><code>myTeam.subList(3, 5);\n</code></pre>\n\n<p>make any sense at all? If not then it shouldn't be a List.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "answer_id": 21713663, "question_id": 21692193, "tags": ["c#", ".net", "oop", "inheritance", "design"]}, {"body": "<h2>Design > Implementation</h2>\n\n<p>What methods and properties you expose is a design decision. What base class you inherit from is an implementation detail. I feel it's worth taking a step back to the former.</p>\n\n<p>An object is a collection of data and behaviour.</p>\n\n<p>So your first questions should be:</p>\n\n<ul>\n<li>What data does this object comprise in the model I'm creating?</li>\n<li>What behaviour does this object exhibit in that model?</li>\n<li>How might this change in future?</li>\n</ul>\n\n<p>Bear in mind that inheritance implies an \"isa\" (is a) relationship, whereas composition implies a \"has a\" (hasa) relationship. Choose the right one for your situation in your view, bearing in mind where things might go as your application evolves.</p>\n\n<p>Consider thinking in interfaces before you think in concrete types, as some people find it easier to put their brain in \"design mode\" that way.</p>\n\n<p>This isn't something everyone does consciously at this level in day to day coding. But if you're mulling this sort of topic, you're treading in design waters. Being aware of it can be liberating.</p>\n\n<h2>Consider Design Specifics</h2>\n\n<p>Take a look at List&lt;T&gt; and IList&lt;T&gt; on MSDN or Visual Studio. See what methods and properties they expose. Do these methods all look like something someone would want to do to a FootballTeam in your view?</p>\n\n<p>Does footballTeam.Reverse() make sense to you? Does footballTeam.ConvertAll&lt;TOutput&gt;() look like something you want? </p>\n\n<p>This isn't a trick question; the answer might genuinely be \"yes\". If you implement/inherit List&lt;Player&gt; or IList&lt;Player&gt;, you're stuck with them; if that's ideal for your model, do it.</p>\n\n<p>If you decide yes, that makes sense, and you want your object to be treatable as a collection/list of players (behaviour), and you therefore want to implement ICollection or IList, by all means do so. Notionally:</p>\n\n<pre><code>class FootballTeam : ... ICollection&lt;Player&gt;\n{\n    ...\n}\n</code></pre>\n\n<p>If you want your object to contain a collection/list of players (data), and you therefore want the collection or list to be a property or member, by all means do so. Notionally:</p>\n\n<pre><code>class FootballTeam ...\n{\n    public ICollection&lt;Player&gt; Players { get { ... } }\n}\n</code></pre>\n\n<p>You might feel that you want people to be able to only enumerate the set of players, rather than count them, add to them or remove them. IEnumerable&lt;Player&gt; is a perfectly valid option to consider.</p>\n\n<p>You might feel that none of these interfaces are useful in your model at all. This is less likely (IEnumerable&lt;T&gt; is useful in many situations) but it's still possible.</p>\n\n<p>Anyone who attempts to tell you that one of these it is categorically and definitively <strong>wrong</strong> in every case is misguided. Anyone who attempts to tell you it is categorically and definitively <strong>right</strong> in every case is misguided.</p>\n\n<h2>Move on to Implementation</h2>\n\n<p>Once you've decided on data and behaviour, you can make a decision about implementation. This includes which concrete classes you depend on via inheritance or composition.</p>\n\n<p>This may not be a big step, and people often conflate design and implementation since it's quite possible to run through it all in your head in a second or two and start typing away.</p>\n\n<h2>A Thought Experiment</h2>\n\n<p>An artificial example: as others have mentioned, a team is not always \"just\" a collection of players. Do you maintain a collection of match scores for the team? Is the team interchangable with the club, in your model? If so, and if your team isa collection of players, perhaps it also isa collection of staff and/or a collection of scores. Then you end up with:</p>\n\n<pre><code>class FootballTeam : ... ICollection&lt;Player&gt;, \n                         ICollection&lt;StaffMember&gt;,\n                         ICollection&lt;Score&gt;\n{\n    ....\n}\n</code></pre>\n\n<p>Design notwithstanding, at this point in C# you won't be able to implement all of these by inheriting from List&lt;T&gt; anyway, since C# \"only\" supports single inheritance. (If you've tried this malarky in C++, you may consider this a Good Thing.) Implementing one collection via inheritance and one via composition is likely to <em>feel</em> dirty. And properties such as Count become confusing to users unless you implement ILIst&lt;Player&gt;.Count and IList&lt;StaffMember&gt;.Count etc. explicitly, and then they're just painful rather than confusing. You can see where this is going; gut feeling whilst thinking down this avenue may well tell you it feels wrong to head in this direction (and rightly or wrongly, your colleagues might also if you implemented it this way!)</p>\n\n<h2>The Short Answer (Too Late)</h2>\n\n<p>The guideline about not inheriting from collection classes isn't C# specific, you'll find it in many programming languages. It is received wisdom not a law. One reason is that in practice composition is considered to often win out over inheritance in terms of comprehensibility, implementability and maintainability. It's more common with real world / domain objects to find useful and consistent \"hasa\" relationships than useful and consistent \"isa\" relationships unless you're deep in the abstract, most especially as time passes and the precise data and behaviour of objects in code changes. This shouldn't cause you to always rule out inheriting from collection classes; but it may be suggestive.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "answer_id": 21714467, "question_id": 21692193, "tags": ["c#", ".net", "oop", "inheritance", "design"]}, {"body": "<p>What if the <code>FootballTeam</code> has a reserves team along with the main team?</p>\n\n<pre><code>class FootballTeam\n{\n    List&lt;FootballPlayer&gt; Players { get; set; }\n    List&lt;FootballPlayer&gt; ReservePlayers { get; set; }\n}\n</code></pre>\n\n<p>How would you model that with? </p>\n\n<pre><code>class FootballTeam : List&lt;FootballPlayer&gt; \n{ \n    public string TeamName; \n    public int RunningTotal \n}\n</code></pre>\n\n<p>The relationship is clearly <em>has a</em> and not <em>is a</em>.</p>\n\n<p>or <code>RetiredPlayers</code>?</p>\n\n<pre><code>class FootballTeam\n{\n    List&lt;FootballPlayer&gt; Players { get; set; }\n    List&lt;FootballPlayer&gt; ReservePlayers { get; set; }\n    List&lt;FootballPlayer&gt; RetiredPlayers { get; set; }\n}\n</code></pre>\n\n<p>As a rule of thumb, if you ever want to inherit from a collection, name the class <code>SomethingCollection</code>. </p>\n\n<p>Does your <code>SomethingCollection</code> semantically make sense? Only do this if your type <em>is a</em> collection of <code>Something</code>.</p>\n\n<p>In the case of <code>FootballTeam</code> it doesn't sound right. A <code>Team</code> is more than a <code>Collection</code>. A <code>Team</code> can have coaches, trainers, etc as the other answers have pointed out.</p>\n\n<p><code>FootballCollection</code> sounds like a collection of footballs or maybe a collection of football paraphernalia. <code>TeamCollection</code>, a collection of teams. </p>\n\n<p><code>FootballPlayerCollection</code> sounds like a collection of players which would be a valid name for a class that inherits from <code>List&lt;FootballPlayer&gt;</code> if you really wanted to do that. </p>\n\n<p>Really <code>List&lt;FootballPlayer&gt;</code> is a perfectly good type to deal with. Maybe <code>IList&lt;FootballPlayer&gt;</code> if you are returning it from a method.</p>\n\n<p><strong>In summary</strong></p>\n\n<p>Ask yourself</p>\n\n<ol>\n<li><p><em>Is</em> <code>X</code> a <code>Y</code>? or <em>Has</em> <code>X</code> a <code>Y</code>?</p></li>\n<li><p>Do my class names mean what they are?</p></li>\n</ol>\n", "title": "Why not inherit from List&lt;T&gt;?", "answer_id": 21726950, "question_id": 21692193, "tags": ["c#", ".net", "oop", "inheritance", "design"]}, {"body": "<p>My dirty secret: I don't care what people say, and I do it. .NET Framework is spread with \"XxxxCollection\" (UIElementCollection for top of my head example).</p>\n\n<p>So what stops me saying:</p>\n\n<pre><code>team.Players.ByName(\"Nicolas\")\n</code></pre>\n\n<p>When I find it better than</p>\n\n<pre><code>team.ByName(\"Nicolas\")\n</code></pre>\n\n<p>Moreover, my PlayerCollection might be used by other class, like \"Club\" without any code duplication.</p>\n\n<pre><code>club.Players.ByName(\"Nicolas\")\n</code></pre>\n\n<p>Best practices of yesterday, might not be the one of tomorrow. There is no reason behind most best practices, most are only wide agreement among the community. Instead of asking the community if it will blame you when you do that ask yourself, what is more readable and maintainable?</p>\n\n<pre><code>team.Players.ByName(\"Nicolas\") \n</code></pre>\n\n<p>or</p>\n\n<pre><code>team.ByName(\"Nicolas\")\n</code></pre>\n\n<p>Really. Do you have any doubt? Now maybe you need to play with other technical constraints that prevent you to use List&lt;T> in your real use case. But don't add a constraint that should not exist. If Microsoft did not document the why, then it is surely a \"best practice\" coming from nowhere.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "answer_id": 21729992, "question_id": 21692193, "tags": ["c#", ".net", "oop", "inheritance", "design"]}, {"body": "<p>There are a lot excellent answers here, but I want to touch on something I didn't see mentioned: Object oriented design is about <strong><em>empowering objects</em></strong>.</p>\n\n<p>You want to encapsulate all your rules, additional work and internal details inside an appropriate object. In this way other objects interacting with this one don't have to worry about it all. In fact, you want to go a step further and actively <em>prevent</em> other objects from bypassing these internals.</p>\n\n<p>When you inherit from <code>List</code>, all other objects can see you as a List. They have direct access to the methods for adding and removing players. And you'll have lost your control; for example:</p>\n\n<p>Suppose you want to differentiate when a player leaves by knowing whether they retired, resigned or were fired. You could implement a <code>RemovePlayer</code> method that takes an appropriate input enum. However, by inheriting from <code>List</code>, you would be unable to prevent direct access to <code>Remove</code>, <code>RemoveAll</code> and even <code>Clear</code>. As a result, you've actually <strong><em>disempowered</em></strong> your <code>FootballTeam</code> class.</p>\n\n<hr>\n\n<p>Additional thoughts on encapsulation... You raised the following concern:</p>\n\n<blockquote>\n  <p>It makes my code needlessly verbose. I must now call my_team.Players.Count instead of just my_team.Count.</p>\n</blockquote>\n\n<p>You're correct, that would be needlessly verbose for all clients to use you team. However, that problem is very small in comparison to the fact that you've exposed <code>List Players</code> to all and sundry so they can fiddle with your team without your consent.</p>\n\n<p>You go on to say:</p>\n\n<blockquote>\n  <p>It just plain doesn't make any sense. A football team doesn't \"have\" a list of players. It is the list of players. You don't say \"John McFootballer has joined SomeTeam's players\". You say \"John has joined SomeTeam\".</p>\n</blockquote>\n\n<p>You're wrong about the first bit: Drop the word 'list', and it's actually obvious that a team does have players.<br>\nHowever, you hit the nail on the head with the second. You don't want clients calling <code>ateam.Players.Add(...)</code>. You do want them calling <code>ateam.AddPlayer(...)</code>. And your implemention would (possibly amongst other things) call <code>Players.Add(...)</code> internally.</p>\n\n<hr>\n\n<p>Hopefully you can see how important encapsulation is to the objective of empowering your objects. You want to allow each class to do its job well without fear of interference from other objects.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "answer_id": 21802931, "question_id": 21692193, "tags": ["c#", ".net", "oop", "inheritance", "design"]}, {"body": "<p>When they say <code>List&lt;T&gt;</code> is \"optimized\" I think they want to mean that it doesn't have features like virtual methods which are bit more expensive. So the problem is that once you expose <code>List&lt;T&gt;</code> in your <strong><em>public API</em></strong>, you loose ability to enforce business rules or customize its functionality later. But if you are using this inherited class as internal within your project (as opposed to potentially exposed to thousands of your customers/partners/other teams as API) then it may be OK if it saves your time and it is the functionality you want to duplicate. The advantage of inheriting from <code>List&lt;T&gt;</code> is that you eliminate lot of dumb wrapper code that is just never going to be customized in foreseeable future. Also if you want your class to explicitly have exact same semantics as <code>List&lt;T&gt;</code> for the life of your APIs then also it may be OK.</p>\n\n<p>I often see lot of people doing tons of extra work just because of FxCop rule says so or someone's blog says it's a \"bad\" practice. Many times, this turns code in to design pattern palooza weirdness. As with lot of guideline, treat it as guideline that <em>can</em> have exceptions.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "answer_id": 21808655, "question_id": 21692193, "tags": ["c#", ".net", "oop", "inheritance", "design"]}, {"body": "<p>Let me rewrite your question. so you might see the subject from a different perspective.</p>\n\n<p>When I need to represent a football team, I understand that it is basically a name. Like: \"The Eagles\"</p>\n\n<pre><code>string team = new string();\n</code></pre>\n\n<p>Then later I realized teams also have players.</p>\n\n<p>Why can't I just extend the string type so that it also holds a list of players?</p>\n\n<p>Your point of entry into the problem is arbitrary. Try to think what does a team <strong>have</strong> (properties), not what it <strong>is</strong>.</p>\n\n<p>After you do that, you could see if it shares properties with other classes. And think about inheritance.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "answer_id": 21808698, "question_id": 21692193, "tags": ["c#", ".net", "oop", "inheritance", "design"]}, {"body": "<p>If your class users need all the methods and properties** List has, you should derive your class from it. If they don't need them, enclose the List and make wrappers for methods your class users actually need. </p>\n\n<p>This is a strict rule, if you write a <strong>public API</strong>, or any other code that will be used by many people. You may ignore this rule if you have a tiny app and no more than 2 developers. This will save you some time. </p>\n\n<p>For tiny apps, you may also consider choosing another, less strict language. Ruby, JavaScript - anything that allows you to write less code.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "answer_id": 21808715, "question_id": 21692193, "tags": ["c#", ".net", "oop", "inheritance", "design"]}, {"body": "<p>What the guidelines say is that the public API should not reveal the internal design decision of whether you are using a list, a set, a dictionary, a tree or whatever. A \"team\" is not necessarily a list. You may implement it as a list but users of your public API should use you class on a need to know basis. This allows you to change your decision and use a different data structure without affecting the public interface.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "answer_id": 21843443, "question_id": 21692193, "tags": ["c#", ".net", "oop", "inheritance", "design"]}, {"body": "<p>Just because I think the other answers pretty much go off on a tangent of whether a football team \"is-a\" <code>List&lt;FootballPlayer&gt;</code> or \"has-a\" <code>List&lt;FootballPlayer&gt;</code>, which really doesn't answer this question as written.</p>\n\n<p>The OP chiefly asks for clarification on guidelines for inheriting from <code>List&lt;T&gt;</code>:</p>\n\n<blockquote>\n  <p>A guideline says that you shouldn't inherit from <code>List&lt;T&gt;</code>. Why not?</p>\n</blockquote>\n\n<p>Because <code>List&lt;T&gt;</code> has no virtual methods. This is less of a problem in your own code, since you can usually switch out the implementation with relatively little pain - but can be a much bigger deal in a public API.</p>\n\n<blockquote>\n  <p>What is a public API and why should I care?</p>\n</blockquote>\n\n<p>A public API is an interface you expose to 3rd party programmers. Think framework code. And recall that the guidelines being referenced are the \".NET <em>Framework</em> Design Guidelines\" and not the \".NET <em>Application</em> Design Guidelines\". There is a difference, and - generally speaking - public API design is a lot more strict.</p>\n\n<blockquote>\n  <p>If my current project does not and is not likely to ever have this public API, can I safely ignore this guideline? If I do inherit from List and it turns out I need a public API, what difficulties will I have?</p>\n</blockquote>\n\n<p>Pretty much, yeah. You may want to consider the rationale behind it to see if it applies to your situation anyway, but if you're not building a public API then you don't particularly need to worry about API concerns like versioning (of which, this is a subset).</p>\n\n<p>If you add a public API in the future, you will either need to abstract out your API from your implementation (by not exposing your <code>List&lt;T&gt;</code> directly) or violate the guidelines with the possible future pain that entails.</p>\n\n<blockquote>\n  <p>Why does it even matter? A list is a list. What could possibly change? What could I possibly want to change?</p>\n</blockquote>\n\n<p>Depends on the context, but since we're using <code>FootballTeam</code> as an example - imagine that you can't add a <code>FootballPlayer</code> if it would cause the team to go over the salary cap. A possible way of adding that would be something like:</p>\n\n<pre><code> class FootballTeam : List&lt;FootballPlayer&gt; {\n     override void Add(FootballPlayer player) {\n        if (this.Sum(p =&gt; p.Salary) + player.Salary &gt; SALARY_CAP)) {\n          throw new InvalidOperationException(\"Would exceed salary cap!\");\n        }\n     }\n }\n</code></pre>\n\n<p>Ah...but you can't <code>override Add</code> because it's not <code>virtual</code> (for performance reasons). </p>\n\n<p>If you're in an application (which, basically, means that you and all of your callers are compiled together) then you can now change to using <code>IList&lt;T&gt;</code> and fix up any compile errors:</p>\n\n<pre><code> class FootballTeam : IList&lt;FootballPlayer&gt; {\n     private List&lt;FootballPlayer&gt; Players { get; set; }\n\n     override void Add(FootballPlayer player) {\n        if (this.Players.Sum(p =&gt; p.Salary) + player.Salary &gt; SALARY_CAP)) {\n          throw new InvalidOperationException(\"Would exceed salary cap!\");\n        }\n     }\n     /* boiler plate for rest of IList */\n }\n</code></pre>\n\n<p>but, if you've publically exposed to a 3rd party you just made a breaking change that will cause compile and/or runtime errors.</p>\n\n<p>TL;DR - the guidelines are for public APIs. For private APIs, do what you want.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "answer_id": 29480078, "question_id": 21692193, "tags": ["c#", ".net", "oop", "inheritance", "design"]}, {"body": "<p>I just wanted to add that Bertrand Meyer, the inventor of Eiffel and design by contract, would have <code>Team</code> inherit from <code>List&lt;Player&gt;</code> without so much as batting an eyelid.</p>\n\n<p>In his book, <em>Object-Oriented Software Construction</em>, he discusses the implementation of a GUI system where rectangular windows can have child windows. He simply has <code>Window</code> inherit from both <code>Rectangle</code> and <code>Tree&lt;Window&gt;</code> to reuse the implementation.</p>\n\n<p>However, C# is not Eiffel. The latter supports multiple inheritance and <em>renaming of features</em>. In C#, when you subclass, you inherit both the interface and the implemenation. You can override the implementation, but the calling conventions are copied directly from the superclass. In Eiffel, however, you can modify the names of the public methods, so you can rename <code>Add</code> and <code>Remove</code> to <code>Hire</code> and <code>Fire</code> in your <code>Team</code>. If an instance of <code>Team</code> is upcast back to <code>List&lt;Player&gt;</code>, the caller will use <code>Add</code> and <code>Remove</code> to modify it, but your virtual methods <code>Hire</code> and <code>Fire</code> will be called.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "answer_id": 29894600, "question_id": 21692193, "tags": ["c#", ".net", "oop", "inheritance", "design"]}, {"body": "<p>I think I don't agree with your generalization.  A team isn't just a collection of players.  A team has so much more information about it - name, emblem, collection of management/admin staff, collection of coaching crew, then collection of players. So properly, your FootballTeam class should have 3 collections and not itself be a collection; if it is to properly model the real world.</p>\n\n<p>You could consider a PlayerList class which like the Specialized StringCollection offers some other facilities - like validation and checks before objects are added to or removed from the internal store.</p>\n\n<p>Perhaps, the notion of a PlayerList betters suits your preferred approach?</p>\n\n<pre><code>public class PlayerList : List&lt;Player&gt; \n{ \n}\n</code></pre>\n\n<p>And then the FootballTeam can look like this:</p>\n\n<pre><code>public class FootballTeam \n{ \n    public string Name { get; set; }\n    public string Location { get; set; }\n\n    public ManagementList Management { get; protected set; } = new ManagementList();\n\n    public CoachingList CoachingCrew { get; protected set; } = new CoachingList();\n\n    public PlayerList Players { get; protected set; } = new PlayerList();\n}\n</code></pre>\n", "title": "Why not inherit from List&lt;T&gt;?", "answer_id": 38284299, "question_id": 21692193, "tags": ["c#", ".net", "oop", "inheritance", "design"]}], "question_id": 21692193}, {"body": "<p>I was implementing an algorithm in Swift and noticed that the performance was very poor. After digging deeper I realised that one of the bottlenecks was something as simple as sorting arrays. The relevant part is here:</p>\n\n<pre><code>let n = 1000000\nlet x = Int[](count: n, repeatedValue: 0)\nfor i in 0..n {\n    x[i] = random()\n}\n// start clock here\nlet y = sort(x)\n// stop clock here\n</code></pre>\n\n<p>In C++, a similar operation takes <strong>0.06 s</strong> on my computer.</p>\n\n<p>In Python it takes <strong>0.6 s</strong> (no tricks, just y = sorted(x) for a list of integers).</p>\n\n<p>In Swift it takes <strong>6 s</strong> if I compile it with the following command:</p>\n\n<pre><code>xcrun swift -O3 -sdk `xcrun --show-sdk-path --sdk macosx`\n</code></pre>\n\n<p>And it takes as much as <strong>88 s</strong> if I compile it with the following command:</p>\n\n<pre><code>xcrun swift -O0 -sdk `xcrun --show-sdk-path --sdk macosx`\n</code></pre>\n\n<p>Timings in Xcode with \"Release\" vs. \"Debug\" builds are similar.</p>\n\n<p>What is wrong here? I could understand some performance loss in comparison with C++, but not a 10-fold slowdown in comparison with pure Python.</p>\n\n<hr>\n\n<p><strong>Edit:</strong> mweathers noticed that changing <code>-O3</code> to <code>-Ofast</code> makes this code run almost as fast as the C++ version! However, <code>-Ofast</code> changes the semantics of the language a lot \u2014 in my testing, it <strong>disabled the checks for integer overflows and array indexing overflows</strong>. For example, with <code>-Ofast</code> the following Swift code runs silently without crashing (and prints out some garbage):</p>\n\n<pre><code>let n = 10000000\nprintln(n*n*n*n*n)\nlet x = Int[](count: n, repeatedValue: 10)\nprintln(x[n])\n</code></pre>\n\n<p>So <code>-Ofast</code> is not what we want; the whole point of Swift is that we have the safety nets in place. Of course the safety nets have some impact on the performance, but they should not make the programs 100 times slower. Remember that Java already checks for array bounds, and in typical cases the slowdown is by a factor much less than 2. And in Clang and GCC we have got <code>-ftrapv</code> for checking (signed) integer overflows, and it is not that slow, either.</p>\n\n<p>Hence the question: how can we get a reasonable performance in Swift without losing the safety nets?</p>\n\n<hr>\n\n<p><strong>Edit 2:</strong> I did some more benchmarking, with very simple loops along the lines of</p>\n\n<pre><code>for i in 0..n {\n    x[i] = x[i] ^ 12345678\n}\n</code></pre>\n\n<p>(Here the xor operation is there just so that I can more easily find the relevant loop in the assembly code. I tried to pick an operation that is easy to spot but also \"harmless\" in the sense that it should not require any checks related to integer overflows.)</p>\n\n<p>Again, there was a huge difference in the performance between <code>-O3</code> and <code>-Ofast</code>. So I had a look at the assembly code:</p>\n\n<ul>\n<li><p>With <code>-Ofast</code> I get pretty much what I would expect. The relevant part is a loop with 5 machine language instructions.</p></li>\n<li><p>With <code>-O3</code> I get something that was beyond my wildest imagination. The inner loop spans 88 lines of assembly code. I did not try to understand all of it, but the most suspicious parts are 13 invocations of \"callq _swift_retain\" and another 13 invocations of \"callq _swift_release\". That is, <strong>26 subroutine calls in the inner loop</strong>!</p></li>\n</ul>\n\n<hr>\n\n<p><strong>Edit 3:</strong> In comments, Ferruccio asked for benchmarks that are fair in the sense that they do not rely on built-in functions (e.g. sort). I think the following program is a fairly good example:</p>\n\n<pre><code>let n = 10000\nlet x = Int[](count: n, repeatedValue: 1)\nfor i in 0..n {\n    for j in 0..n {\n        x[i] = x[j]\n    }\n}\n</code></pre>\n\n<p>There is no arithmetic, so we do not need to worry about integer overflows. The only thing that we do is just lots of array references. And the results are here\u2014Swift -O3 loses by factor almost 500 in comparison with -Ofast:</p>\n\n<ul>\n<li>C++ -O3: <strong>0.05 s</strong></li>\n<li>C++ -O0: 0.4 s</li>\n<li>Java: <strong>0.2 s</strong></li>\n<li>Python with PyPy: 0.5 s</li>\n<li>Python: <strong>12 s</strong></li>\n<li>Swift -Ofast: 0.05 s</li>\n<li>Swift -O3: <strong>23 s</strong></li>\n<li>Swift -O0: 443 s</li>\n</ul>\n\n<p>(If you are concerned that the compiler might optimise out the pointless loops entirely, you can change it to e.g. <code>x[i] ^= x[j]</code>, and add a print statement that outputs <code>x[0]</code>. This does not change anything; the timings will be very similar.)</p>\n\n<p>And yes, here the Python implementation was a stupid pure Python implementation with a list of ints and nested for loops. It should be <strong>much</strong> slower than unoptimised Swift. Something seems to be seriously broken with Swift and array indexing.</p>\n\n<hr>\n\n<p><strong>Edit 4:</strong> These issues (as well as some other performance issues) seems to have been fixed in Xcode 6 beta 5.</p>\n\n<p>For sorting, I now have the following timings:</p>\n\n<ul>\n<li>clang++ -O3: 0.06 s</li>\n<li>swiftc -Ofast: 0.1 s</li>\n<li>swiftc -O: 0.1 s</li>\n<li>swiftc: 4 s</li>\n</ul>\n\n<p>For nested loops:</p>\n\n<ul>\n<li>clang++ -O3: 0.06 s</li>\n<li>swiftc -Ofast: 0.3 s</li>\n<li>swiftc -O: 0.4 s</li>\n<li>swiftc: 540 s</li>\n</ul>\n\n<p>It seems that there is no reason anymore to use the unsafe <code>-Ofast</code> (a.k.a. <code>-Ounchecked</code>); plain <code>-O</code> produces equally good code.</p>\n", "title": "Swift performance: sorting arrays", "tags": ["swift", "algorithm", "performance", "sorting"], "answer_count": 7, "link": "http://stackoverflow.com/questions/24101718/swift-performance-sorting-arrays", "answers": [{"body": "<p>From <a href=\"https://itun.es/ca/jEUH0.l\"><code>The Swift Programming Language</code></a>:</p>\n\n<blockquote>\n  <p>The Sort Function Swift\u2019s standard library provides a function called\n  sort, which sorts an  array of values of a known type, based on the\n  output of a sorting closure  that you provide. Once it completes the\n  sorting process, the sort function returns a new array of the same\n  type and size as the old one, with its elements in the correct sorted\n  order.</p>\n</blockquote>\n\n<p>The <code>sort</code> function has two declarations.</p>\n\n<p>The default declaration which allows you to specify a comparison closure:</p>\n\n<pre><code>func sort&lt;T&gt;(array: T[], pred: (T, T) -&gt; Bool) -&gt; T[]\n</code></pre>\n\n<p>And a second declaration that only take a single parameter (the array) and is \"hardcoded to use the less-than comparator.\"</p>\n\n<pre><code>func sort&lt;T : Comparable&gt;(array: T[]) -&gt; T[]\n\nExample:\nsort( _arrayToSort_ ) { $0 &gt; $1 }\n</code></pre>\n\n<p>I tested a modified version of your code in a playground with the closure added on so I could monitor the function a little more closely, and I found that with n set to 1000, the closure was being called about 11,000 times.</p>\n\n<pre><code>let n = 1000\nlet x = Int[](count: n, repeatedValue: 0)\nfor i in 0..n {\n    x[i] = random()\n}\nlet y = sort(x) { $0 &gt; $1 }\n</code></pre>\n\n<p>It is not an efficient function, an I would recommend using a better sorting function implementation.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I took a look at the Quicksort wikipedia page and wrote a Swift implementation for it. Here is the full program I used (in a playground)</p>\n\n<pre><code>import Foundation\n\nfunc quickSort(inout array: Int[], begin: Int, end: Int) {\n    if (begin &lt; end) {\n        let p = partition(&amp;array, begin, end)\n        quickSort(&amp;array, begin, p - 1)\n        quickSort(&amp;array, p + 1, end)\n    }\n}\n\nfunc partition(inout array: Int[], left: Int, right: Int) -&gt; Int {\n    let numElements = right - left + 1\n    let pivotIndex = left + numElements / 2\n    let pivotValue = array[pivotIndex]\n    swap(&amp;array[pivotIndex], &amp;array[right])\n    var storeIndex = left\n    for i in left..right {\n        let a = 1 // &lt;- Used to see how many comparisons are made\n        if array[i] &lt;= pivotValue {\n            swap(&amp;array[i], &amp;array[storeIndex])\n            storeIndex++\n        }\n    }\n    swap(&amp;array[storeIndex], &amp;array[right]) // Move pivot to its final place\n    return storeIndex\n}\n\nlet n = 1000\nvar x = Int[](count: n, repeatedValue: 0)\nfor i in 0..n {\n    x[i] = Int(arc4random())\n}\n\nquickSort(&amp;x, 0, x.count - 1) // &lt;- Does the sorting\n\nfor i in 0..n {\n    x[i] // &lt;- Used by the playground to display the results\n}\n</code></pre>\n\n<p>Using this with n=1000, I found that</p>\n\n<ol>\n<li>quickSort() got called about 650 times,</li>\n<li>about 6000 swaps were made,</li>\n<li>and there are about 10,000 comparisons</li>\n</ol>\n\n<p>It seems that the built-in sort method is (or is close to) quick sort, and is really slow...</p>\n", "title": "Swift performance: sorting arrays", "answer_id": 24101903, "question_id": 24101718, "tags": ["swift", "algorithm", "performance", "sorting"]}, {"body": "<p>tl;dr Swift is now as fast as C by this benchmark using the default release optimisation level [-O].</p>\n\n<p>Here is an in-place quicksort in Swift:</p>\n\n<pre><code>func quicksort_swift(inout a:CInt[], start:Int, end:Int) {\n    if (end - start &lt; 2){\n        return\n    }\n    var p = a[start + (end - start)/2]\n    var l = start\n    var r = end - 1\n    while (l &lt;= r){\n        if (a[l] &lt; p){\n            l += 1\n            continue\n        }\n        if (a[r] &gt; p){\n            r -= 1\n            continue\n        }\n        var t = a[l]\n        a[l] = a[r]\n        a[r] = t\n        l += 1\n        r -= 1\n    }\n    quicksort_swift(&amp;a, start, r + 1)\n    quicksort_swift(&amp;a, r + 1, end)\n}\n</code></pre>\n\n<p>And the same in C:</p>\n\n<pre><code>void quicksort_c(int *a, int n) {\n    if (n &lt; 2)\n        return;\n    int p = a[n / 2];\n    int *l = a;\n    int *r = a + n - 1;\n    while (l &lt;= r) {\n        if (*l &lt; p) {\n            l++;\n            continue;\n        }\n        if (*r &gt; p) {\n            r--;\n            continue;\n        }\n        int t = *l;\n        *l++ = *r;\n        *r-- = t;\n    }\n    quicksort_c(a, r - a + 1);\n    quicksort_c(l, a + n - l);\n}\n</code></pre>\n\n<p>Both work:</p>\n\n<pre><code>var a_swift:CInt[] = [0,5,2,8,1234,-1,2]\nvar a_c:CInt[] = [0,5,2,8,1234,-1,2]\n\nquicksort_swift(&amp;a_swift, 0, a_swift.count)\nquicksort_c(&amp;a_c, CInt(a_c.count))\n\n// [-1, 0, 2, 2, 5, 8, 1234]\n// [-1, 0, 2, 2, 5, 8, 1234]\n</code></pre>\n\n<p>Both are called in the same program as written.</p>\n\n<pre><code>var x_swift = CInt[](count: n, repeatedValue: 0)\nvar x_c = CInt[](count: n, repeatedValue: 0)\nfor var i = 0; i &lt; n; ++i {\n    x_swift[i] = CInt(random())\n    x_c[i] = CInt(random())\n}\n\nlet swift_start:UInt64 = mach_absolute_time();\nquicksort_swift(&amp;x_swift, 0, x_swift.count)\nlet swift_stop:UInt64 = mach_absolute_time();\n\nlet c_start:UInt64 = mach_absolute_time();\nquicksort_c(&amp;x_c, CInt(x_c.count))\nlet c_stop:UInt64 = mach_absolute_time();\n</code></pre>\n\n<p>This converts the absolute times to seconds:</p>\n\n<pre><code>static const uint64_t NANOS_PER_USEC = 1000ULL;\nstatic const uint64_t NANOS_PER_MSEC = 1000ULL * NANOS_PER_USEC;\nstatic const uint64_t NANOS_PER_SEC = 1000ULL * NANOS_PER_MSEC;\n\nmach_timebase_info_data_t timebase_info;\n\nuint64_t abs_to_nanos(uint64_t abs) {\n    if ( timebase_info.denom == 0 ) {\n        (void)mach_timebase_info(&amp;timebase_info);\n    }\n    return abs * timebase_info.numer  / timebase_info.denom;\n}\n\ndouble abs_to_seconds(uint64_t abs) {\n    return abs_to_nanos(abs) / (double)NANOS_PER_SEC;\n}\n</code></pre>\n\n<p>Here is a summary of the compiler's optimazation levels:</p>\n\n<pre><code>[-Onone] no optimizations, the default for debug.\n[-O]     perform optimizations, the default for release.\n[-Ofast] perform optimizations and disable runtime overflow checks and runtime type checks.\n</code></pre>\n\n<p>Time in seconds with <strong>[-Onone]</strong> for <strong>n=10_000</strong>:</p>\n\n<pre><code>Swift:            0.895296452\nC:                0.001223848\n</code></pre>\n\n<p>Here is Swift's builtin sort() for <strong>n=10_000</strong>:</p>\n\n<pre><code>Swift_builtin:    0.77865783\n</code></pre>\n\n<p>Here is <strong>[-O]</strong> for <strong>n=10_000</strong>:</p>\n\n<pre><code>Swift:            0.045478346\nC:                0.000784666\nSwift_builtin:    0.032513488\n</code></pre>\n\n<p>As you can see, Swift's performance improved by a factor of 20.</p>\n\n<p>As per <a href=\"http://stackoverflow.com/questions/24101718/swift-performance-sorting-arrays/24102759#24102759\">mweathers' answer</a>, setting <strong>[-Ofast]</strong> makes the real difference, resulting in these times for <strong>n=10_000</strong>:</p>\n\n<pre><code>Swift:            0.000706745\nC:                0.000742374\nSwift_builtin:    0.000603576\n</code></pre>\n\n<p>And for <strong>n=1_000_000</strong>:</p>\n\n<pre><code>Swift:            0.107111846\nC:                0.114957179\nSwift_sort:       0.092688548\n</code></pre>\n\n<p>For comparison, this is with <strong>[-Onone]</strong> for <strong>n=1_000_000</strong>:</p>\n\n<pre><code>Swift:            142.659763258\nC:                0.162065333\nSwift_sort:       114.095478272\n</code></pre>\n\n<p>So Swift with no optimizations was almost 1000x slower than C in this benchmark, at this stage in its development.  On the other hand with both compilers set to [-Ofast] Swift actually performed at least as well if not slightly better than C.</p>\n\n<p>It has been pointed out that [-Ofast] changes the semantics of the language, making it potentially unsafe. This is what Apple states in the Xcode 5.0 release notes:</p>\n\n<blockquote>\n  <p>A new optimization level -Ofast, available in LLVM, enables aggressive optimizations. -Ofast relaxes some conservative restrictions, mostly for floating-point operations, that are safe for most code. It can yield significant high-performance wins from the compiler.</p>\n</blockquote>\n\n<p>They all but advocate it. Whether that's wise or not I couldn't say, but from what I can tell it seems reasonable enough to use [-Ofast] in a release if you're not doing high-precision floating point arithmetic and you're confident no integer or array overflows are possible in your program. If you do need high performance <em>and</em> overflow checks / precise arithmetic then choose another language for now.</p>\n\n<p>BETA 3 UPDATE:</p>\n\n<p><strong>n=10_000</strong> with <strong>[-O]</strong>:</p>\n\n<pre><code>Swift:            0.019697268\nC:                0.000718064\nSwift_sort:       0.002094721\n</code></pre>\n\n<p>Swift in general is a bit faster and it looks like Swift's built-in sort has changed quite significantly.</p>\n\n<p><strong>FINAL UPDATE:</strong></p>\n\n<p><strong>[-Onone]</strong>:</p>\n\n<pre><code>Swift:   0.678056695\nC:       0.000973914\n</code></pre>\n\n<p><strong>[-O]</strong>:</p>\n\n<pre><code>Swift:   0.001158492\nC:       0.001192406\n</code></pre>\n\n<p><strong>[-Ounchecked]</strong>:</p>\n\n<pre><code>Swift:   0.000827764\nC:       0.001078914\n</code></pre>\n", "title": "Swift performance: sorting arrays", "answer_id": 24102237, "question_id": 24101718, "tags": ["swift", "algorithm", "performance", "sorting"]}, {"body": "<p><strong>TL;DR</strong>: Yes, the only Swift language implementation is slow, <em>right now</em>. If you need fast, numeric (and other types of code, presumably) code, just go with another one. In the future, you should re-evaluate your choice. It might be good enough for most application code that is written at a higher level, though.</p>\n\n<p>From what I'm seeing in SIL and LLVM IR, it seems like they need a bunch of optimizations for removing retains and releases, which might be implemented in <a href=\"http://en.wikipedia.org/wiki/Clang\">Clang</a> (for Objective-C), but they haven't ported them yet. That's the theory I'm going with (for now\u2026 I still need to confirm that Clang does something about it), since a profiler run on the last test-case of this question yields this \u201cpretty\u201d result:</p>\n\n<p><img src=\"http://i.imgur.com/ujaJ4aA.png\" alt=\"Time profiling on -O3\">\n<img src=\"http://i.imgur.com/t0s6DsZ.png\" alt=\"Time profiling on -Ofast\"></p>\n\n<p>As was said by many others, <code>-Ofast</code> is totally unsafe and changes language semantics. For me, it's at the \u201cIf you're going to use that, just use another language\u201d stage. I'll re-evaluate that choice later, if it changes.</p>\n\n<p><code>-O3</code> gets us a bunch of <code>swift_retain</code> and <code>swift_release</code> calls that, honestly, don't look like they should be there for this example. The optimizer should have elided (most of) them AFAICT, since it knows most of the information about the array, and knows that it has (at least) a strong reference to it.</p>\n\n<p>It shouldn't emit more retains when it's not even calling functions which might release the objects. I don't think an array constructor can return an array which is smaller than what was asked for, which means that a lot of checks that were emitted are useless. It also knows that the integer will never be above 10k, so the overflow checks <em>can</em> be optimized (not because of <code>-Ofast</code> weirdness, but because of the semantics of the language (nothing else is changing that var nor can access it, and adding up to 10k is safe for the type <code>Int</code>).</p>\n\n<p>The compiler might not be able to unbox the array or the array elements, though, since they're getting passed to <code>sort()</code>, which is an external function and has to get the arguments it's expecting. This will make us have to use the <code>Int</code> values indirectly, which would make it go a bit slower. This could change if the <code>sort()</code> generic function (not in the multi-method way) was available to the compiler and got inlined.</p>\n\n<p>This is a very new (publicly) language, and it is going through what I assume are lots of changes, since there are people (heavily) involved with the Swift language asking for feedback and they all say the language isn't finished and <em>will</em> change.</p>\n\n<p>Code used:</p>\n\n<pre><code>import Cocoa\n\nlet swift_start = NSDate.timeIntervalSinceReferenceDate();\nlet n: Int = 10000\nlet x = Int[](count: n, repeatedValue: 1)\nfor i in 0..n {\n    for j in 0..n {\n        let tmp: Int = x[j]\n        x[i] = tmp\n    }\n}\nlet y: Int[] = sort(x)\nlet swift_stop = NSDate.timeIntervalSinceReferenceDate();\n\nprintln(\"\\(swift_stop - swift_start)s\")\n</code></pre>\n\n<p>P.S: I'm not an expert on Objective-C nor all the facilities from <a href=\"http://en.wikipedia.org/wiki/Cocoa_%28API%29\">Cocoa</a>, Objective-C, or the Swift runtimes. I might also be assuming some things that I didn't write.</p>\n", "title": "Swift performance: sorting arrays", "answer_id": 24114795, "question_id": 24101718, "tags": ["swift", "algorithm", "performance", "sorting"]}, {"body": "<p>I decided to take a look at this for fun, and here are the timings that I get:</p>\n\n<pre><code>Swift 2.0             :   0.77s \nC++ (Apple LLVM 7.0.0):   0.69s\n</code></pre>\n\n<h2>Swift</h2>\n\n<pre><code>import Foundation\n\nfunc doTest() -&gt; Void {\n    let arraySize = 10000000\n    var randomNumbers = [UInt32]()\n\n    for _ in 0..&lt;arraySize {\n        randomNumbers.append(arc4random_uniform(UInt32(arraySize)))\n    }\n\n    let start = NSDate()\n    randomNumbers.sortInPlace()\n    let end = NSDate()\n\n    print(randomNumbers[0])\n    print(\"Elapsed time: \\(end.timeIntervalSinceDate(start))\")\n}\n\ndoTest()\n</code></pre>\n\n<p>Results:</p>\n\n<p><strong>Swift 1.1</strong></p>\n\n<pre><code>xcrun swiftc --version\nSwift version 1.1 (swift-600.0.54.20)\nTarget: x86_64-apple-darwin14.0.0\n\nxcrun swiftc -O SwiftSort.swift\n./SwiftSort     \nElapsed time: 1.02204304933548\n</code></pre>\n\n<p><strong>Swift 1.2</strong></p>\n\n<pre><code>xcrun swiftc --version\nApple Swift version 1.2 (swiftlang-602.0.49.6 clang-602.0.49)\nTarget: x86_64-apple-darwin14.3.0\n\nxcrun -sdk macosx swiftc -O SwiftSort.swift\n./SwiftSort     \nElapsed time: 0.738763988018036\n</code></pre>\n\n<p><strong>Swift 2.0</strong></p>\n\n<pre><code>xcrun swiftc --version\nApple Swift version 2.0 (swiftlang-700.0.59 clang-700.0.72)\nTarget: x86_64-apple-darwin15.0.0\n\nxcrun -sdk macosx swiftc -O SwiftSort.swift\n./SwiftSort     \nElapsed time: 0.767306983470917\n</code></pre>\n\n<p>It seems to be the same performance if I compile with <code>-Ounchecked</code>.</p>\n\n<h2>C++</h2>\n\n<pre><code>#include &lt;chrono&gt;\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;cstdint&gt;\n#include &lt;stdlib.h&gt;\n\nusing namespace std;\nusing namespace std::chrono;\n\nint main(int argc, const char * argv[]) {\n    const auto arraySize = 10000000;\n    vector&lt;uint32_t&gt; randomNumbers;\n\n    for (int i = 0; i &lt; arraySize; ++i) {\n        randomNumbers.emplace_back(arc4random_uniform(arraySize));\n    }\n\n    const auto start = high_resolution_clock::now();\n    sort(begin(randomNumbers), end(randomNumbers));\n    const auto end = high_resolution_clock::now();\n\n    cout &lt;&lt; randomNumbers[0] &lt;&lt; \"\\n\";\n    cout &lt;&lt; \"Elapsed time: \" &lt;&lt; duration_cast&lt;duration&lt;double&gt;&gt;(end - start).count() &lt;&lt; \"\\n\";\n\n    return 0;\n}\n</code></pre>\n\n<p>Results:</p>\n\n<p><strong>Apple Clang 6.0</strong></p>\n\n<pre><code>clang++ --version\nApple LLVM version 6.0 (clang-600.0.54) (based on LLVM 3.5svn)\nTarget: x86_64-apple-darwin14.0.0\nThread model: posix\n\nclang++ -O3 -std=c++11 CppSort.cpp -o CppSort\n./CppSort     \nElapsed time: 0.688969\n</code></pre>\n\n<p><strong>Apple Clang 6.1.0</strong></p>\n\n<pre><code>clang++ --version\nApple LLVM version 6.1.0 (clang-602.0.49) (based on LLVM 3.6.0svn)\nTarget: x86_64-apple-darwin14.3.0\nThread model: posix\n\nclang++ -O3 -std=c++11 CppSort.cpp -o CppSort\n./CppSort     \nElapsed time: 0.670652\n</code></pre>\n\n<p><strong>Apple Clang 7.0.0</strong></p>\n\n<pre><code>clang++ --version\nApple LLVM version 7.0.0 (clang-700.0.72)\nTarget: x86_64-apple-darwin15.0.0\nThread model: posix\n\nclang++ -O3 -std=c++11 CppSort.cpp -o CppSort\n./CppSort     \nElapsed time: 0.690152\n</code></pre>\n\n<h2>Verdict</h2>\n\n<p>As of the time of this writing, Swift's sort is fast, but not yet as fast as C++'s sort, with the above compilers &amp; libraries. Since Swift is still young, it's conceivable that this gap will be closed in the future, and the gap has been significantly narrowed in Swift 1.2 and 2.0.</p>\n", "title": "Swift performance: sorting arrays", "answer_id": 26578347, "question_id": 24101718, "tags": ["swift", "algorithm", "performance", "sorting"]}, {"body": "<p>As of Xcode 7 you can turn on <code>Fast, Whole Module Optimization</code>. This should increase your performance immediately.</p>\n\n<p><img src=\"http://i.stack.imgur.com/4VnSy.png\" alt=\"enter image description here\"></p>\n", "title": "Swift performance: sorting arrays", "answer_id": 30786931, "question_id": 24101718, "tags": ["swift", "algorithm", "performance", "sorting"]}, {"body": "<p>Swift Array performance revisited: </p>\n\n<p>I wrote my own benchmark comparing Swift with C/Objective-C. My benchmark calculates prime numbers. It uses the array of previous prime numbers to look for prime factors in each new candidate, so it is quite fast. However, it does TONS of array reading, and less writing to arrays.</p>\n\n<p>I originally did this benchmark against Swift 1.2. I decided to update the project and run it against Swift 2.0. </p>\n\n<p>The project lets you select between using normal swift arrays and using Swift unsafe memory buffers using array semantics.</p>\n\n<p>For C/Objective-C, you can either opt to use NSArrays, or C malloc'ed arrays.</p>\n\n<p>The test results seem to be pretty similar with fastest, smallest code optimization ([-0s]) or fastest, aggressive ([-0fast]) optimization.</p>\n\n<p>Swift 2.0 performance is still horrible with code optimization turned off, whereas C/Objective-C performance is only moderately slower.</p>\n\n<p>The bottom line is that C malloc'd array-based calculations are the fastest, by a modest margin</p>\n\n<p>Swift with unsafe buffers takes around 1.19X - 1.20X longer than C malloc'd arrays when using fastest, smallest code optimization. the difference seems slightly less with fast, aggressive optimization (Swift takes more like 1.18x to 1.16x longer than C.</p>\n\n<p>If you use regular Swift arrays, the difference with C is <em>slightly</em> greater. (Swift takes ~1.22 to 1.23 longer.) </p>\n\n<p>Regular Swift arrays are <code>DRAMATICALLY</code> faster than they were in Swift 1.2/Xcode 6. Their performance is so close to Swift unsafe buffer based arrays that using unsafe memory buffers does not really seem worth the trouble any more, which is big. </p>\n\n<p>BTW, Objective-C NSArray performance stinks. If you're going to use the native container objects in both languages, Swift is <strong>DRAMATICALLY</strong> faster.</p>\n\n<p>You can check out my project on github at <a href=\"https://github.com/DuncanMC/SwiftPerformanceBenchmark.git\" rel=\"nofollow\"><strong>SwiftPerformanceBenchmark</strong></a></p>\n\n<p>It has a simple UI that makes collecting stats pretty easy.</p>\n\n<p>It's interesting that sorting seems to be slightly faster in Swift than in C now, but that this prime number algorithm is still faster in Swift.</p>\n", "title": "Swift performance: sorting arrays", "answer_id": 35641763, "question_id": 24101718, "tags": ["swift", "algorithm", "performance", "sorting"]}, {"body": "<p>The main issue that is mentioned by others but not called out enough is that <code>-O3</code> does nothing at all in Swift (and never has) so when compiled with that it is effectively non-optimised (<code>-Onone</code>).</p>\n\n<p>Option names have changed over time so some other answers have obsolete flags for the build options. Correct current options (Swift 2.2) are:</p>\n\n<pre><code>-Onone // Debug - slow\n-O     // Optimised\n-O -whole-module-optimization //Optimised across files\n</code></pre>\n\n<p>Whole module optimisation has a slower compile but can optimise across files within the module i.e. within each framework and within the actual application code but not between them. You should use this for anything performance critical)</p>\n\n<p>You can also disable safety checks for even more speed but with all assertions and preconditions not just disabled but optimised on the basis that they are correct. If you ever hit an assertion this means that you are into undefined behaviour. Use with extreme caution and only if you determine that the speed boost is worthwhile for you (by testing). If you do find it valuable for some code I recommend separating that code into a separate framework and only disabling the safety checks for that module.</p>\n", "title": "Swift performance: sorting arrays", "answer_id": 36596287, "question_id": 24101718, "tags": ["swift", "algorithm", "performance", "sorting"]}], "question_id": 24101718}, {"body": "<p>I have Windows 8.1 pro with an AMD processor. I installed the Android SDK and Eclipse. It works but the problem is that when I Create AVD and launch it shows this error:</p>\n\n<blockquote>\n  <p>emulator: ERROR: x86 emulation currently requires hardware acceleration!<br>\n   Please ensure Intel HAXM is properly installed and usable.<br>\n   CPU acceleration status: HAX kernel module is not installed!</p>\n</blockquote>\n\n<p>I have already installed Intel Hardware_Accelerated_Execution_Manager and I have enabled Virtual modulation from the boot menu, but it's still not working.</p>\n", "title": "Error in launching AVD with AMD processor", "tags": ["android", "intel", "avd", "haxm"], "answer_count": 15, "link": "http://stackoverflow.com/questions/26355645/error-in-launching-avd-with-amd-processor", "answers": [{"body": "<p>You need to read (and post) the output of </p>\n\n<pre><code>sc query intelhaxm\n</code></pre>\n\n<p>as stated on <a href=\"http://developer.android.com/tools/devices/emulator.html#accel-vm\">http://developer.android.com/tools/devices/emulator.html#accel-vm</a></p>\n\n<p>You open a command prompt window by right click on the start menu, choose execute and write 'cmd'. </p>\n\n<p>See also <a href=\"http://stackoverflow.com/questions/26316523/android-emulator-doesnt-use-haxm\">Android Emulator Doesn&#39;t Use HAXM</a> .</p>\n\n<p>If you cannot get the emulator to work you might want to try out an easier alternative: Genymotion - <a href=\"http://genymotion.com/\">http://genymotion.com/</a></p>\n", "title": "Error in launching AVD with AMD processor", "answer_id": 26362392, "question_id": 26355645, "tags": ["android", "intel", "avd", "haxm"]}, {"body": "<p>Make sure you have installed <code>HAXM installer</code> on your SDK Manager.</p>\n\n<p><img src=\"http://i.stack.imgur.com/8BKmm.png\" alt=\"Android SDK Manager\"></p>\n\n<p>After you download it and make sure you <strong>run</strong> the setup located in:\n<strong>{SDK_FOLDER}\\extras\\intel\\Hardware_Accelerated_Execution_Manager\\intelhaxm.exe</strong></p>\n\n<p>Note: in Android Studio, the command \"intelhaxm.exe\" has been changed to \"intelhaxm-android.exe\"</p>\n\n<p>If you get the error <strong>\"VT not supported\"</strong> during the installation disable Hyper-V on windows features. You can execute this command <code>dism.exe /Online /Disable-Feature:Microsoft-Hyper-V</code>. You will also need \"Virtualization Technology\" to be enabled on your BIOS</p>\n", "title": "Error in launching AVD with AMD processor", "answer_id": 26380900, "question_id": 26355645, "tags": ["android", "intel", "avd", "haxm"]}, {"body": "<p>So I am having this issue and it seems that unless you are on Linux you will not be able to use HAXM. [EDIT: this is if you have an AMD chip (non intel) of course as that is the issue]</p>\n\n<p>As stated on the Android Site;</p>\n\n<blockquote>\n  <p>Many modern CPUs provide extensions for running virtual machines (VMs)\n  more efficiently. Taking advantage of these extensions with the\n  Android emulator requires some additional configuration of your\n  development system, but can significantly improve the execution speed.\n  Before attempting to use this type of acceleration, you should first\n  determine if your development system\u2019s CPU supports one of the\n  following virtualization extensions technologies:</p>\n\n<pre><code>Intel Virtualization Technology (VT, VT-x, vmx) extensions\n</code></pre>\n  \n  <p><strong><em>>     AMD Virtualization (AMD-V, SVM) extensions (only supported for Linux)</em></strong></p>\n</blockquote>\n\n<p>As others have mentioned Genymotion may be a solution. </p>\n", "title": "Error in launching AVD with AMD processor", "answer_id": 26473578, "question_id": 26355645, "tags": ["android", "intel", "avd", "haxm"]}, {"body": "<p>If you're running Mac, as @pedro mentions ensure you have the HAXM installer dowloaded via the Android SDK Manager. </p>\n\n<p>Next install it! In finder navigate to <code>/YOUR_SDK_PATH/extras/intel/Hardware_Accelerated_Execution_Manager/</code> </p>\n\n<p>Run and install the .mpgk in the following .dmg</p>\n\n<ul>\n<li>Yosemite: <code>IntelHAXM_1.1.0_for_10.10.dmg</code></li>\n<li>Pre-yosemite:  <code>IntelHAXM_1.1.0_below_10.10.dmg</code>  </li>\n<li>El Capitan: IntelHAXM_6.0.1.dmg - please install the IntelHAXM_6.0.1.mpgk file within - it will ask you if you want to reinstall it. Just say yes.</li>\n</ul>\n\n<p>Example:</p>\n\n<blockquote>\n<pre><code>$cd /YOUR_SDK_PATH/extras/intel/Hardware_Accelerated_Execution_Manager/\n$open IntelHAXM_1.1.0_below_10.10.dmg\n</code></pre>\n</blockquote>\n", "title": "Error in launching AVD with AMD processor", "answer_id": 26713568, "question_id": 26355645, "tags": ["android", "intel", "avd", "haxm"]}, {"body": "<p>For those who are using <strong>Android Studio</strong> based on Jetbrains:</p>\n\n<ol>\n<li><p>Goto Tools > Android > SDK Manager</p></li>\n<li><p>Under Extras --> select the checkbox Intel x86 Emulator Accelorator</p></li>\n</ol>\n\n<p>For those who are unable to use Nexus AVD can also try using Generic AVD.</p>\n\n<ol>\n<li>Goto Tools > Android > AVD Manager</li>\n</ol>\n\n<p>Then create a new Genreic AVD with something like QVGA and use for your app. This AVD does not use hardware acceleration.</p>\n", "title": "Error in launching AVD with AMD processor", "answer_id": 27700304, "question_id": 26355645, "tags": ["android", "intel", "avd", "haxm"]}, {"body": "<p>Those who still face the problem \nFor <strong>Android Studio 1.0.2</strong> </p>\n\n<p>First Make Sure <strong>Intel x86 emulator accelerator is installer</strong> , check it in Your SDK Manager if not then install it from there </p>\n\n<p>Goto Your Android Sdk Folder\n**{SDK_FOLDER}\\extras\\intel\\Hardware_Accelerated_Execution_Manager**</p>\n\n<p>there you will find <strong>silent_install.bat</strong><br>\nRun it , it will <strong>create haxm_silent_run.log</strong>\nafter that close and restart your Android Studio and then run your app.</p>\n\n<p>it will work in case of problem check the haxm_silent_run.log</p>\n", "title": "Error in launching AVD with AMD processor", "answer_id": 27761968, "question_id": 26355645, "tags": ["android", "intel", "avd", "haxm"]}, {"body": "<p>I was facing this issue running the Emulator inside Oracle Virtual Box. For me the solution was to modify the Emulator to use arm-cpu instead of x86.</p>\n", "title": "Error in launching AVD with AMD processor", "answer_id": 27806922, "question_id": 26355645, "tags": ["android", "intel", "avd", "haxm"]}, {"body": "<p>1) Open SDK Manager and Download <strong>Intel x86 Emulator Accelerator</strong> (HAXM installer) if you haven't.</p>\n\n<p>2) Now go to your SDK directory (C:\\users\\username\\AppData\\Local\\Android\\sdk, generally). In this directory Go to <strong>extras > intel > Hardware_Accelerated_Execution_Manager</strong> and run the file named \"<strong>intelhaxm-android.exe</strong>\".</p>\n\n<blockquote>\n  <p>In case you get an error like \"Intel virtualization technology\n  (vt,vt-x) is not enabled\". Go to your BIOS settings and enable\n  Hardware Virtualization.</p>\n</blockquote>\n\n<p>3) Restart Android Studio and then try to start the AVD again.</p>\n\n<p>It might take a minute or 2 to show the emulator window.</p>\n", "title": "Error in launching AVD with AMD processor", "answer_id": 27997670, "question_id": 26355645, "tags": ["android", "intel", "avd", "haxm"]}, {"body": "<p>For AMD Processors</p>\n\n<p>Go to AVD manager and create new virtual device as ARM system image.</p>\n", "title": "Error in launching AVD with AMD processor", "answer_id": 28935720, "question_id": 26355645, "tags": ["android", "intel", "avd", "haxm"]}, {"body": "<p><strong>First</strong> You must enable Intel Virtualization Technology From BIOS:</p>\n\n<p><img src=\"http://i.stack.imgur.com/HLNAP.gif\" alt=\"enter image description here\"></p>\n\n<p><strong>Second</strong> Navigate to your sdk ...\\extras\\intel\\Hardware_Accelerated_Execution_Manager:</p>\n\n<p><img src=\"http://i.stack.imgur.com/jthvx.png\" alt=\"enter image description here\"></p>\n\n<p>Then install <strong>intelhaxm-android.exe</strong>.</p>\n\n<p>Note that if you can't find this file in the directory, make sure you install the package from your sdk manager: </p>\n\n<p><img src=\"http://i.stack.imgur.com/UmPKV.png\" alt=\"enter image description here\"></p>\n", "title": "Error in launching AVD with AMD processor", "answer_id": 30129536, "question_id": 26355645, "tags": ["android", "intel", "avd", "haxm"]}, {"body": "<p>I waste too much time on this, and none of the previous answers work. I find that <a href=\"https://en.wikipedia.org/wiki/Avast_Software#Consumer_desktop_products\" rel=\"nofollow\">Avast</a> is the issue!!! If you have Avast installed in your system, you have to:</p>\n\n<blockquote>\n  <p>Go to settings tab --> troubleshooting, then you should UNCHECK the\n  \"enable hardware-assisted virtualization\"</p>\n</blockquote>\n\n<p>Restart your PC and install the intelhaxm-android.exe if it is not installed. You can find it in <code>C:\\Users\\{YOUR USERNAME}\\AppData\\Local\\Android\\sdk\\extras\\intel\\Hardware_Accelerated_Execution_Manager</code></p>\n", "title": "Error in launching AVD with AMD processor", "answer_id": 33308318, "question_id": 26355645, "tags": ["android", "intel", "avd", "haxm"]}, {"body": "<p><strong>For AMD processors:</strong></p>\n\n<p>You don't need Genymotion, just create a new Virtual Device and while selecting the system Image select the ABI as <strong>armeabi</strong> instead of the default x86 one. </p>\n\n<p><a href=\"http://i.stack.imgur.com/RbWLQ.png\"><img src=\"http://i.stack.imgur.com/RbWLQ.png\" alt=\"enter image description here\"></a></p>\n", "title": "Error in launching AVD with AMD processor", "answer_id": 34826249, "question_id": 26355645, "tags": ["android", "intel", "avd", "haxm"]}, {"body": "<p><strong>This resolves it for me:</strong></p>\n\n<p>Go to (<strong>C:\\users\\%USERNAME%\\AppData\\Local\\Android\\sdk, generally</strong>). </p>\n\n<p>Then go to <strong>Extras -> Intel -> Hardware_Accelerated_Execution_Manager</strong> and run the file named \"intelhaxm-android.exe\".</p>\n\n<p>In case you get an error like \"<strong>Intel virtualization technology (vt,vt-x) is not enabled</strong>\", go to your BIOS settings and enable Hardware Virtualization.</p>\n\n<p><strong><em>Restart your studio</em></strong></p>\n", "title": "Error in launching AVD with AMD processor", "answer_id": 34875615, "question_id": 26355645, "tags": ["android", "intel", "avd", "haxm"]}, {"body": "<p>I faced the same problem recently.</p>\n\n<p>What I did.</p>\n\n<p>installed HAXM installer on your SDK Manager\n<a href=\"http://i.stack.imgur.com/7S4zT.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/7S4zT.png\" alt=\"enter image description here\"></a></p>\n\n<p>and then installed latest intel HAXM driver.</p>\n\n<p><a href=\"https://software.intel.com/en-us/android/articles/intel-hardware-accelerated-execution-manager-end-user-license-agreement\" rel=\"nofollow\">https://software.intel.com/en-us/android/articles/intel-hardware-accelerated-execution-manager-end-user-license-agreement</a></p>\n\n<p>and volla!!! emulator works like a charm :)</p>\n", "title": "Error in launching AVD with AMD processor", "answer_id": 38216500, "question_id": 26355645, "tags": ["android", "intel", "avd", "haxm"]}, {"body": "<p>In my case, I was using Xamarin for Visual Studio Not sure, how relevant that is, but every time I ran XamarinInstaller, it would show that HAXM was not installed yet.  It was already installed in SDK Manager.</p>\n\n<p>So, I then attempted to intelhaxm-android.exe. It would show pop-up for a micro-second and exit.  Impossible to read the pop-up just too fast.  I found that there were some command line options.  Tried them to no avail.  One option was just to extract the setup files.  Trying that, no files were extracted.</p>\n\n<p>Finally, I opened intelhaxm-android.exe in 7-zip.  Copied the three files to another directory and finally got a real installer to run.  Ran without a hitch and HAXM issues were gone.</p>\n", "title": "Error in launching AVD with AMD processor", "answer_id": 38932730, "question_id": 26355645, "tags": ["android", "intel", "avd", "haxm"]}], "question_id": 26355645}, {"body": "<h1>In the new Swift language from Apple, how does one call Objective-C code?</h1>\n\n<p>Apple mentioned that they could co-exist in one application, but does this mean that one could technically re-use old classes made in Objective-C whilst building new classes in swift?</p>\n\n<h1>The Reasoning</h1>\n\n<p>Objective-C is a platform-independent language, whereas Swift is platform-dependent. Writing non-platform-dependent code (business logic libraries) in swift would thus not be wise. However writing platform-dependent code in it (interface related for example) would be perfectly fine. Not to say it would be a good idea, however it is definitely an interest</p>\n", "title": "How to call Objective C code from Swift", "tags": ["objective-c", "swift"], "answer_count": 10, "link": "http://stackoverflow.com/questions/24002369/how-to-call-objective-c-code-from-swift", "answers": [{"body": "<p>See Apple's guide to <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/BuildingCocoaApps/index.html#//apple_ref/doc/uid/TP40014216\">Using Swift with Cocoa and Objective-C</a>. This guide covers how to use ObjC and C code from Swift and vice versa, and has recommendations for how to convert a project or mix and match ObjC/C and Swift parts in an existing project.</p>\n\n<p>The compiler automatically generates Swift syntax for calling C functions and ObjC methods. As seen in the docs, this ObjC:</p>\n\n<pre><code>UITableView *myTableView = [[UITableView alloc] initWithFrame:CGRectZero style:UITableViewStyleGrouped];\n</code></pre>\n\n<p>turns into this Swift:</p>\n\n<pre><code>let myTableView: UITableView = UITableView(frame: CGRectZero, style: .Grouped)\n</code></pre>\n\n<p>Xcode also does this translation on the fly \u2014 you can use Open Quickly while editing a Swift file and type an ObjC class name, and it'll take you to a Swift-ified version of the class header. (You can also get this by cmd-clicking on an API symbol in a Swift file.) And all the API reference documentation in the <a href=\"https://developer.apple.com/library/prerelease/ios/\">iOS 8</a> and <a href=\"https://developer.apple.com/library/prerelease/osx/\">OS X Yosemite</a> developer libraries is visible in both ObjC and Swift forms (e.g. <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UIView_Class/index.html\"><code>UIView</code></a>).</p>\n", "title": "How to call Objective C code from Swift", "answer_id": 24002963, "question_id": 24002369, "tags": ["objective-c", "swift"]}, {"body": "<p>Quote from the <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/BuildingCocoaApps/index.html#//apple_ref/doc/uid/TP40014216\">documentation</a>:</p>\n\n<blockquote>\n  <p>Any Objective-C framework (or C library) that\u2019s accessible as a module\n  can be imported directly into Swift. This includes all of the\n  Objective-C system frameworks\u2014such as Foundation, UIKit, and\n  SpriteKit\u2014as well as common C libraries supplied with the system. For\n  example, to import Foundation, simply add this import statement to the\n  top of the Swift file you\u2019re working in:</p>\n  \n  <p><code>import Foundation</code></p>\n  \n  <p>This import makes all of the Foundation APIs\u2014including NSDate, NSURL,\n  NSMutableData, and all of their methods, properties, and\n  categories\u2014directly available in Swift.</p>\n</blockquote>\n", "title": "How to call Objective C code from Swift", "answer_id": 24002965, "question_id": 24002369, "tags": ["objective-c", "swift"]}, {"body": "<h1> Using Objective-C Classes in Swift </h1>\n\n<p>**\nIf you have an existing class that you'd like to use, perform <b>Step 2</b> and then skip to <b>Step 5</b>.  (For some cases, I had to add an explicit <code>#import &lt;Foundation/Foundation.h</code> to an older ObjC File)\n**</p>\n\n<h3> Step 1: Add Objective-C Implementation -- .m </h3>\n\n<p>Add a <code>.m</code> file to your class, and name it <code>CustomObject.m</code></p>\n\n<h3> Step 2: Add Bridging Header </h3>\n\n<p>When adding your <code>.m</code> file, you'll likely be hit with a prompt that looks like this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/nakLZ.png\" alt=\"enter image description here\"></p>\n\n<p>Click <b> YES </b>!  </p>\n\n<p>If you did not see the prompt, or accidentally deleted your bridging header, add a new <code>.h</code> file to your project and name it <code>&lt;#YourProjectName#&gt;-Bridging-Header.h</code></p>\n\n<p>In some situations, particularly when working with ObjC frameworks, you don't add an Objective-C class explicitly and Xcode can't find the linker.  In this case, create your <code>.h</code> file named as mentioned above, then make sure you link its path in your target's project settings like so:</p>\n\n<p><img src=\"http://i.stack.imgur.com/8LiwF.gif\" alt=\"enter image description here\"></p>\n\n<p><b>Note</b></p>\n\n<p>It's best practice to link your project using the <code>$(SRCROOT)</code> macro so that if you move your project, or work on it with others using a remote repo, it will still work. <code>$(SRCROOT)</code> can be thought of as the directory that contains your .xcodeproj file.  It might look like this:</p>\n\n<p><code>$(SRCROOT)/Folder/Folder/&lt;#YourProjectName#&gt;-Bridging-Header.h</code></p>\n\n<h3> Step 3: Add Objective-C Header -- .h </h3>\n\n<p>Add another <code>.h</code> file and name it <code>CustomObject.h</code></p>\n\n<h3> Step 4: Build your Objective-C Class </h3>\n\n<p>In <code>CustomObject.h</code></p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n\n@interface CustomObject : NSObject\n\n@property (strong, nonatomic) id someProperty;\n\n- (void) someMethod;\n\n@end\n</code></pre>\n\n<p>In <code>CustomObject.m</code></p>\n\n<pre><code>#import \"CustomObject.h\"\n\n@implementation CustomObject \n\n- (void) someMethod {\n    NSLog(@\"SomeMethod Ran\");\n}\n\n@end\n</code></pre>\n\n<h3> Step 5: Add Class to Bridging-Header </h3>\n\n<p>In <code>YourProject-Bridging-Header.h</code>:</p>\n\n<pre><code>#import \"CustomObject.h\"\n</code></pre>\n\n<h3> Step 6: Use your Object </h3>\n\n<p>In <code>SomeSwiftFile.swift</code>:</p>\n\n<pre><code>var instanceOfCustomObject: CustomObject = CustomObject()\ninstanceOfCustomObject.someProperty = \"Hello World\"\nprintln(instanceOfCustomObject.someProperty)\ninstanceOfCustomObject.someMethod()\n</code></pre>\n\n<p>No need to import explicitly, that's what the bridging header is for.  </p>\n\n<h1> Using Swift Classes in Objective-C </h1>\n\n<h3> Step 1: Create New Swift Class </h3>\n\n<p>Add a <code>.swift</code> file to your project, and name it <code>MySwiftObject.swift</code></p>\n\n<p>In <code>MySwiftObject.swift</code>:</p>\n\n<pre><code>import Foundation\n\nclass MySwiftObject : NSObject {\n\n    var someProperty: AnyObject = \"Some Initializer Val\"\n\n    init() {}\n\n    func someFunction(someArg:AnyObject) -&gt; String {\n        var returnVal = \"You sent me \\(someArg)\"\n        return returnVal\n    }\n\n}\n</code></pre>\n\n<h3> Step 2: Import Swift Files to ObjC Class </h3>\n\n<p>In <code>SomeRandomClass.m</code>:</p>\n\n<pre><code>#import \"&lt;#YourProjectName#&gt;-Swift.h\"\n</code></pre>\n\n<p>The file:<code>&lt;#YourProjectName#&gt;-Swift.h</code> should already be created automatically in your project, even if you can not see it.</p>\n\n<h3> Step 3: Use your class </h3>\n\n<pre><code>MySwiftObject * myOb = [MySwiftObject new];\nNSLog(@\"MyOb.someProperty: %@\", myOb.someProperty);\nmyOb.someProperty = @\"Hello World\";\nNSLog(@\"MyOb.someProperty: %@\", myOb.someProperty);\nNSString * retString = [myOb someFunction:@\"Arg\"];\nNSLog(@\"RetString: %@\", retString);\n</code></pre>\n\n<h2>Note:</h2>\n\n<p><b>1.</b> CodeCompletion wasn't behaving as accurately as I'd like it to.  On my system, running a quick build w/ \"cmd + r\" seemed to help Swift find some of the Objc code and vice versa. </p>\n\n<p><b>2.</b> If you add <code>.swift</code> file to an older project and get error: <code>dyld: Library not loaded: @rpath/libswift_stdlib_core.dylib</code>, try completely <a href=\"http://stackoverflow.com/q/24002836/2611971\">restarting Xcode.</a></p>\n\n<p><b>3.</b> While it was originally possible to use pure Swift classes in Objective-C by using the <code>@objc</code> prefix, after Swift 2.0, this is no longer possible.  See edit history for original explanation.  If this functionality is reenabled in future Swift versions, the answer will be updated accordingly.</p>\n", "title": "How to call Objective C code from Swift", "answer_id": 24005242, "question_id": 24002369, "tags": ["objective-c", "swift"]}, {"body": "<p>You can read this nice post <a href=\"https://medium.com/@stigi/swift-cocoapods-da09d8ba6dd2\">Swift &amp; Cocoapods</a>. Basically, we need to create a bridging header file and put all objective c headers there. And then we need to reference it from our build settings. After that, we can use the objective c code.</p>\n\n<pre><code>let manager = AFHTTPRequestOperationManager()\nmanager.GET(\n  \"http://example.com/resources.json\",\n  parameters: nil,\n  success: { (operation: AFHTTPRequestOperation!,\n              responseObject: AnyObject!) in\n      println(\"JSON: \" + responseObject.description)\n  },\n  failure: { (operation: AFHTTPRequestOperation!,\n              error: NSError!) in\n      println(\"Error: \" + error.localizedDescription)\n  })\n</code></pre>\n\n<p>Also have a look at Apple's document <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/swift/conceptual/buildingcocoaapps/MixandMatch.html\">Using Swift with Cocoa and Objective-C\n</a> as well.</p>\n", "title": "How to call Objective C code from Swift", "answer_id": 24027921, "question_id": 24002369, "tags": ["objective-c", "swift"]}, {"body": "<p>I wrote a simple Xcode 6 project that show how to mix C++, Objective C and Swift code:</p>\n\n<p><a href=\"https://github.com/romitagl/shared/tree/master/C-ObjC-Swift/Performance_Console\">https://github.com/romitagl/shared/tree/master/C-ObjC-Swift/Performance_Console</a></p>\n\n<p>In particular the example <strong><em>call an Objective C and a C++ function from the Swift</em></strong>.</p>\n\n<p>The key is to create a shared header Project-Bridging-Header.h and put the Objective C headers there. </p>\n\n<p>Please download the project as a complete example.</p>\n", "title": "How to call Objective C code from Swift", "answer_id": 24202870, "question_id": 24002369, "tags": ["objective-c", "swift"]}, {"body": "<p>Here are step-by-step instructions for using Objective-C code (in this case, a framework provided by a third-party) in a Swift project:</p>\n\n<ol>\n<li><strong>Add any Objective-C file to your Swift project</strong> by choosing File > New > New File > Objective-C File. Upon saving, <strong>XCode will ask if you want to add a bridging header</strong>. Choose '<strong>Yes</strong>'. <img src=\"http://www.derrrick.com/stackoverflow/1-empty-file.gif\" alt=\"Gif: adding empty file to project and generating bridging header\"></li>\n</ol>\n\n<p>In simple step 1: prompt appear than click on ok.. if it is not appear  than we create manually like follow.. create one header file from iOS source and give the name ProjectName-Bridging-Header(ex:Test-Bridging-Header)  and than go to build setting  in swift compiler code-> Objective-C bridge add Objective-C bridge name ..(Test/Test-Bridging-Header.h) yeah thats complete.     </p>\n\n<ol start=\"2\">\n<li><p>Optionally, delete the Objective-C file you added (named \"anything\" in the gif above), you don't need it anymore.</p></li>\n<li><p><strong>Open the bridging header file</strong> -- the filename is of the form <strong>[YourProject]-Bridging-Header.h</strong>. It includes an Xcode-provided comment. <strong>Add a line of code for the Objective-C file you want to include</strong>, such as a 3rd-party framework. For example, to add Mixpanel to your project, you will need to add the following line of code to the bridging header file:</p>\n\n<pre>#import \"Mixpanel.h\"</pre></li>\n<li><p>Now in any Swift file you can <strong>use existing Objective-C code, in the Swift syntax</strong> (in the case of this example, you can call Mixpanel SDK methods, etc.). You need to familiarize yourself with how Xcode translates Objective-C to Swift. <a href=\"https://developer.apple.com/library/ios/documentation/Swift/Conceptual/BuildingCocoaApps\">Apple's guide</a> is a quick read. Or see this answer for an incomplete summary.</p></li>\n</ol>\n\n<p>Example for Mixpanel:</p>\n\n<pre><code>func application(application: UIApplication, didFinishLaunchingWithOptions launchOptions: [NSObject: AnyObject]?) -&gt; Bool {\n    Mixpanel.sharedInstanceWithToken(\"your-token\")\n    return true\n}\n</code></pre>\n\n<p>That's it!</p>\n\n<p>Note: <strong>if you remove the bridging header file from your project</strong>, be sure to go into Build Settings and remove the value for \"<strong>Objective-C Bridging Header</strong>\" under \"Swift Compiler - Code Generation\". </p>\n", "title": "How to call Objective C code from Swift", "answer_id": 28486246, "question_id": 24002369, "tags": ["objective-c", "swift"]}, {"body": "<p>Click on New file menu chose file select language Objective  that time automatically   generate \"Objective-C Bridging Header\" file  that  is use to define some class name  </p>\n\n<p>\"Objective-C Bridging Header\" under \"Swift Compiler - Code Generation\". </p>\n", "title": "How to call Objective C code from Swift", "answer_id": 32501638, "question_id": 24002369, "tags": ["objective-c", "swift"]}, {"body": "<h3>One more thing I would like to add here:</h3>\n\n<p>I am very thankful to @Logan answer. It helps a  lot to create a bridge file and setups.</p>\n\n<p>But after doing all these steps I'm still not getting Objective C class in Swift.</p>\n\n<p>I used <code>cocoapods</code> library and integrate in my project. Which is <code>pod \"pop\"</code></p>\n\n<p>So If are using Objective C pods in Swift than there may be a chance that you can not able to get or <code>import</code> the classes into Swift.</p>\n\n<p>The simple thing you have to do that is:</p>\n\n<ol>\n<li>Go to <code>&lt;YOUR-PROJECT&gt;-Bridging-Header</code> file and</li>\n<li>Replace the statement <code>#import &lt;ObjC_Framework&gt;</code> to <code>@import ObjC_Framework</code></li>\n</ol>\n\n<p><strong>For example: (Pop library)</strong></p>\n\n<p>Replace </p>\n\n<pre><code>#import &lt;pop/POP.h&gt;\n</code></pre>\n\n<p>To</p>\n\n<pre><code>@import pop;\n</code></pre>\n\n<p><em>Use <code>clang import</code> when <code>#import</code> is not working.</em></p>\n", "title": "How to call Objective C code from Swift", "answer_id": 32601768, "question_id": 24002369, "tags": ["objective-c", "swift"]}, {"body": "<p>After you created Bridging header.</p>\n\n<p>Go to Build Setting =>Search for \"Objective-C Bridging Header\" </p>\n\n<p>Just below you will find \"\"Objective-C Generated Interface Header Name\" file </p>\n\n<p>and  import That file in your view controller.</p>\n\n<p>ex.In  my case: \"Dauble-Swift.h\"</p>\n\n<p><a href=\"http://i.stack.imgur.com/cEuwx.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/cEuwx.png\" alt=\"enter image description here\"></a></p>\n", "title": "How to call Objective C code from Swift", "answer_id": 33911656, "question_id": 24002369, "tags": ["objective-c", "swift"]}, {"body": "<p>Just a note for whoever trying to add Objective C library to swift, you should add <strong>-ObjC</strong> in Build Settings -> Linking -> Other Linker Flags</p>\n", "title": "How to call Objective C code from Swift", "answer_id": 36117343, "question_id": 24002369, "tags": ["objective-c", "swift"]}], "question_id": 24002369}, {"body": "<p>My app that worked fine on iOS&nbsp;7 doesn't work with the iOS&nbsp;8 SDK.</p>\n\n<p><code>CLLocationManager</code> doesn't return a location, and I don't see my app under <em>Settings</em> -> <em>Location Services</em> either. I did a Google search on the issue, but nothing came up. What could be wrong?</p>\n", "title": "Location Services not working in iOS 8", "tags": ["objective-c", "ios8"], "answer_count": 24, "link": "http://stackoverflow.com/questions/24062509/location-services-not-working-in-ios-8", "answers": [{"body": "<p>I ended up solving my own problem. </p>\n\n<p>Apparently in iOS 8 SDK, <code>requestAlwaysAuthorization</code> (for background location) or <code>requestWhenInUseAuthorization</code> (location only when foreground) call on <code>CLLocationManager</code> is needed before starting location updates.</p>\n\n<p>There also needs to be <code>NSLocationAlwaysUsageDescription</code> or <code>NSLocationWhenInUseUsageDescription</code> key in <code>Info.plist</code> with a message to be displayed in the prompt. Adding these solved my problem.</p>\n\n<p><a href=\"http://i.stack.imgur.com/iuOzB.jpg\"><img src=\"http://i.stack.imgur.com/iuOzB.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Hope it helps someone else.</p>\n\n<p>EDIT: For more extensive information, have a look at: <a href=\"http://nevan.net/2014/09/core-location-manager-changes-in-ios-8/\">Core-Location-Manager-Changes-in-ios-8</a></p>\n", "title": "Location Services not working in iOS 8", "answer_id": 24063578, "question_id": 24062509, "tags": ["objective-c", "ios8"]}, {"body": "<p>I was pulling my hair out with the same problem. Xcode gives you the error:</p>\n\n<blockquote>\n  <p>Trying to start <code>MapKit</code> location updates without prompting for\n  location authorization. Must call <code>-[CLLocationManager\n  requestWhenInUseAuthorization]</code> or <code>-[CLLocationManager\n  requestAlwaysAuthorization]</code> first.</p>\n</blockquote>\n\n<p>But even if you implement one of the above methods, it won't prompt the user unless there is an entry in the info.plist for <code>NSLocationAlwaysUsageDescription</code> or <code>NSLocationWhenInUseUsageDescription</code>.</p>\n\n<p>Add the following lines to your info.plist where the string values represent the reason you you need to access the users location </p>\n\n<pre><code>&lt;key&gt;NSLocationWhenInUseUsageDescription&lt;/key&gt;\n&lt;string&gt;This application requires location services to work&lt;/string&gt;\n\n&lt;key&gt;NSLocationAlwaysUsageDescription&lt;/key&gt;\n&lt;string&gt;This application requires location services to work&lt;/string&gt;\n</code></pre>\n\n<p>I think these entries may have been missing since I started this project in Xcode 5. I'm guessing Xcode 6 might add default entries for these keys but have not confirmed. </p>\n\n<p>You can find more information on these two Settings <a href=\"https://developer.apple.com/library/ios/documentation/General/Reference/InfoPlistKeyReference/Articles/CocoaKeys.html\">here</a> </p>\n", "title": "Location Services not working in iOS 8", "answer_id": 24064860, "question_id": 24062509, "tags": ["objective-c", "ios8"]}, {"body": "<p>According to the Apple docs:</p>\n\n<p><a href=\"https://developer.apple.com/library/prerelease/ios/documentation/CoreLocation/Reference/CLLocationManager_Class/index.html#//apple_ref/occ/instm/CLLocationManager/requestWhenInUseAuthorization\">https://developer.apple.com/library/prerelease/ios/documentation/CoreLocation/Reference/CLLocationManager_Class/index.html#//apple_ref/occ/instm/CLLocationManager/requestWhenInUseAuthorization</a></p>\n\n<p>As of iOS 8, the presence of a <code>NSLocationWhenInUseUsageDescription</code> or a <code>NSLocationAlwaysUsageDescription</code> key value in your app's Info.plist file is required. It's then also necessary to request permission from the user prior to registering for location updates, either by calling <code>[self.myLocationManager requestWhenInUseAuthorization]</code> or <code>[self.myLocationManager requestAlwaysAuthorization]</code> depending on your need. The string you entered into the Info.plist will then be displayed in the ensuing dialog.</p>\n\n<p>If the user grants permission, it's business as usual. If they deny permission, then the delegate is not informed of location updates.</p>\n", "title": "Location Services not working in iOS 8", "answer_id": 24111434, "question_id": 24062509, "tags": ["objective-c", "ios8"]}, {"body": "<p>To ensure that this is backwards compatible with iOS 7, you should check whether the user is running iOS 8 or iOS 7. For example:</p>\n\n<pre><code>#define IS_OS_8_OR_LATER ([[[UIDevice currentDevice] systemVersion] floatValue] &gt;= 8.0)\n\n//In ViewDidLoad\nif(IS_OS_8_OR_LATER) {\n   [self.locationManager requestAlwaysAuthorization];\n}\n\n[self.locationManager startUpdatingLocation];\n</code></pre>\n", "title": "Location Services not working in iOS 8", "answer_id": 24442603, "question_id": 24062509, "tags": ["objective-c", "ios8"]}, {"body": "<p>Solution with backward compatibility:</p>\n\n<pre><code>SEL requestSelector = NSSelectorFromString(@\"requestWhenInUseAuthorization\");\nif ([CLLocationManager authorizationStatus] == kCLAuthorizationStatusNotDetermined &amp;&amp;\n    [self.locationManager respondsToSelector:requestSelector]) {\n    [self.locationManager performSelector:requestSelector withObject:NULL];\n} else {\n    [self.locationManager startUpdatingLocation];\n}\n</code></pre>\n\n<p>Setup NSLocationWhenInUseUsageDescription key in your Info.plist</p>\n", "title": "Location Services not working in iOS 8", "answer_id": 25779636, "question_id": 24062509, "tags": ["objective-c", "ios8"]}, {"body": "<p>Solution with backward compatibility which doesn't produce Xcode warnings:</p>\n\n<pre><code>SEL requestSelector = NSSelectorFromString(@\"requestWhenInUseAuthorization\");\nif ([CLLocationManager authorizationStatus] == kCLAuthorizationStatusNotDetermined &amp;&amp;\n  [self.locationManager respondsToSelector:requestSelector]) {\n((void (*)(id, SEL))[self.locationManager methodForSelector:requestSelector])(self.locationManager, requestSelector);\n  [self.locationManager startUpdatingLocation];\n} else {\n  [self.locationManager startUpdatingLocation];\n}\n</code></pre>\n\n<p>Setup NSLocationWhenInUseUsageDescription key in your Info.plist</p>\n", "title": "Location Services not working in iOS 8", "answer_id": 25783861, "question_id": 24062509, "tags": ["objective-c", "ios8"]}, {"body": "<p>My solution which can be compiled in Xcode 5:</p>\n\n<pre><code>#ifdef __IPHONE_8_0\n    NSUInteger code = [CLLocationManager authorizationStatus];\n    if (code == kCLAuthorizationStatusNotDetermined &amp;&amp; ([self.locationManager respondsToSelector:@selector(requestAlwaysAuthorization)] || [self.locationManager respondsToSelector:@selector(requestWhenInUseAuthorization)])) {\n        // choose one request according to your business.\n        if([[NSBundle mainBundle] objectForInfoDictionaryKey:@\"NSLocationAlwaysUsageDescription\"]){\n            [self.locationManager requestAlwaysAuthorization];\n        } else if([[NSBundle mainBundle] objectForInfoDictionaryKey:@\"NSLocationWhenInUseUsageDescription\"]) {\n            [self.locationManager  requestWhenInUseAuthorization];\n        } else {\n            NSLog(@\"Info.plist does not contain NSLocationAlwaysUsageDescription or NSLocationWhenInUseUsageDescription\");\n        }\n    }\n#endif\n    [self.locationManager startUpdatingLocation];\n</code></pre>\n", "title": "Location Services not working in iOS 8", "answer_id": 26016645, "question_id": 24062509, "tags": ["objective-c", "ios8"]}, {"body": "<p>The old code for asking location won't work in iOS 8. You can try this method for location authorization:</p>\n\n<pre><code>- (void)requestAlwaysAuthorization\n{\n    CLAuthorizationStatus status = [CLLocationManager authorizationStatus];\n\n    // If the status is denied or only granted for when in use, display an alert\n    if (status == kCLAuthorizationStatusAuthorizedWhenInUse || status ==        kCLAuthorizationStatusDenied) {\n        NSString *title;\n        title = (status == kCLAuthorizationStatusDenied) ? @\"Location services are off\" :   @\"Background location is not enabled\";\n        NSString *message = @\"To use background location you must turn on 'Always' in the Location Services Settings\";\n\n        UIAlertView *alertView = [[UIAlertView alloc] initWithTitle:title\n                                                            message:message\n                                                           delegate:self\n                                                  cancelButtonTitle:@\"Cancel\"\n                                                  otherButtonTitles:@\"Settings\", nil];\n        [alertView show];\n    }\n    // The user has not enabled any location services. Request background authorization.\n    else if (status == kCLAuthorizationStatusNotDetermined) {\n        [self.locationManager requestAlwaysAuthorization];\n    }\n}\n\n- (void)alertView:(UIAlertView *)alertView clickedButtonAtIndex:(NSInteger)buttonIndex\n{\n    if (buttonIndex == 1) {\n        // Send the user to the Settings for this app\n        NSURL *settingsURL = [NSURL URLWithString:UIApplicationOpenSettingsURLString];\n        [[UIApplication sharedApplication] openURL:settingsURL];\n    }\n}\n</code></pre>\n", "title": "Location Services not working in iOS 8", "answer_id": 26073432, "question_id": 24062509, "tags": ["objective-c", "ios8"]}, {"body": "<pre><code>- (void)startLocationManager\n{\n    locationManager = [[CLLocationManager alloc] init];\n    locationManager.delegate = self;\n    locationManager.distanceFilter = kCLDistanceFilterNone; //whenever we move\n    locationManager.desiredAccuracy = kCLLocationAccuracyBest;\n\n    [locationManager startUpdatingLocation];\n    [locationManager requestWhenInUseAuthorization]; // Add This Line\n\n\n}\n</code></pre>\n\n<p>And to your info.plist File\n<img src=\"http://i.stack.imgur.com/bQcRQ.png\" alt=\"enter image description here\"></p>\n", "title": "Location Services not working in iOS 8", "answer_id": 26118453, "question_id": 24062509, "tags": ["objective-c", "ios8"]}, {"body": "<p>Add this to your code</p>\n\n<pre><code>if (IS_OS_8_OR_LATER)\n{\n    [locationmanager requestWhenInUseAuthorization];\n\n    [locationmanager requestAlwaysAuthorization];\n}\n</code></pre>\n\n<p>and to <strong>info.plist:</strong></p>\n\n<pre><code>&lt;key&gt;NSLocationUsageDescription&lt;/key&gt;\n&lt;string&gt;I need location&lt;/string&gt;\n&lt;key&gt;NSLocationAlwaysUsageDescription&lt;/key&gt;\n&lt;string&gt;I need location&lt;/string&gt;\n&lt;key&gt;NSLocationWhenInUseUsageDescription&lt;/key&gt;\n&lt;string&gt;I need location&lt;/string&gt;\n</code></pre>\n", "title": "Location Services not working in iOS 8", "answer_id": 26155568, "question_id": 24062509, "tags": ["objective-c", "ios8"]}, {"body": "<p>A little helper for all of you that have more than one Info.plist file...</p>\n\n<pre><code>find . -name Info.plist | xargs -I {} /usr/libexec/PlistBuddy -c 'Add NSLocationWhenInUseUsageDescription string' {} \n</code></pre>\n\n<p>It will add the needed tag to all of the Info.plist files in the current directory (and subfolders).</p>\n\n<p>Another is:</p>\n\n<pre><code>find . -name Info.plist | xargs -I {} /usr/libexec/PlistBuddy -c 'Set NSLocationWhenInUseUsageDescription $YOURDESCRIPTION' {} \n</code></pre>\n\n<p>It will add your description to all files.</p>\n", "title": "Location Services not working in iOS 8", "answer_id": 26231542, "question_id": 24062509, "tags": ["objective-c", "ios8"]}, {"body": "<p>Before <code>[locationManager startUpdatingLocation];</code>, add an iOS8 location services request:</p>\n\n<pre><code>if([locationManager respondsToSelector:@selector(requestAlwaysAuthorization)])\n    [locationManager requestAlwaysAuthorization];\n</code></pre>\n\n<p>Edit your app's <code>Info.plist</code> and add key <code>NSLocationAlwaysUsageDescription</code> with the string value that will be displayed to the user (for example, <code>We do our best to preserve your battery life.</code>)</p>\n\n<p>If your app needs location services only while the app is open, replace:</p>\n\n<p><code>requestAlwaysAuthorization</code> with <code>requestWhenInUseAuthorization</code> and</p>\n\n<p><code>NSLocationAlwaysUsageDescription</code> with <code>NSLocationWhenInUseUsageDescription</code>.</p>\n", "title": "Location Services not working in iOS 8", "answer_id": 26867020, "question_id": 24062509, "tags": ["objective-c", "ios8"]}, {"body": "<ol>\n<li><p>Add key <code>NSLocationWhenInUseUsageDescription</code> or <code>NSLocationAlwaysUsageDescription</code> (background GPS use) with string asking to use GPS on each <code>info.plist</code> from each target.</p></li>\n<li><p>Ask for permission by running:</p>\n\n<p>[self initLocationManager:locationManager];</p></li>\n</ol>\n\n<p>Where <code>initLocationManager</code> is:</p>\n\n<pre><code>// asks for GPS authorization on iOS 8\n-(void) initLocationManager:(CLLocationManager *) locationManager{\n\n    locationManager = [[CLLocationManager alloc]init];\n\n    if([locationManager respondsToSelector:@selector(requestAlwaysAuthorization)])\n        [locationManager requestAlwaysAuthorization];\n}\n</code></pre>\n\n<p>Remember that if the keys are not on each <code>info.plist</code> for each target the app will not ask the user. The <code>if</code> provides compatibility with iOS 7 and the <code>respondsToSelector:</code> method guarantees future compatibility rather than just solving the issue for iOS 7 and 8.</p>\n", "title": "Location Services not working in iOS 8", "answer_id": 26962576, "question_id": 24062509, "tags": ["objective-c", "ios8"]}, {"body": "<p>To Access User Location in iOS 8 you will have to add,</p>\n\n<pre><code>NSLocationAlwaysUsageDescription in the Info.plist \n</code></pre>\n\n<p>This will ask the user for the permission to get their current location.</p>\n", "title": "Location Services not working in iOS 8", "answer_id": 26965727, "question_id": 24062509, "tags": ["objective-c", "ios8"]}, {"body": "<pre><code>        // ** Don't forget to add NSLocationWhenInUseUsageDescription in MyApp-Info.plist and give it a string\n\n        self.locationManager = [[CLLocationManager alloc] init];\n        self.locationManager.delegate = self;\n        // Check for iOS 8. Without this guard the code will crash with \"unknown selector\" on iOS 7.\n        if ([self.locationManager respondsToSelector:@selector(requestWhenInUseAuthorization)]) {\n            [self.locationManager requestWhenInUseAuthorization];\n        }\n        [self.locationManager startUpdatingLocation];\n\n\n    // Location Manager Delegate Methods    \n    - (void)locationManager:(CLLocationManager *)manager didUpdateLocations:(NSArray *)locations\n    {\n        NSLog(@\"%@\", [locations lastObject]);\n\n}\n</code></pre>\n", "title": "Location Services not working in iOS 8", "answer_id": 26995963, "question_id": 24062509, "tags": ["objective-c", "ios8"]}, {"body": "<p>For those using <strong>Xamarin</strong>, I had to add the key <strong><code>NSLocationWhenInUseUsageDescription</code></strong> to the info.plist manually since it was not available in the dropdowns in either Xamarin 5.5.3 Build 6 or XCode 6.1 - only  <code>NSLocationUsageDescription</code> was in the list, and that caused the <code>CLLocationManager</code> to continue to fail silently.</p>\n", "title": "Location Services not working in iOS 8", "answer_id": 27066378, "question_id": 24062509, "tags": ["objective-c", "ios8"]}, {"body": "<p>I was working on an app that was upgraded to iOS&nbsp;8 and location services stopped working. You'll probably get and error in the Debug area like so:</p>\n\n<p><code>Trying to start MapKit location updates without prompting for location authorization. Must call -[CLLocationManager requestWhenInUseAuthorization] or -[CLLocationManager requestAlwaysAuthorization] first.</code></p>\n\n<p>I did the least intrusive procedure. First add <code>NSLocationAlwaysUsageDescription</code> entry to your info.plist:</p>\n\n<p><img src=\"http://i.stack.imgur.com/N4M21.png\" alt=\"Enter image description here\"></p>\n\n<p>Notice I didn't fill out the value for this key. This still works, and I'm not concerned because this is a in house app. Also, there is already a title asking to use location services, so I didn't want to do anything redundant.</p>\n\n<p>Next I created a conditional for iOS 8:</p>\n\n<pre><code>if ([self.locationManager respondsToSelector:@selector(requestAlwaysAuthorization)]) {\n    [_locationManager requestAlwaysAuthorization];\n}\n</code></pre>\n\n<p>After this the <code>locationManager:didChangeAuthorizationStatus:</code> method is call:</p>\n\n<pre><code>- (void)locationManager:(CLLocationManager *)manager didChangeAuthorizationStatus:  (CLAuthorizationStatus)status\n{\n    [self gotoCurrenLocation];\n}\n</code></pre>\n\n<p>And now everything works fine. As always, check out the <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/CoreLocation/Reference/CLLocationManager_Class/index.html#//apple_ref/occ/instm/CLLocationManager/requestWhenInUseAuthorization\">documentation</a>.</p>\n", "title": "Location Services not working in iOS 8", "answer_id": 27109214, "question_id": 24062509, "tags": ["objective-c", "ios8"]}, {"body": "<pre><code>- (void)viewDidLoad\n{\n\n    [super viewDidLoad];\n    self.locationManager = [[CLLocationManager alloc] init];\n\n    self.locationManager.delegate = self;\n    if([self.locationManager respondsToSelector:@selector(requestAlwaysAuthorization)]){\n        NSUInteger code = [CLLocationManager authorizationStatus];\n        if (code == kCLAuthorizationStatusNotDetermined &amp;&amp; ([self.locationManager respondsToSelector:@selector(requestAlwaysAuthorization)] || [self.locationManager respondsToSelector:@selector(requestWhenInUseAuthorization)])) {\n            // choose one request according to your business.\n            if([[NSBundle mainBundle] objectForInfoDictionaryKey:@\"NSLocationAlwaysUsageDescription\"]){\n                [self.locationManager requestAlwaysAuthorization];\n            } else if([[NSBundle mainBundle] objectForInfoDictionaryKey:@\"NSLocationWhenInUseUsageDescription\"]) {\n                [self.locationManager  requestWhenInUseAuthorization];\n            } else {\n                NSLog(@\"Info.plist does not contain NSLocationAlwaysUsageDescription or NSLocationWhenInUseUsageDescription\");\n            }\n        }\n    }\n    [self.locationManager startUpdatingLocation];\n}\n\n&gt;  #pragma mark - CLLocationManagerDelegate\n\n    - (void)locationManager:(CLLocationManager *)manager didFailWithError:(NSError *)error\n    {\n        NSLog(@\"didFailWithError: %@\", error);\n        UIAlertView *errorAlert = [[UIAlertView alloc]\n                                   initWithTitle:@\"Error\" message:@\"Failed to Get Your Location\" delegate:nil cancelButtonTitle:@\"OK\" otherButtonTitles:nil];\n        [errorAlert show];\n    }\n\n    - (void)locationManager:(CLLocationManager *)manager didUpdateToLocation:(CLLocation *)newLocation fromLocation:(CLLocation *)oldLocation\n    {\n        NSLog(@\"didUpdateToLocation: %@\", newLocation);\n        CLLocation *currentLocation = newLocation;\n\n        if (currentLocation != nil) {\n            longitudeLabel.text = [NSString stringWithFormat:@\"%.8f\", currentLocation.coordinate.longitude];\n            latitudeLabel.text = [NSString stringWithFormat:@\"%.8f\", currentLocation.coordinate.latitude];\n        }\n    }\n</code></pre>\n\n<blockquote>\n  <p>In iOS 8 you need to do two extra things to get location working: Add\n  a key to your Info.plist and request authorization from the location\n  manager asking it to start. There are two Info.plist keys for the new\n  location authorization. One or both of these keys is required. If\n  neither of the keys are there, you can call startUpdatingLocation but\n  the location manager won\u2019t actually start. It won\u2019t send a failure\n  message to the delegate either (since it never started, it can\u2019t\n  fail). It will also fail if you add one or both of the keys but forget\n  to explicitly request authorization. So the first thing you need to do\n  is to add one or both of the following keys to your Info.plist file:  </p>\n</blockquote>\n\n<ul>\n<li>NSLocationWhenInUseUsageDescription  </li>\n<li>NSLocationAlwaysUsageDescription</li>\n</ul>\n\n<p>Both of these keys take a string</p>\n\n<blockquote>\n  <p>which is a description of why you need location services. You can\n  enter a string like \u201cLocation is required to find out where you are\u201d\n  which, as in iOS 7, can be localized in the InfoPlist.strings file.</p>\n</blockquote>\n\n<p><img src=\"http://i.stack.imgur.com/aQuZf.png\" alt=\"enter image description here\">   </p>\n", "title": "Location Services not working in iOS 8", "answer_id": 27517837, "question_id": 24062509, "tags": ["objective-c", "ios8"]}, {"body": "<p><strong>One common error for Swift developers:</strong></p>\n\n<p>First make sure you add a value to the plist for either <code>NSLocationWhenInUseUsageDescription</code> or <code>NSLocationAlwaysUsageDescription</code>.</p>\n\n<p>If you are <em>still</em> not seeing a window pop up asking for authorization, look to see if you are putting the line <code>var locationManager = CLLocationManager()</code> in your View Controller's <code>viewDidLoad</code> method. If you do, then even if you call <code>locationManager.requestWhenInUseAuthorization()</code>, nothing will show up. This is because after viewDidLoad executes, the locationManager variable is deallocated (cleared out).</p>\n\n<p>The solution is to locate the line <code>var locationManager = CLLocationManager()</code> at the top of the class method.</p>\n", "title": "Location Services not working in iOS 8", "answer_id": 28572543, "question_id": 24062509, "tags": ["objective-c", "ios8"]}, {"body": "<p>The problem for me was that the class that was the <code>CLLocationManagerDelegate</code> was private, which prevented all the delegate methods from being called. Guess it's not a very common situation but thought I'd mention it in case t helps anyone.</p>\n", "title": "Location Services not working in iOS 8", "answer_id": 31260480, "question_id": 24062509, "tags": ["objective-c", "ios8"]}, {"body": "<p>I add those key in <code>InfoPlist.strings</code> in <strong>iOS 8.4, iPad mini 2.</strong> It works too. I don't set any key, like <code>NSLocationWhenInUseUsageDescription</code>, in my <code>Info.plist</code>.</p>\n\n<hr>\n\n<p><em>InfoPlist.strings</em>:</p>\n\n<pre><code>\"NSLocationWhenInUseUsageDescription\" = \"I need GPS information....\";\n</code></pre>\n\n<hr>\n\n<p><a href=\"http://nevan.net/2014/09/core-location-manager-changes-in-ios-8/\" rel=\"nofollow\">Base on this thread</a>, it said, <code>as in iOS 7</code>, can be localized in the InfoPlist.strings. In my test, those keys can be configured directly in the file <code>InfoPlist.strings</code>.</p>\n\n<blockquote>\n  <p>So the first thing you need to do is to add one or both of the > following keys to your Info.plist file:</p>\n  \n  <ul>\n  <li>NSLocationWhenInUseUsageDescription</li>\n  <li>NSLocationAlwaysUsageDescription</li>\n  </ul>\n  \n  <p>Both of these keys take a string which is a description of why you\n  need location services. You can enter a string like \u201cLocation is\n  required to find out where you are\u201d which, as in <strong>iOS 7</strong>, can be\n  localized in the InfoPlist.strings file.</p>\n</blockquote>\n\n<hr>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I think <a href=\"http://stackoverflow.com/a/27517837/419348\"><code>@IOS</code>'s method is better.</a> Add key to <code>Info.plist</code> with empty value and add localized strings to <code>InfoPlist.strings</code>.</p>\n", "title": "Location Services not working in iOS 8", "answer_id": 31720631, "question_id": 24062509, "tags": ["objective-c", "ios8"]}, {"body": "<p>Keep <strong>Cocoa Keys</strong> information always at your fingertips for those updates, here is the link:</p>\n\n<p><a href=\"https://developer.apple.com/library/ios/documentation/General/Reference/InfoPlistKeyReference/Articles/CocoaKeys.html#//apple_ref/doc/uid/TP40009251-SW26\" rel=\"nofollow\">https://developer.apple.com/library/ios/documentation/General/Reference/InfoPlistKeyReference/Articles/CocoaKeys.html#//apple_ref/doc/uid/TP40009251-SW26</a></p>\n\n<p>Enjoy.</p>\n", "title": "Location Services not working in iOS 8", "answer_id": 31735930, "question_id": 24062509, "tags": ["objective-c", "ios8"]}, {"body": "<p>This is issue with ios 8 \nAdd this to your code</p>\n\n<pre><code>if (IS_OS_8_OR_LATER)\n{\n    [locationmanager requestWhenInUseAuthorization];\n\n    [locationmanager requestAlwaysAuthorization];\n}\n</code></pre>\n\n<p>and to info.plist:</p>\n\n<pre><code> &lt;key&gt;NSLocationUsageDescription&lt;/key&gt;\n &lt;string&gt;I need location&lt;/string&gt;\n &lt;key&gt;NSLocationAlwaysUsageDescription&lt;/key&gt;\n &lt;string&gt;I need location&lt;/string&gt;\n &lt;key&gt;NSLocationWhenInUseUsageDescription&lt;/key&gt;\n &lt;string&gt;I need location&lt;/string&gt;\n</code></pre>\n", "title": "Location Services not working in iOS 8", "answer_id": 32346867, "question_id": 24062509, "tags": ["objective-c", "ios8"]}, {"body": "<p>I get a similar error in iOS9 (working with Xcode 7 and Swift 2):\n<strong>Trying to start MapKit location updates without prompting for location authorization. Must call -[CLLocationManager requestWhenInUseAuthorization] or -[CLLocationManager requestAlwaysAuthorization] first.</strong>\nI was following a tutorial but the tutor was using iOS8 and Swift 1.2. There are some changes in Xcode 7 and Swift 2, I found this code and it works fine for me (if somebody needs help):</p>\n\n<pre><code>import UIKit\nimport MapKit\nimport CoreLocation\n\nclass MapViewController: UIViewController, MKMapViewDelegate, CLLocationManagerDelegate {\n\n    // MARK: Properties\n    @IBOutlet weak var mapView: MKMapView!\n\n    let locationManager = CLLocationManager()\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n\n        self.locationManager.delegate = self\n        self.locationManager.desiredAccuracy = kCLLocationAccuracyBest\n        self.locationManager.requestWhenInUseAuthorization()\n        self.locationManager.startUpdatingLocation()\n        self.mapView.showsUserLocation = true\n\n    }\n\n    // MARK: - Location Delegate Methods\n\n    func locationManager(manager: CLLocationManager, didUpdateLocations locations: [CLLocation]) {\n        let location = locations.last\n        let center = CLLocationCoordinate2D(latitude: location!.coordinate.latitude, longitude: location!.coordinate.longitude)\n        let region = MKCoordinateRegion(center: center, span: MKCoordinateSpan(latitudeDelta: 1, longitudeDelta: 1))\n        self.mapView.setRegion(region, animated: true)\n    }\n\n    func locationManager(manager: CLLocationManager, didFailWithError error: NSError) {\n        print(\"Errors: \" + error.localizedDescription)\n    }\n}\n</code></pre>\n\n<p>Finally, I put that in info.plist:\nInformation Property List: <strong>NSLocationWhenInUseUsageDescription</strong>\nValue: <strong>App needs location servers for staff</strong></p>\n", "title": "Location Services not working in iOS 8", "answer_id": 34515785, "question_id": 24062509, "tags": ["objective-c", "ios8"]}], "question_id": 24062509}, {"body": "<p>What is the difference between the <code>COPY</code> and <code>ADD</code> commands in a Dockerfile, and when would I use one over the other?</p>\n\n<hr>\n\n<pre><code>COPY &lt;src&gt; &lt;dest&gt;\n</code></pre>\n\n<blockquote>\n  <p>The COPY instruction will copy new files from <code>&lt;src&gt;</code> and add them to\n  the container's filesystem at path <code>&lt;dest&gt;</code></p>\n</blockquote>\n\n<hr>\n\n<pre><code>ADD &lt;src&gt; &lt;dest&gt;\n</code></pre>\n\n<blockquote>\n  <p>The ADD instruction will copy new files from <code>&lt;src&gt;</code> and add them to the\n  container's filesystem at path <code>&lt;dest&gt;</code>.</p>\n</blockquote>\n", "title": "Docker COPY vs ADD", "tags": ["docker"], "answer_count": 6, "link": "http://stackoverflow.com/questions/24958140/docker-copy-vs-add", "answers": [{"body": "<p>You should check the <a href=\"http://docs.docker.com/reference/builder/#add\"><code>ADD</code></a> and <a href=\"http://docs.docker.com/reference/builder/#copy\"><code>COPY</code></a> documentations for an exhaustive description of their behaviours, but in a nutshell the major difference is that <code>ADD</code> can do more than <code>COPY</code>:</p>\n\n<ul>\n<li><code>ADD</code> allows <code>&lt;src&gt;</code> to be an URL</li>\n<li>If the <code>&lt;src&gt;</code> parameter of <code>ADD</code> is an archive in a recognised compression format, it will be unpacked</li>\n</ul>\n", "title": "Docker COPY vs ADD", "answer_id": 24958548, "question_id": 24958140, "tags": ["docker"]}, {"body": "<blockquote>\n  <p>Same as 'ADD' but without the tar and remote url handling.</p>\n</blockquote>\n\n<p>Reference <a href=\"https://github.com/docker/docker/blob/670c8696a29825b23208496bd4d8e88b5faa7773/builder/dispatchers.go#L77\">straight from the source code</a></p>\n", "title": "Docker COPY vs ADD", "answer_id": 26125419, "question_id": 24958140, "tags": ["docker"]}, {"body": "<p>There is some official documentation on that point: <a href=\"https://docs.docker.com/articles/dockerfile_best-practices/#add-or-copy\">Best Practices for Writing Dockerfiles</a> </p>\n\n<blockquote>\n  <p>Because image size matters, using <code>ADD</code> to fetch packages from remote URLs is strongly discouraged; you should use <code>curl</code> or <code>wget</code> instead. That way you can delete the files you no longer need after they've been extracted and you won't have to add another layer in your image.</p>\n</blockquote>\n\n<pre><code>RUN mkdir -p /usr/src/things \\\n  &amp;&amp; curl -SL http://example.com/big.tar.gz \\\n    | tar -xJC /usr/src/things \\\n  &amp;&amp; make -C /usr/src/things all\n</code></pre>\n\n<blockquote>\n  <p>For other items (files, directories) that do not require <code>ADD</code>\u2019s tar auto-extraction capability, you should always use <code>COPY</code>.</p>\n</blockquote>\n", "title": "Docker COPY vs ADD", "answer_id": 26156895, "question_id": 24958140, "tags": ["docker"]}, {"body": "<p>From Docker docs:</p>\n\n<blockquote>\n  <p>ADD or COPY </p>\n  \n  <p>Although ADD and COPY are functionally similar, generally speaking, COPY is preferred. That\u2019s because it\u2019s more transparent than ADD. COPY only supports the basic copying of local files into the container, while ADD has some features (like local-only tar extraction and remote URL support) that are not immediately obvious. Consequently, the best use for ADD is local tar file auto-extraction into the image, as in ADD rootfs.tar.xz /.</p>\n</blockquote>\n\n<p>More: <a href=\"https://docs.docker.com/articles/dockerfile_best-practices/#add-or-copy\">https://docs.docker.com/articles/dockerfile_best-practices/#add-or-copy</a></p>\n", "title": "Docker COPY vs ADD", "answer_id": 31923335, "question_id": 24958140, "tags": ["docker"]}, {"body": "<p>if you want to add a xx.tar.gz to a <code>/usr/local</code> in container,unzip it,then remove the useless compressed package.</p>\n\n<p>for COPY:</p>\n\n<pre><code>COPY resources/jdk-7u79-linux-x64.tar.gz /tmp/\nRUN tar -zxvf /tmp/jdk-7u79-linux-x64.tar.gz -C /usr/local\nRUN rm /tmp/jdk-7u79-linux-x64.tar.gz\n</code></pre>\n\n<p>for ADD:</p>\n\n<pre><code>ADD resources/jdk-7u79-linux-x64.tar.gz /usr/local/\n</code></pre>\n\n<p>ADD supports local-only tar extraction. beside it,COPY will use 3 layers, but ADD only use 1 layer. </p>\n", "title": "Docker COPY vs ADD", "answer_id": 36834010, "question_id": 24958140, "tags": ["docker"]}, {"body": "<p>From Docker docs:\n<a href=\"https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices/#add-or-copy\" rel=\"nofollow\">https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices/#add-or-copy</a></p>\n\n<p>\"Although ADD and COPY are functionally similar, generally speaking, COPY is preferred. That\u2019s because it\u2019s more transparent than ADD. COPY only supports the basic copying of local files into the container, while ADD has some features (like local-only tar extraction and remote URL support) that are not immediately obvious. Consequently, the best use for ADD is local tar file auto-extraction into the image, as in ADD rootfs.tar.xz /.</p>\n\n<p>If you have multiple Dockerfile steps that use different files from your context, COPY them individually, rather than all at once. This will ensure that each step\u2019s build cache is only invalidated (forcing the step to be re-run) if the specifically required files change.</p>\n\n<p>For example:</p>\n\n<pre><code> COPY requirements.txt /tmp/\n RUN pip install --requirement /tmp/requirements.txt\n COPY . /tmp/\n</code></pre>\n\n<p>Results in fewer cache invalidations for the RUN step, than if you put the COPY . /tmp/ before it.</p>\n\n<p>Because image size matters, using ADD to fetch packages from remote URLs is strongly discouraged; you should use curl or wget instead. That way you can delete the files you no longer need after they\u2019ve been extracted and you won\u2019t have to add another layer in your image. For example, you should avoid doing things like:</p>\n\n<pre><code> ADD http://example.com/big.tar.xz /usr/src/things/\n RUN tar -xJf /usr/src/things/big.tar.xz -C /usr/src/things\n RUN make -C /usr/src/things all\n</code></pre>\n\n<p>And instead, do something like:</p>\n\n<pre><code> RUN mkdir -p /usr/src/things \\\n     &amp;&amp; curl -SL htt,p://example.com/big.tar.xz \\\n     | tar -xJC /usr/src/things \\\n     &amp;&amp; make -C /usr/src/things all\n</code></pre>\n\n<p>For other items (files, directories) that do not require ADD\u2019s tar auto-extraction capability, you should always use COPY.\"</p>\n", "title": "Docker COPY vs ADD", "answer_id": 37771030, "question_id": 24958140, "tags": ["docker"]}], "question_id": 24958140}, {"body": "<p>In Objective C, I can use <code>#pragma mark</code> to mark sections of my code in the symbol navigator. Since this is a C preprocessor command, it's not available in Swift. Is there a stand-in for this in Swift, or do I have to use ugly comments?</p>\n", "title": "#pragma mark in Swift?", "tags": ["xcode", "swift"], "answer_count": 25, "link": "http://stackoverflow.com/questions/24017316/pragma-mark-in-swift", "answers": [{"body": "<p>In Objective-C code Xcode detects comments like <code>// MARK: - foo</code> which is a bit more portable than <code>#pragma</code>. But these do not seem to be picked up, too (yet?).</p>\n\n<p>Edit: Fixed in Xcode 6 beta 4.</p>\n", "title": "#pragma mark in Swift?", "answer_id": 24017460, "question_id": 24017316, "tags": ["xcode", "swift"]}, {"body": "<p>Apple states in the latest version of <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/BuildingCocoaApps/BuildingCocoaApps.pdf\" rel=\"nofollow\"><em>Building Cocoa Apps</em></a>, </p>\n\n<blockquote>\n  <p>The Swift compiler does not include a preprocessor. Instead, it takes\n  advantage of compile-time attributes, build configurations, and\n  language features to accomplish the same functionality. For this\n  reason, preprocessor directives are not imported in Swift.</p>\n</blockquote>\n\n<p>The # character appears to still be how you work with various build configurations and things like that, but it looks like they're trying to cut back on your need for most preprocessing in the vein of pragma and forward you to other language features altogether.  Perhaps this is to aid in the operation of the Playgrounds and the REPL behaving as close as possible to the fully compiled code.</p>\n", "title": "#pragma mark in Swift?", "answer_id": 24017635, "question_id": 24017316, "tags": ["xcode", "swift"]}, {"body": "<p>You can use <code>// MARK:</code></p>\n\n<hr>\n\n<p><strong>Historical, Prior to Xcode 6 Beta 4</strong></p>\n\n<p>Just talked to an Engineer here at WWDC, and the current beta of Xcode doesn't implement the </p>\n\n<p><code>// MARK:</code> </p>\n\n<p>style yet, but I'm told future versions will. </p>\n\n<p>It was also suggested that making liberal use of class extensions might be a better practice anyway. Since extensions can implement protocols, you can e.g. put all of your table view delegate methods in an extension and group your code at a more semantic level than <code>#pragma mark</code> is capable of. </p>\n", "title": "#pragma mark in Swift?", "answer_id": 24037870, "question_id": 24017316, "tags": ["xcode", "swift"]}, {"body": "<p>For those who are interested in using extensions vs pragma marks (as mentioned in the first comment), here is how to implement it from a Swift Engineer: </p>\n\n<pre><code>import UIKit\n\nclass SwiftTableViewController: UITableViewController {\n\n    init(coder aDecoder: NSCoder!) {\n        super.init(coder: aDecoder)\n\n    }\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n\n    }\n}\n\nextension SwiftTableViewController {\n    override func numberOfSectionsInTableView(tableView: UITableView?) -&gt; Int {\n        return 1\n    }\n\n    override func tableView(tableView: UITableView?, numberOfRowsInSection section: Int) -&gt; Int {\n        return 5\n    }\n\n    override func tableView(tableView: UITableView?, cellForRowAtIndexPath indexPath: NSIndexPath?) -&gt; UITableViewCell? {\n        let cell = tableView?.dequeueReusableCellWithIdentifier(\"myCell\", forIndexPath: indexPath) as UITableViewCell;\n\n        cell.textLabel.text = \"Hello World\"\n\n        return cell\n    }\n\n}\n</code></pre>\n\n<p>It's also not necessarily the best practice, but this is how you do it if you like. </p>\n", "title": "#pragma mark in Swift?", "answer_id": 24069206, "question_id": 24017316, "tags": ["xcode", "swift"]}, {"body": "<p>Confirmed with an Apple Engineer in the Swift lab this morning at WWDC that there currently aren't any #pragma or equivalent at the moment, they consider this a bug, and it will arrive soon, so I am guessing beta 2, I hope.</p>\n\n<p>Anyway, it's on it's way. </p>\n\n<hr>\n\n<p>Xcode now supports //MARK:, //TODO: and //FIXME landmarks to annotate your code and \nlists them in the jump bar</p>\n", "title": "#pragma mark in Swift?", "answer_id": 24091250, "question_id": 24017316, "tags": ["xcode", "swift"]}, {"body": "<p>I ran into this problem as well, and got into a lab with a swift engineer at WWDC. Xcode currently doesn't have the // MARK: style implemented yet. The next beta probably will.</p>\n\n<p>I was suggested that making a liberal use of class extensions might be a better practice anyways. Since extensions can implement protocols. You could (in example) put all of your delegation methods in an extension and group your code better than the pragma mark can.</p>\n", "title": "#pragma mark in Swift?", "answer_id": 24146553, "question_id": 24017316, "tags": ["xcode", "swift"]}, {"body": "<pre><code>// #pragma mark - Navigation\n\n// In a storyboard-based application, you will often want to do a little preparation before navigation\noverride func prepareForSegue(segue: UIStoryboardSegue?, sender: AnyObject?) {\n    // Get the new view controller using [segue destinationViewController].\n    // Pass the selected object to the new view controller.\n}\n</code></pre>\n\n<p>this is auto function when create ViewController. i thinks it still use //#pragram mark. but i don't see mark when show jumb bar. perhap xcode 6 beta don't have. i hope when release it will have</p>\n", "title": "#pragma mark in Swift?", "answer_id": 24238954, "question_id": 24017316, "tags": ["xcode", "swift"]}, {"body": "<p>The extensions seams like a good idea but it doesn't solve the problem of showing a clear distinction on the navigation drop down  menu. What does solve the problem and seam to me a  more elegant solution is the definition of a different class that responsible only to handle the protocol. This in only of course if you can keep the logic with the original class separated.</p>\n\n<pre><code>protocol MyClassProtocol {\n    func numberOfThings() -&gt; Integer\n    func randomThing() -&gt; MyClass?\n}\n\nclass MyClass {\n    var delegate : MyClassProtocol?\n\n    init() {\n        delegate = MyClassDelegate()\n    }\n}\n\nclass MyClassDelegate : MyClassProtocol {\n    func numberOfThings() -&gt; Integer  {\n        return 1\n    }\n\n    func randomThing() -&gt; MyClass?  {\n        return nil\n    }\n}\n</code></pre>\n", "title": "#pragma mark in Swift?", "answer_id": 24351649, "question_id": 24017316, "tags": ["xcode", "swift"]}, {"body": "<p>I think <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/Swift_Programming_Language/Extensions.html#//apple_ref/doc/uid/TP40014097-CH24-XID_189\"><code>Extensions</code></a> is a better way instead of <code>#pragma mark</code>.</p>\n\n<p>The Code before using <code>Extensions</code>:</p>\n\n<pre><code>class ViewController: UIViewController, UICollectionViewDataSource, UICollectionViewDelegate {\n    ...\n\n    func collectionView(collectionView: UICollectionView!, numberOfItemsInSection section: Int) -&gt; Int {\n        ...\n    }\n\n    func collectionView(collectionView: UICollectionView!, cellForItemAtIndexPath indexPath: NSIndexPath!) -&gt; UICollectionViewCell! {\n        ...\n    }\n\n    func collectionView(collectionView: UICollectionView!, didSelectItemAtIndexPath indexPath: NSIndexPath!) {\n        ...\n    }\n}\n</code></pre>\n\n<p>The code after using <code>Extensions</code>:</p>\n\n<pre><code>class ViewController: UIViewController {\n    ...\n}\n\nextension ViewController: UICollectionViewDataSource {\n    func collectionView(collectionView: UICollectionView!, numberOfItemsInSection section: Int) -&gt; Int {\n        ...\n    }\n\n    func collectionView(collectionView: UICollectionView!, cellForItemAtIndexPath indexPath: NSIndexPath!) -&gt; UICollectionViewCell! {\n        ...\n    }\n}\n\nextension ViewController: UICollectionViewDelegate {\n    func collectionView(collectionView: UICollectionView!, didSelectItemAtIndexPath indexPath: NSIndexPath!) {\n       ...\n    }\n}\n</code></pre>\n", "title": "#pragma mark in Swift?", "answer_id": 24486497, "question_id": 24017316, "tags": ["xcode", "swift"]}, {"body": "<p>Swift 1.0 beta version  of Xcode doesn't have any #pragma mark.<br>\nBut SWift 1.2 version of xcode support the <code>// MARK:</code>, <code>// TODO:</code> and <code>// FIXME:</code></p>\n", "title": "#pragma mark in Swift?", "answer_id": 24525702, "question_id": 24017316, "tags": ["xcode", "swift"]}, {"body": "<p>Added in iOS 8 Beta 4 w/ Xcode 6:</p>\n\n<p><code>// MARK:</code>, <code>// TODO:</code> and // <code>FIXME:</code></p>\n", "title": "#pragma mark in Swift?", "answer_id": 24876311, "question_id": 24017316, "tags": ["xcode", "swift"]}, {"body": "<p>Its confirmed now. Xcode 6 Beta 4 supports <code>//MARK:</code>,\u00a0<code>//TODO:</code>\u00a0and\u00a0<code>//FIXME</code> as per the documentation :)</p>\n", "title": "#pragma mark in Swift?", "answer_id": 24883422, "question_id": 24017316, "tags": ["xcode", "swift"]}, {"body": "<p>Up to Xcode 5 the preprocessor directive <code>#pragma mark</code> existed.</p>\n\n<p>From Xcode 6 on, you have to use <code>// MARK:</code></p>\n\n<p>These preprocessor features allow to bring some structure to the function drop down box of the source code editor.</p>\n\n<p>some examples :</p>\n\n<pre><code>// MARK:\n</code></pre>\n\n<p>-> will be preceded by a horizontal divider</p>\n\n<pre><code>// MARK: your text goes here\n</code></pre>\n\n<p>-> puts 'your text goes here' in bold in the drop down list</p>\n\n<pre><code>// MARK: - your text goes here\n</code></pre>\n\n<p>-> puts 'your text goes here' in bold in the drop down list, preceded by a horizontal divider</p>\n\n<p>update : added screenshot 'cause some people still seem to have issues with this :</p>\n\n<p><img src=\"http://i.stack.imgur.com/w27aK.png\" alt=\"enter image description here\"></p>\n", "title": "#pragma mark in Swift?", "answer_id": 26408706, "question_id": 24017316, "tags": ["xcode", "swift"]}, {"body": "<p>This one worked for me Xcode 6 beta 4.\n//MARK: - TextField Delegates\nShows up in navigation drop down too.</p>\n", "title": "#pragma mark in Swift?", "answer_id": 28007397, "question_id": 24017316, "tags": ["xcode", "swift"]}, {"body": "<p>Just do something like this using //Mark: whatever text you want</p>\n\n<pre><code>//MARK: Table view implementation\n</code></pre>\n", "title": "#pragma mark in Swift?", "answer_id": 29061530, "question_id": 24017316, "tags": ["xcode", "swift"]}, {"body": "<p>Use a comment like this:</p>\n\n<p><code>// MARK: Your text here.</code></p>\n", "title": "#pragma mark in Swift?", "answer_id": 29294352, "question_id": 24017316, "tags": ["xcode", "swift"]}, {"body": "<p>Just use //MARK:, //TODO: or //FIXME: instead of #pragma</p>\n", "title": "#pragma mark in Swift?", "answer_id": 29815064, "question_id": 24017316, "tags": ["xcode", "swift"]}, {"body": "<p>Went through above answers and my summary is:</p>\n\n<p>1)  </p>\n\n<pre><code>//MARK: UITexFieldDelegate\n</code></pre>\n\n<p>do pretty much the same what</p>\n\n<pre><code>#pragma mark UITexFieldDelegate\n</code></pre>\n\n<p>2) Adding <code>-</code> adds extra line (separator) on the methods list in <code>XCode</code> (if you find it more clear)</p>\n\n<pre><code>//MARK: - UITexFieldDelegate\n</code></pre>\n\n<p>do pretty much the same what</p>\n\n<pre><code>#pragma mark - UITexFieldDelegate\n</code></pre>\n\n<p>Tested with <code>Xcode 6.3.2</code>, also tried with <code>AppCode 3.1.7</code> and it looks like unsupported for now. Anyway using extensions (also mentioned in other answers here) might be more in a <em>Swift style</em>. </p>\n", "title": "#pragma mark in Swift?", "answer_id": 31093439, "question_id": 24017316, "tags": ["xcode", "swift"]}, {"body": "<p><code>//MARK:</code> does not <strong><em>seem</em></strong> to work for me in Xcode 6.3.2.  However, this is what I did to <strong><em>get it to work</em></strong>:</p>\n\n<p>1) Code:</p>\n\n<pre><code>import Cocoa\n\nclass MainWindowController: NSWindowController {\n\n    //MARK: - My cool methods\n\n    func fly() {\n    }\n\n    func turnInvisible() {\n\n    }\n}\n</code></pre>\n\n<p>2) In the <code>jump bar</code> nothing appears to change when adding the <code>//MARK</code>: comment.  However, if I click on the rightmost name in the jump bar, in my case it says <code>MainWindowController(with a leading C icon)</code>, then a popup window will display showing the effects of the //MARK: comment, namely a heading that says \"My cool methods\":</p>\n\n<p><img src=\"http://i.stack.imgur.com/os9sk.jpg\" alt=\"enter image description here\"></p>\n\n<p>3) I also notice that if I click on one of the methods in my code, then the method becomes the rightmost entry in the jump bar.  In order to get <code>MainWindowController(with a leading C icon)</code> to be the rightmost entry in the jump bar, I have to click on the whitespace above my methods.</p>\n", "title": "#pragma mark in Swift?", "answer_id": 31198613, "question_id": 24017316, "tags": ["xcode", "swift"]}, {"body": "<p><code>Pragma mark - [SOME TEXT HERE]</code> was used in <em>Objective-C to group several function together</em> by line separating.</p>\n\n<p>In <em>Swift</em> you can achieve this using <code>MARK, TODO OR FIXME</code></p>\n\n<p>i. <em>MARK :</em>  <code>//MARK: viewDidLoad</code>  </p>\n\n<p>This will create a <em>horizontal line</em> with functions grouped under viewDidLoad(shown in screenshot 1)</p>\n\n<p><a href=\"http://i.stack.imgur.com/etMuG.png\"><img src=\"http://i.stack.imgur.com/etMuG.png\" alt=\"Screenshot 1\"></a></p>\n\n<p>ii. <em>TODO :</em> <code>//TODO: - viewDidLoad</code></p>\n\n<p>This will group function under <em>TODO: - viewDidLoad</em> category (shown in screenshot 2)</p>\n\n<p><a href=\"http://i.stack.imgur.com/ltmSl.png\"><img src=\"http://i.stack.imgur.com/ltmSl.png\" alt=\"Screenshot 2\"></a></p>\n\n<p>iii. <em>FIXME :</em> <code>//FIXME - viewDidLoad</code> </p>\n\n<p>This will group function under <em>FIXME: - viewDidLoad</em> category (shown in screenshot 3)</p>\n\n<p><a href=\"http://i.stack.imgur.com/1oLFC.png\"><img src=\"http://i.stack.imgur.com/1oLFC.png\" alt=\"Screenshot 3\"></a></p>\n", "title": "#pragma mark in Swift?", "answer_id": 33040068, "question_id": 24017316, "tags": ["xcode", "swift"]}, {"body": "<p>I comment my files MARK in the following way. I do not include a space between the // and keyword. For example:</p>\n\n<p>This makes a section: </p>\n\n<pre><code>//MARK: Comment\n</code></pre>\n\n<p>This makes a section with a seperator preceding it:</p>\n\n<pre><code>//MARK:- Another Comment\n</code></pre>\n\n<p>Also there is: </p>\n\n<pre><code>//TODO: I have to do this\n//FIXME: This is WRONG!\n</code></pre>\n", "title": "#pragma mark in Swift?", "answer_id": 34909821, "question_id": 24017316, "tags": ["xcode", "swift"]}, {"body": "<pre><code>//# MARK: - Spinner Class Methods\n</code></pre>\n\n<p>Add a line between the colon and your description to insert a separator line. This helps to organize your code even more. The code and screenshot above make use of the MARK comment with a line included.</p>\n\n<ol>\n<li>//# MARK: \u2013 Text Methods (LINE) </li>\n<li>//# MARK: Text Methods (NO LINE)</li>\n</ol>\n\n<p>This only works with the MARK comment.</p>\n\n<p><a href=\"http://i.stack.imgur.com/k6qsi.png\"><img src=\"http://i.stack.imgur.com/k6qsi.png\" alt=\"enter image description here\"></a></p>\n", "title": "#pragma mark in Swift?", "answer_id": 35696072, "question_id": 24017316, "tags": ["xcode", "swift"]}, {"body": "<pre><code>// MARK: - Navigation\n</code></pre>\n\n<p>Above is the way Apple developer using in WWDC sessions.\n<a href=\"http://i.stack.imgur.com/GLZD6.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/GLZD6.png\" alt=\"enter image description here\"></a></p>\n", "title": "#pragma mark in Swift?", "answer_id": 37656042, "question_id": 24017316, "tags": ["xcode", "swift"]}, {"body": "<p>Xcode 8 now handles it as followed and shows up like this in the method dropdown:</p>\n\n<p><a href=\"http://i.stack.imgur.com/nnCOM.jpg\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/nnCOM.jpg\" alt=\"enter image description here\"></a></p>\n", "title": "#pragma mark in Swift?", "answer_id": 37871345, "question_id": 24017316, "tags": ["xcode", "swift"]}, {"body": "<p>Following @NatashaTheRobot answer and using @AshFurrow post regarding <a href=\"http://artsy.github.io/blog/2016/06/24/typealias-for-great-good/\" rel=\"nofollow\">Type Aliases</a>:</p>\n\n<pre><code>import UIKit\n\nclass SwiftTableViewController: UITableViewController {\n\n    init(coder aDecoder: NSCoder!) {\n        super.init(coder: aDecoder)\n\n    }\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n\n    }\n}\n\nprivate typealias DataSource = SwiftTableViewController\nextension DataSource {\n    override func numberOfSectionsInTableView(tableView: UITableView?) -&gt; Int {\n        return 1\n    }\n\n    override func tableView(tableView: UITableView?, numberOfRowsInSection section: Int) -&gt; Int {\n        return 5\n    }\n\n    override func tableView(tableView: UITableView?, cellForRowAtIndexPath indexPath: NSIndexPath?) -&gt; UITableViewCell? {\n        let cell = tableView?.dequeueReusableCellWithIdentifier(\"myCell\", forIndexPath: indexPath) as UITableViewCell;\n\n        cell.textLabel.text = \"Hello World\"\n\n        return cell\n    }\n\n}\n</code></pre>\n", "title": "#pragma mark in Swift?", "answer_id": 38741659, "question_id": 24017316, "tags": ["xcode", "swift"]}], "question_id": 24017316}, {"body": "<p>I updated Eclipse with the new SDK tools (rev 23) but now when Eclipse starts I receive the error:</p>\n\n<blockquote>\n  <p>This Android SDK requires Android Developer Toolkit version 23.0.0 or above. Current version is 22.6.3.v201404151837-1123206. Please update ADT to the latest version.</p>\n</blockquote>\n\n<p>No updates were found with <strong>\"Check for updates\"</strong>. If I try <strong>\"Install new software\"</strong>, I can see the version 23, but I can't upgrade due to the following error:</p>\n\n<pre><code>Cannot complete the install because of a conflicting dependency.\nSoftware being installed: Android Development Tools 23.0.0.1245622 (com.android.ide.eclipse.adt.feature.feature.group 23.0.0.1245622)\nSoftware currently installed: Android Developer Tools 22.2.1.v201309180102-833290 (com.android.ide.eclipse.adt.package.product 22.2.1.v201309180102-833290)\nOnly one of the following can be installed at once: \n    ADT Package 22.6.3.v201404151837-1123206 (com.android.ide.eclipse.adt.package 22.6.3.v201404151837-1123206)\n    ADT Package 23.0.0.1245622 (com.android.ide.eclipse.adt.package 23.0.0.1245622)\nCannot satisfy dependency:\n    From: Android Development Tools 23.0.0.1245622 (com.android.ide.eclipse.adt.feature.feature.group 23.0.0.1245622)\n    To: com.android.ide.eclipse.adt.package [23.0.0.1245622]\nCannot satisfy dependency:\n    From: Android Development Tools 22.6.3.v201404151837-1123206 (com.android.ide.eclipse.adt.feature.group 22.6.3.v201404151837-1123206)\n    To: com.android.ide.eclipse.adt.package [22.6.3.v201404151837-1123206]\nCannot satisfy dependency:\n    From: ADT Package 22.2.1.v201309180102-833290 (com.android.ide.eclipse.adt.package.feature.group 22.2.1.v201309180102-833290)\n    To: com.android.ide.eclipse.adt.feature.group 22.2.0\nCannot satisfy dependency:\n    From: Android Developer Tools 22.2.1.v201309180102-833290 (com.android.ide.eclipse.adt.package.product 22.2.1.v201309180102-833290)\n    To: com.android.ide.eclipse.adt.package.feature.group [22.2.1.v201309180102-833290]\n</code></pre>\n\n<p>After download of the last ADT from the web site, it seems there's another problem.\nWith SDK Tools rev. 23 proguard is not installed, the folder SDK <code>dir/tools/proguard</code> is missing and other tools are missing. This version contains several bugs.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "answer_count": 43, "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23", "answers": [{"body": "<p><strong>UPDATE</strong>: Google has released ADT v23.0.2. This solved many problems of previous ADT version 23.</p>\n\n<p>Step-by-step:</p>\n\n<ul>\n<li>Help -> Install New Software...</li>\n<li>For \"Work with\", select the Android source <code>https://dl-ssl.google.com/android/eclipse</code>\n<img src=\"http://i.stack.imgur.com/gkxdA.png\" alt=\"Work with Android source\"></li>\n<li>Tick ADT v23.0 for installation, then click \"Next\"</li>\n<li>Eclipse will show \"Install Remediation Page\" since there is conflict with previous version. (If it does not, see below.) Select \"Update my installation to be compatible with items being installed\" to uninstall the old version and install the new one. After that, proceed with the usual steps\n<img src=\"http://i.stack.imgur.com/CYZHN.png\" alt=\"Install remediation page\"></li>\n</ul>\n\n<p>Note: When I installed the new version of ADT, I didn't include the new version of \"Android Native Development Tools\" package. Instead, I installed the rest of packages first, and then installed \"Android Native Development Tools\". For a reason, if I try to install all the new packages including \"Android Native Development Tools\", the installation fails.</p>\n\n<p>UPDATE: If there is no \"Remediation page\", <a href=\"http://stackoverflow.com/a/9097282/755804\">the only way to remove the ADT plugin from Eclipse is to go to <code>Help &gt; About Eclipse &gt; Installation Details</code> and uninstall from there</a> But there is a risk of uninstalling eclipse itself.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 24437737, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p>For me it helped to delete Android 4.4W which is also API 20 and might be a cause for the conflict. So only install Android 4.4W or Android L until they fix it.</p>\n\n<p>And (again this might only be for me) it only works in Android Studio not in Eclipse ...</p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 24437803, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p>I have done following to resolve an issue.</p>\n\n<ol>\n<li><p>Go to <a href=\"http://developer.android.com/sdk/installing/installing-adt.html\">http://developer.android.com/sdk/installing/installing-adt.html</a> and download the latest ADT ZIP file (at the bottom of page).</p></li>\n<li><p>Go to <strong>Eclipse -> help -> About Eclipse -> Installation details</strong></p></li>\n<li><p>Delete <strong>Android DDM, Android Development Tools, Hierarchy Viewer, Native Development Tools, TraceView, etc, 22.X version</strong>.</p></li>\n<li><p>Help -> Install New Software -> Add -> Archive - > Select the downloaded ZIP file in step 1.</p></li>\n<li><p>Select all the latest version of all 23 which I have deleted in step 3 and accept the license agreement.</p></li>\n</ol>\n\n<p>Restart Eclipse, and it fixes my issue.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 24438136, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p>On ADT bundled Eclipse I had to first uninstall the ADT and then do a fresh install.\nTo remove the ADT plugin from Eclipse go to Help > About Eclipse > Installation Details.\nSelect ADT plug-in, then click Uninstall.\nAfter uninstallation install ADT from Help > Install new software.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 24438977, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p><strong>DO NOT DO THIS</strong></p>\n\n<p><strong>Warning: Please see the comments below this answer. These steps have had a negative impact for many people.</strong></p>\n\n<ol>\n<li>Click Help / Install new software...</li>\n<li>Click on What is \"already installed\" (as in picture below)</li>\n<li>In the new window you can uninstall the old ADT (uninstall Android Development Tools, Android DDMS, Android Hierarchy Viewer, Android TraceView, Android Native Development Tools and Tracer for OpenGL ES)</li>\n<li>Restart Eclipse</li>\n<li>Then again click on Help / Install New Software</li>\n<li>Choose ADT... Install </li>\n</ol>\n\n<p>I hope it helps!</p>\n\n<p><img src=\"http://i.stack.imgur.com/NnOi3.jpg\" alt=\"Picture Demonstration\"></p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 24439028, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p>I had to delete ADT and install it again.</p>\n\n<p><strong>However be warned</strong>, this caused me and one other person to have an annotations.jar missing errors in the Java Build path for certain projects, probably because it was trying to look for an old SDK, so upgrading projects is the next step I have to take.</p>\n\n<p>The errors relate to libraries mostly, Google Play Services, Facebook SDK, ActionBarCompat.</p>\n\n<p>For this step, you uninstall ADT, then put the URL back in to download them. The url is: <code>https://dl-ssl.google.com/android/eclipse</code></p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 24439206, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p>None of the other answers worked for me using the ADT bundle published on developer.android.com. </p>\n\n<p>I ended up downloading the latest version of Eclipse (<strong>not the ADT bundle</strong>) and then installing the ADT plugin via Help > Install new software > entering <code>https://dl-ssl.google.com/android/eclipse</code> (mentioned by @RED_). </p>\n\n<p>I also had to update my workspace to point to my previous workspace, and most things seemed to be restored.</p>\n\n<p>On a side note: this seems like a good time to migrate to Android Studio...</p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 24440091, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p>I found a solution for the problem with \"conflicting dependency\". I don't have the same page of Daniel D\u00edaz's response, but a page show \"conflicting dependency\", and I can't make anything.</p>\n\n<p>The problem is that I'm not the owner of the file. Eclipse was installed in other session (on OS&nbsp;X). I have the right to read and write the Eclipse file, but I'm not the owner. Make a \"chown\" command on all Eclipse files to solve the problem. After, I have the same result as Daniel Diaz. </p>\n\n<p>I hope this helps someone.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 24442754, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<ul>\n<li>Just uninstall previous ADT.</li>\n<li>Go to About Eclipse -> Installation Details</li>\n<li>Uninstall all plugins which Id start with com.andoird.ide</li>\n<li>Install ADT again from the update site.</li>\n</ul>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 24447821, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p>If you install a new <a href=\"http://en.wikipedia.org/wiki/Eclipse_%28software%29\" rel=\"nofollow\">Eclipse</a> version it will work.\nHere's what I did:</p>\n\n<ol>\n<li>Installed the new Eclipse version, Luna</li>\n<li>Made a backup of the current workspace.</li>\n<li>Ran the new Eclipse, Luna, and updated the workspace</li>\n<li>Installed the <a href=\"http://developer.android.com/sdk/installing/installing-adt.html\" rel=\"nofollow\">ADT plugin</a> (Help -> Install New Software)</li>\n<li>Restarted Eclipse</li>\n<li>Done</li>\n</ol>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 24448503, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p><strong>NOTE: Use this approach with caution because this might break your eclipse installation.</strong> <em>(see comments)</em></p>\n\n<p>This might help you if you installed the ADT plugin <strong>manually</strong> But if you are using the eclipse from the <a href=\"https://developer.android.com/sdk/installing/index.html?pkg=adt\">Eclipse ADT Bundle</a> the below steps could break your eclipse and you may not be able to use the eclipse again!</p>\n\n<p>Go to </p>\n\n<blockquote>\n  <p>Help --> About Eclipse SDK --> Installation Details..</p>\n</blockquote>\n\n<p>Now you will see all <code>22.0</code> version and then click <code>Uninstall</code> button at bottom</p>\n\n<p>After uninstallation goto </p>\n\n<blockquote>\n  <p>Help --> Install New Software -->\n  <a href=\"http://dl-ssl.google.com/android/eclipse/\">http://dl-ssl.google.com/android/eclipse/</a></p>\n</blockquote>\n\n<p>then install all the things now it is ready</p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 24448709, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p>After trying the approaches in other answers without success, I just installed a new bundle from <a href=\"http://developer.android.com/sdk/installing/index.html?pkg=adt\" rel=\"nofollow\">http://developer.android.com/sdk/installing/index.html?pkg=adt</a> and that worked fine.</p>\n\n<p>Do the following:</p>\n\n<ol>\n<li>As you don't want to re-download all the platforms again, copy the existing one from <em>/OLD_ANDROID_SDK_PATH/sdk/platforms</em> to <em>/NEW_ANDROID_SDK_PATH/sdk/platforms</em>.</li>\n<li>When opening the new Eclipse from the recent downloaded bundle, make sure you reuse the previous 'workspace' folder. That will ensure that all your previous settings will be remembered.</li>\n<li>After opening the new Eclipse on the previous workspace, please check if the used Android SDK is pointing to the new one (Eclipse preferences -> Android). It might be pointing to the old one, as you've reused the previews workspace settings.</li>\n</ol>\n\n<p>With these steps, you should't have to reconfigure everything, and you won't need to spend time troubleshooting this <strong>BUG</strong> on this upgrade from Google Developers.</p>\n\n<p>Good luck! ;-)</p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 24448771, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p>After hours of struggling with this issue I finally decided to get rid of the update. I'm posting this just in case you want to go back to version 22.6.2:</p>\n\n<ol>\n<li>Open the SDK Manager</li>\n<li>Leave everything unchecked but the first option (the one with ADT version 23)</li>\n<li>Delete that package</li>\n<li>Restart Eclipse</li>\n</ol>\n\n<p>Hope this helps</p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 24450223, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p>What I have just found is that you need to update your ADT plugin in your Eclipse (whether stand alone or ADT Bundle) before updating your build tool.</p>\n\n<p>If your Eclipse installation points to the most recent Build Tool and your Eclipse is having ADT 22.x, it will show those errors.</p>\n\n<p><strong>What worked for me: (on Ubuntu 14.04 64-bit)</strong>  </p>\n\n<ul>\n<li>Installed an older version of Eclipse and ADT (from the Bundle)</li>\n<li>This copy of Eclipse was pointing to an older SDK verion with old build tools (before 20)</li>\n<li>Updated the ADT to v23 (via archive, in my case)</li>\n<li>Pointed Eclipse to the latest version of build tools.</li>\n</ul>\n\n<p>You may not have an older copy of Eclipse and Build tools, in that case you can uninstall latest build tool from SDK Manager and install the older copy.<br>\nOnce everything starts working fine, do the above steps.</p>\n\n<p>I am trying to upload older copies of such bundles somewhere on the Internet, will update the links here, once I am done uploading.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 24450781, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p>If Eclipse gives an error after uninstalling the ADT plugin from your Eclipse installation, try to edit file <code>config.ini</code> in the Eclipse folder -> configuration. Find:</p>\n\n<pre><code>eclipse.application=\n</code></pre>\n\n<p>And change it to:</p>\n\n<pre><code>eclipse.application=org.eclipse.ui.ide.workbench\n</code></pre>\n\n<p>I hope it works for you too.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 24453171, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p>Only helped:</p>\n\n<ol>\n<li>Fresh Eclipse installation (<a href=\"http://www.eclipse.org/downloads/packages/eclipse-ide-java-developers/lunar\">http://www.eclipse.org/downloads/packages/eclipse-ide-java-developers/lunar</a>)</li>\n<li>Help --> Install New Software --> <a href=\"https://dl-ssl.google.com/android/eclipse/\">https://dl-ssl.google.com/android/eclipse/</a></li>\n</ol>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 24454988, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p><a href=\"http://code.google.com/p/android/issues/detail?id=72419\">Google response</a>:</p>\n\n<p><strong>This is a packaging bug. The entire proguard file is missing. We'll have an update asap, but until then just copy it over from a previous version of the tools:</strong></p>\n\n<ul>\n<li><a href=\"http://dl.google.com/android/android-sdk_r22.6.2-linux.tgz\">http://dl.google.com/android/android-sdk_r22.6.2-linux.tgz</a></li>\n<li><a href=\"http://dl.google.com/android/android-sdk_r22.6.2-windows.zip\">http://dl.google.com/android/android-sdk_r22.6.2-windows.zip</a></li>\n<li><a href=\"http://dl.google.com/android/android-sdk_r22.6.2-macosx.zip\">http://dl.google.com/android/android-sdk_r22.6.2-macosx.zip</a></li>\n</ul>\n\n<p>and copy over the following files:</p>\n\n<ul>\n<li>tools/hprof-conv </li>\n<li>tools/support/annotations.jar </li>\n<li>tools/proguard</li>\n</ul>\n\n<p>So at the end if you started from a new ADT copy by hand the files :)</p>\n\n<p><strong>Edit:</strong> with the latest ADT release, the bundle should now work with auto-update, so <strong>install these new versions</strong>:</p>\n\n<ul>\n<li>linux 64 bit vm: <a href=\"http://dl.google.com/android/adt/adt-bundle-linux-x86_64-20140702.zip\">http://dl.google.com/android/adt/adt-bundle-linux-x86_64-20140702.zip</a></li>\n<li>linux 32 bit vm: <a href=\"http://dl.google.com/android/adt/adt-bundle-linux-x86-20140702.zip\">http://dl.google.com/android/adt/adt-bundle-linux-x86-20140702.zip</a></li>\n<li>mac: <a href=\"http://dl.google.com/android/adt/adt-bundle-mac-x86_64-20140702.zip\">http://dl.google.com/android/adt/adt-bundle-mac-x86_64-20140702.zip</a></li>\n<li>win32: <a href=\"http://dl.google.com/android/adt/adt-bundle-windows-x86-20140702.zip\">http://dl.google.com/android/adt/adt-bundle-windows-x86-20140702.zip</a></li>\n<li>win64: <a href=\"http://dl.google.com/android/adt/adt-bundle-windows-x86_64-20140702.zip\">http://dl.google.com/android/adt/adt-bundle-windows-x86_64-20140702.zip</a></li>\n</ul>\n\n<p><strong>Don't try to upgrade from previous version</strong> because it doesn\u2019t work at all.\nIf you have got problems with zipalign, it's now under build-tools and no more under tools/ so you can do a symbolic link or just copy it into the expected folder.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 24455640, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p>I was updating my build server today and came across the same issue. It has been reported here:\n<a href=\"https://code.google.com/p/android/issues/detail?id=72419\">https://code.google.com/p/android/issues/detail?id=72419</a></p>\n\n<p>The fix is in progress and the work around according to the project manager is:</p>\n\n<blockquote>\n  <p>Please wait for an updated version within a day or two. Until then, your workaround is to do download one of</p>\n  \n  <p><a href=\"http://dl.google.com/android/android-sdk_r22.6.2-linux.tgz\">http://dl.google.com/android/android-sdk_r22.6.2-linux.tgz</a></p>\n  \n  <p><a href=\"http://dl.google.com/android/android-sdk_r22.6.2-windows.zip\">http://dl.google.com/android/android-sdk_r22.6.2-windows.zip</a></p>\n  \n  <p><a href=\"http://dl.google.com/android/android-sdk_r22.6.2-macosx.zip\">http://dl.google.com/android/android-sdk_r22.6.2-macosx.zip</a></p>\n  \n  <p>and copy over the following files:</p>\n\n<pre><code>    tools/hprof-conv\n    tools/support/annotations.jar\n    tools/proguard\n</code></pre>\n</blockquote>\n\n<p>[edit]\nzipalign was missing for me too, check to see if you need to copy this as well</p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 24456942, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p>I was getting the same \"conflicting dependency\" error on Mac OS X 10.9.3 and simply upgrading was not an option.  What finally worked was downloading the latest <strong><em>Eclipse ADT bundle</em></strong> zip file from developer.android.com, extracting it and moving only \"eclipse\" folder to the place where my old eclipse folder was. (extracting the Eclipse ADT bundle zip file will give you \"eclipse\" and \"sdk\" folders).</p>\n\n<p>If you decide to go the same route, first make sure you know what your Workspace path is. This can be found in Preferences.  Then rename your old \"eclipse\" directory (not Eclipse.app) to something like eclipse-22.6.3, then move extracted \"eclipse\" folder into its place. Run new Eclipse.app inside, and when it asks you about Workspace, just enter the same path as you noted above.  Or it can also be set later in Preferences.</p>\n\n<p>Maybe worth adding is that to re-enable <strong>Android SDK Manager</strong> and <strong>Android Virtual Device Manager</strong> choose <em>Window -> Customize Perspective -> Command Groups Availability</em> and select <strong>Android SDK and AVD Manager</strong>. This will add these 2 items to the \"Window\" menu item for the current perspective (Java).</p>\n\n<p>I didn't move the extracted \"sdk\" folder, because I already had sdk folder in the same directory as eclipse, which I have already updated to the latest Android tools. But if it makes you feel safer, you can also rename your old sdk folder (for backup purposes) and move the freshly extracted one into its place.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 24465160, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p>It works for me :)</p>\n\n<p>If for some reason you installed an ADT preview and need to <strong>revert back</strong> to the current stable, you can't use the dialog to install \"new\" software since what you want is actually an older one. Instead do this:</p>\n\n<ul>\n<li>Open Help > About Eclipse... on Windows or Linux. On Mac, use the app's menu > About...</li>\n<li>Click the \"Installation Details\" button.</li>\n<li>Select the \"Installation History\" tab.</li>\n<li>Select one of the previous configurations.</li>\n<li>Click the \"Revert\" button at the bottom.</li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/w3CR9.png\" alt=\"enter image description here\"></p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 24480207, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p>WARNING</p>\n\n<p>There is now an update for ADT 23.0.1, but the Windows and Linux scripts are messed up, so wait with the upgrade!</p>\n\n<p>You could check for example tools/proguard/bin/*.sh in <a href=\"http://dl.google.com/android/android-sdk_r23.0.1-windows.zip\" rel=\"nofollow\">http://dl.google.com/android/android-sdk_r23.0.1-windows.zip</a>.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 24500955, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p>There is a new update available.</p>\n\n<ul>\n<li>Update your Android SDK Tool to 23.0.1</li>\n<li>Update your Eclipse. Go to <em>Help</em> -> <em>Check for update</em></li>\n<li>Then restart your Eclipse</li>\n</ul>\n\n<p>This will fix the empty src &amp; layout issue.</p>\n\n<p><img src=\"http://i.stack.imgur.com/ZGEDD.png\" alt=\"Enter image description here\"></p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 24503051, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p>Download the ADT v23 plugin from Google and install it as local archive from the downloaded zip file in Eclipse.</p>\n\n<p><a href=\"http://developer.android.com/sdk/installing/installing-adt.html#Download\" rel=\"nofollow\">http://developer.android.com/sdk/installing/installing-adt.html#Download</a></p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 24523437, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p>I simply went to my Android resources folder on my C:/ drive (C:/Android) deleted the 'eclipse' folder and all its contents. Downloaded Android Developer Tools once more and just moved over the 'eclipse' folder.</p>\n\n<p>Started up and everything was fine, I had updated to version 23.</p>\n\n<p>Hopefully this helps, possibly not suitable for everyone as some of you have Eclipse modifications but for someone who, like me, wanted a quick fix and get back to developing this seemed to be the easiest path.</p>\n\n<p>Regards.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 24526658, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p>There is no way to update an existing ADT bundle that you might have downloaded.</p>\n\n<p>You can do one of two options:</p>\n\n<ol>\n<li><p>Install Eclipse from eclipse.org and install ADT by pointing to the update site: <a href=\"https://dl-ssl.google.com/android/eclipse\" rel=\"nofollow\">https://dl-ssl.google.com/android/eclipse</a></p></li>\n<li><p>Download bundles from:</p>\n\n<ul>\n<li><p>Linux 64 bit VM: <a href=\"http://dl.google.com/android/adt/adt-bundle-linux-x86_64-20140702.zip\" rel=\"nofollow\">http://dl.google.com/android/adt/adt-bundle-linux-x86_64-20140702.zip</a></p></li>\n<li><p>Linux 32 bit VM: <a href=\"http://dl.google.com/android/adt/adt-bundle-linux-x86-20140702.zip\" rel=\"nofollow\">http://dl.google.com/android/adt/adt-bundle-linux-x86-20140702.zip</a></p></li>\n<li><p>Mac: <a href=\"http://dl.google.com/android/adt/adt-bundle-mac-x86_64-20140702.zip\" rel=\"nofollow\">http://dl.google.com/android/adt/adt-bundle-mac-x86_64-20140702.zip</a></p></li>\n<li><p>Windows 32 bit: <a href=\"http://dl.google.com/android/adt/adt-bundle-windows-x86-20140702.zip\" rel=\"nofollow\">http://dl.google.com/android/adt/adt-bundle-windows-x86-20140702.zip</a></p></li>\n<li><p>Windows 64 bit: <a href=\"http://dl.google.com/android/adt/adt-bundle-windows-x86_64-20140702.zip\" rel=\"nofollow\">http://dl.google.com/android/adt/adt-bundle-windows-x86_64-20140702.zip</a></p></li>\n</ul></li>\n</ol>\n\n<p>Starting with ADT bundle 23.0.2, you should be able to update to future versions of ADT.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 24549211, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p>I faced the same problem and solved it. You need to uninstall the Android plugin entirely from within Eclipse (from the \"about\" section..), including trace view..</p>\n\n<p>Then added the ADT Plugin again (<a href=\"https://dl-ssl.google.com/android/eclipse/\" rel=\"nofollow\">https://dl-ssl.google.com/android/eclipse/</a>) and install it.</p>\n\n<p>The problem is solved!</p>\n\n<p>I guess it's a bug with the SDK manager or ADT Plugin update mechanism...</p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 24549723, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p>There is a lot of confusion going around in this thread. There are two solutions depending on how you installed ADT.</p>\n\n<ol>\n<li><p>If you installed the ADT plugin manually then I believe you can use the \"Delete ADT\" -> \"Install New Software\" approach.</p></li>\n<li><p>If you are using the ADT Bundle then do not follow that solution! You will break Eclipse. Here is an update from a Google member - read #18: </p>\n\n<p><a href=\"https://code.google.com/p/android/issues/detail?id=72912\" rel=\"nofollow\">https://code.google.com/p/android/issues/detail?id=72912</a></p></li>\n</ol>\n\n<p>You must download a new version of the ADT-Bundle (yep, it's frustrating!).</p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 24556377, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p>I have followed instructions found here and tried to fix my old Eclipse + SDK + ADT, but with no luck. The basic problem keeps beeing the same; I still get the error message:</p>\n\n<blockquote>\n  <p>This Android SDK requires Android Developer Toolkit version 23.0.0 or above. Current version is 22.6.3.v201404151837-1123206. Please update ADT to the latest version.</p>\n</blockquote>\n\n<p>But my eclipse can't find updates and can't install ADT 23 as new software. So I can't compile my old project in my workspace.</p>\n\n<p>I tested a fresh eclipode bundle for Windows&nbsp;8, followed instructions found from Android's developers page, step by step, and it worked fine. So it seems that the Windows Eclipse build is not broken. But I wan't use my Linux installation, my old Ubuntu 10. It seems obvious, that to getting the Linux Eclipse environment working again, I must install a new Eclipse bundle, my old Eclipse won't ever see updates for ADT 23 to get things working. Again, these intructions are for Linux developers that wan't to get their old workspace projects working again without changes in the developing environment, except you must install a new Eclipse bundle, but after that your projects will work as well as before the version 23 SDK/ADT-mess.</p>\n\n<ol>\n<li>If you are an Android developer you want to be sure, that you developing environment won't be messed up. Backup:\n<ul>\n<li>~./android (Here are your developer keys)</li>\n<li>Your old SDK dirrectory</li>\n<li>Your workspace</li>\n</ul></li>\n<li>Download the Eclipse bundle, <a href=\"http://developer.android.com/sdk/index.html\" rel=\"nofollow\">Get the Android SDK</a>.</li>\n<li>Follow instructions, create directory <code>~/Development</code> and unzip bundle there. You get Eclipse and SDK directories.</li>\n<li>Start Eclipse from that directory</li>\n<li>Eclipse asks for a workspace. You can give it the old one.</li>\n<li>In Eclipse settings set SDK as downloaded SDK.</li>\n<li>Start Android SDK manager and download tools, Android versions you use and extras said in the Android developer tool page instructions</li>\n<li>You should now be ready to compile your old projects again, but for me it was not that simple. My old projects had errors. So open problems windows and you get to know that annotation.jar is missing. So you must copy <code>annotations.jar</code> from your old SDK, from, the backup you made, or from the older <code>sdk.zip</code> explained in this thread to &lt;new SDK>/tools/support/annotations.jar</li>\n</ol>\n\n<p>After that I could use my old workspace in Ubuntu and compile and launch applications to Android devices. It was that simple. Thanks Google ;-(</p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 24600853, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p>There are many possible answers to this question, I think it all depends on what your environment and installation procedure is. I'm running into the same issue as stated multiple times above. Cannot install ADT 23 because of conflict dependency.</p>\n\n<p>This is my environment:</p>\n\n<p>I'm running Windows 7 64-bit with Eclipse 4.2.2. I installed ADT through Help -> Install New Software. </p>\n\n<p>My solution:</p>\n\n<p>Help -> About Eclipse -> Uninstall -> ALL_ANDROID. Then I simply installed each of the ADT 23 tools through the \"Install New Software\". </p>\n\n<p>Note: This is with the LATEST ADT release.</p>\n\n<p>Hope this helps!</p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 24726143, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p>I am using Eclipse Kepler and this is how i solved my problem.</p>\n\n<p>Goto Help -> Install new software -> Click Add.</p>\n\n<p>In the popup, give any name (i named it as Eclipse ADT Plugin), and in the link's place, use <a href=\"https://dl-ssl.google.com/android/eclipse/\" rel=\"nofollow\">https://dl-ssl.google.com/android/eclipse/</a></p>\n\n<p>Once you click OK, you will be displayed with new packages that will be installed and old packages that will be deleted. Don't worry about these packages. Click ok.</p>\n\n<p>New packages will be installed and this should solve your problem.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 24749910, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p>It's working to uninstall the old Files, but you don't have to restart Eclipse. After the uninstall process, install the new software and then restart Eclipse. </p>\n\n<p>It was quite simple and works for me. </p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 24752656, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<ul>\n<li><p>I solved these problem by deleting the Adt Bundle Which was shown\nerror.</p></li>\n<li><p>Then <em>Extract</em> the new adt bundle to solve these problem.After that just updated the Android 4.4.2(API 19) in Android Sdk Manager.</p></li>\n<li><p>you are getting these <code>error</code> because of updating the <code>Android Sdk\nTools 22.6.2</code>.Below I shown the  Screenshot of it.</p>\n\n<p><img src=\"http://i.stack.imgur.com/xZOlr.png\" alt=\"enter image description here\"></p></li>\n<li><p>Install everything as shown in the screenshot itself.Then these\nproblem will not occur again.</p></li>\n</ul>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 24754659, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p><a href=\"http://bazalabs.com/solution-for-the-update-problem-of-android-developer-toolkit-version-23-0-0-or-above/\" rel=\"nofollow\">solution</a></p>\n\n<p>This is solution is the correct way of how you should change the files and keep your Eclipse ADT and not downloading a new one. Hope it helps everyone.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 24762403, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p>This is what they are saying about this:</p>\n\n<p><strong>Ok, guys, sorry about all this trouble, and we apologize for the messed up releases. Here's the summary:</strong></p>\n\n<ul>\n<li>There is no way to update an existing ADT bundle that you might have downloaded.</li>\n<li><p>You can do one of two options:</p>\n\n<ol>\n<li><p>Install eclipse from eclipse.org and install ADT by pointing to the update site: <a href=\"https://dl-ssl.google.com/android/eclipse\">https://dl-ssl.google.com/android/eclipse</a></p></li>\n<li><p>Download bundles from here:</p></li>\n</ol></li>\n</ul>\n\n<p>linux 64 bit vm: <a href=\"http://dl.google.com/android/adt/adt-bundle-linux-x86_64-20140702.zip\">http://dl.google.com/android/adt/adt-bundle-linux-x86_64-20140702.zip</a>\nlinux 32 bit vm: <a href=\"http://dl.google.com/android/adt/adt-bundle-linux-x86-20140702.zip\">http://dl.google.com/android/adt/adt-bundle-linux-x86-20140702.zip</a>\nmac: <a href=\"http://dl.google.com/android/adt/adt-bundle-mac-x86_64-20140702.zip\">http://dl.google.com/android/adt/adt-bundle-mac-x86_64-20140702.zip</a>\nwin32: <a href=\"http://dl.google.com/android/adt/adt-bundle-windows-x86-20140702.zip\">http://dl.google.com/android/adt/adt-bundle-windows-x86-20140702.zip</a>\nwin64: <a href=\"http://dl.google.com/android/adt/adt-bundle-windows-x86_64-20140702.zip\">http://dl.google.com/android/adt/adt-bundle-windows-x86_64-20140702.zip</a></p>\n\n<p>Starting with ADT bundle 23.0.2, you should be able to update to future versions of ADT.</p>\n\n<p><strong>Source:</strong>  <a href=\"https://code.google.com/p/android/issues/detail?id=72912\">https://code.google.com/p/android/issues/detail?id=72912</a></p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 24777848, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p>The answers already provided display how much the solution depends on your particular environment. I initially tried upgrading a Windows 8.1 machine; when that failed I tried upgrading a Vista PC. When that failed, I tried Android Studio on the Win 8.1. The problems that we all are encountering are resulting in different solutions because of version conflicts between O/S, Eclipse, Java and, of course, the Google debacle.</p>\n\n<p>Here's what I did:\nI gave up on the bundle. For Vista I installed Eclipse 4.3.2 (Kepler) and downloaded the SDK installer which loaded 23.0.2. Already had jdk1.6 installed. Only gotcha left was to use the SDK manager to download my minimum platform (API 8) - V20 isn't that far backward compatible. But at least now I am not totally dead in the water.</p>\n\n<p>For Windows 8.1 Android Studio seemed to install. But when I tried to install my Project, it stopped when it complained that google-play-services_lib was not included. I had not been using it, so it appears this is a requirement of Android Studio. Really?</p>\n\n<p>So I went back to Eclipse. I had installed Luna and jdk8u5 but then tried to revert to what worked for Vista. jdk1.6 is not available from Oracle so I had to download 1.7 and hope. Downloaded the SDK which again got 23.0.2. So far so good. </p>\n\n<p>Problem then was installer-r23.0.2-windows apparently is hardwired to find JDK at 'C:\\Windows\\system32\\java.exe':[2]. I set the PATH to jdk1.7.0_65\\bin and set JAVA_HOME environment variable to it also. Neither worked. Installer still choked on java8 in Windows\\System32.</p>\n\n<p>So I renamed C:\\Windows\\System32\\java.exe to disable it and the installer-r23 found C:\\Program Files\\Java\\jre8\\bin\\java.exe. The installer completed successfully. Why it didn't like the same file (V8.0.5.13) in Windows\\System 32 is a mystery to me but maybe a clue to someone.</p>\n\n<p>Still had to download API 8, but I thought I was operational on the 8.1 machine too.</p>\n\n<p>Except for getting Eclipse to recognize my Motorola RazrM as a USB-attached device. That required going to the Win8.1 DeviceManager and updating the Mot Composite ADB Interface in ADB Interface. That required a download of the Motorola Device Manager. Still the phone did not appear in the Eclipse Devices View. It was waiting for a new confirmation on the phone that apparently has been added to the latest ADT. While I needed to upgrade the driver on my Samsung 10.1 tablet, it had not added the connection request confirmation.</p>\n\n<p>Finally, the nightmares were over. My biggest problem appears to have been leaping to the latest versions - and then trying to regress when 23.0 broke. I think I learned a hard lesson. But, really, does it have to be this hard???</p>\n\n<p>Hope this helps. </p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 24828896, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p>Complete Procedure to <strong>download ADT , configure it in eclipse and fixing dependency issues</strong>:</p>\n\n<p><strong>Download ADT:-</strong></p>\n\n<ol>\n<li><p>Open this link : <a href=\"https://dl-ssl.google.com/android/eclipse/\" rel=\"nofollow\">https://dl-ssl.google.com/android/eclipse/</a></p></li>\n<li><p>Download ADT-23.0.2.zip which is the latest version in zip folder and don't unzip it.</p></li>\n</ol>\n\n<p><strong>Configure ADT in eclipse:-</strong></p>\n\n<ol>\n<li>Open Eclipse -> Go to Help -> Install New Software... </li>\n<li>Click on ADD button on the right.</li>\n<li>Add Repository dialog will open.</li>\n<li>In Name : write ADT Plugin</li>\n<li>In Location : give path of ADT zipped folder which you have downloaded by clicking on <strong>Archive..</strong> button.</li>\n</ol>\n\n<p>**An error may come as Duplicate location , to solve it follow the below steps:</p>\n\n<p>1.1 Close the current diolog box.</p>\n\n<p>1.2 Click on <strong>Available software sites</strong> link. and select the entry which has same location as you have added zipped file or ADT Plugin entry. After selecting , remove it.</p>\n\n<p>1.3 Then again , come to the previous ADD dialog.</p>\n\n<p>1.4 Again, add Name and Location in Add Repository dialog box.</p>\n\n<p><strong>Select all the options in Development Tools and Click on Next to install the ADT completely.</strong></p>\n\n<p><strong>Fixing dependency issues in ADT :</strong> After all the above steps , dependency issues may come to solve it follow the following steps:</p>\n\n<ol>\n<li><p>Click on <strong>Already installed</strong> in Install dialog box.</p></li>\n<li><p>Click on Installed Software Tab , now select all the development tools of previous version looking at versions and uninstall them.</p></li>\n</ol>\n\n<p>Now all the issues of Dependency issues would evaporate and follow the Next , Next wizard to install:)</p>\n\n<p><strong>All the best. It will definitely help.</strong></p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 24990730, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p><strong>How to update from 22.xx.x to 23.0.2 (My solution).  This will beat the <em>dependency issues</em></strong></p>\n\n<p>I was suffering from this issue for days, and I have tried every single solution on this link, but no luck. </p>\n\n<p>I finally figured out a solution that actually works!</p>\n\n<p>Please note that this solution works in Windows 7 (64bit).</p>\n\n<p>It should probably work for other Windows operation system.</p>\n\n<p>I am just trying to help, so please don't down-vote me if it doesn't work for your situation.</p>\n\n<p>Here we go:</p>\n\n<p><strong>1</strong> - download the latest ADT bundle from</p>\n\n<p><a href=\"http://developer.android.com/sdk/index.html#download\" rel=\"nofollow\">http://developer.android.com/sdk/index.html#download</a></p>\n\n<p><strong>2</strong> - unzip it and open \"eclipse\" folder --> \"plugins\" folder</p>\n\n<p><strong>3</strong> - Now go to your old eclipse and open \"eclipse\" folder --> \"plugins\" folder, and copy everything inside.</p>\n\n<p><strong>4</strong> - Now paste them into the \"plugins\" folder of the (NEW ECLIPSE), but DO NOT overwrite anything.</p>\n\n<p><strong>5</strong> - While inside of the \"plugins\" folder of your new eclipse, do the search. Type in 22. (notice 22 with a dot) and hit enter.</p>\n\n<p><strong>6</strong> - The search result will show up all the files or folders with .....22.6...... For example,</p>\n\n<p>com.android.ide.eclipse.adt_<strong>22.6.2</strong>.v201403212031-1085508</p>\n\n<p><strong>7</strong> - Highlight all of these files/folders and hit delete key.</p>\n\n<p><strong>8</strong> - Make sure to update your old API/SDK to the latest version and load this sdk directory to work with your new eclipse.</p>\n\n<p><strong>or</strong></p>\n\n<p>You can watch this video, which shows you how to move all your SDK/API to your new SDK folder. Please give him credit for making this video.</p>\n\n<p>Link: <a href=\"https://www.youtube.com/watch?v=jPZpJdnbbN0\" rel=\"nofollow\">https://www.youtube.com/watch?v=jPZpJdnbbN0</a></p>\n\n<p>I have not tried to update from any other ADT versions, but I think it should work for any old ADT versions too....</p>\n\n<p><strong><em>Don't forget to backup stuff before attempting.</em></strong></p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 25049891, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p>I did this to solve the same issue (in OS X):</p>\n\n<ol>\n<li>Help > Install New Software > Add or select this repository \"<a href=\"http://download.eclipse.org/eclipse/updates/4.3\" rel=\"nofollow\">http://download.eclipse.org/eclipse/updates/4.3</a>\" </li>\n<li>Under \"Eclipse platform\" select the newest version of Eclipse.</li>\n<li>The installer will ask if you want to uninstall the ADT, click finish.</li>\n<li>Restart Eclipse and install ONLY the ADT 23 using this repository: <a href=\"https://dl-ssl.google.com/android/eclipse\" rel=\"nofollow\">https://dl-ssl.google.com/android/eclipse</a>.</li>\n<li>Restart Eclipse and install DDMS, Hierarchy Viewer, Trace View etc.</li>\n<li>Restart Eclipse again.</li>\n</ol>\n\n<p>Hope it helps.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 25212793, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p>You need to uninstall the old version and install 23</p>\n\n<p>uninstall:\nHelp > about Eclipse SDK > Installation Details \nselect Android related packages to uninstall</p>\n\n<p>And then install V23.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 25216079, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p>This worked for me. I kept upgrading to version 23.02 (or 23.03 if presented) using a new install of ADT bundle, and migrating the your original workspace across and add the patches. <strong>This is the procedure for ADT Bundle only.</strong></p>\n\n<p>(Backup your workspace first)</p>\n\n<p>1/ install latest adt bundle from google. (For some reason using Googles download page just goes around in a loop on Chrome!?!)</p>\n\n<ul>\n<li>linux 64 bit vm:<a href=\"http://dl.google.com/android/adt/adt-bundle-linux-x86_64-20140702.zip\" rel=\"nofollow\">http://dl.google.com/android/adt/adt-bundle-linux-x86_64-20140702.zip</a></li>\n<li>linux 32 bit vm:<a href=\"http://dl.google.com/android/adt/adt-bundle-linux-x86-20140702.zip\" rel=\"nofollow\">http://dl.google.com/android/adt/adt-bundle-linux-x86-20140702.zip</a>    </li>\n<li>mac:<a href=\"http://dl.google.com/android/adt/adt-bundle-mac-x86_64-20140702.zip\" rel=\"nofollow\">http://dl.google.com/android/adt/adt-bundle-mac-x86_64-20140702.zip</a></li>\n<li>win32:<a href=\"http://dl.google.com/android/adt/adt-bundle-windows-x86-20140702.zip\" rel=\"nofollow\">http://dl.google.com/android/adt/adt-bundle-windows-x86-20140702.zip</a></li>\n<li>win64:<a href=\"http://dl.google.com/android/adt/adt-bundle-windows-x86_64-20140702.zip\" rel=\"nofollow\">http://dl.google.com/android/adt/adt-bundle-windows-x86_64-20140702.zip</a></li>\n</ul>\n\n<p>2/ download the patch from here:</p>\n\n<ul>\n<li>linux <a href=\"http://dl.google.com/android/android-sdk_r22.6.2-linux.tgz\" rel=\"nofollow\">http://dl.google.com/android/android-sdk_r22.6.2-linux.tgz</a></li>\n<li>Windoze <a href=\"http://dl.google.com/android/android-sdk_r22.6.2-windows.zip\" rel=\"nofollow\">http://dl.google.com/android/android-sdk_r22.6.2-windows.zip</a></li>\n<li>Mac <a href=\"http://dl.google.com/android/android-sdk_r22.6.2-macosx.zip\" rel=\"nofollow\">http://dl.google.com/android/android-sdk_r22.6.2-macosx.zip</a></li>\n</ul>\n\n<p>3/ Apply the patch as per <a href=\"https://code.google.com/p/android/issues/detail?id=72419#c12\" rel=\"nofollow\">Googles (poorly described) instructions</a></p>\n\n<p><i><br>...and copy over the following files:</p>\n\n<p>tools/hprof-conv<br>\ntools/support/annotations.jar<br>\ntools/proguard<br></i></p>\n\n<p>Which means => Copy the file only of tools/hprof-conv<br>\nWhich means => Copy the file only of tools/support/annotations.jar<br>\nWhich means => Copy the directory and all contents for tools/proguard<br></p>\n\n<p>3/ Point your old workspace to the new install on startup.\n(Projects will still come up with errors, don't worry)</p>\n\n<p>4/ select Help-> Install new software, select update site, and select version 23.03 when prompted.</p>\n\n<ul>\n<li>Check the update sites, and edit the one for google from https => http like this:\n<img src=\"http://i.stack.imgur.com/EcT2N.jpg\" alt=\"Change to &quot;http&quot;\">. This seems to make Eclipse Updater build a new update profile that avoided download errors. You might also get \"unsigned\" prompt warning prompts from Windoze but just \"Allow Access\" to prevent blocking.</li>\n</ul>\n\n<p>5/ If you still get errors on references to \"android.R\", this is because you may not have the appropriate \"platform build tools\". Check the \"Android SDK Manager\" for which build tools you have like this:\n<img src=\"http://i.stack.imgur.com/hq6Bc.jpg\" alt=\"enter image description here\">\nAlso check your \"Android\" build for the project to make sure you have the compatible Android API.</p>\n\n<p>Version 23.02 should be downloaded, and your projects should now compile. </p>\n\n<p>Google have abandoned all the UI trimmings for Eclipse ADT (ie you'll see the Juno splash). I thought this would be a problem but it seems ok. I think it shows how desperate Google were to get the fix out. Given that Android studio is not far away Google don't want invest any more time into ADT. I suppose this is what you get with \"free\" software. Hopefully the adults are back in charge now, and Google Studio won't be such a disaster.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 25357091, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p>Based on win7.\nEclipse \nVersion: 4.2.2\nBuild id: M20130204-1200</p>\n\n<p>For those who broke Eclipse after trying to uninstall ADT plugin.</p>\n\n<p>You need to remove all <em>android</em> folder/jars from plugin folder and features folder.</p>\n\n<p>Then check your config.ini in /configuration. Probably you have these lines:</p>\n\n<pre><code>eclipse.product=\n</code></pre>\n\n<p>...</p>\n\n<pre><code>eclipse.application=\n</code></pre>\n\n<p>change them like this:</p>\n\n<pre><code>eclipse.product=org.eclipse.platform.ide\neclipse.application=org.eclipse.ui.ide.workbench\n</code></pre>\n\n<p>Maybe needed to run your eclipse from command line:</p>\n\n<pre><code>eclipsec.exe -clean.\n</code></pre>\n\n<p>Then I could install the newest ADT plugin, without needing to download whole eclipse packages and loosing all configuration/plugins.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 25423839, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p>I found these instructions in a comment.</p>\n\n<p>Download the newest version of ADT and use your existing workspace.  This is actually the least pain-full upgrade you'll ever do.  It didn't mess with the .android folder so I still had my original debug key.  Only things missing were a couple of add ons I hardly ever use and they are easily installed into the new version.  </p>\n\n<p>Note don't install into your existing adt folder create a new folder so you can still fall back if the new install doesn't work.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 26237056, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}, {"body": "<p>The prefect answers is. Enter the follow path,copy all of them\n<code>Macintosh HD \u25b8 \u5e94\u7528\u7a0b\u5e8f \u25b8 adt-bundle-mac \u25b8 sdk \u25b8 platform-tools</code>\nthen parse into  <code>Macintosh HD \u25b8 \u5e94\u7528\u7a0b\u5e8f \u25b8 adt-bundle-mac \u25b8 sdk \u25b8 tools</code>,\nlast,edit the line <code>plugin.version=23.0.0</code> of file <code>Macintosh HD \u25b8 \u5e94\u7528\u7a0b\u5e8f \u25b8 adt-bundle-mac \u25b8 sdk \u25b8 tools \u25b8plugin.prop</code> ,such as <code>plugin.version=21.0.0</code>.\n  restart eclipse.everything is all-right.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "answer_id": 27496105, "question_id": 24437564, "tags": ["java", "android", "eclipse", "adt"]}], "question_id": 24437564}, {"body": "<p>I don't know whether I am asking the right question. I was exploring <code>RecyclerView</code> and I was surprised to see that <code>RecyclerView</code> does not have <code>onItemClickListener()</code>. Because <code>RecyclerView</code> extends     </p>\n\n<blockquote>\n  <p><strong>android.view.ViewGroup</strong></p>\n</blockquote>\n\n<p>and <code>ListView</code> extends </p>\n\n<blockquote>\n  <p><strong>android.widget.AbsListView</strong></p>\n</blockquote>\n\n<p>.  However I solved my problem by writing <code>onClick</code> in my <code>RecyclerView.Adapter</code>:</p>\n\n<pre><code>public static class ViewHolder extends RecyclerView.ViewHolder implements OnClickListener {\n\n    public TextView txtViewTitle;\n    public ImageView imgViewIcon;\n\n    public ViewHolder(View itemLayoutView) {\n        super(itemLayoutView);\n        txtViewTitle = (TextView) itemLayoutView.findViewById(R.id.item_title);\n        imgViewIcon = (ImageView) itemLayoutView.findViewById(R.id.item_icon);\n    }\n\n    @Override\n    public void onClick(View v) {\n\n    }\n}\n</code></pre>\n\n<p>But still I want to know why Google removed <code>onItemClickListener()</code>? </p>\n\n<p>Is there a performance issue or something else?</p>\n", "title": "Why doesn&#39;t RecyclerView have onItemClickListener()? And how RecyclerView is different from Listview?", "tags": ["java", "android", "recyclerview"], "answer_count": 21, "link": "http://stackoverflow.com/questions/24885223/why-doesnt-recyclerview-have-onitemclicklistener-and-how-recyclerview-is-dif", "answers": [{"body": "<p><strong>tl;dr 2016</strong> Use RxJava and a PublishSubject to expose an Observable for the clicks.</p>\n\n<pre><code>public class ReactiveAdapter extends RecyclerView.Adapter&lt;MyAdapter.ViewHolder&gt; {\n    String[] mDataset = { \"Data\", \"In\", \"Adapter\" };\n\n    private final PublishSubject&lt;String&gt; onClickSubject = PublishSubject.create();\n\n    @Override \n    public void onBindViewHolder(final ViewHolder holder, int position) {\n        final String element = mDataset[position];\n\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n               onClickSubject.onNext(element);\n            }\n        });\n    }\n\n    public Observable&lt;String&gt; getPositionClicks(){\n        return onClickSubject.asObservable();\n    }\n}\n</code></pre>\n\n<p><strong>Original Post:</strong></p>\n\n<p>Since the introduction of <code>ListView</code>, <code>onItemClickListener</code> has been problematic. The moment you have a click listener for any of the internal elements the callback would not be triggered but it wasn't notified or well documented (if at all) so there was a lot of confusion and SO questions about it.</p>\n\n<p>Given that <code>RecyclerView</code> takes it a step further and doesn't have a concept of a row/column, but rather an arbitrarily laid out amount of children, they have delegated the onClick to each one of them, or to programmer implementation.</p>\n\n<p>Think of <code>Recyclerview</code> not as a <code>ListView</code> 1:1 replacement but rather as a more flexible component for complex use cases. And as you say, your solution is what google expected of you. Now you have an adapter who can delegate onClick to an interface passed on the constructor, which is the correct pattern for both <code>ListView</code> and <code>Recyclerview</code>.</p>\n\n<pre><code>public static class ViewHolder extends RecyclerView.ViewHolder implements OnClickListener {\n\n    public TextView txtViewTitle;\n    public ImageView imgViewIcon;\n    public IMyViewHolderClicks mListener;\n\n    public ViewHolder(View itemLayoutView, IMyViewHolderClicks listener) {\n        super(itemLayoutView);\n        mListener = listener;\n        txtViewTitle = (TextView) itemLayoutView.findViewById(R.id.item_title);\n        imgViewIcon = (ImageView) itemLayoutView.findViewById(R.id.item_icon);\n        imgViewIcon.setOnClickListener(this);\n        itemLayoutView.setOnClickListener(this);\n    }\n\n    @Override\n    public void onClick(View v) {\n        if (v instanceof ImageView){\n           mListener.onTomato((ImageView)v);\n        } else {\n           mListener.onPotato(v);\n        }\n    }\n\n    public static interface IMyViewHolderClicks {\n        public void onPotato(View caller);\n        public void onTomato(ImageView callerImage);\n    }\n\n}\n</code></pre>\n\n<p>and then on your adapter</p>\n\n<pre><code>public class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.ViewHolder&gt; {\n\n   String[] mDataset = { \"Data\" };\n\n   @Override\n   public MyAdapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n       View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.my_layout, parent, false);\n\n       MyAdapter.ViewHolder vh = new ViewHolder(v, new MyAdapter.ViewHolder.IMyViewHolderClicks() { \n           public void onPotato(View caller) { Log.d(\"VEGETABLES\", \"Poh-tah-tos\"); };\n           public void onTomato(ImageView callerImage) {\u00a0Log.d(\"VEGETABLES\", \"To-m8-tohs\"); }\n        });\n        return vh;\n    }\n\n    // Replace the contents of a view (invoked by the layout manager) \n    @Override \n    public void onBindViewHolder(ViewHolder holder, int position) {\n        // Get element from your dataset at this position \n        // Replace the contents of the view with that element \n        // Clear the ones that won't be used\n        holder.txtViewTitle.setText(mDataset[position]);\n    } \n\n    // Return the size of your dataset (invoked by the layout manager) \n    @Override \n    public int getItemCount() { \n        return mDataset.length;\n    } \n  ...\n</code></pre>\n\n<p>Now look into that last piece of code: <code>onCreateViewHolder(ViewGroup parent, int viewType)</code> the signature already suggest different view types. For each one of them you'll require a different viewholder too, and subsequently each one of them can have a different set of clicks. Or you can just create a generic viewholder that takes any view and one <code>onClickListener</code> and applies accordingly. Or delegate up one level to the orchestrator so several fragments/activities have the same list with different click behaviour. Again, all flexibility is on your side.</p>\n\n<p>It is a really needed component and fairly close to what our internal implementations and improvements to <code>ListView</code> were until now. It's good that Google finally acknowledges it.</p>\n", "title": "Why doesn&#39;t RecyclerView have onItemClickListener()? And how RecyclerView is different from Listview?", "answer_id": 24933117, "question_id": 24885223, "tags": ["java", "android", "recyclerview"]}, {"body": "<p><em>> <strong>How RecyclerView is different from Listview?</em></strong></p>\n\n<p>One difference is that there is <code>LayoutManager</code> class with RecyclerView by which you can manage your <code>RecyclerView</code> like-</p>\n\n<blockquote>\n  <p><strong><em>Horizontal</em></strong> or Vertical scrolling by <code>LinearLayoutManager</code></p>\n  \n  <p>GridLayout by <em><code>GridLayoutManager</code></em></p>\n  \n  <p>Staggered GridLayout by <code>StaggeredGridLayoutManager</code></p>\n</blockquote>\n\n<p>Like for horizontal scrolling for RecyclerView-</p>\n\n<pre><code>LinearLayoutManager llm = new LinearLayoutManager(context);\nllm.setOrientation(LinearLayoutManager.HORIZONTAL);\nrecyclerView.setLayoutManager(llm);\n</code></pre>\n", "title": "Why doesn&#39;t RecyclerView have onItemClickListener()? And how RecyclerView is different from Listview?", "answer_id": 27653597, "question_id": 24885223, "tags": ["java", "android", "recyclerview"]}, {"body": "<p>I like this way and I'm using it</p>\n\n<p>Inside </p>\n\n<pre><code>public Adapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType)\n</code></pre>\n\n<p>Put </p>\n\n<pre><code>View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.view_image_and_text, parent, false);\nv.setOnClickListener(new MyOnClickListener());\n</code></pre>\n\n<p>And create this class anywhere you want it</p>\n\n<pre><code>class MyOnClickListener implements View.OnClickListener {\n    @Override\n    public void onClick(View v) {\n       int itemPosition = recyclerView.indexOfChild(v);\n       Log.e(\"Clicked and Position is \",String.valueOf(itemPosition));\n    }\n}\n</code></pre>\n\n<p>I've read before that there is a better way but I like this way is easy and not complicated.</p>\n", "title": "Why doesn&#39;t RecyclerView have onItemClickListener()? And how RecyclerView is different from Listview?", "answer_id": 29142005, "question_id": 24885223, "tags": ["java", "android", "recyclerview"]}, {"body": "<p>How to put it all together example...</p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/a/24933117/591860\">onClick() handling</a></li>\n<li><a href=\"http://stackoverflow.com/a/26673645/591860\">Cursor - RecyclerView</a></li>\n<li><p><a href=\"http://stackoverflow.com/a/26245463/591860\">ViewHolder types</a></p>\n\n<pre><code>public class OrderListCursorAdapter extends CursorRecyclerViewAdapter&lt;OrderListCursorAdapter.ViewHolder&gt; {\n\nprivate static final String TAG = OrderListCursorAdapter.class.getSimpleName();\nprivate static final int ID_VIEW_HOLDER_ACTUAL = 0;\nprivate static final int ID_VIEW_HOLDER = 1;\n\npublic OrderListCursorAdapter(Context context, Cursor cursor) {\n    super(context, cursor);\n}\n\npublic static class ViewHolderActual extends ViewHolder {\n    private static final String TAG = ViewHolderActual.class.getSimpleName();\n    protected IViewHolderClick listener;\n    protected Button button;\n\n    public ViewHolderActual(View v, IViewHolderClick listener) {\n        super(v, listener);\n        this.listener = listener;\n        button = (Button) v.findViewById(R.id.orderList_item_button);\n        button.setOnClickListener(this);\n    }\n\n    public void initFromData(OrderData data) {\n        Log.d(TAG, \"&gt;&lt;initFromData(data=\" + data + \")\");\n        orderId = data.getId();\n        vAddressStart.setText(data.getAddressStart());\n        vAddressEnd.setText(data.getAddressEnd());\n    }\n\n    @Override\n    public void onClick(View view) {\n        if (view instanceof Button) {\n            listener.onButtonClick((Button) view, getPosition(), this);\n        } else {\n            super.onClick(view);\n        }\n    }\n\n    public interface IViewHolderClick extends ViewHolder.IViewHolderClick {\n        public void onButtonClick(Button button, int position, ViewHolder viewHolder);\n    }\n}\n\npublic static class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\n    private static final String TAG = ViewHolder.class.getSimpleName();\n    protected long orderId;\n    protected IViewHolderClick listener;\n    protected TextView vAddressStart;\n    protected TextView vAddressEnd;\n    protected TextView vStatus;\n\n    public ViewHolder(View v, IViewHolderClick listener) {\n        super(v);\n        this.listener = listener;\n        v.setOnClickListener(this);\n\n        vAddressStart = (TextView) v.findViewById(R.id.addressStart);\n        vAddressEnd = (TextView) v.findViewById(R.id.addressEnd);\n        vStatus = (TextView) v.findViewById(R.id.status);\n    }\n\n    public void initFromData(OrderData data) {\n        Log.d(TAG, \"&gt;&lt;initFromData(data=\" + data + \")\");\n        orderId = data.getId();\n        vAddressStart.setText(data.getAddressStart());\n        vAddressEnd.setText(data.getAddressEnd());\n    }\n\n    public long getOrderId() {\n        return orderId;\n    }\n\n    @Override\n    public void onClick(View view) {\n        listener.onCardClick(view, getPosition(), this);\n    }\n\n    public interface IViewHolderClick {\n        public void onCardClick(View view, int position, ViewHolder viewHolder);\n    }\n}\n\n@Override\npublic int getItemViewType(int position) {\n    return position == 0 ? ID_VIEW_HOLDER_ACTUAL : ID_VIEW_HOLDER;\n}\n\n@Override\npublic ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n    Log.d(TAG, \"&gt;&gt;onCreateViewHolder(parent=\" + parent + \", viewType=\" + viewType + \")\");\n\n    ViewHolder result;\n\n    switch (viewType) {\n        case ID_VIEW_HOLDER_ACTUAL: {\n            View itemView = LayoutInflater.from(parent.getContext()).inflate(R.layout.card_layout_actual, parent, false);\n            result = new ViewHolderActual(itemView, new ViewHolderActual.IViewHolderClick() {\n                @Override\n                public void onCardClick(View view, int position, ViewHolder viewHolder) {\n                    Log.d(TAG, \"&gt;&lt;onCardClick(view=\" + view + \", position=\" + position + \", viewHolder=\" + viewHolder + \")\");\n                    Intent intent = new Intent(view.getContext(), OrderDetailActivity.class);\n                    intent.putExtra(OrderDetailActivity.ARG_ORDER_ID, viewHolder.getOrderId());\n                    view.getContext().startActivity(intent);\n                }\n\n                @Override\n                public void onButtonClick(Button button, int position, ViewHolder viewHolder) {\n                    Log.d(TAG, \"&gt;&lt;onButtonClick(button=\" + button + \", position=\" + position + \", viewHolder=\" + viewHolder + \")\");\n                    Intent intent = new Intent(button.getContext(), OrderMapActivity.class);\n                    intent.putExtra(OrderMapActivity.ARG_ORDER_ID, viewHolder.getOrderId());\n                    button.getContext().startActivity(intent);\n                }\n            });\n            break;\n        }\n        case ID_VIEW_HOLDER:\n        default: {\n            View itemView = LayoutInflater.from(parent.getContext()).inflate(R.layout.card_layout, parent, false);\n            result = new ViewHolder(itemView, new ViewHolder.IViewHolderClick() {\n                @Override\n                public void onCardClick(View view, int position, ViewHolder viewHolder) {\n                    Log.d(TAG, \"&gt;&lt;onCardClick(view=\" + view + \", position=\" + position + \", viewHolder=\" + viewHolder + \")\");\n                    Intent intent = new Intent(view.getContext(), OrderDetailActivity.class);\n                    intent.putExtra(OrderDetailActivity.ARG_ORDER_ID, viewHolder.getOrderId());\n                    view.getContext().startActivity(intent);\n                }\n            });\n            break;\n        }\n    }\n\n    Log.d(TAG, \"&lt;&lt;onCreateViewHolder(parent=\" + parent + \", viewType=\" + viewType + \")= \" + result);\n    return result;\n}\n\n@Override\npublic void onBindViewHolder(ViewHolder viewHolder, Cursor cursor) {\n    Log.d(TAG, \"&gt;&lt;onBindViewHolder(viewHolder=\" + viewHolder + \", cursor=\" + cursor + \")\");\n    final OrderData orderData = new OrderData(cursor);\n    viewHolder.initFromData(orderData);\n}\n</code></pre>\n\n<p>}</p></li>\n</ul>\n", "title": "Why doesn&#39;t RecyclerView have onItemClickListener()? And how RecyclerView is different from Listview?", "answer_id": 29408566, "question_id": 24885223, "tags": ["java", "android", "recyclerview"]}, {"body": "<p>Thanks to @marmor, I updated my answer. </p>\n\n<p>I think it's a good solution to handle the onClick() in the <strong>ViewHolder</strong> class constructor and pass it to the parent class via <strong>OnItemClickListener</strong> interface.</p>\n\n<p><strong>MyAdapter.java</strong></p>\n\n<pre><code>public class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.ViewHolder&gt;{\n\nprivate LayoutInflater layoutInflater;\nprivate List&lt;MyObject&gt; items;\nprivate AdapterView.OnItemClickListener onItemClickListener;\n\npublic MyAdapter(Context context, AdapterView.OnItemClickListener onItemClickListener, List&lt;MyObject&gt; items) {\n    layoutInflater = LayoutInflater.from(context);\n    this.items = items;\n    this.onItemClickListener = onItemClickListener;\n}\n\n@Override\npublic ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n    View view = layoutInflater.inflate(R.layout.my_row_layout, parent, false);\n    return new ViewHolder(view);\n}\n\n@Override\npublic void onBindViewHolder(ViewHolder holder, int position) {\n    MyObject item = items.get(position);\n}\n\npublic MyObject getItem(int position) {\n    return items.get(position);\n}\n\n\nclass ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\n    private TextView title;\n    private ImageView avatar;\n\n    public ViewHolder(View itemView) {\n        super(itemView);\n        title = itemView.findViewById(R.id.title);\n        avatar = itemView.findViewById(R.id.avatar);\n\n        title.setOnClickListener(this);\n        avatar.setOnClickListener(this);\n        itemView.setOnClickListener(this);\n    }\n\n    @Override\n    public void onClick(View view) {\n        //passing the clicked position to the parent class\n        onItemClickListener.onItemClick(null, view, getAdapterPosition(), view.getId());\n    }\n}\n}\n</code></pre>\n\n<p>Usage of adapter in other classes:</p>\n\n<p><strong>MyFragment.java</strong></p>\n\n<pre><code>public class MyFragment extends Fragment implements AdapterView.OnItemClickListener {\n\nprivate RecyclerView recycleview;\nprivate MyAdapter adapter;\n\n    .\n    .\n    .\n\nprivate void init(Context context) {\n    //passing this fragment as OnItemClickListener to the adapter\n    adapter = new MyAdapter(context, this, items);\n    recycleview.setAdapter(adapter);\n}\n\n@Override\npublic void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n    //you can get the clicked item from the adapter using its position\n    MyObject item = adapter.getItem(position);\n\n    //you can also find out which view was clicked\n    switch (view.getId()) {\n        case R.id.title:\n            //title view was clicked\n            break;\n        case R.id.avatar:\n            //avatar view was clicked\n            break;\n        default:\n            //the whole row was clicked\n    }\n}\n\n}\n</code></pre>\n", "title": "Why doesn&#39;t RecyclerView have onItemClickListener()? And how RecyclerView is different from Listview?", "answer_id": 29841832, "question_id": 24885223, "tags": ["java", "android", "recyclerview"]}, {"body": "<p>I use this method to start an Intent from RecyclerView:</p>\n\n<pre><code>@Override\n public void onBindViewHolder(ViewHolder viewHolder, int i) {\n\n    final MyClass myClass = mList.get(i);\n    viewHolder.txtViewTitle.setText(myclass.name);\n   ...\n    viewHolder.itemView.setOnClickListener(new View.OnClickListener() {\n      @Override\n       public void onClick(View v){\n             Intent detailIntent = new Intent(mContext, type.class);                                                            \n             detailIntent.putExtra(\"MyClass\", myclass);\n             mContext.startActivity(detailIntent);\n       }\n}\n);\n</code></pre>\n", "title": "Why doesn&#39;t RecyclerView have onItemClickListener()? And how RecyclerView is different from Listview?", "answer_id": 30685908, "question_id": 24885223, "tags": ["java", "android", "recyclerview"]}, {"body": "<p>As far as I understand <strong>MLProgrammer-CiM</strong>  answer, simply it's possible to just do this: </p>\n\n<pre><code>class MyViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener{\n    private ImageView image;\n    private TextView title;\n    private TextView price;\n\n    public MyViewHolder(View itemView) {\n        super(itemView);\n        image = (ImageView)itemView.findViewById(R.id.horizontal_list_image);\n        title = (TextView)itemView.findViewById(R.id.horizontal_list_title);\n        price = (TextView)itemView.findViewById(R.id.horizontal_list_price);\n        image.setOnClickListener(this);\n        title.setOnClickListener(this);\n        price.setOnClickListener(this);\n    }\n\n\n    @Override\n    public void onClick(View v) {\n        Toast.makeText(context, \"Item click nr: \"+getLayoutPosition(), Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n", "title": "Why doesn&#39;t RecyclerView have onItemClickListener()? And how RecyclerView is different from Listview?", "answer_id": 30976972, "question_id": 24885223, "tags": ["java", "android", "recyclerview"]}, {"body": "<p>Android Recyclerview With <code>onItemClickListener</code>,\n Why we cant try this is working like <code>ListView</code> only.</p>\n\n<p>Source : <a href=\"http://sapandiwakar.in/recycler-view-item-click-handler/\">Link</a></p>\n\n<pre><code>import android.content.Context;\nimport android.support.v7.widget.RecyclerView;\nimport android.view.GestureDetector;\nimport android.view.MotionEvent;\nimport android.view.View;\n\n   public class RecyclerItemClickListener implements RecyclerView.OnItemTouchListener {\n\nprivate OnItemClickListener mListener;\npublic interface OnItemClickListener {\n    public void onItemClick(View view, int position);\n}\nGestureDetector mGestureDetector;\npublic RecyclerItemClickListener(Context context, OnItemClickListener listener) {\n    mListener = listener;\n    mGestureDetector = new GestureDetector(context, new GestureDetector.SimpleOnGestureListener() {\n        @Override\n        public boolean onSingleTapUp(MotionEvent e) {\n            return true;\n        }\n    });\n}\n@Override\npublic boolean onInterceptTouchEvent(RecyclerView view, MotionEvent e) {\n    View childView = view.findChildViewUnder(e.getX(), e.getY());\n    if (childView != null &amp;&amp; mListener != null &amp;&amp; mGestureDetector.onTouchEvent(e)) {\n        mListener.onItemClick(childView, view.getChildAdapterPosition(childView));\n    }\n    return false;\n}\n\n@Override\npublic void onTouchEvent(RecyclerView view, MotionEvent motionEvent) {\n}\n\n@Override\npublic void onRequestDisallowInterceptTouchEvent(boolean disallowIntercept) {\n\n  }\n}\n</code></pre>\n\n<p>And Set this to RecyclerView:</p>\n\n<pre><code>    recyclerView = (RecyclerView)rootView. findViewById(R.id.recyclerView);\n    RecyclerView.LayoutManager mLayoutManager = new            LinearLayoutManager(getActivity());\n    recyclerView.setLayoutManager(mLayoutManager);\n    recyclerView.addOnItemTouchListener(\n            new RecyclerItemClickListener(getActivity(), new   RecyclerItemClickListener.OnItemClickListener() {\n                @Override\n                public void onItemClick(View view, int position) {\n                    // TODO Handle item click\n                    Log.e(\"@@@@@\",\"\"+position);\n                }\n            })\n    );\n</code></pre>\n", "title": "Why doesn&#39;t RecyclerView have onItemClickListener()? And how RecyclerView is different from Listview?", "answer_id": 31589524, "question_id": 24885223, "tags": ["java", "android", "recyclerview"]}, {"body": "<p>After reading <strong>@MLProgrammer-CiM</strong>'s answer, here is my code:</p>\n\n<pre><code>class NormalViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener{\n\n    @Bind(R.id.card_item_normal)\n    CardView cardView;\n\n    public NormalViewHolder(View itemView) {\n        super(itemView);\n        ButterKnife.bind(this, itemView);\n        cardView.setOnClickListener(this);\n    }\n\n    @Override\n    public void onClick(View v) {\n        if(v instanceof CardView) {\n            // use getAdapterPosition() instead of getLayoutPosition()\n            int itemPosition = getAdapterPosition();\n            removeItem(itemPosition);\n        }\n    }\n}\n</code></pre>\n", "title": "Why doesn&#39;t RecyclerView have onItemClickListener()? And how RecyclerView is different from Listview?", "answer_id": 31959511, "question_id": 24885223, "tags": ["java", "android", "recyclerview"]}, {"body": "<p>Instead of implementing interface View.OnClickListener inside view holder or creating and interface and implementing interface in your activity..\nI used this code for simple on OnClickListener implementation.</p>\n\n<pre><code>public static class SimpleStringRecyclerViewAdapter\n            extends RecyclerView.Adapter&lt;SimpleStringRecyclerViewAdapter.ViewHolder&gt; {\n\n        // Your initializations goes here...\n        private List&lt;String&gt; mValues;\n\n        public static class ViewHolder extends RecyclerView.ViewHolder {\n\n            //create a variable mView\n            public final View mView;\n\n            /*All your row widgets goes here\n            public final ImageView mImageView;\n            public final TextView mTextView;*/\n\n            public ViewHolder(View view) {\n                super(view);\n                //Initialize it here\n                mView = view;\n\n                /* your row widgets initializations goes here\n                mImageView = (ImageView) view.findViewById(R.id.avatar);\n                mTextView = (TextView) view.findViewById(android.R.id.text1);*/\n            }\n        }\n\n        public String getValueAt(int position) {\n            return mValues.get(position);\n        }\n\n        public SimpleStringRecyclerViewAdapter(Context context, List&lt;String&gt; items) {\n\n            mBackground = mTypedValue.resourceId;\n            mValues = items;\n        }\n\n        @Override\n        public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n            View view = LayoutInflater.from(parent.getContext())\n                    .inflate(R.layout.list_item, parent, false);\n            view.setBackgroundResource(mBackground);\n            return new ViewHolder(view);\n        }\n\n        @Override\n        public void onBindViewHolder(final ViewHolder holder, int position) {\n            holder.mBoundString = mValues.get(position);\n            holder.mTextView.setText(mValues.get(position));\n\n            //Here it is simply write onItemClick listener here\n            holder.mView.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    Context context = v.getContext();\n                    Intent intent = new Intent(context, ExampleActivity.class);\n\n                    context.startActivity(intent);\n                }\n            });\n        }\n\n        @Override\n        public int getItemCount() {\n            return mValues.size();\n        }\n    }\n</code></pre>\n", "title": "Why doesn&#39;t RecyclerView have onItemClickListener()? And how RecyclerView is different from Listview?", "answer_id": 32985328, "question_id": 24885223, "tags": ["java", "android", "recyclerview"]}, {"body": "<p>See my approach on this:</p>\n\n<p><strong>First declare an interface like this:</strong></p>\n\n<pre><code>/**\n * Interface used for delegating item click events in a {@link android.support.v7.widget.RecyclerView}\n * Created by Alex on 11/28/2015.\n */\n  public interface OnRecyclerItemClickListener&lt;T&gt; {\n\n     /**\n      * Called when a click occurred inside a recyclerView item view\n      * @param view that was clicked\n      * @param position of the clicked view\n      * @param item the concrete data that is displayed through the clicked view\n      */\n      void onItemClick(View view, int position, T item);\n   }\n</code></pre>\n\n<p><strong>Then create the adapter:</strong></p>\n\n<pre><code>public class CustomRecyclerAdapter extends RecyclerView.Adapter {      \n\n    private class InternalClickListener implements View.OnClickListener{\n\n      @Override\n      public void onClick(View v) {\n        if(mRecyclerView != null &amp;&amp; mItemClickListener != null){\n            // find the position of the item that was clicked\n            int position = mRecyclerView.getChildAdapterPosition(v);\n            Data data = getItem(position);\n            // notify the main listener\n            mItemClickListener.onItemClick(v, position, data);\n        }\n    }\n}\n\nprivate final OnRecyclerItemClickListener mItemClickListener;\nprivate RecyclerView mRecyclerView;    \nprivate InternalClickListener mInternalClickListener;\n\n\n/**\n *\n * @param itemClickListener used to trigger an item click event\n */\npublic PlayerListRecyclerAdapter(OnRecyclerItemClickListener itemClickListener){        \n    mItemClickListener = itemClickListener;\n    mInternalClickListener = new InternalClickListener();\n}\n\n@Override\npublic RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n   View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.recycler_item, parent, false);\n\n    v.setOnClickListener(mInternalClickListener);\n\n    ViewHolder viewHolder = new ViewHolder(v);\n    return viewHolder;\n}\n\n@Override\npublic void onBindViewHolder(RecyclerView.ViewHolder holder, int position) {\n    // do your binding here\n}\n\n@Override\npublic int getItemCount() {\n    return mDataSet.size();\n}\n\n@Override\npublic void onAttachedToRecyclerView(RecyclerView recyclerView) {\n    super.onAttachedToRecyclerView(recyclerView);\n\n    mRecyclerView = recyclerView;\n}\n\n@Override\npublic void onDetachedFromRecyclerView(RecyclerView recyclerView) {\n    super.onDetachedFromRecyclerView(recyclerView);\n\n    mRecyclerView = null;\n}\n\npublic Data getItem(int position){\n    return mDataset.get(position);\n}\n}\n</code></pre>\n\n<p><strong>And now let's see how to integrate this from a fragment:</strong></p>\n\n<pre><code>public class TestFragment extends Fragment implements OnRecyclerItemClickListener&lt;Data&gt;{\n   private RecyclerView mRecyclerView;\n\n   @Override\n   public void onItemClick(View view, int position, Data item) {\n     // do something\n   }\n\n   @Override\n   public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n      return inflater.inflate(R.layout.test_fragment, container, false);\n   }\n\n   @Override\n   public void onViewCreated(View view, Bundle savedInstanceState) {\n      mRecyclerView = view.findViewById(idOfTheRecycler);\n      mRecyclerView .setAdapter(new CustomRecyclerAdapter(this));\n   }\n</code></pre>\n", "title": "Why doesn&#39;t RecyclerView have onItemClickListener()? And how RecyclerView is different from Listview?", "answer_id": 33971661, "question_id": 24885223, "tags": ["java", "android", "recyclerview"]}, {"body": "<p>If you want to add onClick() to the child view of items, for example, a button in item, I found that you can do it easily in onCreateViewHolder() of your own RecyclerView.Adapter just like this:</p>\n\n<pre><code>        @Override\n        public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n            View v = LayoutInflater\n                    .from(parent.getContext())\n                    .inflate(R.layout.cell, null);\n\n            Button btn = (Button) v.findViewById(R.id.btn);\n            btn.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    //do it\n                }\n            });\n\n            return new MyViewHolder(v);\n        }\n</code></pre>\n\n<p>i don't know whether it's a good way, but it works well. If anyone has a better idea, very glad to tell me and correct my answer! :)</p>\n", "title": "Why doesn&#39;t RecyclerView have onItemClickListener()? And how RecyclerView is different from Listview?", "answer_id": 33999017, "question_id": 24885223, "tags": ["java", "android", "recyclerview"]}, {"body": "<p>This worked for me:</p>\n\n<pre><code>@Override\npublic void onBindViewHolder(PlacesListViewAdapter.ViewHolder holder, int position) {\n    ----\n    ----\n    ----\n    // Set setOnClickListener(holder);\n}\n\n\n@Override\npublic class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\n\n    ----\n    ----\n    ----\n\n    @Override\n    public void onClick(View view) {\n        // Use to get the item clicked getAdapterPosition()\n    }\n}\n</code></pre>\n", "title": "Why doesn&#39;t RecyclerView have onItemClickListener()? And how RecyclerView is different from Listview?", "answer_id": 34476682, "question_id": 24885223, "tags": ["java", "android", "recyclerview"]}, {"body": "<p>I have done this way, its very simple:</p>\n\n<p>Just add <strong>1 Line</strong> for <strong>Clicked RecyclerView position</strong>:</p>\n\n<pre><code>int position = getLayoutPosition()\n</code></pre>\n\n<p>Full code for <strong>ViewHolder</strong> class:</p>\n\n<pre><code>private class ChildViewHolder extends RecyclerView.ViewHolder {\n        public ImageView imageView;\n        public TextView txtView;\n\n        public ChildViewHolder(View itemView) {\n            super(itemView);\n            imageView= (ImageView)itemView.findViewById(R.id.imageView);\n            txtView= (TextView) itemView.findViewById(R.id.txtView);\n            itemView.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    Log.i(\"RecyclerView Item Click Position\", String.valueOf(getLayoutPosition()));\n                }\n            });\n        }\n    }\n</code></pre>\n\n<p>Hope this will help you.</p>\n", "title": "Why doesn&#39;t RecyclerView have onItemClickListener()? And how RecyclerView is different from Listview?", "answer_id": 35178782, "question_id": 24885223, "tags": ["java", "android", "recyclerview"]}, {"body": "<p>Here is a way to implement it quite easily if you have a list of POJOs and want to retrieve one on click from outside the adapter.</p>\n\n<p>In your adapter, create a listener for the click events and a method to set it:</p>\n\n<pre><code>public class MyAdapter extends RecyclerView.Adapter&lt;SitesListAdapter.ViewHolder&gt; {\n...\nprivate List&lt;MyPojo&gt; mMyPojos;\nprivate static OnItemClickListener mOnItemClickListener;\n\n...\npublic interface OnItemClickListener {\n    public void onItemClick(MyPojo pojo);\n}\n\n...\npublic void setOnItemClickListener(OnItemClickListener onItemClickListener){\n    mOnItemClickListener = onItemClickListener;\n}\n...\n</code></pre>\n\n<p>}</p>\n\n<p>In your ViewHolder, implement onClickListener and create a class member to temporarily store the POJO the view is presenting, that way (this is an example, creating a setter would be better):</p>\n\n<pre><code>public static class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\n    public MyPojo mCurrentPojo;\n    ...\n    public ViewHolder(View view) {\n        super(v);\n        ...\n        view.setOnClickListener(this); //You could set this on part of the layout too\n    }\n\n    ...\n    @Override\n    public void onClick(View view) {\n        if(mOnItemClickListener != null &amp;&amp; mCurrentPojo != null){\n            mOnItemClickListener.onItemClick(mCurrentPojo);\n        }\n    }\n</code></pre>\n\n<p>Back in your adapter, set the current POJO when the ViewHolder is bound (or to null if the current view doesn't have one):</p>\n\n<pre><code>@Override\npublic void onBindViewHolder(final ViewHolder holder, final int position) {\n    final MyPojo currentPojo = mMyPojos.get(position); \n    holder.mCurrentPojo = currentPojo;\n    ...\n</code></pre>\n\n<p>That's it, now you can use it like this from your fragment/activity:</p>\n\n<pre><code>    mMyAdapter.setOnItemClickListener(new mMyAdapter.OnItemClickListener() {\n        @Override\n        public void onItemClick(MyPojo pojo) {\n            //Do whatever you want with your pojo here\n        }\n    });\n</code></pre>\n", "title": "Why doesn&#39;t RecyclerView have onItemClickListener()? And how RecyclerView is different from Listview?", "answer_id": 35730528, "question_id": 24885223, "tags": ["java", "android", "recyclerview"]}, {"body": "<p>Guys use this code in Your main activity.   Very Efficient Method</p>\n\n<pre><code>RecyclerView recyclerView = (RecyclerView) findViewById(R.id.users_list);            \nUsersAdapter adapter = new UsersAdapter(users, this);\nrecyclerView.setAdapter(adapter);\nadapter.setOnCardClickListner(this);\n</code></pre>\n\n<p>Here is your Adapter class.</p>\n\n<pre><code>public class UsersAdapter extends RecyclerView.Adapter&lt;UsersAdapter.UserViewHolder&gt; {\n        private ArrayList&lt;User&gt; mDataSet;\n        OnCardClickListner onCardClickListner;\n\n\n        public UsersAdapter(ArrayList&lt;User&gt; mDataSet) {\n            this.mDataSet = mDataSet;\n        }\n\n        @Override\n        public UserViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n            View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.user_row_layout, parent, false);\n            UserViewHolder userViewHolder = new UserViewHolder(v);\n            return userViewHolder;\n        }\n\n        @Override\n        public void onBindViewHolder(UserViewHolder holder, final int position) {\n            holder.name_entry.setText(mDataSet.get(position).getUser_name());\n            holder.cardView.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    onCardClickListner.OnCardClicked(v, position);\n                }\n            });\n        }\n\n        @Override\n        public int getItemCount() {\n            return mDataSet.size();\n        }\n\n        @Override\n        public void onAttachedToRecyclerView(RecyclerView recyclerView) {\n            super.onAttachedToRecyclerView(recyclerView);\n        }\n\n\n        public static class UserViewHolder extends RecyclerView.ViewHolder {\n            CardView cardView;\n            TextView name_entry;\n\n            public UserViewHolder(View itemView) {\n                super(itemView);\n                cardView = (CardView) itemView.findViewById(R.id.user_layout);\n                name_entry = (TextView) itemView.findViewById(R.id.name_entry);\n             }\n        }\n\n        public interface OnCardClickListner {\n            void OnCardClicked(View view, int position);\n        }\n\n        public void setOnCardClickListner(OnCardClickListner onCardClickListner) {\n            this.onCardClickListner = onCardClickListner;\n        }\n    }\n</code></pre>\n\n<p>After this you will get this override method in your activity.</p>\n\n<pre><code>@Override\n    public void OnCardClicked(View view, int position) {\n        Log.d(\"OnClick\", \"Card Position\" + position);\n    }\n</code></pre>\n", "title": "Why doesn&#39;t RecyclerView have onItemClickListener()? And how RecyclerView is different from Listview?", "answer_id": 35891102, "question_id": 24885223, "tags": ["java", "android", "recyclerview"]}, {"body": "<p>An alternative solution is the one <a href=\"http://www.littlerobots.nl/blog/Handle-Android-RecyclerView-Clicks/\">proposed</a> by <em>Hugo Visser</em>, an Android GDE. He made a licence-free class available for you to just drop in your code and use it.</p>\n\n<p>Usage:</p>\n\n<pre><code>ItemClickSupport.addTo(mRecyclerView)\n        .setOnItemClickListener(new ItemClickSupport.OnItemClickListener() {\n    @Override\n    public void onItemClicked(RecyclerView recyclerView, int position, View v) {\n        // do it\n    }\n});\n</code></pre>\n\n<p>(it also support long item click)</p>\n\n<p>Implementation (comments added by me):</p>\n\n<pre><code>public class ItemClickSupport {\n    private final RecyclerView mRecyclerView;\n    private OnItemClickListener mOnItemClickListener;\n    private OnItemLongClickListener mOnItemLongClickListener;\n    private View.OnClickListener mOnClickListener = new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            if (mOnItemClickListener != null) {\n                // ask the RecyclerView for the viewHolder of this view.\n                // then use it to get the position for the adapter\n                RecyclerView.ViewHolder holder = mRecyclerView.getChildViewHolder(v);\n                mOnItemClickListener.onItemClicked(mRecyclerView, holder.getAdapterPosition(), v);\n            }\n        }\n    };\n    private View.OnLongClickListener mOnLongClickListener = new View.OnLongClickListener() {\n        @Override\n        public boolean onLongClick(View v) {\n            if (mOnItemLongClickListener != null) {\n                RecyclerView.ViewHolder holder = mRecyclerView.getChildViewHolder(v);\n                return mOnItemLongClickListener.onItemLongClicked(mRecyclerView, holder.getAdapterPosition(), v);\n            }\n            return false;\n        }\n    };\n    private RecyclerView.OnChildAttachStateChangeListener mAttachListener\n            = new RecyclerView.OnChildAttachStateChangeListener() {\n        @Override\n        public void onChildViewAttachedToWindow(View view) {\n            // every time a new child view is attached add click listeners to it\n            if (mOnItemClickListener != null) {\n                view.setOnClickListener(mOnClickListener);\n            }\n            if (mOnItemLongClickListener != null) {\n                view.setOnLongClickListener(mOnLongClickListener);\n            }\n        }\n\n        @Override\n        public void onChildViewDetachedFromWindow(View view) {\n\n        }\n    };\n\n    private ItemClickSupport(RecyclerView recyclerView) {\n        mRecyclerView = recyclerView;\n        // the ID must be declared in XML, used to avoid\n        // replacing the ItemClickSupport without removing\n        // the old one from the RecyclerView\n        mRecyclerView.setTag(R.id.item_click_support, this);\n        mRecyclerView.addOnChildAttachStateChangeListener(mAttachListener);\n    }\n\n    public static ItemClickSupport addTo(RecyclerView view) {\n        // if there's already an ItemClickSupport attached\n        // to this RecyclerView do not replace it, use it\n        ItemClickSupport support = (ItemClickSupport) view.getTag(R.id.item_click_support);\n        if (support == null) {\n            support = new ItemClickSupport(view);\n        }\n        return support;\n    }\n\n    public static ItemClickSupport removeFrom(RecyclerView view) {\n        ItemClickSupport support = (ItemClickSupport) view.getTag(R.id.item_click_support);\n        if (support != null) {\n            support.detach(view);\n        }\n        return support;\n    }\n\n    public ItemClickSupport setOnItemClickListener(OnItemClickListener listener) {\n        mOnItemClickListener = listener;\n        return this;\n    }\n\n    public ItemClickSupport setOnItemLongClickListener(OnItemLongClickListener listener) {\n        mOnItemLongClickListener = listener;\n        return this;\n    }\n\n    private void detach(RecyclerView view) {\n        view.removeOnChildAttachStateChangeListener(mAttachListener);\n        view.setTag(R.id.item_click_support, null);\n    }\n\n    public interface OnItemClickListener {\n\n        void onItemClicked(RecyclerView recyclerView, int position, View v);\n    }\n\n    public interface OnItemLongClickListener {\n\n        boolean onItemLongClicked(RecyclerView recyclerView, int position, View v);\n    }\n}\n</code></pre>\n\n<p>also create a file <code>values/ids.xml</code> and put this in it:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n    &lt;item name=\"item_click_support\" type=\"id\" /&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>This class works by attaching a <code>RecyclerView.OnChildAttachStateChangeListener</code> to the <code>RecyclerView</code>. This listener is notified every time a child is attached or detached from the <code>RecyclerView</code>. The code use this to append a tap/long click listener to the view. That listener ask the <code>RecyclerView</code> for the <code>RecyclerView.ViewHolder</code> which contains the position.</p>\n\n<p>You could also adapt the code to give you back the holder itself if you need more.</p>\n\n<p>Keep in mind that it's COMPLETELY fine to handle it in your adapter by setting on each view of your list a click listener, like other answer proposed. It's just not the most efficient thing to do (you create a new listener every time you reuse a view) but it works and in most cases it's not an issue.</p>\n\n<p><strong>About the <em>Why</em> <code>RecyclerView</code> does not have an <code>onItemClickListener</code>.</strong></p>\n\n<p>The <code>RecyclerView</code> is a toolbox, in contrast of the old <code>ListView</code> it has less build in features and more flexibility. The <code>onItemClickListener</code> is not the only feature being removed from ListView. But it has lot of listeners and method to extend it to your liking, it's far more powerful in the right hands ;).</p>\n\n<p>In my opinion the most complex feature removed in <code>RecyclerView</code> is the <em>Fast Scroll</em>. Most of the other features can be easily re-implemented.</p>\n", "title": "Why doesn&#39;t RecyclerView have onItemClickListener()? And how RecyclerView is different from Listview?", "answer_id": 35917564, "question_id": 24885223, "tags": ["java", "android", "recyclerview"]}, {"body": "<p>Yes you can</p>\n\n<pre><code>public ViewHolder onCreateViewHolder(ViewGroup parent,int viewType) {\n\n    //inflate the view \n\n    View view = LayoutInflator.from(parent.getContext()).inflate(R.layout.layoutID,null);\n\n    ViewHolder holder = new ViewHolder(view);\n\n    //here we can set onClicklistener\n    view.setOnClickListener(new  View.OnClickListeener(){\n        public void onClick(View v)\n        {\n            //action\n        }\n    });\n\nreturn holder;\n</code></pre>\n", "title": "Why doesn&#39;t RecyclerView have onItemClickListener()? And how RecyclerView is different from Listview?", "answer_id": 38628786, "question_id": 24885223, "tags": ["java", "android", "recyclerview"]}, {"body": "<p>Here you can handle multiple onclick see below code and it is very efficient  </p>\n\n<pre><code>    public class RVNewsAdapter extends RecyclerView.Adapter&lt;RVNewsAdapter.FeedHolder&gt; {\n\n    private Context context;\n    List&lt;News&gt; newsList;\n    // Allows to remember the last item shown on screen\n    private int lastPosition = -1;\n\n    public RVNewsAdapter(List&lt;News&gt; newsList, Context context) {\n        this.newsList = newsList;\n        this.context = context;\n    }\n\n    public static class FeedHolder extends RecyclerView.ViewHolder implements OnClickListener {\n\n        ImageView img_main;\n        TextView tv_title;\n        Button bt_facebook, bt_twitter, bt_share, bt_comment;\n\n\n        public FeedHolder(View itemView) {\n            super(itemView);\n\n            img_main = (ImageView) itemView.findViewById(R.id.img_main);\n            tv_title = (TextView) itemView.findViewById(R.id.tv_title);\n            bt_facebook = (Button) itemView.findViewById(R.id.bt_facebook);\n            bt_twitter = (Button) itemView.findViewById(R.id.bt_twitter);\n            bt_share = (Button) itemView.findViewById(R.id.bt_share);\n            bt_comment = (Button) itemView.findViewById(R.id.bt_comment);\n\n            img_main.setOnClickListener(this);\n            bt_facebook.setOnClickListener(this);\n            bt_twitter.setOnClickListener(this);\n            bt_comment.setOnClickListener(this);\n            bt_share.setOnClickListener(this);\n\n        }\n\n\n        @Override\n        public void onClick(View v) {\n\n            if (v.getId() == bt_comment.getId()) {\n\n                Toast.makeText(v.getContext(), \"Comment  \" , Toast.LENGTH_SHORT).show();\n\n            } else if (v.getId() == bt_facebook.getId()) {\n\n                Toast.makeText(v.getContext(), \"Facebook  \" , Toast.LENGTH_SHORT).show();\n\n            } else if (v.getId() == bt_twitter.getId()) {\n\n                Toast.makeText(v.getContext(), \"Twitter  \" , Toast.LENGTH_SHORT).show();\n\n            } else if (v.getId() == bt_share.getId()) {\n\n                Toast.makeText(v.getContext(), \"share  \" , Toast.LENGTH_SHORT).show();\n\n            }\n            else {\n                Toast.makeText(v.getContext(), \"ROW PRESSED = \" + String.valueOf(getAdapterPosition()), Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n\n    @Override\n    public void onAttachedToRecyclerView(RecyclerView recyclerView) {\n        super.onAttachedToRecyclerView(recyclerView);\n    }\n\n    @Override\n    public FeedHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.feed_row, parent, false);\n        FeedHolder feedHolder = new FeedHolder(view);\n\n        return feedHolder;\n    }\n\n    @Override\n    public void onBindViewHolder(FeedHolder holder, int position) {\n\n        holder.tv_title.setText(newsList.get(position).getTitle());\n\n\n        // Here you apply the animation when the view is bound\n        setAnimation(holder.img_main, position);\n    }\n\n    @Override\n    public int getItemCount() {\n        return newsList.size();\n    }\n\n\n    /**\n     * Here is the key method to apply the animation\n     */\n    private void setAnimation(View viewToAnimate, int position) {\n        // If the bound view wasn't previously displayed on screen, it's animated\n        if (position &gt; lastPosition) {\n            Animation animation = AnimationUtils.loadAnimation(context, android.R.anim.slide_in_left);\n            viewToAnimate.startAnimation(animation);\n            lastPosition = position;\n        }\n    }\n\n\n}\n</code></pre>\n", "title": "Why doesn&#39;t RecyclerView have onItemClickListener()? And how RecyclerView is different from Listview?", "answer_id": 38790050, "question_id": 24885223, "tags": ["java", "android", "recyclerview"]}, {"body": "<p>use <a href=\"https://github.com/janishar/PlaceHolderView\" rel=\"nofollow\">PlaceHolderView</a> </p>\n\n<pre><code>@Layout(R.layout.item_view_1)\npublic class View1{\n\n    @View(R.id.txt)\n    public TextView txt;\n\n    @Resolve\n    public void onResolved() {\n        txt.setText(String.valueOf(System.currentTimeMillis() / 1000));\n    }\n\n    @Click(R.id.btn)\n    public void onClick(){\n        txt.setText(String.valueOf(System.currentTimeMillis() / 1000));\n    }\n}\n</code></pre>\n", "title": "Why doesn&#39;t RecyclerView have onItemClickListener()? And how RecyclerView is different from Listview?", "answer_id": 39034715, "question_id": 24885223, "tags": ["java", "android", "recyclerview"]}, {"body": "<p>I was looking for the solution but it is complicated for me to understand since I'm not an expert. So I tried some trick and it works fine.</p>\n\n<ol>\n<li>Add Button on the custom row and set alpha to 0.</li>\n</ol>\n\n<p>\n</p>\n\n<pre><code>    &lt;Button\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"100dp\"\n        android:id=\"@+id/button\"\n        android:alpha=\"0\"/&gt;\n    &lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Text\"\n        android:id=\"@+id/textView\"\n        android:layout_margin=\"5dp\"\n        android:textSize=\"30dp\"\n        android:textStyle=\"bold\"\n        /&gt;\n</code></pre>\n\n<p></p>\n\n<ol start=\"2\">\n<li>Add button object on ViewHolder class</li>\n</ol>\n\n<p>public class ViewHolder extends RecyclerView.ViewHolder{</p>\n\n<pre><code>    TextView textView;\n    Button button;\n\n    public ViewHolder(View itemView) {\n        super(itemView);\n\n        textView = (TextView) itemView.findViewById(R.id.textView);\n        button = (Button) itemView.findViewById(R.id.button);\n\n    }\n}\n</code></pre>\n\n<ol start=\"3\">\n<li>Add Button onClick event on onBindViewHolder.</li>\n</ol>\n\n<p>@Override\n    public void onBindViewHolder(ViewHolder holder, final int position) {</p>\n\n<pre><code>    holder.textView.setText(singers[position]);\n    holder.button.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            Toast.makeText(context, \"\" + singers[position], Toast.LENGTH_SHORT).show();\n        }\n    });\n}\n</code></pre>\n", "title": "Why doesn&#39;t RecyclerView have onItemClickListener()? And how RecyclerView is different from Listview?", "answer_id": 39168653, "question_id": 24885223, "tags": ["java", "android", "recyclerview"]}], "question_id": 24885223}, {"body": "<p>I have an app where the <code>UITableView</code>'s separator inset is set to custom values - Right <code>0</code>, Left <code>0</code>. This works perfectly in iOS 7.x, however in iOS 8.0 I see that the separator inset is set to the default of <code>15</code> on the right. Even though in the xib files it set to <code>0</code>, it still shows up incorrectly.</p>\n\n<p>How do I remove the UITableViewCell separator margins?</p>\n", "title": "iOS 8 UITableView separator inset 0 not working", "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"], "answer_count": 40, "link": "http://stackoverflow.com/questions/25770119/ios-8-uitableview-separator-inset-0-not-working", "answers": [{"body": "<p>Arg!!! After playing around either doing this in your <code>Cell</code> subclass: </p>\n\n<pre><code>- (UIEdgeInsets)layoutMargins\n{\n    return UIEdgeInsetsZero;\n}\n</code></pre>\n\n<p>or setting the <code>cell.layoutMargins = UIEdgeInsetsZero;</code> fixed it for me. </p>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 25772101, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<p>In Swift it's slightly more annoying because <code>layoutMargins</code> is a property, so you have to override the getter <em>and</em> setter.</p>\n\n<pre><code>override var layoutMargins: UIEdgeInsets {\n  get { return UIEdgeInsetsZero }\n  set(newVal) {}\n}\n</code></pre>\n\n<p>This will effectively make <code>layoutMargins</code> readonly, which in my case is fine.</p>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 25775481, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<p>I believe this is the same question that I asked here: <a href=\"http://stackoverflow.com/questions/25762723/remove-separatorinset-on-ios-8-uitableview-for-xcode-6-iphone-simulator\">Remove SeparatorInset on iOS 8 UITableView for XCode 6 iPhone Simulator</a></p>\n\n<p>In <strong>iOS 8</strong>, there is one new property for all the objects inherit from <code>UIView</code>. So, the solution to set the <code>SeparatorInset</code> in iOS 7.x will not be able to remove the white space you see on the UITableView in iOS 8. </p>\n\n<p>The new property is called \"<strong>layoutMargins</strong>\".</p>\n\n<pre><code>@property(nonatomic) UIEdgeInsets layoutMargins\nDescription   The default spacing to use when laying out content in the view.\nAvailability  iOS (8.0 and later)\nDeclared In   UIView.h\nReference UIView Class Reference\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/ieR9l.png\" alt=\"iOS 8 UITableView setSeparatorInset:UIEdgeInsetsZero setLayoutMargins:UIEdgeInsetsZero\"></p>\n\n<p>The solution:-</p>\n\n<pre><code>-(void)tableView:(UITableView *)tableView willDisplayCell:(UITableViewCell *)cell forRowAtIndexPath:(NSIndexPath *)indexPath{\n\n    if ([tableView respondsToSelector:@selector(setSeparatorInset:)]) {\n        [tableView setSeparatorInset:UIEdgeInsetsZero];\n    }\n\n    if ([tableView respondsToSelector:@selector(setLayoutMargins:)]) {\n        [tableView setLayoutMargins:UIEdgeInsetsZero];\n    }\n\n   if ([cell respondsToSelector:@selector(setLayoutMargins:)]) {\n        [cell setLayoutMargins:UIEdgeInsetsZero];\n   }\n}\n</code></pre>\n\n<p>If you set <code>cell.layoutMargins = UIEdgeInsetsZero;</code> without checking if the <code>layoutMargins</code> exists, the app will crash on iOS 7.x. So, the best way would be checking if  the <code>layoutMargins</code> exists first before <code>setLayoutMargins:UIEdgeInsetsZero</code>.</p>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 25788003, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<p><strong>iOS 8.0 introduces the layoutMargins property on cells AND table views.</strong></p>\n\n<p>This property isn't available on iOS 7.0 so you need to make sure you check before assigning it!</p>\n\n<p>Additionally, Apple has added a <strong>property</strong> to your cell that will prevent it from inheriting your Table View's margin settings. When this property is set, your cells are allowed to configure their own margins independently of the table view. Think of it as an override.</p>\n\n<p>This property is called <code>preservesSuperviewLayoutMargins</code>, and setting it to <code>NO</code> will allow the cell's <code>layoutMargin</code> setting to override whatever <code>layoutMargin</code> is set on your TableView. It both saves time (<strong>you don't have to modify the Table View's settings</strong>), and is more concise. Please refer to Mike Abdullah's answer for a detailed explanation.</p>\n\n<p><em>NOTE: what follows is a clean implementation for a <strong>cell-level margin setting</strong>, as expressed in Mike Abdullah's answer. Setting your cell's preservesSuperviewLayoutMargins=NO will ensure that your Table View does not override the cell settings. If you actually want your entire table view to have consistent margins, please adjust your code accordingly.</em></p>\n\n<p><strong>Setup your cell margins:</strong></p>\n\n<pre><code>-(void)tableView:(UITableView *)tableView willDisplayCell:(UITableViewCell *)cell forRowAtIndexPath:(NSIndexPath *)indexPath\n{\n    // Remove seperator inset\n    if ([cell respondsToSelector:@selector(setSeparatorInset:)]) {\n           [cell setSeparatorInset:UIEdgeInsetsZero];\n    }\n\n    // Prevent the cell from inheriting the Table View's margin settings\n    if ([cell respondsToSelector:@selector(setPreservesSuperviewLayoutMargins:)]) {\n        [cell setPreservesSuperviewLayoutMargins:NO];\n    }\n\n    // Explictly set your cell's layout margins\n    if ([cell respondsToSelector:@selector(setLayoutMargins:)]) {\n        [cell setLayoutMargins:UIEdgeInsetsZero];\n    }\n}\n</code></pre>\n\n<p>Setting the preservesSuperviewLayoutMargins property on your cell to NO <strong>should</strong> prevent your table view from overriding your cell margins. In some cases, it seems to not function properly.</p>\n\n<p><strong>If all fails, you may brute-force your Table View margins:</strong></p>\n\n<pre><code>-(void)viewDidLayoutSubviews\n{\n    [super viewDidLayoutSubviews];\n\n    // Force your tableview margins (this may be a bad idea)\n    if ([self.tableView respondsToSelector:@selector(setSeparatorInset:)]) {\n        [self.tableView setSeparatorInset:UIEdgeInsetsZero];\n    }\n\n    if ([self.tableView respondsToSelector:@selector(setLayoutMargins:)]) {\n        [self.tableView setLayoutMargins:UIEdgeInsetsZero];\n    }\n} \n</code></pre>\n\n<p>...and there you go! This should work on iOS 7 and 8.</p>\n\n<p><strong>EDIT:</strong> <strong>Mohamed Saleh brought to my attention a possible change in iOS 9.</strong> You may need to set the Table View's <code>cellLayoutMarginsFollowReadableWidth</code> to <code>NO</code> if you want to customize insets or margins. Your mileage may vary, this is not documented very well.</p>\n\n<p>This property only exists in iOS 9 so be sure to check before setting.</p>\n\n<pre><code>if([myTableView respondsToSelector:@selector(setCellLayoutMarginsFollowReadableWidth:)])\n{\n    myTableView.cellLayoutMarginsFollowReadableWidth = NO;\n} \n</code></pre>\n\n<p>(above code from <a href=\"http://stackoverflow.com/questions/25770119/ios-8-uitableview-separator-inset-0-not-working/32860532#32860532\">iOS 8 UITableView separator inset 0 not working</a>)</p>\n\n<p><strong>EDIT: Here's a pure Interface Builder approach:</strong></p>\n\n<p><a href=\"http://i.stack.imgur.com/QLjGB.png\"><img src=\"http://i.stack.imgur.com/QLjGB.png\" alt=\"TableViewAttributesInspector\"></a>\n<a href=\"http://i.stack.imgur.com/pbgBU.png\"><img src=\"http://i.stack.imgur.com/pbgBU.png\" alt=\"TableViewCellSizeInspector\"></a></p>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 25877725, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<p>As to what cdstamper suggested instead of the table view, adding below lines in the cell's layoutSubview method works for me.</p>\n\n<pre><code>- (void)layoutSubviews \n{\n    [super layoutSubviews];\n\n    if ([self respondsToSelector:@selector(setSeparatorInset:)])\n                [self setSeparatorInset:UIEdgeInsetsZero];\n\n        if ([self respondsToSelector:@selector(setPreservesSuperviewLayoutMargins:)])\n        {\n            [self setPreservesSuperviewLayoutMargins:NO];;\n        }\n\n        if ([self respondsToSelector:@selector(setLayoutMargins:)]) \n        {\n            [self setLayoutMargins:UIEdgeInsetsZero];\n        }\n}\n</code></pre>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 26057350, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<p>Swift:</p>\n\n<pre><code>override func viewDidLoad() {\n    super.viewDidLoad()\n\n    if self.tableView.respondsToSelector(\"setSeparatorInset:\") {\n        self.tableView.separatorInset = UIEdgeInsetsZero\n    }\n    if self.tableView.respondsToSelector(\"setLayoutMargins:\") {\n        self.tableView.layoutMargins = UIEdgeInsetsZero\n    }\n\n    self.tableView.layoutIfNeeded()            // &lt;--- this do the magic\n}\n\noverride func tableView(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath) -&gt; UITableViewCell {\n     ...\n\n    if cell.respondsToSelector(\"setSeparatorInset:\") {\n        cell.separatorInset = UIEdgeInsetsZero\n    }\n    if cell.respondsToSelector(\"setLayoutMargins:\") {\n        cell.layoutMargins = UIEdgeInsetsZero\n    }\n\n    return cell\n}\n</code></pre>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 26498153, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<p>Most answers are showing separator insets and layout margins being set over a variety of methods (i.e., <code>viewDidLayoutSubviews</code>, <code>willDisplayCell</code>, etc) for cells and tableviews, but I've found that just putting these in <code>cellForRowAtIndexPath</code> works great. Seems like the cleanest way.</p>\n\n<pre><code>// kill insets for iOS 8\nif ([[UIDevice currentDevice].systemVersion floatValue] &gt;= 8) {\n    cell.preservesSuperviewLayoutMargins = NO;\n    [cell setLayoutMargins:UIEdgeInsetsZero];\n}\n// iOS 7 and later\nif ([cell respondsToSelector:@selector(setSeparatorInset:)])\n    [cell setSeparatorInset:UIEdgeInsetsZero];\n</code></pre>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 26636399, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<p>Use below code snippet avoid unwanted padding issue for UITableView in IOS 8 &amp; 7.</p>\n\n<pre><code>-(void)tableView:(UITableView *)tableView willDisplayCell:(UITableViewCell *)cell forRowAtIndexPath:(NSIndexPath *)indexPath{\n\n    if ([tableView respondsToSelector:@selector(setSeparatorInset:)])\n    {\n        [tableView setSeparatorInset:UIEdgeInsetsZero];\n    }\n\n    if ([tableView respondsToSelector:@selector(setLayoutMargins:)])\n    {\n        [tableView setLayoutMargins:UIEdgeInsetsZero];\n    }\n\n    if ([cell respondsToSelector:@selector(setLayoutMargins:)])\n    {\n        [cell setLayoutMargins:UIEdgeInsetsZero];\n    }\n}\n</code></pre>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 26714280, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<p>This is the code that's working for me, in Swift:</p>\n\n<pre><code>override func viewDidLoad() \n{\n    super.viewDidLoad()\n    ...\n    if tableView.respondsToSelector(\"setSeparatorInset:\") {\n        tableView.separatorInset = UIEdgeInsetsZero\n    }\n}\n\nfunc tableView(tableView: UITableView, willDisplayCell cell: UITableViewCell,forRowAtIndexPath indexPath: NSIndexPath)\n{\n    if cell.respondsToSelector(\"setSeparatorInset:\") {\n        cell.separatorInset.left = CGFloat(0.0)\n    }\n    if tableView.respondsToSelector(\"setLayoutMargins:\") {\n        tableView.layoutMargins = UIEdgeInsetsZero\n    }\n    if cell.respondsToSelector(\"setLayoutMargins:\") {\n        cell.layoutMargins.left = CGFloat(0.0)\n    }\n}\n</code></pre>\n\n<p>This seems the cleanest to me (for now), as all the cell/tableView edge/margin adjustments are done in the <code>tableView:willDisplayCell:forRowAtIndexPath:</code> method, without cramming unneccessary code into <code>tableView:cellForRowAtIndexPath:</code>.</p>\n\n<p>Btw, I'm only setting the cell's left separatorInset/layoutMargins, because in this case I don't want to screw up my constraints that I have set up in my cell.</p>\n\n<p><strong>Code updated to Swift 2.2 :</strong></p>\n\n<pre><code> override func viewDidLoad() {\n   super.viewDidLoad()       \n\n    if tableView.respondsToSelector(Selector(\"setSeparatorInset:\")) {\n      tableView.separatorInset = UIEdgeInsetsZero\n        }\n    }\n\n override func tableView(tableView: UITableView, willDisplayCell cell: UITableViewCell,forRowAtIndexPath indexPath: NSIndexPath) {\n        if cell.respondsToSelector(Selector(\"setSeparatorInset:\")) {\n            cell.separatorInset.left = CGFloat(0.0)\n        }\n        if tableView.respondsToSelector(Selector(\"setLayoutMargins:\")) {\n            tableView.layoutMargins = UIEdgeInsetsZero\n        }\n        if cell.respondsToSelector(Selector(\"setLayoutMargins:\")) {\n            cell.layoutMargins.left = CGFloat(0.0)\n        }\n    }\n</code></pre>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 26718503, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<p>Let's take a moment to understand the problem before blindly charging in to attempt to fix it.</p>\n\n<p>A quick poke around in the debugger will tell you that separator lines are subviews of <code>UITableViewCell</code>. It seems that the cell itself takes a fair amount of responsibility for the layout of these lines.</p>\n\n<p>iOS 8 introduces the concept of <em>layout margins</em>. By default, a view's layout margins are <code>8pt</code> on all sides, and they're <em>inherited</em> from ancestor views.</p>\n\n<p>As best we can tell, when laying out out its separator line, <code>UITableViewCell</code> chooses to respect the left-hand layout margin, using it to constrain the left inset.</p>\n\n<p>Putting all that together, to achieve the desired inset of truly zero, we need to:</p>\n\n<ul>\n<li>Set the left layout margin to <code>0</code></li>\n<li>Stop any inherited margins overriding that</li>\n</ul>\n\n<p>Put like that, it's a pretty simple task to achieve:</p>\n\n<pre><code>cell.layoutMargins = UIEdgeInsetsZero;\ncell.preservesSuperviewLayoutMargins = NO;\n</code></pre>\n\n<p>Things to note:</p>\n\n<ul>\n<li>This code only <em>needs</em> to be run once per cell (you're just configuring the cell's properties after all), and there's nothing special about when you choose to execute it. Do what seems cleanest to you.</li>\n<li>Sadly neither property is available to configure in Interface Builder, but you can specify a user-defined runtime attribute for <code>preservesSuperviewLayoutMargins</code> if desired.</li>\n<li>Clearly, if your app targets earlier OS releases too, you'll need to avoid executing the above code until running on iOS 8 and above.</li>\n<li>Rather than setting <code>preservesSuperviewLayoutMargins</code>, you <em>can</em> configure ancestor views (such as the table) to have <code>0</code> left margin too, but this seems inherently more error-prone as you don't control that entire hierarchy.</li>\n<li>It would probably be slightly cleaner to set only the left margin to <code>0</code> and leave the others be.</li>\n<li>If you want to have a 0 inset on the \"extra\" separators that <code>UITableView</code> draws at the bottom of plain style tables, I'm guessing that will require specifying the same settings at the table level too (haven't tried this one!)</li>\n</ul>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 26827362, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<p>Instead of updating <code>preservesSuperviewLayoutMargins</code> and <code>layoutMargins</code> every time the cell scrolls in (using <code>willDisplayCell</code>), I'd suggest to do it once in <code>cellForRowAtIndexPath:</code>:</p>\n\n<pre><code>override func tableView(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath) -&gt; UITableViewCell {\n\n    let cell = super.tableView(tableView, cellForRowAtIndexPath: indexPath)\n\n    cell.preservesSuperviewLayoutMargins = false\n    cell.layoutMargins = UIEdgeInsetsZero\n\n    return cell\n\n}\n</code></pre>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 27226251, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<h2>Swift version</h2>\n\n<p><strong>iOS introduces the layoutMargins property on cells AND table views.</strong></p>\n\n<p>This property isn't available in iOS 7.0 so you need to make sure you check before assigning it!</p>\n\n<p>However, Apple has added a <strong>property</strong> called <strong>preservesSuperviewLayoutMargins</strong> to your cell that will prevent it from inheriting your Table View's margin settings. This way, your cells can configure their own margins independently of the table view. Think of it as an override.</p>\n\n<p>This property is called <em>preservesSuperviewLayoutMargins</em>, and setting it to NO can allow you to override your Table View's layoutMargin settings with your own cell's layoutMargin setting. It both saves time (<strong>you don't have to modify the Table View's settings</strong>), and is more concise. Please refer to Mike Abdullah's answer for a detailed explanation.</p>\n\n<p><em>NOTE: this is the proper, less messy implementation, as expressed in Mike Abdullah's answer; setting your cell's preservesSuperviewLayoutMargins=NO will ensure that your Table View does not override the cell settings.</em></p>\n\n<p><strong>First step - Setup your cell margins:</strong></p>\n\n<pre><code>/*\n    Tells the delegate that the table view is about to draw a cell for a particular row.\n*/\noverride func tableView(tableView: UITableView, willDisplayCell cell: UITableViewCell,\n    forRowAtIndexPath indexPath: NSIndexPath)\n{\n    // Remove separator inset\n    if cell.respondsToSelector(\"setSeparatorInset:\") {\n        cell.separatorInset = UIEdgeInsetsZero\n    }\n\n    // Prevent the cell from inheriting the Table View's margin settings\n    if cell.respondsToSelector(\"setPreservesSuperviewLayoutMargins:\") {\n        cell.preservesSuperviewLayoutMargins = false\n    }\n\n    // Explictly set your cell's layout margins\n    if cell.respondsToSelector(\"setLayoutMargins:\") {\n        cell.layoutMargins = UIEdgeInsetsZero\n    }\n}\n</code></pre>\n\n<p>Setting the preservesSuperviewLayoutMargins property on your cell to NO <strong>should</strong> prevent your table view from overriding your cell margins. In some cases, it seems not to function properly.</p>\n\n<p><strong>Second step - Only if all fails, you may brute-force your Table View margins:</strong></p>\n\n<pre><code>/*\n    Called to notify the view controller that its view has just laid out its subviews.\n*/\noverride func viewDidLayoutSubviews() {\n    super.viewDidLayoutSubviews()\n\n    // Force your tableview margins (this may be a bad idea)\n    if self.tableView.respondsToSelector(\"setSeparatorInset:\") {\n        self.tableView.separatorInset = UIEdgeInsetsZero\n    }\n\n    if self.tableView.respondsToSelector(\"setLayoutMargins:\") {\n        self.tableView.layoutMargins = UIEdgeInsetsZero\n    }\n}\n</code></pre>\n\n<p>...and there you go! This should work on iOS 8 as well as iOS 7.</p>\n\n<p>Note: tested using iOS 8.1 and 7.1, in my case I only needed to use the first step of this explanation.</p>\n\n<p>The Second Step is only required if you have unpopulated cell beneath the rendered cells, ie. if the table is larger than the number of rows in the table model. Not doing the second step would result in different separator offsets.</p>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 27626126, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<p>let do as my code:</p>\n\n<pre><code>-(void)tableView:(UITableView *)tableView willDisplayCell:(UITableViewCell *)cell forRowAtIndexPath:(NSIndexPath *)indexPath{\n    if ([tableView respondsToSelector:@selector(setSeparatorInset:)]) {\n        [tableView setSeparatorInset:UIEdgeInsetsZero];\n    }\n\n    if ([tableView respondsToSelector:@selector(setLayoutMargins:)]) {\n        [tableView setLayoutMargins:UIEdgeInsetsZero];\n    }\n\n    if ([tableView respondsToSelector:@selector(setLayoutMargins:)]) {\n        cell.preservesSuperviewLayoutMargins = NO;\n        [cell setLayoutMargins:UIEdgeInsetsZero];\n    }\n    if ([cell respondsToSelector:@selector(setSeparatorInset:)]){\n        [cell setSeparatorInset:UIEdgeInsetsZero];\n    }\n}\n</code></pre>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 27632211, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<p>I made it work by doing this:</p>\n\n<pre><code>tableView.separatorInset = UIEdgeInsetsZero;\ntableView.layoutMargins = UIEdgeInsetsZero;\ncell.layoutMargins = UIEdgeInsetsZero;\n</code></pre>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 27703578, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<p>You can use UIAppearance once, at your application startup (before UI is loaded), to set it as default global settings:</p>\n\n<pre><code>// iOS 7:\n[[UITableView appearance] setSeparatorStyle:UITableViewCellSeparatorStyleSingleLine];\n[[UITableView appearance] setSeparatorInset:UIEdgeInsetsZero];\n\n[[UITableViewCell appearance] setSeparatorInset:UIEdgeInsetsZero];\n\n// iOS 8:\nif ([UITableView instancesRespondToSelector:@selector(setLayoutMargins:)]) {\n\n    [[UITableView appearance] setLayoutMargins:UIEdgeInsetsZero];\n    [[UITableViewCell appearance] setLayoutMargins:UIEdgeInsetsZero];\n    [[UITableViewCell appearance] setPreservesSuperviewLayoutMargins:NO];\n\n}\n</code></pre>\n\n<p>This way, you keep your UIViewController's code clean and can always override it if you want.</p>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 28296227, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<p>I went through all these wonderful answers and realized most of them do not work with iOS 8, or do work but the separator changes size during animation causing unwanted flashing.  This is what I ended up doing in my app delegate before creating the window:</p>\n\n<pre><code>[[UITableView appearance] setSeparatorInset:UIEdgeInsetsZero];\n[[UITableViewCell appearance] setSeparatorInset:UIEdgeInsetsZero];\n\nif ([UITableView instancesRespondToSelector:@selector(setLayoutMargins:)]) {\n    [[UITableView appearance] setLayoutMargins:UIEdgeInsetsZero];\n    [[UITableViewCell appearance] setLayoutMargins:UIEdgeInsetsZero];\n    [[UITableViewCell appearance] setPreservesSuperviewLayoutMargins:NO];\n}\n</code></pre>\n\n<p>And this is what I added to my UITableViewController:</p>\n\n<pre><code>-(void)viewDidLayoutSubviews\n{\n    [super viewDidLayoutSubviews];\n\n    if ([self.tableView respondsToSelector:@selector(setSeparatorInset:)]) {\n        [self.tableView setSeparatorInset:UIEdgeInsetsZero];\n    }\n\n    if ([self.tableView respondsToSelector:@selector(setLayoutMargins:)]) {\n        [self.tableView setLayoutMargins:UIEdgeInsetsZero];\n    }\n}\n</code></pre>\n\n<p>I didn't need to add anything else.  Thanks to everyone who provided the crucial bits.</p>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 28751266, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<pre><code>-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {\n        // ... Get the cell\n        cell.separatorInset = UIEdgeInsetsMake(0.f, 20.f, 0.f, [UIScreen mainScreen].bounds.size.width - 20);\n        // others\n        return cell;\n}\n</code></pre>\n\n<p>For any specific cell you want to hide the separator.</p>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 28892959, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<p>Lukasz answer in Swift:</p>\n\n<pre><code>    // iOS 7:\n    UITableView.appearance().separatorStyle = .SingleLine\n    UITableView.appearance().separatorInset = UIEdgeInsetsZero\n    UITableViewCell.appearance().separatorInset = UIEdgeInsetsZero\n\n    // iOS 8:\n    if UITableView.instancesRespondToSelector(\"setLayoutMargins:\") {\n        UITableView.appearance().layoutMargins = UIEdgeInsetsZero\n        UITableViewCell.appearance().layoutMargins = UIEdgeInsetsZero\n        UITableViewCell.appearance().preservesSuperviewLayoutMargins = false\n    }\n</code></pre>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 29758091, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<p>Simple solution in <strong>Swift</strong> for <strong>iOS 8</strong> with a custom <code>UITableViewCell</code></p>\n\n<pre><code>override func awakeFromNib() {\n    super.awakeFromNib()\n\n    self.layoutMargins = UIEdgeInsetsZero\n    self.separatorInset = UIEdgeInsetsZero\n}\n</code></pre>\n\n<p>In this way you are setting <code>layoutMargin</code> and <code>separatorInset</code> just one time instead of doing it for each <code>willDisplayCell</code> as most of the above answers suggest. </p>\n\n<p>If you are using a custom <code>UITableViewCell</code> this is the correct place to do it. \nOtherwise you should do it in <code>tableView:cellForRowAtIndexPath</code>.</p>\n\n<p>Just another hint: you don't need to set <code>preservesSuperviewLayoutMargins = false</code> because default value is already <code>NO</code>!</p>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 30639981, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<p>In a more compact way than the most voted answer...</p>\n\n<pre><code>- (void)tableView:(UITableView *)tableView willDisplayCell:(UITableViewCell *)cell forRowAtIndexPath:(NSIndexPath *)indexPath {\n\n    if ([cell respondsToSelector:@selector(setSeparatorInset:)] &amp;&amp; [cell respondsToSelector:@selector(setPreservesSuperviewLayoutMargins:)] &amp;&amp; [cell respondsToSelector:@selector(setLayoutMargins:)]) {\n         [cell setSeparatorInset:UIEdgeInsetsZero];\n         [cell setPreservesSuperviewLayoutMargins:NO];\n         [cell setLayoutMargins:UIEdgeInsetsZero];\n    }\n</code></pre>\n\n<p>}</p>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 30734157, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<p>In iOS8:</p>\n\n<p>Adding this to my UITableViewCell Subclass: </p>\n\n<pre><code>- (UIEdgeInsets)layoutMargins {\n    return UIEdgeInsetsZero;\n}\n</code></pre>\n\n<p>and this to \"tableView:cellForRowAtIndexPath\" or \"tableView:willDisplayCell\":</p>\n\n<pre><code>[editCell setSeparatorInset:UIEdgeInsetsZero];\n</code></pre>\n\n<p>WORKED for me.</p>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 30754743, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<p>I didn't have any real luck with any of the solutions above.  I'm using NIB files for my tables cells.  I \"fixed\" this by adding a label with a height of 1.  I changed the background of the label to black, pinned the label to the bottom of the nib, and then pinned the bottom of the rest of my contents to the added label.   Now I have a black border running along the bottom of my cells.</p>\n\n<p>To me, this feels like more of a hack, but it does work.</p>\n\n<p>My only other choice was to just eliminate the border completely.  I'm still deciding whether I'll just go with that.</p>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 30966596, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<p>iOS 8 and later. Swift 2.0 and later:</p>\n\n<pre><code>override func tableView(tableView: UITableView, willDisplayCell cell: UITableViewCell, forRowAtIndexPath indexPath: NSIndexPath) {\n    cell.separatorInset = UIEdgeInsetsZero\n    if #available(iOS 8.0, *) {\n        cell.layoutMargins = UIEdgeInsetsZero\n    } else {\n        // Fallback on earlier versions\n    }\n}\n</code></pre>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 31123418, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<p>After having seen the answers at floor 3, I tried to figure out what the relationship of setting up the separator between TableView &amp; TableViewCell and did some test. Here are my conclusions:</p>\n\n<ol>\n<li><p>we can consider that setting the cell's separator to zero has to move the separator in two steps: first step is to set cell's <strong>separatorinset</strong> to zero. second step is to set cell's <strong>marginlayout</strong> to zero.</p></li>\n<li><p>set the TableView's <strong>separatorinset</strong> and <strong>marginlayout</strong> can affect the Cell's <strong>separatorinset</strong>. However, from the test, I find that the TableView's <strong>separatorinset</strong> seem to be useless, TableView's <strong>marginlayout</strong> can actually affect cell's <strong>marginlayout</strong>.</p></li>\n<li><p>set Cell's PreservesSuperviewLayoutMargins = false, can cut off TableView's <strong>marginlayout</strong> effect on Cells.</p></li>\n<li><p>one of the solutions: </p>\n\n<pre><code>func tableView(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath) -&gt; UITableViewCell {\n    var cell = UITableViewCell()\n\n    cell.preservesSuperviewLayoutMargins = false\n    cell.separatorInset = UIEdgeInsetsZero\n    cell.layoutMargins = UIEdgeInsetsZero\n\n    return cell\n}\n</code></pre></li>\n</ol>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 32284850, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<p>Adding this snippet, simple elegant in Swift works for me in iOS8 :)</p>\n\n<pre><code>    // tableview single line\nfunc tableView(tableView: UITableView, willDisplayCell cell: UITableViewCell, forRowAtIndexPath indexPath: NSIndexPath) {\n    cell.preservesSuperviewLayoutMargins = false\n    cell.layoutMargins = UIEdgeInsetsZero\n}\n</code></pre>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 32356477, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<p>This is my solution. This applies to the custom cell subclass, just add them both to the subclass.</p>\n\n<ol>\n<li><pre><code>- (UIEdgeInsets)layoutMargins {    \n    return UIEdgeInsetsMake(0, 10, 0, 10);\n}\n</code></pre></li>\n</ol>\n\n<p>2.</p>\n\n<pre><code>self.separatorInset = UIEdgeInsetsMake(0, 10, 0, 10);\n</code></pre>\n\n<p>And it is convenient that you can customize the position of the separator without asking your designer to draw one for you..........</p>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 32472865, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<blockquote>\n  <h2>Swift 2.0 Extension</h2>\n</blockquote>\n\n<p>I just wanted to share an extension I made to remove the margins from the tableview cell separators.</p>\n\n<pre><code>extension UITableViewCell {\n    func removeMargins() {\n\n        if self.respondsToSelector(\"setSeparatorInset:\") {\n            self.separatorInset = UIEdgeInsetsZero\n        }\n\n        if self.respondsToSelector(\"setPreservesSuperviewLayoutMargins:\") {\n            self.preservesSuperviewLayoutMargins = false\n        }\n\n        if self.respondsToSelector(\"setLayoutMargins:\") {\n            self.layoutMargins = UIEdgeInsetsZero\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Used in context:</strong></p>\n\n<pre><code>    let cell = tableView.dequeueReusableCellWithIdentifier(\"Cell\", forIndexPath: indexPath) as! CustomCell\n\n    cell.removeMargins()\n    return cell\n</code></pre>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 32485334, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<p>For iOS 9 you need to add:</p>\n\n<pre><code>if([myTableView respondsToSelector:@selector(setCellLayoutMarginsFollowReadableWidth:)])\n{\n    myTableView.cellLayoutMarginsFollowReadableWidth = NO;\n} \n</code></pre>\n\n<p>For more details please refer to <a href=\"http://stackoverflow.com/a/31538250/3151066\">question</a>.</p>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 32860532, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<p>This worked perfectly for me in iOS 8 and  iOS 9.</p>\n\n<p>For <strong>OBJ-C</strong></p>\n\n<pre><code> - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath  { \n        if ([tableView respondsToSelector:@selector(setSeparatorInset:)])\n        {\n            [tableView setSeparatorInset:UIEdgeInsetsZero];\n        }\n\n        if ([tableView respondsToSelector:@selector(setLayoutMargins:)])\n        {\n            [tableView setLayoutMargins:UIEdgeInsetsZero];\n        }\n\n        if ([cell respondsToSelector:@selector(setLayoutMargins:)])\n        {\n            [cell setLayoutMargins:UIEdgeInsetsZero];\n        }\n         return cell;\n    }\n</code></pre>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 32921971, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<p>following answer from @cdstamper, a better place is layoutSubviews of UITableViewCell, in your cell file(I set 1% spacing, you can set to zero), so need only to set code here to handle all situations(rotate and other):</p>\n\n<pre><code> -(void)layoutSubviews\n    {\n        [super layoutSubviews];\n        if ([self respondsToSelector:@selector(setSeparatorInset:)]) {\n            [self setSeparatorInset:UIEdgeInsetsMake(0,self.bounds.size.width*0.01,0,self.bounds.size.width*0.01)];\n        }\n        if ([self respondsToSelector:@selector(setLayoutMargins:)]) {\n            [self setLayoutMargins:UIEdgeInsetsMake(0,self.bounds.size.width*0.01,0,self.bounds.size.width*0.01)];\n        }\n    }\n</code></pre>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 33249424, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<p>Here's an easy way to globally remove the inset.</p>\n\n<p>In <code>UITableViewCell+Extensions.swift</code>:</p>\n\n<pre><code>import UIKit\n\nextension UITableViewCell {\n\n  override public var layoutMargins: UIEdgeInsets {\n    get { return UIEdgeInsetsZero }\n    set { }\n  }\n\n}\n</code></pre>\n\n<p>In <code>AppDelegate</code> <code>application:didFinishLaunchingWithOptions:</code>:</p>\n\n<pre><code>  UITableViewCell.appearance().separatorInset = UIEdgeInsetsZero\n</code></pre>\n\n<p>You might think to a) also just override <code>separatorInset</code> in the extension, or b) set the appearance proxy for <code>layoutMargins</code>, instead. Neither will work. Even though <code>separatorInset</code> is indicated to be a property, attempting to override it as a property (or method) generates compiler errors. And setting the appearance proxy for <code>UITableViewCell</code>'s <code>layoutMargins</code> (or, for that matter, also setting the appearance proxies for <code>UITableView</code>'s <code>layoutMargins</code> and <code>separatorInset</code>) has no effect.</p>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 33297967, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<p>XCode 7.1 iOS 7, 8, 9:</p>\n\n<p>just put these two lines in your TabelViewCell:</p>\n\n<pre><code>    self.layoutMargins = UIEdgeInsetsZero;\n    self.preservesSuperviewLayoutMargins = false;\n</code></pre>\n\n<p>That worked for me</p>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 33469189, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<p>My solution is adding an UIView as a container for the cell subviews. Then set this UIView constraints (top,bottom,trailing,leading) to 0 points. And all the unnecessary mass go away.<a href=\"http://i.stack.imgur.com/KEF50.png\" rel=\"nofollow\">the image showing the logic</a></p>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 34518068, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<p>For me the simple line did the job</p>\n\n<pre><code>cell.layoutMargins = UIEdgeInsetsZero\n</code></pre>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 35478909, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<p><a href=\"http://i.stack.imgur.com/rXtEC.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/rXtEC.png\" alt=\"enter image description here\"></a></p>\n\n<p>use storyboard to Change Separator inset Custom left 0 and right 0,\nif you want to hide separator to None\nsee above image </p>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 36256601, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<p>With <strong>Swift 2.2</strong></p>\n\n<p><strong>create <code>UITableViewCell extension</code></strong></p>\n\n<pre><code>import UIKit\n\nextension UITableViewCell {\n    func removeMargins() {\n\n        if self.respondsToSelector(Selector(\"setSeparatorInset:\")) {\n            self.separatorInset = UIEdgeInsetsZero\n        }\n\n        if self.respondsToSelector(Selector(\"setPreservesSuperviewLayoutMargins:\")) {\n            self.preservesSuperviewLayoutMargins = false\n        }\n\n        if self.respondsToSelector(Selector(\"setLayoutMargins:\")) {\n            self.layoutMargins = UIEdgeInsetsZero\n        }\n    }\n} \n</code></pre>\n\n<p><strong>Now you can use in your <code>cellForRowAtIndex</code></strong></p>\n\n<pre><code>-(void)tableView:(UITableView *)tableView willDisplayCell:(UITableViewCell *)cell forRowAtIndexPath:(NSIndexPath *)indexPath\n{\n            cell.removeMargins()//To remove seprator inset \n}\n</code></pre>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 36576597, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<p>In Swift you can use this</p>\n\n<pre><code>    cell.selectionStyle = UITableViewCellSelectionStyle.None\n    cell.preservesSuperviewLayoutMargins = false\n    cell.separatorInset = UIEdgeInsetsZero\n    cell.layoutMargins = UIEdgeInsetsZero\n</code></pre>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 37962900, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<p>(After much investigation here's the right way to handle this IMHO)</p>\n\n<p>To fully control both separator insets and layout margins on each cell. You only need this code in your tableview delegate. Nothing else is required on iOS8 or iOS9.</p>\n\n<pre><code>func tableView(tableView: UITableView, willDisplayCell cell: UITableViewCell, forRowAtIndexPath indexPath: NSIndexPath) {\n    cell.layoutMargins = UIEdgeInsetsZero\n    cell.contentView.layoutMargins = UIEdgeInsetsMake(0, 10, 0, 10)\n    cell.separatorInset = UIEdgeInsetsMake(0, 0, 0, 0)\n}\n</code></pre>\n\n<p>The cell object controls the separator, and the contentView controls everything else. If your separator inset spaces are showing up in an unexpected color this should solve it:</p>\n\n<pre><code>cell.backgroundColor = cell.contentView.backgroundColor\n</code></pre>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 38206546, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<p>Just add below code can solve this program. </p>\n\n<p>Good look to you!</p>\n\n<p>-(void)tableView:(UITableView *)tableView willDisplayCell:(UITableViewCell *)cell forRowAtIndexPath:(NSIndexPath *)indexPath {</p>\n\n<pre><code>   if ([cell respondsToSelector:@selector(setSeparatorInset:)]) {\n       [cell setSeparatorInset:UIEdgeInsetsZero];\n   }\n\n   if ([cell respondsToSelector:@selector(setLayoutMargins:)]) {\n       [cell setLayoutMargins:UIEdgeInsetsZero];\n   }\n</code></pre>\n\n<p>}</p>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 38387315, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}, {"body": "<p><strong>Swift 3.0 example:</strong></p>\n\n<pre><code>func tableView(_ tableView: UITableView, willDisplay cell: UITableViewCell, forRowAt indexPath: IndexPath) {\n    // removing seperator inset\n    if cell.responds(to: #selector(setter: UITableViewCell.separatorInset)) {\n        cell.separatorInset = UIEdgeInsetsZero\n    }\n    // prevent the cell from inheriting the tableView's margin settings\n    if cell.responds(to: #selector(setter: UIView.preservesSuperviewLayoutMargins)) {\n        cell.preservesSuperviewLayoutMargins = false\n    }\n    // explicitly setting cell's layout margins\n    if cell.responds(to: #selector(setter: UITableViewCell.layoutMargins)) {\n        cell.layoutMargins = UIEdgeInsetsZero\n    }\n}\n</code></pre>\n", "title": "iOS 8 UITableView separator inset 0 not working", "answer_id": 39005773, "question_id": 25770119, "tags": ["ios", "objective-c", "swift", "uitableview", "ios8"]}], "question_id": 25770119}, {"body": "<p>This was an interview question asked by a senior manager.</p>\n\n<p>Which is faster? </p>\n\n<pre><code>while(1) {\n    // Some code\n}\n</code></pre>\n\n<p>or </p>\n\n<pre><code>while(2) {\n    //Some code\n}\n</code></pre>\n\n<p>I said that both have the same execution speed, as the expression inside <code>while</code> should finally evaluate to <code>true</code> or <code>false</code>. In this case, both evaluate to <code>true</code> and there are no extra conditional instructions inside the <code>while</code> condition. So, both will have the same speed of execution and I prefer while (1).</p>\n\n<p>But the interviewer said confidently:\n\"Check your basics. <code>while(1)</code> is faster than <code>while(2)</code>.\"\n(He was not testing my confidence)</p>\n\n<p>Is this true?</p>\n\n<h3>See also: <a href=\"http://stackoverflow.com/questions/2611246/is-for-faster-than-while-true-if-not-why-do-people-use-it\">Is &quot;for(;;)&quot; faster than &quot;while (TRUE)&quot;? If not, why do people use it?</a></h3>\n", "title": "Which is faster: while(1) or while(2)?", "tags": ["c", "performance", "while-loop"], "answer_count": 21, "link": "http://stackoverflow.com/questions/24848359/which-is-faster-while1-or-while2", "answers": [{"body": "<p>Your explanation is correct. This seems to be a question that tests your self-confidence in addition to technical knowledge.</p>\n\n<p>By the way, if you answered</p>\n\n<blockquote>\n  <p>Both pieces of code are equally fast, because both take infinite time to complete</p>\n</blockquote>\n\n<p>the interviewer would say</p>\n\n<blockquote>\n  <p>But <code>while (1)</code> can do more iterations per second; can you explain why? (this is nonsense; testing your confidence again)</p>\n</blockquote>\n\n<p>So by answering like you did, you saved some time which you would otherwise waste on discussing this bad question.</p>\n\n<hr>\n\n<p>Here is an example code generated by the compiler on my system (MS Visual Studio 2012), with optimizations turned off:</p>\n\n<pre><code>yyy:\n    xor eax, eax\n    cmp eax, 1     (or 2, depending on your code)\n    je xxx\n    jmp yyy\nxxx:\n    ...\n</code></pre>\n\n<p>With optimizations turned on:</p>\n\n<pre><code>xxx:\n    jmp xxx\n</code></pre>\n\n<p>So the generated code is exactly the same, at least with an optimizing compiler.</p>\n", "title": "Which is faster: while(1) or while(2)?", "answer_id": 24848540, "question_id": 24848359, "tags": ["c", "performance", "while-loop"]}, {"body": "<p>Both loops are infinite, but we can see which one takes more instructions/resources per iteration.</p>\n\n<p>Using gcc, I compiled the two following programs to assembly at varying levels of optimization:</p>\n\n<pre><code>int main(void)\n{\n    while(1)\n    {\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p><br></p>\n\n<pre><code>int main(void)\n{\n    while(2)\n    {\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>Even with no optimizations (<code>-O0</code>), <strong>the generated assembly was identical for both programs.</strong> Therefore, there is no speed difference between the two loops.</p>\n\n<p>For reference, here is the generated assembly (using <code>gcc main.c -S -masm=intel</code> with an optimization flag):</p>\n\n<p>With <code>-O0</code>:</p>\n\n<pre><code>    .file   \"main.c\"\n    .intel_syntax noprefix\n    .def    __main; .scl    2;  .type   32; .endef\n    .text\n    .globl  main\n    .def    main;   .scl    2;  .type   32; .endef\n    .seh_proc   main\nmain:\n    push    rbp\n    .seh_pushreg    rbp\n    mov rbp, rsp\n    .seh_setframe   rbp, 0\n    sub rsp, 32\n    .seh_stackalloc 32\n    .seh_endprologue\n    call    __main\n.L2:\n    jmp .L2\n    .seh_endproc\n    .ident  \"GCC: (tdm64-2) 4.8.1\"\n</code></pre>\n\n<p>With <code>-O1</code>:</p>\n\n<pre><code>    .file   \"main.c\"\n    .intel_syntax noprefix\n    .def    __main; .scl    2;  .type   32; .endef\n    .text\n    .globl  main\n    .def    main;   .scl    2;  .type   32; .endef\n    .seh_proc   main\nmain:\n    sub rsp, 40\n    .seh_stackalloc 40\n    .seh_endprologue\n    call    __main\n.L2:\n    jmp .L2\n    .seh_endproc\n    .ident  \"GCC: (tdm64-2) 4.8.1\"\n</code></pre>\n\n<p>With <code>-O2</code> and <code>-O3</code> (same output):</p>\n\n<pre><code>    .file   \"main.c\"\n    .intel_syntax noprefix\n    .def    __main; .scl    2;  .type   32; .endef\n    .section    .text.startup,\"x\"\n    .p2align 4,,15\n    .globl  main\n    .def    main;   .scl    2;  .type   32; .endef\n    .seh_proc   main\nmain:\n    sub rsp, 40\n    .seh_stackalloc 40\n    .seh_endprologue\n    call    __main\n.L2:\n    jmp .L2\n    .seh_endproc\n    .ident  \"GCC: (tdm64-2) 4.8.1\"\n</code></pre>\n\n<p>In fact, the assembly generated for the loop is identical for every level of optimization:</p>\n\n<pre><code> .L2:\n    jmp .L2\n    .seh_endproc\n    .ident  \"GCC: (tdm64-2) 4.8.1\"\n</code></pre>\n\n<p>The important bits being:</p>\n\n<pre><code>.L2:\n    jmp .L2\n</code></pre>\n\n<p>I can't read assembly very well, but this is obviously an unconditional loop. The <code>jmp</code> instruction unconditionally resets the program back to the <code>.L2</code> label without even comparing a value against true, and of course immediately does so again until the program is somehow ended. This directly corresponds to the C/C++ code:</p>\n\n<pre><code>L2:\n    goto L2;\n</code></pre>\n\n<p>Edit:</p>\n\n<p>Interestingly enough, even with <em>no optimizations</em>, the following loops all produced the exact same output (unconditional <code>jmp</code>) in assembly:</p>\n\n<pre><code>while(42)\n{\n}\n\nwhile(1==1)\n{\n}\n\nwhile(2==2)\n{\n}\n\nwhile(4&lt;7)\n{\n}\n\nwhile(3==3 &amp;&amp; 4==4)\n{\n}\n\nwhile(8-9 &lt; 0)\n{\n}\n\nwhile(4.3 * 3e4 &gt;= 2 &lt;&lt; 6)\n{\n}\n\nwhile(-0.1 + 02)\n{\n}\n</code></pre>\n\n<p>And even to my amazement:</p>\n\n<pre><code>#include&lt;math.h&gt;\n\nwhile(sqrt(7))\n{\n}\n\nwhile(hypot(3,4))\n{\n}\n</code></pre>\n\n<p>Things get a little more interesting with user-defined functions:</p>\n\n<pre><code>int x(void)\n{\n    return 1;\n}\n\nwhile(x())\n{\n}\n</code></pre>\n\n<p><br/></p>\n\n<pre><code>#include&lt;math.h&gt;\n\ndouble x(void)\n{\n    return sqrt(7);\n}\n\nwhile(x())\n{\n}\n</code></pre>\n\n<p>At <code>-O0</code>, these two examples actually call <code>x</code> and perform a comparison for each iteration.</p>\n\n<p>First example (returning 1):</p>\n\n<pre><code>.L4:\n    call    x\n    testl   %eax, %eax\n    jne .L4\n    movl    $0, %eax\n    addq    $32, %rsp\n    popq    %rbp\n    ret\n    .seh_endproc\n    .ident  \"GCC: (tdm64-2) 4.8.1\"\n</code></pre>\n\n<p>Second example (returning <code>sqrt(7)</code>):</p>\n\n<pre><code>.L4:\n    call    x\n    xorpd   %xmm1, %xmm1\n    ucomisd %xmm1, %xmm0\n    jp  .L4\n    xorpd   %xmm1, %xmm1\n    ucomisd %xmm1, %xmm0\n    jne .L4\n    movl    $0, %eax\n    addq    $32, %rsp\n    popq    %rbp\n    ret\n    .seh_endproc\n    .ident  \"GCC: (tdm64-2) 4.8.1\"\n</code></pre>\n\n<p>However, at <code>-O1</code> and above, they both produce the same assembly as the previous examples (an unconditional <code>jmp</code> back to the preceding label).</p>\n\n<h3>TL;DR</h3>\n\n<p>When the different loops are compiled to assembly, the compiler evaluates the constant values and doesn't bother performing any actual comparison; the two loops are identical.</p>\n\n<p>Even if this doesn't prove that this behavior is consistent across all compilers/platforms, it proves that the compiler <em>can</em> optimize these loops to be identical, and therefore <em>should</em>. One of the main benefits of using a compiled language is the fact that this sort of thing is supposed to be outside of the programmer's concern.</p>\n", "title": "Which is faster: while(1) or while(2)?", "answer_id": 24848563, "question_id": 24848359, "tags": ["c", "performance", "while-loop"]}, {"body": "<p>You should have asked him how did he reached to that conclusion. Under any decent compiler out there, the two compile to the same asm instructions. So, he should have told you the compiler as well to start off. And even so, you would have to know the compiler and platform very well to even make a theoretical educated guess. And in the end, it doesn't really matter in practice, since there are other external factors like memory fragmentation or system load that will influence the loop more than this detail.</p>\n", "title": "Which is faster: while(1) or while(2)?", "answer_id": 24848608, "question_id": 24848359, "tags": ["c", "performance", "while-loop"]}, {"body": "<p>Here's a problem: If you actually write a program and measure its speed, the speed of both loops could be different! For some reasonable comparison: </p>\n\n<pre><code>unsigned long i = 0;\nwhile (1) { if (++i == 1000000000) break; }\n\nunsigned long i = 0;\nwhile (2) { if (++i == 1000000000) break; }\n</code></pre>\n\n<p>with some code added that prints the time, some random effect like how the loop is positioned within one or two cache lines could make a difference. One loop might by pure chance be completely within one cache line, or at the start of a cache line, or it might to straddle two cache lines. And as a result, whatever the interviewer claims is fastest might actually be fastest - by coincidence. </p>\n\n<p>Worst case scenario: An optimising compiler doesn't figure out what the loop does, but figures out that the values produced when the second loop is executed are the same ones as produced by the first one. And generate full code for the first loop, but not for the second. </p>\n", "title": "Which is faster: while(1) or while(2)?", "answer_id": 24856266, "question_id": 24848359, "tags": ["c", "performance", "while-loop"]}, {"body": "<p>The existing answers showing the code generated by a particular compiler for a particular target with a particular set of options do not fully answer the question -- unless the question was asked in that specific context (\"Which is faster using gcc 4.7.2 for x86_64 with default options?\", for example).</p>\n\n<p>As far as the language definition is concerned, in the <em>abstract machine</em> <code>while (1)</code> evaluates the integer constant <code>1</code>, and <code>while (2)</code> evaluates the integer constant <code>2</code>; in both cases the result is compared for equality to zero. The language standard says absolutely nothing about the relative performance of the two constructs.</p>\n\n<p>I can imagine that an extremely naive compiler might generate different machine code for the two forms, at least when compiled without requesting optimization.</p>\n\n<p>On the other hand, C compilers absolutely must evaluate <em>some</em> constant expressions at compile time, when they appear in contexts that require a constant expression. For example, this:</p>\n\n<pre><code>int n = 4;\nswitch (n) {\n    case 2+2: break;\n    case 4:   break;\n}\n</code></pre>\n\n<p>requires a diagnostic; a lazy compiler does not have the option of deferring the evaluation of <code>2+2</code> until execution time. Since a compiler has to have the ability to evaluate constant expressions at compile time, there's no good reason for it not to take advantage of that capability even when it's not required.</p>\n\n<p>The C standard (<a href=\"http://www.open-std.org/jtc1/sc22/wg14/www/docs/n1570.pdf\">N1570</a> 6.8.5p4) says that </p>\n\n<blockquote>\n  <p>An iteration statement causes a statement called the <em>loop body</em> to be\n  executed repeatedly until the controlling expression compares equal to\n  0.</p>\n</blockquote>\n\n<p>So the relevant constant expressions are <code>1 == 0</code> and <code>2 == 0</code>, both of which evaluate to the <code>int</code> value <code>0</code>. (These comparison are implicit in the semantics of the <code>while</code> loop; they don't exist as actual C expressions.)</p>\n\n<p>A perversely naive compiler <em>could</em> generate different code for the two constructs. For example, for the first it could generate an unconditional infinite loop (treating <code>0</code> as a special case), and for the second it could generate an explicit run-time comparison equivalent to <code>2 != 0</code>. But I've never encountered a C compiler that would actually behave that way, and I seriously doubt that such a compiler exists.</p>\n\n<p>Most compilers (I'm tempted to say all production-quality compilers) have options to request additional optimizations. Under such an option, it's even less likely that any compiler would generate different code for the two forms.</p>\n\n<p>If your compiler generates different code for the two constructs, first check whether the differing code sequences actually have different performance. If they do, try compiling again with an optimization option (if available). If they still differ, submit a bug report to the compiler vendor. It's not (necessarily) a bug in the sense of a failure to conform to the C standard, but it's almost certainly a problem that should be corrected.</p>\n\n<p>Bottom line: <code>while (1)</code> and <code>while(2)</code> <em>almost</em> certainly have the same performance. They have exactly the same semantics, and there's no good reason for any compiler not to generate identical code.</p>\n\n<p>And though it's perfectly legal for a compiler to generate faster code for <code>while(1)</code> than for <code>while(2)</code>, it's equally legal for a compiler to generate faster code for <code>while(1)</code> than for another occurrence of <code>while(1)</code> in the same program.</p>\n\n<p>(There's another question implicit in the one you asked: How do you deal with an interviewer who insists on an incorrect technical point. That would probably be a good question for <a href=\"http://workplace.stackexchange.com/\">the Workplace site</a>).</p>\n", "title": "Which is faster: while(1) or while(2)?", "answer_id": 24856267, "question_id": 24848359, "tags": ["c", "performance", "while-loop"]}, {"body": "<p>They are both equal - the same.</p>\n\n<p>According to the specifications anything that is not 0 is considered true, so even without any optimization, and a good compiler will not generate any code \nfor while(1) or while(2). The compiler would generate a simple check for <code>!= 0</code>.</p>\n", "title": "Which is faster: while(1) or while(2)?", "answer_id": 24865536, "question_id": 24848359, "tags": ["c", "performance", "while-loop"]}, {"body": "<p>The most likely explanation for the question is that the interviewer thinks that the processor checks the individual bits of the numbers, one by one, until it hits a non-zero value:</p>\n\n<pre><code>1 = 00000001\n2 = 00000010\n</code></pre>\n\n<p>If the \"is zero?\" algorithm starts from the right side of the number and has to check each bit  until it reaches a non-zero bit, the <code>while(1) { }</code> loop would have to check twice as many bits per iteration as the <code>while(2) { }</code> loop.</p>\n\n<p>This requires a very wrong mental model of how computers work, but it does have its own internal logic. One way to check would be to ask if <code>while(-1) { }</code> or <code>while(3) { }</code> would be equally fast, or if <code>while(32) { }</code> would be  <em>even slower</em>.</p>\n", "title": "Which is faster: while(1) or while(2)?", "answer_id": 24867914, "question_id": 24848359, "tags": ["c", "performance", "while-loop"]}, {"body": "<p>Of course I do not know the real intentions of this manager, but I propose a completely different view: When hiring a new member into a team, it is useful to know how he reacts to conflict situations.</p>\n\n<p>They drove you into conflict. If this is true, they are clever and the question was good. For some industries, like banking, posting your problem to Stack&nbsp;Overflow could be a reason for rejection.</p>\n\n<p>But of course I do not know, I just propose one option.</p>\n", "title": "Which is faster: while(1) or while(2)?", "answer_id": 24878319, "question_id": 24848359, "tags": ["c", "performance", "while-loop"]}, {"body": "<p>Yes, <code>while(1)</code> is much faster than <code>while(2)</code>, <em>for a human to read!</em> If I see <code>while(1)</code> in an unfamiliar codebase, I immediately know what the author intended, and my eyeballs can continue to the next line.</p>\n\n<p>If I see <code>while(2)</code>, I'll probably halt in my tracks and try to figure out why the author didn't write <code>while(1)</code>. Did the author's finger slip on the keyboard? Do the maintainers of this codebase use <code>while(n)</code> as an obscure commenting mechanism to make loops look different? Is it a crude workaround for a spurious warning in some broken static analysis tool? Or is this a clue that I'm reading generated code? Is it a bug resulting from an ill-advised find-and-replace-all, or a bad merge, or a cosmic ray? Maybe this line of code is supposed to do something dramatically different. Maybe it was supposed to read <code>while(w)</code> or <code>while(x2)</code>. I'd better find the author in the file's history and send them a \"WTF\" email... and now I've broken my mental context. The <code>while(2)</code> might consume several minutes of my time, when <code>while(1)</code> would have taken a fraction of a second!</p>\n\n<p>I'm exaggerating, but only a little. Code readability is really important. And that's worth mentioning in an interview!</p>\n", "title": "Which is faster: while(1) or while(2)?", "answer_id": 24879856, "question_id": 24848359, "tags": ["c", "performance", "while-loop"]}, {"body": "<p>The only reason I can think of why the <code>while(2)</code> would be any slower is:</p>\n\n<ol>\n<li><p>The code optimizes the loop to  </p>\n\n<p><code>cmp eax, 2</code></p></li>\n<li><p>When the subtract occurs you're essentially subtracting</p>\n\n<p>a. <code>00000000 - 00000010  cmp eax, 2</code></p>\n\n<p>instead of </p>\n\n<p>b. <code>00000000 - 00000001 cmp eax, 1</code></p></li>\n</ol>\n\n<p><code>cmp</code> only sets flags and does not set a result. So on the least significant bits we know if we need to borrow or not with <strong>b</strong>. Whereas with <strong>a</strong> you have to perform two subtractions before you get a borrow.</p>\n", "title": "Which is faster: while(1) or while(2)?", "answer_id": 24897517, "question_id": 24848359, "tags": ["c", "performance", "while-loop"]}, {"body": "<p>I think the clue is to be found in \"asked by a senior manager\". This person obviously stopped programming when he became a manager and then it took him/her several years to become a senior manager. Never lost interest in programming, but never wrote a line since those days. So his reference is not \"any decent compiler out there\" as some answers mention, but \"the compiler this person worked with 20-30 years ago\". </p>\n\n<p>At that time, programmers spent a considerable percentage of their time trying out various methods for making their code faster and more efficient as CPU time of 'the central minicomputer' was so valueable. As did people writing compilers. I'm guessing that the one-and-only compiler his company made available at that time optimized on the basis of 'frequently encountered statements that can be optimized' and took a bit of a shortcut when encountering a while(1) and evaluated everything else, including a while(2). Having had such an experience could explain his position and his confidence in it. </p>\n\n<p>The best approach to get you hired is probably one that enables the senior manager to get carried away and lecture you 2-3 minutes on \"the good old days of programming\" before YOU <strong>smoothly</strong> lead him towards the next interview subject. (Good timing is important here - too fast and you're interrupting the story - too slow and you are labelled as somebody with insufficient focus). Do tell him at the end of the interview that you'd be highly interested to learn more about this topic. </p>\n", "title": "Which is faster: while(1) or while(2)?", "answer_id": 24898962, "question_id": 24848359, "tags": ["c", "performance", "while-loop"]}, {"body": "<p>Another take on such a question would be to see if you got courage to tell your manager that he/she is wrong! And how softly you can communicate it. </p>\n\n<p>My first instinct would have been to generate assembly output to show the manager that any decent compiler should take care of it, and if it's not doing so, you will submit the next patch for it :)</p>\n", "title": "Which is faster: while(1) or while(2)?", "answer_id": 24900330, "question_id": 24848359, "tags": ["c", "performance", "while-loop"]}, {"body": "<p>That depends on the compiler.</p>\n\n<p>If it optimizes the code, or if it evaluates 1 and 2 to true with the same number of instructions for a particular instruction set, the execution speed will be the same.</p>\n\n<p>In real cases it will always be equally fast, but it would be possible to imagine a particular compiler and a particular system when this would be evaluated differently.</p>\n\n<p>I mean: this is not really a language (C) related question.</p>\n", "title": "Which is faster: while(1) or while(2)?", "answer_id": 24903632, "question_id": 24848359, "tags": ["c", "performance", "while-loop"]}, {"body": "<p>To see so many people delve into this problem, shows exactly why this could very well be a test to see how quickly you want to <strong>micro-optimize</strong> things.</p>\n\n<p>My answer would be; it doesn't matter that much, I rather focus on the business problem which we are solving. After all, that's what I'm going to be paid for.</p>\n\n<p>Moreover, I would opt for <code>while(1) {}</code> because it is more common, and other teammates would not need to spend time to figure out why someone would go for a higher number than 1.</p>\n\n<p>Now go write some code. ;-)</p>\n", "title": "Which is faster: while(1) or while(2)?", "answer_id": 24904470, "question_id": 24848359, "tags": ["c", "performance", "while-loop"]}, {"body": "<p>For the sake of this question, I should that add I remember Doug Gwyn from C Committee writing that some early C compilers without the optimizer pass would generate a test in assembly for the <code>while(1)</code> (comparing to <code>for(;;)</code> which wouldn't have it).</p>\n\n<p>I would answer to the interviewer by giving this historical note and then say that even if I would be very surprised any compiler did this, a compiler could have:</p>\n\n<ul>\n<li>without optimizer pass the compiler generate a test for both <code>while(1)</code> and <code>while(2)</code></li>\n<li>with optimizer pass the compiler is instructed to optimize (with an unconditional jump) all <code>while(1)</code> because they are considered as idiomatic. This would leave the <code>while(2)</code> with a test and therefore makes a performance difference between the two.</li>\n</ul>\n\n<p>I would of course add to the interviewer that not considering <code>while(1)</code> and <code>while(2)</code> the same construct is a sign of low-quality optimization as these are equivalent constructs.</p>\n", "title": "Which is faster: while(1) or while(2)?", "answer_id": 24908726, "question_id": 24848359, "tags": ["c", "performance", "while-loop"]}, {"body": "<p>Wait a minute. The interviewer, did he look like this guy?</p>\n\n<p><a href=\"http://dilbert.com/strips/comic/2014-07-24/\"><img src=\"http://i.stack.imgur.com/L6P1H.png\" alt=\"enter image description here\"></a></p>\n\n<p>It's bad enough that <em>the interviewer himself has failed</em> this interview,\nwhat if other programmers at this company have \"passed\" this test?</p>\n\n<p>No. Evaluating the statements <code>1 == 0</code> and <code>2 == 0</code> <em>should be</em> equally fast. We <em>could imagine</em> poor compiler implementations where one might be faster than the other. But there's no <em>good</em> reason why one should be faster than the other.</p>\n\n<p>Even if there's some obscure circumstance when the claim would be true, programmers should not be evaluated based on knowledge of obscure (and in this case, creepy) trivia. Don't worry about this interview, the best move here is to walk away.</p>\n\n<p><strong><em>Disclaimer:</strong> This is NOT an original Dilbert cartoon. This is merely a <a href=\"http://dilbert.com/mashups/\">mashup</a>.</em></p>\n", "title": "Which is faster: while(1) or while(2)?", "answer_id": 24941386, "question_id": 24848359, "tags": ["c", "performance", "while-loop"]}, {"body": "<p>Judging by the amount of time and effort people have spent testing, proving, and answering this very straight forward question Id say that both were made very slow by asking the question.</p>\n\n<p>And so to spend even more time on it ...</p>\n\n<p>\"while (2)\" is ridiculous, because,</p>\n\n<p>\"while (1)\", and \"while (true)\" are historically used to make an infinite loop which expects \"break\" to be called at some stage inside the loop based upon a condition that will certainly occur. </p>\n\n<p>The \"1\" is simply there to always evaluate to true and therefore, to say \"while (2)\" is about as silly as saying \"while (1 + 1 == 2)\" which will also evaluate to true.</p>\n\n<p>And if you want to be completely silly just use: -</p>\n\n<pre><code>while (1 + 5 - 2 - (1 * 3) == 0.5 - 4 + ((9 * 2) / 4)) {\n    if (succeed())\n        break;\n}\n</code></pre>\n\n<p>Id like to think your coder made a typo which did not effect the running of the code, but if he intentionally used the \"2\" just to be weird then sack him before he puts weird sh!t all through your code making it difficult to read and work with.</p>\n", "title": "Which is faster: while(1) or while(2)?", "answer_id": 24948208, "question_id": 24848359, "tags": ["c", "performance", "while-loop"]}, {"body": "<p>I used to program C and Assembly code back when this sort of nonsense might have made a difference.  When it did make a difference we wrote it in Assembly.</p>\n\n<p>If I were asked that question I would have repeated Donald Knuth's famous 1974 quote about premature optimization and walked if the interviewer didn't laugh and move on.</p>\n", "title": "Which is faster: while(1) or while(2)?", "answer_id": 24975872, "question_id": 24848359, "tags": ["c", "performance", "while-loop"]}, {"body": "<p>It seems to me this is one of those behavioral interview questions masked as a technical question.  Some companies do this - they will ask a technical question that should be fairly easy for any competent programmer to answer, but when the interviewee gives the correct answer, the interviewer will tell them they are wrong.</p>\n\n<p>The company wants to see how you will react in this situation.  Do you sit there quietly and don't push that your answer is correct, due to either self-doubt or fear of upsetting the interviewer?  Or are you willing to challenge a person in authority who you know is wrong?  They want to see if you are willing to stand up for your convictions, and if you can do it in a tactful and respectful manner.</p>\n", "title": "Which is faster: while(1) or while(2)?", "answer_id": 24983614, "question_id": 24848359, "tags": ["c", "performance", "while-loop"]}, {"body": "<p>Maybe the interviewer posed such dumb question intentionally and wanted you to make 3 points:</p>\n\n<ol>\n<li><strong>Basic reasoning.</strong> Both loops are infinite, it's hard to talk about performance.</li>\n<li><strong>Knowledge about optimisation levels.</strong> He wanted to hear from you if you let the compiler do any optimisation for you, it would optimise the condition, especially if the block was not empty.</li>\n<li><strong>Knowledge about microprocessor architecture.</strong> Most architectures have a special CPU instruction for comparision with 0 (while not necessarily faster). </li>\n</ol>\n", "title": "Which is faster: while(1) or while(2)?", "answer_id": 25908268, "question_id": 24848359, "tags": ["c", "performance", "while-loop"]}, {"body": "<p>If you're that worried about optimisation, you should use</p>\n\n<pre><code>for (;;)\n</code></pre>\n\n<p>because that has no tests. (cynic mode)</p>\n", "title": "Which is faster: while(1) or while(2)?", "answer_id": 36336552, "question_id": 24848359, "tags": ["c", "performance", "while-loop"]}], "question_id": 24848359}, {"body": "<p>Will Swift-based applications work on <a href=\"http://en.wikipedia.org/wiki/OS_X_Mavericks\">OS X 10.9</a> (Mavericks)/iOS&nbsp;7 and lower?</p>\n\n<p>For example, I have a machine running <a href=\"http://en.wikipedia.org/wiki/OS_X_Mountain_Lion\">OS X 10.8</a> (Mountain Lion), and I am wondering if an application I write in Swift will run on it.</p>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "tags": ["ios", "osx", "swift"], "answer_count": 18, "link": "http://stackoverflow.com/questions/24001778/do-swift-based-applications-work-on-os-x-10-9-ios-7-and-lower", "answers": [{"body": "<p>Swift uses the same runtime as <a href=\"http://en.wikipedia.org/wiki/Objective-C\">Objective-C</a> and can even live side-by-side Objective-C in the same application (as per the WWDC 2014 keynote).</p>\n\n<p>This will need to be checked/verified using <a href=\"http://en.wikipedia.org/wiki/Xcode\">Xcode</a> 6 and the new SDK to find a final answer.</p>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "answer_id": 24001974, "question_id": 24001778, "tags": ["ios", "osx", "swift"]}, {"body": "<p>I just tested it for you, Swift applications compile into standard binaries and can be run on OS X 10.9 and iOS 7.</p>\n\n<hr>\n\n<p>Simple Swift application used for testing:</p>\n\n<pre><code>func application(application: UIApplication, didFinishLaunchingWithOptions launchOptions: NSDictionary?) -&gt; Bool {\n    self.window = UIWindow(frame: UIScreen.mainScreen().bounds)\n\n    var controller = UIViewController()\n    var view = UIView(frame: CGRectMake(0, 0, 320, 568))\n    view.backgroundColor = UIColor.redColor()\n    controller.view = view\n\n    var label = UILabel(frame: CGRectMake(0, 0, 200, 21))\n    label.center = CGPointMake(160, 284)\n    label.textAlignment = NSTextAlignment.Center\n    label.text = \"I'am a test label\"\n    controller.view.addSubview(label)\n\n    self.window!.rootViewController = controller\n    self.window!.makeKeyAndVisible()\n    return true\n}\n</code></pre>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "answer_id": 24002461, "question_id": 24001778, "tags": ["ios", "osx", "swift"]}, {"body": "<p>Apple has announced that Swift apps will be backward compatible with iOS 7 and OS X Mavericks. The WWDC app is written in Swift.</p>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "answer_id": 24005168, "question_id": 24001778, "tags": ["ios", "osx", "swift"]}, {"body": "<p>Swift code can be deployed to OS X 10.9 and iOS 7.0. It will usually crash at launch on older OS versions.</p>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "answer_id": 24010399, "question_id": 24001778, "tags": ["ios", "osx", "swift"]}, {"body": "<p>While code confirms it, Apple itself has said that Swift will be compatible on iOS 7 and Mavericks in their technical keynote (<em>State of the platforms</em>, session 102, around the 34&nbsp;min 00&nbsp;sec mark) at <a href=\"https://en.wikipedia.org/wiki/Apple_Worldwide_Developers_Conference#2010s\">WWDC 2014</a>.</p>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "answer_id": 24024111, "question_id": 24001778, "tags": ["ios", "osx", "swift"]}, {"body": "<p>I read all answers that said: No, Swift does not work with less than iOS&nbsp;7. But I said <strong>YES</strong>, I just created a Swift project that does run in Xcode&nbsp;5 with 6.0 deployment target.</p>\n\n<ul>\n<li>I just create a demo project in <strong>Xcode&nbsp;6 BETA</strong> with the Swift programming language selected.</li>\n<li>Close Xcode&nbsp;6 beta, and I open this demo project in Xcode&nbsp;5 with deployment target 6.0</li>\n<li>And also select simulator 6.1.</li>\n</ul>\n\n<p>Then that project runs well in simulator 6.1. My Mac&nbsp;OS&nbsp;X is 10.9.3, so I said yes, that runs in lower than <strong>iOS&nbsp;7. with 10.9.3 Mac&nbsp;OS&nbsp;X</strong>.</p>\n\n<p>Here it is a screenshot of the simulator:</p>\n\n<p><img src=\"http://i.stack.imgur.com/jRymf.png\" alt=\"Enter image description here\"></p>\n\n<p><strong>Here is a demo as well</strong>: <a href=\"http://www.filedropper.com/demo_5\">http://www.filedropper.com/demo_5</a></p>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "answer_id": 24038727, "question_id": 24001778, "tags": ["ios", "osx", "swift"]}, {"body": "<h3>Update - As per  Xcode 6 Beta 4</h3>\n\n<blockquote>\n  <h3>iOS 7 and OS X 10.9 minimum deployment target</h3>\n  \n  <p>The Swift compiler and Xcode now enforce a minimum deployment target of iOS 7 or OS X \n  Mavericks. Setting an earlier deployment target results in a build failure.  </p>\n</blockquote>\n\n<p><a href=\"http://adcdownload.apple.com//Developer_Tools/xcode_6_beta_4_o2p8fz/xcode_6_beta_4_release_notes.pdf\">From Xcode 6 release note</a>  </p>\n\n<p><strong>So my previous answer(Shown below) will not be applicable to any further development. Swift will no longer available for iOS6 and below</strong> </p>\n\n<hr>\n\n<p>A Swift application can be run on iOS&nbsp;6. Even though many people are saying that Swift will support only iOS 7+ and OS&nbsp;X 10.9+, from my experience it's not.</p>\n\n<p><strong><em>I have tested a simple application written completely in Swift in an iOS&nbsp;6 device. It works perfectly fine</em></strong>. As Apple says, Swift code is binary compatible with Objective-C code. It uses the same compiler and runtime to create the binary.</p>\n\n<p>Here is the code I have tested:</p>\n\n<pre><code>import UIKit\n\nclass ViewController: UIViewController {\n\n    override func viewDidLoad() {\n\n        super.viewDidLoad()\n\n        let button   = UIButton.buttonWithType(UIButtonType.System) as UIButton\n        button.frame = CGRectMake(100, 100, 100, 50)\n        button.backgroundColor = UIColor.greenColor()\n        button.setTitle(\"Test Button\", forState: UIControlState.Normal)\n        button.addTarget(self, action: \"buttonTapped:\", forControlEvents: UIControlEvents.TouchUpInside)\n\n        self.view.addSubview(button)\n    }\n\n    func buttonTapped(sender: UIButton!) {\n        println(\"buttonTapped\")\n    }\n}\n</code></pre>\n\n<p>It is a simple application, just adding a button programmatically. My application contains only two files, <code>AppDelegate.swift</code> and <code>ViewController.swift</code>.</p>\n\n<p>So if you are not using any new APIs added as part of the iOS&nbsp;8 SDK or some Swift specific APIs (corresponding API is not available for Objective-C) your application will seamlessly work on iOS&nbsp;6 or later (tested and working), even on iOS&nbsp;5 (not tested). Most of the APIs in Swift are just the replacement of the existing Objective-C APIs. In fact they are the same in binary.  </p>\n\n<p><strong><em>Note: As per Xcode 6 beta 4 for swift apps deployment target should be iOS 7 or OS X 10.9(see the above update). So swift will no longer available for iOS6 and below</em></strong>  </p>\n\n<hr>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "answer_id": 24038997, "question_id": 24001778, "tags": ["ios", "osx", "swift"]}, {"body": "<p>Try the following code:</p>\n\n<p>It's working without StoryBoard:</p>\n\n<pre><code>func application(application: UIApplication, didFinishLaunchingWithOptions launchOptions: NSDictionary?) -&gt; Bool {\n    self.window = UIWindow(frame: UIScreen.mainScreen().bounds)\n    self.window!.backgroundColor = UIColor.whiteColor()\n\n    // Create a nav/vc pair using the custom ViewController class\n\n    let nav = UINavigationController()\n    let vc = ViewController(nibName: \"ViewController\", bundle: nil)\n\n    // Push the vc onto the nav\n    nav.pushViewController(vc, animated: false)\n\n    // Set the window\u2019s root view controller\n    self.window!.rootViewController = nav\n\n    // Present the window\n    self.window!.makeKeyAndVisible()\n    return true\n}\n</code></pre>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "answer_id": 24040184, "question_id": 24001778, "tags": ["ios", "osx", "swift"]}, {"body": "<p>It appears Swift applications <strong>don't</strong> run on <strong>OS X 10.7</strong>. I just created a simple GUI application (a view, a lable, a button) which runs fine on Mavericks. The base SDK is set to 10.9 and the deployment target to 10.7. I copied that application from the DerivedData folder over to my 10.7 virtual machine, and it crashs when starting, show this error:</p>\n\n<pre><code>Crashed Thread:  0\n\nException Type:  EXC_BREAKPOINT (SIGTRAP)\nException Codes: 0x0000000000000002, 0x0000000000000000\n\nApplication Specific Information:\ndyld: launch, loading dependent libraries\n\n    Dyld Error Message:\n\n  Library not loaded: /System/Library/Frameworks/CoreGraphics.framework/Versions/A/CoreGraphics\n  Referenced from: /Users/USER/Desktop/Swift-Test.app/Contents/MacOS/../Frameworks/libswiftAppKit.dylib\n  Reason: image not found\n\nBinary Images:\n       0x109c65000 -        0x109c6afff +private.Swift-Test (1.0 - 1) &lt;649695D0-58FD-3D02-9176-2D40D4E711F2&gt; /Users/USER/Desktop/Swift-Test.app/Contents/MacOS/Swift-Test\n       0x109c83000 -        0x109dbffff +libswift_stdlib_core.dylib (1.0 - 600.0.34.4.5) &lt;10AAC369-9404-321D-A892-49F65856D7AF&gt; /Users/USER/Desktop/Swift-Test.app/Contents/Frameworks/libswift_stdlib_core.dylib\n...\n</code></pre>\n\n<p>However this message is irritating, since there's certainly a CoreGraphics library in this VM. Other applications that make heavy use of CoreGraphics work just fine.</p>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "answer_id": 24118124, "question_id": 24001778, "tags": ["ios", "osx", "swift"]}, {"body": "<p>I tested running a bare-bone, Swift-based app on an iPod Touch (3rd gen) device. It appears Swift-based apps <strong>don't</strong> work with iOS 5.x but <strong>do</strong> work with iOS 6.x.</p>\n\n<p>Here's what shows up in the debug log when I tried to launch the test app with iOS 5.0.1:</p>\n\n<pre><code>dyld: F_ADDFILESIGS failed for /private/var/mobile/Applications/59E31E79-9525-43B0-9DF6-8FEF3C0080F1/SwiftTestApp.app/Frameworks/libswift_stdlib_core.dylib with errno=1\ndyld: F_ADDFILESIGS failed for /private/var/mobile/Applications/59E31E79-9525-43B0-9DF6-8FEF3C0080F1/SwiftTestApp.app/Frameworks/libswiftCoreGraphics.dylib with errno=1\ndyld: F_ADDFILESIGS failed for /private/var/mobile/Applications/59E31E79-9525-43B0-9DF6-8FEF3C0080F1/SwiftTestApp.app/Frameworks/libswiftDarwin.dylib with errno=1\ndyld: F_ADDFILESIGS failed for /private/var/mobile/Applications/59E31E79-9525-43B0-9DF6-8FEF3C0080F1/SwiftTestApp.app/Frameworks/libswiftDispatch.dylib with errno=1\ndyld: F_ADDFILESIGS failed for /private/var/mobile/Applications/59E31E79-9525-43B0-9DF6-8FEF3C0080F1/SwiftTestApp.app/Frameworks/libswiftFoundation.dylib with errno=1\ndyld: F_ADDFILESIGS failed for /private/var/mobile/Applications/59E31E79-9525-43B0-9DF6-8FEF3C0080F1/SwiftTestApp.app/Frameworks/libswiftObjectiveC.dylib with errno=1\ndyld: F_ADDFILESIGS failed for /private/var/mobile/Applications/59E31E79-9525-43B0-9DF6-8FEF3C0080F1/SwiftTestApp.app/Frameworks/libswiftUIKit.dylib with errno=1\ndyld: Symbol not found: _OBJC_CLASS_$_NSObject\n  Referenced from: /private/var/mobile/Applications/59E31E79-9525-43B0-9DF6-8FEF3C0080F1/SwiftTestApp.app/Frameworks/libswift_stdlib_core.dylib\n  Expected in: /usr/lib/libobjc.A.dylib\n in /private/var/mobile/Applications/59E31E79-9525-43B0-9DF6-8FEF3C0080F1/SwiftTestApp.app/Frameworks/libswift_stdlib_core.dylib\n</code></pre>\n\n<p>For iOS 6.1.6, the app runs fine without displaying those error messages.</p>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "answer_id": 24129563, "question_id": 24001778, "tags": ["ios", "osx", "swift"]}, {"body": "<p>I also tried a very simple app on 10.8 (one button, sets text on a label).  It crashed at startup, as Greg Parker stated:</p>\n\n<pre><code>Dyld Error Message:\n  Symbol not found: __dispatch_source_type_memorypressure\n  Referenced from: /Volumes/*/SwifTest.app/Contents/MacOS/../Frameworks/libswiftDispatch.dylib\n  Expected in: /usr/lib/libSystem.B.dylib\nin /Volumes/*/SwifTest.app/Contents/MacOS/../Frameworks/libswiftDispatch.dylib\n</code></pre>\n\n<p>(This was using a deployment target of 10.7)</p>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "answer_id": 24129850, "question_id": 24001778, "tags": ["ios", "osx", "swift"]}, {"body": "<p>Swift applications are supported on <strong>iOS 7 and above</strong> as stated in Beta 4 release notes. <strike>iOS 6.0, 6.1, 7.0, 7.1, 8.0 in Xcode 6 Beta</strike></p>\n\n<p>Swift applications are supported on platforms <strong>OS X 10.9 and above</strong>. <strike>OS X 10.4 to 10.10 in Deployment Target. I have tested on targeting 10.5 to 10.10, and running on 10.9.3</strike></p>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "answer_id": 24292164, "question_id": 24001778, "tags": ["ios", "osx", "swift"]}, {"body": "<p>This is the post I read from apple Swift blog, might be helpful:</p>\n\n<h2><strong>App Compatibility</strong>:</h2>\n\n<p>If you write a Swift app you can trust that your app will work well into the future. In fact, you can target back to <strong><em>OS X Mavericks or iOS 7</em></strong> with that same app. This is possible because Xcode embeds a small Swift runtime library within your app's bundle. Because the library is embedded, your app uses a consistent version of Swift that runs on past, present, and future OS releases.</p>\n\n<h2>Binary Compatibility and Frameworks:</h2>\n\n<p>While your app's runtime compatibility is ensured, the Swift language itself will continue to evolve, and the binary interface will also change. To be safe, all components of your app should be built with the same version of Xcode and the Swift compiler to ensure that they work together.</p>\n\n<p>This means that frameworks need to be managed carefully. For instance, if your project uses frameworks to share code with an embedded extension, you will want to build the frameworks, app, and extensions together. It would be dangerous to rely upon binary frameworks that use Swift \u2014 especially from third parties. As Swift changes, those frameworks will be incompatible with the rest of your app. When the binary interface stabilizes in a year or two, the Swift runtime will become part of the host OS and this limitation will no longer exist.</p>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "answer_id": 24824608, "question_id": 24001778, "tags": ["ios", "osx", "swift"]}, {"body": "<h2>In brief:</h2>\n\n<p>Swift based applications can target back to <strong>OS X Mavericks</strong> or <strong>iOS 7</strong> with that same app.</p>\n\n<h2>How is it possible ?</h2>\n\n<p>Xcode embeds a <strong>small Swift runtime library within your app\u2019s bundle</strong>. Because the library is embedded, your app uses a consistent version of Swift that runs on past, present, and future OS releases.</p>\n\n<h2>Why should I trust this answer ?</h2>\n\n<p>Because I am not saying this answer as one apple guy told me in twitter or I wrote hello world and tested it.</p>\n\n<p>I took it from <a href=\"https://developer.apple.com/swift/blog/?id=2\">apple developer blog</a>.</p>\n\n<p>so you can trust this.</p>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "answer_id": 26408879, "question_id": 24001778, "tags": ["ios", "osx", "swift"]}, {"body": "<p>There seems to be a lot of old answers here so I just wanted to post the official response from the Swift team. Swift is backwards compatible with OS X Mavericks and iOS 7</p>\n\n<p><a href=\"https://developer.apple.com/swift/blog/\">https://developer.apple.com/swift/blog/</a></p>\n\n<p>Jul 11, 2014</p>\n\n<p>Compatibility</p>\n\n<p>One of the most common questions we heard at WWDC was, \u201cWhat is the compatibility story for Swift?\u201d. This seems like a great first topic.</p>\n\n<p>App Compatibility\nSimply put, if you write a Swift app today and submit it to the App Store this Fall when iOS 8 and OS X Yosemite are released, you can trust that your app will work well into the future. <strong>In fact, you can target back to OS X Mavericks or iOS 7 with that same app.</strong> This is possible because Xcode embeds a small Swift runtime library within your app\u2019s bundle. Because the library is embedded, your app uses a consistent version of Swift that runs on past, present, and future OS releases.</p>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "answer_id": 26554274, "question_id": 24001778, "tags": ["ios", "osx", "swift"]}, {"body": "<p>When it comes to Swift Frameworks.\nAs for today, with Xcode version 6.1.1 (6A2008a), if the Swift framework is targeted to iOS 7.1, linker report warning</p>\n\n<pre><code>ld: warning: embedded dylibs/frameworks only run on iOS 8 or later.\n</code></pre>\n\n<p>and application can't be submitted to AppStore. Check this issue <a href=\"https://github.com/CocoaPods/CocoaPods/issues/3193\">https://github.com/CocoaPods/CocoaPods/issues/3193</a></p>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "answer_id": 28740912, "question_id": 24001778, "tags": ["ios", "osx", "swift"]}, {"body": "<p>Yes, in fact Apple has announced that Swift apps will be backward compatible with iOS 7 and OS X Mavericks. Furthermore the WWDC app is written in the Swift programming language.</p>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "answer_id": 29122035, "question_id": 24001778, "tags": ["ios", "osx", "swift"]}, {"body": "<p>Quick Update, effective from <strong>February 15th, 2015</strong>, we cannot submit apps to the store that were developed using an <strong>SDK prior to iOS 8</strong>. So, keeping that in mind , its better to not to worry about this issue as many people have suggested that apps made in Swift can be deployed to <strong>OS X 10.9 and iOS 7.0</strong> as well.</p>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "answer_id": 29582061, "question_id": 24001778, "tags": ["ios", "osx", "swift"]}], "question_id": 24001778}, {"body": "<p>A few months ago I tattooed a <a href=\"http://en.wikipedia.org/wiki/Fork_bomb\" rel=\"nofollow\">fork bomb</a> on my arm, and I skipped the whitespaces, because I think it looks nicer without them. But to my dismay, <strong>sometimes</strong> (not always) when I run it in a shell it doesn't start a fork bomb, but it just gives a syntax error. </p>\n\n<pre><code>bash: syntax error near unexpected token `{:'\n</code></pre>\n\n<p>Yesterday it happened when I tried to run it in a friend's <a href=\"http://en.wikipedia.org/wiki/Bash_%28Unix_shell%29\" rel=\"nofollow\">Bash</a> shell, and then I added the whitespace and it suddenly worked, <code>:(){ :|:&amp; };:</code> instead of <code>:(){:|:&amp;};:</code></p>\n\n<p>Does the whitespace matter; have I tattooed a syntax error on my arm?!</p>\n\n<p>It seems to always work in <a href=\"http://en.wikipedia.org/wiki/Z_shell\" rel=\"nofollow\">zsh</a>, but not in Bash.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/991142/how-does-this-bash-fork-bomb-work\">A related question</a> does not explain anything about the whitespaces, which really is my question; <strong>Why is the whitespace needed for Bash to be able to parse it correctly?</strong></p>\n", "title": "Why is whitespace sometimes needed around metacharacters?", "tags": ["bash", "shell", "syntax-error"], "answer_count": 5, "link": "http://stackoverflow.com/questions/21186724/why-is-whitespace-sometimes-needed-around-metacharacters", "answers": [{"body": "<p>Braces are more like odd keywords than special symbols, and do need spaces. This is different to parentheses, for example. Compare:</p>\n\n<pre><code>(ls)\n</code></pre>\n\n<p>which works, and:</p>\n\n<pre><code>{ls}\n</code></pre>\n\n<p>which looks for a command named <code>{ls}</code>. To work, it has to be:</p>\n\n<pre><code>{ ls; }\n</code></pre>\n\n<p>The semicolon stops the closing brace being taken as a parameter to <code>ls</code>.</p>\n\n<p>All you have to do is tell people that you are using a proportional-font with a rather narrow space character.</p>\n", "title": "Why is whitespace sometimes needed around metacharacters?", "answer_id": 21186844, "question_id": 21186724, "tags": ["bash", "shell", "syntax-error"]}, {"body": "<blockquote>\n  <p>and then I added the whitespace and it suddenly worked ...</p>\n</blockquote>\n\n<p>It's because of how the shell parses.  You need a space after the function definition begins, i.e. after the <code>{</code>.</p>\n\n<pre><code>foo() { echo hey&amp; }\nfoo() { echo hey&amp;}\nfoo(){ echo hey&amp;}\n</code></pre>\n\n<p>are valid.  On the other hand,</p>\n\n<pre><code>foo() {echo hey&amp;}\n</code></pre>\n\n<p>isn't.</p>\n\n<hr>\n\n<p>You actually need a tatoo like this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/w2Dmj.png\" alt=\"enter image description here\"></p>\n\n<hr>\n\n<p>From the <a href=\"http://git.savannah.gnu.org/cgit/bash.git/tree/braces.c\">source</a>:</p>\n\n<pre><code>  /* We ignore an open brace surrounded by whitespace, and also\n     an open brace followed immediately by a close brace preceded\n     by whitespace.  */\n</code></pre>\n\n<p>Omitting a space after the <code>{</code> causes the <code>{echo</code> to be interpreted as a single token.</p>\n\n<hr>\n\n<p>An equivalent form of</p>\n\n<pre><code>:(){ :|:&amp; };:\n</code></pre>\n\n<p>would be</p>\n\n<pre><code>:(){\n:|:&amp; };:\n</code></pre>\n\n<p>Note that there is no space after <code>{</code> in the alternate version, but a line-break causes the shell to recognize <code>{</code> as a token.</p>\n", "title": "Why is whitespace sometimes needed around metacharacters?", "answer_id": 21186898, "question_id": 21186724, "tags": ["bash", "shell", "syntax-error"]}, {"body": "<p>There is a list of characters that separate tokens in BASH. These characters are called <em>metacharacters</em> and they are <code>|</code>, <code>&amp;</code>, <code>;</code>, <code>(</code>, <code>)</code>, <code>&lt;</code>, <code>&gt;</code>, <strong>space</strong> and <strong>tab</strong>. On the other hand, curly braces (<code>{</code> and <code>}</code>) are just ordinary characters that make up words.</p>\n\n<p>Omitting the second space before <code>}</code> will do, since <code>&amp;</code> is a metacharacter. Therefore, your tattoo should have at least one space character.</p>\n\n<pre><code>:(){ :|:&amp;};:\n</code></pre>\n", "title": "Why is whitespace sometimes needed around metacharacters?", "answer_id": 21187095, "question_id": 21186724, "tags": ["bash", "shell", "syntax-error"]}, {"body": "<p>Although not easily visible in the tatoo font, there's actually a Byte-Order Mark (BOM) between the brace and the colon (you may have been sufficiently intoxicated when you got the tatoo that you didn't notice it, but it's really there). This leaves three obvious possibilities:</p>\n\n<ol>\n<li>You've failed to type in the BOM when you transcribed the code. The result is an obvious application of GIGO. The shell simply doesn't recognize a BOM that isn't present in your failed transcription.</li>\n<li>Your shell is too old. It doesn't recognize Unicode characters, so the BOM (and probably all other Unicode characters) is being ignored completely, even though a BOM anywhere but the beginning of a file is supposed to be treated as a zero-width, non-breaking space.</li>\n<li>Your shell is too new. Use of a BOM as a ZWNBS is deprecated, and the authors have implemented a future version of Unicode in which this usage is no longer allowed.</li>\n</ol>\n", "title": "Why is whitespace sometimes needed around metacharacters?", "answer_id": 21273884, "question_id": 21186724, "tags": ["bash", "shell", "syntax-error"]}, {"body": "<p>Just tattoo a</p>\n\n<pre><code>#!/bin/zsh\n</code></pre>\n\n<p>shebang above it and you'll be fine.</p>\n", "title": "Why is whitespace sometimes needed around metacharacters?", "answer_id": 21431106, "question_id": 21186724, "tags": ["bash", "shell", "syntax-error"]}], "question_id": 21186724}, {"body": "<p>In Dockerfiles there are two commands that look similar to me: <code>CMD</code> and <code>ENTRYPOINT</code>. But I guess that there is a (subtle?) difference between them - otherwise it would not make any sense to have two commands for the very same thing.</p>\n\n<p>The documentation states for <code>CMD</code></p>\n\n<blockquote>\n  <p>The main purpose of a CMD is to provide defaults for an executing container.</p>\n</blockquote>\n\n<p>and for <code>ENTRYPOINT</code>:</p>\n\n<blockquote>\n  <p>An ENTRYPOINT helps you to configure a container that you can run as an executable.</p>\n</blockquote>\n\n<p>So, what's the difference between those two commands?</p>\n", "title": "What is the difference between CMD and ENTRYPOINT in a Dockerfile?", "tags": ["docker"], "answer_count": 7, "link": "http://stackoverflow.com/questions/21553353/what-is-the-difference-between-cmd-and-entrypoint-in-a-dockerfile", "answers": [{"body": "<p>Yes, that is a good question. I don't understand it fully yet, but:</p>\n\n<p>I understand that <code>ENTRYPOINT</code> is the binary that is being executed. You can overide entrypoint by --entrypoint=\"\".</p>\n\n<pre><code>docker run -t -i --entrypoint=\"/bin/bash\" ubuntu\n</code></pre>\n\n<p>CMD is the default argument to container. Without entrypoint, default argument is command that is executed. With entrypoint, cmd is passed to entrypoint as argument. You can emulate a command with entrypoint.</p>\n\n<pre><code># no entrypoint\ndocker run ubuntu /bin/cat /etc/passwd\n\n# with entry point, emulating cat command\ndocker run --entrypoint=\"/bin/cat\" ubuntu /etc/passwd\n</code></pre>\n\n<p>So, main advantage is that with entrypoint you can pass arguments (cmd) to your container. To accomplish this, you need to use both:</p>\n\n<pre><code># Dockerfile\nFROM ubuntu\nENTRYPOINT [\"/bin/cat\"]\n</code></pre>\n\n<p>and</p>\n\n<pre><code>docker build -t=cat .\n</code></pre>\n\n<p>then you can use:</p>\n\n<pre><code>docker run cat /etc/passwd\n#              ^^^^^^^^^^^\n#                   CMD\n#          ^^^      \n#          image (tag)- using the default ENTRYPOINT\n</code></pre>\n", "title": "What is the difference between CMD and ENTRYPOINT in a Dockerfile?", "answer_id": 21558992, "question_id": 21553353, "tags": ["docker"]}, {"body": "<p>Docker has a default entrypoint which is <code>/bin/sh -c</code> but does not have a default command.</p>\n\n<p>When you run docker like this:\n<code>docker run -i -t ubuntu bash</code>\nthe entrypoint is the default <code>/bin/sh -c</code>, the image is <code>ubuntu</code> and the command is <code>bash</code>.  </p>\n\n<p>The command is run via the entrypoint. i.e., the actual thing that gets executed is <code>/bin/sh -c bash</code>. This allowed docker to implement <code>RUN</code> quickly by relying on the shell's parser.\nLater on, people asked to be able to customize this so <code>ENTRYPOINT</code> and <code>-entrypoint</code> has been introduced.</p>\n\n<p>Everything after <code>ubuntu</code> in the example above is the command and is passed to the entrypoint. When using the <code>CMD</code> instruction, it is exactly as if you were doing <code>docker run -i -t ubuntu &lt;cmd&gt;</code>. <code>&lt;cmd&gt;</code> will be the parameter of the entrypoint.</p>\n\n<p>You will also get the same result if you instead type this command <code>docker run -i -t ubuntu</code>. You will still start a bash shell in the container because of the <a href=\"https://github.com/dockerfile/ubuntu/blob/master/Dockerfile\">ubuntu Dockerfile</a> specified a default CMD: <code>CMD [\"bash\"]</code></p>\n\n<p>As everything is passed to the entrypoint, you can have a very nice behavior from your images. @Jiri example is good, it shows how to use an image as a \"binary\". When using <code>[\"/bin/cat\"]</code> as entrypoint and then doing <code>docker run catimg /etc/passwd</code>, you get it, <code>/etc/passwd</code> is the command and is passed to the entrypoint so the end result execution is simply <code>/bin/cat /etc/passwd</code>.</p>\n\n<p>An other example would be to have any cli as entrypoint. For instance, if you have a redis image, instead of running <code>docker run redisimg redis -H something -u toto get key</code>, you can simply have <code>ENTRYPOINT [\"redis\", \"-H\", \"something\", \"-u\", \"toto\"]</code> and then run like this for the same result: <code>docker run redisimg get key</code>.</p>\n", "title": "What is the difference between CMD and ENTRYPOINT in a Dockerfile?", "answer_id": 21564990, "question_id": 21553353, "tags": ["docker"]}, {"body": "<p>The <code>ENTRYPOINT</code> specifies a command that will always be executed when the container starts.</p>\n\n<p>The <code>CMD</code> specifies arguments that will be fed to the <code>ENTRYPOINT</code>.</p>\n\n<p>If you want to make an image dedicated to a specific command you will use <code>ENTRYPOINT [\"/path/dedicated_command\"]</code></p>\n\n<p>Otherwise, if you want to make an image for general purpose, you can leave <code>ENTRYPOINT</code> unspecified and use <code>CMD [\"/path/dedicated_command\"]</code> as you will be able to override the setting by supplying arguments to <code>docker run</code>.</p>\n\n<p>For example, if your Dockerfile is:</p>\n\n<pre><code>FROM debian:wheezy\nENTRYPOINT [\"/bin/ping\"]\nCMD [\"localhost\"]\n</code></pre>\n\n<p>Running the image without any argument will ping the localhost:</p>\n\n<pre><code>$ docker run -it test\nPING localhost (127.0.0.1): 48 data bytes\n56 bytes from 127.0.0.1: icmp_seq=0 ttl=64 time=0.096 ms\n56 bytes from 127.0.0.1: icmp_seq=1 ttl=64 time=0.088 ms\n56 bytes from 127.0.0.1: icmp_seq=2 ttl=64 time=0.088 ms\n^C--- localhost ping statistics ---\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max/stddev = 0.088/0.091/0.096/0.000 ms\n</code></pre>\n\n<p>Now, running the image with an argument will ping the argument:</p>\n\n<pre><code>$ docker run -it test google.com\nPING google.com (173.194.45.70): 48 data bytes\n56 bytes from 173.194.45.70: icmp_seq=0 ttl=55 time=32.583 ms\n56 bytes from 173.194.45.70: icmp_seq=2 ttl=55 time=30.327 ms\n56 bytes from 173.194.45.70: icmp_seq=4 ttl=55 time=46.379 ms\n^C--- google.com ping statistics ---\n5 packets transmitted, 3 packets received, 40% packet loss\nround-trip min/avg/max/stddev = 30.327/36.430/46.379/7.095 ms\n</code></pre>\n\n<p>For comparison, if your Dockerfile is:</p>\n\n<pre><code>FROM debian:wheezy\nCMD [\"/bin/ping\", \"localhost\"]\n</code></pre>\n\n<p>Running the image without any argument will ping the localhost:</p>\n\n<pre><code>$ docker run -it test\nPING localhost (127.0.0.1): 48 data bytes\n56 bytes from 127.0.0.1: icmp_seq=0 ttl=64 time=0.076 ms\n56 bytes from 127.0.0.1: icmp_seq=1 ttl=64 time=0.087 ms\n56 bytes from 127.0.0.1: icmp_seq=2 ttl=64 time=0.090 ms\n^C--- localhost ping statistics ---\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max/stddev = 0.076/0.084/0.090/0.000 ms\n</code></pre>\n\n<p>But running the image with an argument will run the argument:</p>\n\n<pre><code>docker run -it test bash\nroot@e8bb7249b843:/#\n</code></pre>\n\n<p>See this article from Brian DeHamer for even more details:\n<a href=\"https://www.ctl.io/developers/blog/post/dockerfile-entrypoint-vs-cmd/\">https://www.ctl.io/developers/blog/post/dockerfile-entrypoint-vs-cmd/</a></p>\n", "title": "What is the difference between CMD and ENTRYPOINT in a Dockerfile?", "answer_id": 34245657, "question_id": 21553353, "tags": ["docker"]}, {"body": "<p>CMD:</p>\n\n<ul>\n<li><code>CMD [\"executable\",\"param1\",\"param2\"]</code>: <code>[\"executable\",\"param1\",\"param2\"]</code> is the first process.</li>\n<li><code>CMD command param1 param2</code>: <code>/bin/sh -c CMD command param1 param2</code> is the first process. <code>CMD command param1 param2</code> is forked from the first process.</li>\n<li><code>CMD [\"param1\",\"param2\"]</code>: This form is used to provide default arguments for <code>ENTRYPOINT</code>.</li>\n</ul>\n\n<p>ENTRYPOINT (The following list does not consider the case where CMD and ENTRYPOINT are used together):</p>\n\n<ul>\n<li><code>ENTRYPOINT [\"executable\", \"param1\", \"param2\"]</code>: <code>[\"executable\", \"param1\", \"param2\"]</code> is the first process.</li>\n<li><code>ENTRYPOINT command param1 param2</code>: <code>/bin/sh -c command param1 param2</code> is the first process. <code>command param1 param2</code> is forked from the first process.</li>\n</ul>\n\n<p>As <a href=\"http://stackoverflow.com/users/884978/creack\">creack</a> said, CMD was developed first. Then ENTRYPOINT was developed for more customization. Since they are not designed together, there are some functionality overlaps between CMD and ENTRYPOINT, which often confuse people.</p>\n", "title": "What is the difference between CMD and ENTRYPOINT in a Dockerfile?", "answer_id": 34605662, "question_id": 21553353, "tags": ["docker"]}, {"body": "<p>Comments on EntryPoint function in <a href=\"https://github.com/docker/docker/blob/670c8696a29825b23208496bd4d8e88b5faa7773/builder/dispatchers.go#L77\" rel=\"nofollow\">code</a></p>\n\n<blockquote>\n  <p>// ENTRYPOINT /usr/sbin/nginx. </p>\n  \n  <p>// Set the entrypoint (which defaults to sh -c) to /usr/sbin/nginx.</p>\n  \n  <p>// Will accept the CMD as the arguments to /usr/sbin/nginx.</p>\n</blockquote>\n\n<p>Another reference from documents</p>\n\n<blockquote>\n  <p>You can use the exec form of ENTRYPOINT to set <strong>fairly stable default commands and arguments</strong> and then use CMD to set additional defaults that are more likely to be changed.</p>\n</blockquote>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>FROM ubuntu:14.04.3\nENTRYPOINT [\"/bin/ping\"]\nCMD [\"localhost\", \"-c\", \"2\"]\n</code></pre>\n\n<p><em>Build</em>:  sudo docker build -t ent_cmd . </p>\n\n<pre><code>CMD arguments are easy to override.\n\nNO argument (sudo docker -it ent_cmd)                :  ping localhost \nargument    (sudo docker run -it ent_cmd google.com) :  ping google.com\n</code></pre>\n\n<p>.</p>\n\n<pre><code>To override EntryPoint argument, you need to supply entrypoint\nsudo docker run -it --entrypoint=\"/bin/bash\" ent_cmdd\n</code></pre>\n\n<p>p.s:\nIn presence of EntryPoint, CMD will hold arguments to fed to EntryPoint.\nIn absense of EntryPoint, CMD will be the command which will be run.</p>\n", "title": "What is the difference between CMD and ENTRYPOINT in a Dockerfile?", "answer_id": 34824638, "question_id": 21553353, "tags": ["docker"]}, {"body": "<p>In a nutshell:</p>\n\n<ul>\n<li>CMD sets default command and/or parameters, which can be overwritten from command line when docker container runs.</li>\n<li>ENTRYPOINT command and parameters will not be overwritten from command line. Instead, all command line arguments will be added after ENTRYPOINT parameters.</li>\n</ul>\n\n<p>If you need more details or would like to see difference on example, there is a blog post that comprehensively compare CMD and ENTRYPOINT with lots of examples - <a href=\"http://goinbigdata.com/docker-run-vs-cmd-vs-entrypoint/\">http://goinbigdata.com/docker-run-vs-cmd-vs-entrypoint/</a> </p>\n", "title": "What is the difference between CMD and ENTRYPOINT in a Dockerfile?", "answer_id": 36383735, "question_id": 21553353, "tags": ["docker"]}, {"body": "<h2>According to <a href=\"https://docs.docker.com/engine/reference/builder/#/understand-how-cmd-and-entrypoint-interact\" rel=\"nofollow\">docker docs</a></h2>\n\n<blockquote>\n  <p>Both CMD and ENTRYPOINT instructions define what command gets executed\n  when running a container. There are few rules that describe their\n  co-operation.</p>\n  \n  <ol>\n  <li>Dockerfile should specify at least one of <code>CMD</code> or <code>ENTRYPOINT</code> commands.</li>\n  <li><code>ENTRYPOINT</code> should be defined when using the container as an executable.</li>\n  <li><code>CMD</code> should be used as a way of defining default arguments for an <code>ENTRYPOINT</code> command or for executing an ad-hoc command in a\n  container.</li>\n  <li><code>CMD</code> will be overridden when running the container with alternative arguments.</li>\n  </ol>\n</blockquote>\n\n<p>The tables below shows <strong>what command is executed for different <code>ENTRYPOINT</code> / <code>CMD</code> combinations</strong>:</p>\n\n<p>-- <strong><code>No ENTRYPOINT</code></strong></p>\n\n<pre><code>\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2566\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\n\u2551 No CMD                     \u2551 error, not allowed          \u2551\n\u255f\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256b\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2562\n\u2551 CMD [\u201cexec_cmd\u201d, \u201cp1_cmd\u201d] \u2551 exec_cmd p1_cmd             \u2551\n\u255f\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256b\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2562\n\u2551 CMD [\u201cp1_cmd\u201d, \u201cp2_cmd\u201d]   \u2551 p1_cmd p2_cmd               \u2551\n\u255f\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256b\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2562\n\u2551 CMD exec_cmd p1_cmd        \u2551 /bin/sh -c exec_cmd p1_cmd  \u2551\n\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2569\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d\n</code></pre>\n\n<p>-- <strong><code>ENTRYPOINT exec_entry p1_entry</code></strong></p>\n\n<pre><code>\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2566\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\n\u2551 No CMD                     \u2551 /bin/sh -c exec_entry p1_entry                            \u2551\n\u255f\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256b\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2562\n\u2551 CMD [\u201cexec_cmd\u201d, \u201cp1_cmd\u201d] \u2551 /bin/sh -c exec_entry p1_entry exec_cmd p1_cmd            \u2551\n\u255f\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256b\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2562\n\u2551 CMD [\u201cp1_cmd\u201d, \u201cp2_cmd\u201d]   \u2551 /bin/sh -c exec_entry p1_entry p1_cmd p2_cmd              \u2551\n\u255f\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256b\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2562\n\u2551 CMD exec_cmd p1_cmd        \u2551 /bin/sh -c exec_entry p1_entry /bin/sh -c exec_cmd p1_cmd \u2551\n\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2569\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d\n</code></pre>\n\n<p>-- <strong><code>ENTRYPOINT [\u201cexec_entry\u201d, \u201cp1_entry\u201d]</code></strong></p>\n\n<pre><code>\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2566\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\n\u2551 No CMD                     \u2551 exec_entry p1_entry                             \u2551\n\u255f\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256b\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2562\n\u2551 CMD [\u201cexec_cmd\u201d, \u201cp1_cmd\u201d] \u2551 exec_entry p1_entry exec_cmd p1_cmd             \u2551\n\u255f\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256b\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2562\n\u2551 CMD [\u201cp1_cmd\u201d, \u201cp2_cmd\u201d]   \u2551 exec_entry p1_entry p1_cmd p2_cmd               \u2551\n\u255f\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256b\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2562\n\u2551 CMD exec_cmd p1_cmd        \u2551 exec_entry p1_entry /bin/sh -c exec_cmd p1_cmd  \u2551\n\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2569\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d\n</code></pre>\n", "title": "What is the difference between CMD and ENTRYPOINT in a Dockerfile?", "answer_id": 39408777, "question_id": 21553353, "tags": ["docker"]}], "question_id": 21553353}, {"body": "<p>I get an error after updating from my last project. Not a problem in my code but I'm having trouble with build.gradle. How can I fix it?</p>\n\n<p>build.gradle code here: </p>\n\n<pre><code>apply plugin: 'android'\n\nandroid {\n    compileSdkVersion 21\n    buildToolsVersion '20.0.0'\n\n    packagingOptions {\n        exclude 'META-INF/DEPENDENCIES'\n        exclude 'META-INF/LICENSE'\n        exclude 'META-INF/LICENSE.txt'\n        exclude 'META-INF/license.txt'\n        exclude 'META-INF/NOTICE'\n        exclude 'META-INF/NOTICE.txt'\n        exclude 'META-INF/notice.txt'\n        exclude 'META-INF/ASL2.0'\n    }\n\n    defaultConfig {\n        applicationId 'com.xxx.axxx'\n        minSdkVersion 14\n        targetSdkVersion 19\n        versionCode 6\n        versionName '1.0'\n    }\n    buildTypes {\n        release {\n            runProguard false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    productFlavors {\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    compile 'com.android.support:appcompat-v7:19.+'\n    compile files('libs/commons-codec-1.8.jar')\n    compile files('libs/asmack-android-8-4.0.4.jar')\n    compile 'com.android.support:support-v4:21.0.0'\n    compile 'com.google.code.gson:gson:2.2.4'\n    compile 'com.jakewharton:butterknife:5.1.1'\n}\n</code></pre>\n\n<p>Gradle Sync message output:</p>\n\n<pre><code>Error:(27, 0) Gradle DSL method not found: 'runProguard()'\n**Possible causes:\nThe project 'Atomic4Mobile' may be using a version of Gradle that does not contain the method.\n**Gradle settings**\nThe build file may be missing a Gradle plugin.\n**Apply Gradle plugin**\n</code></pre>\n", "title": "Gradle DSL method not found: &#39;runProguard&#39;", "tags": ["android", "gradle", "android-gradle"], "answer_count": 5, "link": "http://stackoverflow.com/questions/27078075/gradle-dsl-method-not-found-runproguard", "answers": [{"body": "<p><a href=\"http://i.stack.imgur.com/20vO7.png\"><img src=\"http://i.stack.imgur.com/20vO7.png\" alt=\"enter image description here\"></a>If you are using version 0.14.0 or higher of the gradle plugin, you should replace <em>\"runProguard\"</em> with <em>\"minifyEnabled\"</em> in your build.gradle files.</p>\n\n<p><em>runProguard</em> was renamed to <em>minifyEnabled</em> in version 0.14.0. For more info, <a href=\"http://tools.android.com/tech-docs/new-build-system\">See Android Build System</a> </p>\n", "title": "Gradle DSL method not found: &#39;runProguard&#39;", "answer_id": 27107444, "question_id": 27078075, "tags": ["android", "gradle", "android-gradle"]}, {"body": "<p>Using '<code>minifyEnabled</code>' instead of '<code>runProguard</code>' works properly.</p>\n\n<p><strong><code>Previous code :</code></strong></p>\n\n<pre><code>buildTypes {\n        release {\n            runProguard false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.txt'\n        }\n    }\n</code></pre>\n\n<p><strong><code>Current code :</code></strong></p>\n\n<pre><code>buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.txt'\n        }\n    }\n</code></pre>\n\n<p>Hope this helps .</p>\n", "title": "Gradle DSL method not found: &#39;runProguard&#39;", "answer_id": 27266373, "question_id": 27078075, "tags": ["android", "gradle", "android-gradle"]}, {"body": "<p>If you are migrating to 1.0.0 you need to change the following properties.</p>\n\n<p>In the Project's build.gradle file you need to replace minifyEnabled.</p>\n\n<p>Hence your new build type should be</p>\n\n<pre><code>buildTypes {\n        release {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.txt'        }\n    }\n</code></pre>\n\n<p>Also make sure that gradle version is 1.0.0 like </p>\n\n<pre><code>classpath 'com.android.tools.build:gradle:1.0.0'\n</code></pre>\n\n<p>in the build.gradle file.</p>\n\n<p>This should solve the problem.</p>\n\n<p>Source:\n<a href=\"http://tools.android.com/tech-docs/new-build-system/migrating-to-1-0-0\">http://tools.android.com/tech-docs/new-build-system/migrating-to-1-0-0</a></p>\n", "title": "Gradle DSL method not found: &#39;runProguard&#39;", "answer_id": 27373127, "question_id": 27078075, "tags": ["android", "gradle", "android-gradle"]}, {"body": "<p>By changing <strong>runProguard</strong> to <strong>minifyEnabled</strong>, part of the issue gets fixed.</p>\n\n<p>But the fix can cause \"Library Projects cannot set application Id\" (you can find the fix for this here <strong><a href=\"http://stackoverflow.com/questions/27374933/android-studio-1-0-and-error-library-projects-cannot-set-applicationid\">Android Studio 1.0 and error &quot;Library projects cannot set applicationId&quot;</a></strong>). </p>\n\n<p>By removing application Id in the build.gradle file, you should be good to go.</p>\n", "title": "Gradle DSL method not found: &#39;runProguard&#39;", "answer_id": 28348482, "question_id": 27078075, "tags": ["android", "gradle", "android-gradle"]}, {"body": "<p><strong>runProguard</strong> has been renamed to <strong>minifyEnabled</strong> in version 0.14.0 (2014/10/31) or more in Gradle.</p>\n\n<p>To fix this, you need to change runProguard to minifyEnabled in the <strong>build.gradle</strong> file of your project.</p>\n\n<p><a href=\"http://i.stack.imgur.com/WK8QB.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/WK8QB.png\" alt=\"enter image description here\"></a></p>\n", "title": "Gradle DSL method not found: &#39;runProguard&#39;", "answer_id": 37371987, "question_id": 27078075, "tags": ["android", "gradle", "android-gradle"]}], "question_id": 27078075}, {"body": "<p>I'm trying to create an <code>NSTimer</code> in <code>Swift</code> but I'm having some trouble.</p>\n\n<pre><code>NSTimer(timeInterval: 1, target: self, selector: test(), userInfo: nil, repeats: true)\n</code></pre>\n\n<p><em><code>test()</code> is a function in the same class.</em></p>\n\n<hr>\n\n<p>I get an error in the editor: </p>\n\n<blockquote>\n  <p>Could not find an overload for 'init' that accepts the supplied\n  arguments</p>\n</blockquote>\n\n<p>When I change <code>selector: test()</code> to <code>selector: nil</code> the error disappears.</p>\n\n<p>I've tried:</p>\n\n<ul>\n<li><code>selector: test()</code></li>\n<li><code>selector: test</code></li>\n<li><code>selector: Selector(test())</code></li>\n</ul>\n\n<p>But nothing works and I can't find a solution in the references.</p>\n", "title": "@selector() in Swift?", "tags": ["swift", "selector", "nstimer"], "answer_count": 17, "link": "http://stackoverflow.com/questions/24007650/selector-in-swift", "answers": [{"body": "<p>Swift <em>itself</em> doesn't use selectors \u2014 several design patterns that in Objective-C make use of selectors work differently in Swift. (For example, use optional chaining on protocol types instead of <code>respondsToSelector:</code> tests, and use closures wherever you can instead of <code>performSelector:</code> for better type/memory safety.)</p>\n\n<p>But there are still a number of important ObjC-based APIs that use selectors, including timers and the target/action pattern. Swift provides the <code>Selector</code> type for working with these. (Swift automatically uses this in place of ObjC's <code>SEL</code> type.)</p>\n\n<h3>In Swift 2.2 (Xcode 7.3) and later:</h3>\n\n<p>You can construct a <code>Selector</code> from a Swift function type using the <code>#selector</code> expression.</p>\n\n<pre><code>let timer = NSTimer(timeInterval: 1, target: object,\n                    selector: #selector(MyClass.test),\n                    userInfo: nil, repeats: false)\nbutton.addTarget(object, action: #selector(MyClass.buttonTapped),\n                 forControlEvents: .TouchUpInside)\nview.performSelector(#selector(UIView.insertSubview(_:aboveSubview:)),\n                     withObject: button, withObject: otherButton)\n</code></pre>\n\n<p>The great thing about this approach? A function reference is checked by the Swift compiler, so you can use the <code>#selector</code> expression only with class/method pairs that actually exist and are eligible for use as selectors (see \"Selector availability\" below). You're also free to make your function reference only as specific as you need, as per <a href=\"https://developer.apple.com/library/prerelease/mac/documentation/Swift/Conceptual/Swift_Programming_Language/Expressions.html#//apple_ref/doc/uid/TP40014097-CH32-ID400\">the new Swift 2.2 rules for function naming</a>.</p>\n\n<p>(This is actually an improvement over ObjC's <code>@selector()</code> directive, because the compiler's <code>-Wundeclared-selector</code> check verifies only that the named selector exists. The Swift function reference you pass to <code>#selector</code> checks existence, membership in a class, and type signature.)</p>\n\n<p>Sometimes you don't have a function reference to make a selector with (for example, with actions bound to the first responder, Cocoa KVC accessors, or methods dynamically registered in the ObjC runtime). In that case, you can construct a <code>Selector</code> from a string: e.g. <code>Selector(\"paste:\")</code> \u2014 though you lose the compiler's validity checking.</p>\n\n<p>There are a couple of extra caveats for the function references you pass to the <code>#selector</code> expression:</p>\n\n<ul>\n<li>Multiple functions with the same base name can be differentiated by their parameter labels using the aforementioned <a href=\"https://developer.apple.com/library/prerelease/mac/documentation/Swift/Conceptual/Swift_Programming_Language/Expressions.html#//apple_ref/doc/uid/TP40014097-CH32-ID400\">syntax for function references</a> (e.g. <code>insertSubview(_:, atIndex:)</code> vs <code>insertSubview(_:aboveSubview:)</code>). But if a function has no parameters, the only way to disambiguate it is to use an <code>as</code> cast with the function's type signature (e.g. <code>foo as () -&gt; ()</code> vs <code>foo(_:)</code>).</li>\n<li>Swift doesn't know about the ObjC accessors for property getter/setter pairs. So, for example, given a <code>var foo: Int</code>, there isn't a <code>func setFoo(_:)</code> that you can construct a <code>#selector</code> from, even though there is a <code>Selector(setFoo:)</code>.</li>\n</ul>\n\n<h3>In older Swift versions:</h3>\n\n<p>The simplest way to pass a <code>Selector</code> is with a string literal:</p>\n\n<pre><code>let timer = NSTimer(timeInterval: 1, target: object,\n                    selector: \"test:\",\n                    userInfo: nil, repeats: false)\nbutton.addTarget(object, action: \"buttonTapped:\",\n                 forControlEvents: .TouchUpInside)\nview.performSelector(\"insertSubview:aboveSubview:\",\n                     withObject: button, withObject: otherButton)\n</code></pre>\n\n<p>This works because <code>Selector</code> conforms to <code>StringLiteralConvertible</code>. However, that protocol conformance is going away with Swift 2.2, so you'll want to use the new <code>#selector</code> directive there. (To make code that compiles on both, albeit with warnings in 2.2, just directly call a <code>Selector</code> initializer: <code>Selector(\"test:\")</code>, <code>Selector(\"insertSubview:aboveSubview:\")</code>, etc.)</p>\n\n<h3>General notes:</h3>\n\n<p><strong>Selector availability:</strong> The method referenced by the selector must be exposed to the ObjC runtime. This is already the case if it's in a class that (ultimately) inherits from <code>NSObject</code>, but if it's in a pure Swift class you'll need to preface that method's declaration with <code>@objc</code>. Remember that <code>private</code> symbols aren't exposed to the runtime, too \u2014 your method needs to have at least <code>internal</code> visibility.</p>\n\n<p><strong>Selector names:</strong> Because selectors are an ObjC thing, they follow ObjC method naming rules, including colons (<code>:</code>) for each parameter. For example, the selector for a method named  <code>test()</code> is just <code>\"test\"</code>, but the selector for <code>test(this: String)</code> is <code>\"test:\"</code>, and for <code>test(this: String, andThat: Int)</code> it's <code>\"test:andThat:\"</code>. Note that as the relationship between Swift and ObjC evolves, the names of some ObjC methods and their Swift syntax may diverge \u2014 but you can always <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/BuildingCocoaApps/InteractingWithObjective-CAPIs.html#//apple_ref/doc/uid/TP40014216-CH4-ID53\">use the <code>@objc()</code> attribute</a> to control how a Swift method is exposed to ObjC.</p>\n\n<p>You can read more about selectors under <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/BuildingCocoaApps/InteractingWithObjective-CAPIs.html#//apple_ref/doc/uid/TP40014216-CH4-XID_26\">Interacting with Objective-C APIs</a> in <em>Using Swift with Cocoa and Objective-C</em>.</p>\n", "title": "@selector() in Swift?", "answer_id": 24007718, "question_id": 24007650, "tags": ["swift", "selector", "nstimer"]}, {"body": "<p>Here's a quick example on how to use the <code>Selector</code> class on Swift:</p>\n\n<pre><code>override func viewDidLoad() {\n    super.viewDidLoad()\n\n    var rightButton = UIBarButtonItem(title: \"Title\", style: UIBarButtonItemStyle.Plain, target: self, action: Selector(\"method\"))\n    self.navigationItem.rightBarButtonItem = rightButton\n}\n\nfunc method() {\n    // Something cool here   \n}\n</code></pre>\n\n<p>Note that if the method passed as a string doesn't work, it will fail at runtime, not compile time, and crash your app. Be careful</p>\n", "title": "@selector() in Swift?", "answer_id": 24007769, "question_id": 24007650, "tags": ["swift", "selector", "nstimer"]}, {"body": "<p>Selectors are an internal representation of a method name in Objective-C. In Objective-C \"@selector(methodName)\" would convert a source-code method into a data type of SEL. Since you can't use the @selector syntax in Swift (rickster is on point there), you have to manually specify the method name as a String object directly, or by passing a String object to the Selector type. Here is an example:</p>\n\n<pre><code>var rightBarButton = UIBarButtonItem(\n    title: \"Logout\", \n    style: UIBarButtonItemStyle.Plain, \n    target: self, \n    action:\"logout\"\n)\n</code></pre>\n\n<p>or </p>\n\n<pre><code>var rightBarButton = UIBarButtonItem(\n    title: \"Logout\", \n    style: UIBarButtonItemStyle.Plain, \n    target: self, \n    action:Selector(\"logout\")\n)\n</code></pre>\n", "title": "@selector() in Swift?", "answer_id": 24052465, "question_id": 24007650, "tags": ["swift", "selector", "nstimer"]}, {"body": "<p>Also, if your (Swift) class does not descend from an Objective-C class, then you must have a colon at the end of the target method name string and you must use the @objc property with your target method e.g.</p>\n\n<pre><code>var rightButton = UIBarButtonItem(title: \"Title\", style: UIBarButtonItemStyle.Plain, target: self, action: Selector(\"method\"))\n\n@objc func method() {\n    // Something cool here   \n} \n</code></pre>\n\n<p>otherwise you will get a \"Unrecognised Selector\" error at runtime.</p>\n", "title": "@selector() in Swift?", "answer_id": 24390503, "question_id": 24007650, "tags": ["swift", "selector", "nstimer"]}, {"body": "<p>you create the Selector like below.<br>\n1.</p>\n\n<pre><code>UIBarButtonItem(\n    title: \"Some Title\",\n    style: UIBarButtonItemStyle.Done,\n    target: self,\n    action: \"flatButtonPressed\"\n)\n</code></pre>\n\n<p>2.<br></p>\n\n<pre><code>flatButton.addTarget(self, action: \"flatButtonPressed:\", forControlEvents: UIControlEvents.TouchUpInside)\n</code></pre>\n\n<p>Take note that the @selector syntax is gone and replaced with a simple String naming the method to call. There\u2019s one area where we can all agree the verbosity got in the way. Of course, if we declared that there is a target method called flatButtonPressed: we better write one:<br></p>\n\n<pre><code>func flatButtonPressed(sender: AnyObject) {\n  NSLog(\"flatButtonPressed\")\n}\n</code></pre>\n\n<p>set the timer:<br></p>\n\n<pre><code>    var timer = NSTimer.scheduledTimerWithTimeInterval(1.0, \n                    target: self, \n                    selector: Selector(\"flatButtonPressed\"), \n                    userInfo: userInfo, \n                    repeats: true)\n    let mainLoop = NSRunLoop.mainRunLoop()  //1\n    mainLoop.addTimer(timer, forMode: NSDefaultRunLoopMode) //2 this two line is optinal\n</code></pre>\n\n<p>In order to be complete, here\u2019s the flatButtonPressed  </p>\n\n<pre><code>func flatButtonPressed(timer: NSTimer) {\n}\n</code></pre>\n", "title": "@selector() in Swift?", "answer_id": 24704917, "question_id": 24007650, "tags": ["swift", "selector", "nstimer"]}, {"body": "<p>It may be useful to note where you setup the control that triggers the action matters.</p>\n\n<p>For example, I have found that when setting up a UIBarButtonItem, I had to create the button within viewDidLoad or else I would get an unrecognized selector exception.</p>\n\n<pre><code>override func viewDidLoad() {\n        super.viewDidLoad()\n\n\n        // add button\n        let addButton = UIBarButtonItem(image: UIImage(named: \"746-plus-circle.png\"), style: UIBarButtonItemStyle.Plain, target: self, action: Selector(\"addAction:\"))\n        self.navigationItem.rightBarButtonItem = addButton\n    }\n\n\n    func addAction(send: AnyObject?) {\n\n        NSLog(\"addAction\")\n    }\n</code></pre>\n", "title": "@selector() in Swift?", "answer_id": 24716579, "question_id": 24007650, "tags": ["swift", "selector", "nstimer"]}, {"body": "<p>Just in case somebody else have the same problem I had with NSTimer where none of the other answers fixed the issue, is really important to mention that, if you are using a class that do not inherits from NSObject either directly or deep in the hierarchy(e.g. manually created swift files), none of the other answers will work even when is specified as follows:</p>\n\n<pre><code>let timer = NSTimer(timeInterval: 1, target: self, selector: \"test\", \n                    userInfo: nil, repeats: false)\nfunc test () {}\n</code></pre>\n\n<p>Without changing anything else other than just making the class inherit from NSObject I stopped getting the \"Unrecognized selector\" Error and got my logic working as expected.</p>\n", "title": "@selector() in Swift?", "answer_id": 24719842, "question_id": 24007650, "tags": ["swift", "selector", "nstimer"]}, {"body": "<pre><code>Create Refresh control using Selector method.   \n    var refreshCntrl : UIRefreshControl!\n    refreshCntrl = UIRefreshControl()\n    refreshCntrl.tintColor = UIColor.whiteColor()\n    refreshCntrl.attributedTitle = NSAttributedString(string: \"Please Wait...\")\n    refreshCntrl.addTarget(self, action:\"refreshControlValueChanged\", forControlEvents: UIControlEvents.ValueChanged)\n    atableView.addSubview(refreshCntrl)\n</code></pre>\n\n<p>//Refresh Control Method</p>\n\n<pre><code>func refreshControlValueChanged(){\n    atableView.reloadData()\n    refreshCntrl.endRefreshing()\n\n}\n</code></pre>\n", "title": "@selector() in Swift?", "answer_id": 24837430, "question_id": 24007650, "tags": ["swift", "selector", "nstimer"]}, {"body": "<p>If you want to pass a parameter to the function from the NSTimer then here is your solution:</p>\n\n<pre><code>var somethingToPass = \"It worked\"\n\nlet timer = NSTimer.scheduledTimerWithTimeInterval(0.01, target: self, selector: \"tester:\", userInfo: somethingToPass, repeats: false)\n\nfunc tester(timer: NSTimer)\n{\n    let theStringToPrint = timer.userInfo as String\n    println(theStringToPrint)\n}\n</code></pre>\n\n<p>Include the colon in the selector text (tester:), and your parameter(s) go in userInfo.</p>\n\n<p>Your function should take NSTimer as a parameter.  Then just extract userInfo to get the parameter that passed.</p>\n", "title": "@selector() in Swift?", "answer_id": 25186427, "question_id": 24007650, "tags": ["swift", "selector", "nstimer"]}, {"body": "<p>Change as a simple string naming in the method calling for <strong>selector syntax</strong></p>\n\n<pre><code>var timer1 : NSTimer? = nil\ntimer1= NSTimer(timeInterval: 0.1, target: self, selector: Selector(\"test\"), userInfo: nil, repeats: true)\n</code></pre>\n\n<p>After that, type func test(). </p>\n", "title": "@selector() in Swift?", "answer_id": 26352829, "question_id": 24007650, "tags": ["swift", "selector", "nstimer"]}, {"body": "<p>you create the Selector like below.</p>\n\n<p>1.add the event to a button like:\n<br></p>\n\n<pre><code>button.addTarget(self, action: \"clickedButton:\", forControlEvents: UIControlEvents.TouchUpInside)\n</code></pre>\n\n<p>and the function will be like below:\n<br></p>\n\n<pre><code>func clickedButton(sender: AnyObject) {\n  NSLog(\"clickedButton\")\n}\n</code></pre>\n", "title": "@selector() in Swift?", "answer_id": 26376815, "question_id": 24007650, "tags": ["swift", "selector", "nstimer"]}, {"body": "<p>For future readers, I found that I experienced a problem and was getting an <strong><em><code>unrecognised selector sent to instance</code></em></strong> error that was caused by marking the target <code>func</code> as private.</p>\n\n<p>The <code>func</code> <strong>MUST</strong> be publicly visible to be called by an object with a reference to a selector. </p>\n", "title": "@selector() in Swift?", "answer_id": 29568047, "question_id": 24007650, "tags": ["swift", "selector", "nstimer"]}, {"body": "<p>I found many of these answers to be helpful but it wasn't clear how to do this with something that wasn't a button. I was adding a gesture recognizer to a UILabel in swift and struggled so here's what I found worked for me after reading everything above:</p>\n\n<pre><code>let tapRecognizer = UITapGestureRecognizer(\n            target: self,\n            action: \"labelTapped:\")\n</code></pre>\n\n<p>Where the \"Selector\" was declared as:</p>\n\n<pre><code>func labelTapped(sender: UILabel) { }\n</code></pre>\n\n<p>Note that it is public and that I am not using the Selector() syntax but it is possible to do this as well.</p>\n\n<pre><code>let tapRecognizer = UITapGestureRecognizer(\n            target: self,\n            action: Selector(\"labelTapped:\"))\n</code></pre>\n", "title": "@selector() in Swift?", "answer_id": 35395140, "question_id": 24007650, "tags": ["swift", "selector", "nstimer"]}, {"body": "<p>When using <code>performSelector()</code> </p>\n\n<p><code>/addtarget()/NStimer.scheduledTimerWithInterval()</code> methods your method (matching the selector) should be marked as </p>\n\n<pre><code>@objc\nFor Swift 2.0:\n    {  \n        //...\n        self.performSelector(\u201cperformMethod\u201d, withObject: nil , afterDelay: 0.5)\n        //...\n\n\n    //...\n    btnHome.addTarget(self, action: \u201cbuttonPressed:\", forControlEvents: UIControlEvents.TouchUpInside)\n    //...\n\n    //...\n     NSTimer.scheduledTimerWithTimeInterval(0.5, target: self, selector : \u201ctimerMethod\u201d, userInfo: nil, repeats: false)\n    //...\n\n}\n\n@objc private func performMethod() {\n\u2026\n}\n@objc private func buttonPressed(sender:UIButton){\n\u2026.\n}\n@objc private func timerMethod () {\n\u2026.\n}\n</code></pre>\n\n<p>For Swift 2.2,\nyou need to write '#selector()' instead of string and selector name so the possibilities of spelling error and crash due to that will not be there anymore. Below is example</p>\n\n<pre><code>self.performSelector(#selector(MyClass.performMethod), withObject: nil , afterDelay: 0.5)\n</code></pre>\n", "title": "@selector() in Swift?", "answer_id": 36053404, "question_id": 24007650, "tags": ["swift", "selector", "nstimer"]}, {"body": "<p><strong>Swift 2.2 / Xcode 7.3 Update</strong></p>\n\n<p>Use the new <code>#selector</code> expression, which eliminates the need to use string literals, making usage less error-prone. For reference:</p>\n\n<pre><code>Selector(\"keyboardDidHide:\")\n</code></pre>\n\n<p>becomes</p>\n\n<pre><code>#selector(keyboardDidHide(_:))\n</code></pre>\n\n<p>See also: <a href=\"https://github.com/apple/swift-evolution/blob/master/proposals/0022-objc-selectors.md\">Swift Evolution Proposal</a></p>\n", "title": "@selector() in Swift?", "answer_id": 36456499, "question_id": 24007650, "tags": ["swift", "selector", "nstimer"]}, {"body": "<p>Using <strong>#selector</strong> will check your code at compile time to make sure the method you want to call actually exists. Even better, if the method doesn\u2019t exist, you\u2019ll get a compile error: Xcode will refuse to build your app, thus banishing to oblivion another possible source of bugs.</p>\n\n<pre><code>override func viewDidLoad() {\n        super.viewDidLoad()\n\n        navigationItem.rightBarButtonItem =\n            UIBarButtonItem(barButtonSystemItem: .Add, target: self,\n                            action: #selector(addNewFireflyRefernce))\n    }\n\n    func addNewFireflyReference() {\n        gratuitousReferences.append(\"Curse your sudden but inevitable betrayal!\")\n    }\n</code></pre>\n", "title": "@selector() in Swift?", "answer_id": 37345596, "question_id": 24007650, "tags": ["swift", "selector", "nstimer"]}, {"body": "<pre><code>// for swift 2.2\n// version 1\nbuttton.addTarget(self, action: #selector(ViewController.tappedButton), forControlEvents: .TouchUpInside)\nbuttton.addTarget(self, action: #selector(ViewController.tappedButton2(_:)), forControlEvents: .TouchUpInside)\n\n// version 2\nbuttton.addTarget(self, action: #selector(self.tappedButton), forControlEvents: .TouchUpInside)\nbuttton.addTarget(self, action: #selector(self.tappedButton2(_:)), forControlEvents: .TouchUpInside)\n\n// version 3\nbuttton.addTarget(self, action: #selector(tappedButton), forControlEvents: .TouchUpInside)\nbuttton.addTarget(self, action: #selector(tappedButton2(_:)), forControlEvents: .TouchUpInside)\n\nfunc tappedButton() {\n  print(\"tapped\")\n}\n\nfunc tappedButton2(sender: UIButton) {\n  print(\"tapped 2\")\n}\n</code></pre>\n", "title": "@selector() in Swift?", "answer_id": 37559037, "question_id": 24007650, "tags": ["swift", "selector", "nstimer"]}], "question_id": 24007650}, {"body": "<p>I'm trying to work out an appropriate singleton model for usage in Swift. So far, I've been able to get a non-thread safe model working as:</p>\n\n<pre><code>class var sharedInstance:TPScopeManager {\n    get {\n        struct Static {\n            static var instance : TPScopeManager? = nil\n        }\n\n        if !Static.instance {\n            Static.instance = TPScopeManager()\n        }\n\n        return Static.instance!\n    }\n}\n</code></pre>\n\n<p>Wrapping the singleton instance in the Static struct should allow a single instance that doesn't collide with singleton instances without complex naming schemings, and it should make things fairly private.  Obviously though, this model isn't thread safe, so I tried to add dispatch_once to the whole thing:</p>\n\n<pre><code>class var sharedInstance:TPScopeManager {\n    get {\n        struct Static {\n            static var instance : TPScopeManager? = nil\n            static var token : dispatch_once_t = 0\n        }\n\n        dispatch_once(Static.token) { Static.instance = TPScopeManager() }\n\n        return Static.instance!\n    }\n}\n</code></pre>\n\n<p>But I get a compiler error on the dispatch_once line:</p>\n\n<blockquote>\n  <p>Cannot convert the expression's type 'Void' to type '()'</p>\n</blockquote>\n\n<p>I've tried several different variants of the syntax, but they all seem to have the same results:</p>\n\n<pre><code>dispatch_once(Static.token, { Static.instance = TPScopeManager() })\n</code></pre>\n\n<p>What is the proper usage of <code>dispatch_once</code> using Swift? I initially thought the problem was with the block due to the <code>()</code> in the error message, but the more I look at it, the more I think it may be a matter of getting the <code>dispatch_once_t</code> correctly defined.</p>\n", "title": "Using a dispatch_once singleton model in Swift", "tags": ["swift", "singleton", "dispatch"], "answer_count": 24, "link": "http://stackoverflow.com/questions/24024549/using-a-dispatch-once-singleton-model-in-swift", "answers": [{"body": "<p><strong>For Swift 1.2 and beyond:</strong></p>\n\n<pre><code>class Singleton  {\n   static let sharedInstance = Singleton()\n}\n</code></pre>\n\n<p>With a proof of correctness (all credit goes <a href=\"http://krakendev.io/blog/the-right-way-to-write-a-singleton\">here</a>), there is little to no reason now to use any of the previous methods for singletons.</p>\n\n<p><strong>Update</strong>: This is now the <strong>official</strong> way to define singletons as described in the <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/BuildingCocoaApps/AdoptingCocoaDesignPatterns.html#singleton\">official docs</a>!</p>\n\n<p>As for concerns on using <code>static</code> vs <code>class</code>. <code>static</code> should be the one to use even when <code>class</code> variables become available. Singletons are not meant to be subclassed since that would result in multiple instances of the base singleton. Using <code>static</code> enforces this in a beautiful, Swifty way.</p>\n\n<p><strong>For Swift 1.0 and 1.1:</strong></p>\n\n<p>With the recent changes in Swift, mostly new access control methods, I am now leaning towards the cleaner way of using a global variable for singletons.</p>\n\n<pre><code>private let _singletonInstance = SingletonClass()\nclass SingletonClass {\n  class var sharedInstance: SingletonClass {\n    return _singletonInstance\n  }\n}\n</code></pre>\n\n<p>As mentioned in the Swift blog article <a href=\"https://developer.apple.com/swift/blog/?id=7\">here</a>:</p>\n\n<blockquote>\n  <p>The lazy initializer for a global variable (also for static members of\n  structs and enums) is run the first time that global is accessed, and\n  is launched as dispatch_once to make sure that the initialization is\n  atomic. This enables a cool way to use dispatch_once in your code:\n  just declare a global variable with an initializer and mark it\n  private.</p>\n</blockquote>\n\n<p>This way of creating a singleton is thread safe, fast, lazy, and also bridged to ObjC for free.</p>\n", "title": "Using a dispatch_once singleton model in Swift", "answer_id": 24024762, "question_id": 24024549, "tags": ["swift", "singleton", "dispatch"]}, {"body": "<p>Looking at Apple's sample code I came across this pattern. I'm not sure how swift deals with statics, but this would be thread safe in C#.  I include both the property and method for ObjC interop.</p>\n\n<pre><code>struct StaticRank {\n    static let shared = RankMapping()\n}\n\nclass func sharedInstance() -&gt; RankMapping {\n    return StaticRank.shared\n}\n\nclass var shared:RankMapping {\n    return StaticRank.shared\n}\n</code></pre>\n", "title": "Using a dispatch_once singleton model in Swift", "answer_id": 24050674, "question_id": 24024549, "tags": ["swift", "singleton", "dispatch"]}, {"body": "<p>There is a better way to do it.  You can declare a global variable in your class above the class decleration like so</p>\n\n<pre><code>var tpScopeManagerSharedInstance = TPScopeManager()\n</code></pre>\n\n<p>This just calls your default init or whichever init and global variables are dispatch_once by default in Swift. Then in whichever class you want to get a reference, you just do this:</p>\n\n<pre><code>var refrence = tpScopeManagerSharedInstance\n// or you can just access properties and call methods directly\ntpScopeManagerSharedInstance.someMethod()\n</code></pre>\n\n<p>So basically you can get rid of the entire block of shared instance code.</p>\n", "title": "Using a dispatch_once singleton model in Swift", "answer_id": 24067062, "question_id": 24024549, "tags": ["swift", "singleton", "dispatch"]}, {"body": "<p>Since Apple has now clarified that static struct variables are initialized both lazy and wrapped in dispatch_once (see the note at the end of the post), I think my final solution is going to be:</p>\n\n<pre><code>class WithSingleton {\n    class var sharedInstance :WithSingleton {\n        struct Singleton {\n            static let instance = WithSingleton()\n        }\n\n        return Singleton.instance\n    }\n}\n</code></pre>\n\n<p>This takes advantage of the automatic lazy, thread-safe initialization of static struct elements, safely hides the actual implementation from the consumer, keeps everything compactly compartmentalized for legibility, and eliminates a visible global variable.</p>\n\n<p>Apple has clarified that lazy initializer are thread-safe, so there's no need for <code>dispatch_once</code> or similar protections</p>\n\n<blockquote>\n  <p>The lazy initializer for a global variable (also for static members of structs and enums) is run the first time that global is accessed, and is launched as dispatch_once to make sure that the initialization is atomic. This enables a cool way to use dispatch_once in your code: just declare a global variable with an initializer and mark it private.</p>\n</blockquote>\n\n<p>From <a href=\"http://developer.apple.com/swift/blog/?id=7\">here</a></p>\n", "title": "Using a dispatch_once singleton model in Swift", "answer_id": 24073016, "question_id": 24024549, "tags": ["swift", "singleton", "dispatch"]}, {"body": "<pre><code>class UtilSingleton: NSObject {\n\n    var iVal: Int = 0\n\n    class var shareInstance: UtilSingleton {\n        get {\n            struct Static {\n                static var instance: UtilSingleton? = nil\n                static var token: dispatch_once_t = 0\n            }\n            dispatch_once(&amp;Static.token, {\n                Static.instance = UtilSingleton()\n            })\n            return Static.instance!\n        }\n    }\n\n}\n</code></pre>\n\n<p>how to use:</p>\n\n<pre><code>UtilSingleton.shareInstance.iVal++\nprintln(\"singleton new iVal = \\(UtilSingleton.shareInstance.iVal)\")\n</code></pre>\n", "title": "Using a dispatch_once singleton model in Swift", "answer_id": 24076990, "question_id": 24024549, "tags": ["swift", "singleton", "dispatch"]}, {"body": "<p>After seeing David's implementation. It seems like there's no need to have a singleton class function instanceMethod since [let] is doing pretty much the same thing as a sharedInstance class method. All you need to do is declare it as a global constant and that would be it. </p>\n\n<pre><code>let gScopeManagerSharedInstance = ScopeManager()\n\nclass ScopeManager {\n // no need for a class method to return the shared instance. Use the gScopeManagerSharedInstance directly. \n}\n</code></pre>\n", "title": "Using a dispatch_once singleton model in Swift", "answer_id": 24093460, "question_id": 24024549, "tags": ["swift", "singleton", "dispatch"]}, {"body": "<p><em>tl;dr: Use the <strong>class constant</strong> approach if you are using Swift 1.2 or above and the <strong>nested struct</strong> approach if you need to support earlier versions.</em></p>\n\n<p>From my experience with Swift there are three approaches to implement the Singleton pattern that support lazy initialization and thread safety.</p>\n\n<h1>Class constant</h1>\n\n<pre><code>class Singleton  {\n   static let sharedInstance = Singleton()\n}\n</code></pre>\n\n<p>This approach supports lazy initialization because Swift lazily initializes class constants (and variables), and is thread safe by the definition of <code>let</code>. This is now <a href=\"https://developer.apple.com/library/ios/documentation/Swift/Conceptual/BuildingCocoaApps/AdoptingCocoaDesignPatterns.html#//apple_ref/doc/uid/TP40014216-CH7-ID14\">officially recommended way</a> to instantiate a singleton.</p>\n\n<p>Class constants were introduced in Swift 1.2. If you need to support an earlier version of Swift, use the nested struct approach below or a global constant.</p>\n\n<h1>Nested struct</h1>\n\n<pre><code>class Singleton {\n    class var sharedInstance: Singleton {\n        struct Static {\n            static let instance: Singleton = Singleton()\n        }\n        return Static.instance\n    }\n}\n</code></pre>\n\n<p>Here we are using the static constant of a nested struct as a class constant. This is a workaround for the lack of static class constants in Swift 1.1 and earlier, and still works as a workaround for the lack of static constants and variables in functions.</p>\n\n<h1>dispatch_once</h1>\n\n<p>The traditional Objective-C approach ported to Swift. I'm fairly certain there's no advantage over the nested struct approach but I'm putting it here anyway as I find the differences in syntax interesting.</p>\n\n<pre><code>class Singleton {\n    class var sharedInstance: Singleton {\n        struct Static {\n            static var onceToken: dispatch_once_t = 0\n            static var instance: Singleton? = nil\n        }\n        dispatch_once(&amp;Static.onceToken) {\n            Static.instance = Singleton()\n        }\n        return Static.instance!\n    }\n}\n</code></pre>\n\n<p>See this <a href=\"https://github.com/hpique/SwiftSingleton\">GitHub</a> project for unit tests.</p>\n", "title": "Using a dispatch_once singleton model in Swift", "answer_id": 24147830, "question_id": 24024549, "tags": ["swift", "singleton", "dispatch"]}, {"body": "<p>I prefer this implementation:</p>\n\n<pre><code>class APIClient {\n\n}\n\nvar sharedAPIClient: APIClient = {\n    return APIClient()\n}()\n\nextension APIClient {\n    class func sharedClient() -&gt; APIClient {\n        return sharedAPIClient\n    }\n}\n</code></pre>\n", "title": "Using a dispatch_once singleton model in Swift", "answer_id": 24174127, "question_id": 24024549, "tags": ["swift", "singleton", "dispatch"]}, {"body": "<p>If you are planning on using your Swift singleton class in Objective-C, this setup will have the compiler generate appropriate Objective-C-like header(s):</p>\n\n<pre><code>class func sharedStore() -&gt; ImageStore {\nstruct Static {\n    static let instance : ImageStore = ImageStore()\n    }\n    return Static.instance\n}\n</code></pre>\n\n<p>Then in Objective-C class you can call your singleton the way you did it in pre-Swift days:</p>\n\n<pre><code>[ImageStore sharedStore];\n</code></pre>\n\n<p>This is just my simple implementation.</p>\n", "title": "Using a dispatch_once singleton model in Swift", "answer_id": 24231694, "question_id": 24024549, "tags": ["swift", "singleton", "dispatch"]}, {"body": "<p>I would suggest an Enum, like you would use in Java, e.g.:</p>\n\n<pre><code>enum SharedTPScopeManager: TPScopeManager {\n  case Singleton\n}\n</code></pre>\n", "title": "Using a dispatch_once singleton model in Swift", "answer_id": 24318482, "question_id": 24024549, "tags": ["swift", "singleton", "dispatch"]}, {"body": "<p>Just for reference, here is an example Singleton implementation of Jack Wu/hpique's Nested Struct implementation. The implementation also shows how archiving could work, as well as some accompanying functions. I couldn't find this complete of an example, so hopefully this helps somebody!</p>\n\n<pre><code>import Foundation\n\nclass ItemStore: NSObject {\n\n    class var sharedStore : ItemStore {\n        struct Singleton {\n            // lazily initiated, thread-safe from \"let\"\n            static let instance = ItemStore()\n        }\n        return Singleton.instance\n    }\n\n    var _privateItems = Item[]()\n    // The allItems property can't be changed by other objects\n    var allItems: Item[] {\n        return _privateItems\n    }\n\n    init() {\n        super.init()\n        let path = itemArchivePath\n        // Returns \"nil\" if there is no file at the path\n        let unarchivedItems : AnyObject! = NSKeyedUnarchiver.unarchiveObjectWithFile(path)\n\n        // If there were archived items saved, set _privateItems for the shared store equal to that\n        if unarchivedItems {\n            _privateItems = unarchivedItems as Array&lt;Item&gt;\n        } \n\n        delayOnMainQueueFor(numberOfSeconds: 0.1, action: {\n            assert(self === ItemStore.sharedStore, \"Only one instance of ItemStore allowed!\")\n        })\n    }\n\n    func createItem() -&gt; Item {\n        let item = Item.randomItem()\n        _privateItems.append(item)\n        return item\n    }\n\n    func removeItem(item: Item) {\n        for (index, element) in enumerate(_privateItems) {\n            if element === item {\n                _privateItems.removeAtIndex(index)\n                // Delete an items image from the image store when the item is \n                // getting deleted\n                ImageStore.sharedStore.deleteImageForKey(item.itemKey)\n            }\n        }\n    }\n\n    func moveItemAtIndex(fromIndex: Int, toIndex: Int) {\n        _privateItems.moveObjectAtIndex(fromIndex, toIndex: toIndex)\n    }\n\n    var itemArchivePath: String {\n        // Create a filepath for archiving\n        let documentDirectories = NSSearchPathForDirectoriesInDomains(NSSearchPathDirectory.DocumentDirectory, NSSearchPathDomainMask.UserDomainMask, true)\n        // Get the one document directory from that list\n        let documentDirectory = documentDirectories[0] as String\n        // append with the items.archive file name, then return\n        return documentDirectory.stringByAppendingPathComponent(\"items.archive\")\n    }\n\n    func saveChanges() -&gt; Bool {\n        let path = itemArchivePath\n        // Return \"true\" on success\n        return NSKeyedArchiver.archiveRootObject(_privateItems, toFile: path)\n    }\n}\n</code></pre>\n\n<p>And if you didn't recognize some of those functions, here is a little living Swift utility file I've been using:</p>\n\n<pre><code>import Foundation\nimport UIKit\n\ntypealias completionBlock = () -&gt; ()\n\nextension Array {\n    func contains(#object:AnyObject) -&gt; Bool {\n        return self.bridgeToObjectiveC().containsObject(object)\n    }\n\n    func indexOf(#object:AnyObject) -&gt; Int {\n        return self.bridgeToObjectiveC().indexOfObject(object)\n    }\n\n    mutating func moveObjectAtIndex(fromIndex: Int, toIndex: Int) {\n        if ((fromIndex == toIndex) || (fromIndex &gt; self.count) ||\n            (toIndex &gt; self.count)) {\n                return\n        }\n        // Get object being moved so it can be re-inserted\n        let object = self[fromIndex]\n\n        // Remove object from array\n        self.removeAtIndex(fromIndex)\n\n        // Insert object in array at new location\n        self.insert(object, atIndex: toIndex)\n    }\n}\n\nfunc delayOnMainQueueFor(numberOfSeconds delay:Double, action closure:()-&gt;()) {\n    dispatch_after(\n        dispatch_time(\n            DISPATCH_TIME_NOW,\n            Int64(delay * Double(NSEC_PER_SEC))\n        ),\n        dispatch_get_main_queue()) {\n            closure()\n    }\n}\n</code></pre>\n", "title": "Using a dispatch_once singleton model in Swift", "answer_id": 24439255, "question_id": 24024549, "tags": ["swift", "singleton", "dispatch"]}, {"body": "<p>My way of implementation in Swift...</p>\n\n<p><strong>ConfigurationManager.swift</strong></p>\n\n<pre><code>import Foundation\n\n    let ConfigurationManagerSharedInstance = ConfigurationManager()\n class ConfigurationManager : NSObject {\n    var globalDic: NSMutableDictionary = NSMutableDictionary()\n\nclass var sharedInstance:ConfigurationManager {\n    return ConfigurationManagerSharedInstance\n\n}\n\ninit() {\n\n    super.init()\n\n    println (\"Config Init been Initiated, this will be called only onece irrespective of many calls\")   \n\n}\n</code></pre>\n\n<p>Access the globalDic from any screen of the application by the below.</p>\n\n<p>Read:</p>\n\n<pre><code> println(ConfigurationManager.sharedInstance.globalDic)  \n</code></pre>\n\n<p>Write:</p>\n\n<pre><code> ConfigurationManager.sharedInstance.globalDic = tmpDic // tmpDict is any value that to be shared among the application\n</code></pre>\n", "title": "Using a dispatch_once singleton model in Swift", "answer_id": 24930634, "question_id": 24024549, "tags": ["swift", "singleton", "dispatch"]}, {"body": "<p><strong>First solution</strong></p>\n\n<pre><code>let SocketManager = SocketManagerSingleton();\n\nclass SocketManagerSingleton {\n\n}\n</code></pre>\n\n<p>Later in your code:</p>\n\n<pre><code>func someFunction() {        \n    var socketManager = SocketManager        \n}\n</code></pre>\n\n<p><strong>Second solution</strong></p>\n\n<pre><code>func SocketManager() -&gt; SocketManagerSingleton {\n    return _SocketManager\n}\nlet _SocketManager = SocketManagerSingleton();\n\nclass SocketManagerSingleton {\n\n}\n</code></pre>\n\n<p>And later in your code you will be able to keep braces for less confusion:</p>\n\n<pre><code>func someFunction() {        \n    var socketManager = SocketManager()        \n}\n</code></pre>\n", "title": "Using a dispatch_once singleton model in Swift", "answer_id": 25474418, "question_id": 24024549, "tags": ["swift", "singleton", "dispatch"]}, {"body": "<p>Swift Singletons are exposed in the cocoa frameworks as class functions, e.g. <code>NSFileManager.defaultManager()</code>, <code>NSNotificationCenter.defaultCenter()</code>, so I feel it makes more sense as a class function to mirror this behaviour, rather than a class variable as some other solutions use e.g.</p>\n\n<pre><code>class MyClass {\n\n    private static let _sharedInstance = MyClass()\n\n    class func sharedInstance() -&gt; MyClass {\n        return _sharedInstance\n    }\n}\n</code></pre>\n\n<p>Retrieve the singleton via <code>MyClass.sharedInstance()</code></p>\n", "title": "Using a dispatch_once singleton model in Swift", "answer_id": 27914514, "question_id": 24024549, "tags": ["swift", "singleton", "dispatch"]}, {"body": "<pre><code>   func init() -&gt; ClassA {\n    struct Static {\n        static var onceToken : dispatch_once_t = 0\n        static var instance : ClassA? = nil\n    }\n\n    dispatch_once(&amp;Static.onceToken) {\n        Static.instance = ClassA()\n    }\n\n    return Static.instance!\n}\n</code></pre>\n", "title": "Using a dispatch_once singleton model in Swift", "answer_id": 28165503, "question_id": 24024549, "tags": ["swift", "singleton", "dispatch"]}, {"body": "<p>Swift 1.2 now supports static variables/constants in classes. So you can just use a static constant:</p>\n\n<pre><code>class MySingleton {\n\n    static let sharedMySingleton = MySingleton()\n\n    private init() {\n        // ...\n    }\n}\n</code></pre>\n", "title": "Using a dispatch_once singleton model in Swift", "answer_id": 28436202, "question_id": 24024549, "tags": ["swift", "singleton", "dispatch"]}, {"body": "<p>Per the <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/BuildingCocoaApps/AdoptingCocoaDesignPatterns.html#singleton\">Apple documentation</a>, it has been repeated many times that the easiest way to do this in Swift is with a static type property:</p>\n\n<pre><code>class Singleton {\n    static let sharedInstance = Singleton()\n}\n</code></pre>\n\n<p>However, if you're looking for a way to perform additional setup beyond a simple constructor call, the secret is to use an immediately invoked closure:</p>\n\n<pre><code>class Singleton {\n    static let sharedInstance: Singleton = {\n        let instance = Singleton()\n        // setup code\n        return instance\n    }()\n}\n</code></pre>\n\n<p>This is guaranteed to be thread-safe and lazily initialized only once.</p>\n", "title": "Using a dispatch_once singleton model in Swift", "answer_id": 32646313, "question_id": 24024549, "tags": ["swift", "singleton", "dispatch"]}, {"body": "<pre><code>final class MediaModel: NSObject {\n\n    static let sharedMyManager = MediaModel()\n\n    private override init() {\n        super.init()\n    }\n}\n</code></pre>\n\n<p>Then call it;</p>\n\n<pre><code>let sharedManager = MediaModel.sharedMyManager\n</code></pre>\n", "title": "Using a dispatch_once singleton model in Swift", "answer_id": 33758825, "question_id": 24024549, "tags": ["swift", "singleton", "dispatch"]}, {"body": "<p>This is my implementation. It also prevents the programmer from creating a new instance:</p>\n\n<pre><code>let TEST = Test()\n\nclass Test {\n\n    private init() {\n        // This is a private (!) constructor\n    }\n}\n</code></pre>\n", "title": "Using a dispatch_once singleton model in Swift", "answer_id": 34491400, "question_id": 24024549, "tags": ["swift", "singleton", "dispatch"]}, {"body": "<p>In brief,</p>\n\n<pre><code>class Manager {\n    static let sharedInstance = Manager()\n    private init() {}\n}\n</code></pre>\n\n<p>You may want to read <a href=\"https://developer.apple.com/swift/blog/?id=7\" rel=\"nofollow\">Files and Initialization</a></p>\n\n<blockquote>\n  <p>The lazy initializer for a global variable (also for static members of\n  structs and enums) is run the first time that global is accessed, and\n  is launched as <code>dispatch_once</code> to make sure that the initialization is\n  atomic.</p>\n</blockquote>\n", "title": "Using a dispatch_once singleton model in Swift", "answer_id": 34996627, "question_id": 24024549, "tags": ["swift", "singleton", "dispatch"]}, {"body": "<p>I just came across with this, but i required my singleton to allow inheritance, and none of these solutions actually allowed it.</p>\n\n<p>So i came up with this:</p>\n\n<pre><code>public class Singleton {\n  private static var sharedInstanceVar = Singleton()\n\n  public class func sharedInstance()-&gt;Singleton {\n    return sharedInstanceVar\n  }\n}\n\n\n\npublic class SubSingleton: Singleton {\n\n  private static var sharedInstanceToken:dispatch_once_t = 0\n\n  public class override func sharedInstance()-&gt;SubSingleton {\n    dispatch_once(&amp;sharedInstanceToken){\n      sharedInstanceVar = SubSingleton()\n    }\n    return sharedInstanceVar as! SubSingleton\n  }\n}\n</code></pre>\n\n<ul>\n<li>This way when doing Singleton.sharedInstance() first it will return the instance of Singleton</li>\n<li>When doing SubSingleton.sharedInstance() first it will return the instance of SubSingleton created. </li>\n<li>If the above is done, then SubSingleton.sharedInstance() is Singleton is true and the same instance is used.</li>\n</ul>\n\n<p>The issue with this first dirty approach is that i cannot guarantee that subclasses would implement the dispatch_once_t and make sure that sharedInstanceVar is only modified once per class... </p>\n\n<p>I will try to refine this further but it would be interesting to see if anyone has strong feelings against this (besides the fact that is verbose and requires to manually update it)</p>\n", "title": "Using a dispatch_once singleton model in Swift", "answer_id": 35190136, "question_id": 24024549, "tags": ["swift", "singleton", "dispatch"]}, {"body": "<p>The best approach in swift above 1.2 is one line singleton as - </p>\n\n<pre><code>class Shared: NSObject {\n\nstatic let sharedInstance = Shared()\n\nprivate override init() { }\n}\n</code></pre>\n\n<p>To know more detail about this approach you can visit this <a href=\"http://iosbucket.blogspot.in/2016/04/singleton-in-swift-best-way-to-create.html\" rel=\"nofollow\">link</a></p>\n", "title": "Using a dispatch_once singleton model in Swift", "answer_id": 36814044, "question_id": 24024549, "tags": ["swift", "singleton", "dispatch"]}, {"body": "<pre><code>private var sharedURLCacheForRequestsKey:Void?\nextension URLCache{\npublic static func sharedURLCacheForRequests()-&gt;URLCache{\n    var cache = objc_getAssociatedObject(OperationQueue.main, &amp;sharedURLCacheForRequestsKey)\n    if cache is URLCache {\n\n    }else{\n        cache = URLCache(memoryCapacity: 0, diskCapacity: 1*1024*1024*1024, diskPath: \"sharedURLCacheForRequestsKey\")\n        objc_setAssociatedObject(OperationQueue.main, &amp;sharedURLCacheForRequestsKey, cache, .OBJC_ASSOCIATION_RETAIN_NONATOMIC)\n\n    }\n    return cache as! URLCache\n}}\n</code></pre>\n", "title": "Using a dispatch_once singleton model in Swift", "answer_id": 38324914, "question_id": 24024549, "tags": ["swift", "singleton", "dispatch"]}, {"body": "<p><strong>Swift 3+</strong></p>\n\n<pre><code>protocol Singleton: class {\n    static var sharedInstance: Self { get }\n}\n\nfinal class Kraken: Singleton {\n    static let sharedInstance = Kraken()\n    private init() {}\n}\n</code></pre>\n", "title": "Using a dispatch_once singleton model in Swift", "answer_id": 39412048, "question_id": 24024549, "tags": ["swift", "singleton", "dispatch"]}], "question_id": 24024549}, {"body": "<p>Keyboard does not show up when I run the simulator, and then click in the UITextView. How do I re-enable the keyboard?</p>\n\n<p>It used to work but now it doesn't - I don't know what I might have clicked on accident... any tips would be appreciated!</p>\n", "title": "Xcode 6: Keyboard does not show up in simulator", "tags": ["ios", "keyboard"], "answer_count": 8, "link": "http://stackoverflow.com/questions/24420873/xcode-6-keyboard-does-not-show-up-in-simulator", "answers": [{"body": "<p>It would be difficult to say if there's any issue with your code without checking it out, however this happens to me quite a lot in (Version 6.0 (6A216f)). I usually have to reset the simulator's Content and Settings and/or restart xCode to get it working again. Try those and see if that solves the problem.</p>\n", "title": "Xcode 6: Keyboard does not show up in simulator", "answer_id": 24420893, "question_id": 24420873, "tags": ["ios", "keyboard"]}, {"body": "<p>I had the same issue. My solution was as follows:</p>\n\n<ol>\n<li>iOS Simulator -> Hardware -> Keyboard</li>\n<li>Uncheck \"Connect Hardware Keyboard\"</li>\n</ol>\n\n<p>Mine was checked because I was using my mac keyboard, but if you make sure it is unchecked the iPhone keyboard will always come up.</p>\n", "title": "Xcode 6: Keyboard does not show up in simulator", "answer_id": 24497773, "question_id": 24420873, "tags": ["ios", "keyboard"]}, {"body": "<p>While testing in the ios8 beta simulator, you may toggle between the \"software keyboard\" and \"hardware keyboard\" with <strong>\u2318K</strong>.</p>\n\n<p><strong>UPDATE</strong>: Since iOS Simulator 8.0, the shortcut is <strong>\u21e7\u2318K</strong>.</p>\n", "title": "Xcode 6: Keyboard does not show up in simulator", "answer_id": 25053454, "question_id": 24420873, "tags": ["ios", "keyboard"]}, {"body": "<p><em>Simulator -> Hardware -> Keyboard -> Toggle Software Keyboard</em> should solve this problem.</p>\n\n<p><img src=\"http://i.stack.imgur.com/mJcDq.png\" alt=\"Simulator-&gt;Hardware-&gt;Keyboard-&gt;Toggle Software Keyboard\"></p>\n", "title": "Xcode 6: Keyboard does not show up in simulator", "answer_id": 26417447, "question_id": 24420873, "tags": ["ios", "keyboard"]}, {"body": "<p>You can use Command + Shift + K to show keyboard</p>\n", "title": "Xcode 6: Keyboard does not show up in simulator", "answer_id": 26587740, "question_id": 24420873, "tags": ["ios", "keyboard"]}, {"body": "<p><em>To enable/disable simulator keyboard,</em></p>\n\n<p><strong>\u2318 + K (Ctrl + k)</strong></p>\n\n<p><em>To disable input from your keyboard,</em></p>\n\n<p><strong>iOS Simulator -> Hardware -> Keyboard -> Uncheck \"Connect Hardware Keyboard\"</strong></p>\n", "title": "Xcode 6: Keyboard does not show up in simulator", "answer_id": 26816314, "question_id": 24420873, "tags": ["ios", "keyboard"]}, {"body": "<p>This seems to be bug in iOS 8. There are two fix to this problem :</p>\n\n<ol>\n<li><p>Toggle between simulator keyboard and MacBook keyboard using <strong>[Command+K]</strong> shortcut key.</p></li>\n<li><p>Reattach keyboard to simulator :</p>\n\n<p>a. Open Simulator</p>\n\n<p>b. Select <strong>Hardware -> Keyboard</strong></p>\n\n<p>c. Uncheck and then check '<strong>Connect Hardware Keyboard</strong>'</p></li>\n</ol>\n\n<p><img src=\"http://i.stack.imgur.com/AU9Qd.png\" alt=\"Screenshot for step 2\"></p>\n\n<p>OR simply press <strong>[Shit + Command + K] shortcut key</strong></p>\n", "title": "Xcode 6: Keyboard does not show up in simulator", "answer_id": 26884074, "question_id": 24420873, "tags": ["ios", "keyboard"]}, {"body": "<p>By using Cmd + Shift + K will enable as well as disable keypad.</p>\n", "title": "Xcode 6: Keyboard does not show up in simulator", "answer_id": 35193990, "question_id": 24420873, "tags": ["ios", "keyboard"]}], "question_id": 24420873}, {"body": "<p>There are a lot of questions about this problem on SO:</p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/4401232/avfoundation-how-to-turn-off-the-shutter-sound-when-capturestillimageasynchrono\">AVFoundation, how to turn off the shutter sound when captureStillImageAsynchronouslyFromConnection?</a></li>\n<li><a href=\"http://stackoverflow.com/questions/9557081/how-can-i-mute-the-capture-sound-in-avfoundation\">How can I mute the capture sound in AVFoundation?</a></li>\n<li><a href=\"http://stackoverflow.com/questions/17040309/i-wish-i-could-mute-shutter-sound-of-camera-using-ios-sdk\">I wish i could mute shutter sound of camera using ios sdk</a></li>\n</ul>\n\n<p>But really no one answer works for me.</p>\n\n<p>How do I capture an image programmatically without the camera shutter sound activating?</p>\n", "title": "Capture image via captureStillImageAsynchronouslyFromConnection with no shutter sound", "tags": ["ios", "objective-c", "avfoundation"], "answer_count": 0, "link": "http://stackoverflow.com/questions/23758875/capture-image-via-capturestillimageasynchronouslyfromconnection-with-no-shutter", "question_id": 23758875}, {"body": "<p>I use postgres from homebrew in my OS X, but when I reboot my system, sometimes the postgres doesn't start after the reboot, and so I manually tried to start it with <code>postgres -D /usr/local/var/postgres</code>, but then the error occurred with the following message: <code>FATAL:  could not open directory \"pg_tblspc\": No such file or directory</code>.</p>\n\n<p>The last time it occurred, I couldn't get it to the original state, so I decided to uninstall the whole postgres system and then re-installed it and created users, tables, datasets, etc... It was so disgusting, but it frequently occurs on my system, say once in a few months.</p>\n\n<p>So why does it lose the <code>pg_tblspc</code> file frequently? And is there anything that I can do to avoid the loss of the file?</p>\n\n<p>I haven't upgraded my homebrew and postgres to the latest version (i.e. I've been using the same version). Also, all the things that I did on the postgres database is delete the table and populate the new data every day. I haven't changed the user, password, etc...</p>\n\n<p>EDIT (mbannert): \nI felt the need to add this, since the thread is the top hit on google for this issue and for many the symptom is different. Homebrewers likely will encounter this error message:</p>\n\n<pre><code>No such file or directory\nIs the server running locally and accepting\nconnections on Unix domain socket \"/tmp/.s.PGSQL.5432\"?\n</code></pre>\n\n<p>So, if you just experienced this after the Yosemite upgrade you now you're covered for now reading this thread.</p>\n", "title": "`pg_tblspc` missing after installation of latest version of OS X (Yosemite or El Capitan)", "tags": ["osx", "postgresql", "homebrew", "osx-yosemite"], "answer_count": 5, "link": "http://stackoverflow.com/questions/25970132/pg-tblspc-missing-after-installation-of-latest-version-of-os-x-yosemite-or-el", "answers": [{"body": "<p>Solved... in part.</p>\n\n<p>Apparently, Installing the latest versions of OS X (e.g. Yosemite or El Capitan) removes some directories in <code>/usr/local/var/postgres</code>.</p>\n\n<p>To fix this you simply recreate the missing directories:</p>\n\n<pre><code>mkdir /usr/local/var/postgres/pg_tblspc\nmkdir /usr/local/var/postgres/pg_twophase\nmkdir /usr/local/var/postgres/pg_stat\nmkdir /usr/local/var/postgres/pg_stat_tmp\nmkdir /usr/local/var/postgres/pg_replslot\nmkdir /usr/local/var/postgres/pg_snapshots\n</code></pre>\n\n<p>Or, more concisely (<em>thanks to <a href=\"http://stackoverflow.com/users/761771/nate\">Nate</a></em>):</p>\n\n<pre><code>mkdir /usr/local/var/postgres/{pg_tblspc,pg_twophase,pg_stat,pg_stat_tmp,pg_replslot,pg_snapshots}/\n</code></pre>\n\n<p>Rerunning <code>pg_ctl start -D /usr/local/var/postgres</code> now starts the server normally and, at least for me, without any data loss.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>On my system, some of those directories are empty even when Postgres is running.  Maybe, as part of some \"cleaning\" operation, Yosemite removes any empty directories? In any case, I went ahead and created a '.keep' file in each directory to prevent future deletion.</p>\n\n<pre><code>touch /usr/local/var/postgres/{pg_tblspc,pg_twophase,pg_stat,pg_stat_tmp,pg_replslot,pg_snapshots}/.keep\n</code></pre>\n\n<p><strong><em>Note</strong>: Creating the <code>.keep</code> file in those directories will create some noise in your logfile, but doesn't appear to negatively affect anything else.</em></p>\n", "title": "`pg_tblspc` missing after installation of latest version of OS X (Yosemite or El Capitan)", "answer_id": 26001639, "question_id": 25970132, "tags": ["osx", "postgresql", "homebrew", "osx-yosemite"]}, {"body": "<p>Creating the missing directories certainly works but I fixed it by reinititializing postgres db, this is a cleaner approach to avoid future problems.</p>\n\n<p><strong>NOTE: This approach will delete existing databases</strong></p>\n\n<pre><code>$ rm -r /usr/local/var/postgres\n$ initdb -D /usr/local/var/postgres\n</code></pre>\n", "title": "`pg_tblspc` missing after installation of latest version of OS X (Yosemite or El Capitan)", "answer_id": 26436112, "question_id": 25970132, "tags": ["osx", "postgresql", "homebrew", "osx-yosemite"]}, {"body": "<p>This is slightly off-topic but worth noting here as part of the PostgreSQL Yosemite recovery process.  I had the same issue as above AND I had an issue with PostgreSQL \"seemingly\" running in the background so even after adding directories I couldn't restart.  I tried using <code>pg_ctl stop -m fast</code> to kill the PostgreSQL server but no luck.  I also tried going after the process directly with <code>kill PID</code> but as soon as I did that a PostgreSQL process re-appeared with a different PID.</p>\n\n<p>The key ended up being a <code>.plist</code> file that Homebrew had loaded...  The fix for me ended up being:</p>\n\n<pre><code>launchctl unload /Users/me/Library/LaunchAgents/homebrew.mxcl.postgresql92.plist\n</code></pre>\n\n<p>After that I was able to start PostgreSQL normally.</p>\n", "title": "`pg_tblspc` missing after installation of latest version of OS X (Yosemite or El Capitan)", "answer_id": 26659032, "question_id": 25970132, "tags": ["osx", "postgresql", "homebrew", "osx-yosemite"]}, {"body": "<p><a href=\"http://stackoverflow.com/users/1794315/donovan\">Donavan</a>'s answer is spot on, I just wanted to add that as i did different things with the database (e.g. <code>rake db:test</code>), it went looking for different directories that haven't been mentioned above and would choke when they weren't present, in my case <code>pg_logical/mappings</code>, so you may want to setup a terminal running:</p>\n\n<pre><code>tail -f /usr/local/var/postgres/server.log\n</code></pre>\n\n<p>and watch it for missing folders while you go thru your typical database activities. </p>\n", "title": "`pg_tblspc` missing after installation of latest version of OS X (Yosemite or El Capitan)", "answer_id": 28647111, "question_id": 25970132, "tags": ["osx", "postgresql", "homebrew", "osx-yosemite"]}, {"body": "<p>The missing directories need to be present in your PostgreSQL data directory. The default data directory is <code>/usr/local/var/postgres/</code>. If you have set up a different data directory, you need to re-create the missing directories there. If you modified the homebrew-recommended <code>.plist</code> file that starts PostgreSQL, you can find the data directory there:</p>\n\n<pre><code>cat ~/Library/LaunchAgents/homebrew.mxcl.postgresql.plist\n</code></pre>\n\n<p>(it's the <code>-D</code> option you started postgres with:)</p>\n\n<pre><code>  &lt;key&gt;ProgramArguments&lt;/key&gt;\n  &lt;array&gt;\n    &lt;string&gt;/usr/local/bin/postgres&lt;/string&gt;\n    &lt;string&gt;-D&lt;/string&gt;\n    &lt;string&gt;/usr/local/pgsql/data&lt;/string&gt;\n</code></pre>\n\n<p>In the example above, you'd create the missing directories in <code>/usr/local/pgsql/data</code>, like so:</p>\n\n<pre><code>cd /usr/local/pgsql/data\nmkdir {pg_tblspc,pg_twophase,pg_stat,pg_stat_tmp,pg_replslot,pg_snapshots,pg_logical}\nmkdir pg_logical/{snapshots,mappings}\n</code></pre>\n", "title": "`pg_tblspc` missing after installation of latest version of OS X (Yosemite or El Capitan)", "answer_id": 30308783, "question_id": 25970132, "tags": ["osx", "postgresql", "homebrew", "osx-yosemite"]}], "question_id": 25970132}, {"body": "<p>How do you get the length of a <code>String</code>? For example I have a variable defined like:</p>\n\n<pre><code>var test1: String = \"Scott\"\n</code></pre>\n\n<p>However I can't seem to find a length method on the string.</p>\n", "title": "Get the length of a String", "tags": ["ios", "string", "osx", "swift"], "answer_count": 30, "link": "http://stackoverflow.com/questions/24037711/get-the-length-of-a-string", "answers": [{"body": "<p>Use the count characters method:</p>\n\n<pre><code>let unusualMenagerie = \"Koala &amp;#128040;, Snail &amp;#128012;, Penguin &amp;#128039;, Dromedary &amp;#128042;\"\nprintln(\"unusualMenagerie has \\(count(unusualMenagerie)) characters\")\n// prints \"unusualMenagerie has 40 characters\"\n</code></pre>\n\n<p>right from the Apple Swift Guide</p>\n\n<p>(note, for versions of Swift earlier than 1.2, this would be <code>countElements(unusualMenagerie)</code> instead)</p>\n\n<p>for your variable, it would be</p>\n\n<pre><code>length = count(test1) // was countElements in earlier versions of Swift\n</code></pre>\n\n<p>Or you can use test1.utf16count</p>\n\n<p><strong>EDIT:</strong>\n<strong>With Swift 2, Apple has changed global functions to protocol extensions</strong>, extensions that match any type conforming to a protocol. Thus the new syntax is:</p>\n\n<pre><code>test1.characters.count\n</code></pre>\n\n<p>(Thanks to JohnDifool for the heads up)</p>\n", "title": "Get the length of a String", "answer_id": 24037756, "question_id": 24037711, "tags": ["ios", "string", "osx", "swift"]}, {"body": "<p>You could try like this  </p>\n\n<pre><code> var test1: String = \"Scott\"\n var length =  test1.bridgeToObjectiveC().length\n</code></pre>\n", "title": "Get the length of a String", "answer_id": 24037757, "question_id": 24037711, "tags": ["ios", "string", "osx", "swift"]}, {"body": "<h1>TLDR:</h1>\n\n<p>Use the <code>test1.characters.count</code>. But, there are a few things you should know. So, read on.</p>\n\n<h1>Counting characters in Swift</h1>\n\n<p>Before Swift 2.0, <code>count</code> was a global function. As of Swift 2.0, it can be called as a member function.</p>\n\n<pre><code>test1.characters.count\n</code></pre>\n\n<p>It will return the actual number of Unicode characters in a <code>String</code>, so it's the most correct alternative in the sense that, if you'd print the string and count characters by hand, you'd get the same result.</p>\n\n<p>However, because of the way <code>Strings</code> are implemented in Swift, characters don't always take up the same amount of memory, so be aware that this behaves quite differently than the usual character count methods in other languages. </p>\n\n<p>For example, you can also explicitly bridge to Objective-C and use the <code>NSString</code> <code>length</code> method.</p>\n\n<pre><code>test1.bridgeToObjectiveC().length\n</code></pre>\n\n<p>This is effectively the same as <code>test1.utf16Count</code></p>\n\n<p>But, as noted below, the returned value is not guaranteed to be the same as that of calling <code>count()</code></p>\n\n<p>From the language reference:</p>\n\n<blockquote>\n  <p>Different Unicode characters and different representations of the same\n  Unicode character can require different amounts of memory to store.\n  Because of this, characters in Swift do not each take up the same\n  amount of memory within a string\u2019s representation. As a result, the\n  length of a string cannot be calculated without iterating through the\n  string to consider each of its characters in turn. If you are working\n  with particularly long string values, be aware that the countElements\n  function must iterate over the characters within a string in order to\n  calculate an accurate character count for that string.</p>\n  \n  <p>Note also that the character count returned by countElements is not\n  always the same as the length property of an NSString that contains\n  the same characters. The length of an NSString is based on the number\n  of 16-bit code units within the string\u2019s UTF-16 representation and not\n  the number of Unicode characters within the string. To reflect this\n  fact, the length property from NSString is called utf16Count when it\n  is accessed on a Swift String value.\u201d</p>\n</blockquote>\n\n<p>An example that perfectly illustrates the situation described above is that of checking the length of a string containing a single emoji character, as pointed out by <a href=\"http://stackoverflow.com/users/397230/n00neimp0rtant\">n00neimp0rtant</a> in the comments.</p>\n\n<pre><code>var emoji = \"\ud83d\udc4d\"\nemoji.characters.count              //returns 1\nemoji.utf16Count                  //returns 2\nemoji.bridgeToObjectiveC().length //returns 2\n</code></pre>\n", "title": "Get the length of a String", "answer_id": 24037759, "question_id": 24037711, "tags": ["ios", "string", "osx", "swift"]}, {"body": "<p>Here's something shorter, and more natural than using a global function:</p>\n\n<pre><code>aString.utf16count\n</code></pre>\n\n<p>I don't know if it's available in beta 1, though. But it's definitely there in beta 2.</p>\n", "title": "Get the length of a String", "answer_id": 24294267, "question_id": 24037711, "tags": ["ios", "string", "osx", "swift"]}, {"body": "<p>Updated for Xcode 6 beta 4, change method utf16count --> utf16Count</p>\n\n<pre><code> var test1: String = \"Scott\"\n var length =  test1.utf16Count\n</code></pre>\n\n<p>Or</p>\n\n<pre><code> var test1: String = \"Scott\"\n var length = test1.lengthOfBytesUsingEncoding(NSUTF16StringEncoding)\n</code></pre>\n", "title": "Get the length of a String", "answer_id": 24879473, "question_id": 24037711, "tags": ["ios", "string", "osx", "swift"]}, {"body": "<p>If you are just trying to see if a string is empty or not (checking for length of 0), Swift offers a simple boolean test method on <code>String</code></p>\n\n<pre><code>myString.isEmpty\n</code></pre>\n\n<p>The other side of this coin was people asking in ObjectiveC how to ask if a string was empty where the answer was to check for a length of 0:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/3436173/nsstring-is-empty\">NSString is empty</a></p>\n", "title": "Get the length of a String", "answer_id": 25575326, "question_id": 24037711, "tags": ["ios", "string", "osx", "swift"]}, {"body": "<p><strong>tl;dr</strong> If you want the length of a String type in terms of the number of human-readable characters, use <strong>countElements()</strong>. If you want to know the length in terms of the number of <em>extended grapheme clusters</em>, use <strong>endIndex</strong>. Read on for details.</p>\n\n<p>The <strong>String</strong> type is implemented as an ordered collection (i.e., sequence) of Unicode characters, and it conforms to the <strong>CollectionType</strong> protocol, which conforms to the <strong>_CollectionType</strong> protocol, which is the input type expected by <strong>countElements()</strong>. Therefore, <strong>countElements()</strong> can be called, passing a <strong>String</strong> type, and it will return the count of characters.</p>\n\n<p>However, in conforming to <strong>CollectionType</strong>, which in turn conforms to <strong>_CollectionType</strong>, <strong>String</strong> also implements the <strong>startIndex</strong> and <strong>endIndex</strong> computed properties, which actually represent the position of the index <em>before</em> the first character cluster, and position of the index <em>after</em> the last character cluster, respectively. So, in the string \"ABC\", the position of the index before A is 0 and after C is 3. Therefore, <strong>endIndex</strong> = 3, which is also the length of the string.</p>\n\n<p>So, <strong>endIndex</strong> can be used to get the length of any String type, then, right?</p>\n\n<p>Well, not always...Unicode characters are actually <em>extended grapheme clusters</em>, which are sequences of one <em>or more</em> Unicode scalars combined to create a single human-readable character.</p>\n\n<pre><code> let circledStar: Character = \"\\u{2606}\\u{20DD}\" // \u2606\u20dd\n</code></pre>\n\n<p><strong>circledStar</strong> is a single character made up of U+2606 (a white star), and U+20DD (a combining enclosing circle). Let's create a <strong>String</strong> from <strong>circledStar</strong> and compare the results of <strong>countElements()</strong> and <strong>endIndex</strong>.</p>\n\n<pre><code>  let circledStarString = \"\\(circledStar)\"\n  countElements(circledStarString) // 1\n  circledStarString.endIndex // 2\n</code></pre>\n", "title": "Get the length of a String", "answer_id": 25581673, "question_id": 24037711, "tags": ["ios", "string", "osx", "swift"]}, {"body": "<pre><code>var str = \"Hello, playground\"\nvar newString = str as NSString    \n\ncountElements(str)\n</code></pre>\n\n<p>This counts the characters in Regular Swift String</p>\n\n<pre><code>countElements((newString as String))    \n</code></pre>\n\n<p>This counts the characters in a NSString</p>\n", "title": "Get the length of a String", "answer_id": 26344319, "question_id": 24037711, "tags": ["ios", "string", "osx", "swift"]}, {"body": "<pre><code>let str = \"Hello\"\nlet count = str.length    // returns 5 (Int)\n\nextension String {\n    var length: Int { return countElements(self) }  // Swift 1.1\n}\nextension String {\n    var length: Int { return count(self)         }  // Swift 1.2\n}\nextension String {\n    var length: Int { return characters.count    }  // Swift 2.0\n}\n</code></pre>\n", "title": "Get the length of a String", "answer_id": 26516178, "question_id": 24037711, "tags": ["ios", "string", "osx", "swift"]}, {"body": "<p>If you are looking for a cleaner way to get length of a string checkout this library which has bunch of extensions to the Swift built in classes <a href=\"http://www.dollarswift.org/#length\" rel=\"nofollow\">http://www.dollarswift.org/#length</a></p>\n\n<p>Using this library you can just do <code>\"Some Str\".length</code></p>\n", "title": "Get the length of a String", "answer_id": 27083191, "question_id": 24037711, "tags": ["ios", "string", "osx", "swift"]}, {"body": "<p>As of Swift 1.2 <code>utf16Count</code> has been removed. You should now use the global <code>count()</code> function and pass the UTF16 view of the string. Example below...</p>\n\n<pre><code>let string = \"Some string\"\ncount(string.utf16)\n</code></pre>\n", "title": "Get the length of a String", "answer_id": 28728313, "question_id": 24037711, "tags": ["ios", "string", "osx", "swift"]}, {"body": "<p>in xcode 6.1.1 </p>\n\n<pre><code>extension String\n{    \n    var length : Int { return self.utf16Count  }\n}\n</code></pre>\n\n<p>i think that brainiacs will change this on every minor version.</p>\n", "title": "Get the length of a String", "answer_id": 29004701, "question_id": 24037711, "tags": ["ios", "string", "osx", "swift"]}, {"body": "<p>another option would be:</p>\n\n<pre><code>Array(str).count\n</code></pre>\n\n<p>might not be as performance friendly tho</p>\n", "title": "Get the length of a String", "answer_id": 29546020, "question_id": 24037711, "tags": ["ios", "string", "osx", "swift"]}, {"body": "<p>Best way to count String in Swift is this:</p>\n\n<pre><code>var str = \"Hello World\"\nvar length = count(str.utf16)\n</code></pre>\n", "title": "Get the length of a String", "answer_id": 29602875, "question_id": 24037711, "tags": ["ios", "string", "osx", "swift"]}, {"body": "<p><strike>Swift 1.2 Update: There's no longer a countElements for counting the size of collections. Just use the count function as a replacement: count(\"Swift\")</strike></p>\n\n<p>Swift 2.0 Update:</p>\n\n<blockquote>\n  <p><strong>let strLength = string.characters.count</strong></p>\n</blockquote>\n", "title": "Get the length of a String", "answer_id": 29640421, "question_id": 24037711, "tags": ["ios", "string", "osx", "swift"]}, {"body": "<p>In Swift 2.0 <code>count</code> doesn't work anymore. You can use this instead:</p>\n\n<pre><code>var testString: String = \"Scott\"\nvar length = testString.characters.count\n</code></pre>\n", "title": "Get the length of a String", "answer_id": 30829374, "question_id": 24037711, "tags": ["ios", "string", "osx", "swift"]}, {"body": "<p>String and NSString are toll free bridge so you can use all methods available to NSString with swift String</p>\n\n<pre><code>let x = \"test\" as NSString\nlet y : NSString = \"string 2\"\nlet lenx = x.count\nlet leny = y.count\n</code></pre>\n", "title": "Get the length of a String", "answer_id": 30942355, "question_id": 24037711, "tags": ["ios", "string", "osx", "swift"]}, {"body": "<p>Using <strong>Xcode 6.4</strong>, <strong>Swift 1.2</strong> and <strong>iOS 8.4</strong>:</p>\n\n<pre><code>    //: Playground - noun: a place where people can play\n\n    import UIKit\n\n    var str = \"  He\\u{2606}  \"\n    count(str) // 7\n\n    let length = count(str.stringByTrimmingCharactersInSet(NSCharacterSet.whitespaceAndNewlineCharacterSet())) as Int // 3\n    println(length == 3) // true\n</code></pre>\n", "title": "Get the length of a String", "answer_id": 31639074, "question_id": 24037711, "tags": ["ios", "string", "osx", "swift"]}, {"body": "<p>None of this worked for me. After struggling, I found the following code:</p>\n\n<p>distance(string.startIndex, string.endIndex)</p>\n\n<p>At the moment I am working with swift 1.0., because swift 1.2 is in Xcode 7 and it is a beta.</p>\n", "title": "Get the length of a String", "answer_id": 31890476, "question_id": 24037711, "tags": ["ios", "string", "osx", "swift"]}, {"body": "<p>You can add this function to your extention</p>\n\n<pre><code>extension NSString { \n    func charLength() -&gt; Int {\n        return count(self as String)\n    }\n}\n</code></pre>\n", "title": "Get the length of a String", "answer_id": 32345213, "question_id": 24037711, "tags": ["ios", "string", "osx", "swift"]}, {"body": "<p>Swift 2.0:\nGet a count: <code>yourString.text.characters.count</code></p>\n\n<p>Fun example of how this is useful would be to show a character countdown from some number (150 for example) in a UITextView:</p>\n\n<pre><code>func textViewDidChange(textView: UITextView) {\n    yourStringLabel.text = String(150 - yourStringTextView.text.characters.count)\n}\n</code></pre>\n", "title": "Get the length of a String", "answer_id": 32881159, "question_id": 24037711, "tags": ["ios", "string", "osx", "swift"]}, {"body": "<p>Objective C:- String.length\nSwift2.0 :- String.character.count</p>\n", "title": "Get the length of a String", "answer_id": 33910446, "question_id": 24037711, "tags": ["ios", "string", "osx", "swift"]}, {"body": "<p>in Swift 2.x the following is how to find the length of a string</p>\n\n<pre><code>let findLength = \"This is a string of text\"\nfindLength.characters.count\n</code></pre>\n\n<p>returns 24</p>\n", "title": "Get the length of a String", "answer_id": 34481663, "question_id": 24037711, "tags": ["ios", "string", "osx", "swift"]}, {"body": "<p>You could use SwiftString (<a href=\"https://github.com/amayne/SwiftString\" rel=\"nofollow\">https://github.com/amayne/SwiftString</a>) to do this. </p>\n\n<p><code>\"string\".length // 6</code></p>\n\n<p>DISCLAIMER: I wrote this extension</p>\n", "title": "Get the length of a String", "answer_id": 35243999, "question_id": 24037711, "tags": ["ios", "string", "osx", "swift"]}, {"body": "<pre><code>test1.characters.count\n</code></pre>\n\n<p>will get you the number of letters/numbers etc in your string.</p>\n\n<p>ex:</p>\n\n<pre><code>test1 = \"StackOverflow\"\n\nprint(test1.characters.count)\n</code></pre>\n\n<p>(<strong>prints</strong> \"<strong><em>13</em></strong>\")</p>\n", "title": "Get the length of a String", "answer_id": 35817970, "question_id": 24037711, "tags": ["ios", "string", "osx", "swift"]}, {"body": "<p>You can use <code>str.utf8.count</code> and <code>str.utf16.count</code> which, I think, are the best solution</p>\n", "title": "Get the length of a String", "answer_id": 37235729, "question_id": 24037711, "tags": ["ios", "string", "osx", "swift"]}, {"body": "<p>For XCode 7.3 and Swift 2.2.</p>\n\n<pre><code>let str = \"\ud83d\udc36\"\n</code></pre>\n\n<p><strong>1)</strong> If you want the number of visual characters:</p>\n\n<pre><code>str.characters.count // 1\n</code></pre>\n\n<p><strong>2)</strong> If you want the <code>16-bit code units within the string\u2019s UTF-16 representation</code>:</p>\n\n<pre><code>str.utf16.count // 2\n</code></pre>\n\n<hr>\n\n<hr>\n\n<hr>\n\n<p>Most of the time, 1) is what you need.</p>\n\n<p>When would you need 2)? I've found a use case for 2):</p>\n\n<pre><code>let regex = try! NSRegularExpression(pattern:\"\ud83d\udc36\", \n    options: NSRegularExpressionOptions.UseUnixLineSeparators)\nlet str = \"\ud83d\udc36\ud83d\udc36\ud83d\udc36\ud83d\udc36\ud83d\udc36\ud83d\udc36\"\nlet result = regex.stringByReplacingMatchesInString(str, \n    options: NSMatchingOptions.WithTransparentBounds, \n    range: NSMakeRange(0, str.utf16.count), withTemplate: \"dog\")\nprint(result) // dogdogdogdogdogdog\n</code></pre>\n\n<p>If you use 1), the result is incorrect:</p>\n\n<pre><code>let result = regex.stringByReplacingMatchesInString(str, \n    options: NSMatchingOptions.WithTransparentBounds, \n    range: NSMakeRange(0, str.characters.count), withTemplate: \"dog\")\nprint(result) // dogdogdog\ud83d\udc36\ud83d\udc36\ud83d\udc36\n</code></pre>\n", "title": "Get the length of a String", "answer_id": 38169126, "question_id": 24037711, "tags": ["ios", "string", "osx", "swift"]}, {"body": "<pre><code>let myString = \"Hello this is testing string\"\nlet length = myString.utf16.count\nprint(\"Lenght of the string : \\(lenght)\")\n</code></pre>\n\n<p>This is one way to get the length of the string in swift. </p>\n", "title": "Get the length of a String", "answer_id": 38276698, "question_id": 24037711, "tags": ["ios", "string", "osx", "swift"]}, {"body": "<p>Apple made it different from other major language. The current way is to call:</p>\n\n<p>test1.characters.count</p>\n\n<p>However, to be careful, when you say length you mean the count of characters not the count of bytes, because those two can be different when you use non-ascii characters.</p>\n\n<p>For example;\n      <code>\"\u4f60\u597d\u554ahi\".characters.count</code> will give you 5 but this is not the count of the bytes.\n      To get the real count of bytes, you need to do <code>\"\u4f60\u597d\u554ahi\".lengthOfBytes(using: String.Encoding.utf8)</code>. This will give you 11.</p>\n", "title": "Get the length of a String", "answer_id": 39195419, "question_id": 24037711, "tags": ["ios", "string", "osx", "swift"]}, {"body": "<p>Right now (in Swift 2.3) if you use:</p>\n\n<pre><code>myString.characters.count \n</code></pre>\n\n<p>the method will return a \"Distance\" type, if you need the method to return an Integer you should type cast like so:</p>\n\n<pre><code>var count = myString.characters.count as Int\n</code></pre>\n", "title": "Get the length of a String", "answer_id": 39257372, "question_id": 24037711, "tags": ["ios", "string", "osx", "swift"]}], "question_id": 24037711}, {"body": "<p>I'm trying to make login with Facebook available in my script. I've done everything, but when I attempt to login with a Facebook account I get this error from Facebook:</p>\n\n<blockquote>\n  <p>Error</p>\n  \n  <p>App Not Setup: The developers of this app have not set up this app properly for Facebook Login.</p>\n</blockquote>\n\n<p>Here's error screenshot:</p>\n\n<p><img src=\"http://i.stack.imgur.com/Cz7co.png\" alt=\"enter image description here\"></p>\n\n<p>Any ideas?</p>\n", "title": "The developers of this app have not set up this app properly for Facebook Login?", "tags": ["android", "ios", "facebook", "facebook-graph-api"], "answer_count": 16, "link": "http://stackoverflow.com/questions/21329250/the-developers-of-this-app-have-not-set-up-this-app-properly-for-facebook-login", "answers": [{"body": "<p>Many reasons including: </p>\n\n<ol>\n<li>Sandbox mode is ON</li>\n<li>Domain name is different</li>\n<li>Site URL is different. </li>\n</ol>\n", "title": "The developers of this app have not set up this app properly for Facebook Login?", "answer_id": 21329316, "question_id": 21329250, "tags": ["android", "ios", "facebook", "facebook-graph-api"]}, {"body": "<p>the problem was you have to set </p>\n\n<blockquote>\n  <p>Do you want to make this app and all its live features available to the general public?</p>\n</blockquote>\n\n<p>set <code>status and review</code> to <code>ON</code> and problem solved </p>\n\n<p>enjoy coding</p>\n", "title": "The developers of this app have not set up this app properly for Facebook Login?", "answer_id": 21329790, "question_id": 21329250, "tags": ["android", "ios", "facebook", "facebook-graph-api"]}, {"body": "<p>Since the UI of the facebook has changed recently, here's the latest update for setting the sandbox mode ON/OFF :</p>\n\n<ol>\n<li><p>Go to <a href=\"https://developers.facebook.com/\">https://developers.facebook.com/</a></p></li>\n<li><p>Click on the Apps menu on the top bar.</p></li>\n<li><p>Select the respective app from the drop down.</p></li>\n<li><p>Go to 'Status &amp; Review' from the table in the left side of the page.</p></li>\n<li><p>Do you want to make this app and all its live features available to the general public? - Select switch to set YES/NO value.</p></li>\n</ol>\n\n<p><strong>Update:</strong> \nThe YES/NO button will be disabled until and unless you provide your contact email.</p>\n\n<ol>\n<li><p>Go to \"Settings\" in the left menu.</p></li>\n<li><p>Update your Contact Email.</p></li>\n<li><p>Hit the \"Save\" button at the bottom of the page.</p></li>\n</ol>\n\n<p><strong>Update:</strong> \n'Status &amp; Review' is replaced by 'App Review' now</p>\n", "title": "The developers of this app have not set up this app properly for Facebook Login?", "answer_id": 21426587, "question_id": 21329250, "tags": ["android", "ios", "facebook", "facebook-graph-api"]}, {"body": "<p>Okay - sandbox is off, domain has to be correct because 99% of the users can reach the app, and \"all its live features available to the general public\" is set to yes.</p>\n", "title": "The developers of this app have not set up this app properly for Facebook Login?", "answer_id": 21642171, "question_id": 21329250, "tags": ["android", "ios", "facebook", "facebook-graph-api"]}, {"body": "<p>If the app is still in <strong>private</strong> mode (<code>Status and Review</code> set to <strong>NO</strong>), then <strong>only</strong> Facebook users with role in the app can login. \nThat unless you set it to <strong>public</strong> (<code>Status and Review</code> set to <strong>YES</strong>).</p>\n\n<p>To add more users to be able to login to a private app:</p>\n\n<ol>\n<li>Go to <a href=\"https://developer.facebook.com\">https://developer.facebook.com</a></li>\n<li>Go to Apps ->  \"Your app\" -> Roles</li>\n<li>Choose Add Administrator,Developer or Tester.</li>\n</ol>\n", "title": "The developers of this app have not set up this app properly for Facebook Login?", "answer_id": 21833077, "question_id": 21329250, "tags": ["android", "ios", "facebook", "facebook-graph-api"]}, {"body": "<p>There are a bunch of possible things which could trigger this error:</p>\n\n<p>In your case, you just need to <code>add your facebook account into either tester, developer or admin of your facebook app</code> as you want to use that account to test.</p>\n\n<p>But if you see the error upon clicking <code>connect to facebook</code>(before you have chance to enter facebook credentials), then it means your current facebook account detected from cookie is not a valid tester/developer/admin account for your app.\nYour could either <code>add your account in</code> or just <code>hit facebook.com and sign out(to remove the undesired cookie)</code>.</p>\n", "title": "The developers of this app have not set up this app properly for Facebook Login?", "answer_id": 22333466, "question_id": 21329250, "tags": ["android", "ios", "facebook", "facebook-graph-api"]}, {"body": "<p>This resolved my issue if you do not want to make the app available to the public (keeping Status &amp; Review on <strong>NO</strong>)</p>\n\n<p>I  had to sign out of the previous account on the <strong>Facebook App</strong> and also remove the Facebook account in <strong>Settings</strong>. Removing just from the Settings will not remove the error because the App itself still has the previous account logged in. </p>\n\n<p>If  you have set your Roles as Administrator/Developer/Tester, you can put in that account login info in and it should work then. </p>\n", "title": "The developers of this app have not set up this app properly for Facebook Login?", "answer_id": 24957253, "question_id": 21329250, "tags": ["android", "ios", "facebook", "facebook-graph-api"]}, {"body": "<p>This error also occurs when you try to log in in your <strong>test version of the Facebook app</strong> and you have not added the user you are trying to test the log in with in the <strong>Roles -> Testers</strong> section.</p>\n\n<p>To fix it, just <strong>add the email address of the Facebook account you are trying to log in with</strong> in the section above.</p>\n\n<p>Finally, make sure the user you added accepts the request sent before you try to test otherwise the log in process will fail in the second screen just after the user accept the conditions.</p>\n", "title": "The developers of this app have not set up this app properly for Facebook Login?", "answer_id": 25255723, "question_id": 21329250, "tags": ["android", "ios", "facebook", "facebook-graph-api"]}, {"body": "<p>I had the same problem but now here is how I solved it<br>\nGo to <a href=\"https://developers.facebook.com/\" rel=\"nofollow\">https://developers.facebook.com/</a><br>\n\u2022  Click on the Apps menu on the top bar.<br>\n\u2022  Select the respective app from the drop down.<br>\n\u2022  Click Settings from the table in the left side of the page<br>\n\u2022  Then under the Contact Email type in your email you would like to use<br>\n\u2022  Then click save settings  button<br>\n\u2022  Go to 'Status &amp; Review' from the table in the left side of the page.<br>\n\u2022  Do you want to make this app and all its live features available to the general public? - Select switch to set YES/NO value.</p>\n", "title": "The developers of this app have not set up this app properly for Facebook Login?", "answer_id": 26072994, "question_id": 21329250, "tags": ["android", "ios", "facebook", "facebook-graph-api"]}, {"body": "<p>With respect to the all the other answers, here's the screenshot to help someone.</p>\n\n<hr>\n\n<ol>\n<li>Go to <a href=\"https://developers.facebook.com/\">https://developers.facebook.com/</a></li>\n</ol>\n\n<hr>\n\n<ol start=\"2\">\n<li>Click on the Apps menu on the top bar.</li>\n</ol>\n\n<hr>\n\n<ol start=\"3\">\n<li>Select the respective app from the drop down.</li>\n</ol>\n\n<p><img src=\"http://i.stack.imgur.com/kDflP.png\" alt=\"enter image description here\"></p>\n\n<p>The circle next to your app name is not fully green. When you hover mouse on it, you'll see a popup saying, \"Not available to all users because your app is not live.\"</p>\n\n<p>So next, you've to make it publicly available.</p>\n\n<hr>\n\n<ol start=\"4\">\n<li>Click on setting at left panel. [see the screenshot below]</li>\n</ol>\n\n<p><a href=\"http://i.stack.imgur.com/4FEw5.png\"><img src=\"http://i.stack.imgur.com/4FEw5.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<ol start=\"5\">\n<li>In Basic tab add your \"Contact Email\" (a valid email address - I've added the one which I'm using with developers.facebook.com) and make \"Save changes\".</li>\n</ol>\n\n<hr>\n\n<ol start=\"6\">\n<li>Next click \"App Review\" at left panel. [see the screenshot below]</li>\n</ol>\n\n<hr>\n\n<ol start=\"7\">\n<li>Look for this, <strong>Do you want to make this app and all its live features available to the general public?</strong> and Turn ON the switch next to this.</li>\n</ol>\n\n<p><a href=\"http://i.stack.imgur.com/jq18d.png\"><img src=\"http://i.stack.imgur.com/jq18d.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<ol start=\"8\">\n<li>That's it! - App is now publicly available. See the fully green circle next to the app name.\n<img src=\"http://i.stack.imgur.com/W7SGr.png\" alt=\"enter image description here\"></li>\n</ol>\n", "title": "The developers of this app have not set up this app properly for Facebook Login?", "answer_id": 26135600, "question_id": 21329250, "tags": ["android", "ios", "facebook", "facebook-graph-api"]}, {"body": "<p>For other users that run into this issue, the app I was testing against was a test version of our production app and didn't have the option to turn <code>status and review</code> to <code>ON</code> as others have mentioned here.</p>\n\n<p>The fix was to create a new app which is <em>not</em> a test app, and configure it like the production version. The non-test version allows the option to turn <code>status and review</code> to <code>ON</code>.</p>\n\n<p>My specific use was testing a user registered with a phone number instead of an email address. I tried adding that user into different roles of our test app (Developer and Tester), but to no avail. My guess is it has something to do with the user not having an email associated with it.</p>\n\n<p>Here's more info on test apps: <a href=\"https://developers.facebook.com/docs/apps/test-apps\">https://developers.facebook.com/docs/apps/test-apps</a></p>\n", "title": "The developers of this app have not set up this app properly for Facebook Login?", "answer_id": 27238629, "question_id": 21329250, "tags": ["android", "ios", "facebook", "facebook-graph-api"]}, {"body": "<p>Now, You need to add a \"Privacy Policy URL\" in the App Details tab (developers.facebook.com).\nThis is a new Policy of Facebook.</p>\n", "title": "The developers of this app have not set up this app properly for Facebook Login?", "answer_id": 29953223, "question_id": 21329250, "tags": ["android", "ios", "facebook", "facebook-graph-api"]}, {"body": "<p>do setup by following bellow link and domain name you need to mention as like wht you have mentioned in facebook app domain name.</p>\n\n<p>Go to <a href=\"https://developers.facebook.com/\" rel=\"nofollow\">https://developers.facebook.com/</a></p>\n\n<p>Click on the Apps menu on the top bar.</p>\n", "title": "The developers of this app have not set up this app properly for Facebook Login?", "answer_id": 30573430, "question_id": 21329250, "tags": ["android", "ios", "facebook", "facebook-graph-api"]}, {"body": "<p>Hemang's answer was right, BUT, there's one extra step you'll need, which is to add a Facebook App ID. (I discovered I was missing this part):\n<img src=\"http://i.stack.imgur.com/x9LRX.png\" alt=\"enter image description here\"></p>\n\n<p>Once you've done that in addition to Hemang's answer, you'll be good to go!</p>\n", "title": "The developers of this app have not set up this app properly for Facebook Login?", "answer_id": 30714171, "question_id": 21329250, "tags": ["android", "ios", "facebook", "facebook-graph-api"]}, {"body": "<p><a href=\"http://i.stack.imgur.com/z8JpO.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/z8JpO.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"http://i.stack.imgur.com/bp1Gu.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/bp1Gu.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"http://i.stack.imgur.com/n8lzk.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/n8lzk.png\" alt=\"enter image description here\"></a></p>\n\n<p>Make Sure in left panel App review tab selected (Your app is currently live and available to the public.) tab is <strong>ON</strong> and App status is <strong>GREEN</strong></p>\n\n<p>Happy Programming</p>\n", "title": "The developers of this app have not set up this app properly for Facebook Login?", "answer_id": 37565855, "question_id": 21329250, "tags": ["android", "ios", "facebook", "facebook-graph-api"]}, {"body": "<p>And addition to all these beautifull comments dont forget to Start A Submission</p>\n\n<p><a href=\"http://i.stack.imgur.com/ngNhs.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/ngNhs.png\" alt=\"enter image description here\"></a></p>\n", "title": "The developers of this app have not set up this app properly for Facebook Login?", "answer_id": 38684049, "question_id": 21329250, "tags": ["android", "ios", "facebook", "facebook-graph-api"]}], "question_id": 21329250}, {"body": "<p>Searching the web, it is not clear if Java 8 is supported for Android development or not.</p>\n\n<p>Before I download/setup Java 8, can some one point me at any \"official\" documentation that say Java 8 is or is not supported for Android development.</p>\n", "title": "Is it possible to use Java 8 for Android development?", "tags": ["java", "android", "java-8"], "answer_count": 12, "link": "http://stackoverflow.com/questions/23318109/is-it-possible-to-use-java-8-for-android-development", "answers": [{"body": "<p>I think it is too early to say if Java 8 is suitable for Android development, officially Android needs the Java 6 JDK as mentioned at the bottom of this page: <a href=\"https://developer.android.com/sdk/installing/installing-adt.html\">https://developer.android.com/sdk/installing/installing-adt.html</a></p>\n\n<p>If you installed the Java 8 JDK, then give it a try, if any problems appears try to set the compiler as 1.6 in Eclipse from window menu \u2192 <strong>Preferences</strong> \u2192 <strong>Java</strong> \u2192 <strong>Compiler</strong>.\nBy the way, this is works for me with Java 7:</p>\n\n<p><img src=\"http://i.stack.imgur.com/SCTyV.png\" alt=\"Eclipse Preferences -&gt; Java -&gt; Compiler\"></p>\n\n<h1>Update:</h1>\n\n<p>According to the <a href=\"http://developer.android.com/sdk/installing/index.html?pkg=studio\">Installing Android Studio</a> web page, to build apps for Android 5.0 and higher, JDK 7 is required:</p>\n\n<blockquote>\n  <p>Before you set up Android Studio, be sure you have installed JDK 6 or higher (the JRE alone is not sufficient)\u2014JDK 7 is required when developing for Android 5.0 and higher. To check if you have JDK installed (and which version), open a terminal and type <code>javac -version</code>. If the JDK is not available or the version is lower than 6, <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\">go download JDK</a>.</p>\n</blockquote>\n\n<h1>Update 2:</h1>\n\n<p>Officially:</p>\n\n<blockquote>\n  <p>Java 7 or higher is required if you are targeting Android 5.0 and\n  higher.</p>\n</blockquote>\n\n<p>this is implicit announce that Java 8 will work too, this is mentioned in eclipse plugin ADT page, but not mentioned in Android studio page or not updated yet. </p>\n\n<p>Unofficially: install multiple JDK and try.</p>\n\n<p><a href=\"http://developer.android.com/tools/sdk/eclipse-adt.html\">eclipse plugin ADT page:</a> </p>\n\n<p><a href=\"http://developer.android.com/sdk/index.html#Requirements\">Android studio page:</a></p>\n\n<h1>Java 8:</h1>\n\n<p>Now it is possible to use some features of java 8 using the new toolchain called <a href=\"http://tools.android.com/tech-docs/jackandjill\">Jack &amp; Jill</a>, as mentioned in <a href=\"https://youtu.be/B08iLAtS3AQ?t=28m14s\">GOOGLE I/O 2016</a> , but still does not support all java 8 features.\nFor a how-to see <a href=\"https://developer.android.com/preview/j8-jack.html\">Java 8 Language Features | Android Developers</a>.</p>\n", "title": "Is it possible to use Java 8 for Android development?", "answer_id": 23318269, "question_id": 23318109, "tags": ["java", "android", "java-8"]}, {"body": "<p>Android does not support Java 8. It only supports up to Java 7 (if you have kitkat) and still it doesn't have invokedynamic, only the new syntax sugar.</p>\n\n<p>If you want to use lambdas, one of the major features of Java 8 in Android, you can use <a href=\"https://github.com/evant/gradle-retrolambda\">gradle-retrolamba</a>. It's a gradle build dependency that integrates retrolambda, a tool that converts Java 8 bytecode back to Java 6/7. Basically, if you set the compiler in Android Studio to compile Java 8 bytecode, thus allowing lambdas, it'll convert it back to Java 6/7 bytecode which then in turn gets converted to dalvik bytecode. It's a hack for if you want to try out some JDK 8 features in Android in lieu of official support.</p>\n", "title": "Is it possible to use Java 8 for Android development?", "answer_id": 23318644, "question_id": 23318109, "tags": ["java", "android", "java-8"]}, {"body": "<p>Android uses a Java that branches off of Java 6.</p>\n\n<p>As of Android SDK version 19, you can use Java 7 features <a href=\"http://tools.android.com/tech-docs/new-build-system/user-guide#TOC-Using-sourceCompatibility-1.7\">by doing this</a>.  No full support for Java 8 (yet).</p>\n", "title": "Is it possible to use Java 8 for Android development?", "answer_id": 26476839, "question_id": 23318109, "tags": ["java", "android", "java-8"]}, {"body": "<p>You can indeed use <code>gradle-retrolamba</code> gradle build dependency to use Java 8 for Android Development.</p>\n\n<p>Below is the complete guide that I have recently followed to run lambda expressions for Android development. The original source of this guide is mentioned at the end.</p>\n\n<blockquote>\n  <p>In this guide, a method for bringing some <strong>Java 8</strong> features into\n  Android Development Tools will be demonstrated, specifically aiming at\n  <em>Eclipse IDE</em>. However, steps which will be described throughout this guide might also be adapted to Google\u2019s new uprising development\n  environment, Android Studio. It is based on the community edition of\n  popular IntelliJ Idea IDE by JetBrains and it has recently been\n  upgraded to its \u2018beta\u2019 version by Google in early July 2014, slightly\n  before this guide was written. Eclipse will remain as the prominent\n  development environment, at least for a while, and considering the\n  fact that most Android projects have been developed using Eclipse, a\n  method for bringing new Java 8 features like lambda expressions into\n  ADT seems to be quite useful for developers.</p>\n  \n  <p>Android Development is based on a custom Java implementation called\n  Apache Harmony Project which was terminated back in 2011. The most\n  commonly used Java syntax in Android Development is Java 6 (v1.6) and\n  Java 7 (v1.7) is also partially supported on the KitKat edition\n  (Android 4.4.+). Therefore, Java 8 features like lambda expressions\n  cannot be used directly in the Android App Development without\n  applying some tweaks into the development tools. Luckily, these\n  constructs are basically some \u2018syntactic sugar\u2019 enhancements which\n  give developers the shortcomings of things like \u2018anonymous classes\u2019\n  and they can be translated into Java 6 or Java 7 classes.</p>\n  \n  <p>A recent approach for translating a Java 8 source code into lower Java\n  versions is called <strong>RetroLambda</strong>. This library makes developers run\n  Java 8 code with lambda expressions on Java 7 or even lower.\n  Unfortunately, Java 8 features other than lambda expressions are not\n  supported by RetroLambda for now but the concept of lambda expressions\n  is the biggest leap on Java 8 platform and it\u2019s a great tool for\n  Android developers anyway. </p>\n  \n  <p>Details about this library can be found on its GitHub page:</p>\n  \n  <p><a href=\"https://github.com/orfjackal/retrolambda#getting-started\">https://github.com/orfjackal/retrolambda#getting-started</a></p>\n  \n  <p>Also, a Gradle plugin for RetroLambda created by another developer\n  allows Gradle-based builds to be implemented in Java or Android\n  Projects. However, the developer only mentions about integrating this\n  plugin into Android Studio environment. Details can be found on its\n  GitHub page:</p>\n  \n  <p><a href=\"https://github.com/evant/gradle-retrolambda\">https://github.com/evant/gradle-retrolambda</a></p>\n  \n  <p>Using these infrastructures within an Eclipse-based development\n  environment cannot be approached directly but it\u2019s doable and will be\n  demonstrated throughout this guide.</p>\n</blockquote>\n\n<h2><strong>Preparation</strong></h2>\n\n<p>This guide assumes that the reader has a basic understanding of Android Development and it is based on ADT version 22.6.2 because recent ADT version 23.0.2 seems to have problems like layout folder creation. Details about this issue can be found under the following link:</p>\n\n<p><a href=\"http://code.google.com/p/android/issues/detail?id=72591\">http://code.google.com/p/android/issues/detail?id=72591</a></p>\n\n<p>Steps in this guide will be given for a <em>Windows 8.1, 64-bit</em> development machine but they can easily be adapted to other platforms. The new build system <code>Gradle</code> will be used for build/clean processes and its installation procedure will also be provided. Also, both <code>JDK 8</code> and <code>JDK 7</code> must coexist on the development machine. Steps given below must be followed to install them:</p>\n\n<ul>\n<li>Go to JDK 8 early access preview page <a href=\"http://jdk8.java.net\">http://jdk8.java.net</a></li>\n<li>Download JDK 8u20 and install it. JRE 8 installation is not necessary and it can be skipped</li>\n<li>Go to JDK 7 latest stable release page <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html\">http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html</a></li>\n<li>Download JDK 7u65 and install it. JRE 7 installation is again not necessary and it can be skipped</li>\n<li>Add JDK 8 home folder and JDK 8 <code>bin</code> folder to your <code>%PATH%</code> variable</li>\n<li>Create a new environment variable <code>JAVA_HOME</code> with the value of the path of JDK 8 home folder</li>\n<li>Create a new environment variable <code>JAVA8_HOME</code> again with the value of the path of JDK 8 home folder</li>\n<li>Create a new environment variable <code>JAVA7_HOME</code> with the value of the path of JDK 7 home folder</li>\n<li>Open a terminal window and run <code>java -version</code> command and verify that Java 8 is up and running</li>\n<li>Run <code>javac -version</code> command in the same window and verify that JDK 8 Java compiler is also up and running</li>\n</ul>\n\n<p>Now, ADT-22.6.2 must be downloaded from the following link:</p>\n\n<p><a href=\"http://dl.google.com/android/adt/22.6.2/adt-bundle-windows-x86_64-20140321.zip\">http://dl.google.com/android/adt/22.6.2/adt-bundle-windows-x86_64-20140321.zip</a></p>\n\n<ul>\n<li>Download ADT and unzip its contents into a folder, e.g. <code>D:\\adt</code></li>\n<li>Define a new environment variable called <code>ANDROID_HOME</code> with the value of the path of your ADT installation folder, e.g. <code>D:\\adt\\sdk</code></li>\n<li>Add your <code>Andoid SDK Platform Tools</code> and <code>Andoid SDK Tools</code> folders, e.g. <code>D:\\adt\\sdk\\tools</code> and <code>D:\\adt\\sdk\\platform-tools</code>, to your <code>%PATH%</code> variable</li>\n<li>Create a shortcut to Eclipse IDE if you like. It is located under your ADT installation folder, e.g. <code>D:\\adt\\eclipse</code></li>\n<li>Run Eclipse IDE and create a workspace, e.g. <code>D:\\adt\\workspace</code></li>\n<li>Click on the <code>Android SDK Manager</code> button which is located on the toolbar</li>\n<li>Select <code>Android SDK Build tools Rev. 19.1</code> and <code>Android Support Library</code> only. Un-select everything else and install these two packages.</li>\n</ul>\n\n<p>If everything goes well, ADT will be up and running.</p>\n\n<p><strong>The installation of the following tools is also highly recommended:</strong></p>\n\n<ul>\n<li><p>Eclipse Kepler Java 8 Support: It makes Eclipse recognize new Java 8 syntax extensions and makes you get rid of annoying <code>red dots</code> in your Java code editor. It might be installed through <code>Help -&gt; Install New Software</code> in Eclipse. Enter <a href=\"http://download.eclipse.org/eclipse/updates/4.3-P-builds/\">http://download.eclipse.org/eclipse/updates/4.3-P-builds/</a> into the <code>Work with</code> field and continue to install it.</p></li>\n<li><p>Nodeclipse/Enide Gradle: It is mainly used to highlight Groovy language keywords. Groovy is used as the DSL for Gradle build scripts. This plugin can be installed through <code>Eclipse Marketplace</code>. However, Eclipse within ADT-22.6.2 does not come along with <code>Eclipse Marketplace Client</code>. Therefore, you will first need to install <code>Eclipse Marketplace Client</code> by means of <code>Install New Software</code> tool in Eclipse. Enter http//:download.eclipse.org/mpc/kepler/ into the <code>Work with</code> field and continue to install it. After installing <code>Eclipse Marketplace Client</code>, you may search for <code>Nodeclipse/Enide Gradle</code> in the <code>Eclipse Marketplace Client</code> and install it.</p></li>\n<li><p>Genymotion Virtual Device: It is a great replacement of the default <code>Android Virtual Device</code> which comes along with ADT. AVD is annoyingly cumbersome and it keeps on crashing for no reason. Genymotion makes you prepare Android VD's using <code>CyanogenMod</code> images which are executed by <em>Oracle VirtualBox</em>. Its single user license is for free and it can be downloaded from <a href=\"http://www.genymotion.com\">http://www.genymotion.com</a>. Only a login is required and it can also be integrated into Eclipse. Details can be found under:</p></li>\n</ul>\n\n<p><a href=\"https://cloud.genymotion.com/page/doc/#collapse8\">https://cloud.genymotion.com/page/doc/#collapse8</a></p>\n\n<p>Below is a screenshot of an Android 4.3 based CyanogenMod virtual device,</p>\n\n<p><img src=\"http://i.stack.imgur.com/iow9j.png\" alt=\"enter image description here\"></p>\n\n<p>It might be considered as a fully-fledge Android device running on a x86 or x64 based personal computer. In order to use Google services like <code>Google PlayStore</code> on this virtual device, a <code>gapps</code> image for the Android version that it uses must be flashed onto the device. A proper <code>gapps</code> image for the device might be downloaded from CyanogenMod website:</p>\n\n<p><a href=\"http://wiki.cyanogenmod.org/w/Google_Apps\">http://wiki.cyanogenmod.org/w/Google_Apps</a></p>\n\n<p>Gradle installation is optional since it is also provided by Android SDK itself but its separate installation is highly recommended. Installation of it might be conducted by following these steps:</p>\n\n<ul>\n<li><p>Go to Gradle web site: <a href=\"http://www.gradle.org/\">http://www.gradle.org/</a></p></li>\n<li><p>Click <code>Downloads</code></p></li>\n<li>Under <code>Previous Releases</code> choose version 1.10 and download either gradle-1.10-all.zip or gradle-1.10-bin.zip</li>\n<li>Unzip its contents into a folder, e.g. <code>D:\\adt\\gradle</code></li>\n<li>Define a new environment variable called <code>GRADLE_HOME</code> with the value of the path of your Gradle installation folder, e.g. <code>D:\\adt\\gradle</code></li>\n<li>Add your Gradle binaries folder, e.g. <code>D:\\adt\\gradle\\bin</code>, to your <code>%PATH%</code> variable</li>\n<li>Open a terminal window and run <code>gradle -v</code> command and verify that it`s up and running\nIf you have come up to this point successfully then it means that you are ready to create your first Android App using Java 8 features.</li>\n</ul>\n\n<h2><strong>Demo App</strong></h2>\n\n<p>A simple app will be created to demonstrate the usage of the tools which were described in the previous section. \nYou may simply follow the steps given below to get an insight on using lambda expressions in Android Developer Tools:</p>\n\n<ul>\n<li>Run Eclipse IDE and create a new Android App by selecting <code>File -&gt; New -&gt; Other -&gt; Android -&gt; Android Application Project</code></li>\n<li>Fill in the form that comes up as shown below:</li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/JVoe4.png\" alt=\"enter image description here\"></p>\n\n<ul>\n<li>Simply click the <code>Next</code> button on the following forms and click the <code>Finish</code> button on the last one. Wait till ADT finishes loading up the project</li>\n<li>Right-click on the project and select <code>New -&gt; Folder</code> and name it <code>builders</code></li>\n<li>Right-click on the <code>gen (Generated Java Files)</code> folder and delete it. Gradle will generate the same files for us soon and we will add them into the project<code>s build path. The</code>gen` folder created by the default Ant builder is no longer needed and the artifacts under that folder will be obsolete</li>\n<li><p>Create following batch files under the <code>builders</code> folder:</p>\n\n<ul>\n<li>gradle_build.cmd</li>\n<li>gradle_post_build.cmd</li>\n<li>gradle_clean.cmd</li>\n</ul></li>\n<li><p>Fill in these batch files as follows:</p></li>\n</ul>\n\n<p><strong>gradle_build.cmd:</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/8cUqV.png\" alt=\"enter image description here\"></p>\n\n<p><strong>gradle_post_build.cmd:</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/5zYJt.png\" alt=\"enter image description here\"></p>\n\n<p><strong>gradle_clean.cmd:</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/YBqEe.png\" alt=\"enter image description here\"></p>\n\n<ul>\n<li>Un-select <code>Project -&gt; Build Automatically</code> menu option</li>\n<li>Right-click on the project and select <code>Properties -&gt; Builders</code> and un-select all default builders provided by ADT</li>\n<li>Click the <code>New</code> button in the same window and select <code>Program</code> and click <code>OK</code></li>\n<li>New builder configuration window will appear. Fill in its tabs as follows:</li>\n</ul>\n\n<p><strong><code>Main</code> Tab of the new Builder Configuration</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/w1Rw4.png\" alt=\"enter image description here\"></p>\n\n<p><strong><code>Refresh</code> Tab of the new Builder Configuration</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/YpGL5.png\" alt=\"enter image description here\"></p>\n\n<p><strong><code>Environment</code> Tab of the new Builder Configuration</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/0OSHU.png\" alt=\"enter image description here\"></p>\n\n<p><strong><code>Build Options</code> Tab of the new Builder Configuration</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/5BoyE.png\" alt=\"enter image description here\"></p>\n\n<ul>\n<li>Create the second builder called <code>Gradle_Post_Build</code> that uses <code>gradle_post_build.cmd</code> as its program. All other settings of this builder must exactly be the same with the previously created builder. This builder will be responsible for copying the artifacts created by the build process into the <code>bin</code> folder.</li>\n<li>Create the third builder called <code>Gradle_Cleaner</code> that uses <code>gradle_clean.cmd</code> as its program. Only <code>Run the builder</code> setting in the final tab must be set as <code>During a Clean</code>. All other settings of this builder must exactly be the same with the first builder. This builder will be responsible for cleaning the artifacts created by the build process as the name suggests.</li>\n</ul>\n\n<p><strong>New Builders of the <code>HelloLambda</code> Project</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/0DC3V.png\" alt=\"enter image description here\"></p>\n\n<ul>\n<li>Right-click on the project and select <code>Export</code></li>\n<li>Select <code>Android -&gt; Generate Gradle Build Files</code> and click <code>Next</code></li>\n<li>Select the project in the next window and click <code>Finish</code></li>\n<li>Go to your project's root folder and delete the files <code>gradlew</code> and <code>gradlew.bat</code>. Also delete <code>gradle</code> folder</li>\n<li>Switch back to Eclipse and select <code>Project -&gt; Clean</code> menu option. Fill in the form that shows up as follows:</li>\n</ul>\n\n<p><strong><code>Clean Project</code> Window</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/Yn4Sz.png\" alt=\"enter image description here\"></p>\n\n<ul>\n<li>Click <code>OK</code> and wait till the cleaning process completes</li>\n<li>Add the Java code snippet given below right after the call to <code>setContentView</code> function in your <code>MainActivity</code> class:</li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/XqeCX.png\" alt=\"enter image description here\"></p>\n\n<ul>\n<li>Change the beginning of the <code>build.gradle</code> file till the <code>sourceCompatibility</code> section as follows:</li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/GSS1F.png\" alt=\"enter image description here\"></p>\n\n<ul>\n<li>Right-click on the project and select <code>Properties -&gt; Java Compiler</code> option and set all compliance levels to Java 8. This will make Eclipse recognize new Java 8 constructs like lambda expressions.</li>\n<li>Click <code>No</code> in the notification window</li>\n<li>Right-click on the project and select <code>Build project</code>. Eclipse will start building the project.</li>\n</ul>\n\n<p><strong>Build Process</strong>\n<img src=\"http://i.stack.imgur.com/1JNEM.png\" alt=\"enter image description here\"></p>\n\n<ul>\n<li><p>Right-click on the project and go to <code>Properties -&gt; Java Build Path</code>. Add the following folders to the build path (also shown in below image):</p>\n\n<ul>\n<li><code>build\\source\\buildConfig\\debug</code></li>\n<li><code>build\\source\\r\\debug</code></li>\n</ul></li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/q5Yiv.png\" alt=\"enter image description here\"></p>\n\n<p>Eclipse will now be able to recognize <code>R.java</code> and <code>buildConfig.java</code> files and it will not display any <code>red dots</code> which denote errors related to the resource files of the project.</p>\n\n<ul>\n<li>Create a new <code>Run Configuration</code> for your Android target platform by right-clicking on the project and then selecting <code>Run As -&gt; Run Configurations</code>. For instance, this demo application looks like shown below on the Genymotion VD:</li>\n</ul>\n\n<h2><strong>HelloLambda Application</strong></h2>\n\n<p><img src=\"http://i.stack.imgur.com/9paAZ.png\" alt=\"enter image description here\"></p>\n\n<p>You may observe in the <code>LogCat</code> window that the code snippet with a simple lambda expression works properly</p>\n\n<p><img src=\"http://i.stack.imgur.com/6lYDI.png\" alt=\"enter image description here\"></p>\n\n<p>Source: <a href=\"https://hakanyamanyar.wordpress.com/2014/07/08/using-java-8-lambda-expressions-in-android-developer-tools/\">Using Java 8 Lambda Expressions in Android Developer Tools</a></p>\n", "title": "Is it possible to use Java 8 for Android development?", "answer_id": 28394024, "question_id": 23318109, "tags": ["java", "android", "java-8"]}, {"body": "<h1>Update</h1>\n\n<p>Now it is possible </p>\n\n<p>But you will need to have your device rom run on java 1.8 to run it.</p>\n\n<p>add these lines to build_gradle </p>\n\n<pre><code> compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre>\n\n<hr>\n\n<p>Java 8 seem to be the running java engine of Android studio 2.0, \nBut it still does not accept the syntax of java 8 after I checked, and you cannot chose a compiler from android studio now. However, you can use the scala plugin if you need functional programming mechanism in your android client. </p>\n\n<p><a href=\"http://i.stack.imgur.com/XVIKB.png\"><img src=\"http://i.stack.imgur.com/XVIKB.png\" alt=\"enter image description here\"></a></p>\n", "title": "Is it possible to use Java 8 for Android development?", "answer_id": 33918771, "question_id": 23318109, "tags": ["java", "android", "java-8"]}, {"body": "<p>We Can Use Java 8 using:</p>\n\n\n\n<ol>\n<li><p>In build.gradle (Project: myProject) add following</p>\n\n<pre class=\"lang-groovy prettyprint-override\"><code>classpath 'me.tatarka:gradle-retrolambda:x.x.x' //x.x.x is recent version\n</code></pre></li>\n<li><p>In build.gradle (Module: myModule) add following</p>\n\n<pre class=\"lang-groovy prettyprint-override\"><code>apply plugin: 'me.tatarka.retrolambda'\n\ncompileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre></li>\n</ol>\n", "title": "Is it possible to use Java 8 for Android development?", "answer_id": 34395563, "question_id": 23318109, "tags": ["java", "android", "java-8"]}, {"body": "<p>When I asked this question almost 2 years ago the answer really was \u201cofficially\u201d no,  but as pointed out by ekcr1's answer you can get one of the most highly anticipated features (lambdas) to work if you  use retrolamba.  At the time I was still using eclipse, as Android Studio was in \u201cpreview\u201d mode,  so I never did pursue this path.</p>\n\n<p>Today, I think the \u201cofficial\u201d answer is still no,  and while retrolamba still seems like a good way to go, there is another option for those willing to go down a somewhat \u201cunofficial\u201d  route can take, namely Kotlin.</p>\n\n<p>Today Kotlin reached 1.0.0.  For those not familiar with Kotlin,  more info can be found at their website found here:</p>\n\n<p><a href=\"https://kotlinlang.org\">https://kotlinlang.org</a></p>\n\n<p>or watch this utube video of a talk given by Jake Wharton</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=A2LukgT2mKc\">https://www.youtube.com/watch?v=A2LukgT2mKc</a></p>\n", "title": "Is it possible to use Java 8 for Android development?", "answer_id": 35421762, "question_id": 23318109, "tags": ["java", "android", "java-8"]}, {"body": "<p>Android OFFICIALLY supports Java 8 as of Android N. </p>\n\n<p><a href=\"http://android-developers.blogspot.com/2016/03/first-preview-of-android-n-developer.html\">Feature announcements are here</a>, the Java 8 language announcement is:</p>\n\n<blockquote>\n  <p><strong>Improved Java 8 language support</strong> - We\u2019re excited to bring Java 8 language features to Android. With Android's Jack compiler, you can\n  now use many popular Java 8 language features, including lambdas and\n  more, on Android versions as far back as Gingerbread. The new features\n  help reduce boilerplate code. For example, lambdas can replace\n  anonymous inner classes when providing event listeners. Some Java 8\n  language features --like default and static methods, streams, and\n  functional interfaces -- are also now available on N and above. With\n  Jack, we\u2019re looking forward to tracking the Java language more closely\n  while maintaining backward compatibility.</p>\n</blockquote>\n", "title": "Is it possible to use Java 8 for Android development?", "answer_id": 35900034, "question_id": 23318109, "tags": ["java", "android", "java-8"]}, {"body": "<p>As of <strong><a href=\"http://android-developers.blogspot.com/2016/03/first-preview-of-android-n-developer.html\">Android N preview</a></strong> release Android support <strong>limited</strong> features of <strong>Java 8</strong> see <a href=\"https://developer.android.com/preview/j8-jack.html\">Java 8 Language Features</a></p>\n\n<blockquote>\n  <p>To start using these features, you need to download and set up <a href=\"http://tools.android.com/recent/androidstudio21previewnowavailableforandroidnpreview\">Android\n  Studio 2.1</a>  and the Android N Preview SDK, which includes the\n  required <a href=\"https://source.android.com/source/jack.html\">Jack</a> toolchain and updated Android Plugin for Gradle. If you\n  haven't yet installed the Android N Preview SDK, see <a href=\"https://developer.android.com/preview/setup-sdk.html\">Set Up to Develop\n  for Android N</a>.</p>\n</blockquote>\n\n<p><strong>Supported Java 8 Language Features and APIs</strong></p>\n\n<blockquote>\n  <p>Android does not currently support all Java 8 language features.\n  However, the following features are now available when developing apps\n  targeting the Android N Preview:</p>\n</blockquote>\n\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\">Default and static interface methods</a></p>\n\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\">Lambda expressions</a> (also available on API level 23 and lower)</p>\n\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/annotations/repeating.html\">Repeatable annotations</a></p>\n\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\">Method References</a> (also available on API level 23 and lower)</p>\n\n<p>There are some additional Java 8 features which Android support, you can see complete detail from <a href=\"https://developer.android.com/preview/j8-jack.html#supported-features\">Java 8 Language Features</a></p>\n\n<p><strong>Update</strong></p>\n\n<blockquote>\n  <p>Note: The Android N bases its implementation of lambda expressions on\n  anonymous classes. This approach allows them to be backwards\n  compatible and executable on earlier versions of Android. To test\n  lambda expressions on earlier versions, remember to go to your\n  build.gradle file, and set compileSdkVersion and targetSdkVersion to\n  23 or lower.</p>\n</blockquote>\n\n<p><em>Note: Answer last updated on May 6 2016</em></p>\n", "title": "Is it possible to use Java 8 for Android development?", "answer_id": 35907821, "question_id": 23318109, "tags": ["java", "android", "java-8"]}, {"body": "<p>To start using <strong>Java 8 Language</strong>  you need to download and set up Android Studio 2.1 (preview) and the Android N Preview SDK, which includes the required Jack toolchain and updated Android Plugin for Gradle.</p>\n\n<blockquote>\n  <p>Using the new Java 8 language features is not a requirement for developing apps that target the Android N platform. If you don't want to write code with Java 8 language features, you can keep your project's source and target compatibility values set to Java 7, but you still must compile with JDK 8 to build against the Android N platform.</p>\n  \n  <p><strong>Android does not currently support all Java 8 language features.</strong></p>\n</blockquote>\n\n<p><strong>Known Issues:</strong>\nInstant Run, introduced in Android Studio 2.0 (Beta), does not currently work with Jack and will be disabled while using the new toolchain.</p>\n", "title": "Is it possible to use Java 8 for Android development?", "answer_id": 35916359, "question_id": 23318109, "tags": ["java", "android", "java-8"]}, {"body": "<p>Latest news:</p>\n\n<p>Google announce that with Android N and Android Studio 2.1+, platform will support Java 8. Also stable version of studio 2.1 was released. </p>\n\n<p>At last we can use lambda expressions. No more list filter in for loop. Horeeey.</p>\n", "title": "Is it possible to use Java 8 for Android development?", "answer_id": 36883704, "question_id": 23318109, "tags": ["java", "android", "java-8"]}, {"body": "<p>I wrote a <a href=\"http://stackoverflow.com/a/30440855/4230345\">similar answer</a> to a <a href=\"http://stackoverflow.com/questions/30421389/android-studio-lambda-does-not-work/30440855#30440855_\">similar question</a> on Stack Overflow, but here is part of that answer.</p>\n\n<h2>Android Studio 2.1:</h2>\n\n<p>The new version of Android Studio (2.1) has support for Java 8 features. Here is an extract from the <a href=\"http://android-developers.blogspot.co.uk/2016/04/android-studio-21-supports-android-n.html\" rel=\"nofollow\">Android Developers blogspot post</a>:</p>\n\n<blockquote>\n  <p>... Android Studio 2.1 release includes support for the new <a href=\"https://source.android.com/source/jack.html\" rel=\"nofollow\">Jack compiler</a> and support for <a href=\"http://developer.android.com/intl/zh-cn/preview/j8-jack.html?utm_campaign=android_discussion_studiondeveloperpreview_042616&amp;utm_source=anddev&amp;utm_medium=blog\" rel=\"nofollow\">Java 8</a>. </p>\n  \n  <p>...</p>\n  \n  <p>To use Java 8 language features when developing with the N Developer Preview, you need to use the Jack compiler. The New Project Wizard [File\u2192 New\u2192 Project] generates the correct configurations for projects targeting the N.</p>\n</blockquote>\n\n<hr>\n\n<h2>Prior to Android Studio 2.1:</h2>\n\n<p>Android does not support Java 1.8 yet (it only supports up to 1.7), so you cannot use Java 8 features like lambdas.</p>\n\n<p><a href=\"http://stackoverflow.com/a/23318644/4230345\">This answer gives more detail on Android Studio's compatibility</a>; it states:</p>\n\n<blockquote>\n  <p>If you want to use lambdas, one of the major features of Java 8 in Android, you can use gradle-retrolamba</p>\n</blockquote>\n\n<p>If you want to know more about using <code>gradle-retrolambda</code>, <a href=\"http://stackoverflow.com/a/28394024/4230345\">this answer gives a lot of detail on doing that</a>.</p>\n", "title": "Is it possible to use Java 8 for Android development?", "answer_id": 36897453, "question_id": 23318109, "tags": ["java", "android", "java-8"]}], "question_id": 23318109}, {"body": "<p>Android Studio 0.4.5</p>\n\n<p>Android documentation for creating custom dialog boxes: <a href=\"http://developer.android.com/guide/topics/ui/dialogs.html\">http://developer.android.com/guide/topics/ui/dialogs.html</a></p>\n\n<p>If you want a custom dialog, you can instead display an Activity as a dialog instead of using the Dialog APIs. Simply create an activity and set its theme to Theme.Holo.Dialog in \nthe <code>&lt;activity&gt;</code> manifest element:</p>\n\n<pre><code>&lt;activity android:theme=\"@android:style/Theme.Holo.Dialog\" &gt;\n</code></pre>\n\n<p>However, when I tried this I get the following exception:</p>\n\n<pre><code>java.lang.IllegalStateException: You need to use a Theme.AppCompat theme (or descendant) with this activity\n</code></pre>\n\n<p>I am supporting the following, and I can't using something greater than 10 for the min:</p>\n\n<pre><code>minSdkVersion 10\ntargetSdkVersion 19\n</code></pre>\n\n<p>In my styles I have the following:</p>\n\n<pre><code>&lt;!-- Base application theme. --&gt;\n    &lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\"&gt;\n</code></pre>\n\n<p>And in my manifest I have this for the activity:</p>\n\n<pre><code> &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@drawable/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:theme=\"@style/AppTheme\" &gt;\n        &lt;activity\n            android:theme=\"@android:style/Theme.Holo.Light.Dialog\"\n            android:name=\"com.ssd.register.Dialog_update\"\n            android:label=\"@string/title_activity_dialog_update\" &gt;\n        &lt;/activity&gt;\n</code></pre>\n\n<p>Creating the dialog box like this was something I was hopping to do, as I have already completed the layout.</p>\n\n<p>Can anyone tell me how I can get around this problem?</p>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "tags": ["android", "android-layout", "android-studio"], "answer_count": 27, "link": "http://stackoverflow.com/questions/21814825/you-need-to-use-a-theme-appcompat-theme-or-descendant-with-this-activity", "answers": [{"body": "<p>min sdk is 10. <code>ActionBar</code> is available from api level 11. So for 10 you would be using <code>AppCompat</code> from the support library for which you need to use <code>Theme.AppCompat</code> or descendant of the same.</p>\n\n<p>Use</p>\n\n<pre><code>android:theme=\"@style/Theme.AppCompat\" &gt;\n</code></pre>\n\n<p>More info @</p>\n\n<p><a href=\"http://developer.android.com/guide/topics/ui/actionbar.html\">http://developer.android.com/guide/topics/ui/actionbar.html</a></p>\n\n<p>Eidt:</p>\n\n<p>I might have misread op post.</p>\n\n<p>Seems op wants a Dialog with a Activity Theme. So as already suggest by Bobbake4 extend <code>Activity</code> instead of <code>ActionBarActivity</code>.</p>\n\n<p>Also have a look @ Dialog Attributes in the below link</p>\n\n<p><a href=\"http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.4_r1/frameworks/base/core/res/res/values/themes.xml/\">http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.4_r1/frameworks/base/core/res/res/values/themes.xml/</a></p>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "answer_id": 21814845, "question_id": 21814825, "tags": ["android", "android-layout", "android-studio"]}, {"body": "<p>The reason you are having this problem is because the activity you are trying to apply the dialog theme to is extending <code>ActionBarActivity</code> which requires the <code>AppCompat</code> theme to be applied. </p>\n\n<p>Change the Java inheritance from <code>ActionBarActivity</code> to <code>Activity</code> and leave the dialog theme in the manifest as it is.</p>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "answer_id": 21815015, "question_id": 21814825, "tags": ["android", "android-layout", "android-studio"]}, {"body": "<p>NOTE: I had intended this as an answer, but further testing reveals it still fails when built using maven from the command line, so I've had to edit it to be a problem! :-(</p>\n\n<p>In my case when I got this error I was already using a AppCompat Theme and the error didn't make much sense.</p>\n\n<p>I was in the process of mavenizing my android build. I had already dependencies on the apklib and jar versions of app compat, thus:</p>\n\n<pre><code>    &lt;!-- See https://github.com/mosabua/maven-android-sdk-deployer --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;android.support&lt;/groupId&gt;\n            &lt;artifactId&gt;compatibility-v7-appcompat&lt;/artifactId&gt;\n            &lt;version&gt;${compatibility.version}&lt;/version&gt;\n            &lt;type&gt;apklib&lt;/type&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;android.support&lt;/groupId&gt;\n            &lt;artifactId&gt;compatibility-v7-appcompat&lt;/artifactId&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;android.support&lt;/groupId&gt;\n            &lt;artifactId&gt;compatibility-v7&lt;/artifactId&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;android.support&lt;/groupId&gt;\n            &lt;artifactId&gt;compatibility-v4&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>Now, when I import the maven project and build and run from IntelliJ it's fine.</p>\n\n<p>But when I build and deploy and run from the command line with maven I still get this exception.</p>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "answer_id": 23198169, "question_id": 21814825, "tags": ["android", "android-layout", "android-studio"]}, {"body": "<p>All you need to do is add <code>android:theme=\"@style/Theme.AppCompat.Light\"</code> to your application tag in the <code>AndroidManifest.xml</code> file.</p>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "answer_id": 25663447, "question_id": 21814825, "tags": ["android", "android-layout", "android-studio"]}, {"body": "<p>You have came to this because you want to apply Material Design in your theme style in previous sdk versions to 21. <code>ActionBarActivity</code> requires <code>AppTheme</code>so if you also want to prevent your own customization about your AppTheme, only you have to change in your styles.xml (previous to sdk 21) so this way, can inherit for an App Compat theme.</p>\n\n<pre><code>&lt;style name=\"AppTheme\" parent=\"android:Theme.Holo.Light.DarkActionBar\"&gt;\n</code></pre>\n\n<p>for this:</p>\n\n<pre><code>&lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\"&gt;\n</code></pre>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "answer_id": 27167979, "question_id": 21814825, "tags": ["android", "android-layout", "android-studio"]}, {"body": "<p>go to your styles and put the parent</p>\n\n<pre><code>parent=\"Theme.AppCompat\"\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>parent=\"@android:style/Theme.Holo.Light\"\n</code></pre>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "answer_id": 27269642, "question_id": 21814825, "tags": ["android", "android-layout", "android-studio"]}, {"body": "<p>For me, the Android SDK didn't seem to be able to find the styles definition. Everything was wired correctly and doing a simple project clean fixed it for me. </p>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "answer_id": 27825496, "question_id": 21814825, "tags": ["android", "android-layout", "android-studio"]}, {"body": "<p>This is what fixed it for me: instead of specifying the theme in manifest, I defined it in <code>onCreate</code> for each activity that extends <code>ActionBarActivity</code>:</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    setTheme(R.style.MyAppTheme);\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.my_activity_layout);\n...\n}\n</code></pre>\n\n<p>Here <code>MyAppTheme</code> is a descendant of <code>Theme.AppCompat</code>, and is defined in xml. Note that the theme must be set before <code>super.onCreate</code> and <code>setContentView</code>.</p>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "answer_id": 27952912, "question_id": 21814825, "tags": ["android", "android-layout", "android-studio"]}, {"body": "<p>Change your theme style parent to </p>\n\n<pre><code> parent=\"Theme.AppCompat\"\n</code></pre>\n\n<p>This worked for me ...</p>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "answer_id": 28266265, "question_id": 21814825, "tags": ["android", "android-layout", "android-studio"]}, {"body": "<p>Delete all the style folder in Library project.</p>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "answer_id": 28826291, "question_id": 21814825, "tags": ["android", "android-layout", "android-studio"]}, {"body": "<p>This one worked for me:</p>\n\n<pre><code>&lt;application\n           android:allowBackup=\"true\"\n           android:icon=\"@mipmap/ic_launcher\"\n           android:label=\"@string/app_name\"\n           android:theme=\"@style/AppTheme\" &gt;\n           &lt;activity\n               android:name=\".MainActivity\"\n               android:label=\"@string/app_name\"\n               android:theme=\"@style/Theme.AppCompat.NoActionBar\"&gt;\n\n               &lt;intent-filter&gt;\n                   &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                   &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n               &lt;/intent-filter&gt;\n           &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "answer_id": 29714024, "question_id": 21814825, "tags": ["android", "android-layout", "android-studio"]}, {"body": "<p>Your Activity is extending <strong>ActionBarActivity</strong> which requires the <strong>AppCompat.theme</strong> to be applied.\nChange from <strong>ActionBarActivity</strong> to <strong>Activity</strong> or <strong>FragmentActivity</strong>, it will solve the problem. </p>\n\n<blockquote>\n  <p>If you use no Action bar then :</p>\n</blockquote>\n\n<pre><code>android:theme=\"@android:style/Theme.Light.NoTitleBar.Fullscreen\" \n</code></pre>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "answer_id": 29757315, "question_id": 21814825, "tags": ["android", "android-layout", "android-studio"]}, {"body": "<p>I had such crash on <strong>Samsung</strong> devices even though the activity did use <em>Theme.AppCompat</em>.\nThe root cause was related to weird optimizations on Samsung side:</p>\n\n<pre><code>- if one activity of your app has theme not inherited from Theme.AppCompat\n- and it has also `android:launchMode=\"singleTask\"`\n- then all the activities that are launched from it will share the same Theme\n</code></pre>\n\n<p>My solution was just removing <code>android:launchMode=\"singleTask\"</code></p>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "answer_id": 29932100, "question_id": 21814825, "tags": ["android", "android-layout", "android-studio"]}, {"body": "<p>If you need to extend ActionBarActivity you need on your style.xml:</p>\n\n<pre><code>&lt;!-- Base application theme. --&gt;\n&lt;style name=\"AppTheme\" parent=\"AppTheme.Base\"/&gt;\n\n&lt;style name=\"AppTheme.Base\" parent=\"Theme.AppCompat.Light.DarkActionBar\"&gt;\n    &lt;!-- Customize your theme here. --&gt;\n</code></pre>\n\n<p>If you set as main theme of your application as android:Theme.Material.Light instead of <strong>AppTheme.Base</strong> then you\u2019ll get an \u201cIllegalStateException:You need to use a Theme.AppCompat theme (or descendant) with this activity\u201d error.</p>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "answer_id": 30019988, "question_id": 21814825, "tags": ["android", "android-layout", "android-studio"]}, {"body": "<p>You have many solutions to that error.</p>\n\n<ol>\n<li><p>You should use <em>Activity</em> or <em>FragmentActivity</em> instead of <em>ActionbarActivity</em> or <em>AppCompatActivity</em></p></li>\n<li><p>If you want use <em>ActionbarActivity</em> or <em>AppCompatActivity</em>, you should change in <em>styles.xml</em> <em>Theme.Holo.xxxx</em> to <em>Theme.AppCompat.Light</em> (if necessary add to <em>DarkActionbar</em>)</p></li>\n</ol>\n\n<p>If you don't need advanced attributes about action bar or <em>AppCompat</em> you don't need to use <em>Actionbar</em> or <em>AppCompat</em>.</p>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "answer_id": 30846924, "question_id": 21814825, "tags": ["android", "android-layout", "android-studio"]}, {"body": "<p>Copying answer from @MarkKeen in the comments above as I had the same problem.</p>\n\n<p>I had the error stated at the top of the post and happened after I added an alert dialog. I have all the relevant style information in the manifest. My problem was cured by changing a context reference in the alert builder - I changed: </p>\n\n<pre><code>new android.support.v7.app.AlertDialog.Builder(getApplicationContext())\n</code></pre>\n\n<p>to: </p>\n\n<pre><code>new android.support.v7.app.AlertDialog.Builder(this)\n</code></pre>\n\n<p>And no more problems.</p>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "answer_id": 32373424, "question_id": 21814825, "tags": ["android", "android-layout", "android-studio"]}, {"body": "<p>My Activity with SectionsPagerAdapter and ViewPager &amp; Fragment</p>\n\n<pre><code>public class MyActivity extends AppCompatActivity implements ActionBar.TabListener\n...\n...\n     @Override\n        public void onPostResume(){\n            super.onPostResume();\n            try {\n               getSupportActionBar().setDisplayShowTitleEnabled(false);\n            }catch (NullPointerException ignored){\n            }\n        }\n</code></pre>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "answer_id": 33255988, "question_id": 21814825, "tags": ["android", "android-layout", "android-studio"]}, {"body": "<p>just make that </p>\n\n<blockquote>\n  <p>getApplicationContext().getTheme().applyStyle(R.style.Theme_Mc,\n  true);</p>\n</blockquote>\n\n<p>and In your values/styles.xml \nadd this </p>\n\n<pre><code> &lt;style  name=\"Theme.Mc\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n         &lt;!-- ADD Your Styles  --&gt;\n\n\n     &lt;/style&gt;\n</code></pre>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "answer_id": 34983289, "question_id": 21814825, "tags": ["android", "android-layout", "android-studio"]}, {"body": "<p>In Android Studio:\nAdd support library to the gradle file and sync.\nEdit build.gradle(Module:app) to have dependencies as follows:</p>\n\n<pre><code>dependencies {\ncompile fileTree(dir: 'libs', include: ['*.jar'])\ntestCompile 'junit:junit:4.12'\ncompile 'com.android.support:appcompat-v7:23.1.1'\ncompile 'com.android.support:design:23.1.1'\ncompile 'com.android.support:support-v4:23.1.1'\n}\n</code></pre>\n\n<p>My support Library version is 23.1.1; Use your support library version as applicable.</p>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "answer_id": 35069996, "question_id": 21814825, "tags": ["android", "android-layout", "android-studio"]}, {"body": "<p>In Android manifest just change theme of activity to AppTheme as follow code snippet</p>\n\n<pre><code>&lt;activity\n  android:name=\".MainActivity\"\n  android:label=\"@string/app_name\"\n  android:theme=\"@style/AppTheme\"&gt;\n&lt;/activity&gt;\n</code></pre>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "answer_id": 35285061, "question_id": 21814825, "tags": ["android", "android-layout", "android-studio"]}, {"body": "<p>In case anybody still wondering about this issue.</p>\n\n<p>try this : </p>\n\n<pre><code>new android.support.v7.app.AlertDialog.Builder(this)\n</code></pre>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "answer_id": 35788024, "question_id": 21814825, "tags": ["android", "android-layout", "android-studio"]}, {"body": "<p>I had the same problem, but it solved when i put this on manifest: android:theme=\"@style/Theme.AppCompat.</p>\n\n<pre><code>    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@drawable/icon\"\n        android:label=\"@string/app_name_test\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/Theme.AppCompat\"&gt;\n\n        ...    \n\n    &lt;/application&gt;\n</code></pre>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "answer_id": 35871457, "question_id": 21814825, "tags": ["android", "android-layout", "android-studio"]}, {"body": "<p>I was experiencing this problem even though my Theme was an <code>AppCompat</code> Theme and my Activity was an <code>AppCompatActivity</code> (or <code>Activity</code>, as suggested in the other's answers). So I cleaned, rebuild and rerun the project. </p>\n\n<p>(<strong>Build -> Clean Project ; Build -> Rebuild Project ; Run -> Run</strong>)</p>\n\n<p><em>It may seem dumb, but now it <strong>works great</strong>!</em></p>\n\n<p><em>Just hope it helps!</em></p>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "answer_id": 36930004, "question_id": 21814825, "tags": ["android", "android-layout", "android-studio"]}, {"body": "<p>In my case i have no values-v21 file in my res directory. Then i created it and added in it following codes:</p>\n\n<pre><code>  &lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n    &lt;!-- Customize your theme here. --&gt;\n    &lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n    &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n    &lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "answer_id": 37986985, "question_id": 21814825, "tags": ["android", "android-layout", "android-studio"]}, {"body": "<p>This solution worked for me. </p>\n\n<p>Design library depends on the Support v4 and AppCompat Support Libraries, so don't use different version for appcompat and design library in gradle.</p>\n\n<p>use </p>\n\n<pre><code> compile 'com.android.support:appcompat-v7:23.0.0'\n compile 'com.android.support:design:23.0.0'\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code> compile 'com.android.support:appcompat-v7:23.0.0'\n compile 'com.android.support:design:23.1.0'\n</code></pre>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "answer_id": 38742994, "question_id": 21814825, "tags": ["android", "android-layout", "android-studio"]}, {"body": "<p>For me none of the above answers worked even after I had <code>Theme.AppCompat</code> as my base theme for the application. I was using <code>com.android.support:design:24.1.0</code> So I just changed the version to <code>24.1.1</code>. After the gradle sync, Its working again and the exception went away. Seems to me the issue was with gradle build.</p>\n\n<p>Just putting this here in case other answers don't work for some people.</p>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "answer_id": 38819720, "question_id": 21814825, "tags": ["android", "android-layout", "android-studio"]}, {"body": "<p>For my Xamarin Android project (in MainActivity.cs), I changed\u2026</p>\n\n<pre><code>public class MainActivity : global::Xamarin.Forms.Platform.Android.FormsAppCompatActivity\n</code></pre>\n\n<p>to</p>\n\n<pre><code>public class MainActivity : global::Xamarin.Forms.Platform.Android.FormsApplicationActivity\n</code></pre>\n\n<p>\u2026and the error went away. I realise that isn't a solution for everyone but it might give a clue to the underlying problem.</p>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "answer_id": 39112848, "question_id": 21814825, "tags": ["android", "android-layout", "android-studio"]}], "question_id": 21814825}, {"body": "<p>From <a href=\"http://www.haskell.org/ghc/docs/7.6.3/html/users_guide/pragmas.html#idp49866112\">the docs</a> for GHC 7.6:</p>\n\n<blockquote>\n  <p>[Y]ou often don't even need the SPECIALIZE pragma in the first place. When compiling a module M, GHC's optimiser (with -O) automatically considers each top-level overloaded function declared in M, and specialises it for the different types at which it is called in M. The optimiser also considers each imported INLINABLE overloaded function, and specialises it for the different types at which it is called in M.</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>Moreover, given a SPECIALIZE pragma for a function f, GHC will automatically create specialisations for any type-class-overloaded functions called by f, if they are in the same module as the SPECIALIZE pragma, or if they are INLINABLE; and so on, transitively.</p>\n</blockquote>\n\n<p>So GHC should automatically specialize <a href=\"http://stackoverflow.com/questions/21071706/specialization-with-constraints\">some/most/all(?)</a> functions marked <code>INLINABLE</code> <em>without</em> a pragma, and if I use an explicit pragma, the specialization is transitive. My question is: \nis the <em>auto</em>-specialization transitive?</p>\n\n<p>Specifically, here's a small example:</p>\n\n<p>Main.hs:</p>\n\n<pre><code>import Data.Vector.Unboxed as U\nimport Foo\n\nmain =\n    let y = Bar $ Qux $ U.replicate 11221184 0 :: Foo (Qux Int)\n        (Bar (Qux ans)) = iterate (plus y) y !! 100\n    in putStr $ show $ foldl1' (*) ans\n</code></pre>\n\n<p>Foo.hs:</p>\n\n<pre><code>module Foo (Qux(..), Foo(..), plus) where\n\nimport Data.Vector.Unboxed as U\n\nnewtype Qux r = Qux (Vector r)\n-- GHC inlines `plus` if I remove the bangs or the Baz constructor\ndata Foo t = Bar !t\n           | Baz !t\n\ninstance (Num r, Unbox r) =&gt; Num (Qux r) where\n    {-# INLINABLE (+) #-}\n    (Qux x) + (Qux y) = Qux $ U.zipWith (+) x y\n\n{-# INLINABLE plus #-}\nplus :: (Num t) =&gt; (Foo t) -&gt; (Foo t) -&gt; (Foo t)\nplus (Bar v1) (Bar v2) = Bar $ v1 + v2\n</code></pre>\n\n<p>GHC specializes the call to <code>plus</code>, but does <em>not</em> specialize <code>(+)</code> in the <code>Qux</code> <code>Num</code> instance which kills performance. </p>\n\n<p>However, an explicit pragma </p>\n\n<pre><code>{-# SPECIALIZE plus :: Foo (Qux Int) -&gt; Foo (Qux Int) -&gt; Foo (Qux Int) #-}\n</code></pre>\n\n<p>results in <em>transitive</em> specialization as the docs indicate, so <code>(+)</code> is specialized and the code is 30x faster (both compiled with <code>-O2</code>). Is this expected behavior? Should I only expect <code>(+)</code> to be specialized transitively with an explicit pragma?</p>\n\n<hr>\n\n<p><strong>UPDATE</strong></p>\n\n<p>The docs for 7.8.2 haven't changed, and the behavior is the same, so this question is still relevant.</p>\n", "title": "Transitivity of Auto-Specialization in GHC", "tags": ["haskell", "ghc"], "answer_count": 1, "link": "http://stackoverflow.com/questions/21502335/transitivity-of-auto-specialization-in-ghc", "answers": [{"body": "<h2>Short answers:</h2>\n\n<p>The question's key points, as I understand them, are the following: </p>\n\n<blockquote>\n  <ul>\n  <li>\"is the auto-specialization transitive?\"</li>\n  <li>Should I only expect (+) to be specialized transitively with an explicit pragma?</li>\n  <li>(apparently intended) Is this a bug of GHC? Is it inconsistent with the documentation?</li>\n  </ul>\n</blockquote>\n\n<p>AFAIK, the answers are No, mostly yes but there are other means,  and No. </p>\n\n<p>Code inlining and type application specialization is a trade-off between speed (execution time) and code size. The default level gets some speedup without bloating the code. Choosing a more exhaustive level is left to the programmer's discretion via  <code>SPECIALISE</code> pragma.</p>\n\n<h2>Explanation:</h2>\n\n<blockquote>\n  <p>The optimiser also considers each imported INLINABLE overloaded function, and specialises it for the different types at which it is called in M.</p>\n</blockquote>\n\n<p>Suppose <code>f</code> is a function whose type includes a type variable <code>a</code> constrained by a type class <code>C a</code>. GHC by default specializes <code>f</code> with respect to a type application (substituting <code>a</code> for <code>t</code>) if <code>f</code> is called with that type application in the source code of (a) any function in the same module, or (b) if <code>f</code> is marked <code>INLINABLE</code>, then any other module that  <strong>imports</strong> <code>f</code> from <code>B</code>. Thus, auto-specialization is not transitive, it only touches <code>INLINABLE</code> functions imported and called for <em>in the source code</em> of <code>A</code>.</p>\n\n<p>In your example, if you rewrite the instance of <code>Num</code> as follows: </p>\n\n<pre><code>instance (Num r, Unbox r) =&gt; Num (Qux r) where\n    (+) = quxAdd\n\nquxAdd (Qux x) (Qux y) = Qux $ U.zipWith (+) x y\n</code></pre>\n\n<ul>\n<li><code>quxAdd</code> is not specifically imported by <code>Main</code>. <code>Main</code> imports the instance dictionary of <code>Num (Qux Int)</code>, and this dictionary contains <code>quxAdd</code> in the record for <code>(+)</code>. However, although the dictionary is imported, the contents used in the dictionary are not. </li>\n<li><code>plus</code> does not call <code>quxAdd</code>, it uses the function stored for the <code>(+)</code> record in the instance dictionary of <code>Num t</code>. This dictionary is set at the call site (in <code>Main</code>) by the compiler. </li>\n</ul>\n", "title": "Transitivity of Auto-Specialization in GHC", "answer_id": 25414763, "question_id": 21502335, "tags": ["haskell", "ghc"]}], "question_id": 21502335}, {"body": "<p>I'm new to using npm and bower, building my first app in emberjs :).<br>\nI do have a bit of experience with rails, so I'm familiar with the idea of files for listing dependencies (such as bundler Gemfile)</p>\n\n<p>Question: when I want to add a package (and check in the dependency into git), where does it belong - into <code>package.json</code> or into <code>bower.json</code>?</p>\n\n<p>From what I gather,<br>\nrunning <code>bower install</code> will fetch the package and put it in <code>/vendor</code> directory,<br>\nrunning <code>npm install</code> it will fetch it and put it into <code>/node_modules</code> directory. </p>\n\n<p><a href=\"http://stackoverflow.com/a/16493586/1592915\">This SO answer</a> says bower is for front-end and npm is for backend stuff.<br>\n<a href=\"https://github.com/stefanpenner/ember-app-kit\">Ember-app-kit</a> seems to adhere to this distinction from the first glance... But instructions in gruntfile for <a href=\"https://github.com/stefanpenner/ember-app-kit/blob/master/Gruntfile.js#L40-L42\">enabling some functionality</a> give two explicit commands, so I'm totally confused here.</p>\n\n<p>Intuitively I would guess that  </p>\n\n<ol>\n<li><p><strong>npm install --save-dev package-name</strong> would be equivalent to adding the package-name to my package.json </p></li>\n<li><p><strong>bower install --save package-name</strong> might be the same as adding the package to my <em>bower.json</em> and running <strong>bower install</strong>?  </p></li>\n</ol>\n\n<p>If that is the case, when should I ever install packages explicitly like that without adding them to the file that manages dependencies (apart from installing command line tools globally)?</p>\n", "title": "Difference between Grunt, NPM and Bower ( package.json vs bower.json )", "tags": ["javascript", "gruntjs", "bower", "web-frontend"], "answer_count": 2, "link": "http://stackoverflow.com/questions/21198977/difference-between-grunt-npm-and-bower-package-json-vs-bower-json", "answers": [{"body": "<p>Npm and Bower are both dependency management tools. But the main difference between both is <strong>npm is used for installing Node js modules but bower js is used for managing front end components like html, css, js etc</strong>. </p>\n\n<p>A fact that makes this more confusing is that npm provides some packages which can be used in front-end development as well, like <code>grunt</code> and <code>jshint</code>.</p>\n\n<p>These lines add more meaning</p>\n\n<blockquote>\n  <p>Bower, unlike npm, can have multiple files (e.g. .js, .css, .html, .png, .ttf) which are considered the main file(s). Bower semantically considers these main files, when packaged together, a component.</p>\n</blockquote>\n\n<p><strong>Edit</strong>: <strong>Grunt</strong> is quite different from Npm and Bower. Grunt is a javascript task runner tool. You can do a lot of things using grunt which you had to do manually otherwise. Highlighting some of the uses of Grunt:</p>\n\n<ol>\n<li>Zipping some files (e.g. zipup plugin)</li>\n<li>Linting on js files (jshint)</li>\n<li>Compiling less files (grunt-contrib-less)</li>\n</ol>\n\n<p>There are grunt plugins for sass compilation, uglifying your javascript, copy files/folders, minifying javascript etc. </p>\n\n<p>Please Note that grunt plugin is also an npm package.</p>\n\n<p><strong>Question-1</strong></p>\n\n<blockquote>\n  <p>When I want to add a package (and check in the dependency into git), where does it belong - into package.json or into bower.json</p>\n</blockquote>\n\n<p>It really depends where does this package belong to. If it is a node module(like grunt,request) then it will go in package.json otherwise into bower json.</p>\n\n<p><strong>Question-2</strong></p>\n\n<blockquote>\n  <p>When should I ever install packages explicitly like that without adding them to the file that manages dependencies</p>\n</blockquote>\n\n<p>It does not matter whether you are installing packages explicitly or mentioning the dependency in .json file. Suppose you are in the middle of working on a node project and you need another project, say <code>request</code>, then you have two options:</p>\n\n<ul>\n<li>Edit the package.json file and add a dependency on 'request'</li>\n<li>npm install</li>\n</ul>\n\n<p>OR</p>\n\n<ul>\n<li>Use commandline: <code>npm install --save request</code></li>\n</ul>\n\n<p><code>--save</code> options adds the dependency to package.json file as well. If you don't specify <code>--save</code> option, it will only download the package but the json file will be unaffected.</p>\n\n<p>You can do this either way, there will not be a substantial difference.</p>\n", "title": "Difference between Grunt, NPM and Bower ( package.json vs bower.json )", "answer_id": 21199026, "question_id": 21198977, "tags": ["javascript", "gruntjs", "bower", "web-frontend"]}, {"body": "<p><strong>Update for mid 2016</strong>:</p>\n\n<p>The things are changing so fast that if it's late 2017 this answer might not be up to date anymore!</p>\n\n<p>Beginners can quickly get lost in choice of build tools and workflows, but what's most up to date in 2016 is not using Bower, Grunt or Gulp at all! With help of Webpack you can do everything directly in NPM!</p>\n\n<ul>\n<li><p>Google \"npm as build tool\" result:\n<a href=\"https://medium.com/@dabit3/introduction-to-using-npm-as-a-build-tool-b41076f488b0#.c33e74tsa\" rel=\"nofollow\">https://medium.com/@dabit3/introduction-to-using-npm-as-a-build-tool-b41076f488b0#.c33e74tsa</a></p></li>\n<li><p>Webpack: <a href=\"https://webpack.github.io/docs/installation.html\" rel=\"nofollow\">https://webpack.github.io/docs/installation.html</a></p></li>\n</ul>\n\n<p>Don't get me wrong people use other workflows and I still use GULP in my legacy project(but slowly moving out of it), but this is how it's done in the best companies and developers working in this workflow make a LOT of money!</p>\n\n<p>Look at this template it's a very up-to-date setup consisting of a mixture of the best and the latest technologies:\n<a href=\"https://github.com/coryhouse/react-slingshot\" rel=\"nofollow\">https://github.com/coryhouse/react-slingshot</a></p>\n\n<ul>\n<li>Webpack</li>\n<li>NPM as a build tool (no Gulp, Grunt or Bower)</li>\n<li>React with Redux</li>\n<li>ESLint</li>\n<li>the list is long. Go and explore!</li>\n</ul>\n\n<p>Your questions:</p>\n\n<blockquote>\n  <p>When I want to add a package (and check in the dependency into git),\n  where does it belong - into package.json or into bower.json</p>\n</blockquote>\n\n<ul>\n<li><p>Everything belongs in package.json now</p></li>\n<li><p>Dependencies required for build are in \"devDependencies\" i.e. <code>npm install require-dir --save-dev</code> (--save-dev updates your package.json by adding an entry to devDependencies)</p></li>\n<li>Dependencies required for your application during runtime are in \"dependencies\" i.e. <code>npm install lodash --save</code> (--save updates your package.json by adding an entry to dependencies)</li>\n</ul>\n\n<blockquote>\n  <p>If that is the case, when should I ever install packages explicitly like that without adding them to the file that manages dependencies (apart from installing command line tools globally)?</p>\n</blockquote>\n\n<p><strong>Always</strong>. Just because of comfort. When you add a flag (<code>--save-dev</code> or <code>--save</code>) the file that manages deps (package.json) gets updated automatically. Don't waste time by editing dependencies in it manually. Shortcut for <code>npm install --save-dev package-name</code> is <code>npm i -D package-name</code> and shortcut for <code>npm install --save package-name</code> is <code>npm i -S package-name</code></p>\n", "title": "Difference between Grunt, NPM and Bower ( package.json vs bower.json )", "answer_id": 39234812, "question_id": 21198977, "tags": ["javascript", "gruntjs", "bower", "web-frontend"]}], "question_id": 21198977}, {"body": "<p>I understand that <code>ng-show</code> and <code>ng-hide</code> affect the class set on an element and that <code>ng-if</code> controls whether an element is rendered as part of the DOM. </p>\n\n<p><strong>Are there guidelines on choosing <code>ng-if</code> over <code>ng-show</code>/<code>ng-hide</code> or vice-versa?</strong></p>\n", "title": "When to favor ng-if vs. ng-show/ng-hide?", "tags": ["angularjs", "angularjs-directive"], "answer_count": 7, "link": "http://stackoverflow.com/questions/21869283/when-to-favor-ng-if-vs-ng-show-ng-hide", "answers": [{"body": "<p>Depends on your use case but to summarise the difference:</p>\n\n<ol>\n<li><code>ng-if</code> will remove elements from DOM. This means that all your handlers or anything else attached to those elements will be lost. For example, if you bound a click handler to one of child elements, when <code>ng-if</code> evaluates to false, that element will be removed from DOM and your click handler will not work any more, even after <code>ng-if</code> later evaluates to true and displays the element. You will need to reattach the handler.</li>\n<li><code>ng-show/ng-hide</code> does not remove the elements from DOM. It uses CSS styles to hide/show elements (note: you might need to add your own classes). This way your handlers that were attached to children will not be lost.</li>\n<li><code>ng-if</code> creates a child scope while <code>ng-show/ng-hide</code> does not</li>\n</ol>\n\n<p>Elements that are not in the DOM have less performance impact and your web app might appear to be faster when using <code>ng-if</code> compared to <code>ng-show/ng-hide</code>. In my experience, the difference is negligible. Animations are possible when using both ng-show/ng-hide and ng-if, with examples for both in the Angular documentation.</p>\n\n<p>Ultimately, the question you need to answer is whether you can remove element from DOM or not?</p>\n", "title": "When to favor ng-if vs. ng-show/ng-hide?", "answer_id": 21870119, "question_id": 21869283, "tags": ["angularjs", "angularjs-directive"]}, {"body": "<p>See <a href=\"http://christianlilley.wordpress.com/2013/11/04/angulars-ng-show-vs-ng-switch-and-new-ng-if-important-differences/\">here</a> for a CodePen that demonstrates the difference in how ng-if/ng-show work, DOM-wise.</p>\n\n<p>@markovuksanovic has answered the question well. But I'd come at it from another perspective: I'd <em>always</em> use <code>ng-if</code> and get those elements out of DOM, unless: </p>\n\n<ol>\n<li>you for some reason need the data-bindings and <code>$watch</code>-es on your elements to remain active while they're invisible. Forms might be a good case for this, if you want to be able to check validity on inputs that aren't currently visible, in order to determine whether the whole form is valid.</li>\n<li>You're using some really elaborate stateful logic with conditional event handlers, as mentioned above. <em>That said</em>, if you find yourself manually attaching and detaching handlers, such that you're losing important state when you use ng-if, ask yourself whether that state would be better represented in a data model, and the handlers applied conditionally by directives whenever the element is rendered. Put another way, the presence/absence of handlers is a form of state data. Get that data out of the DOM, and into a model. The presence/absence of the handlers should be determined by the data, and thus easy to recreate. </li>\n</ol>\n\n<p>Angular is written really well. It's fast, considering what it does. But what it does is a whole bunch of magic that makes hard things (like 2-way data-binding) look trivially easy. Making all those things look easy entails some performance overhead. You might be shocked to realize how many hundreds or thousands of times a setter function gets evaluated during the <code>$digest</code> cycle on a hunk of DOM that nobody's even looking at. And then you realize you've got dozens or hundreds of invisible elements all doing the same thing...</p>\n\n<p>Desktops may indeed be powerful enough to render most JS execution-speed issues moot. But if you're developing for mobile, using ng-if whenever humanly possible should be a no-brainer. JS speed still matters on mobile processors. Using ng-if is a very easy way to get potentially-significant optimization at very, very low cost.</p>\n", "title": "When to favor ng-if vs. ng-show/ng-hide?", "answer_id": 23505047, "question_id": 21869283, "tags": ["angularjs", "angularjs-directive"]}, {"body": "<p>ng-if on ng-include and on ng-controller will have a big impact matter\non ng-include it will not load the required partial and does not process unless flag is true\non ng-controller it will not load the controller unless flag is true\nbut the problem is when a flag gets false in ng-if it will remove from DOM when flag gets true back it will reload the DOM in this case ng-show is better, for one time show ng-if is better</p>\n", "title": "When to favor ng-if vs. ng-show/ng-hide?", "answer_id": 24566438, "question_id": 21869283, "tags": ["angularjs", "angularjs-directive"]}, {"body": "<p>One important note:</p>\n\n<p>ngIf (unlike ngShow) usually creates child scopes that may produce unexpected results.</p>\n\n<p>I had an issue related to this and I've spent MUCH time to figure out what was going on.</p>\n\n<p>(My directive was writing its model values to the wrong scope.)</p>\n\n<p>So, to save your hair just use ngShow unless you run too slow.</p>\n\n<p>The performance difference is barely noticable anyway and I am not sure yet on who's favour is it without a test...</p>\n", "title": "When to favor ng-if vs. ng-show/ng-hide?", "answer_id": 25764526, "question_id": 21869283, "tags": ["angularjs", "angularjs-directive"]}, {"body": "<p>From my experience:</p>\n\n<p>1) If your page has a toggle that uses ng-if/ng-show to show/hide something, ng-if causes more of a browser delay (slower). For example: if you have a button used to toggle between two views, ng-show seems to be faster.</p>\n\n<p>2) ng-if will create/destroy scope when it evaluates to true/false.  If you have a controller attached to the ng-if, that controller code will get executed every time the ng-if evaluates to true.  If you are using ng-show, the controller code only gets executed once.  So if you have a button that toggles between multiple views, using ng-if and ng-show would make a huge difference in how you write your controller code.</p>\n", "title": "When to favor ng-if vs. ng-show/ng-hide?", "answer_id": 26246725, "question_id": 21869283, "tags": ["angularjs", "angularjs-directive"]}, {"body": "<p>If you use <code>ng-show or ng-hide</code> the content (eg. thumbnails from server) will be loaded irrespective of the value of expression but will be displayed based on the value of the expression.</p>\n\n<p>If you use <code>ng-if</code> the content will be loaded only if the expression of the ng-if evaluates to truthy.</p>\n\n<p>Using ng-if is a good idea in a situation where you are going to load data or images from the server and show those only depending on users interaction. This way your page load will not be blocked by unnecessary nw intensive tasks.</p>\n", "title": "When to favor ng-if vs. ng-show/ng-hide?", "answer_id": 32682332, "question_id": 21869283, "tags": ["angularjs", "angularjs-directive"]}, {"body": "<p>The answer is not simple:</p>\n\n<p>It depends on the target machines (mobile vs desktop), it depends on the nature of your data, the browser, the OS, the hardware it runs on... you will need to benchmark if you really want to know.</p>\n\n<p>It is mostly a memory vs computation problem ... as with most performance issues the difference can become significant with <strong>repeated elements</strong> (n) like lists, especially when <strong>nested</strong> (n x n, or worse) and also what kind of <strong>computations you run inside</strong> these elements:</p>\n\n<ul>\n<li><p><strong>ng-show</strong>: If those optional elements are often present (dense), like say 90% of the\ntime, it may be faster to have them ready and only show/hide them, especially if their content is cheap (just plain text, nothing to compute or load). This consumes memory as it fills the DOM with hidden elements, but just show/hide something which already exists is likely to be a cheap operation for the browser.</p></li>\n<li><p><strong>ng-if</strong>: If on the contrary elements are likely not to be shown (sparse) just build them and destroy them in real time, especially if their content is expensive to get (computations/sorted/filtered, images, generated images). This is ideal for rare or 'on-demand' elements, it saves memory in terms of not filling the DOM but can cost a lot of computation (creating/destroying elements) and bandwidth (getting remote content). It also depends on how much you compute in the view (filtering/sorting) vs what you already have in the model (pre-sorted/pre-filtered data).</p></li>\n</ul>\n", "title": "When to favor ng-if vs. ng-show/ng-hide?", "answer_id": 33231532, "question_id": 21869283, "tags": ["angularjs", "angularjs-directive"]}], "question_id": 21869283}, {"body": "<p>The Swift Programming Language guide has the following example: </p>\n\n<pre><code>class Person {\n    let name: String\n    init(name: String) { self.name = name }\n    var apartment: Apartment?\n    deinit { println(\"\\(name) is being deinitialized\") }\n}\n\nclass Apartment {\n    let number: Int\n    init(number: Int) { self.number = number }\n    var tenant: Person?\n    deinit { println(\"Apartment #\\(number) is being deinitialized\") }\n}\n\nvar john: Person?\nvar number73: Apartment?\n\njohn = Person(name: \"John Appleseed\")\nnumber73 = Apartment(number: 73)\n\n//From Apple's \u201cThe Swift Programming Language\u201d guide (https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/Swift_Programming_Language/AutomaticReferenceCounting.html)\n</code></pre>\n\n<p>Then when assigning the apartment to the person, they use an exclamation point to \"unwrap the instance\":</p>\n\n<pre><code>john!.apartment = number73\n</code></pre>\n\n<p>What does it mean to \"unwrap the instance\"? Why is it necessary? How is it different from just doing the following:</p>\n\n<pre><code>john.apartment = number73\n</code></pre>\n\n<p>I'm very new to the Swift language.  Just trying to get the basics down.</p>\n\n<p><br>\n<strong><em>UPDATE:</em></strong><br>\nThe big piece of the puzzle that I was missing (not directly stated in the answers - at least not at the time of writing this) is that when you do the following:</p>\n\n<pre><code>var john: Person?\n</code></pre>\n\n<p>that does NOT mean that \"<code>john</code> is of type <code>Person</code> and it might be nil\", as I originally thought. I was simply misunderstanding that <code>Person</code> and <code>Person?</code> are completely separate types.  Once I grasped that, all of the other <code>?</code>, <code>!</code> madness, and the great answers below, made a lot more sense.</p>\n", "title": "What does an exclamation mark mean in the Swift language?", "tags": ["swift"], "answer_count": 19, "link": "http://stackoverflow.com/questions/24018327/what-does-an-exclamation-mark-mean-in-the-swift-language", "answers": [{"body": "<p><code>john</code> is an optional <code>var</code>. So can be contains a <code>nil</code> value. To ensure that the value isn't nil use a <code>!</code> at the end of the <code>var</code> name.</p>\n\n<p>From documentation</p>\n\n<p><strong>\u201cOnce you\u2019re sure that the optional does contain a value, you can access its underlying value by adding an exclamation mark (!) to the end of the optional\u2019s name. The exclamation mark effectively says, \u201cI know that this optional definitely has a value; please use it.\u201d</strong></p>\n", "title": "What does an exclamation mark mean in the Swift language?", "answer_id": 24018376, "question_id": 24018327, "tags": ["swift"]}, {"body": "<p>John is an optional Person, meaning it can hold a value or be nil. </p>\n\n<pre><code>john.apartment = number73\n</code></pre>\n\n<p>is used if john is not an optional. Since john is never nil we can be sure it won't call apartment on a nil value. While</p>\n\n<pre><code>john!.apartment = number73\n</code></pre>\n\n<p>promises the compiler that john is not nil then unwraps the optional to get john's value and accesses john's apartment property. Use this if you know that john is not nil. If you call this on a nil optional, you'll get a runtime error.</p>\n\n<p>The documentation includes a nice example for using this where convertedNumber is an optional.</p>\n\n<pre><code>if convertedNumber {\n    println(\"\\(possibleNumber) has an integer value of \\(convertedNumber!)\")\n} else {\n    println(\"\\(possibleNumber) could not be converted to an integer\")\n}\n</code></pre>\n", "title": "What does an exclamation mark mean in the Swift language?", "answer_id": 24018403, "question_id": 24018327, "tags": ["swift"]}, {"body": "<p>If john were an optional var (declared thusly)</p>\n\n<pre><code>var john: Person?\n</code></pre>\n\n<p>then it would be possible for john to have no value (in ObjC parlance, nil value)</p>\n\n<p>The exclamation point basically tells the compiler \"I know this has a value, you don't need to test for it\". If you didn't want to use it, you could conditionally test for it:</p>\n\n<pre><code>if let otherPerson = john {\n    otherPerson.apartment = number73\n}\n</code></pre>\n\n<p>The interior of this will only evaluate if john has a value.</p>\n", "title": "What does an exclamation mark mean in the Swift language?", "answer_id": 24018494, "question_id": 24018327, "tags": ["swift"]}, {"body": "<blockquote>\n  <p>What does it mean to \"unwrap the instance\"? Why is it necessary?</p>\n</blockquote>\n\n<p>As far as I can work out (this is very new to me, too)...</p>\n\n<p>The term \"wrapped\" implies we should <strong>think of an Optional variable as a present, wrapped in shiny paper, which might (sadly!) be empty</strong>.</p>\n\n<p>When \"wrapped\", the value of an Optional variable is an enum with two possible values (a little like a Boolean).  This enum describes whether the variable holds a value (<code>Some(T)</code>), or not (<code>None</code>).</p>\n\n<p>If there is a value, this can be obtained by \"unwrapping\" the variable (obtaining the <code>T</code> from <code>Some(T)</code>).</p>\n\n<blockquote>\n  <p>How is <code>john!.apartment = number73</code> different from <code>john.apartment = number73</code>?  (Paraphrased)</p>\n</blockquote>\n\n<p>If you write the name of an Optional variable (eg text <code>john</code>, without the <code>!</code>), this refers to the \"wrapped\" enum (Some/None), not the value itself (T).  So <code>john</code> isn't an instance of <code>Person</code>, and it doesn't have an <code>apartment</code> member:</p>\n\n<pre><code>john.apartment\n// 'Person?' does not have a member named 'apartment'\n</code></pre>\n\n<p>The actual <code>Person</code> value can be unwrapped in various ways:</p>\n\n<ul>\n<li>\"forced unwrapping\": <code>john!</code> (gives the <code>Person</code> value if it exists, runtime error if it is nil)</li>\n<li>\"optional binding\": <code>if let p = john { println(p) }</code> (executes the <code>println</code> if the value exists)</li>\n<li>\"optional chaining\": <code>john?.learnAboutSwift()</code> (executes this made-up method if the value exists)</li>\n</ul>\n\n<p>I guess you choose one of these ways to unwrap, depending upon what should happen in the nil case, and how likely that is.  This language design forces the nil case to be handled explicitly, which I suppose improves safety over Obj-C (where it is easy to forget to handle the nil case).</p>\n\n<p><strong>Update</strong>:</p>\n\n<p>The exclamation mark is also used in the syntax for declaring \"Implicitly Unwrapped Optionals\".</p>\n\n<p>In the examples so far, the <code>john</code> variable has been declared as <code>var john:Person?</code>, and it is an Optional.  If you want the actual value of that variable, you must unwrap it, using one of the three methods above.</p>\n\n<p>If it were declared as <code>var john:Person!</code> instead, the variable would be an Implicitly Unwrapped Optional (see the section with this heading in Apple's book).  There is no need to unwrap this kind of variable when accessing the value, and <code>john</code> can be used without additional syntax.  But Apple's book says:</p>\n\n<blockquote>\n  <p>Implicitly unwrapped optionals should not be used when there is a possibility of a variable becoming nil at a later point. Always use a normal optional type if you need to check for a nil value during the lifetime of a variable.</p>\n</blockquote>\n\n<p><strong>Update 2</strong>:</p>\n\n<p>The article \"<a href=\"https://mikeash.com/pyblog/friday-qa-2014-06-20-interesting-swift-features.html\">Interesting Swift Features</a>\" by Mike Ash gives some motivation for optional types.  I think it is great, clear writing.</p>\n\n<p><strong>Update 3</strong>:</p>\n\n<p>Another useful article about the <em>implicitly unwrapped optional</em> use for the exclamation mark: \"<a href=\"http://www.subfurther.com/blog/2014/06/14/swift-and-the-last-mile/\">Swift and the Last Mile</a>\" by Chris Adamson.  The article explains that this is a pragmatic measure by Apple used to declare the types used by their Objective-C frameworks which might contain nil.  Declaring a type as optional (using <code>?</code>) or implicitly unwrapped (using <code>!</code>) is \"a tradeoff between safety and convenience\".  In the examples given in the article, Apple have chosen to declare the types as implicitly unwrapped, making the calling code more convenient, but less safe.</p>\n\n<p>Perhaps Apple might comb through their frameworks in the future, removing the uncertainty of implicitly unwrapped (\"probably never nil\") parameters and replacing them with optional (\"certainly could be nil in particular [hopefully, documented!] circumstances\") or standard non-optional (\"is never nil\") declarations, based on the exact behaviour of their Objective-C code.</p>\n", "title": "What does an exclamation mark mean in the Swift language?", "answer_id": 24020951, "question_id": 24018327, "tags": ["swift"]}, {"body": "<p>In objective C variables with no value were equal to 'nil'(it was also possible to use 'nil' values same as 0 and false), hence it was possible to use variables in conditional statements (Variables having values are same as 'TRUE' and those with no values were equal to 'FALSE').</p>\n\n<p>Swift provides type safety by providing 'optional value'. i.e. It prevents errors formed from assigning variables of different types.</p>\n\n<p>So in Swift, only booleans can be provided on conditional statements.</p>\n\n<pre><code>var hw = \"Hello World\"\n</code></pre>\n\n<p>Here, even-though 'hw' is a string, it can't be used in an if statement like in objective C.</p>\n\n<pre><code>//This is an error\n\nif hw\n\n {..}\n</code></pre>\n\n<p>For that it needs to be created as,</p>\n\n<pre><code>var nhw : String? = \"Hello World\"\n\n//This is correct\n\nif nhw\n\n {..}\n</code></pre>\n", "title": "What does an exclamation mark mean in the Swift language?", "answer_id": 24300590, "question_id": 24018327, "tags": ["swift"]}, {"body": "<p>Here is what I think is the difference:</p>\n\n<pre><code>var john: Person?\n</code></pre>\n\n<p>Means john can be nil</p>\n\n<pre><code>john?.apartment = number73\n</code></pre>\n\n<p>The compiler will interpret this line as:</p>\n\n<pre><code>if john != nil {\n    john.apartment = number73\n}\n</code></pre>\n\n<p>While</p>\n\n<pre><code>john!.apartment = number73\n</code></pre>\n\n<p>The compiler will interpret this line as simply:</p>\n\n<pre><code>john.apartment = number73\n</code></pre>\n\n<p>Hence, using ! will unwrap the if statement, and make it run faster, but if john is nil, then a runtime error will happen.</p>\n\n<p>So wrap here doesn't mean it is memory wrapped, but it means it is code wrapped, in this case it is wrapped with an if statement, and because Apple pay close attention to performance in runtime, they want to give you a way to make your app run with the best possible performance.</p>\n", "title": "What does an exclamation mark mean in the Swift language?", "answer_id": 24319846, "question_id": 24018327, "tags": ["swift"]}, {"body": "<p>TL;DR</p>\n\n<p>What does an exclamation mark mean in the Swift language?</p>\n\n<blockquote>\n  <p>The exclamation mark effectively says, \u201cI know that this optional\n  definitely has a value; please use it.\u201d This is known as forced unwrapping of the optional\u2019s value: </p>\n</blockquote>\n\n<p>Example</p>\n\n<pre><code>let possibleString: String? = \"An optional string.\"\nprint(possibleString!) // requires an exclamation mark to access its value\n// prints \"An optional string.\"\n\nlet assumedString: String! = \"An implicitly unwrapped optional string.\"\nprint(assumedString)  // no exclamation mark is needed to access its value\n// prints \"An implicitly unwrapped optional string.\"\n</code></pre>\n\n<p>Source: <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/Swift_Programming_Language/TheBasics.html#//apple_ref/doc/uid/TP40014097-CH5-XID_399\">https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/Swift_Programming_Language/TheBasics.html#//apple_ref/doc/uid/TP40014097-CH5-XID_399</a></p>\n", "title": "What does an exclamation mark mean in the Swift language?", "answer_id": 24793853, "question_id": 24018327, "tags": ["swift"]}, {"body": "<p>In this case...</p>\n\n<p>var John: Person!</p>\n\n<p>it means, that initially John will have nil value, it will be set and once set will never be nil-led again. Therefore for convenience I can use the easier syntax for accessing an optional var because this is an \"Implicitly unwrapped optional\"</p>\n", "title": "What does an exclamation mark mean in the Swift language?", "answer_id": 24944609, "question_id": 24018327, "tags": ["swift"]}, {"body": "<p>The ! means that you are force unwrapping the object the ! follows.  More info can be found  in Apples documentation, which can be found here: <a href=\"https://developer.apple.com/library/ios/documentation/swift/conceptual/Swift_Programming_Language/TheBasics.html\" rel=\"nofollow\">https://developer.apple.com/library/ios/documentation/swift/conceptual/Swift_Programming_Language/TheBasics.html</a></p>\n", "title": "What does an exclamation mark mean in the Swift language?", "answer_id": 26953093, "question_id": 24018327, "tags": ["swift"]}, {"body": "<pre><code>var currentTitle:String?\n//currentTitle = \"Title Name\"\nprintln(\"title: \\(currentTitle?)\") //title: nil\nprintln(\"title: \\(currentTitle!)\") //runtime exception\n\nvar currentTitle:String?\ncurrentTitle = \"Title Name\"\nprintln(\"title: \\(currentTitle?)\") //title: Optonal(\"Title Name\")\nprintln(\"title: \\(currentTitle!)\") //title: Title Name\n</code></pre>\n\n<p>In some cases we cannot move forward when the optional value is nil</p>\n", "title": "What does an exclamation mark mean in the Swift language?", "answer_id": 28447429, "question_id": 24018327, "tags": ["swift"]}, {"body": "<p>To put it simply, exclamation marks mean an optional is being unwrapped. An optional is a variable that can have a value or not -- so you can check if the variable is empty, using an if let statement <a href=\"https://medium.com/arthurs-coding-tips/optionals-in-swift-c94fd231e7a4\" rel=\"nofollow\">as shown here</a>, and then force unwrap it. If you force unwrap an optional that is empty though, your program will crash, so be careful! Optionals are declared by putting a question mark at the end of an explicit assignment to a variable, for example I could write:</p>\n\n<pre><code>var optionalExample: String?\n</code></pre>\n\n<p>This variable has no value. If I were to unwrap it, the program would crash and Xcode would tell you you tried to unwrap an optional with a value of nil. </p>\n\n<p>Hope that helped.</p>\n", "title": "What does an exclamation mark mean in the Swift language?", "answer_id": 28749962, "question_id": 24018327, "tags": ["swift"]}, {"body": "<p>The ! at the end of an object says the object is an optional and to unwrap if it can otherwise returns a nil. This is often used to trap errors that would otherwise crash the program.</p>\n", "title": "What does an exclamation mark mean in the Swift language?", "answer_id": 30724185, "question_id": 24018327, "tags": ["swift"]}, {"body": "<p>Here are some examples:</p>\n\n<pre><code>var a:Int = 5\nvar b:Int?\n</code></pre>\n\n<p>Where <code>b</code> is an optional value. means it may or may not contain a value.</p>\n\n<pre><code>b = a \n</code></pre>\n\n<p>Here <code>a</code> has a value so we can assign it</p>\n\n<pre><code>var c:Int = nil\nvar d:Int!\n</code></pre>\n\n<p>Where <code>d</code> is forcefully unwrapped means it must contain a value</p>\n\n<pre><code>d = c\n</code></pre>\n\n<p>The application will crash because we are assign <code>nil</code> to unwrapped</p>\n", "title": "What does an exclamation mark mean in the Swift language?", "answer_id": 31336043, "question_id": 24018327, "tags": ["swift"]}, {"body": "<p>If you're familiar with C#, this is like Nullable types which are also declared using a question mark:</p>\n\n<pre><code>Person? thisPerson;\n</code></pre>\n\n<p>And the exclamation mark in this case is equivalent to accessing the .Value property of the nullable type like this:</p>\n\n<pre><code>thisPerson.Value\n</code></pre>\n", "title": "What does an exclamation mark mean in the Swift language?", "answer_id": 33239306, "question_id": 24018327, "tags": ["swift"]}, {"body": "<p>Some big picture perspective to add to the other useful but more detail-centric answers:</p>\n\n<p>In Swift, the exclamation point appears in several contexts:</p>\n\n<ul>\n<li>Forced unwrapping: <code>let name = nameLabel!.text</code></li>\n<li>Implicitly unwrapped optionals: <code>var logo: UIImageView!</code></li>\n<li>Forced casting: <code>logo.image = thing as! UIImage</code></li>\n<li>Unhandled exceptions: <code>try! NSJSONSerialization.JSONObjectWithData(data, [])</code></li>\n</ul>\n\n<p>Every one of these is a different language construct with a different meaning, but they all have three important things in common:</p>\n\n<h3>1. Exclamation points circumvent Swift\u2019s compile-time safety checks.</h3>\n\n<p>When you use <code>!</code> in Swift, you are essentially saying, \u201cHey, compiler, I know you think an error <em>could</em> happen here, but I <em>know</em> with total certainty that it never will.\u201d</p>\n\n<p>Not all valid code fits into the box of Swift\u2019s compile-time type system \u2014 or <em>any</em> language\u2019s static\u00a0type checking, for that matter. There are situations where you can logically prove that an error will never happen, but you can\u2019t prove it <em>to the compiler</em>. That\u2019s why Swift\u2019s designers added these features in the first place.</p>\n\n<p>However, whenever you use <code>!</code>, you\u2019re ruling out having a recovery path for an error, which means that\u2026</p>\n\n<h3>2. Exclamation points are potential crashes.</h3>\n\n<p>An exclamation point also says, \u201cHey Swift, I am <em>so</em> certain that this error can never happen that it\u2019s better for you to <em>crash my whole app</em> than it is for me to code a recovery path for it.\u201d</p>\n\n<p>That\u2019s a dangerous assertion. It <em>can</em> be the correct one: in mission-critical code where you have thought hard about your code\u2019s invariants, it may be that bogus output is worse than a crash.</p>\n\n<p>However, when I see <code>!</code> in the wild, it's rarely used so mindfully. Instead, it too often means, \u201cthis value was optional and I didn\u2019t really think too hard about why it could be nil or what to about that, but add <code>!</code> made it compile \u2026 so my code is good, right?\u201d</p>\n\n<p>Beware the arrogance of the exclamation point. Instead\u2026</p>\n\n<h3>3. Exclamation points are best used sparingly, almost never.</h3>\n\n<p>Every one of these <code>!</code> constructs has a <code>?</code> counterpart that forces you to deal with the error/nil case:</p>\n\n<ul>\n<li>Conditional unwrapping: <code>if let name = nameLabel?.text { ... }</code></li>\n<li>Optionals: <code>var logo: UIImageView?</code></li>\n<li>Conditional casts: <code>logo.image = thing as? UIImage</code></li>\n<li>Nil-on-failure exceptions: <code>try? NSJSONSerialization.JSONObjectWithData(data, [])</code></li>\n</ul>\n\n<p>If you are tempted to use <code>!</code>, it is always good to consider carefully why you are not using <code>?</code> instead. Is crashing your program really the best option if the <code>!</code> operation fails? Is there a reasonable recovery path your code could take in the nil/error case? If so, code it.</p>\n\n<p>I periodically search my entire codebase for <code>!</code> and audit every use of it. Very few usages stand up to scrutiny. (As of this writing, the entire Siesta framework has exactly <a href=\"https://github.com/bustoutsolutions/siesta/blob/0a23609737282b2834b770172410dde08e57e8a7/Source/Resource.swift#L422\" rel=\"nofollow\">two</a> <a href=\"https://github.com/bustoutsolutions/siesta/blob/0a23609737282b2834b770172410dde08e57e8a7/Source/Resource.swift#L438\" rel=\"nofollow\">instances</a> of it.)</p>\n\n<p>That\u2019s not to say you should <em>never</em> use <code>!</code> in your code \u2014\u00a0just that you should always use it <em>mindfully</em>, and never make it the default option.</p>\n", "title": "What does an exclamation mark mean in the Swift language?", "answer_id": 33399973, "question_id": 24018327, "tags": ["swift"]}, {"body": "<p>In Short (!):\nAfter you have declare a variable and that you are certain the variable is holding a value.</p>\n\n<pre><code>let assumedString: String! = \"Some message...\"\nlet implicitString: String = assumedString\n</code></pre>\n\n<p>else you would have to do this on every after passing value...</p>\n\n<pre><code>let possibleString: String? = \"An optional string.\"\nlet forcedString: String = possibleString! // requires an exclamation mark\n</code></pre>\n", "title": "What does an exclamation mark mean in the Swift language?", "answer_id": 34649916, "question_id": 24018327, "tags": ["swift"]}, {"body": "<p>If you've come from a C-family language, you will be thinking \"pointer to object of type X which might be the memory address 0 (NULL)\", and if you're coming from a dynamically typed language you'll be thinking \"Object which is probably of type X but might be of type undefined\". Neither of these is actually correct, although in a roundabout way the first one is close.</p>\n\n<p>The way you should be thinking of it is as if it's an object like:</p>\n\n<pre><code>struct Optional&lt;T&gt; {\n   var isNil:Boolean\n   var realObject:T\n}\n</code></pre>\n\n<p>When you're testing your optional value with <code>foo == nil</code> it's really returning <code>foo.isNil</code>, and when you say <code>foo!</code> it's returning <code>foo.realObject</code> with an assertion that <code>foo.isNil == false</code>. It's important to note this because if <code>foo</code> actually is nil when you do <code>foo!</code>, that's a runtime error, so typically you'd want to use a conditional let instead unless you are very sure that the value will not be nil. This kind of trickery means that the language can be strongly typed without forcing you to test if values are nil everywhere.</p>\n\n<p>In practice, it doesn't truly behave like that because the work is done by the compiler. At a high level there is a type <code>Foo?</code> which is separate to <code>Foo</code>, and that prevents funcs which accept type <code>Foo</code> from receiving a nil value, but at a low level an optional value isn't a true object because it has no properties or methods; it's likely that in fact it is a pointer which may by NULL(0) with the appropriate test when force-unwrapping.</p>\n\n<p>There other situation in which you'd see an exclamation mark is on a type, as in:</p>\n\n<pre><code>func foo(bar: String!) {\n    print(bar)\n}\n</code></pre>\n\n<p>This is roughly equivalent to accepting an optional with a forced unwrap, i.e.:</p>\n\n<pre><code>func foo(bar: String?) {\n    print(bar!)\n}\n</code></pre>\n\n<p>You can use this to have a method which technically accepts an optional value but will have a runtime error if it is nil. In the current version of Swift this apparently bypasses the is-not-nil assertion so you'll have a low-level error instead. Generally not a good idea, but it can be useful when converting code from another language.</p>\n", "title": "What does an exclamation mark mean in the Swift language?", "answer_id": 35503514, "question_id": 24018327, "tags": ["swift"]}, {"body": "<p><strong><em>IN SIMPLE WORDS</em></strong></p>\n\n<p><strong>USING Exclamation mark indicates that variable must consists non nil value (it never be nil)</strong>  </p>\n", "title": "What does an exclamation mark mean in the Swift language?", "answer_id": 37391764, "question_id": 24018327, "tags": ["swift"]}, {"body": "<p><strong>ASK YOURSELF</strong></p>\n\n<ol>\n<li>Does the type <strong><code>person?</code></strong> have an <code>apartment</code> member/property?  OR</li>\n<li>Does the type <strong><code>person</code></strong> have an <code>apartment</code> member/property?</li>\n</ol>\n\n<p>If you can't answer this question, then I recommend seeing the images below, they are from the free <a href=\"https://www.google.com/webhp?sourceid=chrome-instant&amp;ion=1&amp;espv=2&amp;ie=UTF-8#q=ios9%20standford%20itunes%20u\" rel=\"nofollow\">iOS 9 Stanford Course</a>.\n<a href=\"http://i.stack.imgur.com/m6WwP.jpg\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/m6WwP.jpg\" alt=\"enter image description here\"></a>\n<a href=\"http://i.stack.imgur.com/nc9aj.jpg\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/nc9aj.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Now that you know what optionals are implemented using enums, you that <code>person?</code> doesn't have any <code>apartment</code> member but its uwrapped ie <code>person!</code> value does.</p>\n\n<p>Had you defined <code>var john: Person</code> instead of: <code>var john: Person?</code> then you would have no longer needed to have the <code>!</code> used, because <code>Person</code> itself does have a member of <code>apartment</code></p>\n", "title": "What does an exclamation mark mean in the Swift language?", "answer_id": 38830543, "question_id": 24018327, "tags": ["swift"]}], "question_id": 24018327}, {"body": "<p>I have a variable in PHP, and I need its value in my JavaScript code. How can I get my variable from PHP to JavaScript?</p>\n\n<p>I have code that looks like this:</p>\n\n<pre><code>&lt;$php\n     ...\n     $val = $myService-&gt;getValue(); // makes an api and db call\n$&gt;\n</code></pre>\n\n<p>I have JavaScript code that needs <code>val</code> and looks along the lines of:</p>\n\n<pre><code>&lt;script&gt;\n    myPlugin.start($val); // tried this, didn't work\n    &lt;?php myPlugin.start($val); ?&gt; // this didn't work either\n    myPlugin.start(&lt;?=$val?&gt; // this works sometimes, but sometimes it fails\n&lt;/script&gt;\n</code></pre>\n", "title": "How to pass variables and data from PHP to JavaScript?", "tags": ["javascript", "php"], "answer_count": 15, "link": "http://stackoverflow.com/questions/23740548/how-to-pass-variables-and-data-from-php-to-javascript", "answers": [{"body": "<p>There are actually several approaches to do this. Some require more overhead than others, and some are considered better than others.</p>\n\n<p>In no particular order:</p>\n\n<ol>\n<li>Use AJAX to get the data you need from the server.</li>\n<li>Echo the data into the page somewhere, and use JavaScript to get the information from the DOM.</li>\n<li>Echo the data directly to JavaScript.</li>\n</ol>\n\n<p>In this post, we'll examine each of the above methods, and see the pros and cons of each, as well as how to implement them.</p>\n\n<h1>1. Use AJAX to get the data you need from the server</h1>\n\n<p>This method is considered the best, because <strong>your server side and client side scripts are completely separate</strong>.</p>\n\n<h3>Pros</h3>\n\n<ul>\n<li><strong>Better separation between layers</strong> - If tomorrow you stop using PHP, and want to move to a servlet, a REST API, or some other service, you don't have to change much of the JavaScript code.</li>\n<li><strong>More readable</strong> - JavaScript is JavaScript, PHP is PHP. Without mixing the two, you get more readable code on both languages.</li>\n<li><strong>Allows for async data transfer</strong> - Getting the information from PHP might be time/resources expensive. Sometimes you just don't want to wait for the information, load the page, and have the information reach whenever.</li>\n<li><strong>Data is not directly found on the markup</strong> - This means that your markup is kept clean of any additional data, and only JavaScript sees it.</li>\n</ul>\n\n<h3>Cons</h3>\n\n<ul>\n<li><strong>Latency</strong> - AJAX creates an HTTP request, and HTTP requests are carried over network and have network latencies.</li>\n<li><strong>State</strong> - Data fetched via a separate HTTP request won't include any information from the HTTP request that fetched the HTML document. You may need this information (e.g. if the HTML document is generated in response to a form submission) and, if you do, will have to transfer it across somehow. If you have ruled out embedding the data in the page (which you have if you are using this technique) then that limits you to cookies/sessions which may be subject to race conditions.</li>\n</ul>\n\n<h2>Implementation Example</h2>\n\n<p>With AJAX, you need two pages, one is where PHP generates the output, and the second is where JavaScript gets that output:</p>\n\n<h3>get-data.php</h3>\n\n<pre><code>/* Do some operation here, like talk to the database, the file-session\n * The world beyond, limbo, the city of shimmers, and Canada.\n * \n * AJAX generally uses strings, but you can output JSON, HTML and XML as well. \n * It all depends on the Content-type header that you send with your AJAX\n * request. */\n\necho json_encode(42); //In the end, you need to <strong>echo</strong> the result. \n                      //All data should be <em>json_encode()</em>d.\n\n                      //You can json_encode() any value in PHP, arrays, strings,\n                      //even objects.\n\n</code></pre>\n\n<h3>index.php (or whatever the actual page is named like)</h3>\n\n<pre><code>&lt;!-- snip --&gt;\n&lt;script&gt;\n    function reqListener () {\n      console.log(this.responseText);\n    }\n\n    var oReq = new XMLHttpRequest(); //New request object\n    oReq.onload = function() {\n        //This is where you handle what to do with the response.\n        //The actual data is found on this.responseText\n        alert(this.responseText); //Will alert: 42\n    };\n    oReq.open(\"get\", \"get-data.php\", true);\n    //                               ^ Don't block the rest of the execution.\n    //                                 Don't wait until the request finishes to \n    //                                 continue.\n    oReq.send();\n&lt;/script&gt;\n&lt;!-- snip --&gt;\n</code></pre>\n\n<p>The above combination of the two files will alert <code>42</code> when the file finishes loading.</p>\n\n<h2>Some more reading material</h2>\n\n<ul>\n<li><strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest\">Using XMLHttpRequest - MDN</a></strong></li>\n<li><strong><a href=\"https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest\">XMLHttpRequest object reference - MDN</a></strong></li>\n<li><strong><a href=\"http://stackoverflow.com/questions/14220321/how-to-return-the-response-from-an-ajax-call\">How do I return the response from an asynchronous call?</a></strong></li>\n</ul>\n\n<h1>2. Echo the data into the page somewhere, and use JavaScript to get the information from the DOM</h1>\n\n<p>This method is less preferable to AJAX, but it still has its advantages. It's still <em>relatively</em> separated between PHP and JavaScript in a sense that there is no PHP directly in the JavaScript.</p>\n\n<h3>Pros</h3>\n\n<ul>\n<li><strong>Fast</strong> - DOM operations are often quick, and you can store and access a lot of data relatively quickly.</li>\n</ul>\n\n<h3>Cons</h3>\n\n<ul>\n<li><strong>Potentially Unsemantic Markup</strong> - Usually, what happens is that you use some sort of <code>&lt;input type=hidden&gt;</code> to store the information, because it's easier to get the information out of <code>inputNode.value</code>, but doing so means that you have a meaningless element in your HTML. HTML has the <code>&lt;meta&gt;</code> element for data about the document, and HTML 5 introduces <code>data-*</code> attributes for data specifically for reading with JS that can be associated with particular elements.</li>\n<li><strong>Dirties up the Source</strong> - Data that PHP generates is outputted directly to the HTML source, meaning that you get a bigger and less focused HTML source.</li>\n<li><strong>Harder to get structured data</strong> - Structured data will have to be valid HTML, otherwise you'll have to escape and convert strings yourself.</li>\n<li><strong>Tightly couples PHP to your data logic</strong> - Because PHP is used in presentation, you can't separate the two cleanly.</li>\n</ul>\n\n<h2>Implementation Example</h2>\n\n<p>With this, the idea is to create some sort of element which will not be displayed to the user, but is visible to JavaScript.</p>\n\n<h3>index.php</h3>\n\n<pre><code>&lt;!-- snip --&gt;\n&lt;div id=\"dom-target\" style=\"display: none;\"&gt;\n    &lt;?php \n        $output = \"42\"; //Again, do some operation, get the output.\n        echo htmlspecialchars($output); /* You have to escape because the result\n                                           will not be valid HTML otherwise. */\n    ?&gt;\n&lt;/div&gt;\n&lt;script&gt;\n    var div = document.getElementById(\"dom-target\");\n    var myData = div.textContent;\n&lt;/script&gt;\n&lt;!-- snip --&gt;\n</code></pre>\n\n<h1>3. Echo the data directly to JavaScript</h1>\n\n<p>This is probably the easiest to understand, and the most horrible to use. Don't do this unless you know what you're doing.</p>\n\n<h3>Pros</h3>\n\n<ul>\n<li><strong>Very easily implemented</strong> - It takes very little to implement this, and understand.</li>\n<li><strong>Does not dirty source</strong> - Variables are outputted directly to JavaScript, so the DOM is not affected.</li>\n</ul>\n\n<h3>Cons</h3>\n\n<ul>\n<li><strong><em>Insecure</em></strong> - PHP has no trivial JavaScript escape functions, and they aren't trivial to implement. Especially when using user inputs, you are <strong>extremely</strong> vulnerable to second tier injections. <strong>Disputed</strong> see comments</li>\n<li><strong>Tightly couples PHP to your data logic</strong> - Because PHP is used in presentation, you can't separate the two cleanly.</li>\n<li><strong>Structured data is hard</strong> - You can probably do JSON... kinda. But XML and HTML will require special attention.</li>\n</ul>\n\n<h2>Implementation Example</h2>\n\n<p>Implementation is relatively straightforward:</p>\n\n<pre><code>&lt;!-- snip --&gt;\n&lt;script&gt;\n    var data = &lt;?php echo json_encode(\"42\", JSON_HEX_TAG); ?&gt;; //Don't forget the extra semicolon!\n&lt;/script&gt;\n&lt;!-- snip --&gt;\n</code></pre>\n\n<p>Good luck!</p>\n", "title": "How to pass variables and data from PHP to JavaScript?", "answer_id": 23740549, "question_id": 23740548, "tags": ["javascript", "php"]}, {"body": "<p>I'm going to try a simpler answer:</p>\n\n<h2>Explanation of the problem</h2>\n\n<p>First, let's understand the flow of events when a page is served from our server:</p>\n\n<ul>\n<li>First PHP is run, it generates the HTML that is served to the client.</li>\n<li>Then, the HTML is delivered to the client, after PHP is done with it, I'd like to emphasize that once the code leaves the server - PHP is done with it and can no longer access it.</li>\n<li>Then, the HTML with JavaScript reaches the client, which can execute JS on that html.</li>\n</ul>\n\n<p>So really, the core thing to remember here is that <strong>HTTP is stateless</strong>. Once a request left the server, the server can not touch it. So, that leaves our options to:</p>\n\n<ol>\n<li>Send more requests from the client <em>after</em> the initial request is done.</li>\n<li>Encode what the server had to say in the initial request.</li>\n</ol>\n\n<h2>Solutions</h2>\n\n<p>That's the core question you should be asking yourself is:</p>\n\n<h2>Am I writing a website or an application?</h2>\n\n<p>Websites are mainly page based, and the page load times needs to be as fast as possible (for example - Wikipedia) . Web applications are more AJAX heavy and perform a lot of round trips to get the client fast information (for example - a stock dashboard).</p>\n\n<h3>Website</h3>\n\n<p>Sending more requests from the client after the initial request is done is <strong>slow</strong> as it requires more HTTP requests which have significant overhead. Moreover, it requires <em>asynchronousity</em> as making an AJAX request requires a handler for when it's complete.</p>\n\n<p>I would <em>not</em> recommend making another request <em>unless your site is an application</em> for getting that information from the server. </p>\n\n<p>You want fast response times which have a <em>huge</em> impact on conversion and load times. Making ajax requests is slow for the initial uptime in this case and unneeded.</p>\n\n<p>You have two ways to tackle the issue</p>\n\n<ul>\n<li><strong>Set a cookie</strong> - cookies are headers sent in HTTP requests that both the server and client can read.</li>\n<li><strong>Encode the variable as JSON</strong> - JSON looks very close to JavaScript objects and <em>most</em> JSON objects are valid JavaScript variables.</li>\n</ul>\n\n<p><a href=\"http://www.php.net/manual/en/function.setcookie.php\">Setting a cookie</a> is really not very difficult, you just assign it a value:</p>\n\n<pre><code>setcookie(\"MyCookie\", $value); // sets the cookie to the value, remember, do not\n                               // set it with HTTP only to true.\n</code></pre>\n\n<p>Then, you can <a href=\"http://stackoverflow.com/questions/5639346/shortest-function-for-reading-a-cookie-in-javascript\">read it with JavaScript</a> using <code>document.cookie</code>:</p>\n\n<p>Here is a short hand rolled parser, but the answer I linked to right above this has better tested ones: </p>\n\n<pre><code>var cookies = document.cookie.split(\";\").\n    map(function(el){ return el.split(\"=\"); }).\n    reduce(function(prev,cur){ prev[cur[0]] = cur[1];return prev },{});\n\ncookies[\"MyCookie\"] // value set with php.\n</code></pre>\n\n<p>Cookies are good for a little data. This is what tracking services often do.</p>\n\n<p>Once we have more data, we can encode it with JSON inside a JS variable instead:</p>\n\n<pre><code>&lt;script&gt;\n    var myServerData = &lt;?=json_encode($value)?&gt;; // don't forget to sanitize \n                                                 //server data\n&lt;/script&gt;\n</code></pre>\n\n<p>Assuming <code>$value</code> is <code>json_encode</code>able on the PHP side (it usually is). This technique is what StackOverflow does with its chat for example (only using .net instead of php).</p>\n\n<h3>Application</h3>\n\n<p>If you're writing an application - suddenly the initial load time isn't always as important as the ongoing performance of the app and it starts to pay off to load data and code separately.</p>\n\n<p>My answer <a href=\"http://stackoverflow.com/a/16825593/1348195\">here</a> explains how to load data using AJAX in JavaScript:</p>\n\n<pre><code>function callback(data){\n    // what do I do with the response?\n}\n\nvar httpRequest = new XMLHttpRequest;\nhttpRequest.onreadystatechange = function(){\n    if (httpRequest.readyState === 4) {// request is done\n        if (httpRequest.status === 200) {// successfully\n            callback(httpRequest.responseText);// we're calling our method\n        }\n    }\n};\nhttpRequest.open('GET', \"/echo/json\");\nhttpRequest.send();\n</code></pre>\n\n<p>Or with jQuery:</p>\n\n<pre><code>$.get(\"/your/url\").done(function(data){\n    // what do I do with the data?\n});\n</code></pre>\n\n<p>Now, the server just needs to contain a <code>/your/url</code> route/file that contains code that grabs the data and does something with it, in your case:</p>\n\n<pre><code>&lt;$php\n ...\n $val = myService-&gt;getValue(); // makes an api and db call\n echo json_encode($val); // write it to the output\n $&gt;\n</code></pre>\n\n<p>This way, our JS file asks for the data and shows it rather than asking for code or for layout. This is cleaner and starts to pay off as the application gets higher. It's also better separation of concerns and it allows testing the client side code without any server side technology involved which is another plus.</p>\n\n<p><strong>Postscript:</strong> You have to be <em>very</em> aware of XSS attack vectors when you inject anything from PHP to JavaScript. It's <em>very</em> hard to escape values properly and it's context sensitive. If you're unsure how to deal with XSS, or unaware of it - please read <a href=\"https://www.owasp.org/index.php/Cross-site_Scripting_%28XSS%29\">this OWASP article</a>, <a href=\"https://www.owasp.org/index.php/XSS_%28Cross_Site_Scripting%29_Prevention_Cheat_Sheet\">this one</a> and <a href=\"http://stackoverflow.com/q/71328/1348195\">this question</a>. </p>\n", "title": "How to pass variables and data from PHP to JavaScript?", "answer_id": 23741119, "question_id": 23740548, "tags": ["javascript", "php"]}, {"body": "<pre><code>myPlugin.start($val); // tried this, didn't work    \n</code></pre>\n\n<p>It doesn't work because <code>$val</code> is undefined as far as javascript is concerned, ie. the php did not output anything for <code>$val</code>. Try viewing the source in your browser and here is what you'll see:</p>\n\n<pre><code>myPlugin.start(); // tried this, didn't work    \n</code></pre>\n\n<p>And</p>\n\n<pre><code>&lt;?php myPlugin.start($val); ?&gt; // this didn't work either\n</code></pre>\n\n<p>This doesn't work because php will try to treat <code>myPlugin</code> as a constant and when that fails it will try to treat it as the string <code>'myPlugin'</code> which it will try to concatenate with the output of the php function <code>start()</code> and since that is undefined it will produce a fatal error</p>\n\n<p>And</p>\n\n<pre><code> myPlugin.start(&lt;?=$val?&gt; // this works sometimes, but sometimes it fails\n</code></pre>\n\n<p>While this is most likely to work, since the php is producing valid javascript with the expected arguments, if it fails, chances are its because <code>myPlugin</code> isn't ready yet. Check your order of execution.</p>\n\n<p>Also you should note that the php out put is insecure and should be filtered with <code>json_encode()</code></p>\n\n<p><strong>EDIT</strong>  </p>\n\n<p>Because I didn't notice the missing parenthesis in <code>myPlugin.start(&lt;?=$val?&gt;</code> :-\\</p>\n\n<p>As @Second Rikudo points out, for it to work correctly <code>$val</code> would need to contain the closing parenthesis eg: <code>$val=\"42);\"</code> </p>\n\n<p>Meaning that the php will now produce <code>myPlugin.start(42);</code> and will work as expected when executed by the javascript</p>\n", "title": "How to pass variables and data from PHP to JavaScript?", "answer_id": 23741482, "question_id": 23740548, "tags": ["javascript", "php"]}, {"body": "<p>I usually use data-* attributes in html.</p>\n\n<pre><code>&lt;div class=\"service-container\" data-service=\"&lt;?php echo $myService-&gt;getValue(); ?&gt;\"&gt;\n\n&lt;/div&gt;\n\n&lt;script&gt;\n$(document).ready(function() {\n    $('.service-container').each(function() {\n        var container = $(this);\n        var service = container.data('container');\n\n        // service variable now contains the value of $myService-&gt;getValue();\n    });\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>This example uses jQuery but can be adapted for another library or vanilla Javascript.</p>\n\n<p>You can read more about the dataset property here: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement.dataset\">https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement.dataset</a></p>\n", "title": "How to pass variables and data from PHP to JavaScript?", "answer_id": 23813274, "question_id": 23740548, "tags": ["javascript", "php"]}, {"body": "<pre><code>&lt;script&gt;\n  var jsvar = &lt;?php echo json_encode($PHPVar); ?&gt;;\n&lt;/script&gt;\n</code></pre>\n\n<p>json_encode() requires:</p>\n\n<ul>\n<li>PHP 5.2.0 or more</li>\n<li>$PHPVar encoded as UTF-8, Unicode.</li>\n</ul>\n", "title": "How to pass variables and data from PHP to JavaScript?", "answer_id": 24834434, "question_id": 23740548, "tags": ["javascript", "php"]}, {"body": "<p>try this </p>\n\n<pre><code>&lt;?php\n    echo \"&lt;script&gt; var x = \". json_encode($phpVariable).\"&lt;/script&gt;\";\n?&gt;\n</code></pre>\n\n<p>-- </p>\n\n<p>-After trying this for  a while \nAlthough it works , however  it slows down the performance. as php is a server side script while javascript is a user side.</p>\n", "title": "How to pass variables and data from PHP to JavaScript?", "answer_id": 25620793, "question_id": 23740548, "tags": ["javascript", "php"]}, {"body": "<p>I quite like the way the Wordpress works with its <a href=\"http://codex.wordpress.org/Function_Reference/wp_enqueue_script\">enqueue</a> and <a href=\"http://codex.wordpress.org/Function_Reference/wp_localize_script\">localize</a> functions, so following that model, i wrote a simple class for putting a scripts into page according to the script dependencies, and for making additional data available for the script.</p>\n\n<pre><code>class mHeader {\n\n    private $scripts = array();\n\n    /**\n     * @param string $id        unique script identifier\n     * @param string $src   script src attribute\n     * @param array  $deps      an array of dependencies ( script identifiers ).\n     * @param array  $data      an array, data that will be json_encoded and available to the script.\n     */\n    function enqueue_script( $id, $src, $deps = array(), $data = array() ) {\n        $this-&gt;scripts[$id] = array( 'src' =&gt; $src, 'deps' =&gt; $deps, 'data' =&gt; $data );\n    }\n\n    private function dependencies( $script ) {\n        if ( $script['deps'] ) {\n            return array_map( array( $this, 'dependencies' ), array_intersect_key( $this-&gt;scripts, array_flip( $script['deps'] ) ) );\n        }\n    }\n\n    private function _unset( $key, &amp;$deps, &amp;$out ) {\n        $out[$key] = $this-&gt;scripts[$key];\n        unset( $deps[$key] );\n    }\n\n    private function flattern( &amp;$deps, &amp;$out = array() ) {\n\n        foreach( $deps as $key =&gt; $value ) {            \n            empty($value) ? $this-&gt;_unset( $key, $deps, $out ) : $this-&gt;flattern( $deps[$key], $out );\n        }\n    }   \n\n    function print_scripts() {\n\n        if ( !$this-&gt;scripts ) return;\n\n        $deps = array_map( array( $this, 'dependencies' ), $this-&gt;scripts );\n        while ( $deps ) \n            $this-&gt;flattern( $deps, $js );\n\n        foreach( $js as $key =&gt; $script ) {\n            $script['data'] &amp;&amp; printf( \"&lt;script&gt; var %s = %s; &lt;/script&gt;\" . PHP_EOL, key( $script['data'] ), json_encode( current( $script['data'] ) ) );\n            echo \"&lt;script id=\\\"$key-js\\\" src=\\\"$script[src]\\\" type=\\\"text/javascript\\\"&gt;&lt;/script&gt;\" . PHP_EOL;\n        }\n    }\n}\n</code></pre>\n\n<p>Call to <code>enqueue_script()</code> function is for adding script, setting the souce and dependencies on other scripts, and additional data needed for the script.</p>\n\n<pre><code>$header = new mHeader();\n\n$header-&gt;enqueue_script( 'jquery-ui', '//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/jquery-ui.min.js', array( 'jquery' ) );\n$header-&gt;enqueue_script( 'jquery', '//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js' );\n$header-&gt;enqueue_script( 'custom-script', '//custom-script.min.js', array( 'jquery-ui' ), array( 'mydata' =&gt; array( 'value' =&gt; 20 ) ) );\n\n$header-&gt;print_scripts();\n</code></pre>\n\n<p>And, <code>print_scripts()</code> method of the above example will send this output:</p>\n\n<pre><code>&lt;script id=\"jquery-js\" src=\"//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script id=\"jquery-ui-js\" src=\"//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/jquery-ui.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script&gt; var mydata = {\"value\":20}; &lt;/script&gt;\n&lt;script id=\"custom-script-js\" src=\"//custom-script.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Regardless the fact that the script 'jquery' is enqueued after the 'jquery-ui', it is printed before because it is defined in 'jquery-ui' that it depend on 'jquery'.\nAdditional data for the 'custom-script' are inside a new script block and are placed in front of it, it contains <code>mydata</code> object that holds additional data, now availible to 'custom-script'.</p>\n", "title": "How to pass variables and data from PHP to JavaScript?", "answer_id": 26639988, "question_id": 23740548, "tags": ["javascript", "php"]}, {"body": "<p>I have come out with an easy method to assign JavaScript variables using PHP. </p>\n\n<p>It uses HTML5 data attributes to store PHP variables and then its assigned to JavaScript on page load.</p>\n\n<p>Complete Tutorial can be found <a href=\"http://qnimate.com/assign-javascript-variables-using-wordpressphp/\" rel=\"nofollow\">here</a></p>\n\n<p>Example:</p>\n\n<pre><code>&lt;?php\n\n$variable_1 = \"QNimate\";\n$variable_2 = \"QScutter\";\n\n?&gt;\n    &lt;span id=\"storage\" data-variable-one=\"&lt;?php echo $variable_1; ?&gt;\" data-variable-two=\"&lt;?php echo $variable_2; ?&gt;\"&gt;&lt;/span&gt;\n&lt;?php\n</code></pre>\n\n<p>Hers is the JS code</p>\n\n<pre><code>var variable_1 = undefined;\nvar variable_2 = undefined;\n\nwindow.onload = function(){\n    variable_1 = document.getElementById(\"storage\").getAttribute(\"data-variable-one\");\n    variable_2 = document.getElementById(\"storage\").getAttribute(\"data-variable-two\");\n}\n</code></pre>\n", "title": "How to pass variables and data from PHP to JavaScript?", "answer_id": 28027575, "question_id": 23740548, "tags": ["javascript", "php"]}, {"body": "<p><strong>Simply use one of the following methods.</strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nvar js_variable  = '&lt;?php echo $php_variable;?&gt;';\n&lt;script&gt;\n</code></pre>\n\n<p><strong>OR</strong> </p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    var js_variable = &lt;?php echo json_encode($php_variable); ?&gt;; \n&lt;/script&gt;\n</code></pre>\n", "title": "How to pass variables and data from PHP to JavaScript?", "answer_id": 29612988, "question_id": 23740548, "tags": ["javascript", "php"]}, {"body": "<p>As per your code</p>\n\n<pre><code>&lt;$php\n     $val = $myService-&gt;getValue(); // makes an api and db call\n     echo '&lt;span id=\"value\"&gt;'.$val.'&lt;/span&gt;';\n$&gt;\n</code></pre>\n\n<p>Now you can get value using DOM, use innerHTML of span id, in this case you dont need to do any call to server, or ajax or anyother thing. </p>\n\n<p>Your page will print it using php, and you javascript will get value using DOM.</p>\n", "title": "How to pass variables and data from PHP to JavaScript?", "answer_id": 29648718, "question_id": 23740548, "tags": ["javascript", "php"]}, {"body": "<p>here is one i do not see posted as an option. it is similar to using ajax, but clearly different.</p>\n\n<p>first, set a script's source directly to a PHP file.</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"url_to_your_php_file.php\" /&gt;&lt;/script&gt;\n</code></pre>\n\n<p>you could even pass a variable back to the PHP file such as this example:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"url_to_your_php_file.php?var1=value1\" /&gt;&lt;/script&gt;\n</code></pre>\n\n<p>then in \"your_php_file.php\":</p>\n\n<pre><code>&lt;?php\n// THIS IS A SIMPLE EXAMPLE\n// it demonstrates one method of using the src attribute to link\n// to a PHP file which can generate javascripts dynamically\n// and share data between PHP and javascript\n// you may take this learning example and develop it further\n// relying on your own coding skills for validating data\n// and avoiding errors, of course\nheader( 'content-type: text/javascript' );\n\n// if you pass a $_GET variable from the javascript\n// you should add code to validate your $_GET variable(s)\n\n// you can add code to query a database\n// using $_GET['var1'] or some other criteria\n\n// you can add simple variable assignments\n$value = 'some value';\n\n// for the OP's needs (assumes the class object has been defined)\n$val = $myService-&gt;getValue();\n\n?&gt;\nfunction name() {\n    // pay attention because you need to use quotes properly\n    // and account for possible quotes in the variable strings\n    // to avoid both php and javascript errors\n    // example assumes $val has been returned as a string\n    // validate $val as needed using your method of choice\n    var example1 = '&lt;?php echo '\"' . $val . '\"'; ?&gt;';\n    var example2 = '&lt;?php echo '\"' . $value . '\"'; ?&gt;';\n    var example3 = '&lt;?php echo '\"some other data\"'; ?&gt;';\n    alert( example1 + ' / ' + example2 );\n}\n&lt;?php\n// you may even want to include additional files (.php or .js, etc)\n@include 'local_path_to_some_other_js_file.js';\n@include 'local_path_to_some_other_php_file.php';\n\nexit;\n?&gt;\n</code></pre>\n", "title": "How to pass variables and data from PHP to JavaScript?", "answer_id": 30312028, "question_id": 23740548, "tags": ["javascript", "php"]}, {"body": "<p>You can use it:</p>\n\n<pre><code>&lt;script language='javascript'&gt; var a=&lt;?php echo $a;?&gt;; &lt;/script&gt;\n</code></pre>\n\n<p>and remember php is prior to execute, when finish begin javascript to run. aren\u00b4t parallels, are sequencial.</p>\n", "title": "How to pass variables and data from PHP to JavaScript?", "answer_id": 30672703, "question_id": 23740548, "tags": ["javascript", "php"]}, {"body": "<p>For those who have some problem using below code and it keep showing <code>&lt;?php echo $username?&gt;</code> or something like this.Go edit the httpd.conf in mime_module section by add this 'AddType application/x-httpd-php .html .htm' because it may disable by default.</p>\n\n<pre><code>   &lt;?php\n        $username = 1;\n    ?&gt;\n\n    &lt;script type=\"text/javascript\"&gt;\n        var myData = &lt;?php echo $username ?&gt;;\n        console.log(myData);\n        alert(myData);\n    &lt;/script&gt;\n</code></pre>\n", "title": "How to pass variables and data from PHP to JavaScript?", "answer_id": 34400425, "question_id": 23740548, "tags": ["javascript", "php"]}, {"body": "<p>Following @Jess\u00e9 Catrinck' Answer,</p>\n\n<p>I would recommend:</p>\n\n<pre><code>&lt;?php \n    function phpObjToJsCompatibleJsonString($phpObj) { \n        return str_replace(\"'\", \"\\\\'\", str_replace(\"\\\\\",\"\\\\\\\\\", json_encode($phpObj, JSON_UNESCAPED_UNICODE)));\n    } \n?&gt;\n&lt;script&gt;\n    var phpObjAsJsonStr = '&lt;?php echo phpObjToJsCompatibleJsonString($php_obj); ?&gt;';\n    var jsObj = JSON.parse(jsObjAsJsonStr);\n&lt;/script&gt;\n</code></pre>\n", "title": "How to pass variables and data from PHP to JavaScript?", "answer_id": 37143057, "question_id": 23740548, "tags": ["javascript", "php"]}, {"body": "<p>I'll assume that the data to transmit is a string.</p>\n\n<p>As other commenters have stated, AJAX is one possible solution, but the cons outweigh the pros: it has a latency and it is harder to program (it needs the code to retrieve the value both server- and client-side), when a simpler escaping function should suffice.</p>\n\n<p>So, we're back to escaping. <code>json_encode($string)</code> works <em>if</em> you encode the source string as UTF-8 first in case it is not already, because <code>json_encode</code> requires UTF-8 data. If the string is in ISO-8859-1 then you can simply use <code>json_encode(utf8_encode($string))</code>; otherwise you can always use <code>iconv</code> to do the conversion first.</p>\n\n<p>But there's a big gotcha. If you're using it in events, you need to run <code>htmlspecialchars()</code> on the result in order to make it correct code. And then you haver to either be careful to use double quotes to enclose the event, or always add <code>ENT_QUOTES</code> to htmlspecialchars. For example:</p>\n\n<pre><code>&lt;?php\n    $myvar = \"I'm in \\\"UTF-8\\\" encoding and I have &lt;script&gt;script tags&lt;/script&gt; &amp; ampersand!\";\n    // Fails:\n    //echo '&lt;body onload=\"alert(', json_encode($myvar), ');\"&gt;';\n    // Fails:\n    //echo \"&lt;body onload='alert(\", json_encode($myvar), \");'&gt;\";\n    // Fails:\n    //echo \"&lt;body onload='alert(\", htmlspecialchars(json_encode($myvar)), \");'&gt;\";\n\n    // Works:\n    //echo \"&lt;body onload='alert(\", htmlspecialchars(json_encode($myvar), ENT_QUOTES), \");'&gt;\";\n    // Works:\n    echo '&lt;body onload=\"alert(', htmlspecialchars(json_encode($myvar)), ');\"&gt;';\n\n    echo \"&lt;/body&gt;\";\n</code></pre>\n\n<p>However, you can't use <code>htmlspecialchars</code> on regular JS code (code enclosed in <code>&lt;script&gt;</code>...<code>&lt;/script&gt;</code> tags). That makes use of this function prone to mistakes, by forgetting to <code>htmlspecialchars</code> the result when writing event code.</p>\n\n<p>It's possible to write a function that does not have that problem, and can be used both in events and in regular JS code, as long as you enclose your events always in single quotes, or always in double quotes. Here is my proposal, requiring them to be in double quotes (which I prefer):</p>\n\n<pre><code>&lt;?php\n\n// Optionally pass the encoding of the source string, if not UTF-8\nfunction escapeJSString($string, $encoding = 'UTF-8')\n{\n    if ($encoding != 'UTF-8')\n        $string = iconv($encoding, 'UTF-8', $string);\n    $flags = JSON_HEX_TAG|JSON_HEX_AMP|JSON_HEX_APOS|JSON_HEX_QUOT|JSON_UNESCAPED_SLASHES;\n    $string = substr(json_encode($string, $flags), 1, -1);\n    return \"'$string'\";\n}\n</code></pre>\n\n<p>The function requires PHP 5.4+. Example usage:</p>\n\n<pre><code>&lt;?php\n    $myvar = \"I'm in \\\"UTF-8\\\" encoding and I have &lt;script&gt;script tags&lt;/script&gt; &amp; ampersand!\";\n    // Note use of double quotes to enclose the event definition!\n    echo '&lt;body onload=\"alert(', escapeJSString($myvar), ');\"&gt;';\n    // Example with regular code:\n    echo '&lt;script&gt;alert(', escapeJSString($myvar), ');&lt;/script&gt;';\n    echo '&lt;/body&gt;';\n</code></pre>\n", "title": "How to pass variables and data from PHP to JavaScript?", "answer_id": 37644940, "question_id": 23740548, "tags": ["javascript", "php"]}], "question_id": 23740548}, {"body": "<p>This is an example of how it could have been done previously in the <code>ListView</code> class, using the <strong>divider</strong> and <strong>dividerHeight</strong> parameters:</p>\n\n<pre><code>&lt;ListView\n    android:id=\"@+id/activity_home_list_view\"\n    android:layout_width=\"match_parent\" \n    android:layout_height=\"match_parent\"\n    android:divider=\"@android:color/transparent\"\n    android:dividerHeight=\"8dp\"/&gt;\n</code></pre>\n\n<p>However, I don't see such possibility in the <code>RecyclerView</code> class.</p>\n\n<pre><code>&lt;android.support.v7.widget.RecyclerView\n    android:id=\"@+id/activity_home_recycler_view\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:scrollbars=\"vertical\"/&gt;\n</code></pre>\n\n<p>In that case, is it ok to define margins and/or add a custom divider view directly into a list item's layout or is there a better way to achieve my goal?</p>\n", "title": "How to add dividers and spaces between items in RecyclerView?", "tags": ["android", "recyclerview", "divider"], "answer_count": 24, "link": "http://stackoverflow.com/questions/24618829/how-to-add-dividers-and-spaces-between-items-in-recyclerview", "answers": [{"body": "<p>Might I direct your attention to this particular file on Github by Alex Fu:\n<a href=\"https://gist.github.com/alexfu/0f464fc3742f134ccd1e\">https://gist.github.com/alexfu/0f464fc3742f134ccd1e</a></p>\n\n<p>It's the DividerItemDecoration.java example file \"pulled straight from the support demos\".(<a href=\"https://plus.google.com/103498612790395592106/posts/VVEB3m7NkSS\">https://plus.google.com/103498612790395592106/posts/VVEB3m7NkSS</a>)</p>\n\n<p>I was able to get divider lines nicely after importing this file in my project and add it as an item decoration to the recycler view.</p>\n\n<p>Here's how my onCreateView look like in my fragment containing the Recyclerview:</p>\n\n<pre><code>@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n    View rootView = inflater.inflate(R.layout.fragment_recycler_view, container, false);\n\n    mRecyclerView = (RecyclerView) rootView.findViewById(R.id.my_recycler_view);\n    mRecyclerView.addItemDecoration(new DividerItemDecoration(getActivity(), DividerItemDecoration.VERTICAL_LIST));\n\n    mRecyclerView.setHasFixedSize(true);\n    mLayoutManager = new LinearLayoutManager(getActivity());\n    mRecyclerView.setLayoutManager(mLayoutManager);\n    mRecyclerView.setItemAnimator(new DefaultItemAnimator());\n\n    return rootView;\n}\n</code></pre>\n\n<p>I'm sure additional styling can be done, but it's a starting point. :)</p>\n", "title": "How to add dividers and spaces between items in RecyclerView?", "answer_id": 24872169, "question_id": 24618829, "tags": ["android", "recyclerview", "divider"]}, {"body": "<p>Some answers either use methods that have since become deprecated, or don't give a complete solution, so I tried to do a short, up-to-date wrap-up.</p>\n\n<hr>\n\n<p>Unlike <code>ListView</code>, the <code>RecyclerView</code> class has no divider-related parameters. Instead, you need to extend <a href=\"https://developer.android.com/reference/android/support/v7/widget/RecyclerView.ItemDecoration.html\"><code>ItemDecoration</code></a>, a <code>RecyclerView</code>'s inner class:</p>\n\n<blockquote>\n  <p>An ItemDecoration allows the application to add a special drawing and layout offset to specific item views from the adapter's data set. This can be useful for drawing dividers between items, highlights, visual grouping boundaries and more.</p>\n  \n  <p>All ItemDecorations are drawn in the order they were added, before the item views (in onDraw()) and after the items (in onDrawOver(Canvas, RecyclerView, RecyclerView.State).</p>\n</blockquote>\n\n<h2>Vertical spacing <code>ItemDecoration</code></h2>\n\n<p>Extend <code>ItemDecoration</code>, add custom constructor which takes space height as a parameter and override <code>getItemOffsets()</code> method:</p>\n\n<pre><code>public class VerticalSpaceItemDecoration extends RecyclerView.ItemDecoration {\n\n    private final int mVerticalSpaceHeight;\n\n    public VerticalSpaceItemDecoration(int mVerticalSpaceHeight) {\n        this.mVerticalSpaceHeight = mVerticalSpaceHeight;\n    }\n\n    @Override\n    public void getItemOffsets(Rect outRect, View view, RecyclerView parent,\n            RecyclerView.State state) {\n        outRect.bottom = mVerticalSpaceHeight;\n    }\n}\n</code></pre>\n\n<p>If you don't want to insert space below the last item, add the following condition:</p>\n\n<pre><code>if (parent.getChildAdapterPosition(view) != parent.getAdapter().getItemCount() - 1) {\n            outRect.bottom = mVerticalSpaceHeight;\n}\n</code></pre>\n\n<p>Note: you can also modify <code>outRect.top</code>, <code>outRect.left</code> and <code>outRect.right</code> properties for desired effect.</p>\n\n<h2>Divider <code>ItemDecoration</code></h2>\n\n<p>Extend <code>ItemDecoration</code> and override <code>onDraw()</code> method:</p>\n\n<pre><code>public class DividerItemDecoration extends RecyclerView.ItemDecoration {\n\n    private static final int[] ATTRS = new int[]{android.R.attr.listDivider};\n\n    private Drawable mDivider;\n\n    /**\n     * Default divider will be used\n     */\n    public DividerItemDecoration(Context context) {\n        final TypedArray styledAttributes = context.obtainStyledAttributes(ATTRS);\n        mDivider = styledAttributes.getDrawable(0);\n        styledAttributes.recycle();\n    }\n\n    /**\n     * Custom divider will be used\n     */\n    public DividerItemDecoration(Context context, int resId) {\n        mDivider = ContextCompat.getDrawable(context, resId);\n    }\n\n    @Override\n    public void onDraw(Canvas c, RecyclerView parent, RecyclerView.State state) {\n        int left = parent.getPaddingLeft();\n        int right = parent.getWidth() - parent.getPaddingRight();\n\n        int childCount = parent.getChildCount();\n        for (int i = 0; i &lt; childCount; i++) {\n            View child = parent.getChildAt(i);\n\n            RecyclerView.LayoutParams params = (RecyclerView.LayoutParams) child.getLayoutParams();\n\n            int top = child.getBottom() + params.bottomMargin;\n            int bottom = top + mDivider.getIntrinsicHeight();\n\n            mDivider.setBounds(left, top, right, bottom);\n            mDivider.draw(c);\n        }\n    }\n}\n</code></pre>\n\n<p>You can either call the first constructor that uses the default Android divider attributes, or the second one that uses your own drawable, for example drawable/divider.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;shape xmlns:android=\"http://schemas.android.com/apk/res/android\"\n       android:shape=\"rectangle\"&gt;\n    &lt;size android:height=\"1dp\" /&gt;\n    &lt;solid android:color=\"#ff992900\" /&gt;\n&lt;/shape&gt;\n</code></pre>\n\n<p>Note: if you want the divider to be drawn <em>over</em> your items, override <code>onDrawOver()</code> method instead.</p>\n\n<h2>Usage</h2>\n\n<p>To use your new class add <code>VerticalSpaceItemDecoration</code> or <code>DividerSpaceItemDecoration</code> to <code>RecyclerView</code>, for example in your fragment's <code>onCreateView()</code> method:</p>\n\n<pre><code>private static final int VERTICAL_ITEM_SPACE = 48;\nprivate RecyclerView mUiRecyclerView;\nprivate LinearLayoutManager mLinearLayoutManager;\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n        Bundle savedInstanceState) {\n    View rootView = inflater.inflate(R.layout.fragment_feed, container, false);\n\n    mUiRecyclerView = (RecyclerView) rootView.findViewById(R.id.fragment_home_recycler_view);\n    mLinearLayoutManager = new LinearLayoutManager(getActivity());\n    mUiRecyclerView.setLayoutManager(mLinearLayoutManager);\n\n    //add ItemDecoration\n    mUiRecyclerView.addItemDecoration(new VerticalSpaceItemDecoration(VERTICAL_ITEM_SPACE));\n    //or\n    mUiRecyclerView.addItemDecoration(new DividerItemDecoration(getActivity()));\n    //or\n    mUiRecyclerView.addItemDecoration(\n            new DividerItemDecoration(getActivity(), R.drawable.divider));\n\n    mUiRecyclerView.setAdapter(...);\n\n    return rootView;\n}\n</code></pre>\n\n<hr>\n\n<p>There's also <a href=\"https://github.com/lucasr/twoway-view\">Lucas Rocha's library</a> which is supposed to simplify the item decoration process. Haven't tried it though.</p>\n\n<p>Among its <a href=\"https://github.com/lucasr/twoway-view#features\">features</a> are:</p>\n\n<ul>\n<li>A collection of stock item decorations including:</li>\n<li>Item spacing Horizontal/vertical dividers.</li>\n<li>List item</li>\n</ul>\n", "title": "How to add dividers and spaces between items in RecyclerView?", "answer_id": 27037230, "question_id": 24618829, "tags": ["android", "recyclerview", "divider"]}, {"body": "<p>If it is just spacing the only thing you need to do is add some margins to your item layout</p>\n", "title": "How to add dividers and spaces between items in RecyclerView?", "answer_id": 27108089, "question_id": 24618829, "tags": ["android", "recyclerview", "divider"]}, {"body": "<p>This doesn't actually solve the problem, but as a temporary workaround, you can set the <a href=\"https://developer.android.com/reference/android/support/v7/widget/CardView.html#attr_android.support.v7.cardview:cardUseCompatPadding\">useCompatPadding</a> property on the card in your XML layout to make it measure the same as it does on pre-Lollipop versions.</p>\n\n<pre><code>card_view:cardUseCompatPadding=\"true\"\n</code></pre>\n", "title": "How to add dividers and spaces between items in RecyclerView?", "answer_id": 27463169, "question_id": 24618829, "tags": ["android", "recyclerview", "divider"]}, {"body": "<p>Simple ItemDecoration implementation for equal spaces between all items.</p>\n\n<pre><code>public class SpacesItemDecoration extends RecyclerView.ItemDecoration {\n    private int space;\n\n    public SpacesItemDecoration(int space) {\n        this.space = space;\n    }\n\n    @Override\n    public void getItemOffsets(Rect outRect, View view, RecyclerView parent, RecyclerView.State state) {\n        outRect.left = space;\n        outRect.right = space;\n        outRect.bottom = space;\n\n        // Add top margin only for the first item to avoid double space between items\n        if(parent.getChildPosition(view) == 0)\n            outRect.top = space;\n    }\n}\n</code></pre>\n", "title": "How to add dividers and spaces between items in RecyclerView?", "answer_id": 27664023, "question_id": 24618829, "tags": ["android", "recyclerview", "divider"]}, {"body": "<p>Add a margin to your view, it worked for me.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>android:layout_marginTop=\"10dp\"\n</code></pre>\n\n\n", "title": "How to add dividers and spaces between items in RecyclerView?", "answer_id": 28620716, "question_id": 24618829, "tags": ["android", "recyclerview", "divider"]}, {"body": "<p>Taken from a google search, add this <a href=\"https://gist.github.com/lapastillaroja/858caf1a82791b6c1a36\">ItemDecoration</a> to your <code>RecyclerView</code>:</p>\n\n<pre><code>public class DividerItemDecoration extends RecyclerView.ItemDecoration {\n\nprivate Drawable mDivider;\nprivate boolean mShowFirstDivider = false;\nprivate boolean mShowLastDivider = false;\n\n\npublic DividerItemDecoration(Context context, AttributeSet attrs) {\n    final TypedArray a = context\n            .obtainStyledAttributes(attrs, new int[]{android.R.attr.listDivider});\n    mDivider = a.getDrawable(0);\n    a.recycle();\n}\n\npublic DividerItemDecoration(Context context, AttributeSet attrs, boolean showFirstDivider,\n        boolean showLastDivider) {\n    this(context, attrs);\n    mShowFirstDivider = showFirstDivider;\n    mShowLastDivider = showLastDivider;\n}\n\npublic DividerItemDecoration(Drawable divider) {\n    mDivider = divider;\n}\n\npublic DividerItemDecoration(Drawable divider, boolean showFirstDivider,\n        boolean showLastDivider) {\n    this(divider);\n    mShowFirstDivider = showFirstDivider;\n    mShowLastDivider = showLastDivider;\n}\n\n@Override\npublic void getItemOffsets(Rect outRect, View view, RecyclerView parent,\n        RecyclerView.State state) {\n    super.getItemOffsets(outRect, view, parent, state);\n    if (mDivider == null) {\n        return;\n    }\n    if (parent.getChildPosition(view) &lt; 1) {\n        return;\n    }\n\n    if (getOrientation(parent) == LinearLayoutManager.VERTICAL) {\n        outRect.top = mDivider.getIntrinsicHeight();\n    } else {\n        outRect.left = mDivider.getIntrinsicWidth();\n    }\n}\n\n@Override\npublic void onDrawOver(Canvas c, RecyclerView parent, RecyclerView.State state) {\n    if (mDivider == null) {\n        super.onDrawOver(c, parent, state);\n        return;\n    }\n\n    // Initialization needed to avoid compiler warning\n    int left = 0, right = 0, top = 0, bottom = 0, size;\n    int orientation = getOrientation(parent);\n    int childCount = parent.getChildCount();\n\n    if (orientation == LinearLayoutManager.VERTICAL) {\n        size = mDivider.getIntrinsicHeight();\n        left = parent.getPaddingLeft();\n        right = parent.getWidth() - parent.getPaddingRight();\n    } else { //horizontal\n        size = mDivider.getIntrinsicWidth();\n        top = parent.getPaddingTop();\n        bottom = parent.getHeight() - parent.getPaddingBottom();\n    }\n\n    for (int i = mShowFirstDivider ? 0 : 1; i &lt; childCount; i++) {\n        View child = parent.getChildAt(i);\n        RecyclerView.LayoutParams params = (RecyclerView.LayoutParams) child.getLayoutParams();\n\n        if (orientation == LinearLayoutManager.VERTICAL) {\n            top = child.getTop() - params.topMargin;\n            bottom = top + size;\n        } else { //horizontal\n            left = child.getLeft() - params.leftMargin;\n            right = left + size;\n        }\n        mDivider.setBounds(left, top, right, bottom);\n        mDivider.draw(c);\n    }\n\n    // show last divider\n    if (mShowLastDivider &amp;&amp; childCount &gt; 0) {\n        View child = parent.getChildAt(childCount - 1);\n        RecyclerView.LayoutParams params = (RecyclerView.LayoutParams) child.getLayoutParams();\n        if (orientation == LinearLayoutManager.VERTICAL) {\n            top = child.getBottom() + params.bottomMargin;\n            bottom = top + size;\n        } else { // horizontal\n            left = child.getRight() + params.rightMargin;\n            right = left + size;\n        }\n        mDivider.setBounds(left, top, right, bottom);\n        mDivider.draw(c);\n    }\n}\n\nprivate int getOrientation(RecyclerView parent) {\n    if (parent.getLayoutManager() instanceof LinearLayoutManager) {\n        LinearLayoutManager layoutManager = (LinearLayoutManager) parent.getLayoutManager();\n        return layoutManager.getOrientation();\n    } else {\n        throw new IllegalStateException(\n                \"DividerItemDecoration can only be used with a LinearLayoutManager.\");\n    }\n}\n}\n</code></pre>\n", "title": "How to add dividers and spaces between items in RecyclerView?", "answer_id": 28922359, "question_id": 24618829, "tags": ["android", "recyclerview", "divider"]}, {"body": "<p>As I have set <code>ItemAnimators</code>. The <code>ItemDecorator</code> don't enter or exit along with the animation.</p>\n\n<p>I simply ended up in having a view line in my item view layout file of each item. It solved my case. <code>DividerItemDecoration</code> felt to be to much of sorcery for a simple divider. Or I might be missing its real use.</p>\n\n<pre><code>&lt;View\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"1px\"\n    android:layout_marginLeft=\"5dp\"\n    android:layout_marginRight=\"5dp\"\n    android:background=\"@color/lt_gray\"/&gt;\n</code></pre>\n", "title": "How to add dividers and spaces between items in RecyclerView?", "answer_id": 29069707, "question_id": 24618829, "tags": ["android", "recyclerview", "divider"]}, {"body": "<p>I think using simple divider will help you\n<br><br>To add divider to each item:\n<br>1- Add this to drawable directory <strong>line_divider.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;shape xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:shape=\"rectangle\"&gt;\n&lt;size\n    android:width=\"1dp\"\n    android:height=\"1dp\" /&gt;\n&lt;solid android:color=\"#999999\" /&gt;\n&lt;/shape&gt;\n</code></pre>\n\n<p>2- Create SimpleDividerItemDecoration class\n<br>I used this example to define this class:\n<br><a href=\"https://gist.github.com/polbins/e37206fbc444207c0e92\">https://gist.github.com/polbins/e37206fbc444207c0e92</a>\n<br><br></p>\n\n<pre><code>package com.example.myapp;\nimport android.content.Context;\nimport android.content.res.Resources;\nimport android.graphics.Canvas;\nimport android.graphics.drawable.Drawable;\nimport android.support.v7.widget.RecyclerView;\nimport android.view.View;\nimport com.example.myapp.R;\n\npublic class SimpleDividerItemDecoration extends RecyclerView.ItemDecoration{\nprivate Drawable mDivider;\n\npublic SimpleDividerItemDecoration(Resources resources) {\n    mDivider = resources.getDrawable(R.drawable.line_divider);\n}\n\npublic void onDrawOver(Canvas c, RecyclerView parent, RecyclerView.State state) {\n    int left = parent.getPaddingLeft();\n    int right = parent.getWidth() - parent.getPaddingRight();\n\n    int childCount = parent.getChildCount();\n    for (int i = 0; i &lt; childCount; i++) {\n        View child = parent.getChildAt(i);\n\n        RecyclerView.LayoutParams params = (RecyclerView.LayoutParams) child.getLayoutParams();\n\n        int top = child.getBottom() + params.bottomMargin;\n        int bottom = top + mDivider.getIntrinsicHeight();\n\n        mDivider.setBounds(left, top, right, bottom);\n        mDivider.draw(c);\n    }\n  }\n}\n</code></pre>\n\n<p><br>3- In activity or fragment that using RecyclerView, inside onCreateView add this:</p>\n\n<pre><code>@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n RecyclerView myRecyclerView = (RecyclerView) layout.findViewById(R.id.my_recycler_view);\n myRecyclerView.addItemDecoration(new SimpleDividerItemDecoration(getResources()));\n ....\n }\n</code></pre>\n\n<p><br>4- To add spacing between Items\n<br>you just need to add padding property to your item view</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:layout_width=\"match_parent\" android:layout_height=\"match_parent\"\nandroid:padding=\"4dp\"\n&gt;\n..... item structure\n&lt;/RelativeLayout&gt;\n</code></pre>\n", "title": "How to add dividers and spaces between items in RecyclerView?", "answer_id": 29446830, "question_id": 24618829, "tags": ["android", "recyclerview", "divider"]}, {"body": "<p>For those who are looking just for <strong>spaces between items</strong> in the <code>RecyclerView</code> see my approach where you get equal spaces between all items, except in first and last items where I gave a bigger padding. I only apply padding to left/right in horizontal <code>LayoutManager</code> and to top/bottom in vertical <code>LayoutManager</code>.</p>\n\n<pre><code>public class PaddingItemDecoration extends RecyclerView.ItemDecoration {\n\n    private int mPaddingPx;\n    private int mPaddingEdgesPx;\n\n    public PaddingItemDecoration(Activity activity) {\n        final Resources resources = activity.getResources();\n        mPaddingPx = (int) resources.getDimension(R.dimen.paddingItemDecorationDefault);\n        mPaddingEdgesPx = (int) resources.getDimension(R.dimen.paddingItemDecorationEdge);\n    }\n\n    @Override\n    public void getItemOffsets(Rect outRect, View view, RecyclerView parent, RecyclerView.State state) {\n        super.getItemOffsets(outRect, view, parent, state);\n\n        final int itemPosition = parent.getChildAdapterPosition(view);\n        if (itemPosition == RecyclerView.NO_POSITION) {\n            return;\n        }\n        int orientation = getOrientation(parent);\n        final int itemCount = state.getItemCount();\n\n        int left = 0;\n        int top = 0;\n        int right = 0;\n        int bottom = 0;\n\n        /** HORIZONTAL */\n        if (orientation == LinearLayoutManager.HORIZONTAL) {\n            /** all positions */\n            left = mPaddingPx;\n            right = mPaddingPx;\n\n            /** first position */\n            if (itemPosition == 0) {\n                left += mPaddingEdgesPx;\n            }\n            /** last position */\n            else if (itemCount &gt; 0 &amp;&amp; itemPosition == itemCount - 1) {\n                right += mPaddingEdgesPx;\n            }\n        }\n        /** VERTICAL */\n        else {\n            /** all positions */\n            top = mPaddingPx;\n            bottom = mPaddingPx;\n\n            /** first position */\n            if (itemPosition == 0) {\n                top += mPaddingEdgesPx;\n            }\n            /** last position */\n            else if (itemCount &gt; 0 &amp;&amp; itemPosition == itemCount - 1) {\n                bottom += mPaddingEdgesPx;\n            }\n        }\n\n        if (!isReverseLayout(parent)) {\n            outRect.set(left, top, right, bottom);\n        } else {\n            outRect.set(right, bottom, left, top);\n        }\n    }\n\n    private boolean isReverseLayout(RecyclerView parent) {\n        if (parent.getLayoutManager() instanceof LinearLayoutManager) {\n            LinearLayoutManager layoutManager = (LinearLayoutManager) parent.getLayoutManager();\n            return layoutManager.getReverseLayout();\n        } else {\n            throw new IllegalStateException(\"PaddingItemDecoration can only be used with a LinearLayoutManager.\");\n        }\n    }\n\n    private int getOrientation(RecyclerView parent) {\n        if (parent.getLayoutManager() instanceof LinearLayoutManager) {\n            LinearLayoutManager layoutManager = (LinearLayoutManager) parent.getLayoutManager();\n            return layoutManager.getOrientation();\n        } else {\n            throw new IllegalStateException(\"PaddingItemDecoration can only be used with a LinearLayoutManager.\");\n        }\n    }\n}\n</code></pre>\n\n<p><strong>dimens.xml</strong></p>\n\n<pre><code>&lt;resources&gt;\n    &lt;dimen name=\"paddingItemDecorationDefault\"&gt;10dp&lt;/dimen&gt;\n    &lt;dimen name=\"paddingItemDecorationEdge\"&gt;20dp&lt;/dimen&gt;\n&lt;/resources&gt;\n</code></pre>\n", "title": "How to add dividers and spaces between items in RecyclerView?", "answer_id": 30441743, "question_id": 24618829, "tags": ["android", "recyclerview", "divider"]}, {"body": "<p>If you want to add same space for items, the simplest way is to add top+left padding for RecycleView and right+bottom margins to card items.</p>\n\n<p><strong>dimens.xml</strong></p>\n\n<pre><code>&lt;resources&gt;\n    &lt;dimen name=\"divider\"&gt;1dp&lt;/dimen&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p><strong>list_item.xml</strong></p>\n\n<pre><code>&lt;CardView\n android:layout_marginBottom=\"@dimen/divider\"\n android:layout_marginRight=\"@dimen/divider\"&gt;\n ...\n&lt;/CardView&gt;\n</code></pre>\n\n<p><strong>list.xml</strong></p>\n\n<pre><code>&lt;RecyclerView\n android:paddingLeft=\"@dimen/divider\"\n android:paddingTop=\"@dimen/divider\"\n/&gt;\n</code></pre>\n", "title": "How to add dividers and spaces between items in RecyclerView?", "answer_id": 30514129, "question_id": 24618829, "tags": ["android", "recyclerview", "divider"]}, {"body": "<p>Here's my lazy approach but it works:\nwrap the CardView in a layout and set a padding/margin on the parent layout to mimic the divider, and force the normal divider to null</p>\n\n<p><strong>list_item.xml</strong></p>\n\n<pre><code>&lt;LinearLayout\n    android:id=\"@+id/entry_item_layout_container\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"vertical\"\n    android:paddingBottom=\"&lt;divider_size&gt;\" &gt; // this is the divider\n    &lt;CardView\n        android:layout_width=\"&lt;width_size&gt;\"\n        android:layout_height=\"&lt;height_size&gt;\"&gt;\n        ...\n    &lt;/CardView&gt;\n&lt;/LinearLayout\n</code></pre>\n\n<p><strong>list.xml</strong></p>\n\n<pre><code>&lt;RecyclerView\n android:divider=\"@null\"\n android:layout_width=\"&lt;width_size&gt;\"\n android:layout_height=\"&lt;height_size&gt;\"\n ...\n/&gt;\n</code></pre>\n", "title": "How to add dividers and spaces between items in RecyclerView?", "answer_id": 30539386, "question_id": 24618829, "tags": ["android", "recyclerview", "divider"]}, {"body": "<p>Implement its own version of RecyclerView.ItemDecoration</p>\n\n<pre><code>public class SpacingItemDecoration extends RecyclerView.ItemDecoration {\n    private int spacingPx;\n    private boolean addStartSpacing;\n    private boolean addEndSpacing;\n\n    public SpacingItemDecoration(int spacingPx) {\n        this(spacingPx, false, false);\n    }\n\n    public SpacingItemDecoration(int spacingPx, boolean addStartSpacing, boolean addEndSpacing) {\n        this.spacingPx = spacingPx;\n        this.addStartSpacing = addStartSpacing;\n        this.addEndSpacing = addEndSpacing;\n    }\n\n    @Override\n    public void getItemOffsets(Rect outRect, View view, RecyclerView parent, RecyclerView.State state) {\n        super.getItemOffsets(outRect, view, parent, state);\n        if (spacingPx &lt;= 0) {\n            return;\n        }\n\n        if (addStartSpacing &amp;&amp; parent.getChildLayoutPosition(view) &lt; 1 || parent.getChildLayoutPosition(view) &gt;= 1) {\n            if (getOrientation(parent) == LinearLayoutManager.VERTICAL) {\n                outRect.top = spacingPx;\n            } else {\n                outRect.left = spacingPx;\n            }\n        }\n\n        if (addEndSpacing &amp;&amp; parent.getChildAdapterPosition(view) == getTotalItemCount(parent) - 1) {\n            if (getOrientation(parent) == LinearLayoutManager.VERTICAL) {\n                outRect.bottom = spacingPx;\n            } else {\n                outRect.right = spacingPx;\n            }\n        }\n    }\n\n    private int getTotalItemCount(RecyclerView parent) {\n        return parent.getAdapter().getItemCount();\n    }\n\n    private int getOrientation(RecyclerView parent) {\n        if (parent.getLayoutManager() instanceof LinearLayoutManager) {\n            return ((LinearLayoutManager) parent.getLayoutManager()).getOrientation();\n        } else {\n            throw new IllegalStateException(\"SpacingItemDecoration can only be used with a LinearLayoutManager.\");\n        }\n    }\n}\n</code></pre>\n", "title": "How to add dividers and spaces between items in RecyclerView?", "answer_id": 31032842, "question_id": 24618829, "tags": ["android", "recyclerview", "divider"]}, {"body": "<p>The simple one is to set background color for <a href=\"https://developer.android.com/reference/android/support/v7/widget/RecyclerView.html\">RecyclerView</a> and different background color for items. Here is an example ...</p>\n\n<pre><code>&lt;android.support.v7.widget.RecyclerView\n    android:background=\"#ECEFF1\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:scrollbars=\"vertical\"/&gt;\n</code></pre>\n\n<p>and the <a href=\"http://developer.android.com/reference/android/widget/TextView.html\">TextView</a> item (It can be anything though) with bottom margin \"x\" dp or px.</p>\n\n<pre><code>&lt;TextView\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:layout_marginBottom=\"1dp\"\n    android:background=\"#FFFFFF\"/&gt;\n</code></pre>\n\n<p>The output ...</p>\n\n<p><img src=\"http://i.stack.imgur.com/hNJFG.png\" alt=\"enter image description here\"></p>\n", "title": "How to add dividers and spaces between items in RecyclerView?", "answer_id": 31227010, "question_id": 24618829, "tags": ["android", "recyclerview", "divider"]}, {"body": "<p>The <code>RecyclerView</code> is a bit different from the <code>ListView</code>. Actually, the <code>RecyclerView</code> needs a <code>ListView</code> like structure in it. For example, a <code>LinearLayout</code>. The <code>LinearLayout</code> has parameters for the dividing each element.\nIn the code below I have a <code>RecyclerView</code> comprised of <code>CardView</code> objects within a <code>LinearLayout</code> with a \"padding\" that will put some space between items. Make that space really small and you get a line.</p>\n\n<p>Here's the Recycler view in recyclerview_layout.xml</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\" android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\" android:paddingLeft=\"@dimen/activity_horizontal_margin\"\n    android:paddingRight=\"@dimen/activity_horizontal_margin\"\n    android:paddingTop=\"@dimen/activity_vertical_margin\"\n    android:paddingBottom=\"@dimen/activity_vertical_margin\" tools:context=\".ToDoList\"&gt;\n\n    &lt;!-- A RecyclerView with some commonly used attributes --&gt;\n    &lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/todo_recycler_view\"\n        android:scrollbars=\"vertical\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"/&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>And here is what each item looks like (and it shows as divided due to the android:padding in the LinearLayout that surrounds everything.) in another file: cards_layout.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:orientation=\"vertical\" android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    **android:padding=\"@dimen/activity_vertical_margin\"**&gt;\n    &lt;!-- A CardView that contains a TextView --&gt;\n    &lt;android.support.v7.widget.CardView\n        xmlns:card_view=\"http://schemas.android.com/apk/res-auto\"\n        android:id=\"@+id/card_view\"\n        android:layout_gravity=\"center\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"100dp\"\n        android:elevation=\"30dp\"\n        card_view:cardElevation=\"3dp\"&gt;\n            &lt;TextView\n                android:id=\"@+id/info_text\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                /&gt;\n    &lt;/android.support.v7.widget.CardView&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n", "title": "How to add dividers and spaces between items in RecyclerView?", "answer_id": 31623306, "question_id": 24618829, "tags": ["android", "recyclerview", "divider"]}, {"body": "<ul>\n<li>Here is simple hack to add divider  </li>\n<li>Just add a background to the layout of your recycler item as follows</li>\n</ul>\n\n<p>{</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n &lt;LinearLayout     \n  xmlns:android=\"http://schemas.android.com/apk/res/android\"\n  android:layout_width=\"match_parent\"\n  android:layout_height=\"wrap_content\"\n  android:background=\"@drawable/shape_border\"\n  android:gravity=\"center\"\n  android:orientation=\"horizontal\"\n  android:padding=\"5dp\" &gt;\n\n  &lt;ImageView\n    android:id=\"@+id/imageViewContactLogo\"\n    android:layout_width=\"60dp\"\n    android:layout_height=\"60dp\"\n    android:layout_marginRight=\"10dp\"\n    android:src=\"@drawable/ic_user\" /&gt;\n\n  &lt;LinearLayout\n    android:id=\"@+id/linearLayout\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_weight=\"0.92\"\n    android:gravity=\"center|start\"\n    android:orientation=\"vertical\" &gt;\n\n    &lt;TextView\n        android:id=\"@+id/textViewContactName\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:singleLine=\"true\"\n        android:text=\"Large Text\"\n        android:textAppearance=\"?android:attr/textAppearanceLarge\" /&gt;\n\n\n    &lt;TextView\n        android:id=\"@+id/textViewStatusOrNumber\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"5dp\"\n        android:singleLine=\"true\"\n        android:text=\"\"\n        android:textAppearance=\"?android:attr/textAppearanceMedium\"          \n\n     /&gt;\n&lt;/LinearLayout&gt;\n\n&lt;TextView\n    android:id=\"@+id/textViewUnreadCount\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginRight=\"10dp\"\n    android:padding=\"5dp\"\n    android:text=\"\"\n    android:textAppearance=\"?android:attr/textAppearanceMedium\"\n    android:textColor=\"@color/red\"\n    android:textSize=\"22sp\" /&gt;\n\n&lt;Button\n    android:id=\"@+id/buttonInvite\"\n    android:layout_width=\"54dp\"\n    android:layout_height=\"wrap_content\"\n    android:background=\"@drawable/ic_add_friend\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>}</p>\n\n<p>Create following  shape_border.xml in drawable folder</p>\n\n<p>{</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n  &lt;shape xmlns:android=\"http://schemas.android.com/apk/res/android\"\n  android:shape=\"rectangle\" &gt;\n  &lt;gradient\n    android:angle=\"270\"\n    android:centerColor=\"@android:color/transparent\"\n    android:centerX=\"0.01\"\n    android:startColor=\"#000\" /&gt;\n\n&lt;/shape&gt;\n</code></pre>\n\n<p>}</p>\n\n<p>Here is final result - a recycler view with divider</p>\n\n<p><a href=\"http://i.stack.imgur.com/lKntv.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/lKntv.png\" alt=\"Here is final result - a recycler view with divider\"></a></p>\n", "title": "How to add dividers and spaces between items in RecyclerView?", "answer_id": 31720173, "question_id": 24618829, "tags": ["android", "recyclerview", "divider"]}, {"body": "<p>I forked the DividerItemDecoration from an older gist and simplified it to fit my use case, and I also modified it to draw the dividers the way they are drawn in ListView, including a divider after the last list item. This will also handle vertical ItemAnimator animations:</p>\n\n<p>1) Add this class to your project:</p>\n\n<pre><code>public class DividerItemDecoration extends RecyclerView.ItemDecoration {\n    private static final int[] ATTRS = new int[]{android.R.attr.listDivider};\n    private Drawable divider;\n\n    public DividerItemDecoration(Context context) {\n        try {\n            final TypedArray a = context.obtainStyledAttributes(ATTRS);\n            divider = a.getDrawable(0);\n            a.recycle();\n        } catch (Resources.NotFoundException e) {\n            // TODO Log or handle as necessary.\n        }\n    }\n\n    @Override\n    public void getItemOffsets(Rect outRect, View view, RecyclerView parent, RecyclerView.State state) {\n        super.getItemOffsets(outRect, view, parent, state);\n        if (divider == null) return;\n        if (parent.getChildAdapterPosition(view) &lt; 1) return;\n\n        if (getOrientation(parent) == LinearLayoutManager.VERTICAL)\n            outRect.top = divider.getIntrinsicHeight();\n        else\n            throw new IllegalArgumentException(\"Only usable with vertical lists\");\n    }\n\n    @Override\n    public void onDrawOver(Canvas c, RecyclerView parent, RecyclerView.State state) {\n        if (divider == null) {\n            super.onDrawOver(c, parent, state);\n            return;\n        }\n\n        final int left = parent.getPaddingLeft();\n        final int right = parent.getWidth() - parent.getPaddingRight();\n        final int childCount = parent.getChildCount();\n\n        for (int i = 0; i &lt; childCount; ++i) {\n            final View child = parent.getChildAt(i);\n            final RecyclerView.LayoutParams params = (RecyclerView.LayoutParams) child.getLayoutParams();\n            final int size = divider.getIntrinsicHeight();\n            final int top = (int) (child.getTop() - params.topMargin - size + child.getTranslationY());\n            final int bottom = top + size;\n            divider.setBounds(left, top, right, bottom);\n            divider.draw(c);\n\n            if (i == childCount - 1) {\n                final int newTop = (int) (child.getBottom() + params.bottomMargin + child.getTranslationY());\n                final int newBottom = newTop + size;\n                divider.setBounds(left, newTop, right, newBottom);\n                divider.draw(c);\n            }\n        }\n    }\n\n    private int getOrientation(RecyclerView parent) {\n        if (!(parent.getLayoutManager() instanceof LinearLayoutManager))\n            throw new IllegalStateException(\"Layout manager must be an instance of LinearLayoutManager\");\n        return ((LinearLayoutManager) parent.getLayoutManager()).getOrientation();\n    }\n}\n</code></pre>\n\n<p>2) Add the decorator to your RecylerView:</p>\n\n<pre><code>recyclerView.addItemDecoration(new DividerItemDecoration(getActivity()));\n</code></pre>\n", "title": "How to add dividers and spaces between items in RecyclerView?", "answer_id": 31818924, "question_id": 24618829, "tags": ["android", "recyclerview", "divider"]}, {"body": "<p>This link worked like a charm for me:</p>\n\n<p><a href=\"https://gist.github.com/lapastillaroja/858caf1a82791b6c1a36\" rel=\"nofollow\">https://gist.github.com/lapastillaroja/858caf1a82791b6c1a36</a></p>\n\n<pre><code>import android.content.Context;\nimport android.content.res.TypedArray;\nimport android.graphics.Canvas;\nimport android.graphics.Rect;\nimport android.graphics.drawable.Drawable;\nimport android.support.v7.widget.LinearLayoutManager;\nimport android.support.v7.widget.RecyclerView;\nimport android.util.AttributeSet;\nimport android.view.View;\n\npublic class DividerItemDecoration extends RecyclerView.ItemDecoration {\n\n    private Drawable mDivider;\n    private boolean mShowFirstDivider = false;\n    private boolean mShowLastDivider = false;\n\n\n    public DividerItemDecoration(Context context, AttributeSet attrs) {\n        final TypedArray a = context\n                .obtainStyledAttributes(attrs, new int[]{android.R.attr.listDivider});\n        mDivider = a.getDrawable(0);\n        a.recycle();\n    }\n\n    public DividerItemDecoration(Context context, AttributeSet attrs, boolean showFirstDivider,\n            boolean showLastDivider) {\n        this(context, attrs);\n        mShowFirstDivider = showFirstDivider;\n        mShowLastDivider = showLastDivider;\n    }\n\n    public DividerItemDecoration(Drawable divider) {\n        mDivider = divider;\n    }\n\n    public DividerItemDecoration(Drawable divider, boolean showFirstDivider,\n            boolean showLastDivider) {\n        this(divider);\n        mShowFirstDivider = showFirstDivider;\n        mShowLastDivider = showLastDivider;\n    }\n\n    @Override\n    public void getItemOffsets(Rect outRect, View view, RecyclerView parent,\n            RecyclerView.State state) {\n        super.getItemOffsets(outRect, view, parent, state);\n        if (mDivider == null) {\n            return;\n        }\n        if (parent.getChildPosition(view) &lt; 1) {\n            return;\n        }\n\n        if (getOrientation(parent) == LinearLayoutManager.VERTICAL) {\n            outRect.top = mDivider.getIntrinsicHeight();\n        } else {\n            outRect.left = mDivider.getIntrinsicWidth();\n        }\n    }\n\n    @Override\n    public void onDrawOver(Canvas c, RecyclerView parent, RecyclerView.State state) {\n        if (mDivider == null) {\n            super.onDrawOver(c, parent, state);\n            return;\n        }\n\n        // Initialization needed to avoid compiler warning\n        int left = 0, right = 0, top = 0, bottom = 0, size;\n        int orientation = getOrientation(parent);\n        int childCount = parent.getChildCount();\n\n        if (orientation == LinearLayoutManager.VERTICAL) {\n            size = mDivider.getIntrinsicHeight();\n            left = parent.getPaddingLeft();\n            right = parent.getWidth() - parent.getPaddingRight();\n        } else { //horizontal\n            size = mDivider.getIntrinsicWidth();\n            top = parent.getPaddingTop();\n            bottom = parent.getHeight() - parent.getPaddingBottom();\n        }\n\n        for (int i = mShowFirstDivider ? 0 : 1; i &lt; childCount; i++) {\n            View child = parent.getChildAt(i);\n            RecyclerView.LayoutParams params = (RecyclerView.LayoutParams) child.getLayoutParams();\n\n            if (orientation == LinearLayoutManager.VERTICAL) {\n                top = child.getTop() - params.topMargin;\n                bottom = top + size;\n            } else { //horizontal\n                left = child.getLeft() - params.leftMargin;\n                right = left + size;\n            }\n            mDivider.setBounds(left, top, right, bottom);\n            mDivider.draw(c);\n        }\n\n        // show last divider\n        if (mShowLastDivider &amp;&amp; childCount &gt; 0) {\n            View child = parent.getChildAt(childCount - 1);\n            RecyclerView.LayoutParams params = (RecyclerView.LayoutParams) child.getLayoutParams();\n            if (orientation == LinearLayoutManager.VERTICAL) {\n                top = child.getBottom() + params.bottomMargin;\n                bottom = top + size;\n            } else { // horizontal\n                left = child.getRight() + params.rightMargin;\n                right = left + size;\n            }\n            mDivider.setBounds(left, top, right, bottom);\n            mDivider.draw(c);\n        }\n    }\n\n    private int getOrientation(RecyclerView parent) {\n        if (parent.getLayoutManager() instanceof LinearLayoutManager) {\n            LinearLayoutManager layoutManager = (LinearLayoutManager) parent.getLayoutManager();\n            return layoutManager.getOrientation();\n        } else {\n            throw new IllegalStateException(\n                    \"DividerItemDecoration can only be used with a LinearLayoutManager.\");\n        }\n    }\n}\n</code></pre>\n\n<p>Then in your activity:</p>\n\n<pre><code>mCategoryRecyclerView.addItemDecoration(\n    new DividerItemDecoration(this, null));\n</code></pre>\n\n<p>Or this if you are using a fragment:</p>\n\n<pre><code>mCategoryRecyclerView.addItemDecoration(\n    new DividerItemDecoration(getActivity(), null));\n</code></pre>\n", "title": "How to add dividers and spaces between items in RecyclerView?", "answer_id": 32145299, "question_id": 24618829, "tags": ["android", "recyclerview", "divider"]}, {"body": "<p>We can decorate the items using various decorators attached to the recyclerview such as the DividerItemDecoration:</p>\n\n<p>Simply use the following ...taken from the answer by <a href=\"http://stackoverflow.com/users/953682/eyesclear\">EyesClear</a></p>\n\n<pre><code>public class DividerItemDecoration extends RecyclerView.ItemDecoration {\n\nprivate static final int[] ATTRS = new int[]{android.R.attr.listDivider};\n\nprivate Drawable mDivider;\n\n/**\n * Default divider will be used\n */\npublic DividerItemDecoration(Context context) {\n    final TypedArray styledAttributes = context.obtainStyledAttributes(ATTRS);\n    mDivider = styledAttributes.getDrawable(0);\n    styledAttributes.recycle();\n}\n\n/**\n * Custom divider will be used\n */\npublic DividerItemDecoration(Context context, int resId) {\n    mDivider = ContextCompat.getDrawable(context, resId);\n}\n\n@Override\npublic void onDraw(Canvas c, RecyclerView parent, RecyclerView.State state) {\n    int left = parent.getPaddingLeft();\n    int right = parent.getWidth() - parent.getPaddingRight();\n\n    int childCount = parent.getChildCount();\n    for (int i = 0; i &lt; childCount; i++) {\n        View child = parent.getChildAt(i);\n\n        RecyclerView.LayoutParams params = (RecyclerView.LayoutParams) child.getLayoutParams();\n\n        int top = child.getBottom() + params.bottomMargin;\n        int bottom = top + mDivider.getIntrinsicHeight();\n\n        mDivider.setBounds(left, top, right, bottom);\n        mDivider.draw(c);\n    }\n}\n</code></pre>\n\n<p>}\nand then use the above as follows</p>\n\n<pre><code>RecyclerView.ItemDecoration itemDecoration = new DividerItemDecoration(this, DividerItemDecoration.VERTICAL_LIST);\nrecyclerView.addItemDecoration(itemDecoration);\n</code></pre>\n\n<p>This will display dividers between each item within the list as shown below:</p>\n\n<p><a href=\"http://i.stack.imgur.com/06d1F.png\"><img src=\"http://i.stack.imgur.com/06d1F.png\" alt=\"enter image description here\"></a></p>\n\n<p>And for those of who are looking for more details can check out this guide  <a href=\"https://guides.codepath.com/android/Using-the-RecyclerView#decorations\">Using the RecyclerView _ CodePath Android Cliffnotes</a></p>\n\n<p>Some answers here suggest the use of margins but the catch is that :\nIf you add both top and bottom margins, they will appear both added between items and they will be too large. If you only add either, there will be no margin either at the top or the bottom of the whole list. If you add half of the distance at the top, half at the bottom, the outer margins will be too small. </p>\n\n<p>Thus, the only aesthetically correct solution is the divider that the system knows where to apply properly: between items but not above or below items.</p>\n\n<p>Please let me know of any doubts in the comments below :)</p>\n", "title": "How to add dividers and spaces between items in RecyclerView?", "answer_id": 32679525, "question_id": 24618829, "tags": ["android", "recyclerview", "divider"]}, {"body": "<p>It would be similar to setting up list/grid spacings with RecyclerView using ItemDecoration.</p>\n\n<p>You can find example implementation of spacing (not divider but can use the same concept) on another post <a href=\"http://stackoverflow.com/a/29905000/4839264\">here</a>.</p>\n", "title": "How to add dividers and spaces between items in RecyclerView?", "answer_id": 34447106, "question_id": 24618829, "tags": ["android", "recyclerview", "divider"]}, {"body": "<p>Since there is no right way to implement this yet properly using Material Design, I just did the following trick to add a divider on the list item directly:</p>\n\n<pre><code>&lt;View\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"1dp\"\nandroid:background=\"@color/dividerColor\"/&gt;\n</code></pre>\n", "title": "How to add dividers and spaces between items in RecyclerView?", "answer_id": 36606516, "question_id": 24618829, "tags": ["android", "recyclerview", "divider"]}, {"body": "<p>I have added a line in list item like below</p>\n\n<pre><code>&lt;View\nandroid:id=\"@+id/divider\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"1px\"\nandroid:background=\"@color/dividerColor\"/&gt;\n</code></pre>\n\n<p>1px will draw the thin line. </p>\n\n<blockquote>\n  <p>If you want to hide the divider for the last row then <code>divider.setVisiblity(View.GONE);</code> on the onBindViewHolder for the last list Item.</p>\n</blockquote>\n", "title": "How to add dividers and spaces between items in RecyclerView?", "answer_id": 38144691, "question_id": 24618829, "tags": ["android", "recyclerview", "divider"]}, {"body": "<p>Simple,\nadd this in your item layout</p>\n\n<p>android:layout_marginBottom=\"5dp\"</p>\n\n<p>and this in your recyclerview\nandroid:layout_marginBottom=\"-5dp\"</p>\n\n<p>You will get exactly what you want without any unexpected space at the end of list.\nThis will not generate any issues and i am using it.</p>\n", "title": "How to add dividers and spaces between items in RecyclerView?", "answer_id": 38223161, "question_id": 24618829, "tags": ["android", "recyclerview", "divider"]}, {"body": "<p>You can use a 9-patch for mocking the divider (put it in the drawable-nodpi resource folder and set it as background):</p>\n\n<p><a href=\"http://i.stack.imgur.com/kzikt.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/kzikt.png\" alt=\"9-patch bottom line divider\"></a></p>\n", "title": "How to add dividers and spaces between items in RecyclerView?", "answer_id": 38900197, "question_id": 24618829, "tags": ["android", "recyclerview", "divider"]}], "question_id": 24618829}, {"body": "<p>When writing an Angular directive, one can use any of the following functions to manipulate the DOM behaviour, contents and look of the element on which the directive is declared:</p>\n\n<ul>\n<li>compile</li>\n<li>controller</li>\n<li>pre-link</li>\n<li>post-link</li>\n</ul>\n\n<p>There seem to be some confusion as for which function should one use. This question covers:</p>\n\n<h2>Directive basics</h2>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/a/24615123/1179377\">How to declare the various functions?</a></li>\n<li><a href=\"http://stackoverflow.com/a/24615137/1179377\">What is the difference between a <em>source template</em> and an <em>instance template</em>?</a></li>\n<li><a href=\"http://stackoverflow.com/a/24615162/1179377\">In which order the directive functions are executed?</a></li>\n<li><a href=\"http://stackoverflow.com/a/24615185/1179377\">What else happens between these function calls?</a></li>\n</ul>\n\n<h2>Function nature, do's and dont's</h2>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/a/24615207/1179377\">Compile</a></li>\n<li><a href=\"http://stackoverflow.com/a/24615239/1179377\">Controller</a></li>\n<li><a href=\"http://stackoverflow.com/a/24615261/1179377\">Pre-link</a></li>\n<li><a href=\"http://stackoverflow.com/a/24615104/1179377\">Post-link</a></li>\n</ul>\n\n<h2>Related questions:</h2>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/15676614/\">Directive: link vs compile vs controller</a>.</li>\n<li><a href=\"http://stackoverflow.com/questions/12546945\">Difference between the 'controller', 'link' and 'compile' functions when defining an angular.js directive</a>.</li>\n<li><a href=\"http://stackoverflow.com/questions/12164138\">What is the difference between compile and link function in angularjs</a>.</li>\n<li><a href=\"http://stackoverflow.com/questions/17534343\">Difference between the pre-compile and post-compile element in AngularJS directives?</a>.</li>\n<li><a href=\"http://stackoverflow.com/questions/23770882\">Angular JS Directive - Template, compile or link?</a>.</li>\n<li><a href=\"http://stackoverflow.com/questions/18297208\">post link vs pre link in Angular js directives</a>.</li>\n</ul>\n", "title": "Angular directives - when and how to use compile, controller, pre-link and post-link", "tags": ["angularjs", "angularjs-directive"], "answer_count": 8, "link": "http://stackoverflow.com/questions/24615103/angular-directives-when-and-how-to-use-compile-controller-pre-link-and-post", "answers": [{"body": "<h1>Post-link function</h1>\n\n<p>When the <code>post-link</code> function is called, all previous steps have taken place - binding, transclusion, etc.</p>\n\n<p>This is typically a place to further manipulate the rendered DOM.</p>\n\n<h2>Do:</h2>\n\n<ul>\n<li>Manipulate DOM (rendered, and thus instantiated) elements.</li>\n<li>Attach event handlers.</li>\n<li>Inspect child elements.</li>\n<li>Set up observations on attributes.</li>\n<li>Set up watches on the scope.</li>\n</ul>\n", "title": "Angular directives - when and how to use compile, controller, pre-link and post-link", "answer_id": 24615104, "question_id": 24615103, "tags": ["angularjs", "angularjs-directive"]}, {"body": "<h1>How to declare the various functions?</h1>\n\n<h2>Compile, Controller, Pre-link &amp; Post-link</h2>\n\n<p>If one is to use all four function, the directive will follow this form:</p>\n\n<pre><code>myApp.directive( 'myDirective', function () {\n    return {\n        restrict: 'EA',\n        controller: function( $scope, $element, $attrs, $transclude ) {\n            // Controller code goes here.\n        },\n        compile: function compile( tElement, tAttributes, transcludeFn ) {\n            // Compile code goes here.\n            return {\n                pre: function preLink( scope, element, attributes, controller, transcludeFn ) {\n                    // Pre-link code goes here\n                },\n                post: function postLink( scope, element, attributes, controller, transcludeFn ) {\n                    // Post-link code goes here\n                }\n            };\n        }\n    };  \n});\n</code></pre>\n\n<p>Notice that compile returns an object containing both the pre-link and post-link functions; in Angular lingo we say the compile function returns a <em>template function</em>.</p>\n\n<h2>Compile, Controller &amp; Post-link</h2>\n\n<p>If <code>pre-link</code> isn't necessary, the compile function can simply return the post-link function instead of a definition object, like so:</p>\n\n<pre><code>myApp.directive( 'myDirective', function () {\n    return {\n        restrict: 'EA',\n        controller: function( $scope, $element, $attrs, $transclude ) {\n            // Controller code goes here.\n        },\n        compile: function compile( tElement, tAttributes, transcludeFn ) {\n            // Compile code goes here.\n            return function postLink( scope, element, attributes, controller, transcludeFn ) {\n                    // Post-link code goes here                 \n            };\n        }\n    };  \n});\n</code></pre>\n\n<p>Sometimes, one wishes to add a <code>compile</code> method, after the (post) <code>link</code> method was defined. For this, one can use:</p>\n\n<pre><code>myApp.directive( 'myDirective', function () {\n    return {\n        restrict: 'EA',\n        controller: function( $scope, $element, $attrs, $transclude ) {\n            // Controller code goes here.\n        },\n        compile: function compile( tElement, tAttributes, transcludeFn ) {\n            // Compile code goes here.\n\n            return this.link;\n        },\n        link: function( scope, element, attributes, controller, transcludeFn ) {\n            // Post-link code goes here\n        }\n\n    };  \n});\n</code></pre>\n\n<h2>Controller &amp; Post-link</h2>\n\n<p>If no compile function is needed, one can skip its declaration altogether and provide the post-link function under the <code>link</code> property of the directive's configuration object:</p>\n\n<pre><code>myApp.directive( 'myDirective', function () {\n    return {\n        restrict: 'EA',\n        controller: function( $scope, $element, $attrs, $transclude ) {\n            // Controller code goes here.\n        },\n        link: function postLink( scope, element, attributes, controller, transcludeFn ) {\n                // Post-link code goes here                 \n        },          \n    };  \n});\n</code></pre>\n\n<h2>No controller</h2>\n\n<p>In any of the examples above, one can simply remove the <code>controller</code> function if not needed. So for instance, if only <code>post-link</code> function is needed, one can use:</p>\n\n<pre><code>myApp.directive( 'myDirective', function () {\n    return {\n        restrict: 'EA',\n        link: function postLink( scope, element, attributes, controller, transcludeFn ) {\n                // Post-link code goes here                 \n        },          \n    };  \n});\n</code></pre>\n", "title": "Angular directives - when and how to use compile, controller, pre-link and post-link", "answer_id": 24615123, "question_id": 24615103, "tags": ["angularjs", "angularjs-directive"]}, {"body": "<h1>What is the difference between a <em>source template</em> and an <em>instance template</em>?</h1>\n\n<p>The fact that Angular allows DOM manipulation means that the input markup into the compilation process sometimes differ from the output. Particularly, some input markup may be cloned a few times (like with <code>ng-repeat</code>) before being rendered to the DOM. </p>\n\n<p>Angular terminology is a bit inconsistent, but it still distinguishes between two types of markups:</p>\n\n<ul>\n<li><strong>Source template</strong> - the markup to be cloned, if needed. If cloned, this markup will not be rendered to the DOM.</li>\n<li><strong>Instance template</strong> - the actual markup to be rendered to the DOM. If cloning is involved, each instance will be a clone.</li>\n</ul>\n\n<p>The following markup demonstrates this:</p>\n\n<pre><code>&lt;div ng-repeat=\"i in [0,1,2]\"&gt;\n    &lt;my-directive&gt;{{i}}&lt;/my-directive&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The source html defines</p>\n\n<pre><code>    &lt;my-directive&gt;{{i}}&lt;/my-directive&gt;\n</code></pre>\n\n<p>which serves as the source template.</p>\n\n<p>But as it is wrapped within an <code>ng-repeat</code> directive, this source template will be cloned (3 times in our case). These clones are instance template, each will appear in the DOM and be bound to the relevant scope.</p>\n", "title": "Angular directives - when and how to use compile, controller, pre-link and post-link", "answer_id": 24615137, "question_id": 24615103, "tags": ["angularjs", "angularjs-directive"]}, {"body": "<h1>In which order the directive functions are executed?</h1>\n\n<h2>For a single directive</h2>\n\n<p>Based on the following <a href=\"http://plnkr.co/edit/wIhRr0\">plunk</a>, consider the following HTML markup:</p>\n\n<pre><code>&lt;body&gt;\n    &lt;div log='some-div'&gt;&lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>With the following directive declaration:</p>\n\n<pre><code>myApp.directive('log', function() {\n\n    return {\n        controller: function( $scope, $element, $attrs, $transclude ) {\n            console.log( $attrs.log + ' (controller)' );\n        },\n        compile: function compile( tElement, tAttributes ) {\n            console.log( tAttributes.log + ' (compile)'  );\n            return {\n                pre: function preLink( scope, element, attributes ) {\n                    console.log( attributes.log + ' (pre-link)'  );\n                },\n                post: function postLink( scope, element, attributes ) {\n                    console.log( attributes.log + ' (post-link)'  );\n                }\n            };\n         }\n     };  \n\n});\n</code></pre>\n\n<p>The console output will be:</p>\n\n<pre><code>some-div (compile)\nsome-div (controller)\nsome-div (pre-link)\nsome-div (post-link)\n</code></pre>\n\n<p>We can see that <code>compile</code> is executed first, then <code>controller</code>, then <code>pre-link</code> and last is <code>post-link</code>.</p>\n\n<h2>For nested directives</h2>\n\n<blockquote>\n  <p><strong>Note:</strong> The following does not apply to directives that render their children in their link function. Quite a few Angular directives do so (like ngIf, ngRepeat, or any directive with <code>transclude</code>). These directives will natively have their <code>link</code> function called <em>before</em> their child directives <code>compile</code> is called.</p>\n</blockquote>\n\n<p>The original HTML markup is often made of nested elements, each with its own directive. Like in the following markup (see <a href=\"http://plnkr.co/edit/pWJhfgdA2iDzSKV5bjyh\">plunk</a>):</p>\n\n<pre><code>&lt;body&gt;\n    &lt;div log='parent'&gt;\n        &lt;div log='..first-child'&gt;&lt;/div&gt;\n        &lt;div log='..second-child'&gt;&lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>The console output will look like this:</p>\n\n<pre><code>// The compile phase\nparent (compile)\n..first-child (compile)\n..second-child (compile)\n\n// The link phase   \nparent (controller)\nparent (pre-link)\n..first-child (controller)\n..first-child (pre-link)\n..first-child (post-link)\n..second-child (controller)\n..second-child (pre-link)\n..second-child (post-link)\nparent (post-link)\n</code></pre>\n\n<p>We can distinguish two phases here - the <em>compile</em> phase and the <em>link</em> phase.</p>\n\n<h3>The compile phase</h3>\n\n<p>When the DOM is loaded Angular starts the compile phase, where it traverses the markup top-down, and calls <code>compile</code> on all directives. Graphically, we could express it like so:</p>\n\n<p><img src=\"http://i.stack.imgur.com/PZPOm.png\" alt=\"An image illustrating the compilation loop for children\"></p>\n\n<p>It is perhaps important to mention that at this stage, the templates the compile function gets are the source templates (not instance template).</p>\n\n<h3>The link phase</h3>\n\n<p>DOM instances are often simply the result of a source template being rendered to the DOM, but they may be created by <code>ng-repeat</code>, or introduced on the fly.</p>\n\n<p>Whenever a new instance of an element with a directive is rendered to the DOM, the link phase starts.</p>\n\n<p>In this phase, Angular calls <code>controller</code>, <code>pre-link</code>, iterates children, and call <code>post-link</code> on all directives, like so:</p>\n\n<p><img src=\"http://i.stack.imgur.com/XRDs6.png\" alt=\"An illustration demonstrating the link phase steps\"></p>\n", "title": "Angular directives - when and how to use compile, controller, pre-link and post-link", "answer_id": 24615162, "question_id": 24615103, "tags": ["angularjs", "angularjs-directive"]}, {"body": "<h1>What else happens between these function calls?</h1>\n\n<p>The various directive functions are executed from within two other angular functions called <code>$compile</code> (where the directive's <code>compile</code> is executed) and an internal function called <code>nodeLinkFn</code> (where the directive's <code>controller</code>, <code>preLink</code> and <code>postLink</code> are executed). Various things happen within the angular function before and after the directive functions are called. Perhaps most notably is the child recursion. The following simplified illustration shows key steps within the compile and link phases:</p>\n\n<p><img src=\"http://i.stack.imgur.com/2uqPZ.png\" alt=\"An illustration showing Angular compile and link phases\"></p>\n\n<p>To demonstrate the these steps, let's use the following HTML markup:</p>\n\n<pre><code>&lt;div ng-repeat=\"i in [0,1,2]\"&gt;\n    &lt;my-element&gt;\n        &lt;div&gt;Inner content&lt;/div&gt;\n    &lt;/my-element&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>With the following directive:</p>\n\n<pre><code>myApp.directive( 'myElement', function() {\n    return {\n        restrict:   'EA',\n        transclude: true,\n        template:   '&lt;div&gt;{{label}}&lt;div ng-transclude&gt;&lt;/div&gt;&lt;/div&gt;'\n    }\n});\n</code></pre>\n\n<h2>Compile</h2>\n\n<p>The <code>compile</code> API looks like so:</p>\n\n<pre><code>compile: function compile( tElement, tAttributes ) { ... }\n</code></pre>\n\n<p>Often the parameters are prefixed with <code>t</code> to signify the elements and attributes provided are those of the source template, rather than that of the instance.</p>\n\n<p>Prior to the call to <code>compile</code> transcluded content (if any) is removed, and the template is applied to the markup. Thus, the element provided to the <code>compile</code> function will look like so:</p>\n\n<pre><code>&lt;my-element&gt;\n    &lt;div&gt;\n        \"{{label}}\"\n        &lt;div ng-transclude&gt;&lt;/div&gt;\n    &lt;/div&gt;\n&lt;/my-element&gt;\n</code></pre>\n\n<p>Notice that the transcluded content is not re-inserted at this point.</p>\n\n<p>Following the call to the directive's <code>.compile</code>, Angular will traverse all child elements, including those that may have just been introduced by the directive (the template elements, for instance).</p>\n\n<h2>Instance creation</h2>\n\n<p>In our case, three instances of the source template above will be created (by <code>ng-repeat</code>). Thus, the following sequence will execute three times, once per instance.</p>\n\n<h2>Controller</h2>\n\n<p>The <code>controller</code> API involves:</p>\n\n<pre><code>controller: function( $scope, $element, $attrs, $transclude ) { ... }\n</code></pre>\n\n<p>Entering the link phase, the link function returned via <code>$compile</code> is now provided with a scope.</p>\n\n<p>First, the link function create a child scope (<code>scope: true</code>) or an isolated scope (<code>scope: {...}</code>) if requested.</p>\n\n<p>The controller is then executed, provided with the scope of the instance element.</p>\n\n<h2>Pre-link</h2>\n\n<p>The <code>pre-link</code> API looks like so:</p>\n\n<pre><code>function preLink( scope, element, attributes, controller ) { ... }\n</code></pre>\n\n<p>Virtually nothing happens between the call to the directive's <code>.controller</code> and the <code>.preLink</code> function. Angular still provide recommendation as to how each should be used.</p>\n\n<p>Following the <code>.preLink</code> call, the link function will traverse each child element - calling the correct link function and attaching to it the current scope (which serves as the parent scope for child elements).</p>\n\n<h2>Post-link</h2>\n\n<p>The <code>post-link</code> API is similar to that of the <code>pre-link</code> function:</p>\n\n<pre><code>function postLink( scope, element, attributes, controller ) { ... }\n</code></pre>\n\n<p>Perhaps worth noticing that once a directive's <code>.postLink</code> function is called, the link process of all its children elements has completed, including all the children's <code>.postLink</code> functions.</p>\n\n<p>This means that by the time <code>.postLink</code> is called, the children are 'live' are ready. This includes:</p>\n\n<ul>\n<li>data binding</li>\n<li>transclusion applied</li>\n<li>scope attached</li>\n</ul>\n\n<p>The template at this stage will thus look like so:</p>\n\n<pre><code>&lt;my-element&gt;\n    &lt;div class=\"ng-binding\"&gt;\n        \"{{label}}\"\n        &lt;div ng-transclude&gt;                \n            &lt;div class=\"ng-scope\"&gt;Inner content&lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/my-element&gt;\n</code></pre>\n", "title": "Angular directives - when and how to use compile, controller, pre-link and post-link", "answer_id": 24615185, "question_id": 24615103, "tags": ["angularjs", "angularjs-directive"]}, {"body": "<h1>Compile function</h1>\n\n<p>Each directive's <code>compile</code> function is only called once, when Angular bootstraps.</p>\n\n<p>Officially, this is the place to perform (source) template manipulations that do not involve scope or data binding.</p>\n\n<p>Primarily, this is done for optimisation purposes; consider the following markup:</p>\n\n<pre><code>&lt;tr ng-repeat=\"raw in raws\"&gt;\n    &lt;my-raw&gt;&lt;/my-raw&gt;\n&lt;/tr&gt;\n</code></pre>\n\n<p>The <code>&lt;my-raw&gt;</code> directive will render a particular set of DOM markup. So we can either:</p>\n\n<ul>\n<li>Allow <code>ng-repeat</code> to duplicate the source template (<code>&lt;my-raw&gt;</code>), and then modify the markup of each instance template (outside the <code>compile</code> function).</li>\n<li>Modify the source template to involve the desired markup (in the <code>compile</code> function), and then allow <code>ng-repeat</code> to duplicate it.</li>\n</ul>\n\n<p>If there are 1000 items in the <code>raws</code> collection, the latter option may be faster than the former one.</p>\n\n<h2>Do:</h2>\n\n<ul>\n<li>Manipulate markup so it serves as a template to instances (clones).</li>\n</ul>\n\n<h2>Do not</h2>\n\n<ul>\n<li>Attach event handlers.</li>\n<li>Inspect child elements.</li>\n<li>Set up observations on attributes.</li>\n<li>Set up watches on the scope.</li>\n</ul>\n", "title": "Angular directives - when and how to use compile, controller, pre-link and post-link", "answer_id": 24615207, "question_id": 24615103, "tags": ["angularjs", "angularjs-directive"]}, {"body": "<h1>Controller function</h1>\n\n<p>Each directive's <code>controller</code> function is called whenever a new related element is instantiated.</p>\n\n<p>Officially, the <code>controller</code> function is where one:</p>\n\n<ul>\n<li>Defines controller logic (methods) that may be shared between controllers.</li>\n<li>Initiates scope variables.</li>\n</ul>\n\n<p>Again, it is important to remember that if the directive involves an isolated scope, any properties within it that inherit from the parent scope are not yet available.</p>\n\n<h2>Do:</h2>\n\n<ul>\n<li>Define controller logic</li>\n<li>Initiate scope variables</li>\n</ul>\n\n<h2>Do not:</h2>\n\n<ul>\n<li>Inspect child elements (they may not be rendered yet, bound to scope, etc.).</li>\n</ul>\n", "title": "Angular directives - when and how to use compile, controller, pre-link and post-link", "answer_id": 24615239, "question_id": 24615103, "tags": ["angularjs", "angularjs-directive"]}, {"body": "<h1>Pre-link function</h1>\n\n<p>Each directive's <code>pre-link</code> function is called whenever a new related element is instantiated.</p>\n\n<p>As seen previously in the compilation order section, <code>pre-link</code> functions are called parent-then-child, whereas <code>post-link</code> functions are called <code>child-then-parent</code>.</p>\n\n<p>The <code>pre-link</code> function is rarely used, but can be useful in special scenarios; for example, when a child controller registers itself with the parent controller, but the registration has to be in a <code>parent-then-child</code> fashion (<code>ngModelController</code> does things this way).</p>\n\n<h2>Do not:</h2>\n\n<ul>\n<li>Inspect child elements (they may not be rendered yet, bound to scope, etc.).</li>\n</ul>\n", "title": "Angular directives - when and how to use compile, controller, pre-link and post-link", "answer_id": 24615261, "question_id": 24615103, "tags": ["angularjs", "angularjs-directive"]}], "question_id": 24615103}, {"body": "<p>In C/C++/Objective-C you can define a macro using compiler preprocesors.\nMoreover, you can include/exclude some parts of code using compiler preprocesors.</p>\n\n<pre><code>#ifdef DEBUG\n// debug only code\n#endif\n</code></pre>\n\n<p>Is there a similar solution in Swift?</p>\n", "title": "#ifdef replacement in swift language", "tags": ["ios", "osx", "swift"], "answer_count": 7, "link": "http://stackoverflow.com/questions/24003291/ifdef-replacement-in-swift-language", "answers": [{"body": "<p>There is no Swift preprocessor. (For one thing, arbitrary code substitution breaks type- and memory-safety.)</p>\n\n<p>Swift does include build-time configuration options, though, so you can conditionally include code for certain platforms or build styles or in response to flags you define with <code>-D</code> compiler args. Unlike with C, though, a conditionally compiled section of your code must be syntactically complete. There's a section about this in <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/BuildingCocoaApps/InteractingWithCAPIs.html#//apple_ref/doc/uid/TP40014216-CH8-XID_21\">Using Swift With Cocoa and Objective-C</a>.</p>\n\n<p>For example:</p>\n\n<pre><code>#if os(iOS)\n    let color = UIColor.redColor()\n#else\n    let color = NSColor.redColor()\n#endif\n</code></pre>\n", "title": "#ifdef replacement in swift language", "answer_id": 24003457, "question_id": 24003291, "tags": ["ios", "osx", "swift"]}, {"body": "<p>Yes you can do it.</p>\n\n<p>In Swift you can still use the \"#if/#else/#endif\" preprocessor macros (although more constrained), as per <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/BuildingCocoaApps/InteractingWithCAPIs.html#//apple_ref/doc/uid/TP40014216-CH8-ID34\">Apple docs</a>. Here's an example:</p>\n\n<pre><code>#if DEBUG\n    let a = 2\n#else\n    let a = 3\n#endif\n</code></pre>\n\n<p>Now, you must set the \"DEBUG\" symbol elsewhere, though. Set it in the \"Swift Compiler - Custom Flags\" section, \"Other Swift Flags\" line. You add the DEBUG symbol with the <code>-D DEBUG</code> entry.</p>\n\n<p>As usual, you can set a different value when in Debug or when in Release.</p>\n\n<p>I tested it in real code and it works; it doesn't seem to be recognized in a playground though.</p>\n\n<p>You can read my original post <a href=\"http://stackoverflow.com/questions/24111854/in-absence-of-preprocessor-macros-is-there-a-way-to-define-practical-scheme-spe/24112024#24112024\">here</a>.</p>\n\n<hr>\n\n<p><strong>IMPORTANT NOTE:</strong> <code>-DDEBUG=1</code> doesn't work. Only <code>-D DEBUG</code> works. Seems compiler is ignoring a flag with a specific value.</p>\n", "title": "#ifdef replacement in swift language", "answer_id": 24152730, "question_id": 24003291, "tags": ["ios", "osx", "swift"]}, {"body": "<p>In many situations, you don't really need conditional <em>compilation</em>; you just need conditional <em>behavior</em> that you can switch on and off. For that, you can use an environment variable. This has the huge advantage that you don't actually have to recompile.</p>\n\n<p>You can set the environment variable, and easily switch it on or off, in the scheme editor:</p>\n\n<p><img src=\"http://i.stack.imgur.com/opfbT.png\" alt=\"enter image description here\"></p>\n\n<p>You can retrieve the environment variable with NSProcessInfo:</p>\n\n<pre><code>    let dic = NSProcessInfo.processInfo().environment\n    if dic[\"TRIPLE\"] != nil {\n        // ... do secret stuff here ...\n    }\n</code></pre>\n\n<p>Here's a real-life example. My app runs only on the device, because it uses the music library, which doesn't exist on the Simulator. How, then, to take screen shots on the Simulator for devices I don't own? Without those screen shots, I can't submit to the AppStore.</p>\n\n<p>I need <em>fake data</em> and a <em>different way of processing it</em>. I have two environment variables: one which, when switched on, tells the app to generate the fake data from the real data while running on my device; the other which, when switched on, uses the fake data (not the missing music library) while running on the Simulator. Switching each of those special modes on / off is easy thanks to environment variable checkboxes in the Scheme editor. And the bonus is that I can't accidentally use them in my App Store build, because archiving has no environment variables. </p>\n", "title": "#ifdef replacement in swift language", "answer_id": 24344459, "question_id": 24003291, "tags": ["ios", "osx", "swift"]}, {"body": "<p>As of Swift 2.1, if all you need is just check whether the code is built with debug or release configuration, you may use the built-in functions:</p>\n\n<ul>\n<li><code>_isDebugAssertConfiguration()</code> (true when optimization is set to <code>-Onone</code>)</li>\n<li><code>_isReleaseAssertConfiguration()</code> (true when optimization is set to <code>-O</code>)</li>\n<li><code>_isFastAssertConfiguration()</code> (true when optimization is set to <code>-Ounchecked</code>)</li>\n</ul>\n\n<p>e.g.</p>\n\n<pre><code>func obtain() -&gt; AbstractThing {\n    if _isDebugAssertConfiguration() {\n        return DecoratedThingWithDebugInformation(Thing())\n    } else {\n        return Thing()\n    }\n}\n</code></pre>\n\n<p>Compared with preprocessor macros,</p>\n\n<ul>\n<li>\u2713 You don't need to define a custom <code>-D DEBUG</code> flag to use it</li>\n<li>~ It is actually defined in terms of optimization settings, not Xcode build configuration</li>\n<li>\u2717 Undocumented, which means the function can be removed in any update (but it should be AppStore-safe since the optimizer will turn these into constants)</li>\n<li>\u2717 Using in if/else will always generate a \"Will never be executed\" warning.</li>\n</ul>\n", "title": "#ifdef replacement in swift language", "answer_id": 34532569, "question_id": 24003291, "tags": ["ios", "osx", "swift"]}, {"body": "<p>As stated in <a href=\"https://developer.apple.com/library/ios/documentation/Swift/Conceptual/BuildingCocoaApps/InteractingWithCAPIs.html#//apple_ref/doc/uid/TP40014216-CH8-ID34\">Apple Docs</a></p>\n\n<blockquote>\n  <p>The Swift compiler does not include a preprocessor. Instead, it takes advantage of compile-time attributes, build configurations, and language features to accomplish the same functionality. For this reason, preprocessor directives are not imported in Swift.</p>\n</blockquote>\n\n<p>I've managed to achieve what I wanted by using custom Build Configurations:</p>\n\n<ol>\n<li>Go to your project / select your target / Build Settings / search for Custom Flags</li>\n<li>For your chosen target set your custom flag using -D prefix (without white spaces), for both Debug and Release</li>\n<li>Do above steps for every target you have  </li>\n</ol>\n\n<p>Here's how you check for target:</p>\n\n<pre><code>#if BANANA\n    print(\"We have a banana\")\n#elseif MELONA\n    print(\"Melona\")\n#else\n    print(\"Kiwi\")\n#endif\n</code></pre>\n\n<p><a href=\"http://i.stack.imgur.com/zAKzJ.png\"><img src=\"http://i.stack.imgur.com/zAKzJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>Tested using Swift 2.2</p>\n", "title": "#ifdef replacement in swift language", "answer_id": 36502874, "question_id": 24003291, "tags": ["ios", "osx", "swift"]}, {"body": "<p>my two cents for XCode 8:</p>\n\n<p>a) custom flag using -D prefix works fine but..</p>\n\n<p>b) \nsimpler use:</p>\n\n<p>in xcode 8 there is a new section: \"Active Compilation Conditions\",\n already with two rows, for debug and release.</p>\n\n<p>Simply add your define WITHOUT -D.</p>\n", "title": "#ifdef replacement in swift language", "answer_id": 39314551, "question_id": 24003291, "tags": ["ios", "osx", "swift"]}, {"body": "<p>A major change of <code>ifdef</code> replacement came up with Xcode 8. i.e use of <strong>Active Compilation Conditions</strong>.</p>\n\n<p>Refer to <strong>Building and Linking</strong> in <a href=\"https://developer.apple.com/library/prerelease/content/releasenotes/DeveloperTools/RN-Xcode/Introduction.html\" rel=\"nofollow\">Xcode 8 Release note</a>.</p>\n\n<p>New build settings</p>\n\n<p>New setting: <code>SWIFT_ACTIVE_COMPILATION_CONDITIONS</code></p>\n\n<pre><code>\u201cActive Compilation Conditions\u201d is a new build setting for passing conditional compilation flags to the Swift compiler.\n</code></pre>\n\n<p>Previously, we had to declare your conditional compilation flags under OTHER_SWIFT_FLAGS, remembering to prepend \u201c-D\u201d to the setting. For example, to conditionally compile with a MYFLAG value:</p>\n\n<pre><code>#if MYFLAG\n// do stuff\n#endif\n</code></pre>\n\n<p>The value to add to the setting <code>-DMYFLAG</code></p>\n\n<p>Now we only need to pass the value MYFLAG to the new setting. Time to move all those conditional compilation values!</p>\n\n<p>Please refer to below link for more Swift Build Settings feature in Xcode 8:\n<a href=\"http://www.miqu.me/blog/2016/07/31/xcode-8-new-build-settings-and-analyzer-improvements/\" rel=\"nofollow\">http://www.miqu.me/blog/2016/07/31/xcode-8-new-build-settings-and-analyzer-improvements/</a></p>\n", "title": "#ifdef replacement in swift language", "answer_id": 39435346, "question_id": 24003291, "tags": ["ios", "osx", "swift"]}], "question_id": 24003291}, {"body": "<h3>Overview</h3>\n\n<p>I'm relatively familiar with <code>data.table</code>, not so much with <code>dplyr</code>.  I've read through some <a href=\"http://rpubs.com/hadley/dplyr-intro\"><code>dplyr</code> vignettes</a> and examples that have popped up on SO, and so far my conclusions are that:</p>\n\n<ol>\n<li><code>data.table</code> and <code>dplyr</code> are comparable in speed, except when there are many (i.e. >10-100K) groups, and in some other circumstances (see benchmarks below)</li>\n<li><code>dplyr</code> has more accessible syntax</li>\n<li><code>dplyr</code> abstracts (or will) potential DB interactions</li>\n<li>There are some minor functionality differences (see \"Examples/Usage\" below)</li>\n</ol>\n\n<p>In my mind 2. doesn't bear much weight because I am fairly familiar with it <code>data.table</code>, though I understand that for users new to both it will be a big factor.  I would like to avoid an argument about which is more intuitive, as that is irrelevant for my specific question asked from the perspective of someone already familiar with <code>data.table</code>.  I also would like to avoid a discussion about how \"more intuitive\" leads to faster analysis (certainly true, but again, not what I'm most interested about here).</p>\n\n<h3>Question</h3>\n\n<p>What I want to know is:</p>\n\n<ol>\n<li>Are there analytical tasks that are a lot easier to code with one or the other package for people familiar with the packages (i.e. some combination of keystrokes required vs. required level of esotericism, where less of each is a good thing).</li>\n<li>Are there analytical tasks that are performed substantially (i.e. more than 2x) more efficiently in one package vs. another.</li>\n</ol>\n\n<p>One <a href=\"http://stackoverflow.com/questions/21421004/how-to-cumulatively-add-values-in-one-vector-in-r\">recent SO question</a> got me thinking about this a bit more, because up until that point I didn't think <code>dplyr</code> would offer much beyond what I can already do in <code>data.table</code>.  Here is the <code>dplyr</code> solution (data at end of Q):</p>\n\n<pre><code>dat %.%\n  group_by(name, job) %.%\n  filter(job != \"Boss\" | year == min(year)) %.%\n  mutate(cumu_job2 = cumsum(job2))\n</code></pre>\n\n<p>Which was much better than my hack attempt at a <code>data.table</code> solution.  That said, good <code>data.table</code> solutions are also pretty good (thanks Jean-Robert, Arun, and note here I favored single statement over the strictly most optimal solution):</p>\n\n<pre><code>setDT(dat)[,\n  .SD[job != \"Boss\" | year == min(year)][, cumjob := cumsum(job2)], \n  by=list(id, job)\n]\n</code></pre>\n\n<p>The syntax for the latter may seem very esoteric, but it actually is pretty straightforward if you're used to <code>data.table</code> (i.e. doesn't use some of the more esoteric tricks).</p>\n\n<p>Ideally what I'd like to see is some good examples were the <code>dplyr</code> or <code>data.table</code> way is substantially more concise or performs substantially better.</p>\n\n<h3>Examples</h3>\n\nUsage\n\n<ul>\n<li><code>dplyr</code> does not allow grouped operations that return arbitrary number of rows (from <strong><a href=\"http://stackoverflow.com/questions/21737815/grouped-operations-that-result-in-length-not-equal-to-1-or-length-of-group-in-dp\">eddi's question</a></strong>, note: this looks like it will be implemented in <strong><a href=\"https://github.com/hadley/dplyr/issues/154\">dplyr 0.5</a></strong>, also, @beginneR shows a potential work-around using <code>do</code> in the answer to @eddi's question).</li>\n<li><code>data.table</code> supports <strong><a href=\"http://stackoverflow.com/questions/12030932/rolling-joins-data-table-in-r\">rolling joins</a></strong> (thanks @dholstius) as well as <strong><a href=\"http://stackoverflow.com/questions/23371747/range-join-data-frames-specific-date-column-with-date-ranges-intervals-in-r/23377309#23377309\">overlap joins</a></strong></li>\n<li><code>data.table</code> internally optimises expressions of the form <code>DT[col == value]</code> or <code>DT[col %in% values]</code> for <em>speed</em> through <em>automatic indexing</em> which uses <em>binary search</em> while using the same base R syntax. <a href=\"https://gist.github.com/arunsrinivasan/dacb9d1cac301de8d9ff\">See here</a> for some more details and a tiny benchmark.</li>\n<li><code>dplyr</code> offers standard evaluation versions of functions (e.g. <code>regroup</code>, <code>summarize_each_</code>) that can simplify the programmatic use of <code>dplyr</code> (note programmatic use of <code>data.table</code> is definitely possible, just requires some careful though, substitution/quoting, etc, at least to my knowledge)</li>\n</ul>\n\nBenchmarks\n\n<ul>\n<li>I ran <strong><a href=\"http://www.brodieg.com/?p=7\">my own benchmarks</a></strong> and found both packages to be comparable in \"split apply combine\" style analysis, except when there are very large numbers of groups (>100K) at which point <code>data.table</code> becomes substantially faster.</li>\n<li>@Arun ran some <strong><a href=\"https://gist.github.com/arunsrinivasan/db6e1ce05227f120a2c9\">benchmarks on joins</a></strong>, showing that <code>data.table</code> scales better than <code>dplyr</code> as the number of groups increase (updated with recent enhancements in both packages and recent version of R).  Also, a benchmark when trying to get <strong><a href=\"http://stackoverflow.com/questions/23668593/using-fastmatch-package-in-r/23680560?noredirect=1#comment36389040_23680560\">unique values</a></strong> has <code>data.table</code> ~6x faster.</li>\n<li>(Unverified) has <code>data.table</code> 75% faster on larger versions of a group/apply/sort while <code>dplyr</code> was 40% faster on the smaller ones (<strong><a href=\"http://stackoverflow.com/questions/21477525/fast-frequency-and-percentage-table-with-dplyr/\">another SO question from comments</a></strong>, thanks danas).</li>\n<li>Matt, the main author of <code>data.table</code>, has <a href=\"https://github.com/Rdatatable/data.table/wiki/Benchmarks-%3A-Grouping\"><strong>benchmarked grouping operations on <code>data.table</code>, <code>dplyr</code> and python <code>pandas</code> on up to 2 billion rows (~100GB in RAM)</strong></a>.</li>\n<li>An <strong><a href=\"http://www.r-statistics.com/2013/09/a-speed-test-comparison-of-plyr-data-table-and-dplyr/\">older benchmark on 80K groups</a></strong> has <code>data.table</code> ~8x faster</li>\n</ul>\n\n<h3>Data</h3>\n\n<p>This is for the first example I showed in the question section.</p>\n\n<pre><code>dat &lt;- structure(list(id = c(1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 2L, \n2L, 2L, 2L, 2L, 2L, 2L), name = c(\"Jane\", \"Jane\", \"Jane\", \"Jane\", \n\"Jane\", \"Jane\", \"Jane\", \"Jane\", \"Bob\", \"Bob\", \"Bob\", \"Bob\", \"Bob\", \n\"Bob\", \"Bob\", \"Bob\"), year = c(1980L, 1981L, 1982L, 1983L, 1984L, \n1985L, 1986L, 1987L, 1985L, 1986L, 1987L, 1988L, 1989L, 1990L, \n1991L, 1992L), job = c(\"Manager\", \"Manager\", \"Manager\", \"Manager\", \n\"Manager\", \"Manager\", \"Boss\", \"Boss\", \"Manager\", \"Manager\", \"Manager\", \n\"Boss\", \"Boss\", \"Boss\", \"Boss\", \"Boss\"), job2 = c(1L, 1L, 1L, \n1L, 1L, 1L, 0L, 0L, 1L, 1L, 1L, 0L, 0L, 0L, 0L, 0L)), .Names = c(\"id\", \n\"name\", \"year\", \"job\", \"job2\"), class = \"data.frame\", row.names = c(NA, \n-16L))\n</code></pre>\n", "title": "data.table vs dplyr: can one do something well the other can&#39;t or does poorly?", "tags": ["r", "data.table", "dplyr"], "answer_count": 3, "link": "http://stackoverflow.com/questions/21435339/data-table-vs-dplyr-can-one-do-something-well-the-other-cant-or-does-poorly", "answers": [{"body": "<h2>In direct response to the <em>Question Title</em>...</h2>\n\n<h3><code>dplyr</code> <em>definitely</em> does things that <code>data.table</code> can not.</h3>\n\n<p>Your point #3</p>\n\n<blockquote>\n  <p>dplyr abstracts (or will) potential DB interactions</p>\n</blockquote>\n\n<p>is a direct answer to your own question but isn't elevated to a high enough level. <code>dplyr</code> is truly an extendable front-end to multiple data storage mechanisms where as <code>data.table</code> is an extension to a single one.</p>\n\n<p>Look at <code>dplyr</code> as a back-end agnostic interface, with all of the targets using the same grammer, where you can extend the targets and handlers at will. <code>data.table</code> is, from the <code>dplyr</code> perspective, one of those targets.</p>\n\n<p>You will never (I hope) see a day that <code>data.table</code> attempts to translate your queries to create SQL statements that operate with on-disk or networked data stores.</p>\n\n<h3><em><code>dplyr</code> can possibly do things <code>data.table</code> will not or might not do as well.</em></h3>\n\n<p>Based on the design of working in-memory, <code>data.table</code> could have a much more difficult time extending itself into parallel processing of queries than <code>dplyr</code>.</p>\n\n<hr>\n\n<h2>In response to the in-body questions...</h2>\n\n<h3><em>Usage</em></h3>\n\n<blockquote>\n  <p><sub><sup>Are there analytical tasks that are a lot easier to code with one or the other package <em>for people familiar with the packages</em> (i.e. some combination of keystrokes required vs. required level of esotericism, where less of each is a good thing).</sup></sub></p>\n</blockquote>\n\n<p>This may seem like a punt but the real answer is no. People <em>familiar</em> with tools seem to use the either the one most familiar to them or the one that is actually the right one for the job at hand. With that being said, sometimes you want to present a particular readability, sometimes a level of performance, and when you have need for a high enough level of both you may just need another tool to go along with what you already have to make clearer abstractions.</p>\n\n<h3><em>Performance</em></h3>\n\n<blockquote>\n  <p><sup><sub>Are there analytical tasks that are performed substantially (i.e. more than 2x) more efficiently in one package vs. another.</sub></sup></p>\n</blockquote>\n\n<p>Again, no.  <code>data.table</code> excels at being efficient in everything <em>it</em> does where <code>dplyr</code> gets the burden of being limited in some respects to the underlying data store and registered handlers.</p>\n\n<p>This means when you run into a performance issue with <code>data.table</code> you can be pretty sure it is in your query function and if it <em>is</em> actually a bottleneck with <code>data.table</code> then you've won yourself the joy of filing a report. This is also true when <code>dplyr</code> is using <code>data.table</code> as the back-end; you <em>may</em> see <em>some</em> overhead from <code>dplyr</code> but odds are it is your query.</p>\n\n<p>When <code>dplyr</code> has performance issues with back-ends you can get around them by registering a function for hybrid evaluation or (in the case of databases) manipulating the generated query prior to execution.</p>\n\n<p>Also see the accepted answer to <a href=\"http://stackoverflow.com/questions/16153947/when-is-plyr-better-than-data-table/16154157#16154157\">when is plyr better than data.table?</a></p>\n", "title": "data.table vs dplyr: can one do something well the other can&#39;t or does poorly?", "answer_id": 26962904, "question_id": 21435339, "tags": ["r", "data.table", "dplyr"]}, {"body": "<p>We need to cover at least these aspects to provide a comprehensive answer/comparison (in no particular order of importance): <code>Speed</code>, <code>Memory usage</code>, <code>Syntax</code> and <code>Features</code>.</p>\n\n<p>My intent is to cover each one of these as clearly as possible from data.table perspective.</p>\n\n<blockquote>\n  <p>Note: unless explicitly mentioned otherwise, by referring to dplyr, we refer to dplyr's data.frame interface whose internals are in C++ using Rcpp.</p>\n</blockquote>\n\n<hr>\n\n<p>The data.table syntax is consistent in its form - <code>DT[i, j, by]</code>. To keep <code>i</code>, <code>j</code> and <code>by</code> together is by design. By keeping related operations together, it allows to <em>easily optimise</em> operations for <em>speed</em> and more importantly <em>memory usage</em>, and also provide some <em>powerful features</em>, all while mainitaining the consistency in syntax.</p>\n\n<h3>1. Speed</h3>\n\n<p>Quite a few benchmarks (though mostly on grouping operations) have been added to the question already showing data.table gets <em>faster</em> than dplyr as the number of groups and/or rows to group by increase, including <a href=\"https://github.com/Rdatatable/data.table/wiki/Benchmarks-%3A-Grouping\">benchmarks by Matt</a> on grouping from <em>10 million to 2 billion rows</em> (100GB in RAM) on <em>100 - 10 million groups</em> and varying grouping columns, which also compares <code>pandas</code>.</p>\n\n<p>On benchmarks, it would be great to cover these remaining aspects as well:</p>\n\n<ul>\n<li><p>Grouping operations involving a <em>subset of rows</em> - i.e., <code>DT[x &gt; val, sum(y), by=z]</code> type operations.</p></li>\n<li><p>Benchmark other operations such as <em>update</em> and <em>joins</em>.</p></li>\n<li><p>Also benchmark <em>memory footprint</em> for each operation in addition to runtime.</p></li>\n</ul>\n\n<h3>2. Memory usage</h3>\n\n<ol>\n<li><p>Operations involving <code>filter()</code> or <code>slice()</code> in dplyr can be memory inefficient (on both data.frames and data.tables). <a href=\"http://stackoverflow.com/a/27520688/559784\">See this post</a>. </p>\n\n<blockquote>\n  <p>Note that <a href=\"http://stackoverflow.com/questions/27511604/dplyr-on-data-table-am-i-really-using-data-table/27520688#comment43492306_27520688\">Hadley's comment</a> talks about <em>speed</em> (that dplyr is plentiful fast for him), whereas the major concern here is <em>memory</em>.</p>\n</blockquote></li>\n<li><p>data.table interface at the moment allows one to modify/update columns <em>by reference</em> (note that we don't need to re-assign the result back to a variable).</p>\n\n<pre><code># sub-assign by reference, updates 'y' in-place\nDT[x &gt;= 1L, y := NA]\n</code></pre>\n\n<p>But dplyr <em>will never</em> update by reference. The dplyr equivalent would be (note that the result needs to be re-assigned):</p>\n\n<pre><code># copies the entire 'y' column\nans &lt;- DF %&gt;% mutate(y = replace(y, which(x &gt;= 1L), NA))\n</code></pre>\n\n<p>A concern for this is <a href=\"http://en.wikipedia.org/wiki/Referential_transparency_(computer_science)\"><em>referential transparency</em></a>. Updating a data.table object by reference, especially within a function may not be always desirable. But this is an incredibly useful feature: see <a href=\"http://stackoverflow.com/a/24070527/559784\">this</a> and <a href=\"http://stackoverflow.com/q/7235657/559784\">this</a> posts for interesting cases. And we want to keep it.</p>\n\n<p>Therefore we are working towards exporting <code>shallow()</code> function in data.table that will provide the user with <em>both possibilities</em>. For example, if it is desirable to not modify the input data.table within a function, one can then do:</p>\n\n<pre><code>foo &lt;- function(DT) {\n    DT = shallow(DT)          ## shallow copy DT\n    DT[, newcol := 1L]        ## does not affect the original DT \n    DT[x &gt; 2L, newcol := 2L]  ## no need to copy (internally), as this column exists only in shallow copied DT\n    DT[x &gt; 2L, x := 3L]       ## have to copy (like base R / dplyr does always); otherwise original DT will \n                              ## also get modified.\n}\n</code></pre>\n\n<p>By not using <code>shallow()</code>, the old functionality is retained:</p>\n\n<pre><code>bar &lt;- function(DT) {\n    DT[, newcol := 1L]        ## old behaviour, original DT gets updated by reference\n    DT[x &gt; 2L, x := 3L]       ## old behaviour, update column x in original DT.\n}\n</code></pre>\n\n<p>By creating a <em>shallow copy</em> using <code>shallow()</code>, we understand that you don't want to modify the original object. We take care of everything internally to ensure that while also ensuring to copy columns you modify <em>only when it is absolutely necessary</em>. When implemented, this should settle the <em>referential transparency</em> issue altogether while providing the user with both possibilties.</p>\n\n<blockquote>\n  <p>Also, once <code>shallow()</code> is exported dplyr's data.table interface should avoid almost all copies. So those who prefer dplyr's syntax can use it with data.tables.  </p>\n  \n  <p>But it will still lack many features that data.table provides, including (sub)-assignment by reference.</p>\n</blockquote></li>\n<li><p>Aggregate while joining:</p>\n\n<p>Suppose you have two data.tables as follows:</p>\n\n<pre><code>DT1 = data.table(x=c(1,1,1,1,2,2,2,2), y=c(\"a\", \"a\", \"b\", \"b\"), z=1:8, key=c(\"x\", \"y\"))\n#    x y z\n# 1: 1 a 1\n# 2: 1 a 2\n# 3: 1 b 3\n# 4: 1 b 4\n# 5: 2 a 5\n# 6: 2 a 6\n# 7: 2 b 7\n# 8: 2 b 8\nDT2 = data.table(x=1:2, y=c(\"a\", \"b\"), mul=4:3, key=c(\"x\", \"y\"))\n#    x y mul\n# 1: 1 a   4\n# 2: 2 b   3\n</code></pre>\n\n<p>And you would like to get <code>sum(z) * mul</code> for each row in <code>DT2</code> while joining by columns <code>x,y</code>. We can either:</p>\n\n<ul>\n<li><p>1) aggregate <code>DT1</code> to get <code>sum(z)</code>, 2) perform a join and 3) multiply (or)</p>\n\n<pre><code># data.table way\nDT1[, .(z=sum(z)), keyby=.(x,y)][DT2][, z := z*mul][]\n\n# dplyr equivalent\nDF1 %&gt;% group_by(x,y) %&gt;% summarise(z=sum(z)) %&gt;% \n    right_join(DF2) %&gt;% mutate(z=z*mul)\n</code></pre></li>\n<li><p>2) do it all in one go (using <code>by=.EACHI</code> feature):</p>\n\n<pre><code>DT1[DT2, list(z=sum(z) * mul), by=.EACHI]\n</code></pre></li>\n</ul>\n\n<p>What is the advantage?</p>\n\n<ul>\n<li><p>We don't have to allocate memory for the intermediate result.</p></li>\n<li><p>We don't have to group/hash twice (one for aggregation and other for joining).</p></li>\n<li><p>And more importantly, the operation what we wanted to perform is clear by looking at <code>j</code> in (2).</p></li>\n</ul>\n\n<p>Check <a href=\"http://stackoverflow.com/a/27004566/559784\">this post</a> for a detailed explanation of <code>by=.EACHI</code>. No intermediate results are materialised, and the join+aggregate is performed all in one go. </p>\n\n<p>Have a look at <a href=\"http://stackoverflow.com/a/27061800/559784\">this</a>, <a href=\"http://stackoverflow.com/a/26453795/559784\">this</a> and <a href=\"http://stackoverflow.com/q/27466284/559784\">this</a> posts for real usage scenarios.</p>\n\n<p>In <code>dplyr</code> you would have to <a href=\"https://gist.github.com/arunsrinivasan/b14441829e7f484fdf58\">join and aggregate or aggregate first and then join</a>, neither of which are as efficient, in terms of memory (which in turn translates to speed).</p></li>\n<li><p>Update and joins:</p>\n\n<p>Consider the data.table code shown below:</p>\n\n<pre><code>DT1[DT2, col := i.mul]\n</code></pre>\n\n<p>adds/updates <code>DT1</code>'s column <code>col</code> with <code>mul</code> from <code>DT2</code> on those rows where <code>DT2</code>'s key column matches <code>DT1</code>. I don't think there is an exact equivalent of this operation in <code>dplyr</code>, i.e., without avoiding a <code>*_join</code> operation, which would have to copy the entire <code>DT1</code> just to add a new column to it, which is unnecessary.</p>\n\n<p>Check <a href=\"http://stackoverflow.com/a/26720434/559784\">this post</a> for a real usage scenario. </p></li>\n</ol>\n\n<blockquote>\n  <p>To summarise, it is important to realise that every bit of optimisation matters. As <a href=\"http://en.wikipedia.org/wiki/Grace_Hopper\"><strong>Grace Hopper</strong></a> would say, <a href=\"http://highscalability.com/blog/2012/3/1/grace-hopper-to-programmers-mind-your-nanoseconds.html\"><strong>Mind your nanoseconds</strong></a>!</p>\n</blockquote>\n\n<h3>3. Syntax</h3>\n\n<p>Let's now look at <em>syntax</em>. Hadley commented <a href=\"https://news.ycombinator.com/item?id=8795778\">here</a>:</p>\n\n<blockquote>\n  <p>Data tables are extremely fast but I think their concision makes it <em>harder to learn</em> and <em>code that uses it is harder to read after you have written it</em> ...</p>\n</blockquote>\n\n<p>I find this remark pointless because it is very subjective. What we can perhaps try is to contrast <em>consistency in syntax</em>. We will compare data.table and dplyr syntax side-by-side. </p>\n\n<p>We will work with the dummy data shown below:</p>\n\n<pre><code>DT = data.table(x=1:10, y=11:20, z=rep(1:2, each=5))\nDF = as.data.frame(DT)\n</code></pre>\n\n<ol>\n<li><p>Basic aggregation/update operations. </p>\n\n<pre><code># case (a)\nDT[, sum(y), by=z]                       ## data.table syntax\nDF %&gt;% group_by(z) %&gt;% summarise(sum(y)) ## dplyr syntax\nDT[, y := cumsum(y), by=z]\nans &lt;- DF %&gt;% group_by(z) %&gt;% mutate(y = cumsum(y))\n\n# case (b)\nDT[x &gt; 2, sum(y), by=z]\nDF %&gt;% filter(x&gt;2) %&gt;% group_by(z) %&gt;% summarise(sum(y))\nDT[x &gt; 2, y := cumsum(y), by=z]\nans &lt;- DF %&gt;% group_by(z) %&gt;% mutate(y = replace(y, which(x&gt;2), cumsum(y)))\n\n# case (c)\nDT[, if(any(x &gt; 5L)) y[1L]-y[2L] else y[2L], by=z]\nDF %&gt;% group_by(z) %&gt;% summarise(if (any(x &gt; 5L)) y[1L]-y[2L] else y[2L])\nDT[, if(any(x &gt; 5L)) y[1L]-y[2L], by=z]\nDF %&gt;% group_by(z) %&gt;% filter(any(x &gt; 5L)) %&gt;% summarise(y[1L]-y[2L])\n</code></pre>\n\n<ul>\n<li><p>data.table syntax is compact and dplyr's quite verbose. Things are more or less equivalent in case (a). </p></li>\n<li><p>In case (b), we had to use <code>filter()</code> in dplyr while <em>summarising</em>. But while <em>updating</em>, we had to move the logic inside <code>mutate()</code>. In data.table however, we express both operations with the same logic - operate on rows where <code>x &gt; 2</code>, but in first case, get <code>sum(y)</code>, whereas in the second case update those rows for <code>y</code> with its cumulative sum.</p>\n\n<p>This is what we mean when we say the <code>DT[i, j, by]</code> form <em>is consistent</em>.</p></li>\n<li><p>Similarly in case (c), when we have <code>if-else</code> condition, we are able to express the logic <em>\"as-is\"</em> in both data.table and dplyr. However, if we would like to return just those rows where the <code>if</code> condition satisfies and skip otherwise, we cannot use <code>summarise()</code> directly (AFAICT). We have to <code>filter()</code> first and then summarise because <code>summarise()</code> always expects a <em>single value</em>. </p>\n\n<p>While it returns the same result, using <code>filter()</code> here makes the actual operation less obvious.</p>\n\n<p>It might very well be possible to use <code>filter()</code> in the first case as well (does not seem obvious to me), but my point is that we should not have to.</p></li>\n</ul></li>\n<li><p>Aggregation / update on multiple columns</p>\n\n<pre><code># case (a)\nDT[, lapply(.SD, sum), by=z]                     ## data.table syntax\nDF %&gt;% group_by(z) %&gt;% summarise_each(funs(sum)) ## dplyr syntax\nDT[, (cols) := lapply(.SD, sum), by=z]\nans &lt;- DF %&gt;% group_by(z) %&gt;% mutate_each(funs(sum))\n\n# case (b)\nDT[, c(lapply(.SD, sum), lapply(.SD, mean)), by=z]\nDF %&gt;% group_by(z) %&gt;% summarise_each(funs(sum, mean))\n\n# case (c)\nDT[, c(.N, lapply(.SD, sum)), by=z]     \nDF %&gt;% group_by(z) %&gt;% summarise_each(funs(n(), mean))\n</code></pre>\n\n<ul>\n<li><p>In case (a), the codes are more or less equivalent. data.table uses familiar base function <code>lapply()</code>, whereas <code>dplyr</code> introduces <code>*_each()</code> along with a bunch of functions to <code>funs()</code>. </p></li>\n<li><p>data.table's <code>:=</code> requires column names to be provided, whereas dplyr generates it automatically.</p></li>\n<li><p>In case (b), dplyr's syntax is relatively straightforward. Improving aggregations/updates on multiple functions is on data.table's list.</p></li>\n<li><p>In case (c) though, dplyr would return <code>n()</code> as many times as many columns, instead of just once. In data.table, all we need to do is to return a list in <code>j</code>. Each element of the list will become a column in the result. So, we can use, once again, the familiar base function <code>c()</code> to concatenate <code>.N</code> to a <code>list</code> which returns a <code>list</code>.</p></li>\n</ul>\n\n<blockquote>\n  <p>Note: Once again, in data.table, all we need to do is return a list in <code>j</code>. Each element of the list will become a column in result. You can use <code>c()</code>, <code>as.list()</code>, <code>lapply()</code>, <code>list()</code> etc... base functions to accomplish this, without having to learn any new functions.</p>\n  \n  <p>You will need to learn just the special variables - <code>.N</code> and <code>.SD</code> at least. The equivalent in dplyr are <code>n()</code> and <code>.</code></p>\n</blockquote></li>\n<li><p>Joins</p>\n\n<p>dplyr provides separate functions for each type of join where as data.table allows joins using the same syntax <code>DT[i, j, by]</code> (and with reason). It also provides an equivalent <code>merge.data.table()</code> function as an alternative.</p>\n\n<pre><code>setkey(DT1, x, y)\n\n# 1. normal join\nDT1[DT2]            ## data.table syntax\nleft_join(DT2, DT1) ## dplyr syntax\n\n# 2. select columns while join    \nDT1[DT2, .(z, i.mul)]\nleft_join(select(DT2, x,y,mul), select(DT1, x,y,z))\n\n# 3. aggregate while join\nDT1[DT2, .(sum(z)*i.mul), by=.EACHI]\nDF1 %&gt;% group_by(x, y) %&gt;% summarise(z=sum(z)) %&gt;% \n    inner_join(DF2) %&gt;% mutate(z = z*mul) %&gt;% select(-mul)\n\n# 4. update while join\nDT1[DT2, z := cumsum(z)*i.mul, by=.EACHI]\n??\n\n# 5. rolling join\nDT1[DT2, roll = -Inf]\n??\n\n# 6. other arguments to control output\nDT1[DT2, mult = \"first\"]\n??\n</code></pre>\n\n<ul>\n<li><p>Some might find a separate function for each joins much nicer (left, right, inner, anti, semi etc..), whereas as others might like data.table's <code>DT[i, j, by]</code>, or <code>merge()</code> which is similar to base R. </p></li>\n<li><p>However dplyr joins do just that. Nothing more. Nothing less. </p></li>\n<li><p>data.tables can select columns while joining (2), and in dplyr you will need to <code>select()</code> first on both data.frames before to join as shown above. Otherwise you would materialiase the join with unnecessary columns only to remove them later and that is inefficient.</p></li>\n<li><p>data.tables can <em>aggregate while joining</em> (3) and also <em>update while joining</em> (4), using <code>by=.EACHI</code> feature. Why materialse the entire join result to add/update just a few columns?</p></li>\n<li><p>data.table is capable of <em>rolling joins</em> (5) - roll <a href=\"http://stackoverflow.com/a/18915708/559784\">forward, LOCF</a>, <a href=\"http://stackoverflow.com/a/23342851/559784\">roll backward, NOCB</a>, <a href=\"http://stackoverflow.com/a/27763960/559784\">nearest</a>.</p></li>\n<li><p>data.table also has <code>mult=</code> argument which selects <em>first</em>, <em>last</em> or <em>all</em> matches (6).</p></li>\n<li><p>data.table has <a href=\"http://stackoverflow.com/a/23087759/559784\"><code>allow.cartesian=TRUE</code></a> argument to protect from accidental invalid joins.</p></li>\n</ul></li>\n</ol>\n\n<blockquote>\n  <p>Once again, the syntax is consistent with <code>DT[i, j, by]</code> with additional arguments allowing for controlling the output further.</p>\n</blockquote>\n\n<ol start=\"4\">\n<li><p><code>do()</code>...</p>\n\n<p>dplyr's summarise is specially designed for functions that return a single value. If your function returns multiple/unequal values, you will have to resort to <code>do()</code>. You have to know beforehand about all your functions return value. </p>\n\n<pre><code>DT[, list(x[1], y[1]), by=z]                 ## data.table syntax\nDF %&gt;% group_by(z) %&gt;% summarise(x[1], y[1]) ## dplyr syntax\nDT[, list(x[1:2], y[1]), by=z]\nDF %&gt;% group_by(z) %&gt;% do(data.frame(.$x[1:2], .$y[1]))\n\nDT[, quantile(x, 0.25), by=z]\nDF %&gt;% group_by(z) %&gt;% summarise(quantile(x, 0.25))\nDT[, quantile(x, c(0.25, 0.75)), by=z]\nDF %&gt;% group_by(z) %&gt;% do(data.frame(quantile(.$x, c(0.25, 0.75))))\n\nDT[, as.list(summary(x)), by=z]\nDF %&gt;% group_by(z) %&gt;% do(data.frame(as.list(summary(.$x))))\n</code></pre>\n\n<ul>\n<li><p><code>.SD</code>'s equivalent is <code>.</code></p></li>\n<li><p>In data.table, you can throw pretty much anything in <code>j</code> - the only thing to remember is for it to return a list so that each element of the list gets converted to a column.</p></li>\n<li><p>In dplyr, cannot do that. Have to resort to <code>do()</code> depending on how sure you are as to whether your function would always return a single value. And it is quite slow. </p></li>\n</ul></li>\n</ol>\n\n<blockquote>\n  <p>Once again, data.table's syntax is consistent with <code>DT[i, j, by]</code>. We can just keep throwing expressions in <code>j</code> without having to worry about these things.</p>\n</blockquote>\n\n<p>Have a look at <a href=\"http://stackoverflow.com/q/27695278/559784\">this SO question</a> and <a href=\"http://stackoverflow.com/q/16878905/559784\">this one</a>. I wonder if it would be possible to express the answer as straightforward using dplyr's syntax...</p>\n\n<blockquote>\n  <p>To summarise, I have particularly highlighted <em>several</em> instances where dplyr's syntax is either inefficient, limited or fails to make operations straightforward. This is particularly because data.table gets quite a bit of backlash about \"harder to read/learn\" syntax (like the one pasted/linked above). Most posts that cover dplyr talk about most straightforward operations. And that is great. But it is important to realise its syntax and feature limitations as well, and I am yet to see a post on it.</p>\n  \n  <p>data.table has its quirks as well (some of which I have pointed out that we are attempting to fix). We are also attempting to improve data.table's joins as I have highlighted <a href=\"http://stackoverflow.com/a/27615377/559784\">here</a>. </p>\n  \n  <p>But one should also consider the number of features that dplyr lacks in comparison to data.table.</p>\n</blockquote>\n\n<h3>4. Features</h3>\n\n<p>I have pointed out most of the features <a href=\"http://stackoverflow.com/a/27520688/559784\">here</a> and also in this post. In addition:</p>\n\n<ul>\n<li><p><strong>fread</strong> - fast file reader has been available for a long time now.</p></li>\n<li><p><strong>fwrite</strong> - NEW in the current devel, v1.9.7, a <em>parallelised</em> fast file writer is now available. See <a href=\"http://blog.h2o.ai/2016/04/fast-csv-writing-for-r/\">this post</a> for a detailed explanation on the implementation and <a href=\"https://github.com/Rdatatable/data.table/issues/1664\">#1664</a> for keeping track of further developments.</p></li>\n<li><p><a href=\"https://gist.github.com/arunsrinivasan/dacb9d1cac301de8d9ff\">Automatic indexing</a> - another handy feature to optimise base R syntax as is, internally.</p></li>\n<li><p><strong>Ad-hoc grouping</strong>: <code>dplyr</code> automatically sorts the results by grouping variables during <code>summarise()</code>, which may not be always desirable.</p></li>\n<li><p>Numerous advantages in data.table joins (for speed / memory efficiency and syntax) mentioned above.</p></li>\n<li><p><strong>Non-equi joins</strong>: is a NEW feature available from v1.9.7+. It allows joins using other operators <code>&lt;=, &lt;, &gt;, &gt;=</code> along with all other advantages of data.table joins.</p></li>\n<li><p><a href=\"https://github.com/Rdatatable/data.table/wiki/talks/EARL2014_OverlapRangeJoin_Arun.pdf\">Overlapping range joins</a> was implemented in data.table recently. Check <a href=\"http://stackoverflow.com/a/25655497/559784\">this post</a> for an overview with benchmarks. </p></li>\n<li><p><code>setorder()</code> function in data.table that allows really fast reordering of data.tables by reference.</p></li>\n<li><p>dplyr provides <a href=\"http://cran.r-project.org/web/packages/dplyr/vignettes/databases.html\">interface to databases</a> using the same syntax, which data.table does not at the moment.</p></li>\n<li><p><code>data.table</code> provides faster equivalents of <em>set operations</em> from v1.9.7+ (written by Jan Gorecki) - <em>fsetdiff()</em>, <em>fintersect()</em>, <em>funion()</em> and <em>fsetequal()</em> with additional <code>all</code> argument (as in SQL).</p></li>\n<li><p>data.table loads cleanly with no masking warnings and has a mechanism described <a href=\"http://stackoverflow.com/a/10529888/403310\">here</a> for <code>[.data.frame</code> compatibility when passed to any R package. dplyr changes base functions <code>filter</code>, <code>lag</code> and <code>[</code> which can cause problems; e.g. <a href=\"http://stackoverflow.com/a/35057612/403310\">here</a> and <a href=\"http://stackoverflow.com/a/35329418/403310\">here</a>.</p></li>\n</ul>\n\n<hr>\n\n<p>Finally:</p>\n\n<ul>\n<li><p>On databases - there is no reason why data.table cannot provide similar interface, but this is not a priority now. It might get bumped up if users would very much like that feature.. not sure.</p></li>\n<li><p>On parallelism - Everything is difficult, until someone goes ahead and does it. Of course it will take effort (being thread safe). </p>\n\n<ul>\n<li>Progress is being made currently (in v1.9.7 devel) towards parallelising known time consuming parts for incremental performance gains using <code>OpenMP</code>.</li>\n</ul></li>\n</ul>\n", "title": "data.table vs dplyr: can one do something well the other can&#39;t or does poorly?", "answer_id": 27718317, "question_id": 21435339, "tags": ["r", "data.table", "dplyr"]}, {"body": "<p>Here's my attempt at a comprehensive answer from the dplyr perspective,\nfollowing the broad outline of Arun's answer (but somewhat rearranged\nbased on differing priorities).</p>\n\n<h2>Syntax</h2>\n\n<p>There is some subjectivity to syntax, but I stand by my statement that\nthe concision of data.table makes it harder to learn and harder to read.\nThis is partly because dplyr is solving a much easier problem!</p>\n\n<p>One really important thing that dplyr does for you is that it\n<em>constrains</em> your options. I claim that most single table problems can\nbe solved with just five key verbs filter, select, mutate, arrange and\nsummarise, along with \"by group\" adverb. That constraint is big help\nwhen you're learning data manipulation, because it helps order your\nthinking about the problem. In dplyr, each of these verbs is mapped to a\nsingle function. Each function does one job, and is easy to understand\nin isolation.</p>\n\n<p>You create complexity by piping these simple operations together with\n<code>%&gt;%</code>. Here's an example from one of the posts Arun <a href=\"http://stackoverflow.com/questions/27511604/\">linked\nto</a>:</p>\n\n<pre><code>diamonds %&gt;%\n  filter(cut != \"Fair\") %&gt;%\n  group_by(cut) %&gt;%\n  summarize(\n    AvgPrice = mean(price),\n    MedianPrice = as.numeric(median(price)),\n    Count = n()\n  ) %&gt;%\n  arrange(desc(Count))\n</code></pre>\n\n<p>Even if you've never seen dplyr before (or even R!), you can still get\nthe gist of what's happening because the functions are all English\nverbs. The disadvantage of English verbs is that they require more typing than\n<code>[</code>, but I think that can be largely mitigated by better autocomplete.</p>\n\n<p>Here's the equivalent data.table code:</p>\n\n<pre><code>diamondsDT &lt;- data.table(diamonds)\ndiamondsDT[\n  cut != \"Fair\", \n  .(AvgPrice = mean(price),\n    MedianPrice = as.numeric(median(price)),\n    Count = .N\n  ), \n  by = cut\n][ \n  order(-Count) \n]\n</code></pre>\n\n<p>It's harder to follow this code unless you're already familiar with\ndata.table. (I also couldn't figure out how to indent the repeated <code>[</code>\nin a way that looks good to my eye). Personally, when I look at code I\nwrote 6 months ago, it's like looking at a code written by a stranger,\nso I've come to prefer straightforward, if verbose, code.</p>\n\n<p>Two other minor factors that I think slightly decrease readibility:</p>\n\n<ul>\n<li><p>Since almost every data table operation uses <code>[</code> you need additional\ncontext to figure out what's happening. For example, is <code>x[y]</code>\njoining two data tables or extracting columns from a data frame?\nThis is only a small issue, because in well-written code the\nvariable names should suggest what's happening.</p></li>\n<li><p>I like that <code>group_by()</code> is a separate operation in dplyr. It\nfundamentally changes the computation so I think should be obvious\nwhen skimming the code, and it's easier to spot <code>group_by()</code> than\nthe <code>by</code> argument to <code>[.data.table</code>.</p></li>\n</ul>\n\n<p>I also like that the <a href=\"https://github.com/smbache/magrittr\">the pipe</a>\nisn't just limited to just one package. You can start by tidying your\ndata with\n<a href=\"http://blog.rstudio.org/2014/07/22/introducing-tidyr/\">tidyr</a>, and\nfinish up with a plot in <a href=\"http://ggvis.rstudio.com\">ggvis</a>. And you're\nnot limited to the packages that I write - anyone can write a function\nthat forms a seamless part of a data manipulation pipe. In fact, I\nrather prefer the previous data.table code rewritten with <code>%&gt;%</code>:</p>\n\n<pre><code>diamonds %&gt;% \n  data.table() %&gt;% \n  .[cut != \"Fair\", \n    .(AvgPrice = mean(price),\n      MedianPrice = as.numeric(median(price)),\n      Count = .N\n    ), \n    by = cut\n  ] %&gt;% \n  .[order(-Count)]\n</code></pre>\n\n<p>And the idea of piping with <code>%&gt;%</code> is not limited to just data frames and\nis easily generalised to other contexts: <a href=\"http://rstudio.github.io/dygraphs/\">interactive web\ngraphics</a>, <a href=\"https://github.com/hadley/rvest\">web\nscraping</a>,\n<a href=\"https://github.com/ropensci/gistr\">gists</a>, <a href=\"https://github.com/smbache/ensurer\">run-time\ncontracts</a>, ...)</p>\n\n<h2>Memory and performance</h2>\n\n<p>I've lumped these together, because, to me, they're not that important.\nMost R users work with well under 1 million rows of data, and dplyr is\nsufficiently fast enough for that size of data that you're not aware of\nprocessing time. We optimise dplyr for expressiveness on medium data;\nfeel free to use data.table for raw speed on bigger data.</p>\n\n<p>The flexibilty of dplyr also means that you can easily tweak performance\ncharacteristcs using the same syntax. If the performance of dplyr with\nthe data frame backend is not good enough for you, you can use the\ndata.table backend (albeit a somewhat restricted set of functionality).\nIf the data you're working with doesn't fit in memory, then you can use\na database backend.</p>\n\n<p>All that said, dplyr performance will get better in the long-term. We'll\ndefinitely implement some of the great ideas of data.table like radix\nordering and using the same index for joins &amp; filters. We're also\nworking on parallelisation so we can take advantage of multiple cores.</p>\n\n<h2>Features</h2>\n\n<p>A few things that we're planning to work on in 2015:</p>\n\n<ul>\n<li><p>the fastread package, to make it easy to get files off disk and in\nto memory, analgous to <code>fread()</code>.</p></li>\n<li><p>More flexible joins, including support for non-equi-joins.</p></li>\n<li><p>More flexible grouping like bootstrap samples, rollups and more</p></li>\n</ul>\n\n<p>I'm also investing time into improving R's <a href=\"https://github.com/rstats-db/DBI\">database\nconnectors</a>, the ability to talk to\n<a href=\"https://github.com/hadley/httr\">web apis</a>, and making it easier to\n<a href=\"https://github.com/hadley/rvest\">scrape html pages</a>.</p>\n", "title": "data.table vs dplyr: can one do something well the other can&#39;t or does poorly?", "answer_id": 27840349, "question_id": 21435339, "tags": ["r", "data.table", "dplyr"]}], "question_id": 21435339}, {"body": "<p>We all know that <code>String</code> is immutable in Java, but check the following code:</p>\n\n<pre><code>String s1 = \"Hello World\";  \nString s2 = \"Hello World\";  \nString s3 = s1.substring(6);  \nSystem.out.println(s1); // Hello World  \nSystem.out.println(s2); // Hello World  \nSystem.out.println(s3); // World  \n\nField field = String.class.getDeclaredField(\"value\");  \nfield.setAccessible(true);  \nchar[] value = (char[])field.get(s1);  \nvalue[6] = 'J';  \nvalue[7] = 'a';  \nvalue[8] = 'v';  \nvalue[9] = 'a';  \nvalue[10] = '!';  \n\nSystem.out.println(s1); // Hello Java!  \nSystem.out.println(s2); // Hello Java!  \nSystem.out.println(s3); // World  \n</code></pre>\n\n<p>Why does this program operate like this? And why is the value of <code>s1</code> and <code>s2</code> changed, but not <code>s3</code>?</p>\n", "title": "Is a Java string really immutable?", "tags": ["java", "string", "reflection", "immutability"], "answer_count": 14, "link": "http://stackoverflow.com/questions/20945049/is-a-java-string-really-immutable", "answers": [{"body": "<p>You are using reflection to access the \"implementation details\" of string object. Immutability is the feature of the public interface of an object.</p>\n", "title": "Is a Java string really immutable?", "answer_id": 20945098, "question_id": 20945049, "tags": ["java", "string", "reflection", "immutability"]}, {"body": "<p>You are using reflection to circumvent the immutability of String - it's a form of \"attack\".</p>\n\n<p>There are lots of examples you can create like this (eg <a href=\"http://stackoverflow.com/questions/14060078/is-void-really-uninstantiable\">you can even instantiate a <code>Void</code> object</a> too), but it doesn't mean that String is not \"immutable\".</p>\n\n<p>There are use cases where this type of code may be used to your advantage and be \"good coding\", such as <a href=\"http://stackoverflow.com/questions/17151382/safely-using-string-for-passwords-by-using-reflection-to-scrub-contents-prior-to\">clearing passwords from memory at the earliest possible moment (before GC)</a>.</p>\n\n<p>Depending on the security manager, you may not be able to execute your code.</p>\n", "title": "Is a Java string really immutable?", "answer_id": 20945108, "question_id": 20945049, "tags": ["java", "string", "reflection", "immutability"]}, {"body": "<p><code>String</code> is immutable* but this only means you cannot change it using its public API. </p>\n\n<p>What you are doing here is circumventing the normal API, using reflection. The same way, you can change the values of enums, change the lookup table used in Integer autoboxing etc.</p>\n\n<p>Now, the reason <code>s1</code> and <code>s2</code> change value, is that they both refer to the same interned string. The compiler does this (as mentioned by other answers). </p>\n\n<p>The reason <code>s3</code> does <em>not</em> was actually a bit surprising to me, as I thought it would share the <code>value</code> array (<a href=\"http://java-performance.info/changes-to-string-java-1-7-0_06/\">it did in earlier version of Java</a>, before Java 7u6). However, looking at the source code of <code>String</code>, we can see that the <code>value</code> character array for a substring is actually copied (using <code>Arrays.copyOfRange(..)</code>). This is why it goes unchanged.</p>\n\n<p>You can install a <code>SecurityManager</code>, to avoid malicious code to do such things. But keep in mind that some libraries depend on using these kind of reflection tricks (typically ORM tools, AOP libraries etc).</p>\n\n<p>*) I initially wrote that <code>String</code>s aren't really immutable, just \"effective immutable\". This might be misleading in the current implementation of <code>String</code>, where the <code>value</code> array is indeed marked <code>private final</code>. It's still worth noting, though, that there is no way to declare an array in Java as immutable, so care must be taken not to expose it outside its class, even with the proper access modifiers.</p>\n\n<hr>\n\n<p>As this topic seems overwhelmingly popular, here's some suggested further reading: <a href=\"http://www.javaspecialists.eu/talks/oslo09/ReflectionMadness.pdf\">Heinz Kabutz's Reflection Madness talk</a> from JavaZone 2009, which covers a lot of the issues in the OP, along with other reflection... well... madness. </p>\n\n<p>It covers why this is sometimes useful. And why, most of the time, you should avoid it. :-)</p>\n", "title": "Is a Java string really immutable?", "answer_id": 20945113, "question_id": 20945049, "tags": ["java", "string", "reflection", "immutability"]}, {"body": "<p>String immutability is from the interface perspective. You are using reflection to bypass the interface and directly modify the internals of the String instances.</p>\n\n<p><code>s1</code> and <code>s2</code> are both changed because they are both assigned to the same \"intern\" String instance. You can find out a bit more about that part from <a href=\"http://javatechniques.com/blog/string-equality-and-interning/\">this article</a> about string equality and interning.  You might be surprised to find out that in your sample code, <code>s1 == s2</code> returns <code>true</code>!</p>\n", "title": "Is a Java string really immutable?", "answer_id": 20945157, "question_id": 20945049, "tags": ["java", "string", "reflection", "immutability"]}, {"body": "<p>Visibility modifiers and final (i.e. immutability) are not a measurement against malicious code in Java; they are merely tools to protect against mistakes and to make the code more maintainable (one of the big selling points of the system). That is why you can access internal implementation details like the backing char array for <code>String</code>s via reflection.</p>\n\n<p>The second effect you see is that all <code>String</code>s change while it looks like you only change <code>s1</code>. It is a certain property of Java String literals that they are automatically interned, i.e. cached. Two String literals with the same value will actually be the same object. When you create a String with <code>new</code> it will not be interned automatically and you will not see this effect.</p>\n\n<p><code>#substring</code> until recently (Java 7u6) worked in a similar way, which would have explained the behaviour in the original version of your question. It didn't create a new backing char array but reused the one from the original String; it just created a new String object that used an offset and a length to present only a part of that array. This generally worked as Strings are immutable - unless you circumvent that. This property of <code>#substring</code> also meant that the whole original String couldn't be garbage collected when a shorter substring created from it still existed.</p>\n\n<p>As of current Java and your current version of the question there is no strange behaviour of <code>#substring</code>.</p>\n", "title": "Is a Java string really immutable?", "answer_id": 20945259, "question_id": 20945049, "tags": ["java", "string", "reflection", "immutability"]}, {"body": "<p>In Java, if two string primitive variables are initialized to the same literal, it assigns the same reference to both variables:</p>\n\n<pre><code>String Test1=\"Hello World\";\nString Test2=\"Hello World\";\nSystem.out.println(test1==test2); // true\n</code></pre>\n\n<blockquote>\n  <p><img src=\"http://i.stack.imgur.com/WhdYU.png\" alt=\"initialization\"></p>\n</blockquote>\n\n<p>That is the reason the comparison returns true. The third string is created using <code>substring()</code> which makes a new string instead of pointing to the same.</p>\n\n<blockquote>\n  <p><img src=\"http://i.stack.imgur.com/AcNr9.png\" alt=\"sub string\"></p>\n</blockquote>\n\n<p>When you access a string using reflection, you get the actual pointer:</p>\n\n<pre><code>Field field = String.class.getDeclaredField(\"value\");\nfield.setAccessible(true);\n</code></pre>\n\n<p>So change to this will change the string holding a pointer to it, but as <code>s3</code> is created with a new string due to <code>substring()</code> it would not change.</p>\n\n<blockquote>\n  <p><img src=\"http://i.stack.imgur.com/Cv3m9.png\" alt=\"change\"></p>\n</blockquote>\n", "title": "Is a Java string really immutable?", "answer_id": 20945268, "question_id": 20945049, "tags": ["java", "string", "reflection", "immutability"]}, {"body": "<p>Which version of Java are you using? From Java 1.7.0_06, Oracle has changed the internal representation of String, especially the substring. </p>\n\n<p>Quoting from <a href=\"http://www.infoq.com/news/2013/12/Oracle-Tunes-Java-String\" rel=\"nofollow\" title=\"Oracle Tunes Java's Internal String Representation\">Oracle Tunes Java's Internal String Representation</a>:</p>\n\n<blockquote>\n  <p>In the new paradigm, the String offset and count fields have been removed, so substrings no longer share the underlying char [] value. </p>\n</blockquote>\n\n<p>With this change, it may happen without reflection (???).</p>\n", "title": "Is a Java string really immutable?", "answer_id": 20949917, "question_id": 20945049, "tags": ["java", "string", "reflection", "immutability"]}, {"body": "<p>According to the concept of pooling, all the String variables containing the same value will point to the same memory address. Therefore s1 and s2, both containing the same value of \u201cHello World\u201d, will point towards the same memory location (say M1).</p>\n\n<p>On the other hand, s3 contains \u201cWorld\u201d, hence it will point to a different memory allocation (say M2).</p>\n\n<p>So now what's happening is that the value of S1 is being changed (by using the char [ ] value). So the value at the memory location M1 pointed both by s1 and s2 has been changed.</p>\n\n<p>Hence as a result, memory location M1 has been modified which causes change in the value of s1 and s2.</p>\n\n<p>But the value of location M2 remains unaltered, hence s3 contains the same original value.</p>\n", "title": "Is a Java string really immutable?", "answer_id": 20950428, "question_id": 20945049, "tags": ["java", "string", "reflection", "immutability"]}, {"body": "<p>String is immutable, but through reflection you're allowed to change the String class. You've just redefined the String class as mutable in real-time. You could redefine methods to be public or private or static if you wanted.</p>\n", "title": "Is a Java string really immutable?", "answer_id": 20959594, "question_id": 20945049, "tags": ["java", "string", "reflection", "immutability"]}, {"body": "<p>There are really two questions here:</p>\n\n<ol>\n<li>Are strings really immutable?</li>\n<li>Why is s3 not changed?</li>\n</ol>\n\n<p>To point 1: Except for ROM there is no immutable memory in your computer. Nowadays even ROM is sometimes writable. There is always some code somewhere (whether it's the kernel or native code sidestepping your managed environment) that can write to your memory address. So, in \"reality\", no they are not <strong>absolutely</strong> immutable.</p>\n\n<p>To point 2: This is because substring is probably allocating a new string instance, which is likely copying the array. It is possible to implement substring in such a way that it won't do a copy, but that doesn't mean it does. There are tradeoffs involved.</p>\n\n<p>For example, should holding a reference to <code>reallyLargeString.substring(reallyLargeString.length - 2)</code> cause a large amount of memory to be held alive, or only a few bytes?</p>\n\n<p>That depends on how substring is implemented. A deep copy will keep less memory alive, but it will run slightly slower. A shallow copy will keep more memory alive, but it will be faster. Using a deep copy can also reduce heap fragmentation, as the string object and its buffer can be allocated in one block, as opposed to 2 separate heap allocations.</p>\n\n<p>In any case, it looks like your JVM chose to use deep copies for substring calls.</p>\n", "title": "Is a Java string really immutable?", "answer_id": 20968146, "question_id": 20945049, "tags": ["java", "string", "reflection", "immutability"]}, {"body": "<p>The reason s3 does not actually change is because in Java when you do a substring the value character array for a substring is internally copied (using Arrays.copyOfRange()).</p>\n\n<p>s1 and s2 are the same because in Java they both refer to the same interned string. It's by design in Java.</p>\n", "title": "Is a Java string really immutable?", "answer_id": 20972058, "question_id": 20945049, "tags": ["java", "string", "reflection", "immutability"]}, {"body": "<p>To add to the @haraldK's answer - this is a security hack which could lead to a serious impact in the app. </p>\n\n<p>First thing is a modification to a constant string stored in a String Pool. When string is declared as a <code>String s = \"Hello World\";</code>, it's being places into a special object pool for further potential reusing. The issue is that compiler will place a reference to the modified version at compile time and once the user modifies the string stored in this pool at runtime, all references in code will point to the modified version. This would result into a following bug:</p>\n\n<pre><code>System.out.println(\"Hello World\"); \n</code></pre>\n\n<p>Will print:</p>\n\n<pre><code>Hello Java!\n</code></pre>\n\n<p>There was another issue I experienced when I was implementing a heavy computation over such risky strings. There was a bug which happened in like 1 out of 1000000 times during the computation which made the result undeterministic. I was able to find the problem by switching off the JIT - I was always getting the same result with JIT turned off. My guess is that the reason was this String security hack which broke some of the JIT optimization contracts.</p>\n", "title": "Is a Java string really immutable?", "answer_id": 20974227, "question_id": 20945049, "tags": ["java", "string", "reflection", "immutability"]}, {"body": "<p>[Disclaimer this is a deliberately opinionated style of answer as I feel a more \"don't do this at home kids\" answer is warranted] </p>\n\n<p>The sin is the line <code>field.setAccessible(true);</code> which says to violate the public api by allowing access to a private field. Thats a giant security hole which can be locked down by configuring a security manager. </p>\n\n<p>The phenomenon in the question are implementation details which you would never see when not using that dangerous line of code to violate the access modifiers via reflection. Clearly two (normally) immutable strings can share the same char array. Whether a substring shares the same array depends on whether it can and whether the developer thought to share it. Normally these are invisible implementation details which you should not have to know unless you shoot the access modifier through the head with that line of code. </p>\n\n<p>It is simply not a good idea to rely upon such details which cannot be experienced without violating the access modifiers using reflection. The owner of that class only supports the normal public API and is free to make implementation changes in the future. </p>\n\n<p>Having said all that the line of code is really very useful when you have a gun held you your head forcing you to do such dangerous things. Using that back door is usually a code smell that you need to upgrade to better library code where you don't have to sin. Another common use of that dangerous line of code is to write a \"voodoo framework\" (orm, injection container, ...). Many folks get religious about such frameworks (both for and against them) so I will avoid inviting a flame war by saying nothing other than the vast majority of programmers don't have to go there. </p>\n", "title": "Is a Java string really immutable?", "answer_id": 21008747, "question_id": 20945049, "tags": ["java", "string", "reflection", "immutability"]}, {"body": "<p>Strings are created in permanent area of the JVM heap memory. So yes, it's really immutable and cannot be changed after being created.\nBecause in the JVM, there are three types of heap memory:\n 1. Young generation\n 2. Old generation\n 3. Permanent generation.</p>\n\n<p>When any object are created, it goes into the young generation heap area and PermGen area reserved for String pooling.</p>\n\n<p>Here is more detail you can go and grab more information from:\n<em><a href=\"http://javarevisited.blogspot.com/2011/04/garbage-collection-in-java.html#more\" rel=\"nofollow\">How Garbage Collection works in Java </a></em>.</p>\n", "title": "Is a Java string really immutable?", "answer_id": 36216059, "question_id": 20945049, "tags": ["java", "string", "reflection", "immutability"]}], "question_id": 20945049}, {"body": "<p>Our (PHP) framework sometimes renders hidden inputs with value <code>YTowOnt9</code>. I can't find that string anywhere in the (huge) codebase, and can't figure out where it came from. I decided to Google for that particular string, and the <a href=\"https://www.google.com/?q=%22YTowOnt9%22#q=%22YTowOnt9%22\">result</a> surprised me. Over half a million - kind of random - hits. I haven't found any page describing the value itself. It has 0 hits on Stack&nbsp;Overflow. </p>\n\n<p>Is <code>YTowOnt9</code> some kind of magic string?</p>\n", "title": "What is &#39;YTowOnt9&#39;?", "tags": ["php", "html", "web", "output"], "answer_count": 1, "link": "http://stackoverflow.com/questions/23223292/what-is-ytowont9", "answers": [{"body": "<p>It seems to be a <a href=\"http://en.wikipedia.org/wiki/PHP\">PHP</a>-serialized empty array, base 64 encoded.</p>\n\n<pre><code>$ base64 -D &lt;&lt;&lt; 'YTowOnt9'\na:0:{}\n$ php -r 'var_dump(unserialize(base64_decode(\"YTowOnt9\")));'\narray(0) {\n}\n</code></pre>\n\n<p>There are many scripts that serialize arrays of data. When the arrays have data, they vary greatly, so the <a href=\"http://en.wikipedia.org/wiki/Base64\">Base64</a> encoded PHP-serialized values do too, but when they are empty they are all the same. It makes it look as if a lot of very different PHP scripts have this random string in common.</p>\n", "title": "What is &#39;YTowOnt9&#39;?", "answer_id": 23223602, "question_id": 23223292, "tags": ["php", "html", "web", "output"]}], "question_id": 23223292}, {"body": "<p>I am developing an application, and everytime I run it, I get the message:</p>\n\n<blockquote>\n  <p>Unfortunately, MyApp has stopped.</p>\n</blockquote>\n\n<p>What can I do to solve this?</p>\n\n<hr/>\n\n<p><em>About this question - obviously inspired by <a href=\"http://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors\">What is a stack trace, and how can I use it to debug my application errors?</a>, there are lots of questions stating that their application has crashed, without any further detail. This question aims to instruct novice Android programmers on how to try and fix their problems themselves, or ask the right questions.</em></p>\n", "title": "Unfortunately MyApp has stopped. How can I solve this?", "tags": ["java", "android"], "answer_count": 12, "link": "http://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this", "answers": [{"body": "<p><em>This answer describes the process of retrieving the stack trace. Already have the stack trace? Read up on stack traces in \"<a href=\"http://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors\">What is a stack trace, and how can I use it to debug my application errors?</a>\"</em></p>\n\n<h1>The Problem</h1>\n\n<p>Your application quit because an uncaught <code>RuntimeException</code> was thrown.<br>\nThe most common of these is the <code>NullPointerException</code>.</p>\n\n<h1>How to solve it?</h1>\n\n<p>Every time an Android application crashes (or any Java application for that matter), a <code>Stack trace</code> is written to the console (in this case, logcat). This stack trace contains vital information for solving your problem.</p>\n\n<h2>Android Studio</h2>\n\n<p><img src=\"http://i.stack.imgur.com/ZL3Y8.png\" alt=\"Finding the stack trace in Android Studio\"></p>\n\n<p>In the bottom bar of the window, click on the <code>Android</code> button. Alternatively, you can press <kbd>alt</kbd>+<kbd>6</kbd>. Make sure your emulator or device is selected in the <code>Devices</code> panel. Next, try to find the stack trace, which is shown in red. There may be a lot of stuff logged into logcat, so you may need to scroll a bit. An easy way to find the stack trace is to clear the logcat (using the recycle bin on the right), and let the app crash again.</p>\n\n<h2>Eclipse</h2>\n\n<p><img src=\"http://i.stack.imgur.com/6qdhO.png\" alt=\"Finding the stack trace in Eclipse\"></p>\n\n<p>In the top right corner, click the <code>DDMS</code> button. If it is not there, you might need to add it first using the <code>Open Perspective</code> button to the left of the <code>Java</code> button. You will find the logcat pane at the bottom. First, make sure your device is selected in the topleft <code>devices</code> panel. Next, try to find the stack trace, which is shown in red. Again, there may be a lot of stuff logged into logcat, so you may need to scroll a bit. An easy way to find the stack trace here is to clear the logcat (using the <code>clear log</code> button on the top right), and let the app crash again. You should also click on the package name of your app, if it is not already selected. This will filter out only the log message made by your app.</p>\n\n<h1>I have found the stack trace, now what?</h1>\n\n<p>Yay! You're halfway to solving your problem.<br>\nYou only need to find out what exactly made your application crash, by analyzing the stack trace.</p>\n\n<p>Read up on stack traces in \"<a href=\"http://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors\">What is a stack trace, and how can I use it to debug my application errors?</a>\"</p>\n\n<h1>I still can't solve my problem!</h1>\n\n<p>If you've found your <code>Exception</code> and the line where it occurred, and still cannot figure out how to fix it, don't hesitate to ask a question on StackOverflow.  </p>\n\n<p>Try to be as concise as possible: post the stack trace, and the <em>relevant</em> code (e.g. a few lines up to the line which threw the <code>Exception</code>).</p>\n", "title": "Unfortunately MyApp has stopped. How can I solve this?", "answer_id": 23353174, "question_id": 23353173, "tags": ["java", "android"]}, {"body": "<p>First you check which point your app has crashed (<code>Unfortunately, MyApp has stopped.</code>). For this you can use <code>Log.e(\"TAG\",\"Message\");</code>, using this line you can see you app log in logcat.</p>\n\n<p>After that you find which point your app has stopped its very easy to solve at your side. </p>\n", "title": "Unfortunately MyApp has stopped. How can I solve this?", "answer_id": 29116807, "question_id": 23353173, "tags": ["java", "android"]}, {"body": "<p>You can also get this error message on its own, without any stack trace or any further error message.</p>\n\n<p>In this case you need to make sure your Android manifest is configured correctly (including any manifest merging happening from a library and any activity that would come from a library), and pay particular attention to the first activity displayed in your application in your manifest files.</p>\n", "title": "Unfortunately MyApp has stopped. How can I solve this?", "answer_id": 29192526, "question_id": 23353173, "tags": ["java", "android"]}, {"body": "<p>You can use Google's ADB tool to get Logcat file to analyze the issue.</p>\n\n<pre><code>adb logcat &gt; logcat.txt\n</code></pre>\n\n<p>open logcat.txt file and search for your application name. There should be information why it failed,The Line number ,Class name and ...</p>\n", "title": "Unfortunately MyApp has stopped. How can I solve this?", "answer_id": 29200956, "question_id": 23353173, "tags": ["java", "android"]}, {"body": "<p>Just check the error in log cat. </p>\n\n<p>You get the log cat option from in eclipse:</p>\n\n<blockquote>\n  <p>window->show view->others->Android->Logcat</p>\n</blockquote>\n\n<p>Log cat contains error.</p>\n\n<p>Other wise you can also check the error by executing an application in debug mode.\nFirstly set breakpoint after that by doing:</p>\n\n<blockquote>\n  <p>right click on project->debug as->Android application</p>\n</blockquote>\n", "title": "Unfortunately MyApp has stopped. How can I solve this?", "answer_id": 30778896, "question_id": 23353173, "tags": ["java", "android"]}, {"body": "<p>check your logcat message. \nand see your menifest file. there should be something missing like defining the activity, user permission, etc.</p>\n", "title": "Unfortunately MyApp has stopped. How can I solve this?", "answer_id": 31114928, "question_id": 23353173, "tags": ["java", "android"]}, {"body": "<p>You have to check the <code>Stack trace</code></p>\n\n<p><strong>How to do that?</strong></p>\n\n<p>on Your IDE Check the windows form LOGCAT </p>\n\n<p>If you cant see the logcat windows go to this path and open it </p>\n\n<pre><code>window-&gt;show view-&gt;others-&gt;Android-&gt;Logcat\n</code></pre>\n\n<p>if you are using Google-Api go to this path </p>\n\n<p><em>adb logcat > logcat.txt</em></p>\n", "title": "Unfortunately MyApp has stopped. How can I solve this?", "answer_id": 31378800, "question_id": 23353173, "tags": ["java", "android"]}, {"body": "<p>You can use any of these tools:</p>\n\n<blockquote>\n  <ol>\n  <li><p>adb logcat</p></li>\n  <li><p>adb logcat > logs.txt (you can use editors to open and search errors.)</p></li>\n  <li><p>eclipse logcat (If not visible in eclipse, Go to Windows->Show View->Others->Android->LogCat)</p></li>\n  <li>Android Debug Monitor or Android Device Monitor(type command <strong>monitor</strong> or open through UI)</li>\n  </ol>\n</blockquote>\n\n<p><a href=\"http://i.stack.imgur.com/4RoQc.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/4RoQc.png\" alt=\"enter image description here\"></a></p>\n\n<blockquote>\n  <ol start=\"5\">\n  <li>Android Studio</li>\n  </ol>\n</blockquote>\n\n<p>I suggest to use <strong>Android Debug Monitor</strong>, it is good. Because eclipse hangs when too many logs are there, and through adb logcat filter and all difficult.</p>\n", "title": "Unfortunately MyApp has stopped. How can I solve this?", "answer_id": 33492207, "question_id": 23353173, "tags": ["java", "android"]}, {"body": "<p>Use the <strong>LogCat</strong> and try to find what is causing the app to crash.</p>\n\n<p>To see Logcat if you use <strong>Android Studio</strong> then Press <strong>ALT + 6</strong>\nor</p>\n\n<p>if you use <strong>Eclipse</strong> then \n<strong>Window -> Open Perspective -> Other - LogCat</strong> </p>\n\n<p>Go to the LogCat, from the drop down menu select error. This will contain all the required information to help you debug. If that doesn't help, post the LogCat as an edit to your question and somebody will help you out.</p>\n", "title": "Unfortunately MyApp has stopped. How can I solve this?", "answer_id": 37235752, "question_id": 23353173, "tags": ["java", "android"]}, {"body": "<p>Let me share a basic Logcat analysis for when you meet a Force Close (when app stops working).</p>\n\n<p><strong>DOCS</strong></p>\n\n<p>Basic tool from Android to collect/analyse logs is the logcat. </p>\n\n<p><a href=\"https://developer.android.com/studio/command-line/logcat.html\" rel=\"nofollow\">HERE</a> is the Android's page about logcat</p>\n\n<p>If you use android Studio, you can also check this <a href=\"https://developer.android.com/studio/debug/index.html#systemLogView\" rel=\"nofollow\">LINK</a>.</p>\n\n<p><strong>Capturing</strong></p>\n\n<p>Basically, you can MANUALLY capture logcat with following command (or just check AndroidMonitor window in AndroidStudio):</p>\n\n<pre><code>adb logcat\n</code></pre>\n\n<p>There's a lot of parameters you can add to command which helps you to filter and display the message that you want... This is personal...  I always use the command below to get the message timestamp:</p>\n\n<pre><code>adb logcat -v time\n</code></pre>\n\n<p>You can redirect the output to a file and analyze it in a Text Editor.</p>\n\n<p><strong>Analyzing</strong></p>\n\n<p>If you app is Crashing, you'll get something like:</p>\n\n<pre><code>07-09 08:29:13.474 21144-21144/com.example.khan.abc D/AndroidRuntime: Shutting down VM\n07-09 08:29:13.475 21144-21144/com.example.khan.abc E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.khan.abc, PID: 21144\n    java.lang.NullPointerException: Attempt to invoke virtual method 'void android.support.v4.app.FragmentActivity.onBackPressed()' on a null object reference\n     at com.example.khan.abc.AudioFragment$1.onClick(AudioFragment.java:125)\n     at android.view.View.performClick(View.java:4848)\n     at android.view.View$PerformClick.run(View.java:20262)\n     at android.os.Handler.handleCallback(Handler.java:815)\n     at android.os.Handler.dispatchMessage(Handler.java:104)\n     at android.os.Looper.loop(Looper.java:194)\n     at android.app.ActivityThread.main(ActivityThread.java:5631)\n     at java.lang.reflect.Method.invoke(Native Method)\n     at java.lang.reflect.Method.invoke(Method.java:372)\n     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:959)\n     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:754)\n07-09 08:29:15.195 21144-21144/com.example.khan.abc I/Process: Sending signal. PID: 21144 SIG: 9\n</code></pre>\n\n<p>This part of the log shows you a lot of information:</p>\n\n<ul>\n<li>When the issue happened: <code>07-09 08:29:13.475</code></li>\n</ul>\n\n<p>It is important to check when the issue happened... You may find several errors in a log... you must be sure that you are checking the proper messages :)</p>\n\n<ul>\n<li>Which app crashed: <code>com.example.khan.abc</code></li>\n</ul>\n\n<p>This way, you know which app crashed (to be sure that you are checking the logs about your message)</p>\n\n<ul>\n<li>Which ERROR: <code>java.lang.NullPointerException</code></li>\n</ul>\n\n<p>A NULL Pointer Exception error</p>\n\n<ul>\n<li>Detailed info about the error: <code>Attempt to invoke virtual method 'void android.support.v4.app.FragmentActivity.onBackPressed()' on a null object reference</code></li>\n</ul>\n\n<p>You tried to call method <code>onBackPressed()</code> from a <code>FragmentActivity</code> object. However, that object was <code>null</code> when you did it.</p>\n\n<ul>\n<li><p>Stack Trace: Stack Trace shows you the method invocation order... Sometimes, the error happens in the calling method (and not in the called method).</p>\n\n<p>at com.example.khan.abc.AudioFragment$1.onClick(AudioFragment.java:125)</p></li>\n</ul>\n\n<p>Error happened in file <code>com.example.khan.abc.AudioFragment.java</code>, inside <code>onClick()</code> method at line: <code>125</code> (stacktrace shows the line that error happened)</p>\n\n<p>It was called by:</p>\n\n<pre><code>at android.view.View.performClick(View.java:4848)\n</code></pre>\n\n<p>Which was called by:</p>\n\n<pre><code>at android.view.View$PerformClick.run(View.java:20262)\n</code></pre>\n\n<p>which was called by:</p>\n\n<pre><code>at android.os.Handler.handleCallback(Handler.java:815)\n</code></pre>\n\n<p>etc....</p>\n\n<p><strong>Overview</strong></p>\n\n<p>This was just an overview... Not all logs are simple etc... It is just to share the idea and provide a entry-level information to you... </p>\n\n<p>I hope I could help you someway...\nRegards</p>\n", "title": "Unfortunately MyApp has stopped. How can I solve this?", "answer_id": 38364939, "question_id": 23353173, "tags": ["java", "android"]}, {"body": "<p>Don't forget to add your all activity name in manifest file...\nand run the project again.</p>\n\n<p>i hope this may help you.</p>\n", "title": "Unfortunately MyApp has stopped. How can I solve this?", "answer_id": 38523370, "question_id": 23353173, "tags": ["java", "android"]}, {"body": "<p><strong>Alternative Solution for Unfortunately App has stopped.</strong></p>\n\n<p>[![enter image description here][1]][1]</p>\n\n<p>We get this message whenever our <strong>App forced closed by any exceptions</strong> that is <strong>not handled</strong> in android or in our application.</p>\n\n<p>So we just need to take care of it when we are writing the code that will save a lots of time in tracking any type of exceptions in android.</p>\n\n<p><strong>Steps to track the exceptions in App :-</strong> </p>\n\n<p><strong>1.Open the Logcat and view the Exception.</strong></p>\n\n<p>If you cant see the logcat windows go to this path and open it</p>\n\n<pre><code>window-&gt;show view-&gt;others-&gt;Android-&gt;Logcat \n</code></pre>\n\n<p>We Use the LogCat and try to find, what is causing the app to crash.</p>\n\n<p><strong>2. Try to handle the exception</strong> which is shown in the logcat, and also check the other case's which may cause the exception .</p>\n\n<p><strong>3.</strong> <strong>Add an Uncaught Exception Handler</strong> in your Application to haldle all other exception . </p>\n\n<p><strong>I).Create a class MyExceptionHandler which implementsThread.UncaughtExceptionHandler</strong> </p>\n\n<pre><code>public class MyExceptionHandler implements\n    Thread.UncaughtExceptionHandler {\nprivate final Context myContext;\nprivate final Class&lt;?&gt; myActivityClass;\n\npublic MyExceptionHandler(Context context, Class&lt;?&gt; c) {\n\n    myContext = context;\n    myActivityClass = c;\n}\n\npublic void uncaughtException(Thread thread, Throwable exception) {\n    StringWriter stackTrace = new StringWriter();\n    exception.printStackTrace(new PrintWriter(stackTrace));\n    System.err.println(stackTrace);\n    // You can use LogCat too\n    Intent intent = new Intent(myContext, myActivityClass);\n    myContext.startActivity(intent);\n    //for restarting the Activity\n    Process.killProcess(Process.myPid());\n    System.exit(0);\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>II).Handle exception in any class or activity or fragment.</strong></p>\n\n<pre><code>//We need to Caught the Unwanted exception whihc is not handled by Android:\n  Thread.setDefaultUncaughtExceptionHandler(new MyExceptionHandler(this, SplashScreen.class));\n</code></pre>\n\n<p>It will restart the same Activity again if the app got crashed.</p>\n", "title": "Unfortunately MyApp has stopped. How can I solve this?", "answer_id": 38823591, "question_id": 23353173, "tags": ["java", "android"]}], "question_id": 23353173}, {"body": "<p>NodeJS interpreter name(<code>node</code>) on Ubuntu has been renamed to <code>nodejs</code> because of name conflict with another package. Here's what the readme.debian says:</p>\n\n<blockquote>\n  <p>The upstream name for the Node.js interpreter command is \"node\".\n    In Debian the interpreter command has been changed to \"nodejs\".</p>\n  \n  <p>This was done to prevent a namespace collision: other commands use\n    the same name in their upstreams, such as ax25-node from the \"node\"\n    package.</p>\n  \n  <p>Scripts calling Node.js as a shell command must be changed to instead\n    use the \"nodejs\" command.</p>\n</blockquote>\n\n<p>However, using nodejs mucks up installing packages using <code>npm</code>. Package installation fails with the following error:</p>\n\n<pre><code>sh: 1: node: not found\nnpm WARN This failure might be due to the use of legacy binary \"node\"\nnpm WARN For further explanations, please read /usr/share/doc/nodejs/README.Debian\n</code></pre>\n\n<p>How do I make npm understand that nodejs is already installed on the system but the interpreter name is different?</p>\n", "title": "Cannot install packages using node package manager in Ubuntu", "tags": ["node.js", "ubuntu", "npm"], "answer_count": 11, "link": "http://stackoverflow.com/questions/21168141/cannot-install-packages-using-node-package-manager-in-ubuntu", "answers": [{"body": "<p>Try linking node to nodejs. First find out where nodejs is</p>\n\n<pre><code>whereis nodejs\n</code></pre>\n\n<p>Then soft link node to nodejs</p>\n\n<pre><code>ln -s [the path of nodejs] /usr/bin/node \n</code></pre>\n\n<p>I am assuming /usr/bin is in your execution path. Then you can test by typing node or npm into your command line, and everything should work now.</p>\n", "title": "Cannot install packages using node package manager in Ubuntu", "answer_id": 21168305, "question_id": 21168141, "tags": ["node.js", "ubuntu", "npm"]}, {"body": "<p>TL;DR:</p>\n\n<pre><code>sudo apt-get install nodejs-legacy\n</code></pre>\n\n<hr>\n\n<p>First of all let me clarify the situation a bit. In summer 2012 Debian maintainers decided to rename Node.js executable to prevent some kind of namespace collision with another package. It was very hard decision for Debian Technical Committee, because it breaks backward compatibility.</p>\n\n<p>The following is a quote from Committee resolution draft, published in Debian <a href=\"http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=614907#108\">mailing list</a>:</p>\n\n<blockquote>\n  <ol>\n  <li><p>The nodejs package shall be changed to provide /usr/bin/nodejs, not    /usr/bin/node.  The package should declare a Breaks: relationship with\n  any packages in Debian that reference /usr/bin/node.</p></li>\n  <li><p>The nodejs source package shall also provide a nodejs-legacy binary    package at Priority: extra that contains /usr/bin/node as a symlink to\n  /usr/bin/nodejs.  No package in the archive may depend on or recommend\n  the nodejs-legacy package, which is provided solely for upstream<br>\n  compatibility.  This package declares shall also declare a Conflicts: \n  relationship with the node package.</p></li>\n  </ol>\n  \n  <p>&lt;...></p>\n</blockquote>\n\n<p>Paragraph 2 is the actual solution for OP's issue. OP should try to install this package instead of doing symlink by hand. Here is a link to this package in Debian package index <a href=\"http://packages.debian.org/sid/nodejs-legacy\">website</a>.</p>\n\n<p>It can be installed using <code>sudo apt-get install nodejs-legacy</code>.</p>\n\n<p>I have not found any information about adopting the whole thing by NPM developers, but I think <code>npm</code> package will be fixed on some point and <code>nodejs-legacy</code> become really legacy.</p>\n", "title": "Cannot install packages using node package manager in Ubuntu", "answer_id": 21171188, "question_id": 21168141, "tags": ["node.js", "ubuntu", "npm"]}, {"body": "<p>You can also install Nodejs using <strong>NVM</strong> or <em>Nodejs Version Manager</em> There are a lot of <a href=\"http://blog.romanliutikov.com/post/89681066018/tip-use-nvm-to-manage-multiple-node-js-versions\">benefits</a> to using a version manager. One of them being you don't have to worry about this issue. </p>\n\n<p><br></p>\n\n<h1>Instructions:</h1>\n\n<p><br></p>\n\n<pre><code>sudo apt-get update\nsudo apt-get install build-essential libssl-dev\n</code></pre>\n\n<p>Once the prerequisite packages are installed, you can pull down the nvm installation script from the project's GitHub page. The version number may be different, but in general, you can download and install it with the following syntax:</p>\n\n<pre><code>curl https://raw.githubusercontent.com/creationix/nvm/v0.16.1/install.sh | sh\n</code></pre>\n\n<p>This will download the script and run it. It will install the software into a subdirectory of your home directory at <code>~/.nvm</code>. It will also add the necessary lines to your <code>~/.profile</code> file to use the file.</p>\n\n<p>To gain access to the nvm functionality, you'll need to log out and log back in again, or you can source the ~/.profile file so that your current session knows about the changes:</p>\n\n<pre><code>source ~/.profile\n</code></pre>\n\n<p>Now that you have nvm installed, you can install isolated Node.js versions.</p>\n\n<p>To find out the versions of Node.js that are available for installation, you can type:</p>\n\n<pre><code>nvm ls-remote\n. . .\n\nv0.11.10\nv0.11.11\nv0.11.12\nv0.11.13\nv0.11.14\n</code></pre>\n\n<p>As you can see, the newest version at the time of this writing is v0.11.14. You can install that by typing:</p>\n\n<pre><code>nvm install 0.11.14\n</code></pre>\n\n<p>Usually, nvm will switch to use the most recently installed version. You can explicitly tell nvm to use the version we just downloaded by typing:</p>\n\n<pre><code>nvm use 0.11.14\n</code></pre>\n\n<p>When you install Node.js using nvm, the executable is called node. You can see the version currently being used by the shell by typing:</p>\n\n<pre><code>node -v\n</code></pre>\n\n<p>The comeplete tutorial can be found <a href=\"https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-an-ubuntu-14-04-server\">here</a></p>\n", "title": "Cannot install packages using node package manager in Ubuntu", "answer_id": 26895690, "question_id": 21168141, "tags": ["node.js", "ubuntu", "npm"]}, {"body": "<p>I fixed it unlinking /usr/sbin/node (which is linked to ax25-node package), then I have create a link to nodejs using this on command line</p>\n\n<pre><code>sudo ln -s /usr/bin/nodejs /usr/bin/node\n</code></pre>\n\n<p>Because package such as karma doesn't work with nodejs name, however changing the first line of karma script from node to nodejs, but I prefer resolve this issue once and for all</p>\n", "title": "Cannot install packages using node package manager in Ubuntu", "answer_id": 31905055, "question_id": 21168141, "tags": ["node.js", "ubuntu", "npm"]}, {"body": "<p>For me the fix was removing the node* packages and also the npm packages.</p>\n\n<p>Then a fresh install as:</p>\n\n<pre><code>sudo apt-get install autoclean\nsudo apt-get install nodejs-legacy\nnpm install\n</code></pre>\n", "title": "Cannot install packages using node package manager in Ubuntu", "answer_id": 32009077, "question_id": 21168141, "tags": ["node.js", "ubuntu", "npm"]}, {"body": "<p>Here's another approach I use since I like <a href=\"https://www.npmjs.com/package/n\" rel=\"nofollow\">n</a> for easy switching between node versions.</p>\n\n<p>On a new Ubuntu system, first install the 'system' node:</p>\n\n<pre><code>curl -sL https://deb.nodesource.com/setup | sudo bash -\n</code></pre>\n\n<p>Then install <em>n</em> module globally:</p>\n\n<pre><code>npm install -g n\n</code></pre>\n\n<p>Since the system node was installed first (above), the alternatives system can be used to cleanly point to the node provided by <em>n</em>. First make sure the alternatives system has nothing for node:</p>\n\n<pre><code>update-alternatives --remove-all node\n</code></pre>\n\n<p>Then add the node provided by <em>n</em>:</p>\n\n<pre><code>update-alternatives --install /usr/bin/node node /usr/local/bin/node 1\n</code></pre>\n\n<p>Next add node provided by the system (the one that was installed with curl):</p>\n\n<pre><code>update-alternatives --install /usr/bin/node node /usr/bin/nodejs 2\n</code></pre>\n\n<p>Now select the node provided by <em>n</em> using the interactive menu (select <code>/usr/local/bin/node</code> from the menu presented by the following command):</p>\n\n<pre><code>update-alternatives --config node\n</code></pre>\n\n<p>Finally, since <code>/usr/local/bin</code> usually has a higher precedence in PATH than <code>/usr/bin</code>, the following alias must be created (enter in your .bashrc or .zshrc) if the alternatives system node is to be effective; otherwise the node installed with <em>n</em> in /usr/local/bin takes always precedence:</p>\n\n<pre><code>alias node='/usr/bin/node'\n</code></pre>\n\n<p>Now you can easily switch between node versions with <code>n &lt;desired node version number&gt;</code>.</p>\n", "title": "Cannot install packages using node package manager in Ubuntu", "answer_id": 34034792, "question_id": 21168141, "tags": ["node.js", "ubuntu", "npm"]}, {"body": "<p>you can create a link <code>ln -s nodejs</code> node in <code>/usr/bin</code>\nhope this solves your problem.</p>\n", "title": "Cannot install packages using node package manager in Ubuntu", "answer_id": 34661947, "question_id": 21168141, "tags": ["node.js", "ubuntu", "npm"]}, {"body": "<p>On Linux Mint 17, I tried both solutions (creating a symlink or using the <code>nodejs-legacy</code> package) without success. </p>\n\n<p>The only thing  that finally worked for me was using the ppa from Chris Lea: </p>\n\n<pre><code>sudo apt-get purge node-*\nsudo apt-get autoremove \nsudo add-apt-repository ppa:chris-lea/node.js\nsudo apt-get update\nsudo apt-get install nodejs\n</code></pre>\n\n<p>This installed node version 10.37 and npm 1.4.28. After that, I could install packages globally. </p>\n", "title": "Cannot install packages using node package manager in Ubuntu", "answer_id": 35305026, "question_id": 21168141, "tags": ["node.js", "ubuntu", "npm"]}, {"body": "<pre><code>sudo apt-get --purge remove node\nsudo apt-get --purge remove nodejs-legacy\nsudo apt-get --purge remove nodejs\n\nsudo apt-get install nodejs-legacy\nsource ~/.profile\n</code></pre>\n\n<p>Combined the accepted answer with <code>source ~/.profile</code> from the comment that has been folded and some clean up commands before. Most likely you will also need to <code>sudo apt-get install npm</code> after.</p>\n", "title": "Cannot install packages using node package manager in Ubuntu", "answer_id": 35858630, "question_id": 21168141, "tags": ["node.js", "ubuntu", "npm"]}, {"body": "<p>Uninstall whatever node version you have</p>\n\n<pre><code>sudo apt-get --purge remove node\nsudo apt-get --purge remove nodejs-legacy\nsudo apt-get --purge remove nodejs\n</code></pre>\n\n<p>install nvm (Node Version Manager) <a href=\"https://github.com/creationix/nvm\" rel=\"nofollow\">https://github.com/creationix/nvm</a></p>\n\n<pre><code>wget -qO- https://raw.githubusercontent.com/creationix/nvm/v0.31.0/install.sh | bash\n</code></pre>\n\n<p>Now you can install whatever version of node you want and switch between the versions.</p>\n", "title": "Cannot install packages using node package manager in Ubuntu", "answer_id": 36133262, "question_id": 21168141, "tags": ["node.js", "ubuntu", "npm"]}, {"body": "<ol>\n<li><p>Install <code>nvm</code> first using:</p>\n\n<pre><code>curl https://raw.githubusercontent.com/creationix/nvm/v0.11.1/install.sh | bash\n</code></pre></li>\n<li><p>Run command </p>\n\n<pre><code>source ~/.profile\n</code></pre></li>\n<li><p>Now run this and this will show will all installed or other versions of packages:</p>\n\n<pre><code>nvm ls-remote\n</code></pre></li>\n<li><p>Installed packages will be in green. Install whatever version you want:</p>\n\n<pre><code>nvm install 6.0.0\n</code></pre></li>\n<li><p>Check where is not installed:</p>\n\n<pre><code>which node\n</code></pre></li>\n<li><p>Check current version:</p>\n\n<pre><code>node -v\n\nn=$(which node);\nn=${n%/bin/node}; \nchmod -R 755 $n/bin/*; \nsudo cp -r $n/{bin,lib,share} /usr/local\n</code></pre></li>\n</ol>\n", "title": "Cannot install packages using node package manager in Ubuntu", "answer_id": 38325376, "question_id": 21168141, "tags": ["node.js", "ubuntu", "npm"]}], "question_id": 21168141}, {"body": "<p>Why would you create a <code>\"Implicitly Unwrapped Optional\"</code> vs creating just a regular variable or constant.\nIf you know that it can be successfully unwrapped then why create an optional in the first place?\nFor example, why is this: </p>\n\n<pre><code>let someString : String! = \"this is the string\"\n</code></pre>\n\n<p>going to be more useful vs: </p>\n\n<pre><code>let someString : String = \"this is the string\"\n</code></pre>\n\n<p>If <code>\u201coptional indicate that a constant or variable is allowed to have 'no value'\u201d</code>, but <code>\u201csometimes it is clear from a program\u2019s structure that an optional will always have a value after that value is first set\u201d</code>, what is the point of making it an optional in the first place?\nIf you know an optional is always going to have a value... Doesn't that make it.... not optional?</p>\n", "title": "Why create &quot;Implicitly Unwrapped Optionals&quot;?", "tags": ["swift"], "answer_count": 8, "link": "http://stackoverflow.com/questions/24006975/why-create-implicitly-unwrapped-optionals", "answers": [{"body": "<p>Consider the case of an object that may have nil properties while it's being constructed and configured, but is immutable and non-nil afterwards (NSImage is often treated this way, though in its case it's still useful to mutate sometimes). Implicitly unwrapped optionals would clean up its code a good deal, with relatively low loss of safety (as long as the one guarantee held, it would be safe). </p>\n\n<p>(Edit) To be clear though: regular optionals are nearly always preferable.</p>\n", "title": "Why create &quot;Implicitly Unwrapped Optionals&quot;?", "answer_id": 24007032, "question_id": 24006975, "tags": ["swift"]}, {"body": "<p>One-line (or several-line) simple examples don't cover the behavior of optionals very well \u2014 yeah, if you declare a variable and provide it with a value right away, there's no point in an optional. </p>\n\n<p>The best case I've seen so far is setup that happens after object initialization, followed by use that's \"guaranteed\" to follow that setup, e.g. in a view controller:</p>\n\n<pre><code>class MyViewController: UIViewController {\n\n    var screenSize: CGSize?\n\n    override func viewDidLoad {\n        super.viewDidLoad()\n        screenSize = view.frame.size\n    }\n\n    @IBAction printSize(sender: UIButton) {\n        println(\"Screen size: \\(screenSize!)\")\n    }\n}\n</code></pre>\n\n<p>We know <code>printSize</code> will be called after the view is loaded \u2014 it's an action method hooked up to a control inside that view, and we made sure not to call it otherwise. So we can save ourselves some optional-checking/binding with the <code>!</code>. Swift can't recognize that guarantee (at least until Apple solves the halting problem), so you tell the compiler it exists. </p>\n\n<p>This breaks type safety to some degree, though. Anyplace you have an implicitly unwrapped optional is a place your app can crash if your \"guarantee\" doesn't always hold, so it's a feature to use sparingly. Besides, using <code>!</code> all the time makes it sound like you're yelling, and nobody likes that.</p>\n", "title": "Why create &quot;Implicitly Unwrapped Optionals&quot;?", "answer_id": 24007117, "question_id": 24006975, "tags": ["swift"]}, {"body": "<p>Implicitly unwrapped optionals are useful for presenting a property as non-optional when really it needs to be optional under the covers.  This is often necessary for \"tying the knot\" between two related objects that each need a reference to the other.  It makes sense when neither reference is <em>actually</em> optional, but one of them needs to be nil while the pair is being initialized.</p>\n\n<p>For example:</p>\n\n<pre><code>// These classes are buddies that never go anywhere without each other\nclass B {\n    var name : String\n    weak var myBuddyA : A!\n    init(name : String) {\n        self.name = name\n    }\n}\n\nclass A {\n    var name : String\n    var myBuddyB : B\n    init(name : String) {\n        self.name = name\n        myBuddyB = B(name:\"\\(name)'s buddy B\")\n        myBuddyB.myBuddyA = self\n    }\n}\n\nvar a = A(name:\"Big A\")\nprintln(a.myBuddyB.name)   // prints \"Big A's buddy B\"\n</code></pre>\n\n<p>Any <code>B</code> instance should always have a valid <code>myBuddyA</code> reference, so we don't want to make the user treat it as optional, but we need it to be optional so that we can construct a <code>B</code> before we have an <code>A</code> to refer to.</p>\n\n<p>HOWEVER!  This sort of mutual reference requirement is often an indication of tight coupling and poor design.  If you find yourself relying on implicitly unwrapped optionals you should probably consider refactoring to eliminate the cross-dependencies.</p>\n", "title": "Why create &quot;Implicitly Unwrapped Optionals&quot;?", "answer_id": 24026196, "question_id": 24006975, "tags": ["swift"]}, {"body": "<p>The rationale of implicit optionals is easier to explain by first looking at the rationale for forced unwrapping.</p>\n\n<p>Forced unwrapping of an optional (implicit or not), using the ! operator, means you're certain that your code has no bugs and the optional already has a value where it is being unwrapped. Without the ! operator, you would probably just assert with an optional binding:</p>\n\n<pre><code> if let value = optionalWhichTotallyHasAValue {\n     println(\"\\(value)\")\n } else {\n     assert(false)\n }\n</code></pre>\n\n<p>which is not as nice as</p>\n\n<pre><code>println(\"\\(value!)\")\n</code></pre>\n\n<p>Now, implicit optionals let you express having an optional which you expect to <em>always</em> to have a value when unwrapped, in all possible flows. So it just goes a step further in helping you - by relaxing the requirement of writing the ! to unwrap each time, and ensuring that the runtime will still error in case your assumptions about the flow are wrong.</p>\n", "title": "Why create &quot;Implicitly Unwrapped Optionals&quot;?", "answer_id": 24026364, "question_id": 24006975, "tags": ["swift"]}, {"body": "<p>Implicitly unwrapped optionals are pragmatic compromise to make the work in hybrid environment that has to interoperate with existing Cocoa frameworks and their conventions more pleasant, while also allowing for stepwise migration into safer programing paradigm \u2014 without null pointers \u2014 enforced by the Swift compiler.</p>\n\n<p><a href=\"https://developer.apple.com/library/prerelease/ios/documentation/swift/conceptual/swift_programming_language/TheBasics.html#//apple_ref/doc/uid/TP40014097-CH5-XID_436\">Swift book, in <em>The Basics</em> chapter, section <em>Implicitly Unwrapped Optionals</em></a> says:</p>\n\n<blockquote>\n  <p>Implicitly unwrapped optionals are useful when an optional\u2019s value is confirmed to exist immediately after the optional is first defined and can definitely be assumed to exist at every point thereafter. The primary use of implicitly unwrapped optionals in Swift is during class initialization, as described in <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/swift/conceptual/swift_programming_language/AutomaticReferenceCounting.html#//apple_ref/doc/uid/TP40014097-CH20-XID_60\">Unowned References and Implicitly Unwrapped Optional Properties</a>.\n  <br/>\u2026 <br/>\n  You can think of an implicitly unwrapped optional as giving permission for the optional to be unwrapped automatically whenever it is used. Rather than placing an exclamation mark after the optional\u2019s name each time you use it, you place an exclamation mark after the optional\u2019s type when you declare it.</p>\n</blockquote>\n\n<p>This comes down to use cases where the <em>non-<code>nil</code>-ness</em> of properties is established via usage convention, and can not be enforced by compiler during the class initialization. For example, the <code>UIViewController</code> properties that are initialized from NIBs or Storyboards, where the initialization is split into separate phases, but after the <code>viewDidLoad()</code> you can assume that properties generally exist. Otherwise, in order to satisfy the compiler, you had to be using the \n<a href=\"https://developer.apple.com/library/prerelease/ios/documentation/swift/conceptual/swift_programming_language/TheBasics.html#//apple_ref/doc/uid/TP40014097-CH5-XID_430\">forced unwrapping</a>, \n<a href=\"https://developer.apple.com/library/prerelease/ios/documentation/swift/conceptual/swift_programming_language/TheBasics.html#//apple_ref/doc/uid/TP40014097-CH5-XID_432\">optional binding</a> \nor <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/swift/conceptual/swift_programming_language/OptionalChaining.html#//apple_ref/doc/uid/TP40014097-CH21-XID_312\">optional chaining</a> \nonly to obscure the main purpose of the code.</p>\n\n<p>Above part from the Swift book refers also to the <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/swift/conceptual/swift_programming_language/AutomaticReferenceCounting.html#//apple_ref/doc/uid/TP40014097-CH20-XID_60\"><em>Automatic Reference Counting</em> chapter</a>:</p>\n\n<blockquote>\n  <p>However, there is a third scenario, in which both properties should always have a value, and neither property should ever be <code>nil</code> once initialization is complete. In this scenario, it is useful to combine an unowned property on one class with an implicitly unwrapped optional property on the other class.</p>\n  \n  <p>This enables both properties to be accessed directly (without optional unwrapping) once initialization is complete, while still avoiding a reference cycle. </p>\n</blockquote>\n\n<p>This comes down to the quirks of not being a garbage collected language, therefore the breaking of retain cycles is on you as a programmer and implicitly unwrapped optionals are a tool to hide this quirk.</p>\n\n<p>That covers the \u201cWhen to use implicitly unwrapped optionals in your code?\u201d question. As an application developer, you\u2019ll mostly encounter them in method signatures of libraries written in Objective-C, which doesn\u2019t have the ability to express optional types.</p>\n\n<p>From <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/BuildingCocoaApps/InteractingWithObjective-CAPIs.html#//apple_ref/doc/uid/TP40014216-CH4-XID_31\">Using Swift with Cocoa and Objective-C, section <em>Working with nil</em></a>:</p>\n\n<blockquote>\n  <p>Because Objective-C does not make any guarantees that an object is non-nil, Swift makes all classes in argument types and return types optional in imported Objective-C APIs. Before you use an Objective-C object, you should check to ensure that it is not missing.</p>\n  \n  <p>In some cases, you might be <em>absolutely</em> certain that an Objective-C method or property never returns a <code>nil</code> object reference. To make objects in this special scenario more convenient to work with, Swift imports object types as <em>implicitly unwrapped optionals</em>. Implicitly unwrapped optional types include all of the safety features of optional types. In addition, you can access the value directly without checking for <code>nil</code> or unwrapping it yourself. When you access the value in this kind of optional type without safely unwrapping it first, the implicitly unwrapped optional checks whether the value is missing. If the value is missing, a runtime error occurs. As a result, you should always check and unwrap an implicitly unwrapped optional yourself, unless you are sure that the value cannot be missing.</p>\n</blockquote>\n\n<p>...and beyond here lay <img src=\"http://i.stack.imgur.com/mdCqJ.png\" alt=\"dragons\"></p>\n", "title": "Why create &quot;Implicitly Unwrapped Optionals&quot;?", "answer_id": 24186511, "question_id": 24006975, "tags": ["swift"]}, {"body": "<p>Before I can describe the use cases for Implicitly Unwrapped Optionals, you should already understand what Optionals and Implicitly Unwrapped Optionals are in Swift. If you do not, I recommend you first read <a href=\"http://www.drewag.me/posts/what-is-an-optional-in-swift\">my article on optionals</a></p>\n\n<h1>When To Use An Implicitly Unwrapped Optional</h1>\n\n<p>There are four main reasons that one would create an Implicitly Unwrapped Optional. All have to do with defining a variable that will never be accessed when <code>nil</code> because otherwise, the Swift compiler will always force you to explicitly unwrap an Optional.</p>\n\n<h2>1. A Constant That Cannot Be Defined During Initialization</h2>\n\n<p>Every member constant must have a value by the time initialization is complete. Sometimes, a constant cannot be initialized with its correct value during initialization, but it can still be guaranteed to have a value before being accessed.</p>\n\n<p>Using an Optional variable gets around this issue because an Optional is automatically initialized with <code>nil</code> and the value it will eventually contain will still be immutable. However, it can be a pain to be constantly unwrapping a variable that you know for sure is not nil. Implicitly Unwrapped Optionals achieve the same benefits as an Optional with the added benefit that one does not have to explicitly unwrap it everywhere.</p>\n\n<p>A great example of this is when a member variable cannot be initialized in a UIView subclass until the view is loaded:</p>\n\n<pre><code>class MyView : UIView {\n    @IBOutlet var button : UIButton!\n    var buttonOriginalWidth : CGFloat!\n\n    override func awakeFromNib() {\n        self.buttonOriginalWidth = self.button.frame.size.width\n    }\n}\n</code></pre>\n\n<p>Here, you cannot calculate the original width of the button until the view loads, but you know that <code>viewDidLoad</code> will be called before any other method on the view (other than initialization). Instead of forcing the value to be explicitly unwrapped pointlessly all over your class, you can declare it as an Implicitly Unwrapped Optional.</p>\n\n<h2>2. Interacting with an Objective-C API</h2>\n\n<p>Every reference to an object in Objective-C is a pointer, which means that it can be <code>nil</code>. That means, that every interaction with an Objective-C API from Swift must use an optional where there is a reference to an object. You could use a normal Optional in every one of these cases, but if you know for sure that the reference will not be <code>nil</code>, you can save yourself unwrapping code by declaring it as an Implicitly Unwrapped Optional.</p>\n\n<p>A good example of this is a <code>UITableViewDataSource</code>:</p>\n\n<pre><code>override func tableView(tableView: UITableView!, cellForRowAtIndexPath indexPath: NSIndexPath!) -&gt; UITableViewCell? { return nil }\n</code></pre>\n\n<p>Here, you know that the method will never be called without a <code>tableView</code> or <code>indexPath</code>. It would be a waste of time to check it for <code>nil</code>. If this were a purely Swift API, one \nwould not declare it as an Optional at all.</p>\n\n<h2>3. When Your App Cannot Recover From a Variable Being <code>nil</code></h2>\n\n<p>This should be extremely rare, but if your app could literally not continue to run if a variable is <code>nil</code> when accessed, it would be a waste of time to bother testing it for <code>nil</code>. Normally if you have a condition that must absolutely be true for your app to continue running, you would use an <code>assert</code>. An Implicitly Unwrapped Optional has an assert for nil built right into it.</p>\n\n<h2>4. NSObject Initializers</h2>\n\n<p>Apple does have at least one strange case of Implicitly Unwrapped Optionals. Technically, all initializers from classes that inherit from <code>NSObject</code> return Implicitly Unwrapped Optionals. This is because initialization in Objective-C can return <code>nil</code>. That means, in some cases, that you will still want to be able to test the result of initialization for <code>nil</code>. A perfect example of this is with <code>UIImage</code> if the image does not exist:</p>\n\n<pre><code>var image : UIImage? = UIImage(named: \"NonExistentImage\")\nif image != nil {\n    println(\"image exists\")\n}\nelse {\n    println(\"image does not exist\")\n}\n</code></pre>\n\n<p>If you think there is a chance that your image does not exist and you can gracefully handle that scenario, you can declare the variable capturing the initialization explicitly as an Optional so that you can check it for <code>nil</code>. You could also use an Implicitly Unwrapped Optional here, but since you are planning to check it anyway, it is better to use a normal Optional.</p>\n\n<h1>When Not To Use An Implicitly Unwrapped Optional</h1>\n\n<h2>1. Lazily Calculated Member Variables</h2>\n\n<p>Sometimes you have a member variable that should never be nil, but it cannot be set to the correct value during initialization. One solution is to use an Implicitly Unwrapped Optional, but a better way is to use a lazy variable:</p>\n\n<pre><code>class FileSystemItem {\n}\n\nclass Directory : FileSystemItem {\n    lazy var contents : [FileSystemItem] = {\n        var loadedContents = [FileSystemItem]()\n        // load contents and append to loadedContents\n        return loadedContents\n    }()\n}\n</code></pre>\n\n<p>Now, the member variable <code>contents</code> is not initialized until the first time it is accessed. This gives the class a chance to get into the correct state before calculating the initial value.</p>\n\n<p><strong>Note:</strong> This may seem to contradict #1 from above. However, there is an important distinction to be made. The <code>buttonOriginalWidth</code> above must be set during viewDidLoad to prevent anyone changing the buttons width before the property is accessed.</p>\n\n<h2>2. Everywhere Else</h2>\n\n<p>For the most part, Implicitly Unwrapped Optionals should be avoided because if used mistakenly, your entire app will crash when it is accessed while <code>nil</code>. If you are ever not sure about whether a variable can be nil, always default to using a normal Optional. Unwrapping a variable that is never <code>nil</code> certainly doesn't hurt very much.</p>\n", "title": "Why create &quot;Implicitly Unwrapped Optionals&quot;?", "answer_id": 24583157, "question_id": 24006975, "tags": ["swift"]}, {"body": "<p>I think forced unwrapping are considered as evil for no reason.</p>\n\n<p>Forced unwrapping optionals are much better than dealing with silent failures. If you think a value should never be nil, force unwrap it, as it will provide a nil check during the runtime. Its similar to NSParameterAssert() in objectiveC.</p>\n\n<p>I would rather prefer fastFail than dealing with the silent failures due to <code>if let</code></p>\n", "title": "Why create &quot;Implicitly Unwrapped Optionals&quot;?", "answer_id": 30814143, "question_id": 24006975, "tags": ["swift"]}, {"body": "<p>Apple gives a great example in <em>The Swift Programming Language</em> -> <strong>Automatic Reference Counting</strong> -> <strong>Resolving Strong Reference Cycles Between Class Instances</strong> -> <strong>Unowned References and Implicitly Unwrapped Optional Properties</strong></p>\n\n<pre><code>class Country {\n    let name: String\n    var capitalCity: City! // Apple finally correct this line until 2.0 Prerelease (let -&gt; var)\n    init(name: String, capitalName: String) {\n        self.name = name\n        self.capitalCity = City(name: capitalName, country: self)\n    }\n}\n\nclass City {\n    let name: String\n    unowned let country: Country\n    init(name: String, country: Country) {\n        self.name = name\n        self.country = country\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>The initializer for <code>City</code> is called from within the initializer for <code>Country</code>. However, the initializer for <code>Country</code> cannot pass <code>self</code> to the <code>City</code> initializer until a new <code>Country</code> instance is fully initialized, as described in <a href=\"https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/Initialization.html#//apple_ref/doc/uid/TP40014097-CH18-ID220\">Two-Phase Initialization</a>. </p>\n  \n  <p>To cope with this requirement, you declare the <code>capitalCity</code> property of <code>Country</code> as an implicitly unwrapped optional property.</p>\n</blockquote>\n", "title": "Why create &quot;Implicitly Unwrapped Optionals&quot;?", "answer_id": 32047317, "question_id": 24006975, "tags": ["swift"]}], "question_id": 24006975}, {"body": "<p>I am trying to build a backup and restore solution for the docker containers that we work with.</p>\n\n<p>I have docker base image that I have created <code>ubuntu:base</code> and do not want have to rebuild it each time with a dockerfile to add files to it.</p>\n\n<p>I want to create a script that runs from the host machine and creates a new container using the <code>ubuntu:base</code> docker image and then copies files into that container. But I am stuck copy files on the container </p>\n\n<p>How can I copy files from the host to the container?</p>\n", "title": "Copying files from host to docker container", "tags": ["shell", "copy", "restore", "docker"], "answer_count": 25, "link": "http://stackoverflow.com/questions/22907231/copying-files-from-host-to-docker-container", "answers": [{"body": "<p>The following is a fairly ugly way of doing it but it works.</p>\n\n<pre><code>docker run -i ubuntu /bin/bash -c 'cat &gt; file' &lt; file\n</code></pre>\n", "title": "Copying files from host to docker container", "answer_id": 24167546, "question_id": 22907231, "tags": ["shell", "copy", "restore", "docker"]}, {"body": "<p>My solution is simply</p>\n\n<p>docker shell:</p>\n\n<pre><code>root@123abc:/root#  &lt;-- get the container ID\n</code></pre>\n\n<p>from the host:</p>\n\n<pre><code>cp thefile.txt /var/lib/docker/devicemapper/mnt/123abc&lt;bunch-o-hex&gt;/rootfs/root \n</code></pre>\n\n<p>That is, I copy the file directly to where the container sits on the filesystem.</p>\n", "title": "Copying files from host to docker container", "answer_id": 24371401, "question_id": 22907231, "tags": ["shell", "copy", "restore", "docker"]}, {"body": "<p>I simple copy the file directly from where the container is located from the host machine.</p>\n\n<p>Eg:</p>\n\n<p>First find out what is the container id.</p>\n\n<p><code>root@**3aed62678d54**:/home#</code></p>\n\n<p>And then from the host, let's say the file is in the home directory.</p>\n\n<p><code>root@saasdock:/home/dnepangue# cp cheering_nasa.gif /var/lib/docker/aufs/mnt/**3aed62678d54**a5df47a4a00a58bb0312009c2902f8a37498a1427052e8ac454b/home/</code></p>\n\n<p>Back to the container..</p>\n\n<p><code>root@**3aed62678d54**:/home# ls\n    cheering_nasa.gif</code></p>\n\n<p>Thanks. :)</p>\n", "title": "Copying files from host to docker container", "answer_id": 24647181, "question_id": 22907231, "tags": ["shell", "copy", "restore", "docker"]}, {"body": "<ol>\n<li><p>Get container name or short container id :</p>\n\n<pre><code>$ docker ps\n</code></pre></li>\n<li><p>Get full container id</p>\n\n<pre><code>$ docker inspect -f   '{{.Id}}'  SHORT_CONTAINER_ID-or-CONTAINER_NAME\n</code></pre></li>\n<li><p>copy file :</p>\n\n<pre><code>$ sudo cp path-file-host /var/lib/docker/aufs/mnt/FULL_CONTAINER_ID/PATH-NEW-FILE \n</code></pre></li>\n</ol>\n\n<p><strong>EXAMPLE :</strong> </p>\n\n<pre><code>$ docker ps\n\nCONTAINER ID      IMAGE    COMMAND       CREATED      STATUS       PORTS        NAMES\n\nd8e703d7e303   solidleon/ssh:latest      /usr/sbin/sshd -D                      cranky_pare\n\n$ docker inspect -f   '{{.Id}}' cranky_pare\n</code></pre>\n\n<p>or </p>\n\n<pre><code>$ docker inspect -f   '{{.Id}}' d8e703d7e303\n\nd8e703d7e3039a6df6d01bd7fb58d1882e592a85059eb16c4b83cf91847f88e5\n\n$ sudo cp file.txt /var/lib/docker/aufs/mnt/**d8e703d7e3039a6df6d01bd7fb58d1882e592a85059eb16c4b83cf91847f88e5**/root/file.txt\n</code></pre>\n", "title": "Copying files from host to docker container", "answer_id": 24805696, "question_id": 22907231, "tags": ["shell", "copy", "restore", "docker"]}, {"body": "<p>The best way for copying files to the container I found is mounting a directory on host using <code>-v</code> option of docker run command.</p>\n", "title": "Copying files from host to docker container", "answer_id": 25068959, "question_id": 22907231, "tags": ["shell", "copy", "restore", "docker"]}, {"body": "<p>The cleanest way is to mount a host dir on the container before running your command.</p>\n\n<pre><code>{host} docker run -v /path/to/hostdir:/mnt --name my_container my_image\n{host} docker exec -it my_container bash\n{container} cp /mnt/sourcefile /path/to/destfile\n</code></pre>\n", "title": "Copying files from host to docker container", "answer_id": 25274352, "question_id": 22907231, "tags": ["shell", "copy", "restore", "docker"]}, {"body": "<p>Where you don't have a directory defined as a volume in the Dockerfile, the /var/lib/docker/aufs/mnt// will work. But there are cases where the directory within the container is defined as a volume. In this case, the contents under aufs/mnt/*/ and the contents seen by the container are different.</p>\n\n<p>You will need to inspect the container using docker inspect  and then, look for volumes. There you will find a mention for something like /var/lib/docker/vfs/dir/fe940b... (the id). You will need to add/modify the files here instead of under aufs/mnt/*.</p>\n\n<p>The confusing part is that the files also appear under /aufs/mnt/*. I spent quite a while scratching my head why changes here didn't work for me. Hope this helps someone.</p>\n", "title": "Copying files from host to docker container", "answer_id": 26084057, "question_id": 22907231, "tags": ["shell", "copy", "restore", "docker"]}, {"body": "<p>Quick and easy way: (assuming the container is already running)</p>\n\n<pre><code># cat /path/to/host/file/ | docker exec -i -t &lt;container_id&gt; bash -c \"/bin/cat &gt; /path/to/container/file\"\n</code></pre>\n\n<p>That said, sharing files through a shared directory is far easier, but you need to run your container appropriately:</p>\n\n<pre><code># docker run -v /path/to/host/dir:/path/to/container/dir ...\n</code></pre>\n\n<p>Note: you might encounter problems with permissions as container users are not the same as the host's users.</p>\n", "title": "Copying files from host to docker container", "answer_id": 26881855, "question_id": 22907231, "tags": ["shell", "copy", "restore", "docker"]}, {"body": "<p>There are good answers but too specific. I find out <code>docker ps</code> is good way to get container id you're interested in. Then do \n<code>\nmount | grep &lt;id&gt;\n</code> to see where the volume is mounted. That's \n<code>\n/var/lib/docker/devicemapper/mnt/&lt;id&gt;/rootfs/\n</code> for me but might be a different path depending on OS and configuration. Now simply copy files to that path.</p>\n\n<p>Using <code>-v</code> is not always practical.</p>\n", "title": "Copying files from host to docker container", "answer_id": 26886779, "question_id": 22907231, "tags": ["shell", "copy", "restore", "docker"]}, {"body": "<p>Try <code>docker cp</code>, usage:</p>\n\n<pre><code>docker cp CONTAINER:PATH HOSTPATH\n</code></pre>\n\n<p>It copies files/folders from <code>PATH</code> to the <code>HOSTPATH</code></p>\n", "title": "Copying files from host to docker container", "answer_id": 27930517, "question_id": 22907231, "tags": ["shell", "copy", "restore", "docker"]}, {"body": "<p>My favorite method:</p>\n\n<h1>CONTAINERS:</h1>\n\n<pre><code>CONTAINER_ID=$(docker ps | grep &lt;string&gt; | awk '{ print $1 }' | xargs docker inspect -f '{{.Id}}')\n</code></pre>\n\n<h3>file.txt</h3>\n\n<pre><code>mv -f file.txt /var/lib/docker/devicemapper/mnt/$CONTAINER_ID/rootfs/root/file.txt\n</code></pre>\n\n<p>or </p>\n\n<pre><code>mv -f file.txt /var/lib/docker/aufs/mnt/$CONTAINER_ID/rootfs/root/file.txt\n</code></pre>\n", "title": "Copying files from host to docker container", "answer_id": 27976618, "question_id": 22907231, "tags": ["shell", "copy", "restore", "docker"]}, {"body": "<p>If you need to do this on a running container you can use docker exec (added in 1.3).</p>\n\n<p>First, find the container's name or ID:</p>\n\n<pre><code>$ docker ps\nCONTAINER ID        IMAGE                        COMMAND             CREATED             STATUS              PORTS                   NAMES\nb9b7400ddd8f        ubuntu:latest                \"/bin/bash\"         2 seconds ago       Up 2 seconds                                elated_hodgkin\n</code></pre>\n\n<p>In the example above we can either use <code>b9b7400ddd8f</code> or <code>elated_hodgkin</code>.</p>\n\n<p>If you wanted to copy everything in <code>/tmp/somefiles</code> on the host to <code>/var/www</code> in the container:</p>\n\n<pre><code>$ cd /tmp/somefiles\n$ tar -cv * | docker exec -i elated_hodgkin tar x -C /var/www\n</code></pre>\n\n<p>We can then exec <code>/bin/bash</code> in the container and verify it worked:</p>\n\n<pre><code>$ docker exec -it elated_hodgkin /bin/bash\nroot@b9b7400ddd8f:/# ls /var/www\nfile1  file2\n</code></pre>\n", "title": "Copying files from host to docker container", "answer_id": 28123384, "question_id": 22907231, "tags": ["shell", "copy", "restore", "docker"]}, {"body": "<p>Another solution for copying files into a running container is using tar:</p>\n\n<pre><code>tar -c foo.sh | docker exec -i theDockerContainer /bin/tar -C /tmp -x\n</code></pre>\n\n<p>Copies the file <code>foo.sh</code> into <code>/tmp</code> of the container.</p>\n\n<p>Edit: Remove reduntant <code>-f</code>, thanks to <a href=\"http://stackoverflow.com/users/636974/maarten\">Maarten</a>s comment.</p>\n", "title": "Copying files from host to docker container", "answer_id": 29774145, "question_id": 22907231, "tags": ["shell", "copy", "restore", "docker"]}, {"body": "<p>Actually, you can get all containers filesystem in <code>/var/lib/docker/aufs/YOUR DOCKER ID/</code>, so you can sudo copy your source directory/file to any part of your container fs as shown below:</p>\n\n<p><code>sudo cp -r mydir/ /var/lib/docker/aufs/mnt/2a6bfc9ecd32a81504ff853fc0a5144e1314624a6d7259eac010f9597ec600b4/mnt/</code></p>\n", "title": "Copying files from host to docker container", "answer_id": 30490190, "question_id": 22907231, "tags": ["shell", "copy", "restore", "docker"]}, {"body": "<p>Many that find this question may actually have the problem of copying files into a docker image <em>while it is being created</em>. (I did)</p>\n\n<p>In that case you can use the <code>COPY</code> command in the <code>Dockerfile</code> that you use to create the image.</p>\n\n<p><a href=\"https://docs.docker.com/reference/builder/#copy\" rel=\"nofollow\">See the documentation</a>.</p>\n", "title": "Copying files from host to docker container", "answer_id": 30788804, "question_id": 22907231, "tags": ["shell", "copy", "restore", "docker"]}, {"body": "<p>To copy a file <strong>from host to running container</strong></p>\n\n<pre><code>docker exec -i $CONTAINER /bin/bash -c \"cat &gt; $CONTAINER_PATH\" &lt; $HOST_PATH\n</code></pre>\n\n<hr>\n\n<p><em>Based on <a href=\"http://stackoverflow.com/a/24167546/2093341\">Erik's answer</a> and Mikl's and z0r's comments.</em></p>\n", "title": "Copying files from host to docker container", "answer_id": 31157125, "question_id": 22907231, "tags": ["shell", "copy", "restore", "docker"]}, {"body": "<p>Create a new dockerfile and use the existing image as your base.</p>\n\n<pre><code>FROM myName/myImage:latest\n\nADD myFile.py bin/myFile.py\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>docker build .\n</code></pre>\n", "title": "Copying files from host to docker container", "answer_id": 31303405, "question_id": 22907231, "tags": ["shell", "copy", "restore", "docker"]}, {"body": "<p>You can just trace the ip address of your local machine using</p>\n\n<pre><code>ifconfig\n</code></pre>\n\n<p>then just enter into your docker container and type </p>\n\n<pre><code>scp user_name@ip_address:/path_to_the_file destination\n</code></pre>\n\n<p>In any case if you don't have ssh client and server installed just install it using `</p>\n\n<pre><code>sudo apt-get install openssh-server\n</code></pre>\n", "title": "Copying files from host to docker container", "answer_id": 31747554, "question_id": 22907231, "tags": ["shell", "copy", "restore", "docker"]}, {"body": "<p>With docker 1.8 docker cp is able to copy files from host to container,  see <a href=\"http://blog.docker.com/2015/08/docker-1-8-content-trust-toolbox-registry-orchestration/\" rel=\"nofollow\">docker blog</a></p>\n", "title": "Copying files from host to docker container", "answer_id": 31971654, "question_id": 22907231, "tags": ["shell", "copy", "restore", "docker"]}, {"body": "<p>The <code>cp</code> command can be used for that. For example:</p>\n\n<pre><code>docker cp foo.txt mycontainer:/foo.txt\ndocker cp mycontainer:/foo.txt foo.txt\n</code></pre>\n\n<p>Reference: <a href=\"https://docs.docker.com/engine/reference/commandline/cp/\">Docker CLI docs for <code>cp</code></a> </p>\n", "title": "Copying files from host to docker container", "answer_id": 31971697, "question_id": 22907231, "tags": ["shell", "copy", "restore", "docker"]}, {"body": "<p>This is an direct answer to the question 'Copying files from host to docker container' raised in this thread in the title.</p>\n\n<p>Try <code>docker cp</code>, it is the easiest way to do that and works even on my mac, usage:</p>\n\n<pre><code>docker cp /root/some-file.txt some-docker-container:/root\n</code></pre>\n\n<p>This will copy the file <code>some-file.txt</code> in the directory <code>/root</code> on your host machine into the docker container named <code>some-docker-container</code> into the directory <code>/root</code>. Very close to the secure copy syntax. And as shown in the previous post, you can use it vice versa. I.e., you also copy files from the container to the host.</p>\n\n<p>And before you downlink this post, please enter <code>docker cp --help</code>. Reading the documentation can be very helpful, sometimes ... </p>\n\n<p>If you don't like that way and you want data volumes in your already created and running container, then recreation is your only option today. See also <a href=\"http://stackoverflow.com/questions/28302178/how-can-i-add-a-volume-to-an-existing-docker-container\">How can I add a volume to an existing Docker container?</a></p>\n", "title": "Copying files from host to docker container", "answer_id": 32740690, "question_id": 22907231, "tags": ["shell", "copy", "restore", "docker"]}, {"body": "<p>I'd mount and then run the image with a daemon, just any as given here;</p>\n\n<pre><code>docker run -d -v /blah1/blah2:/mnt --name mntcontainer ubuntu /bin/sh -c \"while true; do echo hello world; sleep 1; done\"\n</code></pre>\n\n<p>then</p>\n\n<pre><code>docker exec -it mntcontainer bash\n</code></pre>\n", "title": "Copying files from host to docker container", "answer_id": 35120941, "question_id": 22907231, "tags": ["shell", "copy", "restore", "docker"]}, {"body": "<p>If host <code>CentOS</code> or <code>Fedora</code> , there is a proxy NOT in <code>/var/lib/docker/aufs</code> , but it is under <code>/proc</code> </p>\n\n<pre><code>cp -r /home/user/mydata/* /proc/`docker inspect --format \"{{.State.Pid}}\" &lt;containerid&gt;`/root\n</code></pre>\n\n<p>This cmd will copy  all contents of  <code>data</code> directory to <code>/</code> of container with id is \"containerid\"</p>\n", "title": "Copying files from host to docker container", "answer_id": 35604379, "question_id": 22907231, "tags": ["shell", "copy", "restore", "docker"]}, {"body": "<p><code>tar</code> and <code>docker cp</code> are a good combo for copying everything in a directory.</p>\n\n<p>Create a data volume container</p>\n\n<pre><code>docker create --name dvc --volume /path/on/container cirros\n</code></pre>\n\n<p>To preserve the directory hierarchy</p>\n\n<pre><code>tar -c -C /path/on/local/machine . | docker cp - dvc:/path/on/container\n</code></pre>\n\n<p>Check your work</p>\n\n<pre><code>docker run --rm --volumes-from dvc cirros ls -al /path/on/container\n</code></pre>\n", "title": "Copying files from host to docker container", "answer_id": 37123112, "question_id": 22907231, "tags": ["shell", "copy", "restore", "docker"]}, {"body": "<p>Another workaround is using the good old <code>scp</code>. This is useful in the case you need to copy a directory.</p>\n\n<p>From your host run:</p>\n\n<pre><code>scp FILE_PATH_ON_YOUR_HOST IP_CONTAINER:DESTINATION_PATH\nscp foo.txt 172.17.0.2:foo.txt\n</code></pre>\n\n<p>In the case you need to copy a directory:</p>\n\n<pre><code>scp -r DIR_PATH_ON_YOUR_HOST IP_CONTAINER:DESTINATION_PATH\nscp -r directory 172.17.0.2:directory\n</code></pre>\n\n<p>be sure to install ssh into your container too.</p>\n\n<pre><code>apt-get install openssh-server\n</code></pre>\n", "title": "Copying files from host to docker container", "answer_id": 39205320, "question_id": 22907231, "tags": ["shell", "copy", "restore", "docker"]}], "question_id": 22907231}, {"body": "<p>I've gone through the <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/BuildingCocoaApps/BuildingCocoaApps.pdf\">iBook</a> from Apple, and couldn't find any definition of it :</p>\n\n<p>Can someone explain the structure of <code>dispatch_after</code>?</p>\n\n<pre><code>dispatch_after(&lt;#when: dispatch_time_t#&gt;, &lt;#queue: dispatch_queue_t?#&gt;, &lt;#block: dispatch_block_t?#&gt;)\n</code></pre>\n", "title": "dispatch_after - GCD in swift?", "tags": ["ios", "swift", "grand-central-dispatch"], "answer_count": 11, "link": "http://stackoverflow.com/questions/24034544/dispatch-after-gcd-in-swift", "answers": [{"body": "<p>A clearer idea of the structure:</p>\n\n<pre><code>dispatch_after(when: dispatch_time_t, queue: dispatch_queue_t, block: dispatch_block_t?)\n</code></pre>\n\n<p><code>dispatch_time_t</code> is a <code>UInt64</code>. The <code>dispatch_queue_t</code> is actually type aliased to an <code>NSObject</code>, but you should just use your familiar GCD methods to get queues. The block is a Swift closure. Specifically, <code>dispatch_block_t</code> is defined as <code>() -&gt; Void</code>, which is equivalent to <code>() -&gt; ()</code>.</p>\n\n<p>Example usage:</p>\n\n<pre><code>let delayTime = dispatch_time(DISPATCH_TIME_NOW, Int64(1 * Double(NSEC_PER_SEC)))\ndispatch_after(delayTime, dispatch_get_main_queue()) {\n    print(\"test\")\n}\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I recommend using <a href=\"http://stackoverflow.com/questions/24034544/dispatch-after-gcd-in-swift/24318861#24318861\">@matt's really nice <code>delay</code> function</a>.</p>\n\n<p><strong>EDIT 2:</strong></p>\n\n<p>In Swift 3, there will be new wrappers for GCD. See here: <a href=\"https://github.com/apple/swift-evolution/blob/master/proposals/0088-libdispatch-for-swift3.md\">https://github.com/apple/swift-evolution/blob/master/proposals/0088-libdispatch-for-swift3.md</a></p>\n\n<p>The original example would be written as follows in Swift 3:</p>\n\n<pre><code>let deadlineTime = DispatchTime.now() + .seconds(1)\nDispatchQueue.main.asyncAfter(deadline: deadlineTime) {\n    print(\"test\")\n}\n</code></pre>\n\n<p>Note that you can write the <code>deadlineTime</code> declaration as <code>DispatchTime.now() + 1.0</code> and get the same result because the <code>+</code> operator is overridden as follows (similarly for <code>-</code>):</p>\n\n<ul>\n<li><code>func +(time: DispatchTime, seconds: Double) -&gt; DispatchTime</code></li>\n<li><code>func +(time: DispatchWalltime, interval: DispatchTimeInterval) -&gt; DispatchWalltime</code></li>\n</ul>\n\n<p>This means that if you don't use the <code>DispatchTimeInterval</code> <code>enum</code> and just write a number, it is assumed that you are using seconds.</p>\n", "title": "dispatch_after - GCD in swift?", "answer_id": 24034838, "question_id": 24034544, "tags": ["ios", "swift", "grand-central-dispatch"]}, {"body": "<p>To expand on Cezary's answer, which will execute after 1 nanosecond, I had to do the following to execute after 4 and a half seconds.</p>\n\n<pre><code>    let delay = 4.5 * Double(NSEC_PER_SEC)\n    let time = dispatch_time(DISPATCH_TIME_NOW, Int64(delay))\n    dispatch_after(time, dispatch_get_main_queue(), block)\n</code></pre>\n\n<p>Edit: I discovered that my original code was slightly wrong.  Implicit typing causes a compile error if you don't cast NSEC_PER_SEC to a Double.</p>\n\n<p>If anyone can suggest a more optimal solution I'd be keen to hear it.</p>\n", "title": "dispatch_after - GCD in swift?", "answer_id": 24047459, "question_id": 24034544, "tags": ["ios", "swift", "grand-central-dispatch"]}, {"body": "<p>I use <code>dispatch_after</code> so often that I wrote a top-level utility function to make the syntax simpler:</p>\n\n<pre><code>func delay(delay:Double, closure:()-&gt;()) {\n    dispatch_after(\n        dispatch_time(\n            DISPATCH_TIME_NOW,\n            Int64(delay * Double(NSEC_PER_SEC))\n        ),\n        dispatch_get_main_queue(), closure)\n}\n</code></pre>\n\n<p>And now you can talk like this:</p>\n\n<pre><code>delay(0.4) {\n    // do stuff\n}\n</code></pre>\n\n<p>Wow, a language where you can improve the language. What could be better?</p>\n\n<hr>\n\n<h3>Update for Swift 3, Xcode 8 Seed 6</h3>\n\n<p>Seems almost not worth bothering with, now that they've improved the calling syntax:</p>\n\n<pre><code>func delay(_ delay:Double, closure:@escaping ()-&gt;()) {\n    let when = DispatchTime.now() + delay\n    DispatchQueue.main.asyncAfter(deadline: when, execute: closure)\n}\n</code></pre>\n", "title": "dispatch_after - GCD in swift?", "answer_id": 24318861, "question_id": 24034544, "tags": ["ios", "swift", "grand-central-dispatch"]}, {"body": "<p><a href=\"http://stackoverflow.com/questions/24034544/dispatch-after-gcd-in-swift/24318861#24318861\">matt's syntax</a> is very nice and if you need to invalidate the block, you may want to use this :</p>\n\n<pre><code>typealias dispatch_cancelable_closure = (cancel : Bool) -&gt; Void\n\nfunc delay(time:NSTimeInterval, closure:()-&gt;Void) -&gt;  dispatch_cancelable_closure? {\n\n    func dispatch_later(clsr:()-&gt;Void) {\n        dispatch_after(\n            dispatch_time(\n                DISPATCH_TIME_NOW,\n                Int64(time * Double(NSEC_PER_SEC))\n            ),\n            dispatch_get_main_queue(), clsr)\n    }\n\n    var closure:dispatch_block_t? = closure\n    var cancelableClosure:dispatch_cancelable_closure?\n\n    let delayedClosure:dispatch_cancelable_closure = { cancel in\n        if closure != nil {\n            if (cancel == false) {\n                dispatch_async(dispatch_get_main_queue(), closure!);\n            }\n        }\n        closure = nil\n        cancelableClosure = nil\n    }\n\n    cancelableClosure = delayedClosure\n\n    dispatch_later {\n        if let delayedClosure = cancelableClosure {\n            delayedClosure(cancel: false)\n        }\n    }\n\n    return cancelableClosure;\n}\n\nfunc cancel_delay(closure:dispatch_cancelable_closure?) {\n\n    if closure != nil {\n        closure!(cancel: true)\n    }\n}\n</code></pre>\n\n<p>Use as follow </p>\n\n<pre><code>let retVal = delay(2.0) {\n    println(\"Later\")\n}\ndelay(1.0) {\n    cancel_delay(retVal)\n}\n</code></pre>\n\n<p><a href=\"http://sebastienthiebaud.us/blog/ios/gcd/block/2014/04/09/diggint-into-gcd-1-cancel-dispatch-after.html\">credits</a></p>\n\n<p><em>Link above seems to be down. <a href=\"https://github.com/SebastienThiebaud/dispatch_cancelable_block\">Original Objc code from Github</a></em></p>\n", "title": "dispatch_after - GCD in swift?", "answer_id": 25120393, "question_id": 24034544, "tags": ["ios", "swift", "grand-central-dispatch"]}, {"body": "<p>Another way is to extend Double like this:</p>\n\n<pre><code>extension Double {\n   var dispatchTime: dispatch_time_t {\n       get {\n           return dispatch_time(DISPATCH_TIME_NOW,Int64(self * Double(NSEC_PER_SEC)))\n       }\n   }\n}\n</code></pre>\n\n<p>Then you can use it like this:</p>\n\n<pre><code>dispatch_after(Double(2.0).dispatchTime, dispatch_get_main_queue(), { () -&gt; Void in\n            self.dismissViewControllerAnimated(true, completion: nil)\n    })\n</code></pre>\n\n<p>I like matt's delay function but just out of preference I'd rather limit passing closures around.</p>\n", "title": "dispatch_after - GCD in swift?", "answer_id": 26858092, "question_id": 24034544, "tags": ["ios", "swift", "grand-central-dispatch"]}, {"body": "<p>Apple has a <em>dispatch_after snippet</em> for <strong>Objective-C</strong>:</p>\n\n<pre><code>dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(&lt;#delayInSeconds#&gt; * NSEC_PER_SEC)), dispatch_get_main_queue(), ^{\n    &lt;#code to be executed after a specified delay#&gt;\n});\n</code></pre>\n\n<p>Here is the same snippet ported to <strong>Swift</strong>:</p>\n\n<pre><code>dispatch_after(dispatch_time(DISPATCH_TIME_NOW, Int64(&lt;#delayInSeconds#&gt; * NSEC_PER_SEC)), dispatch_get_main_queue()) {\n    &lt;#code to be executed after a specified delay#&gt;\n}\n</code></pre>\n", "title": "dispatch_after - GCD in swift?", "answer_id": 33662602, "question_id": 24034544, "tags": ["ios", "swift", "grand-central-dispatch"]}, {"body": "<p>use this code to perform some UI related task after 2.0 seconds.</p>\n\n<pre><code>            let delay = 2.0\n            let delayInNanoSeconds = dispatch_time(DISPATCH_TIME_NOW, Int64(delay * Double(NSEC_PER_SEC)))\n            let mainQueue = dispatch_get_main_queue()\n\n            dispatch_after(delayInNanoSeconds, mainQueue, {\n\n                print(\"Some UI related task after delay\")\n            })\n</code></pre>\n", "title": "dispatch_after - GCD in swift?", "answer_id": 34929008, "question_id": 24034544, "tags": ["ios", "swift", "grand-central-dispatch"]}, {"body": "<p>1) Add this method as a part of UIViewController Extension.</p>\n\n<pre><code>extension UIViewController{\nfunc runAfterDelay(delay: NSTimeInterval, block: dispatch_block_t) {\n        let time = dispatch_time(DISPATCH_TIME_NOW, Int64(delay * Double(NSEC_PER_SEC)))\n        dispatch_after(time, dispatch_get_main_queue(), block)\n    }\n}\n</code></pre>\n\n<p>Call this method on VC:     </p>\n\n<pre><code>    self.runAfterDelay(5.0, block: {\n     //Add code to this block\n        print(\"run After Delay Success\")\n    })\n</code></pre>\n\n<p>2) performSelector(\"yourMethod Name\", withObject: nil, afterDelay: 1)</p>\n\n<p>3) </p>\n\n<pre><code>override func viewWillAppear(animated: Bool) {\n\ndispatch_after(dispatch_time(DISPATCH_TIME_NOW, 2), dispatch_get_main_queue(), { () -&gt; () in\n    //Code Here\n})\n</code></pre>\n\n<p>//Compact Form</p>\n\n<pre><code>dispatch_after(dispatch_time(DISPATCH_TIME_NOW, 2), dispatch_get_main_queue()) {\n    //Code here\n}\n</code></pre>\n\n<p>}</p>\n", "title": "dispatch_after - GCD in swift?", "answer_id": 35428359, "question_id": 24034544, "tags": ["ios", "swift", "grand-central-dispatch"]}, {"body": "<p>Although not the original question by the OP, certain <code>NSTimer</code> related questions have been marked as duplicates of this question, so it is worth including an <code>NSTimer</code> answer here.</p>\n\n<h1><code>NSTimer</code> vs <code>dispatch_after</code></h1>\n\n<ul>\n<li><code>NSTimer</code> is more high level while <code>dispatch_after</code> is more low level.</li>\n<li><code>NSTimer</code> is easier to cancel. Canceling <code>dispatch_after</code> requires writing <a href=\"http://stackoverflow.com/a/25120393/3681880\">more code</a>.</li>\n</ul>\n\n<h1>Delaying a task with <code>NSTimer</code></h1>\n\n<p>Create an <code>NSTimer</code> instance.</p>\n\n<pre><code>var timer = NSTimer()\n</code></pre>\n\n<p>Start the timer with the delay that you need.</p>\n\n<pre><code>// invalidate the timer if there is any chance that it could have been called before\ntimer.invalidate()\n// delay of 2 seconds\ntimer = NSTimer.scheduledTimerWithTimeInterval(2.0, target: self, selector: #selector(delayedAction), userInfo: nil, repeats: false) \n</code></pre>\n\n<p>Add a function to be called after the delay (using whatever name you used for the <code>selector</code> parameter above).</p>\n\n<pre><code>func delayedAction() {\n    print(\"Delayed action has now started.\"\n}\n</code></pre>\n\n<h1>Notes</h1>\n\n<ul>\n<li>If you need to cancel the action before it happens, simply call <code>timer.invalidate()</code>.</li>\n<li>For a repeated action use <code>repeats: true</code>. </li>\n<li><p>If you have a one time event with no need to cancel then there is no need to create the <code>timer</code> instance variable. The following will suffice:</p>\n\n<pre><code>NSTimer.scheduledTimerWithTimeInterval(2.0, target: self, selector: #selector(delayedAction), userInfo: nil, repeats: false) \n</code></pre></li>\n<li><p>See my fuller answer <a href=\"http://stackoverflow.com/a/34088708/3681880\">here</a>.</p></li>\n</ul>\n", "title": "dispatch_after - GCD in swift?", "answer_id": 37247881, "question_id": 24034544, "tags": ["ios", "swift", "grand-central-dispatch"]}, {"body": "<p>Another helper to delay your code that is <strong>100% Swift in usage</strong> and optionally allows for <strong>choosing a different thread</strong> to run your delayed code from:</p>\n\n<pre><code>func delay(bySeconds seconds: Double, dispatchLevel: DispatchLevel = .Main, closure: () -&gt; Void) {\n    let dispatchTime = dispatch_time(DISPATCH_TIME_NOW, Int64(seconds * Double(NSEC_PER_SEC)))\n    dispatch_after(dispatchTime, dispatchLevel.dispatchQueue, closure)\n}\n\nenum DispatchLevel {\n    case Main, UserInteractive, UserInitiated, Utility, Background\n    var dispatchQueue: OS_dispatch_queue {\n        switch self {\n        case .Main:             return dispatch_get_main_queue()\n        case .UserInteractive:  return dispatch_get_global_queue(QOS_CLASS_USER_INTERACTIVE, 0)\n        case .UserInitiated:    return dispatch_get_global_queue(QOS_CLASS_USER_INITIATED, 0)\n        case .Utility:          return dispatch_get_global_queue(QOS_CLASS_UTILITY, 0)\n        case .Background:       return dispatch_get_global_queue(QOS_CLASS_BACKGROUND, 0) }\n    }\n}\n</code></pre>\n\n<p>Now you simply <strong>delay your code on the Main thread</strong> like this:</p>\n\n<pre><code>delay(bySeconds: 1.5) { \n    // delayed code\n}\n</code></pre>\n\n<p>If you want to <strong>delay your code to a different thread</strong>:</p>\n\n<pre><code>delay(bySeconds: 1.5, dispatchLevel: .Background) { \n    // delayed code that will run on background thread\n}\n</code></pre>\n\n<hr>\n\n<p>If you prefer a <strong>Framework</strong> that also has some more handy features then checkout <strong><a href=\"https://github.com/Flinesoft/HandySwift\" rel=\"nofollow\">HandySwift</a></strong>. You can add it to your project <strong>via Carthage</strong> then use it exactly like in the examples above, e.g.:</p>\n\n<pre><code>import HandySwift    \n\ndelay(bySeconds: 1.5) { \n    // delayed code\n}\n</code></pre>\n", "title": "dispatch_after - GCD in swift?", "answer_id": 37732515, "question_id": 24034544, "tags": ["ios", "swift", "grand-central-dispatch"]}, {"body": "<p><strong>In Swift 3.0</strong> </p>\n\n<p><strong>Dispatch queues</strong></p>\n\n<pre><code>  DispatchQueue(label: \"test\").async {\n        //long running Background Task\n        for obj in 0...1000 {\n            print(\"async \\(obj)\")\n        }\n\n        // UI update in main queue\n        DispatchQueue.main.async(execute: { \n            print(\"UI update on main queue\")\n        })\n\n    }\n\n    DispatchQueue(label: \"m\").sync {\n        //long running Background Task\n        for obj in 0...1000 {\n            print(\"sync \\(obj)\")\n        }\n\n        // UI update in main queue\n        DispatchQueue.main.sync(execute: {\n            print(\"UI update on main queue\")\n        })\n    }\n</code></pre>\n\n<p><strong>Dispatch after 5 seconds</strong></p>\n\n<pre><code>    DispatchQueue.main.after(when: DispatchTime.now() + 5) {\n        print(\"Dispatch after 5 sec\")\n    }\n</code></pre>\n", "title": "dispatch_after - GCD in swift?", "answer_id": 38366155, "question_id": 24034544, "tags": ["ios", "swift", "grand-central-dispatch"]}], "question_id": 24034544}, {"body": "<p>Since Android 4.3 we can now make use of the <code>res/mipmap</code> folders to store \"mipmap\" images.</p>\n\n<p>e.g. <em>Chrome for Android</em> stores its icons in these folders instead of the more normal <code>res/drawable</code> folders.</p>\n\n<p><strong>How are these mipmap images different from the other familiar drawable images?</strong></p>\n\n<p>I see that in my manifest, we use the <code>@mipmap/</code> qualifier, instead of <code>@drawable/</code>, which makes sense given the resource folder name:</p>\n\n<pre><code>&lt;activity\n    android:name=\".MipmapDemp\"\n    android:icon=\"@mipmap/ic_launcher\" /&gt;\n</code></pre>\n\n<hr>\n\n<h2>References:</h2>\n\n<p>The <a href=\"https://developer.android.com/about/versions/android-4.3.html\">Android 4.3 APIs</a> document has the following to say:</p>\n\n<blockquote>\n  <p>Using a mipmap as the source for your bitmap or drawable is a simple\n  way to provide a quality image and various image scales, which can be\n  particularly useful if you expect your image to be scaled during an\n  animation.</p>\n  \n  <p>Android 4.2 (API level 17) added support for mipmaps in the Bitmap\n  class\u2014Android swaps the mip images in your Bitmap when you've supplied\n  a mipmap source and have enabled setHasMipMap(). Now in Android 4.3,\n  you can enable mipmaps for a BitmapDrawable object as well, by\n  providing a mipmap asset and setting the android:mipMap attribute in a\n  bitmap resource file or by calling hasMipMap().</p>\n</blockquote>\n\n<p>I don't see anything in there that helps me to understand?</p>\n\n<hr>\n\n<p><a href=\"http://developer.android.com/guide/topics/resources/drawable-resource.html#Bitmap\">XML Bitmap resources</a> have an <code>android:mipMap</code> property:</p>\n\n<blockquote>\n  <p>Boolean. Enables or disables the mipmap hint. See setHasMipMap() for\n  more information. Default value is false.</p>\n</blockquote>\n\n<p>This does not apply to launcher icons as far as I can see.</p>\n\n<hr>\n\n<p>The question was raised on Google Groups (<a href=\"https://groups.google.com/forum/#!topic/android-developers/ZUyF0JEwibs\">The purpose of resource name \"mipmap\"?!</a>), to which Romain Guy replied:</p>\n\n<blockquote>\n  <p>It's useful to provide an image at a larger resolution that would\n  normally be computed (for instance, on an mdpi device, Launcher might\n  want the larger hdpi icon to display large app shortcuts.)</p>\n</blockquote>\n\n<p>I feel like this almost makes sense of it, but not quite.</p>\n\n<p>I'm still inclined to go with Randy Sugianto's follow up:</p>\n\n<blockquote>\n  <p>What are the advantages of this?  Is there any guide how to use\n  mipmaps,  probably for better launcher icons?</p>\n</blockquote>\n\n<hr>\n\n<p>Of course, <a href=\"http://en.wikipedia.org/wiki/Mipmap\">Wikipedia has a page for \"Mipmap\"</a>, which refers to an older technique invented in 1983, that I can't quite relate to the current Android implementation.</p>\n\n<hr>\n\n<p>Should we be storing all our <strong>app icons in <code>res/mipmap</code> folders</strong> these days, and what are the <strong>guidelines</strong> for these mipmap images?</p>\n\n<hr>\n\n<p><strong>Update #1</strong> </p>\n\n<p>Here's a blog post that tries to explain it a bit. </p>\n\n<ul>\n<li><a href=\"http://programmium.wordpress.com/2014/03/20/mipmapping-for-drawables-in-android-4-3/\">Mipmapping for drawables in Android 4.3</a></li>\n</ul>\n\n<p>But the image used in that blog post shows what looks like 1 file with many logo's in it. This is not what I see in Chrome's mipmap folder. </p>\n\n<p>Chrome's <code>mipmap-hdpi</code> folder contains 3 images. One is the Chrome logo, on its own.</p>\n\n<p><img src=\"http://i.stack.imgur.com/o75PM.png\" alt=\"Chrome mipmap-hdpi icon.png\"></p>\n\n<p>Strangely, it is 72x72, not 48x48 which I would expect to see. </p>\n\n<p>Perhaps that is all there is to this - we just need to keep bigger icons in the mipmap folders?</p>\n\n<hr>\n\n<p><strong>Update #2</strong></p>\n\n<p>The Android Developers Blog post of 23/10/2014 again confirms the idea of using the <code>mipmap</code> folders for application icons:</p>\n\n<ul>\n<li><a href=\"http://android-developers.blogspot.com/2014/10/getting-your-apps-ready-for-nexus-6-and.html\">Getting Your Apps Ready for Nexus 6 and Nexus 9</a></li>\n</ul>\n\n<p>When talking about the Nexus 6 screen density, the author writes:</p>\n\n<blockquote>\n  <p>It\u2019s best practice to place your app icons in mipmap- folders (not the\n  drawable- folders) because they are used at resolutions different from\n  the device\u2019s current density. For example, an xxxhdpi app icon can be\n  used on the launcher for an xxhdpi device.</p>\n</blockquote>\n\n<hr>\n\n<p><strong>Update #3</strong></p>\n\n<p>Note that Android Studio creates the <code>ic_launcher.png</code> icons in the <code>mipmap...</code> folders rather than the <code>drawable...</code> folders that Eclipse used to create them in.</p>\n\n<hr>\n", "title": "mipmap drawables for icons", "tags": ["android", "android-drawable", "mipmaps"], "answer_count": 8, "link": "http://stackoverflow.com/questions/23935810/mipmap-drawables-for-icons", "answers": [{"body": "<p>There are two distinct uses of mipmaps.</p>\n\n<p>1) For launcher icons when building density specific APKs. Some developers build separate APKs for every density, to keep the APK size down. However some launchers (shipped with some devices, or available on the Play Store) use larger icon sizes than the standard 48dp. Launchers use getDrawableForDensity and scale down if needed, rather than up, so the icons are high quality. For example on an hdpi tablet the launcher might load the xhdpi icon. By placing your launcher icon in the mipmap-xhdpi directory, it will not be stripped the way a drawable-xhdpi directory is when building an APK for hdpi devices. If you're building a single APK for all devices, then this doesn't really matter as the launcher can access the drawable resources for the desired density.</p>\n\n<p>2) The actual mipmap API from 4.3. I haven't used this and am not familiar with it. It's not used by the Android Open Source Project launchers and I'm not aware of any other launcher using.</p>\n", "title": "mipmap drawables for icons", "answer_id": 24066445, "question_id": 23935810, "tags": ["android", "android-drawable", "mipmaps"]}, {"body": "<p>The understanding I have about mipmap is more or less like this:</p>\n\n<p>When an image needs to be drawn, given we have different screen sizes are resolutions,  some scaling will have to take part.</p>\n\n<p>If you have an image that is ok for a low end cell phone, when you scale it to the size of a 10\" tablet you have to \"invent\" pixels that don't actually exist. This is done with some interpolation algorithm. The more amount of pixels that have to be invented, the longer the process takes and quality starts to fail. Best quality is obtained with more complex algorithms that take longer (average of surrounding pixles vs copy the nearest pixel for example).</p>\n\n<p>To reduce the number of pixels that have to be invented, with mipmap you provide different sizes/rsolutions of the same image, and the system will choose the nearest image to the resolution that has to be rendered and do the scaling from there. This should reduce the number of invented pixels saving resources to be used in calculating these pixels to provide a good quality image.</p>\n\n<p>I read about this in an article explaining a performance problem in libgdx when scaling images:</p>\n\n<p><a href=\"http://www.badlogicgames.com/wordpress/?p=1403\" rel=\"nofollow\">http://www.badlogicgames.com/wordpress/?p=1403</a></p>\n", "title": "mipmap drawables for icons", "answer_id": 24096950, "question_id": 23935810, "tags": ["android", "android-drawable", "mipmaps"]}, {"body": "<p>The Android implementation of mipmaps in 4.3 is exactly the technique from 1983 explained in the Wikipedia article :)</p>\n\n<blockquote>\n  <p>Each bitmap image of the mipmap set is a downsized duplicate of the\n  main texture, but at a certain reduced level of detail. Although the\n  main texture would still be used when the view is sufficient to render\n  it in full detail, the renderer will switch to a suitable mipmap image\n  (...) when the texture is viewed from a distance or at a small size.</p>\n</blockquote>\n\n<p>Although this is described as a technique for 3D graphics (as it mentions \"viewing from a distance\"), it applies just as well to 2D (translated as \"drawn is a smaller space\", i.e. \"downscaled\").</p>\n\n<p>For a concrete Android example, imagine you have a View with a certain background drawable (in particular, a <code>BitmapDrawable</code>). You now use an animation to scale it to 0.15 of its original size. Normally, this would require downscaling the background bitmap for each frame. This \"extreme\" downscaling, however, may produce visual artifacts.</p>\n\n<p>You can, however, provide a mipmap, which means that the image is already pre-rendered for a few specific scales (let's say 1.0, 0.5, and 0.25). Whenever the animation \"crosses\" the 0.5 threshold, instead of continuing to downscale the original, 1.0-sized image, it will switch to the 0.5 image and downscale it, which should provide a better result. And so forth as the animation continues.</p>\n\n<p>This is a bit theoretical, since it's actually done by the renderer. According to the source of the Bitmap class, it's just a hint, and the renderer may or may not honor it.</p>\n\n<pre><code>/**\n * Set a hint for the renderer responsible for drawing this bitmap\n * indicating that it should attempt to use mipmaps when this bitmap\n * is drawn scaled down.\n *\n * If you know that you are going to draw this bitmap at less than\n * 50% of its original size, you may be able to obtain a higher\n * quality by turning this property on.\n * \n * Note that if the renderer respects this hint it might have to\n * allocate extra memory to hold the mipmap levels for this bitmap.\n *\n * This property is only a suggestion that can be ignored by the\n * renderer. It is not guaranteed to have any effect.\n *\n * @param hasMipMap indicates whether the renderer should attempt\n *                  to use mipmaps\n *\n * @see #hasMipMap()\n */\npublic final void setHasMipMap(boolean hasMipMap) {\n    nativeSetHasMipMap(mNativeBitmap, hasMipMap);\n}\n</code></pre>\n\n<p>I'm not quite sure why this would be especially suitable for application icons, though. Although Android on tablets, as well as some launchers (e.g. GEL), request an icon \"one density higher\" to show it bigger, this is supposed to be done using the regular mechanism (i.e. <code>drawable-xxxhdpi</code>, &amp;c).</p>\n", "title": "mipmap drawables for icons", "answer_id": 24102352, "question_id": 23935810, "tags": ["android", "android-drawable", "mipmaps"]}, {"body": "<blockquote>\n  <p>One thing I mentioned in another thread that is worth pointing out -- if you are building different versions of your app for different densities, you should know about the \"mipmap\" resource directory.  This is exactly like \"drawable\" resources, except it does not participate in density stripping when creating the different apk targets.</p>\n</blockquote>\n\n<p><a href=\"https://plus.google.com/105051985738280261832/posts/QTA9McYan1L\">https://plus.google.com/105051985738280261832/posts/QTA9McYan1L</a></p>\n", "title": "mipmap drawables for icons", "answer_id": 27995266, "question_id": 23935810, "tags": ["android", "android-drawable", "mipmaps"]}, {"body": "<p>It seems Google have <strong>updated their docs</strong> since all these answers, so hopefully this will help someone else in future :) Just came across this question myself, while creating a new (new new) project.</p>\n\n<p>TL;DR: drawables may be stripped out as part of dp-specific resource optimisation. Mipmaps will not be stripped.</p>\n\n<blockquote>\n  <p>Different home screen launcher apps on different devices show app launcher icons at various resolutions. When app resource optimization techniques remove resources for unused screen densities, launcher icons can wind up looking fuzzy because the launcher app has to upscale a lower-resolution icon for display. To avoid these display issues, apps should use the <code>mipmap/</code> resource folders for launcher icons. The Android system preserves these resources regardless of density stripping, and ensures that launcher apps can pick icons with the best resolution for display.</p>\n</blockquote>\n\n<p>(from <a href=\"http://developer.android.com/tools/projects/index.html#mipmap\">http://developer.android.com/tools/projects/index.html#mipmap</a>)</p>\n", "title": "mipmap drawables for icons", "answer_id": 30365962, "question_id": 23935810, "tags": ["android", "android-drawable", "mipmaps"]}, {"body": "<pre><code>res/\nmipmap-mdpi/ic_launcher.png (48x48 pixels)\nmipmap-hdpi/ic_launcher.png (72x72)\nmipmap-xhdpi/ic_launcher.png (96x96)\nmipmap-xxhdpi/ic_launcher.png (144x144)\nmipmap-xxxhdpi/ic_launcher.png (192x192)\n</code></pre>\n\n<p>MipMap for app icon for launcher</p>\n\n<p><a href=\"http://android-developers.blogspot.co.uk/2014/10/getting-your-apps-ready-for-nexus-6-and.html\" rel=\"nofollow\">http://android-developers.blogspot.co.uk/2014/10/getting-your-apps-ready-for-nexus-6-and.html</a></p>\n\n<p><a href=\"https://androidbycode.wordpress.com/2015/02/14/goodbye-launcher-drawables-hello-mipmaps/\" rel=\"nofollow\">https://androidbycode.wordpress.com/2015/02/14/goodbye-launcher-drawables-hello-mipmaps/</a></p>\n", "title": "mipmap drawables for icons", "answer_id": 31203284, "question_id": 23935810, "tags": ["android", "android-drawable", "mipmaps"]}, {"body": "<blockquote>\n  <p>How are these mipmap images different from the other familiar drawable images?</p>\n</blockquote>\n\n<p>Here is my two cents in trying to explain the difference. There are two cases you deal with when working with images in Android:</p>\n\n<ol>\n<li><p>You want to load an image for your device density and you are going to use it \"as is\", <em>without changing its actual size</em>. In this case you should work with <strong>drawables</strong> and Android will give you the best fitting image.</p></li>\n<li><p>You want to load an image for your device density, but this image <em>is going to be scaled up or down</em>. For instance this is needed when you want to show a bigger launcher icon, or you have an animation, which increases image's size. In such cases, to ensure best image quality, you should put your image into <strong>mipmap</strong> folder. What Android will do is, it will try to pick up the image from a higher density bucket instead of scaling it up. This will increase sharpness (quality) of the image.</p></li>\n</ol>\n\n<p>Thus, the rule of thumb to decide where to put your image into would be:</p>\n\n<ul>\n<li><em>Launcher icons</em> always go into <strong>mipmap</strong> folder.</li>\n<li>Images, which are often <em>scaled up</em> (or extremely scaled down) and whose quality is critical for the app, go into <strong>mipmap</strong> folder as well.</li>\n<li><em>All other images</em> are usual <strong>drawables</strong>.</li>\n</ul>\n", "title": "mipmap drawables for icons", "answer_id": 32328336, "question_id": 23935810, "tags": ["android", "android-drawable", "mipmaps"]}, {"body": "<p>Since I was looking for an clarifying answer to this to determine the right type for notification icons, I'd like to add this clear statement to the topic. It's from <a href=\"http://developer.android.com/tools/help/image-asset-studio.html#saving\" rel=\"nofollow\">http://developer.android.com/tools/help/image-asset-studio.html#saving</a></p>\n\n<blockquote>\n  <p>Note: Launcher icon files reside in a different location from that of\n  other icons. They are located in the mipmap/ folder. <strong>All other icon\n  files reside in the drawable/ folder</strong> of your project.</p>\n</blockquote>\n", "title": "mipmap drawables for icons", "answer_id": 36144245, "question_id": 23935810, "tags": ["android", "android-drawable", "mipmaps"]}], "question_id": 23935810}, {"body": "<p>I've seen in the new material design <a href=\"http://www.google.co.uk/design/spec/layout/structure.html#structure-side-nav\">Side Nav spec</a> that you can display the drawer over the action bar and behind the status bar. How can I implement this?</p>\n", "title": "How do I use DrawerLayout to display over the ActionBar/Toolbar and under the status bar?", "tags": ["android", "navigation-drawer", "appcompat"], "answer_count": 10, "link": "http://stackoverflow.com/questions/26440879/how-do-i-use-drawerlayout-to-display-over-the-actionbar-toolbar-and-under-the-st", "answers": [{"body": "<p>New functionality in the framework and support libs allow exactly this. There are three 'pieces of the puzzle':</p>\n\n<ol>\n<li>Using <a href=\"https://developer.android.com/reference/android/support/v7/widget/Toolbar.html\">Toolbar</a> so that you can embed your action bar into your view hierarchy.</li>\n<li>Making <a href=\"https://developer.android.com/reference/android/support/v4/widget/DrawerLayout.html\">DrawerLayout</a> <code>fitsSystemWindows</code> so that it is layed out behind the system bars.</li>\n<li>Disabling <code>Theme.Material</code>'s normal status bar coloring so that DrawerLayout can draw there instead.</li>\n</ol>\n\n<p>I'll assume that you will use the new appcompat.</p>\n\n<p>First, your layout should look like this:</p>\n\n<pre><code>&lt;!-- The important thing to note here is the added fitSystemWindows --&gt;\n&lt;android.support.v4.widget.DrawerLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:id=\"@+id/my_drawer_layout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:fitsSystemWindows=\"true\"&gt;\n\n    &lt;!-- Your normal content view --&gt;\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\"&gt;\n\n        &lt;!-- We use a Toolbar so that our drawer can be displayed\n             in front of the action bar --&gt;\n        &lt;android.support.v7.widget.Toolbar  \n            android:id=\"@+id/my_awesome_toolbar\"\n            android:layout_height=\"wrap_content\"\n            android:layout_width=\"match_parent\"\n            android:minHeight=\"?attr/actionBarSize\"\n            android:background=\"?attr/colorPrimary\" /&gt;\n\n        &lt;!-- The rest of your content view --&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;!-- Your drawer view. This can be any view, LinearLayout\n         is just an example. As we have set fitSystemWindows=true\n         this will be displayed under the status bar. --&gt;\n    &lt;LinearLayout\n        android:layout_width=\"304dp\"\n        android:layout_height=\"match_parent\"\n        android:layout_gravity=\"left|start\"\n        android:fitsSystemWindows=\"true\"&gt;\n\n        &lt;!-- Your drawer content --&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/android.support.v4.widget.DrawerLayout&gt;\n</code></pre>\n\n<p>Then in your Activity/Fragment:</p>\n\n<pre><code>public void onCreate(Bundled savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    // Your normal setup. Blah blah ...\n\n    // As we're using a Toolbar, we should retrieve it and set it\n    // to be our ActionBar\n    Toolbar toolbar = (...) findViewById(R.id.my_awesome_toolbar);\n    setSupportActionBar(toolbar);\n\n    // Now retrieve the DrawerLayout so that we can set the status bar color.\n    // This only takes effect on Lollipop, or when using translucentStatusBar\n    // on KitKat.\n    DrawerLayout drawerLayout = (...) findViewById(R.id.my_drawer_layout);\n    drawerLayout.setStatusBarBackgroundColor(yourChosenColor);\n}\n</code></pre>\n\n<p>Then you need to make sure that the DrawerLayout is visible behind the status bar. You do that by changing your values-v21 theme:</p>\n\n<p><strong>values-v21/themes.xml</strong></p>\n\n<pre><code>&lt;style name=\"Theme.MyApp\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n    &lt;item name=\"android:windowDrawsSystemBarBackgrounds\"&gt;true&lt;/item&gt;\n    &lt;item name=\"android:statusBarColor\"&gt;@android:color/transparent&lt;/item&gt;\n    &lt;item name=\"android:windowTranslucentStatus\"&gt;true&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>Note:\nIf a <code>&lt;fragment android:name=\"fragments.NavigationDrawerFragment\"&gt;</code> is used instead of</p>\n\n<pre><code>&lt;LinearLayout\n    android:layout_width=\"304dp\"\n    android:layout_height=\"match_parent\"\n    android:layout_gravity=\"left|start\"\n    android:fitsSystemWindows=\"true\"&gt;\n\n    &lt;!-- Your drawer content --&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>the actual layout, the desired effect will be achieved if you call <code>fitsSystemWindows(boolean)</code> on a view that you return from <code>onCreateView</code> method.</p>\n\n<pre><code>@Override\npublic View onCreateView(LayoutInflater inflater, \n                         ViewGroup container,\n                         Bundle savedInstanceState) {\n    View mDrawerListView = inflater.inflate(\n        R.layout.fragment_navigation_drawer, container, false);\n    mDrawerListView.setFitsSystemWindows(true);\n    return mDrawerListView;\n}\n</code></pre>\n", "title": "How do I use DrawerLayout to display over the ActionBar/Toolbar and under the status bar?", "answer_id": 26440880, "question_id": 26440879, "tags": ["android", "navigation-drawer", "appcompat"]}, {"body": "<p>Make it work, in values-v21 styles or theme xml needs to use this attribute:</p>\n\n<p><code>&lt;item name=\"android:windowTranslucentStatus\"&gt;true&lt;/item&gt;</code></p>\n\n<p>That make the magic!</p>\n", "title": "How do I use DrawerLayout to display over the ActionBar/Toolbar and under the status bar?", "answer_id": 26745914, "question_id": 26440879, "tags": ["android", "navigation-drawer", "appcompat"]}, {"body": "<p>This is the most simple, and it worked for me:</p>\n\n<p>In the values-21:</p>\n\n<pre><code>&lt;resources&gt;\n    &lt;style name=\"AppTheme\" parent=\"AppTheme.Base\"&gt;\n        ...\n        &lt;item name=\"android:windowTranslucentStatus\"&gt;true&lt;/item&gt;\n    &lt;/style&gt;\n    &lt;dimen name=\"topMargin\"&gt;25dp&lt;/dimen&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>In the values:</p>\n\n<pre><code>&lt;resources&gt;\n    &lt;dimen name=\"topMargin\"&gt;0dp&lt;/dimen&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>And set to your toolbar</p>\n\n<pre><code>android:layout_marginTop=\"@dimen/topMargin\"\n</code></pre>\n", "title": "How do I use DrawerLayout to display over the ActionBar/Toolbar and under the status bar?", "answer_id": 27069317, "question_id": 26440879, "tags": ["android", "navigation-drawer", "appcompat"]}, {"body": "<h2>EDIT: The new Design Support Library supports this and the previous method is no longer required.</h2>\n\n<p>This can now be achieved using the new <a href=\"http://android-developers.blogspot.in/2015/05/android-design-support-library.html\">Android Design Support Library</a>.</p>\n\n<p>You can see the <a href=\"https://github.com/chrisbanes/cheesesquare\">Cheesesquare sample app</a> by Chris Banes which demos all the new features.</p>\n\n<hr>\n\n<h2>Previous method:</h2>\n\n<p>Since there is no complete solution posted, here is the way I achieved the desired result.</p>\n\n<p>First include a <a href=\"https://github.com/google/iosched/blob/master/android/src/main/java/com/google/samples/apps/iosched/ui/widget/ScrimInsetsFrameLayout.java\">ScrimInsetsFrameLayout</a> in your project.</p>\n\n<pre><code>/*\n* Copyright 2014 Google Inc.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*     http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n/**\n* A layout that draws something in the insets passed to \n* {@link #fitSystemWindows(Rect)}, i.e. the area above UI chrome\n* (status and navigation bars, overlay action bars).\n*/\npublic class ScrimInsetsFrameLayout extends FrameLayout {\n    private Drawable mInsetForeground;\n\n    private Rect mInsets;\n    private Rect mTempRect = new Rect();\n    private OnInsetsCallback mOnInsetsCallback;\n\n    public ScrimInsetsFrameLayout(Context context) {\n        super(context);\n        init(context, null, 0);\n    }\n\n    public ScrimInsetsFrameLayout(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        init(context, attrs, 0);\n    }\n\n    public ScrimInsetsFrameLayout(\n        Context context, AttributeSet attrs, int defStyle) {\n        super(context, attrs, defStyle);\n        init(context, attrs, defStyle);\n    }\n\n    private void init(Context context, AttributeSet attrs, int defStyle) {\n        final TypedArray a = context.obtainStyledAttributes(attrs,\n                R.styleable.ScrimInsetsView, defStyle, 0);\n        if (a == null) {\n            return;\n        }\n        mInsetForeground = a.getDrawable(\n            R.styleable.ScrimInsetsView_insetForeground);\n        a.recycle();\n\n        setWillNotDraw(true);\n    }\n\n    @Override\n    protected boolean fitSystemWindows(Rect insets) {\n        mInsets = new Rect(insets);\n        setWillNotDraw(mInsetForeground == null);\n        ViewCompat.postInvalidateOnAnimation(this);\n        if (mOnInsetsCallback != null) {\n            mOnInsetsCallback.onInsetsChanged(insets);\n        }\n        return true; // consume insets\n    }\n\n    @Override\n    public void draw(Canvas canvas) {\n        super.draw(canvas);\n\n        int width = getWidth();\n        int height = getHeight();\n        if (mInsets != null &amp;&amp; mInsetForeground != null) {\n            int sc = canvas.save();\n            canvas.translate(getScrollX(), getScrollY());\n\n            // Top\n            mTempRect.set(0, 0, width, mInsets.top);\n            mInsetForeground.setBounds(mTempRect);\n            mInsetForeground.draw(canvas);\n\n            // Bottom\n            mTempRect.set(0, height - mInsets.bottom, width, height);\n            mInsetForeground.setBounds(mTempRect);\n            mInsetForeground.draw(canvas);\n\n            // Left\n            mTempRect.set(\n                0, \n                mInsets.top, \n                mInsets.left, \n                height - mInsets.bottom);\n            mInsetForeground.setBounds(mTempRect);\n            mInsetForeground.draw(canvas);\n\n            // Right\n            mTempRect.set(\n                width - mInsets.right, \n                mInsets.top, width, \n                height - mInsets.bottom);\n            mInsetForeground.setBounds(mTempRect);\n            mInsetForeground.draw(canvas);\n\n            canvas.restoreToCount(sc);\n        }\n    }\n\n    @Override\n    protected void onAttachedToWindow() {\n        super.onAttachedToWindow();\n        if (mInsetForeground != null) {\n            mInsetForeground.setCallback(this);\n        }\n    }\n\n    @Override\n    protected void onDetachedFromWindow() {\n        super.onDetachedFromWindow();\n        if (mInsetForeground != null) {\n            mInsetForeground.setCallback(null);\n        }\n    }\n\n    /**\n     * Allows the calling container to specify a callback for custom \n     * processing when insets change (i.e. when {@link #fitSystemWindows(Rect)}\n     * is called. This is useful for setting padding on UI elements \n     * based on UI chrome insets (e.g. a Google Map or a ListView). \n     * When using with ListView or GridView, remember to set\n     * clipToPadding to false.\n     */\n    public void setOnInsetsCallback(OnInsetsCallback onInsetsCallback) {\n        mOnInsetsCallback = onInsetsCallback;\n    }\n\n    public static interface OnInsetsCallback {\n        public void onInsetsChanged(Rect insets);\n    }\n}\n</code></pre>\n\n<p>Then create a styleable so that the <code>insetForeground</code> can be set.</p>\n\n<p><strong>values/attrs.xml</strong></p>\n\n<pre><code>&lt;declare-styleable name=\"ScrimInsetsView\"&gt;\n    &lt;attr name=\"insetForeground\" format=\"reference|color\" /&gt;\n&lt;/declare-styleable&gt;\n</code></pre>\n\n<p>Update your activity's xml file and make sure <code>android:fitsSystemWindows</code> is set to true on both the <code>DrawerLayout</code> as well as the <code>ScrimInsetsFrameLayout</code>.</p>\n\n<p><strong>layout/activity_main.xml</strong></p>\n\n<pre><code>&lt;android.support.v4.widget.DrawerLayout \n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/drawerLayout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:fitsSystemWindows=\"true\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;!-- The main content view --&gt;\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\"&gt;\n\n        &lt;!-- Your main content --&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;!-- The navigation drawer --&gt;\n    &lt;com.example.app.util.ScrimInsetsFrameLayout \n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:id=\"@+id/scrimInsetsFrameLayout\"\n        android:layout_width=\"320dp\"\n        android:layout_height=\"match_parent\"\n        android:layout_gravity=\"start\"\n        android:background=\"@color/white\"\n        android:elevation=\"10dp\"\n        android:fitsSystemWindows=\"true\"\n        app:insetForeground=\"#4000\"&gt;\n\n        &lt;!-- Your drawer content --&gt;\n\n    &lt;/com.example.app.util.ScrimInsetsFrameLayout&gt;\n\n&lt;/android.support.v4.widget.DrawerLayout&gt;\n</code></pre>\n\n<p>Inside the onCreate method of your activity set the status bar background color on the drawer layout.</p>\n\n<p><strong>MainActivity.java</strong></p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    // ...\n\n    mDrawerLayout = (DrawerLayout) findViewById(R.id.drawerLayout);\n    mDrawerLayout.setStatusBarBackgroundColor(\n        getResources().getColor(R.color.primary_dark));\n}\n</code></pre>\n\n<p>Finally update your app's theme so that the <code>DrawerLayout</code> is behind the status bar.</p>\n\n<p><strong>values-v21/styles.xml</strong></p>\n\n<pre><code>&lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n    &lt;item name=\"android:windowDrawsSystemBarBackgrounds\"&gt;true&lt;/item&gt;\n    &lt;item name=\"android:statusBarColor\"&gt;@android:color/transparent&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p><strong>Result:</strong></p>\n\n<p><img src=\"http://i.imgur.com/uG2mXrq.png\" width=\"360\" height=\"640\" /></p>\n", "title": "How do I use DrawerLayout to display over the ActionBar/Toolbar and under the status bar?", "answer_id": 27153313, "question_id": 26440879, "tags": ["android", "navigation-drawer", "appcompat"]}, {"body": "<p>The above all approaches are correct and may be working . I have created a working demo following the above guide and tested on 2.x to 5.x </p>\n\n<p>You can clone from <a href=\"https://github.com/vsahu1986/MaterialSlider\" rel=\"nofollow\">Github</a></p>\n\n<p>The important thing to play around is in Main Activity </p>\n\n<pre><code>toolbar = (Toolbar) findViewById(R.id.toolbar);\nres = this.getResources();\n\nthis.setSupportActionBar(toolbar);\nActionBar actionBar = getSupportActionBar();\nactionBar.setDisplayHomeAsUpEnabled(true);\nactionBar.setHomeButtonEnabled(true);\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) { \n    ScrimInsetsFrameLayout scrimInsetsFrameLayout = (ScrimInsetsFrameLayout)\n            findViewById(R.id.linearLayout);\n    scrimInsetsFrameLayout.setOnInsetsCallback(this);\n} \n</code></pre>\n\n<p>and the call back </p>\n\n<pre><code>@Override\npublic void onInsetsChanged(Rect insets) {\n    Toolbar toolbar = this.toolbar;\n    ViewGroup.MarginLayoutParams lp = (ViewGroup.MarginLayoutParams)\n        toolbar.getLayoutParams();\n    lp.topMargin = insets.top;\n    int top = insets.top;\n    insets.top += toolbar.getHeight();\n    toolbar.setLayoutParams(lp);\n    insets.top = top; // revert\n}\n</code></pre>\n\n<p>Absolutely the Theme for V21 does the magic </p>\n\n<pre><code>&lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n    &lt;!-- API 21 theme customizations can go here. --&gt;\n    &lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n    &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n    &lt;item name=\"colorAccent\"&gt;@color/accent_material_light&lt;/item&gt;\n    &lt;item name=\"windowActionModeOverlay\"&gt;true&lt;/item&gt;\n    &lt;item name=\"android:windowDrawsSystemBarBackgrounds\"&gt;true&lt;/item&gt;\n    &lt;item name=\"android:statusBarColor\"&gt;@android:color/transparent&lt;/item&gt;\n    &lt;item name=\"android:windowTranslucentStatus\"&gt;true&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>and the ScrimInsetsFrameLayout</p>\n\n<p>Now this come more easy with new <a href=\"http://android-developers.blogspot.in/2015/05/android-design-support-library.html\" rel=\"nofollow\">Design Support library</a> </p>\n\n<pre><code>compile 'com.android.support:design:22.2.0'\n</code></pre>\n\n<p>clone from @Chris Banes\n<a href=\"https://github.com/chrisbanes/cheesesquare\" rel=\"nofollow\">https://github.com/chrisbanes/cheesesquare</a></p>\n", "title": "How do I use DrawerLayout to display over the ActionBar/Toolbar and under the status bar?", "answer_id": 27705128, "question_id": 26440879, "tags": ["android", "navigation-drawer", "appcompat"]}, {"body": "<p>Try with this: </p>\n\n<pre><code>&lt;android.support.v4.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:id=\"@+id/drawer_layout\"\nandroid:fitsSystemWindows=\"true\"&gt;\n\n\n&lt;FrameLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;!--Main layout and ads--&gt;\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\"&gt;\n\n        &lt;FrameLayout\n            android:id=\"@+id/ll_main_hero\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"0dp\"\n            android:layout_weight=\"1\"&gt;\n\n        &lt;/FrameLayout&gt;\n\n        &lt;FrameLayout\n            android:id=\"@+id/ll_ads\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"&gt;\n\n            &lt;View\n                android:layout_width=\"320dp\"\n                android:layout_height=\"50dp\"\n                android:layout_gravity=\"center\"\n                android:background=\"#ff00ff\" /&gt;\n        &lt;/FrameLayout&gt;\n\n\n    &lt;/LinearLayout&gt;\n\n    &lt;!--Toolbar--&gt;\n    &lt;android.support.v7.widget.Toolbar\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:id=\"@+id/toolbar\"\n        android:elevation=\"4dp\" /&gt;\n&lt;/FrameLayout&gt;\n\n\n&lt;!--left--&gt;\n&lt;ListView\n    android:layout_width=\"240dp\"\n    android:layout_height=\"match_parent\"\n    android:layout_gravity=\"start\"\n    android:choiceMode=\"singleChoice\"\n    android:divider=\"@null\"\n    android:background=\"@mipmap/layer_image\"\n    android:id=\"@+id/left_drawer\"&gt;&lt;/ListView&gt;\n\n&lt;!--right--&gt;\n&lt;FrameLayout\n    android:layout_width=\"240dp\"\n    android:layout_height=\"match_parent\"\n    android:layout_gravity=\"right\"\n    android:background=\"@mipmap/layer_image\"&gt;\n\n    &lt;ImageView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:src=\"@mipmap/ken2\"\n        android:scaleType=\"centerCrop\" /&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p></p>\n\n<p>style :</p>\n\n<pre><code>&lt;style name=\"ts_theme_overlay\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n    &lt;item name=\"colorPrimary\"&gt;@color/red_A700&lt;/item&gt;\n    &lt;item name=\"colorPrimaryDark\"&gt;@color/red1&lt;/item&gt;\n    &lt;item name=\"android:windowBackground\"&gt;@color/blue_A400&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>Main Activity extends ActionBarActivity</p>\n\n<pre><code>toolBar = (Toolbar) findViewById(R.id.toolbar);\n    setSupportActionBar(toolBar);\n</code></pre>\n\n<p>Now you can <code>onCreateOptionsMenu</code> like as normal ActionBar with ToolBar.</p>\n\n<p>This is my Layout </p>\n\n<ul>\n<li>TOP:    Left Drawer - Right Drawer \n<ul>\n<li>MID:    ToolBar (ActionBar)</li>\n<li>BOTTOM: ListFragment</li>\n</ul></li>\n</ul>\n\n<p>Hope you understand !have fun !</p>\n", "title": "How do I use DrawerLayout to display over the ActionBar/Toolbar and under the status bar?", "answer_id": 29161896, "question_id": 26440879, "tags": ["android", "navigation-drawer", "appcompat"]}, {"body": "<p>Instead of using the <code>ScrimInsetsFrameLayout</code>... Isn't it easier to just add a view with a fixed height of <code>24dp</code> and a background of <code>primaryColor</code>?</p>\n\n<p>I understand that this involves adding a dummy view in the hierarchy, but it seems cleaner to me.</p>\n\n<p>I already tried it and it's working well.</p>\n\n<pre><code>&lt;android.support.v4.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:id=\"@+id/activity_base_drawer_layout\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\"&gt;\n\n        &lt;!-- THIS IS THE VIEW I'M TALKING ABOUT... --&gt;\n        &lt;View\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"24dp\"\n            android:background=\"?attr/colorPrimary\" /&gt;\n\n        &lt;android.support.v7.widget.Toolbar\n            android:id=\"@+id/activity_base_toolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"?attr/actionBarSize\"\n            android:background=\"?attr/colorPrimary\"\n            android:elevation=\"2dp\"\n            android:theme=\"@style/ThemeOverlay.AppCompat.Dark\" /&gt;\n\n        &lt;FrameLayout\n            android:id=\"@+id/activity_base_content_frame_layout\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\" /&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;fragment\n        android:id=\"@+id/activity_base_drawer_fragment\"\n        android:name=\"com.myapp.drawer.ui.DrawerFragment\"\n        android:layout_width=\"240dp\"\n        android:layout_height=\"match_parent\"\n        android:layout_gravity=\"start\"\n        android:elevation=\"4dp\"\n        tools:layout=\"@layout/fragment_drawer\" /&gt;\n\n&lt;/android.support.v4.widget.DrawerLayout&gt;\n</code></pre>\n", "title": "How do I use DrawerLayout to display over the ActionBar/Toolbar and under the status bar?", "answer_id": 30446717, "question_id": 26440879, "tags": ["android", "navigation-drawer", "appcompat"]}, {"body": "<p>With the release of the latest <a href=\"http://developer.android.com/tools/support-library/index.html\">Android Support Library (rev 22.2.0)</a> we've got a <a href=\"http://developer.android.com/tools/support-library/features.html#design\">Design Support Library</a> and as part of this a new view called <a href=\"http://developer.android.com/reference/android/support/design/widget/NavigationView.html\">NavigationView</a>. So instead of doing everything on our own with the <code>ScrimInsetsFrameLayout</code> and all the other stuff we simply use this view and everything is done for us.</p>\n\n<h2>Example</h2>\n\n<h3>Step 1</h3>\n\n<p>Add the <code>Design Support Library</code> to your <code>build.gradle</code> file</p>\n\n<pre><code>dependencies {\n    // Other dependencies like appcompat\n    compile 'com.android.support:design:22.2.0'\n}\n</code></pre>\n\n<h3>Step 2</h3>\n\n<p>Add the <code>NavigationView</code> to your <code>DrawerLayout</code>:</p>\n\n<pre><code>&lt;android.support.v4.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n     xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n     android:id=\"@+id/drawer_layout\"\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"match_parent\"\n     android:fitsSystemWindows=\"true\"&gt; &lt;!-- this is important --&gt;\n\n     &lt;!-- Your contents --&gt;\n\n     &lt;android.support.design.widget.NavigationView\n         android:id=\"@+id/navigation\"\n         android:layout_width=\"wrap_content\"\n         android:layout_height=\"match_parent\"\n         android:layout_gravity=\"start\"\n         app:menu=\"@menu/navigation_items\" /&gt; &lt;!-- The items to display --&gt;\n &lt;/android.support.v4.widget.DrawerLayout&gt;\n</code></pre>\n\n<h3>Step 3</h3>\n\n<p>Create a new menu-resource in <code>/res/menu</code> and add the items and icons you wanna display:</p>\n\n<pre><code>&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n    &lt;group android:checkableBehavior=\"single\"&gt;\n        &lt;item\n            android:id=\"@+id/nav_home\"\n            android:icon=\"@drawable/ic_action_home\"\n            android:title=\"Home\" /&gt;\n        &lt;item\n            android:id=\"@+id/nav_example_item_1\"\n            android:icon=\"@drawable/ic_action_dashboard\"\n            android:title=\"Example Item #1\" /&gt;\n    &lt;/group&gt;\n\n    &lt;item android:title=\"Sub items\"&gt;\n        &lt;menu&gt;\n            &lt;item\n                android:id=\"@+id/nav_example_sub_item_1\"\n                android:title=\"Example Sub Item #1\" /&gt;\n        &lt;/menu&gt;\n    &lt;/item&gt;\n\n&lt;/menu&gt;\n</code></pre>\n\n<h3>Step 4</h3>\n\n<p>Init the NavigationView and handle click events:</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    NavigationView mNavigationView;\n    DrawerLayout mDrawerLayout;\n\n    // Other stuff\n\n    private void init() {\n        mDrawerLayout = (DrawerLayout) findViewById(R.id.drawer_layout);\n        mNavigationView = (NavigationView) findViewById(R.id.navigation_view);\n        mNavigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(MenuItem menuItem) {\n                mDrawerLayout.closeDrawers();\n                menuItem.setChecked(true);\n                switch (menuItem.getItemId()) {\n                    case R.id.nav_home:\n                        // TODO - Do something\n                        break;\n                    // TODO - Handle other items\n                }\n                return true;\n            }\n        });\n    }\n}\n</code></pre>\n\n<h3>Step 5</h3>\n\n<p>Be sure to set <code>android:windowDrawsSystemBarBackgrounds</code> and <code>android:statusBarColor</code> in <code>values-v21</code> otherwise your Drawer won`t be displayed \"under\" the StatusBar</p>\n\n<pre><code>&lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n    &lt;!-- Other attributes like colorPrimary, colorAccent etc. --&gt;\n    &lt;item name=\"android:windowDrawsSystemBarBackgrounds\"&gt;true&lt;/item&gt;\n    &lt;item name=\"android:statusBarColor\"&gt;@android:color/transparent&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<h3>Optional Step</h3>\n\n<p>Add a Header to the NavigationView. For this simply create a new layout and add <code>app:headerLayout=\"@layout/my_header_layout\"</code> to the NavigationView.</p>\n\n<h3>Result</h3>\n\n<p><img src=\"http://i.stack.imgur.com/50Nj4.png\" alt=\"picture showing navigation view\"></p>\n\n<h3>Notes</h3>\n\n<ul>\n<li>The <strong>highlighted color</strong> uses the color defined via the <code>colorPrimary</code> attribute</li>\n<li>The <strong>List Items</strong> use the <strong>color</strong> defined via the <code>textColorPrimary</code> attribute</li>\n<li>The <strong>Icons</strong> use the <strong>color</strong> defined via the <code>textColorSecondary</code> attribute</li>\n</ul>\n\n<p>You can also check the <a href=\"https://github.com/chrisbanes/cheesesquare/\">example app</a> by <em>Chris Banes</em> which highlights the NavigationView along with the other new views that are part of the Design Support Library (like the <em>FloatingActionButton</em>, <em>TextInputLayout</em>, <em>Snackbar</em>, <em>TabLayout</em> etc.)</p>\n", "title": "How do I use DrawerLayout to display over the ActionBar/Toolbar and under the status bar?", "answer_id": 30525387, "question_id": 26440879, "tags": ["android", "navigation-drawer", "appcompat"]}, {"body": "<p><em>I am Using Design Support Library. And just by using custom theme I achived transparent Status Bar when Opened Navigation Drawer.</em></p>\n\n<p><img src=\"http://i.stack.imgur.com/uRtYJ.jpg\" alt=\"enter image description here\"></p>\n\n<p><a href=\"http://i.stack.imgur.com/ruGhz.jpg\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/ruGhz.jpg\" alt=\"enter image description here\"></a></p>\n\n<pre><code>&lt;style name=\"NavigationStyle\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n    &lt;!-- Customize your theme here. --&gt;\n    &lt;item name=\"colorPrimary\"&gt;@color/primaryColor&lt;/item&gt;\n    &lt;item name=\"colorPrimaryDark\"&gt;@color/primaryColorDark&lt;/item&gt;\n\n    &lt;!-- To Make Navigation Drawer Fill Status Bar and become Transparent Too --&gt;\n    &lt;item name=\"android:windowDrawsSystemBarBackgrounds\"&gt;true&lt;/item&gt;\n    &lt;item name=\"android:statusBarColor\"&gt;@android:color/transparent&lt;/item&gt;\n\n&lt;/style&gt;\n</code></pre>\n\n<p><em>Finally add theme in Manifest File</em></p>\n\n<pre><code>&lt;activity\n  ........\n  ........\n android:theme=\"@style/NavigationStyle\"&gt; \n&lt;/activity&gt;\n</code></pre>\n\n<p><em>Do not forget to use the property, <code>android:fitsSystemWindows=\"true\"</code> in \"DrawerLayout\"</em></p>\n", "title": "How do I use DrawerLayout to display over the ActionBar/Toolbar and under the status bar?", "answer_id": 31556858, "question_id": 26440879, "tags": ["android", "navigation-drawer", "appcompat"]}, {"body": "<p>All answers mentioned here are too old and lengthy.The best and short solution that work with latest Navigationview is</p>\n\n<pre><code>@Override\npublic void onDrawerSlide(View drawerView, float slideOffset) {\n    super.onDrawerSlide(drawerView, slideOffset);\n\n    try {\n        //int currentapiVersion = android.os.Build.VERSION.SDK_INT;\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.LOLLIPOP){\n            // Do something for lollipop and above versions\n\n        Window window = getWindow();\n\n        // clear FLAG_TRANSLUCENT_STATUS flag:\n        window.clearFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);\n\n        // add FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS flag to the window\n        window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\n\n        // finally change the color to any color with transparency\n\n         window.setStatusBarColor(getResources().getColor(R.color.colorPrimaryDarktrans));}\n\n    } catch (Exception e) {\n\n        Crashlytics.logException(e);\n\n    }\n}\n</code></pre>\n\n<p>this is going to change your status bar color to transparent when you open the drawer</p>\n\n<p>Now when you close the drawer you need to change status bar color again to dark.So you can do it in this way.</p>\n\n<pre><code>        public void onDrawerClosed(View drawerView) {\n        super.onDrawerClosed(drawerView);\n        try {\n    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.LOLLIPOP){\n    // Do something for lollipop and above versions\n\n    Window window = getWindow();\n\n    // clear FLAG_TRANSLUCENT_STATUS flag:\n    window.clearFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);\n\n    // add FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS flag to the window\n    window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\n\n    // finally change the color again to dark\n    window.setStatusBarColor(getResources().getColor(R.color.colorPrimaryDark));}\n    } catch (Exception e) {\n    Crashlytics.logException(e);\n                    }\n                    }\n</code></pre>\n\n<p>and then in main layout add a single line i.e</p>\n\n<pre><code>            android:fitsSystemWindows=\"true\"\n</code></pre>\n\n<p>and your drawer layout will look like</p>\n\n<pre><code>            &lt;android.support.v4.widget.DrawerLayout     \n            xmlns:android=\"http://schemas.android.com/apk/res/android\"\n            xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n            xmlns:tools=\"http://schemas.android.com/tools\"\n            android:id=\"@+id/drawer_layout\"\n            android:fitsSystemWindows=\"true\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"&gt;\n</code></pre>\n\n<p>and your navigation view will look like</p>\n\n<pre><code>    &lt;android.support.design.widget.NavigationView\n        android:id=\"@+id/navigation_view\"\n        android:layout_height=\"match_parent\"\n        android:layout_width=\"wrap_content\"\n        android:layout_gravity=\"start\"\n        android:fitsSystemWindows=\"true\"\n        app:headerLayout=\"@layout/navigation_header\"\n        app:menu=\"@menu/drawer\"\n        /&gt;\n</code></pre>\n\n<p>I have tested it and its fully working.Hope it helps someone.This may not be the best approach but it works smoothly and is simple to implement.\nMark it up if it helps.Happy coding :)</p>\n", "title": "How do I use DrawerLayout to display over the ActionBar/Toolbar and under the status bar?", "answer_id": 35362746, "question_id": 26440879, "tags": ["android", "navigation-drawer", "appcompat"]}], "question_id": 26440879}, {"body": "<p>Here's the scenario: I've written some code with a type signature and GHC complains could not deduce x ~ y for some <code>x</code> and <code>y</code>. You can usually throw GHC a bone and simply add the isomorphism to the function constraints, but this is a bad idea for several reasons:</p>\n\n<ol>\n<li>It does not emphasize understanding the code.</li>\n<li>You can end up with 5 constraints where one would have sufficed (for example, if the 5 are implied by one more specific constraint)</li>\n<li>You can end up with bogus constraints if you've done something wrong or if GHC is being unhelpful</li>\n</ol>\n\n<p>I just spent several hours battling case 3. I'm playing with <a href=\"https://hackage.haskell.org/package/syntactic-2.0\" rel=\"nofollow\"><code>syntactic-2.0</code></a>, and I was trying to define a domain-independent version of <code>share</code>, similar to the version defined in <a href=\"https://github.com/emilaxelsson/syntactic/blob/2.0/examples/NanoFeldspar.hs\" rel=\"nofollow\"><code>NanoFeldspar.hs</code></a>.</p>\n\n<p>I had this:</p>\n\n<pre><code>{-# LANGUAGE GADTs, FlexibleContexts, TypeOperators #-}\nimport Data.Syntactic\n\n-- Based on NanoFeldspar.hs\ndata Let a where\n    Let :: Let (a :-&gt; (a -&gt; b) :-&gt; Full b)\n\nshare :: (Let :&lt;: sup,\n          Domain a ~ sup,\n          Domain b ~ sup,\n          SyntacticN (a -&gt; (a -&gt; b) -&gt; b) fi) \n      =&gt; a -&gt; (a -&gt; b) -&gt; a\nshare = sugarSym Let\n</code></pre>\n\n<p>and GHC <code>could not deduce (Internal a) ~ (Internal b)</code>, which is certainly not what I was going for. So either I had written some code I didn't intend to (which required the constraint), or GHC wanted that constraint due to some other constraints I had written.</p>\n\n<p>It turns out I needed to add <code>(Syntactic a, Syntactic b, Syntactic (a-&gt;b))</code> to the constraint list, none of which imply <code>(Internal a) ~ (Internal b)</code>. I basically stumbled upon the correct constraints; I still don't have a systematic way to find them.</p>\n\n<p>My questions are:</p>\n\n<ol>\n<li>Why did GHC propose that constraint? Nowhere in syntactic is there a constraint <code>Internal a ~ Internal b</code>, so where did GHC pull that from?</li>\n<li>In general, what techniques can be used to trace the origin of a constraint which GHC believes it needs? Even for constraints that I <em>can</em> discover myself, my approach is essentially brute forcing the offending path by physically writing down recursive constraints. This approach is basically going down an infinite rabbit hole of constraints and is about the least efficient method I can imagine.</li>\n</ol>\n", "title": "Techniques for Tracing Constraints", "tags": ["haskell", "constraints", "ghc"], "answer_count": 1, "link": "http://stackoverflow.com/questions/23448150/techniques-for-tracing-constraints", "answers": [{"body": "<p>First of all, your function has the wrong type; I am pretty sure it should be (without the context) <code>a -&gt; (a -&gt; b) -&gt; b</code>. GHC 7.10 is somewhat more helpful in pointing that out, because with your original code, it complains about a missing constraint \n<code>Internal (a -&gt; b) ~ (Internal a -&gt; Internal a)</code>. After fixing <code>share</code>'s type, GHC 7.10 remains helpful in guiding us:</p>\n\n<ol>\n<li><p><code>Could not deduce (Internal (a -&gt; b) ~ (Internal a -&gt; Internal b))</code> </p></li>\n<li><p>After adding the above, we get <code>Could not deduce (sup ~ Domain (a -&gt; b))</code></p></li>\n<li><p>After adding that, we get <code>Could not deduce (Syntactic a)</code>, <code>Could not deduce (Syntactic b)</code> and <code>Could not deduce (Syntactic (a -&gt; b))</code></p></li>\n<li><p>After adding these three, it finally typechecks; so we end up with</p>\n\n<pre><code>share :: (Let :&lt;: sup,\n          Domain a ~ sup,\n          Domain b ~ sup,\n          Domain (a -&gt; b) ~ sup,\n          Internal (a -&gt; b) ~ (Internal a -&gt; Internal b),\n          Syntactic a, Syntactic b, Syntactic (a -&gt; b),\n          SyntacticN (a -&gt; (a -&gt; b) -&gt; b) fi)\n      =&gt; a -&gt; (a -&gt; b) -&gt; b\nshare = sugarSym Let\n</code></pre></li>\n</ol>\n\n<p>So I'd say GHC hasn't been useless in leading us.</p>\n\n<p>As for your question about tracing where GHC gets its constraint requirements from, you could try <a href=\"https://downloads.haskell.org/~ghc/latest/docs/html/users_guide/options-debugging.html\" rel=\"nofollow\">GHC's debugging flags</a>, in particular, <code>-ddump-tc-trace</code>, and then read through the resulting log to see where <code>Internal (a -&gt; b) ~ t</code> and <code>(Internal a -&gt; Internal a) ~ t</code> are added to the <code>Wanted</code> set, but that will be quite a long read.</p>\n", "title": "Techniques for Tracing Constraints", "answer_id": 34805287, "question_id": 23448150, "tags": ["haskell", "constraints", "ghc"]}], "question_id": 23448150}, {"body": "<p>I upgraded to Xcode 6 beta 4 and now my App continuously crashes with the message</p>\n\n<blockquote>\n  <p>Unknown class X in Interface Builder file.</p>\n</blockquote>\n\n<p>It crashes because supposedly Xcode can't find my custom classes that I have linked in my Storyboard but it shows that they are linked correctly in the Xcode interface.</p>\n\n<p>I've spent hours trying to figure this out, but nothing works! I'm positive everything is linked correctly. My only other option may be to delete the entire storyboard file and start from scratch because it might be corrupted somehow.</p>\n\n<p>Edit: I would also like to add that I tried cleaning, reseting simulator, messing with build phases etc. None of that works.</p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"], "answer_count": 38, "link": "http://stackoverflow.com/questions/24924966/xcode-6-strange-bug-unknown-class-in-interface-builder-file", "answers": [{"body": "<p>I resolved this issue as I was typing the question. I figured I'd answer my question and leave it here for anyone else who may face this issue when using Xcode 6 beta 4.</p>\n\n<p>To resolve this issue, you need to select each of your custom class objects in Storyboard (this includes any custom views, even the custom view controllers themselves).</p>\n\n<p>Then with those objects selected, open the identity inspector and under \"Custom Class\" you should see the Module option. Click inside the Module text box, and press enter.</p>\n\n<p>That's it! The current module for all of my custom objects must have been internally incorrectly set somehow in Xcode 6 beta 4. But there was no visual indication of this in the inspector.</p>\n\n<p>Note that if pressing enter inside the Module text box doesn't work, try selecting the arrow to the right and manually select your current module, then clear the text box and press enter. You can also try pressing enter inside the class text box (although this usually is to resolve a different issue).</p>\n\n<p>Here is an image to make things more clear:\n<img src=\"http://i.stack.imgur.com/7u8bd.png\" alt=\"enter image description here\"></p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 24924967, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>What @gfrs said is correct, you need to set the Module. However I once ran into an issue that my class wasn't listed in the <code>Class</code> dropdown. Eventually I removed the swift file, re-started Xcode and re-created the file. Finally the class was listed and could be used in Storyboard.</p>\n\n<p>Also have a look at <a href=\"http://stackoverflow.com/a/10157567/58107\">this answer</a>, which looks like to solve the 'real' problem I encountered.</p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 24925663, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>What only worked for me is actually adding the module name to the xib file... </p>\n\n<p>Sooo, the xib files look like this:</p>\n\n<pre><code>mymodule.MyViewController.xib (Module being the name of the proyect, usually)\n</code></pre>\n\n<p>HORRIBLE solution in my opinion, but that is supposedly how Apple wants us to do it now. </p>\n\n<p><a href=\"http://stackoverflow.com/questions/25538995/cant-load-uiviewcontroller-xib-file-in-storyboard-in-swift/25539016#25539016\">This question shows 3 possible work arounds back in beta 4</a> ... apparently Apple has not been very helpful in this situation according to some because they call it \"Working as intended.\" </p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 25900233, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>I had this problem after renaming a swift class. Solved it by using the @objc directive:</p>\n\n<pre><code>@objc(ForumTopicListViewController) class ForumTopicListViewController\n</code></pre>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 26108598, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>I had the same problem with Xcode Version 6.1 (6A1052d). I think the problem appears if you renamed your App / Xcode Project.</p>\n\n<p>My solution was to add the module name in the interface builder manually.</p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 26782695, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>I had this problem after I added a new target, then created a new class using the 'New File' dialog but accidentally failed to check the new target as well as the original target in the creation dialog, so the object was only added to my original target. The solution was to delete the source files (remove reference only) then add them back using 'Add Files', this time checking both targets. </p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 26894731, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>I faced such a problem on Xcode 6 when I deleted the already included ViewController.h &amp; ViewController.m files from my new view based project, and deleted the scene that was related to this class from storyboard, Xcode cashes these files in derived data folder, so if you try to go to Window -> Projects -> your_project and delete the derived data everything will go fine.</p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 27014868, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>Don't use spaces in the project name, otherwise the Custom Class will not find your own classes.</p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 27203026, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>Sometimes Xcode missed <strong><code>customModule=\"AppName\" customModuleProvider=\"target\"</code></strong> </p>\n\n<p>To fix it, open storyboard as source code and replace this line:</p>\n\n<pre><code>&lt;viewController storyboardIdentifier=\"StoryboardId\" id=\"SomeID\" customClass=\"CustomClass\"\nsceneMemberID=\"viewController\"&gt;\n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>&lt;viewController storyboardIdentifier=\"StoryboardId\" id=\"SomeID\" customClass=\"CustomClass\"\n customModule=\"AppName\" customModuleProvider=\"target\" sceneMemberID=\"viewController\"&gt;\n</code></pre>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 27215162, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>Sometimes the controller you are providing loses its target membership from the current application. In that case, pressing enter on the \"Module\" field will do nothing. Go to the controller and make sure that it has target membership set to the current app.</p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 27726290, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>I faced a problem when I created a project with the same name that already existed in my projects directory (though it was deleted some time ago). I wrote my solution there <a href=\"http://stackoverflow.com/a/27763697/1654692\">http://stackoverflow.com/a/27763697/1654692</a></p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 27763769, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>It happened to me because my class was marked with <code>@objc</code> and in sotryboard it couldn't find the module. Removing <code>@objc</code> fixed the problem</p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 28222331, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>I faced this issue in Xcode 6.1 when I removed <code>Main.storyboard</code> , the <code>LaunchScreen.xib</code> file and the default <code>ViewController</code> classes from my project.</p>\n\n<p>I fixed it by deleting the <code>Launch Screen File</code> and <code>Main Interface</code> entries from <code>Info.plist</code></p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 28348233, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>I faced the problem when I ported the storyboard from Swift project to Objective-c project, noticing <a href=\"http://stackoverflow.com/a/27763697/2361752\">vvkuznetsov's answer</a>, it turned out the two project using same identifier. I \"Product -> Clean\" and tap Enter key on the Module and Class text field. the issue went away. </p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 28378469, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>I had the same problem, but not the same fix.</p>\n\n<p>The project folder was kinda corrupted so i had to copy my project folder to another folder, for example your desktop and after that open the project.</p>\n\n<p>When it opened go to your interface builder project and you will see he recognise your script, Then you click indeed on the name of your script and press enter, u will see the module input will fill it self.</p>\n\n<p>And it will work like a charm! :D</p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 29185836, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>The solution was different for me. You need to add the .m of the class to the build phase compiled sources of the target. </p>\n\n<p>Hope this helps!</p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 29220446, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>This worked for me..</p>\n\n<p>Check your compiled source, whether that file(e.g; ViewController.m) is added or not, in my case ViewController file was not added so it was giving me the error..</p>\n\n<p><img src=\"http://i.stack.imgur.com/MqOOq.png\" alt=\"enter image description here\"></p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 29468815, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>This worked for me when <em>nothing</em> else did. From the project directory in terminal:</p>\n\n<pre><code>[~/Developer/MyProject] grep -rn ViewController * | grep -i xib \n</code></pre>\n\n<p>Open the matched files as source code in Xcode and change any instances of ViewController to what you actually need. In my case the file I needed to open as source was Main.storyboard and I changed instances of ViewController to DetailViewController.</p>\n\n<p>I deleted two files from Xcode and main.storyboard which is what I believe caused this issue for me to begin with.</p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 29525339, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>In mij case the ViewController.h/m where in a lib. The projects still builds but since Xcode 6.3 the above error was shown at run-time. Moving both files back into the project solved the issue.</p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 29706750, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>I was playing with Spring class. And this error happend to me because i used folder as reference when moving whole folder class to project instead of creating groups. So this was my solution, dont use folder as reference but create groups.</p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 29765075, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>I fixed it by doing exactly the opposite of what ChikabuZ suggested (thanks for pointing it out, though). In the storyboard file, find this:</p>\n\n<pre><code>&lt;viewController storyboardIdentifier=\"StoryboardId\" id=\"SomeID\" customClass=\"CustomClass\" customModule=\"AppName\" customModuleProvider=\"target\" sceneMemberID=\"viewController\"&gt;\n</code></pre>\n\n<p>and replace it with this:</p>\n\n<pre><code>&lt;viewController storyboardIdentifier=\"StoryboardId\" id=\"SomeID\" customClass=\"CustomClass\" sceneMemberID=\"viewController\"&gt;\n</code></pre>\n\n<p>I can't believe how many hours I'm losing getting around bugs in the Swift compiler and Xcode 6</p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 30233342, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>In my case, the <strong>class</strong> referenced in the Storyboard / xib did not have <strong>Target Membership</strong> set.</p>\n\n<p>To fix, give that class's <code>.h</code> and <code>.m</code> files the same Target Membership as your other classes.</p>\n\n<p><img src=\"http://i.stack.imgur.com/NQlvR.png\" alt=\"No target membership set.\"></p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 30386764, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>I solved this problem by typing in the Module name (unfortunately the drop list will show nothing...) in the Custom Class of the identity inspector for all the View controller and views.</p>\n\n<p>You may also need to indicate the target provider. To achieve this objective you can open the storyboard in sourcecode mode and add the \"customModuleProvider\" attribute in both ViewController and View angle brackets. </p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 30644101, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>in my case , i setup app as universal app, so xcode creates two storyboards.but i was only using(designed) only iPhone storyboard. and trying to run app in iPad.for resolve problem just need to make app as only for iPhone and works great. </p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 31067046, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>I googled everywhere for this. None of the answers work for me until i met 1 dude who asked me to move my project folder to desktop. It just worked automatically. Apparently if you have you project folder to deep in many folders, XCODE actually breaks. </p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 31335628, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>My solution was to remove @objc from Custom class definition.</p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 31428345, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>I had the same problem with Xcode 6.3 when  I add files to \"myapp\".\nThat's because I choose \"create folder reference\" instead of \"create groups\".I delete these files and add them again with the \"create groups\" option.And the problem fixed.</p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 31555456, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>These steps work for me. </p>\n\n<p>1) Clear Derived Data.<br>\n2) Remove .h and .m files <br>\n3) Create .h and .m files Again</p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 31640789, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>Select your unknown class file, open file inspector tab, check your target name in <code>Target Membership</code>. There you go.</p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 32736489, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>I solved this by opening my storyboard file as source code and using command-F to search for my unknown class and delete the custom class associated with it.</p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 32886648, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>I fixed this along the lines of what Laura suggested but I didn't need to recreate the files.</p>\n\n<p>Using XCode 4, in the Project Navigator, select the .m file that contains the class that it is complaining about</p>\n\n<p>Go to View->Utilities->Show File Inspector\n(this will show the File Inspector to the right, with that .m-file info)</p>\n\n<p>Open the Target Membership section and make sure that your target is selected for this .m-file</p>\n\n<p>When I added my .m file to my project, it didn't add it to my default target for some reason and that caused me to get the error you mentioned.</p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 32919142, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>This can happen in any Xcode above 6.0. It happened to me after renaming some ViewController classes in Swift project (but I guess it will happen with Obj-C too). You just have to open the interface builder, go to Identity Inspector of ViewController that had its class renamed, select class and press Enter. That will reassign renamed class to selected ViewController and also reset Module Value which gets lost after renaming the class.</p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 34680037, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>For me, I'm using Xcode7 + Swift2</p>\n\n<p>Solved this problem by checking my code, I have this line in my viewController:</p>\n\n<pre><code> self?.navigationController?.pushViewController(vc, animated: true)\n</code></pre>\n\n<p>Then I realized that I haven't get navigationController connected to the detail page. So if you're pushing a new ViewController with customized ID, better to check that.</p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 36362808, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>I had the same problem.</p>\n\n<p>In my case, Xcode wasn't adding my custom class to: Target > Build Phase > Compile Sources.</p>\n\n<p>So I recommend you to verify if your CustomClass.m is there.</p>\n\n<p><a href=\"http://i.stack.imgur.com/VorFX.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/VorFX.png\" alt=\"enter image description here\"></a></p>\n\n<p>I hope this helps you.</p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 36857662, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>My issue was related to a podfile framework (specifically the 'BWWalkthrough'). None of the above solutions worked for me, and no matter how I tried I couldnt get the module to point to my app.</p>\n\n<p>What ended up working for me was removing the library as a podfile and add it directly to my project as a static library. Everything was hunky-dory for me after that. Not entirely sure what was 'broken' with the pod implementation of the class.</p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 36902954, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>In my case the problem was due to having our main storyboard set as the Launch Screen, and I'd get a console error (no crash) at app start for every custom view controller referenced in the storyboard.</p>\n\n<p>We'd covered from XIBs and launch images to storyboards and I hadn't yet gotten around to getting the launch screen working again. When I finally got around to creating a bare bones launch storyboard with no custom view controllers (which aren't allowed) these console errors stopped appearing.</p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 37714153, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>For me the problem was that I was referencing a custom class in the storyboard (which matched to a .h file) but I didn't have an @implementation command in the .m file.  </p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 38350519, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}, {"body": "<p>Check if your class has right <strong>Targer Membership</strong>.</p>\n", "title": "Xcode 6 Strange Bug: Unknown class in Interface Builder file", "answer_id": 39203385, "question_id": 24924966, "tags": ["ios", "xcode", "swift", "uistoryboard", "xcode6"]}], "question_id": 24924966}, {"body": "<p>When attempting to use the latest appcompat-v7 support library in my project, I get the following error:</p>\n\n<pre><code>/Users/greg/dev/mobile/android_project/app/build/intermediates/exploded-aar/com.android.support/appcompat-v7/21.0.0/res/values-v11/values.xml\nError:(36, 21) No resource found that matches the given name: attr 'android:actionModeShareDrawable'.\nError:(36, 21) No resource found that matches the given name: attr 'android:actionModeShareDrawable'.\nError:(36, 21) No resource found that matches the given name: attr 'android:actionModeShareDrawable'.\nError:(36, 21) No resource found that matches the given name: attr 'android:actionModeShareDrawable'.\n</code></pre>\n\n<p>How do I fix this?</p>\n", "title": "appcompat-v7:21.0.0&#39;: No resource found that matches the given name: attr &#39;android:actionModeShareDrawable&#39;", "tags": ["android", "gradle", "xamarin.android", "android-support-library", "android-5.0-lollipop"], "answer_count": 14, "link": "http://stackoverflow.com/questions/26431676/appcompat-v721-0-0-no-resource-found-that-matches-the-given-name-attr-andro", "answers": [{"body": "<p>This is likely because you haven't set your <code>compileSdkVersion</code> to 21 in your build.gradle file. You also probably want to change your <code>targetSdkVersion</code> to 21.</p>\n\n<pre><code>android {\n    //...\n    compileSdkVersion 21\n\n    defaultConfig {\n        targetSdkVersion 21\n    }\n    //...\n}\n</code></pre>\n\n<p>This requires you to have downloaded the latest SDK updates to begin with. </p>\n\n<p><img src=\"http://i.stack.imgur.com/OZNZg.png\" alt=\"Android Studio SDK Manager\"></p>\n\n<p>Once you've downloaded <strong>all the updates</strong> (don't forget to also update the Android Support Library/Repository, too!) and updated your compileSdkVersion, re-sync your Gradle project. </p>\n\n<p><strong>Edit: For Eclipse or general IntelliJ users</strong></p>\n\n<p>See reVerse's answer. He has a very thorough walk through!</p>\n", "title": "appcompat-v7:21.0.0&#39;: No resource found that matches the given name: attr &#39;android:actionModeShareDrawable&#39;", "answer_id": 26431677, "question_id": 26431676, "tags": ["android", "gradle", "xamarin.android", "android-support-library", "android-5.0-lollipop"]}, {"body": "<p>I have encountered this issue with play-services:5.0.89. Upgrading to 6.1.11 solved problem.</p>\n", "title": "appcompat-v7:21.0.0&#39;: No resource found that matches the given name: attr &#39;android:actionModeShareDrawable&#39;", "answer_id": 26432642, "question_id": 26431676, "tags": ["android", "gradle", "xamarin.android", "android-support-library", "android-5.0-lollipop"]}, {"body": "<p>Make sure you clean your project in android studio (or eclipse),</p>\n\n<p>It should solve your issues</p>\n", "title": "appcompat-v7:21.0.0&#39;: No resource found that matches the given name: attr &#39;android:actionModeShareDrawable&#39;", "answer_id": 26442013, "question_id": 26431676, "tags": ["android", "gradle", "xamarin.android", "android-support-library", "android-5.0-lollipop"]}, {"body": "<p>While the answer of <a href=\"http://stackoverflow.com/a/26431677/982852\">loeschg</a> is absolutely correct I just wanna elaborate on it and give a <strong>solution for all IDE's</strong> (Eclipse, IntellJ and Android Studio) even if the errors differentiate slightly.</p>\n\n<hr>\n\n<h2>Prerequirements</h2>\n\n<p>Make sure that you've downloaded the latest <code>extras</code> as well as the <code>Android 5.0 SDK</code> via the SDK-Manager.</p>\n\n<p><img src=\"http://i.stack.imgur.com/tXQ3B.png\" alt=\"Picture of the SDK Manager\"></p>\n\n<hr>\n\n<h2>Android Studio</h2>\n\n<p>Open the <code>build.gradle</code> file of your app-module and change your <code>compileSdkVersion</code> to 21. It's basically not necessary to change the <code>targetSdkVersion</code> SDK-Version to 21 but it's recommended since you should always <a href=\"http://stackoverflow.com/a/14939070/982852\">target the latest android Build-Version</a>.<br>\nIn the end you gradle-file will look like this:</p>\n\n<pre><code>android {\n    compileSdkVersion 21\n    // ...\n\n    defaultConfig {\n        // ...\n        targetSdkVersion 21\n    }\n}\n</code></pre>\n\n<p>Be sure to sync your project afterwards.</p>\n\n<p><img src=\"http://i.stack.imgur.com/dRsoo.png\" alt=\"Android Studio Gradle Sync reminder\"></p>\n\n<hr>\n\n<h2>Eclipse</h2>\n\n<p>When using the <code>v7-appcompat</code> in Eclipse you have to use it as a library project. It isn't enough to just copy the *.jar to your <code>/libs</code> folder. Please read <a href=\"https://developer.android.com/tools/support-library/setup.html#libs-with-res\">this (click)</a> step-by-step tutorial on <em>developer.android.com</em> in order to know how to import the project properly.</p>\n\n<p>As soon as the project is imported, you'll realize that some folders in the <code>/res</code>folder are red-underlined because of errors such as the following:</p>\n\n<p><img src=\"http://i.stack.imgur.com/Gg5NK.png\" alt=\"Errors in Eclipse\"></p>\n\n<pre><code>error: Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Material'.\nerror: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Material.*'\nerror: Error: No resource found that matches the given name: attr 'android:actionModeShareDrawable'.\n</code></pre>\n\n<h3>Solution</h3>\n\n<p>The only thing you have to do is to open the <code>project.properties</code> file of the <code>android-support-v7-appcompat</code> and change the target from <code>target=android-19</code> to <code>target=android-21</code>.<br>\nAfterwards just do a <code>Project --&gt; Clean...</code> so that the changes take effect.</p>\n\n<hr>\n\n<h2>IntelliJ IDEA (not using Gradle)</h2>\n\n<p>Similiar to Eclipse it's not enough to use only the <code>android-support-v7-appcompat.jar</code>; you have to import the <code>appcompat</code> as a module. Read more about it on this <a href=\"http://stackoverflow.com/questions/18025942/how-do-i-add-a-library-android-support-v7-appcompat-in-intellij-idea\">StackO-Post (click)</a>.<br>\n(<strong><em>Note:</em></strong> <em>If you're only using the <code>.jar</code> you'll get <code>NoClassDefFoundErrors</code> on Runtime</em>)</p>\n\n<p>When you're trying to build the project you'll face issues in the <code>res/values-v**</code> folders. Your message window will say something like the following:</p>\n\n<pre><code>Error:android-apt-compiler: [appcompat]  resource found that matches the given name: attr 'android:colorPrimary'.\nError:(75, -1) android-apt-compiler: [appcompat] C:\\[Your Path]\\sdk\\extras\\android\\support\\v7\\appcompat\\res\\values-v21\\styles_base.xml:75: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Material.ActionButton'.\n// and so on\n</code></pre>\n\n<h3>Solution</h3>\n\n<p>Right click on <code>appcompat</code> module --> Open Module Settings (F4) --> <em>[Dependency Tab]</em> Select Android API 21 Platform from the dropdown --> Apply</p>\n\n<p><img src=\"http://i.stack.imgur.com/I7fbS.png\" alt=\"Select API 21 Platform\"></p>\n\n<p>Then just rebuild the project (Build --> Rebuild Project) and you're good to go.</p>\n", "title": "appcompat-v7:21.0.0&#39;: No resource found that matches the given name: attr &#39;android:actionModeShareDrawable&#39;", "answer_id": 26449172, "question_id": 26431676, "tags": ["android", "gradle", "xamarin.android", "android-support-library", "android-5.0-lollipop"]}, {"body": "<p>Upgrading to latest gradle plugin solve my problem :</p>\n\n<pre><code>classpath 'com.android.tools.build:gradle:0.13.+'\n</code></pre>\n", "title": "appcompat-v7:21.0.0&#39;: No resource found that matches the given name: attr &#39;android:actionModeShareDrawable&#39;", "answer_id": 26788357, "question_id": 26431676, "tags": ["android", "gradle", "xamarin.android", "android-support-library", "android-5.0-lollipop"]}, {"body": "<p>`Follow below steps:</p>\n\n<p>its working for me.To resolve this issue,</p>\n\n<p>1.Right Click on appcompat_v7 library and select Properties </p>\n\n<p>2.Now, Click on Android Option,\nSet Project Build Path as Android 5.0 (API level 21)\nApply Changes.</p>\n\n<p>3.Now go to project.properties file under appcompat_v7 library,</p>\n\n<p>4.Set the project target as : target=android-21</p>\n\n<p>5.Now Clean + Build appcompat_v7 library and your projects`</p>\n", "title": "appcompat-v7:21.0.0&#39;: No resource found that matches the given name: attr &#39;android:actionModeShareDrawable&#39;", "answer_id": 27012801, "question_id": 26431676, "tags": ["android", "gradle", "xamarin.android", "android-support-library", "android-5.0-lollipop"]}, {"body": "<p>After creating a second project in the workspace in eclipse, I had this problem. I believe it is because I created it with a different SDK version and this ovewrote the android-support-v7-appcompat library. </p>\n\n<p>I tried to clean everything up but to no avail. Ultimately, the suggestion above to edit project.properties and change target=android-21 and set my project to Android 5.0, fixed it.</p>\n", "title": "appcompat-v7:21.0.0&#39;: No resource found that matches the given name: attr &#39;android:actionModeShareDrawable&#39;", "answer_id": 27261447, "question_id": 26431676, "tags": ["android", "gradle", "xamarin.android", "android-support-library", "android-5.0-lollipop"]}, {"body": "<p>What I recomend is: (This works to me after many days with errors)</p>\n\n<p>-Make sure that you have downloaded:</p>\n\n<pre><code>- the Lastest SDK Platform from the latest Android version\n- Android Suppor Librarie and Repository from EXTRAS \n</code></pre>\n\n<p>-Redowload the ADT </p>\n\n<p>-Make a security copy of your project.</p>\n\n<p>-You must have the ADT, the workspace and the project that we will import in the same disk (e.g. C:/)</p>\n\n<ol>\n<li><p>Now delete the app compat and your project.</p></li>\n<li><p>In eclipse: File > Import > Android existing project > Next > Browse (The folder where you have your ADT)/sdk/extras/android/v7/appcompat > Import > Finish</p></li>\n<li><p>Now in the eclipse Package Explorer: android-support-v7-appcompat/libs/ Make on the two JARS: Right click > Build Path > Add to Build Path</p></li>\n<li><p>Right click on libs/ folder > Buil Path > Configure Build Path and check this two JARS > OK</p></li>\n<li><p>On the upper eclipse bar > Project > Clean</p></li>\n<li><p>Import your project > File > Import > Browse your project > Finish</p></li>\n<li><p>Now, Right click on the projectfile and android-support-v7-appcompat > Properties > Android > And select the latest API that appears > OK</p></li>\n<li><p>Right click on the projectfile > Properties > Android > Add > android-support-v7-appcompat</p></li>\n<li><p>On the upper eclipse bar > Project > Clean</p></li>\n</ol>\n", "title": "appcompat-v7:21.0.0&#39;: No resource found that matches the given name: attr &#39;android:actionModeShareDrawable&#39;", "answer_id": 27429024, "question_id": 26431676, "tags": ["android", "gradle", "xamarin.android", "android-support-library", "android-5.0-lollipop"]}, {"body": "<p>In case you don't want to use API 21 as the target API, and thus you don' t want to use the Material Theme, you have to use an older revision belonging to API 19 ></p>\n\n<pre><code>compile \"com.android.support:appcompat-v7:19.0.+\"\n</code></pre>\n\n<p>This also helps solving your problem, it only depends on what you want to achieve.</p>\n", "title": "appcompat-v7:21.0.0&#39;: No resource found that matches the given name: attr &#39;android:actionModeShareDrawable&#39;", "answer_id": 27691018, "question_id": 26431676, "tags": ["android", "gradle", "xamarin.android", "android-support-library", "android-5.0-lollipop"]}, {"body": "<p>In Android Studio I was trying to set the <code>compileSdkVersion</code> and <code>targetSdkVersion</code> to <code>19</code>.</p>\n\n<p>My solution was to replace at the bottom of <code>build.gradle</code>, <em>from</em> this:</p>\n\n<pre><code>dependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    compile 'com.android.support:appcompat-v7:21.0.3'\n}\n</code></pre>\n\n<p>To the older version of the appcompat library:</p>\n\n<pre><code>dependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    compile 'com.android.support:appcompat-v7:19.+'\n}\n</code></pre>\n", "title": "appcompat-v7:21.0.0&#39;: No resource found that matches the given name: attr &#39;android:actionModeShareDrawable&#39;", "answer_id": 28400735, "question_id": 26431676, "tags": ["android", "gradle", "xamarin.android", "android-support-library", "android-5.0-lollipop"]}, {"body": "<p>My problem was that I had other libraries that my project referenced and those libraries had another version of appcompat referenced. This is what I did to resolve the issue:</p>\n\n<p>(You should back up your project before doing this)</p>\n\n<p>1) I deleted all the appcompat layout folders (ex: /res/layout-v11).</p>\n\n<p>2) Solved the problems that arose from that, usually an error in menu.xml</p>\n\n<p>3) Back to main project and add appcompat library, clean, and everything works!</p>\n", "title": "appcompat-v7:21.0.0&#39;: No resource found that matches the given name: attr &#39;android:actionModeShareDrawable&#39;", "answer_id": 28613652, "question_id": 26431676, "tags": ["android", "gradle", "xamarin.android", "android-support-library", "android-5.0-lollipop"]}, {"body": "<p>I got the same error when I changed the Compile SDK version from API:21 to API:16. The problem was, <strong>appcompat</strong> version. If you need to use an older version of android API, so you have to change this appcompat version also. In my case (<strong>for API:16</strong>), I had to use <strong>appcompat-v7:19.+</strong>. </p>\n\n<p>So I replace dependencies in <strong>build.gradle</strong> as follows,</p>\n\n<pre><code>dependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    compile 'com.android.support:appcompat-v7:19.+'\n}\n</code></pre>\n\n<p>And make sure you have older versions of appcompat versions on your SDK\n<img src=\"http://i.stack.imgur.com/duHXb.png\" alt=\"enter image description here\"></p>\n", "title": "appcompat-v7:21.0.0&#39;: No resource found that matches the given name: attr &#39;android:actionModeShareDrawable&#39;", "answer_id": 29728388, "question_id": 26431676, "tags": ["android", "gradle", "xamarin.android", "android-support-library", "android-5.0-lollipop"]}, {"body": "<p>I was up to date with everything and still got this error, not sure why but I think the image was corrupted in a strange way and after replacing the image I got rid of the error.\nMight be worth to try with a different image :)</p>\n", "title": "appcompat-v7:21.0.0&#39;: No resource found that matches the given name: attr &#39;android:actionModeShareDrawable&#39;", "answer_id": 31788456, "question_id": 26431676, "tags": ["android", "gradle", "xamarin.android", "android-support-library", "android-5.0-lollipop"]}, {"body": "<p>I had added another project to my workspace and was trying to reference an activity from it in the manifest file, and I was getting this error. The problem is I was referencing the library incorrectly. This is how I fixed the problem:</p>\n\n<ul>\n<li>Right click on project </li>\n<li>Select Properties </li>\n<li>Click on Android on left menu</li>\n<li>Click on Add</li>\n<li>Please select a Library Project</li>\n</ul>\n\n<p>The jar went into <strong>Android Dependencies</strong> folder and this error was fixed.</p>\n", "title": "appcompat-v7:21.0.0&#39;: No resource found that matches the given name: attr &#39;android:actionModeShareDrawable&#39;", "answer_id": 34483737, "question_id": 26431676, "tags": ["android", "gradle", "xamarin.android", "android-support-library", "android-5.0-lollipop"]}], "question_id": 26431676}, {"body": "<p>While attempting to compile my C program, running the following command: </p>\n\n<pre><code>gcc pthread.c -o pthread\n</code></pre>\n\n<p>I get the message: \"Agreeing to the Xcode/iOS license requires admin privileges, please re-run as root via sudo.\" and my code does not compile.  Why is this happening and how can I fix this problem?</p>\n", "title": "&quot;Agreeing to the Xcode/iOS license requires admin privileges, please re-run as root via sudo.&quot; when using GCC", "tags": ["ios", "xcode", "gcc"], "answer_count": 7, "link": "http://stackoverflow.com/questions/26197347/agreeing-to-the-xcode-ios-license-requires-admin-privileges-please-re-run-as-r", "answers": [{"body": "<p>Open up Xcode, and accept the new user agreement.  This was happening because a new version of Xcode was downloaded and the new agreement was not accepted.</p>\n", "title": "&quot;Agreeing to the Xcode/iOS license requires admin privileges, please re-run as root via sudo.&quot; when using GCC", "answer_id": 26197363, "question_id": 26197347, "tags": ["ios", "xcode", "gcc"]}, {"body": "<p><code>sudo xcodebuild -license</code></p>\n\n<p>will take care of it with no trouble, on the command line.  Note that you'll have to manually scroll through the license, and agree to its terms at the end.</p>\n", "title": "&quot;Agreeing to the Xcode/iOS license requires admin privileges, please re-run as root via sudo.&quot; when using GCC", "answer_id": 26772631, "question_id": 26197347, "tags": ["ios", "xcode", "gcc"]}, {"body": "<p>Agreeing to the Xcode/iOS license requires admin privileges, please re-run as root via sudo.</p>\n\n<p>A new version of OSX or XCode was installed and Apple wants you to agree to their T&amp;C.</p>\n\n<p>So Just launch Xcode and Agree to the T&amp;C.</p>\n", "title": "&quot;Agreeing to the Xcode/iOS license requires admin privileges, please re-run as root via sudo.&quot; when using GCC", "answer_id": 27728145, "question_id": 26197347, "tags": ["ios", "xcode", "gcc"]}, {"body": "<p>Running sudo xcrun cc should bring up the cli version of the Xcode license agreement. Another option is to open Xcode.app and agree in the GUI.</p>\n", "title": "&quot;Agreeing to the Xcode/iOS license requires admin privileges, please re-run as root via sudo.&quot; when using GCC", "answer_id": 29133853, "question_id": 26197347, "tags": ["ios", "xcode", "gcc"]}, {"body": "<p>follow this steps \n Open Terminal \n write this command: sudo xcodebuild -license\n Enter system passward\n agree the license </p>\n", "title": "&quot;Agreeing to the Xcode/iOS license requires admin privileges, please re-run as root via sudo.&quot; when using GCC", "answer_id": 32642769, "question_id": 26197347, "tags": ["ios", "xcode", "gcc"]}, {"body": "<p>Opening XCode and accepting the license fixes the issue.</p>\n", "title": "&quot;Agreeing to the Xcode/iOS license requires admin privileges, please re-run as root via sudo.&quot; when using GCC", "answer_id": 32674146, "question_id": 26197347, "tags": ["ios", "xcode", "gcc"]}, {"body": "<p>Got stuck as I was trying to a go get ... I think it was related to git.\nHere is how was able to fix it ...</p>\n\n<ol>\n<li>Entered following in terminal:</li>\n</ol>\n\n<p><code>sudo xcodebuild -license</code></p>\n\n<ol start=\"2\">\n<li>This will open agreement. Go all the way to end and type \"agree\". </li>\n</ol>\n\n<p>That takes care of go get issues ... </p>\n\n<p>It was quite interesting how unrelated things were ...</p>\n", "title": "&quot;Agreeing to the Xcode/iOS license requires admin privileges, please re-run as root via sudo.&quot; when using GCC", "answer_id": 32796172, "question_id": 26197347, "tags": ["ios", "xcode", "gcc"]}], "question_id": 26197347}, {"body": "<p>After installing <strong>Xcode 6</strong> my devices moved to greyed-out section <strong><code>Ineligible Devices</code></strong> and I can't select them as deploy target:</p>\n\n<p><img src=\"http://i.stack.imgur.com/EqDpl.jpg\" alt=\"enter image description here\"></p>\n\n<p><strong>Update:</strong></p>\n\n<p>This error occurs in all versions of <code>Xcode 6.x.x</code>.\nThere are so many different reasons causing this problem</p>\n\n<p>Check this <strong><a href=\"http://stackoverflow.com/a/29538173/1698467\">solution list</a></strong>  for more details.</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "tags": ["ios", "xcode6"], "answer_count": 32, "link": "http://stackoverflow.com/questions/24039010/ineligible-devices-section-appeared-in-xcode-6-x-x", "answers": [{"body": "<p><strong>With the release of Xcode 6.3.1, check first the Update 5</strong> </p>\n\n<ol>\n<li><strong>Verify that \"iOS Deployment Target\" is &lt;= the version of your iDevice.</strong> </li>\n</ol>\n\n<p><img src=\"http://i.stack.imgur.com/PDctF.png\" alt=\"enter image description here\"></p>\n\n<p>You find this option in \"Build Settings\" tab when you click on a target of your project in Xcode.</p>\n\n<p><img src=\"http://i.stack.imgur.com/OFqQM.png\" alt=\"enter image description here\"></p>\n\n<ol start=\"2\">\n<li><p><strong>Then if does not work, try to restart Xcode. Sometimes we have to restart the Mac and iPhone/iPad. Take a look at the Updates below before restarting Xcode</strong>  </p></li>\n<li><p><strong>Update: in Yosemite, Xcode 6.0.1 does not support iOS 8.1, you have to update to Xcode 6.1 if you want to debug on iOS 8.1 device, or you will probably have the same problem as described in the topic</strong></p></li>\n<li><p><strong>Update 2:</strong> Xcode Beta 6.3 does not support iOS 8.2 (and also 8.1 - thanks @steveb). You won't see your device in deploy target list. I don't know if other versions are supported.</p></li>\n<li><p><strong>Update 3.</strong> Use Xcode 6.2 instead of Xcode 6.3 beta in order to debug with a device running iOS 8.2</p></li>\n<li><p><strong>Updated 4 :</strong> <strong>for Xcode 6.3</strong> (and eventually 6.3 beta if someone use it :) ), if you have this problem, just go to Product > Destination to select your device. Even though it says your device is ineligible, it will still allow you to select it. If your device version is >= target version, the build should work. It must be a bug for Xcode 6.3 in debug with iOS 8.3 (or maybe other iOS version) (thanks @einfach).</p></li>\n</ol>\n\n<p><img src=\"http://i.stack.imgur.com/9PJKU.png\" alt=\"enter image description here\"></p>\n\n<ol start=\"7\">\n<li><strong>Update 5:</strong> Apple released Xcode 6.3.1 that fix the issue of ineligible device. If you have this problem with Xcode 6.3, upgrade to XCode 6.3.1</li>\n</ol>\n\n<p>From Release Notes (Xcode 6.3.1):</p>\n\n<blockquote>\n  <p>Fixed: Devices previously listed as \"ineligible for running\u201d\n  erroneously are listed correctly. (20121178)</p>\n</blockquote>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "answer_id": 24039323, "question_id": 24039010, "tags": ["ios", "xcode6"]}, {"body": "<p>Besides setting iOS Deployment Target to iOS 8.0, also <strong>restart your iOS8 iPhone/iPad</strong>. This did the trick for me. </p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "answer_id": 24569417, "question_id": 24039010, "tags": ["ios", "xcode6"]}, {"body": "<p>After trying the 2 answers above (changing deployment target and restarting my iOS device), what finally fixed it for me was restarting my Mac.</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "answer_id": 25650500, "question_id": 24039010, "tags": ["ios", "xcode6"]}, {"body": "<p>I changed my deployment target to 7.1 the same as my iphone, and now I can run swift programs on it. It was on 8.0 and showed up as ineligible.</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "answer_id": 25718589, "question_id": 24039010, "tags": ["ios", "xcode6"]}, {"body": "<p>I simply restarted my Mac and my iPhone 6 and the problem was solved. I never had to change my deployment target.</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "answer_id": 26105425, "question_id": 24039010, "tags": ["ios", "xcode6"]}, {"body": "<p>I set my \"iOS Deployment Target\" in \"Project\" and \"Targets\" from 7.1 to 8.0 and restarted Xcode (with \"Quit\") and it worked.</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "answer_id": 26139044, "question_id": 24039010, "tags": ["ios", "xcode6"]}, {"body": "<p>Changing your deployment target is not a good idea to solve this problem (it will change which iOS versions you support on the app store).</p>\n\n<p>What I did is restart just Xcode and it was fixed.</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "answer_id": 26231205, "question_id": 24039010, "tags": ["ios", "xcode6"]}, {"body": "<p>I had a similar issue and for me I had upgraded to iOS8 and also changed the name of my Xcode project.  The fix for me was to create a new scheme by selecting Manage Schemes > (+) button.</p>\n\n<p>After doing this, my list of devices returned.</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "answer_id": 26451418, "question_id": 24039010, "tags": ["ios", "xcode6"]}, {"body": "<p>I agree with txulu, changing the deployment target is a ridiculous idea. I need to support devices back at least one version, that is non-negotiable to me.</p>\n\n<p>Restarting my iPhone 5 after updating to iOS 8.1 and Xcode to 6.1 worked for me.</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "answer_id": 26522289, "question_id": 24039010, "tags": ["ios", "xcode6"]}, {"body": "<p>What worked for me is to install XCode 6.1 (compatible with iOS 8.1)</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "answer_id": 26527041, "question_id": 24039010, "tags": ["ios", "xcode6"]}, {"body": "<p>My iPhone has updated to iOS8.1. My Xcode version is 6.0.1, and my mac os version is 10.10. When I want to run app in my iPhone, there is a section named <code>Ineligible Devices(OS Version)</code>. Then I update Xcode to 6.1 version, solved problem. </p>\n\n<p>Part of Xcode 6.1 release note: <code>Includes SDKS for OS X 10.10 Yosemite, OS X 10.9 Mavericks, and iOS 8.1</code>.</p>\n\n<p>That is, Xcode 6.0.x don't support iOS 8.1.</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "answer_id": 26581956, "question_id": 24039010, "tags": ["ios", "xcode6"]}, {"body": "<p>Simply  <strong>deploying to another device</strong> and then <strong>switching back</strong> to the former 'ineligible' device worked here.\n(saved the hassle of restarting anything)</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "answer_id": 26672159, "question_id": 24039010, "tags": ["ios", "xcode6"]}, {"body": "<p>In my case I had to reattach device and when it asks press \"Trust this computer\", then my device appears available again in xCode</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "answer_id": 26681971, "question_id": 24039010, "tags": ["ios", "xcode6"]}, {"body": "<p>I can confirm that the answer it to upgrade Xcode to 6.1. If you are using Xcode 6.0.x you will not be able to select a device running 8.1. Your deployment targets and OS version should have nothing to do with this.</p>\n\n<p>If your OS version is greater than 10.9.4 I would recommend this. First, un-attaching all devices. Download <a href=\"https://developer.apple.com/xcode/downloads/\" rel=\"nofollow\">Xcode 6.1</a>. After opening the new version of Xcode attach your device. You should be good to go.</p>\n\n<p>Another good thing would be to look at the <a href=\"https://developer.apple.com/library/ios/releasenotes/DeveloperTools/RN-Xcode/Chapters/xc6_release_notes.html\" rel=\"nofollow\">release notes</a>. It's and easy read and gives you a general idea of what still needs to be fixed.</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "answer_id": 26868616, "question_id": 24039010, "tags": ["ios", "xcode6"]}, {"body": "<p>make sure the deployment target version in setting is lower or equal than the iphone version </p>\n\n<p>if the deployment target is 7.1  but the iphone is 7.0.3</p>\n\n<p>you will see that error message </p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "answer_id": 26899624, "question_id": 24039010, "tags": ["ios", "xcode6"]}, {"body": "<p>My iPad was 8.0, but i had deployment target set to 8.1. I changed the deployment target in build settings, and immediately, the ipad moved out of the \"ineligible\" category. (I am on Yosemite and XCode 6.1)</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "answer_id": 27389910, "question_id": 24039010, "tags": ["ios", "xcode6"]}, {"body": "<p>I'm using the 6.3 Xcode Beta. I had the same issue as above. I restarted my computer and phone but did not work. Simply went to the build target under build settings and changed build target to 8.1. I hope this is fixed in the next released. Make sure that after you change your build setting - you need to restart your device and Xcode! </p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "answer_id": 28911725, "question_id": 24039010, "tags": ["ios", "xcode6"]}, {"body": "<p>Ran into the same issue, using <code>Unity3D</code></p>\n\n<p><strong>=> <code>Xcode 6.3</code> requires <code>Unity 4.6.4</code></strong></p>\n\n<p>If you're using an older <code>Unity</code> version (e.g. <code>4.6.3</code>) you'll always get your devices in the <code>Ineligible Devices</code> section</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "answer_id": 29535109, "question_id": 24039010, "tags": ["ios", "xcode6"]}, {"body": "<p><em>There is a lot of options <strong>(<s>10</s> <s>23</s> 29 answers for this question!)</strong>, that can cause this error. And no one is 100% solve this issue. Here is summarise of all solutions.</em></p>\n\n<h2>First of all:</h2>\n\n<p>0. <strong>Update to latest Xcode version</strong><br>\n<em>Most of the reasons, that cause this problem fixed in Xcode version <code>6.3.1</code> (6D1002 published April 21, 2015)</em></p>\n\n<h3>List of solutions in order frequency of occurrence:</h3>\n\n<ol>\n<li><p><strong>The most likely solution:</strong>:</p>\n\n<ul>\n<li>In Xcode status <strong>go to: <code>Menu bar</code>-> <code>Product</code> -> <code>Destination</code></strong> and find your device. It will be listed under <code>Ineligible</code> section</li>\n<li><strong>Select your device</strong>. After you will be able to build and deploy to device! (thanks, <a href=\"http://stackoverflow.com/a/29543682/1698467\">@joshstaiger</a>)</li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/2cKE7.jpg\" alt=\"enter image description here\"></p></li>\n</ol>\n\n<hr>\n\n<h3>If it doesn't work:</h3>\n\n<ol start=\"2\">\n<li><p><strong>iOS Deployment Target</strong> should be <code>&lt;=</code> of the version of your device. \nYou find this option in <code>Build Settings</code> tab when you click on a target of your project in Xcode.</p></li>\n<li><p>If version is correct - try to <strong>restart Mac and iPhone/iPad simultaneously.</strong> It resolve this issue in most cases! (thanks, <a href=\"http://stackoverflow.com/a/24039323/1698467\">@HoaParis</a>)</p></li>\n<li><p>Finally if either doesn't work - try to do this magic actions:</p>\n\n<ul>\n<li>switch <code>iOS Deployment Target</code> to 8.1</li>\n<li>restart <code>Xcode</code></li>\n<li>switch back to desired version.</li>\n</ul></li>\n</ol>\n\n<hr>\n\n<h3>Other problems, that cause this issue:</h3>\n\n<ol start=\"5\">\n<li><p><code>Xcode Beta 6.3</code> does not support <code>iOS 8.2</code> (and also 8.1). You won't see your iDevice in deploy target list. \n<strong>Use <code>Xcode 6.2</code> instead of <code>Xcode 6.3 beta</code> in order to debug with an iDevice iOS 8.2</strong></p></li>\n<li><p><code>Xcode 6.3</code> requires <code>Unity 4.6.4</code>\nIf you're using an older <code>Unity</code> version (e.g. <code>4.6.3</code>) you'll always get your devices in the <code>Ineligible Devices</code> section (thanks, <a href=\"http://stackoverflow.com/a/29535109/1698467\">@d4rk</a>)</p></li>\n<li><p>Also it appears in case of <strong>changing name of Xcode project</strong>. The fix it -  create a new scheme by selecting <code>Manage Schemes &gt; (+) button</code>. (thanks, <a href=\"http://stackoverflow.com/a/26451418/1698467\">@dale-moore</a>)</p></li>\n</ol>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "answer_id": 29538173, "question_id": 24039010, "tags": ["ios", "xcode6"]}, {"body": "<p>Please check you device iOS version and your Xcode application build target version. This might be causing the issue.</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "answer_id": 29538457, "question_id": 24039010, "tags": ["ios", "xcode6"]}, {"body": "<p>Everyone should note that there seems to be a bug in XCode 6.3 (Beta and GM) that is aggravating this problem.</p>\n\n<p>I have iOS 8.3 installed on my device.  Setting the build target to iOS &lt;= 8.3 did not help.  Nor did any of the other solutions posted.</p>\n\n<p>What worked for me:</p>\n\n<p>Go to the Product Menu > Destination and select your device.  It will be listed under \"Ineligible\", but you will still be able to select it.  After doing this, I was able to build and deploy to my device.</p>\n\n<p><img src=\"http://i.stack.imgur.com/hqStg.png\" alt=\"Screenshot\"></p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "answer_id": 29543682, "question_id": 24039010, "tags": ["ios", "xcode6"]}, {"body": "<p>My solution was that I had recently upgraded my iOS device to 8.3 and Xcode still didn't recognize it. The fix was to simply upgrade Xcode to 6.3 :)</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "answer_id": 29546303, "question_id": 24039010, "tags": ["ios", "xcode6"]}, {"body": "<p>My answer, perhaps listed already but i did not notice, was simple: I deleted the app in question from the target itself, then fired up Xcode and the target was then available. And yes, i tried most of the other suggestions, and was resorting to activating the target from the Product menu, but that was getting tedious.</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "answer_id": 29658832, "question_id": 24039010, "tags": ["ios", "xcode6"]}, {"body": "<p>If you have a chance to run any project on the 'ineligible' device from other Mac with Xcode, try it and then reconnect the device to your Mac (without restarting Xcode/Mac).<br>\nFor me, after doing that, the 'ineligible device' section disappears and my device returns to the normal status.<br>\nHope it helps for someone.</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "answer_id": 29696263, "question_id": 24039010, "tags": ["ios", "xcode6"]}, {"body": "<p>Fixed in Xcode version 6.3.1 (6D1002) published April 21, 2015.</p>\n\n<p>At least the problem magically went away for me after installing this Xcode version.</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "answer_id": 29790263, "question_id": 24039010, "tags": ["ios", "xcode6"]}, {"body": "<p>Tried all possible Updates, with Xcode 6.3, iOS 8.3 and OSX 10.10.3, but didn't got a permanent solution.</p>\n\n<p>Kudos to skywinder,the first option worked!</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "answer_id": 29928549, "question_id": 24039010, "tags": ["ios", "xcode6"]}, {"body": "<p>For most people the cause of the problem is probably mismatch between Xcode, device version and app target version.<br>\nIf versions are not a problem for you, most likely is that the device (iPhone/iPad) has been used with another Mac to copy apps to. This happens particularly more with a team environment where an iDevice can be used between team members. Xcode knows some other developer's Mac has connected to this device, it will show up as \"Ineligible\". But the previous Mac that connected to it, it will show up as normal.<br>\nThe quickest work around is as shown by joshstaiger among others:<br>\nGo to Xcode ->Product->Destination<br>\nSelect the ineligible device as target. It should work. </p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "answer_id": 29973643, "question_id": 24039010, "tags": ["ios", "xcode6"]}, {"body": "<p>The most common cause for this issue is Xcode 6.3 and running iOS 8.2 on your device. Xcode 6.3 doesn't install the 8.2 simulator by default. It has the 8.3 simulator installed.</p>\n\n<p>The solution by @joshstaiger works, but it is not a permanent fix. You have to do this each time you want to run the app on your device</p>\n\n<p>The permanent fix is to simply install the 8.2 simulator in Xcode 6.3. Go the Xcode -> Preferences -> Downloads. Install the 8.2 simulator under Components. </p>\n\n<p>Now you will no longer see your device listed under ineligible devices.</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "answer_id": 30008873, "question_id": 24039010, "tags": ["ios", "xcode6"]}, {"body": "<p>I found the following useful:</p>\n\n<ol>\n<li>Connect to the new device, go to itunes, make sure you sync the\ndevice (you might have a certificate issue) </li>\n<li>Follow NateJC's advice (i.e. switch devices and switch back again)</li>\n</ol>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "answer_id": 30544513, "question_id": 24039010, "tags": ["ios", "xcode6"]}, {"body": "<p>You can try below solutions to run build in your device.</p>\n\n<ol>\n<li><p>Restart your iOS device (If device is recently updated) and your Xcode.</p></li>\n<li><p>Make Sure that in build settings \"iOS Deployment Target\" is &lt;= the version of your iDevice.\n<img src=\"http://i.stack.imgur.com/Fe24D.png\" alt=\"enter image description here\"></p></li>\n</ol>\n\n<p>Otherwise you can goto - Product > Destination, select your device which would be showing as ineligible device.You will be able to select your device and run your build.</p>\n\n<p>I also came across that if you have the iOS 8.4 then your Xcode doesn't have the SDK for iOS 8.4 due to which devices show as ineligible. To solve this issue</p>\n\n<p>Download Xcode 6.4</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "answer_id": 31319422, "question_id": 24039010, "tags": ["ios", "xcode6"]}, {"body": "<p>For iOS 9.1+ devices, the Xcode version should be upgraded to 7.1 (even 7.0x will not work)</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "answer_id": 33426699, "question_id": 24039010, "tags": ["ios", "xcode6"]}, {"body": "<p>Upgrade XCode to ensure that it supports your current iOS version on device. </p>\n\n<p>(In my case, my phone was on iOS 9.1.x) `but XCode version was 7, which supported iOS 9.0 devices)</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "answer_id": 33582240, "question_id": 24039010, "tags": ["ios", "xcode6"]}], "question_id": 24039010}, {"body": "<p>I spotted this CSS code in a project:</p>\n\n<pre><code>html, body { :)width: 640px;}\n</code></pre>\n\n<p>I have been around with CSS for a long time now but I never saw this \":)\" code before. Does it mean anything or is it just a typo?</p>\n", "title": "What does the smiley face &quot;:)&quot; mean in CSS?", "tags": ["css", "css-hack"], "answer_count": 2, "link": "http://stackoverflow.com/questions/25444328/what-does-the-smiley-face-mean-in-css", "answers": [{"body": "<p>It looks like a CSS hack to target IE7 and earlier browsers. While this <strong><em>is</em></strong> invalid CSS and browsers should ignore it, IE7 and earlier will parse and honor this rule. Here is an example of this hack in action:</p>\n\n<p><strong>CSS</strong></p>\n\n<pre><code>body {\n    background: url(background.png);\n    :)background: url(why-you-little.png);\n}\n</code></pre>\n\n<p><strong>IE8 (ignores the rule)</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/vNW0H.png\" alt=\"Example 1 - IE8\"></p>\n\n<p><strong>IE7 (applies the rule)</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/ScB91.png\" alt=\"Example 1 - IE7\"></p>\n\n<p>Note that it does not have to be a smiley face; <a href=\"http://browserhacks.com/#hack-6d49e92634f26ae6d6e46b3ebc10019a\"><strong>BrowserHacks</strong></a> mentions:</p>\n\n<blockquote>\n  <p>Any combination of these characters:<br>\n  <strong><code>! $ &amp; * ( ) = % + @ , . / ` [ ] # ~ ? : &lt; &gt; |</code></strong><br>\n  [before the property name will work on] Internet Explorer \u2264 7</p>\n</blockquote>\n\n<hr>\n\n<p><a href=\"http://stackoverflow.com/revisions/25444514/4\">The GAH hot dog stand example is here</a>.</p>\n", "title": "What does the smiley face &quot;:)&quot; mean in CSS?", "answer_id": 25444514, "question_id": 25444328, "tags": ["css", "css-hack"]}, {"body": "<p>From an <a href=\"http://www.javascriptkit.com/dhtmltutors/csshacks3.shtml\">article at javascriptkit.com</a>, that's applied for <strong>IE 7</strong> and earlier versions:</p>\n\n<blockquote>\n  <p>if you add a non-alphanumeric character such as an asterisk (<code>*</code>) immediately before a property name, the property will be applied in IE and not in other browsers.</p>\n</blockquote>\n\n<p>Also there's a hack for &lt;= <strong>IE 8</strong>:</p>\n\n<pre><code>div {\n  color: blue;      /* All browsers */\n  color: purple\\9;  /* IE8 and earlier */\n *color: pink;      /* IE7 and earlier */\n}\n</code></pre>\n\n<p>However that's not a good idea, they don't validate. You are always free to work with <a href=\"http://msdn.microsoft.com/en-us/library/ms537512.aspx\"><strong>Conditional comments</strong></a> for targeting specific versions of <strong>IE</strong>:</p>\n\n<pre><code>&lt;!--[if lte IE 8]&gt;&lt;link rel=\"stylesheet\" href=\"ie-8.css\"&gt;&lt;![endif]--&gt;\n&lt;!--[if lte IE 7]&gt;&lt;link rel=\"stylesheet\" href=\"ie-7.css\"&gt;&lt;![endif]--&gt;\n&lt;!--[if lte IE 6]&gt;&lt;link rel=\"stylesheet\" href=\"ie-6.css\"&gt;&lt;![endif]--&gt;\n</code></pre>\n\n<p>But for those wanna see the hack in real, please open up <a href=\"http://forooma.com/test.html\">this page</a> in the latest version of IE you have. Then go to developer mode by doing a <kbd>F12</kbd>. In Emulation section (<kbd>ctrl</kbd>+<kbd>8</kbd>) change document mode to <code>7</code> and see what happens.</p>\n\n<p><img src=\"http://i.stack.imgur.com/7UQqh.jpg\" alt=\"enter image description here\"></p>\n\n<p><em>The property used in the page is <code>:)font-size: 50px;</code>.</em></p>\n", "title": "What does the smiley face &quot;:)&quot; mean in CSS?", "answer_id": 25444600, "question_id": 25444328, "tags": ["css", "css-hack"]}], "question_id": 25444328}, {"body": "<p>I opened an existing iOS project with Xcode6 beta6, and Xcode lists the following warning for both Storyboard and Xib files:</p>\n\n<blockquote>\n  <p>Automatic Preferred Max Layout Width is not available on iOS versions\n  prior to 8.0</p>\n</blockquote>\n\n<p>I tried addressing the warning by setting the width as explicit like below:</p>\n\n<p><img src=\"http://i.stack.imgur.com/grSAX.png\" alt=\"\"></p>\n\n<p>Yet this didn't resolve the warnings. How can they be removed?</p>\n", "title": "Automatic Preferred Max Layout Width is not available on iOS versions prior to 8.0", "tags": ["ios", "autolayout", "ios8", "xcode6"], "answer_count": 10, "link": "http://stackoverflow.com/questions/25398312/automatic-preferred-max-layout-width-is-not-available-on-ios-versions-prior-to-8", "answers": [{"body": "<p>I got it working by selecting the original layout I had in the W / H selection. Storyboard is working as expected and the error is gone.</p>\n\n<p>Be also sure that you are developing for iOS 8.0. Check that from the project's general settings.</p>\n\n<p><a href=\"https://dl.dropboxusercontent.com/u/9396611/Screen%20Shot%202014-08-22%20at%2017.36.34.png\" rel=\"nofollow\">This is where you should press.</a></p>\n", "title": "Automatic Preferred Max Layout Width is not available on iOS versions prior to 8.0", "answer_id": 25449628, "question_id": 25398312, "tags": ["ios", "autolayout", "ios8", "xcode6"]}, {"body": "<p><strong>Update 3:</strong><br>\nThis warning can also be triggered by labels that have <code>numberOfLines</code> set to anything but 1 if your deployment target is set to 7.1. This is completely reproducible with new single-view project.</p>\n\n<p>Steps to Reproduce:</p>\n\n<ol>\n<li>Create a new single-view, objective-c project </li>\n<li>Set the Deployment Target to 7.1</li>\n<li>Open the project's storyboard</li>\n<li>Drop a label onto the provided view controller</li>\n<li>Set the numberOfLines for that label to 2.</li>\n<li>Compile</li>\n</ol>\n\n<p>I've filed the following radar:<br>\nrdar://problem/18700567</p>\n\n<p><strong>Update 2:</strong><br>\nUnfortunately, this is a thing again in the release version of Xcode 6. Note that you can, for the most part, manually edit your storyboard/xib to fix the problem. Per <a href=\"http://stackoverflow.com/users/2666110/charles-a\">Charles A.</a> in the comments below:</p>\n\n<blockquote>\n  <p>It's worth mentioning that you can pretty easily accidentally\n  introduce this warning, and the warning itself doesn't help in finding\n  the label that is the culprit. This is unfortunate in a complex\n  storyboard. You can open the storyboard as a source file and search\n  with the regex <strong><code>&lt;label(?!.*preferredMaxLayoutWidth)</code></strong> to find labels that\n  omit a preferredMaxLayoutWidth attribute/value. If you add in\n  preferredMaxLayoutWidth=\"0\" on such lines, it is the same as marking\n  explicit and setting the value 0.</p>\n</blockquote>\n\n<p><strong>Update 1:</strong><br> \nThis bug has now been fixed in Xcode 6 GM.</p>\n\n<p><strong>Original Answer</strong><br>\nThis is a bug in Xcode6-Beta6 and XCode6-Beta7 and can be safely ignored for now.</p>\n\n<p>An Apple engineer in the Apple Developer forums had <a href=\"https://devforums.apple.com/message/1027442#1027442\">this</a> to say about the bug:</p>\n\n<blockquote>\n  <p>Preferred max layout width is an auto layout property on UILabel that\n  allows it to automatically grow vertically to fit its content.\n  Versions of Xcode prior to 6.0 would set preferredMaxLayoutWidth for\n  multiline labels to the current bounds size at design time. You would\n  need to manually update preferredMaxLayoutWidth at runtime if your\n  horizontal layout changed.</p>\n  \n  <p>iOS 8 added support for automatically computing\n  preferredMaxLayoutWidth at runtime, which makes creating multiline\n  labels even easier. This setting is not backwards compatible with iOS\n  7. To support both iOS 7 and iOS 8, Xcode 6 allows you to pick either \"Automatic\" or \"Explicit\" for preferredMaxLayoutWidth in the size\n  inspector. You should:</p>\n  \n  <p>Pick \"Automatic\" if targeting iOS 8 for the best experience. Pick\n  \"Explicit\" if targeting &lt; iOS 8. You can then enter the value of\n  preferredMaxLayoutWidth you would like set. Enabling \"Explicit\"\n  defaults to the current bounds size at the time you checked the box.</p>\n  \n  <p>The warning will appear if (1) you're using auto layout, (2)\n  \"Automatic\" is set for a multiline label [you can check this in the\n  size inspector for the label], and (3) your deployment target &lt; iOS 8.</p>\n  \n  <p>It seems the bug is that this warning appears for non-autolayout\n  documents. If you are seeing this warning and not using auto layout\n  you can ignore the warning.</p>\n</blockquote>\n\n<p>Alternately, you can work around the issue by using the file inspector on the storyboard or xib in question and change \"Builds for\" to \"Builds for iOS 8.0 and Later\"\n<img src=\"http://i.stack.imgur.com/AWQnK.png\" alt=\"Xcode file inspector\"></p>\n", "title": "Automatic Preferred Max Layout Width is not available on iOS versions prior to 8.0", "answer_id": 25453685, "question_id": 25398312, "tags": ["ios", "autolayout", "ios8", "xcode6"]}, {"body": "<p>Now my Xcode version is 6.1. But I got this warning too. it annoys me a lot . after search again and again.I found the solution.</p>\n\n<p>Reason:You must have set your UILabel Lines > 1 in your Storyboard. </p>\n\n<p>Solution: set your UILabel Lines attribute to 1 in Storyboard. restart your Xcode. It works for me, hope it can help more people.</p>\n\n<p>If you really need to show your words more than 1 line. you should do it in the code.</p>\n\n<pre><code>//the words will show in UILabel\nNSString *testString = @\"Today I wanna set the line to multiple lines. bla bla ......  Today I wanna set the line to multiple lines. bla bla ......\"\n[self.UserNameLabel setNumberOfLines:0];\nself.UserNameLabel.lineBreakMode = NSLineBreakByWordWrapping;\nUIFont *font = [UIFont systemFontOfSize:12];\n//Here I set the Label max width to 200, height to 60\nCGSize size = CGSizeMake(200, 60);\nCGRect labelRect = [testString boundingRectWithSize:size options:NSStringDrawingUsesLineFragmentOrigin attributes:[NSDictionary dictionaryWithObject:font forKey:NSFontAttributeName] context:nil];\nself.UserNameLabel.frame = CGRectMake(self.UserNameLabel.frame.origin.x, self.UserNameLabel.frame.origin.y, labelRect.size.width, labelRect.size.height);\nself.UserNameLabel.text = testString;\n</code></pre>\n", "title": "Automatic Preferred Max Layout Width is not available on iOS versions prior to 8.0", "answer_id": 26770938, "question_id": 25398312, "tags": ["ios", "autolayout", "ios8", "xcode6"]}, {"body": "<p>To summarize, for me following the two instructions above to change any instances where numberOfLines = 0 to 1 or greater, and manually adding preferredMaxLayoutWidth=\"0\" to each instance of a label inside the storyboard source fixed all of my warnings.</p>\n", "title": "Automatic Preferred Max Layout Width is not available on iOS versions prior to 8.0", "answer_id": 27383108, "question_id": 25398312, "tags": ["ios", "autolayout", "ios8", "xcode6"]}, {"body": "<p>To Find the problem label(s) in a large storyboard, follow my steps below.</p>\n\n<ol>\n<li>In xCode's Issue Navigator right click on the error and select \"Reveal In Log\". (Note: @Sam suggests below, look in xCode's <em>report navigator</em>. Also @Rivera notes in the comments that \"As of Xcode 6.1.1, clicking on the warning will automatically open and highlight the conflicting label\". I haven't tested this). </li>\n</ol>\n\n<p><img src=\"http://i.stack.imgur.com/DFoFl.png\" alt=\"enter image description here\"></p>\n\n<ol start=\"2\">\n<li>This will show the error with a code at the end of your storyboard file. Copy the value after .storyboard</li>\n</ol>\n\n<p><img src=\"http://i.stack.imgur.com/4J204.png\" alt=\"enter image description here\"></p>\n\n<ol start=\"3\">\n<li><p>Next, reveal your storyboard as source file. \n<img src=\"http://i.stack.imgur.com/u23C6.png\" alt=\"enter image description here\"></p></li>\n<li><p>Search. You should be able to tell what label it is from here quite easily by looking at the content.\n<img src=\"http://i.stack.imgur.com/tpoZI.png\" alt=\"enter image description here\"></p></li>\n</ol>\n\n<p>Once you find the label the solution that worked for me was to set the \"preferred width\" to 0.</p>\n\n<p><img src=\"http://i.stack.imgur.com/hEF9R.png\" alt=\"enter image description here\"></p>\n\n<p>BTW, you can always quickly get the id of an interface item by selecting the item and looking under the identify inspector. Very handy.</p>\n\n<p><img src=\"http://i.stack.imgur.com/zvbd5.png\" alt=\"enter image description here\"></p>\n", "title": "Automatic Preferred Max Layout Width is not available on iOS versions prior to 8.0", "answer_id": 27867875, "question_id": 25398312, "tags": ["ios", "autolayout", "ios8", "xcode6"]}, {"body": "<p>Since I don't have a 50 reputation Stackoverflow wont let me comment on the second best answer. Found another trick for finding the culprit label in the Storyboard.</p>\n\n<p>So once you know the id of the label, open your storyboard in a seperate tab with view controllers displayed and just do command F and command V and will take you straight to that label :)</p>\n", "title": "Automatic Preferred Max Layout Width is not available on iOS versions prior to 8.0", "answer_id": 28377714, "question_id": 25398312, "tags": ["ios", "autolayout", "ios8", "xcode6"]}, {"body": "<p>I had this issue and was able to fix it by adding constraints to determine the max with for a label.</p>\n\n<p>When dropping a multiline label in there is not constraint set to enforce the width inside the parent view. This is where the new PreferredMaxWidth comes into play. On iOS 7 and earlier you have to define the max width yourself. I simply added a 10px constraint to the left and right hand side of the label.</p>\n\n<p>You can also add a &lt;= width constraint which also fixes the issue.</p>\n\n<p>So this is not actually a bug, you simply have to define the max width yourself. The explicit option mention in other answer will also work as you are setting this width value however you will have to modify this value if you want the max width to change based on the parent width (as you have explicitly set the width). </p>\n\n<p>My above solution ensures the width is always maintained no matter how big the parent view is.</p>\n", "title": "Automatic Preferred Max Layout Width is not available on iOS versions prior to 8.0", "answer_id": 28584820, "question_id": 25398312, "tags": ["ios", "autolayout", "ios8", "xcode6"]}, {"body": "<p>You can fix this issue <strong>without opening the storyboard as a source</strong>.\nThis warning is triggered by UILabels if numberOfLines !=1 and deployment target is &lt; 8.0</p>\n\n<p>HOW TO FIND IT?</p>\n\n<ol>\n<li><strong>Go to Issue Navigator</strong> (CMD+8) and Select latest built with the warning\n<img src=\"http://i.stack.imgur.com/mGQyl.png\" alt=\"enter image description here\"></li>\n<li><strong>Locate the warning(s)</strong> (search for \"<em>Automatic Preferred Max Layout</em>\") and press expand button on the right<br>\n<img src=\"http://i.stack.imgur.com/ggPTi.png\" alt=\"enter image description here\"></li>\n<li><strong>Find the Object ID</strong> of the UILabel\n<img src=\"http://i.stack.imgur.com/ho8oB.png\" alt=\"enter image description here\"></li>\n<li>Open the Storyboard and <strong>SEARCH</strong> (CMD+f) for the object. It will <strong>SELECT AND HIGHLIGHT</strong> the UILabel </li>\n<li><strong>Set Preferred Width = 0 \"Explicit\"</strong> as others suggested</li>\n</ol>\n", "title": "Automatic Preferred Max Layout Width is not available on iOS versions prior to 8.0", "answer_id": 29933919, "question_id": 25398312, "tags": ["ios", "autolayout", "ios8", "xcode6"]}, {"body": "<p>Solution it's quite simple</p>\n\n<p>Just enable Builds for iOS 8 and Later</p>\n\n<p><img src=\"http://i.stack.imgur.com/xra3G.png\" alt=\"enter image description here\"></p>\n", "title": "Automatic Preferred Max Layout Width is not available on iOS versions prior to 8.0", "answer_id": 31500210, "question_id": 25398312, "tags": ["ios", "autolayout", "ios8", "xcode6"]}, {"body": "<p>For some reason, even if changing the iOS Deployment Target to 8.0 or higher, the Xib files don't adopt that change and remain with the previous settings in the File inspector</p>\n\n<p><a href=\"http://i.stack.imgur.com/twDRe.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/twDRe.png\" alt=\"File inspector in the Xib after changing the iOS Deployment target\"></a></p>\n\n<p>Therefore, you should change it manually for each Xib\n<a href=\"http://i.stack.imgur.com/xLmKt.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/xLmKt.png\" alt=\"Afther the manual change\"></a></p>\n\n<p>Once done, the warning will disappear :-)</p>\n", "title": "Automatic Preferred Max Layout Width is not available on iOS versions prior to 8.0", "answer_id": 35722852, "question_id": 25398312, "tags": ["ios", "autolayout", "ios8", "xcode6"]}], "question_id": 25398312}, {"body": "<p>Github announced <a href=\"https://atom.io/\">Atom</a> which is very similar to Sublime. Even some keyboard shortcuts like <kbd>\u2318 + P</kbd>, <kbd>\u2318 + Shift + P</kbd> etc. are same.  </p>\n\n<ol>\n<li>How is Atom different from Sublime?  </li>\n<li>Does it include IDE features like build tools, function definition jumps, documentations, etc.?</li>\n<li>Has anyone using Sublime got a Beta invitation to point out the differences?</li>\n<li>Can I use the themes, schemes and packages from Sublime as is, like Sublime could do with <strong>text mate</strong>.</li>\n</ol>\n\n<p><img src=\"http://i.stack.imgur.com/0AZmH.png\" alt=\"Atom Shell\"><a href=\"http://i.stack.imgur.com/0AZmH.png\">1</a></p>\n\n<p>PS: Open image in new tab for bigger resolution.</p>\n", "title": "What is the difference between Sublime text and Github&#39;s Atom", "tags": ["editor", "sublimetext2", "sublimetext", "text-editor", "atom-editor"], "answer_count": 14, "link": "http://stackoverflow.com/questions/22126078/what-is-the-difference-between-sublime-text-and-githubs-atom", "answers": [{"body": "<p>Another difference is that Sublime text is a closed source project, while Atom source code is/will be publicly available --although Github does not plan to release it as a real open source project. They want to give access to the code, without opening it to contributions. </p>\n\n<p>Github made the code public: <a href=\"http://blog.atom.io/2014/05/06/atom-is-now-open-source.html\" rel=\"nofollow\">http://blog.atom.io/2014/05/06/atom-is-now-open-source.html</a></p>\n", "title": "What is the difference between Sublime text and Github&#39;s Atom", "answer_id": 22126142, "question_id": 22126078, "tags": ["editor", "sublimetext2", "sublimetext", "text-editor", "atom-editor"]}, {"body": "<p>Atom is written using Node.js, CoffeeScript and LESS. It's then wrapped in a WebKit wrapper, which was originally only available for OSX, although there is now also a Windows version available. (Linux version has to be built from source, but there is a PPA for Ubuntu users.)</p>\n\n<p>A lot of the architecture and features have been duplicated from Sublime Text because they're tried and tested. The plugin system works almost the same, but opens up a lot of new features and potential by exposing new APIs too.</p>\n\n<p>I believe that the shortcuts remain mostly the same due to muscle memory \u2013 people will remember them and be able to instantly click with Atom.</p>\n\n<p>The preferences can be controlled with a GUI rather than by editing JSON directly, which might lower the entry barrier towards getting people started with Atom. <em>I myself find it difficult to navigate them all since there is no search feature in Preferences.</em></p>\n\n<p>You can signup for an invite on the <a href=\"http://webchat.freenode.net/?channels=##atom-invites\">##atom-invites</a> IRC channel or signup to their website and add your email. The first round of invites came quickly.</p>\n", "title": "What is the difference between Sublime text and Github&#39;s Atom", "answer_id": 22126195, "question_id": 22126078, "tags": ["editor", "sublimetext2", "sublimetext", "text-editor", "atom-editor"]}, {"body": "<p>I just got my beta invitation today and tried Atom right away. The GUI feels like Sublime, and yes, there some shortcuts adopted from Sublime.</p>\n\n<p>Besides everything mentioned above, here are some differences I have noticed so far:</p>\n\n<ol>\n<li><p>Vim mode is not as good as the Vintage mode on Sublime (which is not a fully featured vim either) because the vim package is in an early stage of development. See <a href=\"https://atom.io/packages/vim-mode\">https://atom.io/packages/vim-mode</a> for detail.</p></li>\n<li><p>As James mention, Atom is written using web tools, so you have access to the stylesheet of the text editor (styles.less) to do whatever appearance changes you want using CSS. There is also an option to change the startup CoffeeScript.</p></li>\n<li><p>Again, because Atom is still in the beta stage, Sublime has much more native plugin packages. However, since Atom is written in Node.js, the Atom official site said you can \"choose from over 50 thousand in Node's package repository.\" (Because I am not a Node.js pro, I haven't look into this feature though)</p></li>\n<li><p>Atom has better Github support out of the box, but Sublime has a several Git packages.</p></li>\n<li><p>Sublime is a paid application unlimited evaluation period. Atom is free at the beta stage but we don't know whether Github wants to charge it or not. </p></li>\n</ol>\n\n<p>So the bottom line is Atom is a text editor built with web technology at beta stage. By contrast, Sublime has evolved through many different iterations. Atom is still missing a lot of packages that Sublime supports, so the question is will Atom catch up with Sublime or become some better? Github seems to be confident about the future of this text edit because of its popular underlying technologies, and Atom is probably going to be a good alternative to Sublime in the long run.</p>\n", "title": "What is the difference between Sublime text and Github&#39;s Atom", "answer_id": 22286530, "question_id": 22126078, "tags": ["editor", "sublimetext2", "sublimetext", "text-editor", "atom-editor"]}, {"body": "<p>In addition to the points from prior answers, it's worth clarifying the differences between these two products from the perspective of choices made in their development.</p>\n\n<p>Sublime is binary compiled for the platform. Its core is written in C/C++ and a number of its features are implemented in Python, which is also the language used for extending it. Atom is written in Node.js/Coffeescript and runs under webkit, with Coffeescript being the extension language. Though similar in UI and UX, Sublime performs significantly better than Atom especially in \"heavy lifting\" like working with large files, complex SnR or plugins that do heavy processing on files/buffers. Though I expect improvements in Atom as it matures, design &amp; platform choices limit performance.</p>\n\n<p>The \"closed\" part of Sublime includes the API and UI. Apart from skins/themes and colourisers, the API currently makes it difficult to modify other aspects of the UI. For example, Sublime plugins can't interact with the sidebar, control or draw on the editing area (except in some limited ways eg. in the gutter) or manipulate the statusbar beyond basic text. <s>Atom's \"closed\" part is unknown at the moment, but I get the sense it's smaller.</s> Atom has a richer API (though poorly documented at present) with the design goal of allowing greater control of its UI. Being closely coupled with webkit offers numerous capabilities for UI feature enhancements not presently possible with Sublime. However, Sublime's extensions perform closer to native, so those that perform compute-intensive, highly repetitive or complex text manipulations in large buffers are feasible in Sublime.</p>\n\n<p><s>Since more of Atom will be open,</s> Github open-sourced Atom on May 6th. As a result it's likely that support and pace of development will be rapid. By contrast, Sublime's development has slowed significantly of late - <strong><a href=\"http://www.sublimetext.com/forum/viewtopic.php?f=2&amp;t=15477&amp;start=60#p58951\">but it's not dead</a></strong>. In particular there are a number of bugs, many quite trivial, that haven't been fixed by the developer. None are showstopping imo, but if you want something in rapid development with regular bugfixing and enhancements, Sublime will frustrate. That said, <s>installable Atom packages for Windows and Linux are yet to be released and</s> activity on the codebase seems to have cooled in the weeks before and since the announcement, according to Github's stats.</p>\n\n<p>In terms of IDE functions, from a webdev perspective Atom will allow extensions to the point of approaching products like Webstorm, though none have appeared yet. It remains to be seen how Atom will perform with such \"heavy\" extensions, since the editor natively feels sluggish. Due to restrictions in the API and lack of underlying webkit, Sublime won't allow this level of UI customisation although the developer may extend the API to support such features in future. Again, Sublime's underlying performance allows for things that involve computational grunt; ST3's symbol indexing being an example that performs well even with big projects. And though Atom's UI is certainly modelled upon Sublime, some refinements are noticeably missing, such as Sublime's learning panels and tab-complete popups which weight the defaults in accordance with those you most use.</p>\n\n<p>I see these products as complementary. The fact that they share similar visuals and keystrokes just adds to the fact. There will be situations where the use of either has advantages. Presently, Sublime is a mature product with feature parity across all three platforms, and a rich set of plugins. Atom is the new kid whose features will rapidly grow; it doesn't feel production ready just yet and there are concerns in the area of performance.</p>\n\n<p><em>[Update/Edit: May 18, 2015]</em></p>\n\n<p>A note about improvements to these two editors since the time of writing the above.</p>\n\n<p>In addition to bugfixes and improvements to its core, Atom has experienced a rapid growth in third-party extensions, with autocomplete-plus becoming part of the standard Atom distribution. Extension quality varies widely and a particular irritation is the frequency by which unstable third party packages can crash the editor. Within the last year, Atom has moved to using React by way of shifting reflow/repaint activity to the GPU for performance reasons, significantly improving the responsiveness of the UI for typical editing actions (scrolling, cursor movement etc.). While this has markedly improved the feel of the editor, it still feels cumbersome for CPU intensive tasks as described above, and is still slow in startup. Apart from performance improvements, Atom feels significantly more stable across the board.</p>\n\n<p>Development of Sublime has picked up again since Jan 2015, with bugfixes, some minor new features (tooltip API, build system improvements) and a major development in the form of a new yaml-based .sublime-syntax definition (to eventually replace the old xml .tmLanguage). Together with a custom regex engine which replaces Onigurama, the new system offers more potential for precise regex matching, is significantly faster (up to 4x) and can perform multiple matches in parallel. Apart from colouring syntax, Sublime uses these components for symbol indexing (goto definition etc.) and other language-aware features. In addition to further speeding up Sublime, particularly for large files, this feature should open up the potential for performant language-specific features such as code-refactoring etc.. Further 'big developments' are promised, though the author remains, as ever, tight lipped about them.</p>\n", "title": "What is the difference between Sublime text and Github&#39;s Atom", "answer_id": 22471391, "question_id": 22126078, "tags": ["editor", "sublimetext2", "sublimetext", "text-editor", "atom-editor"]}, {"body": "<p>I tried Atom and it looks really nice BUT there is one major problem (at least in v 0.84):</p>\n\n<p>It doesn't support vertical select <kbd>Alt</kbd>+Drag - this is a must for every modern code editor.</p>\n", "title": "What is the difference between Sublime text and Github&#39;s Atom", "answer_id": 23057134, "question_id": 22126078, "tags": ["editor", "sublimetext2", "sublimetext", "text-editor", "atom-editor"]}, {"body": "<p>Atom <a href=\"http://blog.atom.io/2014/05/06/atom-is-now-open-source.html\">is open source</a> (has been for a few hours by now), whereas Sublime Text is not.</p>\n", "title": "What is the difference between Sublime text and Github&#39;s Atom", "answer_id": 23503315, "question_id": 22126078, "tags": ["editor", "sublimetext2", "sublimetext", "text-editor", "atom-editor"]}, {"body": "<ol>\n<li><strong>How is Atom different from Sublime?</strong>\n\n<ul>\n<li>Atom is an open source text editor/IDE, built on JavaScript/HTML/CSS.</li>\n<li>Sublime Text is a commercial product, built on C/C++ and Python.</li>\n<li>Comparable to Atom is <a href=\"http://brackets.io\">Adobe Brackets</a>, another open source text editor/IDE built on JavaScript/HTML/CSS. Be minded that this makes Brackets more oriented towards Web development, specially in the front end.</li>\n<li>Advantages of open source projects are faster rate of development and, of course, price.</li>\n</ul></li>\n<li><strong>Does it include IDE features like build tools, function definition jumps, documentations, etc.?</strong>\n\n<ul>\n<li>The short answer is yes, yes, and yes. The app is completely modular. Open source will give people the freedom to fill the gaps on several of these features.</li>\n</ul></li>\n<li><strong>Has anyone using Sublime got a Beta invitation to point out the differences?</strong>\n\n<ul>\n<li>Advantages of Atom is entry-level hackability, since it's built on the same code that powers Web sites.</li>\n<li>Advantages of Sublime Text is performance, as it doesn't need to run on top of Node.js, and it's a more mature product, about to reach a stable version 3.</li>\n<li>There are a long list of minor differences that can be included in the comments (I wish this markdown could be able to draw a table for comparisons, but that's another issue). </li>\n<li>Because of Atom's rapid turnout, I am afraid some of differences I list here will become outdated over time. <s>Per example, at the time of this writing, Atom is only available on the Macintosh while Sublime Text is already multiplatform.</s></li>\n</ul></li>\n<li><strong>Can I use the themes, schemes and packages from Sublime as is, like Sublime could do with text mate.</strong>\n\n<ul>\n<li>The short answer is no, but because of Atom's hackability, it will be easy to retool packages from other editors to Atom.</li>\n</ul></li>\n</ol>\n", "title": "What is the difference between Sublime text and Github&#39;s Atom", "answer_id": 23546497, "question_id": 22126078, "tags": ["editor", "sublimetext2", "sublimetext", "text-editor", "atom-editor"]}, {"body": "<p>One major difference is the support of \"Indic Fonts\" aka South Asian Scripts (including Southeast Asian languages such as Khmer, Lao, Myanmar and Thai). Also, there is much better support for East Asian languages (Chinese, Japanese, Korean). These are known bugs (actually the most highly rated bugs) that have been going on for years (thought it appears East Asian language support used to work better but have now become difficult to use):</p>\n\n<ul>\n<li><a href=\"http://sublimetext.userecho.com/topic/117587-thai-language-issue/\" rel=\"nofollow\">http://sublimetext.userecho.com/topic/117587-thai-language-issue/</a> </li>\n<li><a href=\"http://sublimetext.userecho.com/topic/99013-can-not-show-or-type-chinese-charactor-on-ubuntu-system/\" rel=\"nofollow\">http://sublimetext.userecho.com/topic/99013-can-not-show-or-type-chinese-charactor-on-ubuntu-system/</a></li>\n</ul>\n", "title": "What is the difference between Sublime text and Github&#39;s Atom", "answer_id": 23591204, "question_id": 22126078, "tags": ["editor", "sublimetext2", "sublimetext", "text-editor", "atom-editor"]}, {"body": "<p><strong>Here are some differences between the two:</strong></p>\n\n<ul>\n<li>Atom <a href=\"https://github.com/blog/1831-atom-free-and-open-source-for-everyone\">is open source</a> (MIT License)</li>\n<li>A single user license for Sublime Text <a href=\"https://www.sublimetext.com/buy\">costs $70</a>.</li>\n</ul>\n\n<hr>\n\n<ul>\n<li>Atom is written in <a href=\"http://zedapp.org/2014/02/thoughts-on-atom-vs-zed/\">Node.js, CoffeeScript, HTML and LESS</a>.</li>\n<li>Sublime Text is <a href=\"http://stackoverflow.com/questions/9473464/in-what-programming-language-is-sublime-text-2-written\">written in C++, Python for plugins, and Objective-C for Cocoa integration</a></li>\n</ul>\n\n<hr>\n\n<ul>\n<li>Atom has a <a href=\"https://github.com/atom/apm\">built-in package manager*</a></li>\n<li>Sublime Text depends on a third-party solution for package management\n(<a href=\"https://sublime.wbond.net/\">Wbond Package Control</a>)</li>\n</ul>\n\n<hr>\n\n<ul>\n<li><s>At the time of writing this (05/20/2014), there are Atom binaries only for Mac OS X (10.8 or later). If you want to use it under Windows or Linux, you'll have to build it.</s> <strong>Update:</strong> Nowadays, <a href=\"https://github.com/atom/atom/releases/tag/v1.0.5\">there are Atom binaries for Mac OS X (10.8 or later) Windows and Linux</a>.</li>\n<li>Sublime Text binaries are <a href=\"http://www.sublimetext.com/3\">available for Mac OS X, Windows (installable or portable) and Linux (as a .deb or tarball)</a></li>\n</ul>\n\n<hr>\n\n<ul>\n<li>Atom settings can be configured <a href=\"http://www.youtube.com/watch?v=_T5hWtn2HPw\">either through a user-friendly interface or directly by editing configuration files</a>.</li>\n<li>Sublime Text <a href=\"http://www.sublimetext.com/docs/2/settings.html\">only allows you to change settings through configuration files</a>.</li>\n</ul>\n\n<hr>\n\n<p>*Though APM is a separated tool, it's bundled and installed automatically with Atom</p>\n", "title": "What is the difference between Sublime text and Github&#39;s Atom", "answer_id": 23751041, "question_id": 22126078, "tags": ["editor", "sublimetext2", "sublimetext", "text-editor", "atom-editor"]}, {"body": "<p>I'm working in little extreme environment; edit files on remote filesystem (external network, surely) that is mounted on my Laptop thru ssh(aka. sshfs). Regardless why I'm doing like this, also though its cumbersome responsiveness, it's fairly edible when I'm using Sublime Text 2.</p>\n\n<p>I tried on Atom after reading this post, but it turned out to be somewhat painful to me; Atom seems that it doesn't cache directory structure so efficiently. Every time I expand a folder on Tree View, the UI froze for a short time, 2~3 seconds, maybe fetching file system info. Yes, it's because I'm using remote filesystem. But Sublime handles this more efficient, at least it doesn't freeze every time I expand a folder, so less painful.</p>\n\n<p>I think Atom is hell nice for free, and my story is trivial that might be enhanced someday, but it would be helpful to someone at this time.</p>\n\n<p>--</p>\n\n<p><strong>added on 8/26/2014</strong></p>\n\n<p>Recently, I changed my laptop from Macbook Air 2010 late to Macbook Pro 13\" 2013 late. It has likely 4 times faster CPU and much enhancements in performance. I want to mention my opinion is about in the case WHEN YOU MOUNT REMOTE FILE SYSTEM. (using <strong>OS X Mavericks</strong>, most recent version of Atom, FUSE 2.7.3 / OSXFUSE 2.6.4 / sshfs 2.5.0, and remote system is Ubuntu server) Eventually, UI freeze gets pretty shorter, but it is still there. Specifically, to open a folder with many folder/files in it and index it is requires certain amount of time. Also, if you expand a folder full of files, it just falters. (when collapsing the folder, it doesn't)</p>\n\n<p>According to @EliDuenisch , it seems not happen on Linux Mint. I'm not sure but it might be from difference between OSes. Surely, if you work on local file system, you don't have to care about this issue at all.</p>\n", "title": "What is the difference between Sublime text and Github&#39;s Atom", "answer_id": 23834820, "question_id": 22126078, "tags": ["editor", "sublimetext2", "sublimetext", "text-editor", "atom-editor"]}, {"body": "<p>Atom has been created by Github and it includes \"git awareness\". That is a feature I like quite a lot:</p>\n\n<p><img src=\"http://i.stack.imgur.com/lvFqc.png\" alt=\"enter image description here\"></p>\n\n<p>Also it highlights the files in the git tree that have changed with different colours depending on their commit status:</p>\n\n<p><img src=\"http://i.stack.imgur.com/e4jvc.png\" alt=\"enter image description here\"></p>\n", "title": "What is the difference between Sublime text and Github&#39;s Atom", "answer_id": 24289756, "question_id": 22126078, "tags": ["editor", "sublimetext2", "sublimetext", "text-editor", "atom-editor"]}, {"body": "<p>Atom is still in beta (v0.123 as I'm writing this) but it's moving fast. Way faster than Sublime. New builds are released on a weekly basis, sometimes even few of them in the same week. In its short life span, it had more releases than Sublime which takes months to release a new feature or a bug fix. Here's an updated take on things looking back on the path Atom has taken since the launch of the beta:</p>\n\n<ol>\n<li><p>Sublime has better performance than Atom. Simply because it's written in C++. Atom on the other hand is a web based desktop app built on top of Chromium, and while they take performance close to heart, it will be really hard or even impossible to reach the same speed and responsiveness. Last July Atom began using React and it gave it a nice performance boost but you can still feel the difference. Apart from that, if Atom\u2019s performance issues will not push users away - Sublime better speed up the release cycle, brush up its small UX tweaks, and consider letting in more contributors because this is where Atom is winning. </p></li>\n<li><p>Atom's package ecosystem is also growing really fast, it might not be as big as Sublime's at the moment but I have a feeling that with GitHub at it's back it will keep growing even faster. It probably has the majority of IDE like plug-ins you can think of. A major difference right now is that it can't handle files bigger than 2MB so it's something to keep in mind.</p></li>\n<li><p>The one thing you'll notice first is that the Sublime minimap is gone! Other than that, the first impression is that Atom looks almost the same as Sublime. I wrote a more in depth comparison about it in this <a href=\"http://www.takipiblog.com/2014/08/13/sublime-vs-atom-text-editor-battles/\" rel=\"nofollow\">blog post</a>.</p></li>\n<li><p>No easy straightforward way to port your Sublime configurations, packages and such as far as I know.</p></li>\n</ol>\n", "title": "What is the difference between Sublime text and Github&#39;s Atom", "answer_id": 25491307, "question_id": 22126078, "tags": ["editor", "sublimetext2", "sublimetext", "text-editor", "atom-editor"]}, {"body": "<p>ATTENTION :: </p>\n\n<p>-- because of poorly made caching system, in Atom loss of data occurs often when using big files. </p>\n\n<p>It has been proven numerous times.</p>\n", "title": "What is the difference between Sublime text and Github&#39;s Atom", "answer_id": 31965627, "question_id": 22126078, "tags": ["editor", "sublimetext2", "sublimetext", "text-editor", "atom-editor"]}, {"body": "<p>One major difference that no one has pointed out so far and that might be important to some people is that (at least on Windows) Atom doesn't fully support other keyboard layouts than US. There is an bug report on that with a few hundred posts that has been open for more than a year now (<a href=\"https://github.com/atom/atom-keymap/issues/35\" rel=\"nofollow\">https://github.com/atom/atom-keymap/issues/35</a>).</p>\n\n<p>Might be relevant when choosing an editor.</p>\n", "title": "What is the difference between Sublime text and Github&#39;s Atom", "answer_id": 33504858, "question_id": 22126078, "tags": ["editor", "sublimetext2", "sublimetext", "text-editor", "atom-editor"]}], "question_id": 22126078}, {"body": "<p>I am trying to build a shared library using a C extension file but first I have to generate the output file using the command below:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>gcc -Wall utilsmodule.c -o Utilc\n</code></pre>\n\n<p>After executing the command, I get this error message:</p>\n\n<blockquote>\n  <p>utilsmodule.c:1:20: fatal error: Python.h: No such file or directory\n  compilation terminated.</p>\n</blockquote>\n\n<p>in fact I have tried all the suggested solutions over the internet but the problem still exists ... also I have no problem with <code>Python.h</code>. I managed to locate the file on my machine ... anybody has faced the same problem before??</p>\n", "title": "fatal error: Python.h: No such file or directory", "tags": ["python", "gcc", "python-c-api", "python-c-extension"], "answer_count": 14, "link": "http://stackoverflow.com/questions/21530577/fatal-error-python-h-no-such-file-or-directory", "answers": [{"body": "<p>Looks like you haven't properly installed the header files and static libraries for python dev.  Use your package manager to install them system-wide.  </p>\n\n<p>For apt (<strong>ubuntu, debian...</strong>):</p>\n\n<pre><code>sudo apt-get install python-dev\n</code></pre>\n\n<p>For yum (<strong>centos, redhat, fedora...</strong>):</p>\n\n<pre><code>sudo yum install python-devel\n</code></pre>\n", "title": "fatal error: Python.h: No such file or directory", "answer_id": 21530768, "question_id": 21530577, "tags": ["python", "gcc", "python-c-api", "python-c-extension"]}, {"body": "<p>This means that <code>Python.h</code> isn't in your compiler's default include paths. Have you installed it system-wide or locally? What's your OS?</p>\n\n<p>You could use the <code>-I&lt;path&gt;</code> flag to specify an additional directory where your compiler should look for headers. You will probably have to follow up with <code>-L&lt;path&gt;</code> so that gcc can find the library you'll be linking with using <code>-l&lt;name&gt;</code>.</p>\n", "title": "fatal error: Python.h: No such file or directory", "answer_id": 21530823, "question_id": 21530577, "tags": ["python", "gcc", "python-c-api", "python-c-extension"]}, {"body": "<p>Two things you have to do.</p>\n\n<p>Install development package for Python, in case of Debian/Ubuntu/Mint it's done with command:</p>\n\n<pre><code>sudo apt-get install python-dev\n</code></pre>\n\n<p>Second thing is that include files are not by default in the include path, nor is Python library linked with executable by default. You need to add these flags (replace Python's version accordingly):</p>\n\n<pre><code>-I/usr/include/python2.7 -lpython2.7 \n</code></pre>\n\n<p>In other words your compile command ought to be:</p>\n\n<pre><code>gcc -Wall -I/usr/include/python2.7 -lpython2.7  utilsmodule.c -o Utilc \n</code></pre>\n", "title": "fatal error: Python.h: No such file or directory", "answer_id": 21530866, "question_id": 21530577, "tags": ["python", "gcc", "python-c-api", "python-c-extension"]}, {"body": "<p>Make sure that the Python dev files come with your OS.</p>\n\n<p>You should not hard code the library and include paths. Instead, use pkg-config, which will output the correct options for your specific system:</p>\n\n<pre><code>$ pkg-config --cflags --libs python2\n-I/usr/include/python2.7 -lpython2.7\n</code></pre>\n\n<p>You may add it to your <em>gcc</em> line:</p>\n\n<pre><code>gcc $(pkg-config --cflags --libs python2) -Wall utilsmodule.c -o Utilc\n</code></pre>\n", "title": "fatal error: Python.h: No such file or directory", "answer_id": 21531170, "question_id": 21530577, "tags": ["python", "gcc", "python-c-api", "python-c-extension"]}, {"body": "<p>I managed to solve this issue and generate the .so file in one command </p>\n\n<pre><code>gcc -shared -o UtilcS.so\n-fPIC -I/usr/include/python2.7 -lpython2.7  utilsmodule.c\n</code></pre>\n", "title": "fatal error: Python.h: No such file or directory", "answer_id": 21548557, "question_id": 21530577, "tags": ["python", "gcc", "python-c-api", "python-c-extension"]}, {"body": "<p>On Ubuntu, I was running Python 3 and I had to install </p>\n\n<pre><code>sudo apt-get install python3-dev\n</code></pre>\n", "title": "fatal error: Python.h: No such file or directory", "answer_id": 22077790, "question_id": 21530577, "tags": ["python", "gcc", "python-c-api", "python-c-extension"]}, {"body": "<p>For the OpenSuse comrades out there:</p>\n\n<pre><code>sudo zypper install python3-devel\n</code></pre>\n", "title": "fatal error: Python.h: No such file or directory", "answer_id": 29326063, "question_id": 21530577, "tags": ["python", "gcc", "python-c-api", "python-c-extension"]}, {"body": "<p>If you are using <a href=\"https://tox.readthedocs.org/en/latest/\">tox</a> to run tests on multiple versions of Python, you may need to install the Python dev libraries for each version of Python you are testing on.</p>\n\n<pre><code>sudo apt-get install python2.6-dev \nsudo apt-get install python2.7-dev \netc.\n</code></pre>\n", "title": "fatal error: Python.h: No such file or directory", "answer_id": 29830656, "question_id": 21530577, "tags": ["python", "gcc", "python-c-api", "python-c-extension"]}, {"body": "<p>on Fedora try this..</p>\n\n<blockquote>\n  <p>sudo yum install python-devel</p>\n</blockquote>\n", "title": "fatal error: Python.h: No such file or directory", "answer_id": 30676339, "question_id": 21530577, "tags": ["python", "gcc", "python-c-api", "python-c-extension"]}, {"body": "<p>In AWS API (centOS) its </p>\n\n<pre><code>yum install python27-devel\n</code></pre>\n", "title": "fatal error: Python.h: No such file or directory", "answer_id": 31309573, "question_id": 21530577, "tags": ["python", "gcc", "python-c-api", "python-c-extension"]}, {"body": "<p>If you are using a Raspberry Pi:</p>\n\n<pre><code>sudo apt-get install python-dev\n</code></pre>\n", "title": "fatal error: Python.h: No such file or directory", "answer_id": 32030746, "question_id": 21530577, "tags": ["python", "gcc", "python-c-api", "python-c-extension"]}, {"body": "<p>try apt-file. It is difficult to remember the package name where the missing file resides. It is generic and useful for any package files.</p>\n\n<p>For example:</p>\n\n<pre><code>root@ubuntu234:~/auto# apt-file search --regexp '/Python.h$'\npypy-dev: /usr/lib/pypy/include/Python.h\npython2.7-dbg: /usr/include/python2.7_d/Python.h\npython2.7-dev: /usr/include/python2.7/Python.h\npython3.2-dbg: /usr/include/python3.2dmu/Python.h\npython3.2-dev: /usr/include/python3.2mu/Python.h\nroot@ubuntu234:~/auto# \n</code></pre>\n\n<p>Now you can make an expert guess as to which one to choose from.</p>\n", "title": "fatal error: Python.h: No such file or directory", "answer_id": 33499131, "question_id": 21530577, "tags": ["python", "gcc", "python-c-api", "python-c-extension"]}, {"body": "<p>For me, changing it to this worked:</p>\n\n<pre><code>#include &lt;python2.7/Python.h&gt;\n</code></pre>\n\n<p>I found the file <code>/usr/include/python2.7/Python.h</code>, and since <code>/usr/include</code> is already in the include path, then <code>python2.7/Python.h</code> should be sufficient.</p>\n", "title": "fatal error: Python.h: No such file or directory", "answer_id": 33711076, "question_id": 21530577, "tags": ["python", "gcc", "python-c-api", "python-c-extension"]}, {"body": "<p>In my case, what fixed it in Ubuntu was to install the packages <code>libpython-all-dev</code> (or <code>libpython3-all-dev</code> if you use Python 3).</p>\n", "title": "fatal error: Python.h: No such file or directory", "answer_id": 35121730, "question_id": 21530577, "tags": ["python", "gcc", "python-c-api", "python-c-extension"]}], "question_id": 21530577}, {"body": "<p>My vagrant was working perfectly fine last night. I've just turned the PC on, hit <code>vagrant up</code>, and this is what I get:</p>\n\n<pre><code>==&gt; default: Clearing any previously set network interfaces...\n==&gt; default: Preparing network interfaces based on configuration...\n    default: Adapter 1: nat\n    default: Adapter 2: hostonly\n==&gt; default: Forwarding ports...\n    default: 22 =&gt; 2222 (adapter 1)\n==&gt; default: Booting VM...\n==&gt; default: Waiting for machine to boot. This may take a few minutes...\n    default: SSH address: 127.0.0.1:2222\n    default: SSH username: vagrant\n    default: SSH auth method: private key\n    default: Error: Connection timeout. Retrying...\n    default: Error: Connection timeout. Retrying...\n    default: Error: Connection timeout. Retrying...\n    default: Error: Connection timeout. Retrying...\n    default: Error: Connection timeout. Retrying...\n    default: Error: Connection timeout. Retrying...\n    default: Error: Connection timeout. Retrying...\n    default: Error: Connection timeout. Retrying...\n    default: Error: Connection timeout. Retrying...\n    default: Error: Connection timeout. Retrying...\n    default: Error: Connection timeout. Retrying...\n    default: Error: Connection timeout. Retrying...\n    default: Error: Connection timeout. Retrying...\n</code></pre>\n\n<p>Has anyone had this before? vagrant isn't widely covered on the web yet and I can't find a reason why this is occurring.</p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "answer_count": 40, "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying", "answers": [{"body": "<p>I solved this problem, and will answer in case anyone else has a similar issue.</p>\n\n<p>What I did was: I enabled the GUI of Virtual box to see that it was waiting for input on startup to select whether I wanted to boot directly to ubuntu or safemode etc.</p>\n\n<p>To turn on the GUI you have to put this in your vagrant config <code>Vagrantfile</code>:</p>\n\n<pre><code>config.vm.provider :virtualbox do |vb|\n  vb.gui = true\nend\n</code></pre>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 22575302, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>If you don't want to enable the GUI and then have to disable it later, you could also install the extension pack from Oracle:</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/server-storage/virtualbox/downloads/index.html#extpack\" rel=\"nofollow\">http://www.oracle.com/technetwork/server-storage/virtualbox/downloads/index.html#extpack</a></p>\n\n<p>Then put this in your Vagrantfile to enable VRDP:</p>\n\n<pre><code>vb.customize [\"modifyvm\", :id, \"--vrde\", \"on\"]\n</code></pre>\n\n<p>Now you can use RDP to connect to your box on demand without SSH needing to be running or the GUI open all the time.</p>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 22974236, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>When you are stuck with your vagrant machine the way described above there is no need to boot in gui mode (and is impossible without an X server).</p>\n\n<p>While your VM is booting, in a separate terminal window, just find out the id of the running machine.</p>\n\n<pre><code>vboxmanage list runningvms\n</code></pre>\n\n<p>This will result in something like this:</p>\n\n<pre><code>\"projects_1234567890\" {5cxxxx-cxxx-4xxx-8xxx-5xxxxxxxxxx}\n</code></pre>\n\n<p>Quite often, the VM is simply waiting for you to select an option in the bootloader.  You can send the appropriate keycode (in the case, <kbd>Enter</kbd>) to the vm with <code>controlvm</code>:</p>\n\n<pre><code>vboxmanage controlvm projects_1234567890 keyboardputscancode 1c\n</code></pre>\n\n<p>That's it. Your virtual machine will continue the boot process.</p>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 23095019, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>It's a new 'feature' of vagrant. Take a look here:\n<a href=\"https://github.com/mitchellh/vagrant/issues/3329\" rel=\"nofollow\">https://github.com/mitchellh/vagrant/issues/3329</a></p>\n\n<p>They will change the 'Error' to 'Warning'. It's just telling you that the machine isn't booted yet, and it's trying to connect...</p>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 23550900, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>I experienced the same issue on a Windows 8.1 machine. The connection timeout and enabling the gui was not usefull at all, the screen was black. The fix in my case was disabling \"Hyper V\"</p>\n\n<p>Quote from Vagrant documentation <a href=\"https://docs.vagrantup.com/v2/hyperv/index.html\">https://docs.vagrantup.com/v2/hyperv/index.html</a></p>\n\n<blockquote>\n  <p>Warning: Enabling Hyper-V will cause VirtualBox, VMware, and any other virtualization technology to no longer work. See this blog post <a href=\"https://www.hanselman.com/blog/SwitchEasilyBetweenVirtualBoxAndHyperVWithABCDEditBootEntryInWindows81.aspx\">https://www.hanselman.com/blog/SwitchEasilyBetweenVirtualBoxAndHyperVWithABCDEditBootEntryInWindows81.aspx</a> for an easy way to create a boot entry to boot Windows without Hyper-V enabled, if there will be times you'll need other hypervisors.</p>\n</blockquote>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 23713516, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>If you are working on Windows 8 or 10, this is what worked for me:</p>\n\n<ol>\n<li>Change BIOS settings to allow virtualization of 64bit.</li>\n<li>Here is how:\n\n<ul>\n<li>Restart PC using Advanced Startup (Go to Advanced Startup -'restart now'-'troubleshoot' -'advanced option'- 'UEFI Firmware Setting' - 'Restart')</li>\n<li>Inside BIOS window - Go to 'Advanced' menu/tab - Enable 'Intel Virtual Technology'</li>\n<li>Save &amp; Exit.</li>\n</ul></li>\n</ol>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 24493536, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>I had the same issue when I was using x64 box(chef/ubuntu-14.04).</p>\n\n<p>I changed to x32 and it worked(hashicorp/precise32).</p>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 24953864, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>FWIW-- My problem was due to using a really old config file instead of a newer one. Using the new configuration file (and thus tweaked/changed DSL) fixed my problems instantly.</p>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 25003673, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>What helped for me was the enabling the virtualization in BIOS, because the machine didn't boot.</p>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 25359034, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>One thing to double check is if Hardware Virtualisation is enabled in your machine's BIOS.</p>\n\n<p>My problem is the same string of timeouts but I could only see a black screen in the GUI.</p>\n\n<p>A laptop which I was just setting up kept showing the same problem. After hours of searching I finally found a tip to see if the BIOS had Hardware Virtualisation was enabled.</p>\n\n<p>Here's the content of the post I found:</p>\n\n<p>I see there are still some users who are experiencing this issue. So, I will attempt to summarise a list below of some possible solutions to the SSH timeout problem:</p>\n\n<ul>\n<li>Make sure your firewall or antivirus is not blocking the program (which I doubt will happen often)</li>\n<li>Give your vagrant machine some time for timeouts to happen. If you dont have a very fast PC / Mac, the VM will take while to boot into an SSH ready state, so timeouts will happen.</li>\n<li>Therefore, first try to let vagrant timeout COMPLETELY before concluding that there is a fault.</li>\n<li>If vagrant times out completely then increase the timeout limit in the vagrant file to a few min and try again.</li>\n<li>If that still doesnt work, then try to clean boot your vagrant machine through the VirtualBox interface and enable the GUI of the machine beforehand. If the GUI doesn't show anything happening (ie. just blackscreen, no text) while it is booting, then your vagrant machine has got problems.</li>\n<li>Destroy the entire machine through the VB interface and reinstall.</li>\n<li>Delete the ubuntu image files in the Vagrant Images folder in the user folder and redownload and install.</li>\n<li>Do you even have an intel processor that supports 64bit hardware virtualisation? Google it. If you do, make sure there is no setting in your Bios disabling this feature.</li>\n<li>Disable hyper-v feature if you are running windows 7 or 8. Google how to disable.</li>\n<li>Make sure you are running through an SSH enabled client. Use Git bash. Download:\n<a href=\"http://git-scm.com/downloads\">http://git-scm.com/downloads</a></li>\n<li>Install a 32bit version of ubuntu like trusty32 or precise32. Just change the version in the vagrant file and reinstall vagrant in new directory.</li>\n<li>Make sure you are using the latest vagrant and virtualbox versions. Last resorts: Format your computer, reinstall windows and buy an intel core isomething processor.</li>\n</ul>\n\n<p>Hope that helps.</p>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 25504245, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>Rather than ctrl-d-ing out of the virtual box as I'm wont to do whenever I ssh into anything, I believe vagrant would prefer you get into another terminal and do a:</p>\n\n<p><code>vagrant halt</code></p>\n\n<p>to stop the box.  Then there will be no issues getting <em>back</em> into the VB.</p>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 25557550, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>I faced the same issue, however non of the mentioned solutions worked for me!\nI solved it by downgrading Vagrant to 1.6.2 and now it works!</p>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 25701594, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>What worked for me was allowing 64 bit visualization on a 64 bit OS (Ubuntu 13.10) from BIOS. </p>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 26082722, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>I had the same trouble with Vagrant 1.6.5 and Virtual Box 4.3.16.\nThe solution described at <a href=\"https://github.com/mitchellh/vagrant/issues/4470\" rel=\"nofollow\">https://github.com/mitchellh/vagrant/issues/4470</a> worked fine for me, I just had to remove VirtualBox 4.3.16 and install the older version 4.3.12.</p>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 26254138, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>I had exact the same problem. I thought the problem might be with SSH keys (wrong localization of file or something else but I checked it many times) but you may always add in configure section username and password (without using ssh keys) and running gui so the code in <code>Vagrantfile</code> should look like more or less as below:</p>\n\n<pre><code>Vagrant.configure(VAGRANTFILE_API_VERSION) do |config|\n\n  config.ssh.username = \"vagrant\"\n  config.ssh.password = \"vagrant\"\n\n   config.vm.provider \"virtualbox\" do |vb|\n     vb.gui = true\n   end\nend\n</code></pre>\n\n<p>In my case even if GUI was displayed I got black screen (no errors or possibility to login or anything else) and in console I got the <code>Error: Connection timeout. Retrying...</code> many times. I made sure I had VT-x (virtualization) enabled in BIOS, I checked many combinations of versions of both Virtual Box and Vagrant together and many Vagrant boxes (for some of them I didn't have black screen in GUI but still have connection problems). Finally I've updated VirtualBox and Vagrant again to the last versions and the problem still occurred.</p>\n\n<p>The crucial thing was looking at icons in VirtualBox after running vagrantup (with GUI in <code>Vagrantfile</code> as I showed above) as on the below image</p>\n\n<p><img src=\"http://i.stack.imgur.com/sa5DG.jpg\" alt=\"enter image description here\"></p>\n\n<p>Although I had no errors in VirtualPC (no warnings that VT-x is not enabled) my <code>V</code> icon was earlier gray so it means the VT-x was disabled. As I said I had it enabled in my BIOS all the time. </p>\n\n<p>Finally I realized the problem might by <code>HYPER-V</code> which I also installed and enabled to test sites on older Internet Explorer. I went to Windows <code>Control Panel -&gt; Programs and functions / Software</code> and choose from the menu on left <code>Turn on or Turn off Windows functions</code> (hope you will find those, I use Polish Windows so don't know exact English names). I turned off Hyper-V, restarted PC and after running Virtual Box and <code>vagrant up</code> I finally had no errors, in GUI I have login screen and my <code>V</code> icon stopped to be gray. </p>\n\n<p>I wasted a lot of time solving this issue (and many PC restarts) so I hope this might be helpful to anyone that have problem on Windows - make sure you have Hyper-V turned off in your Control Panel.</p>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 26482167, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>Installing an ubuntu32 bits on an AMD64 bits did the trick. I don't have access to the BIOs since its a restricted environment, but i was still able to get it to work with ubuntu/trusty32 instead of ubuntu/trusty64</p>\n\n<p>Using Vagrant 1.6.3 with VirtualBox 4.3.15 on Windows 7 SP1</p>\n\n<p>hope that helps.</p>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 26606454, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>It used to help to switch to trusty32, but the situation now got worse again:\nI tried to use Homestead 2.0 and now I've got the Connection Timeout problem again,\nwhich would't usually be a problem, because switching to 32bit helped before.\nBut now I can't just add a line like\n    config.vm.box=\"ubuntu/trusty32\"\nbecause we don't have a classic Homestead.yaml file anymore,\nthe values in the new 2.0 Homestead.yaml file just seem to be inserted into\nthe real one in the background and there ist no Vagrantfile available that I\ncould manually edit ...</p>\n\n<p>Hope someone can help ...</p>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 27009390, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>Had this issue for more than one week, Tried all solutions, </p>\n\n<pre><code>1. giving SSH username and password\n2. Enabling GUI interface\n3. Updated Virtual Box and Vagrant\n</code></pre>\n\n<p>Nothing worked.</p>\n\n<p>Finally got the solution from <a href=\"http://laravel.io/forum/05-27-2014-laravel-homestead-not-connecting-when-wifi-is-enabled\" rel=\"nofollow\">this link</a></p>\n\n<p>Add the <code>Google public DNS IP</code> to your <code>Wifi Settings</code></p>\n\n<p><code>under Network Preferences &gt; Wifi &gt; Advanced &gt; DNS</code> add <strong>IP Address 8.8.8.8</strong> </p>\n\n<p>Worked perfectly. May be this helps anyone who have problem in Mac.\nThanks Skovmand</p>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 27044190, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>From the virtualbox interface, I booted on a \"CD\" first, and disabled the hard drive boot. Hence it was booting on from a CD iso, and obviously not on the expected machine... I hope it helps. And I hope it made someone smile too... PEBCAK. </p>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 28189334, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<h2>Disabled iptables firewall inside the VM</h2>\n\n<p>This is how I solved it:</p>\n\n<ul>\n<li>I enabled the GUI interface in my <code>Vagrantfile</code> (this is the config file)</li>\n<li>I could login into the running VM in the Gui with the standard username vagrant and password vagrant</li>\n<li>I disabled the running iptables firewall inside the VM</li>\n</ul>\n\n<p>This solved my problem, I found out, that the firewall blocked all IPs from local networks like 192.168.x.x and 10.x.x.x</p>\n\n<p>Adding a rule in <code>/etc/iptables.d/199-allow-wan</code> to allow all connections from wan:</p>\n\n<pre><code>ip46tables -A wan-input -j ACCEPT\n</code></pre>\n\n<p>(ip46tables is an alias) see <a href=\"https://github.com/rubo77/ffnord-example/commit/4804fb0a69847511e1f6f53e44e29bd1df2f3927\" rel=\"nofollow\">this commit in my Vagrant example Freifunk community</a></p>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 28421194, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>I had an issue with this with an existing box (not sure what changed), but I <em>could</em> connect via SSH, even though the Vagrant box failed to boot up. As it happens my SSH key had changed somehow.</p>\n\n<p>From the vagrant root folder I ran <code>vagrant ssh-config</code> which told me where the key file was. I opened this with <em>puttygen</em> and then it gave me a new key.</p>\n\n<p>On my Linux guest, I edited <code>~/.ssh/authorized_keys</code> and dropped the new public key in there.</p>\n\n<p>Everything is working again - for now!</p>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 28694358, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>Personally, for me, Tunnelblick VPN software was blocking the connection. Now when I'm booting up new VMs I temporary disable Tunnelblick.</p>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 29484955, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>Maybe this is too simple an answer to help a lot of people, but worth trying if you haven't: Do a \"vagrant halt\" instead of a \"vagrant suspend\" then restart the VM with \"vagrant up\".</p>\n\n<p>I think my problem was due to some \"kworker\" process getting buggy and constantly timing out in the VM and so doing a hard reboot seemed to reload the process correctly whereas a save and restore was just restoring the broken process in its broken state.</p>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 29671537, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>Mine was running fine and then this \"Warning: Remote connection disconnect. Retrying...\" over and over until after maybe 20 it connected.  Based on answers above I just</p>\n\n<pre><code>vagrant destroy\nvagrant up\n</code></pre>\n\n<p>and it was all good.  Mine was very simple but I made it that way by cutting down the Vagrantfile to just the <code>config.vm.box = \"ubuntu/trusty64\"</code> and it was still doing it.  So that is why destroying and starting again seemed the best choice.  Given the stateless nature of these Vagrant images I don't see why that wouldn't work in every case.  I'm just getting into this and I may yet learn that that isn't true.</p>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 30010846, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>If you're using a wrapper layer (like Kitchen CI) and you're running a 32b host, you'll have to preempt the installation of Vagrant boxes. Their default provider is the opscode \"family\" of binaries.</p>\n\n<p>So before <code>kitchen create default-ubuntu-1204</code> make sure you use:</p>\n\n<pre><code>vagrant box add default-ubuntu-1204 http://opscode-vm-bento.s3.amazonaws.com/vagrant/virtualbox/opscode_ubuntu-12.04-i386_chef-provisionerless.box\n</code></pre>\n\n<p>for using the 32b image if your host doesn't support word size virtualization</p>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 30202965, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>Look for this line in your <code>Homestead.yaml</code>:</p>\n\n<pre><code>config.vm.network \"forwarded_port\", guest: 80, host: 8080\n</code></pre>\n\n<p>and change to:</p>\n\n<pre><code>config.vm.network \"forwarded_port\", guest: 80, host: 8000\n</code></pre>\n\n<p>then in <code>Homestead</code> directory, run:</p>\n\n<pre><code>vagrant destroy\nvagrant up\n</code></pre>\n\n<p>See if it works.</p>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 30576824, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>After enable GUI interface still got <code>Connection refused</code> message on <code>Vagrant UP</code>.</p>\n\n<p><a href=\"http://i.stack.imgur.com/PPMQi.jpg\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/PPMQi.jpg\" alt=\"enter image description here\"></a></p>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 32330666, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>One more possible solution for users of the VMware provider:\nFor me the issue was resolved after removing a parallel installation of VirtualBox on the same host machine. Network interfaces between VMware and VirtualBox were apparently conflicting</p>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 32349934, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>I solved by just typing <code>\u02c6C</code>(or <code>ctrl+C</code> on Windows) twice and quitting the connection failure screen.</p>\n\n<p>Then, I could connect via SSH (<code>vagrant ssh</code>) and see the error by my own.</p>\n\n<p>In my case, it was a path mistyped.</p>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 32730040, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>The way I had to solve this wasn't mentioned in this thread, so I'm posting the details here in case it helps anyone else.  </p>\n\n<p>What causes this is that vagrant can't ssh into the machine after it boots up.  There's various reasons for this, as mentioned in this thread, such as the machine not booting up all the way, or iptables firewall blocking SSH. </p>\n\n<p>In my case, the problem was that I inadvertently setup a \"private_network\" with an IP address in the same subnet as the built-in VirtualBox NAT network (in my case 10.0.2.0/24).  This messed up the NAT network for the machine (but no errors shown anywhere), and since vagrant connects via the NAT network, it wasn't able to connect even though the machine was running and no firewalls were enabled.</p>\n\n<pre><code>Vagrant.configure(\"2\") do |config|\n  config.vm.network \"private_network\", ip: \"10.0.2.31\"\nend\n</code></pre>\n\n<p>The fix was to update my VagrantFile and use a \"private_network\" IP that didn't conflict with VirtualBox's NAT network.</p>\n\n<pre><code>Vagrant.configure(\"2\") do |config|\n  config.vm.network \"private_network\", ip: \"10.0.4.31\"\nend\n</code></pre>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 32813981, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>I have faced the same problem. I fixed this by enabling <code>Virtualization</code> from <code>BIOS</code> setup.</p>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 34073686, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>I had the same issue, but none of other answers fully solved my problem. Answer by @Kiee was helpful, although all I could see in the GUI was a <strong>black screen</strong> (with underscore in top-left, this issue in Virtual Box also has been raised separately in stack overflow, again nothing helped).</p>\n\n<p>Eventually, a solution proved to be very simple: <strong>check version</strong> of your virtual machine.</p>\n\n<p>More precisely, I had a box from someone else with 64-bit Debian, but Virtual Box insisted to treat it as 32-bit, what I didn't notice. To change it, open Virtual Box, then open terminal and run</p>\n\n<pre><code>vagrant up\n</code></pre>\n\n<p>wait for the line</p>\n\n<pre><code>default: SSH auth method: private key\n</code></pre>\n\n<p>now you can hit ctrl+C (or wait for timeout) and run</p>\n\n<pre><code>vagrant halt\n</code></pre>\n\n<p>your virtual machine won't be destroyed, so you can see it in the menu of Virtual Box, but will be powered off, so you can change settings. Chose your machine in the menu, click 'Settings'->'General' and chose proper 'Version', for me it was 'Debian (64-bit)'. After this type <code>vagrant up</code> again.</p>\n\n<p>If this is a case for you (or different changes in 'Settings' solved your issue), you can create new box from the repaired one typing</p>\n\n<pre><code>vagrant package --output mynew.box\n</code></pre>\n\n<p>Some more details: host 32-bit Ubuntu 12.04, guest 64-bit Debian 8.1, Virtual Box 5.0.14, Vagrant 1.8.1</p>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 35211069, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>I had the same issue after I deleted this line from my Vagrantfile:</p>\n\n<pre><code>config.vm.network \"private_network\", type: \"dhcp\"\n</code></pre>\n\n<p>VM loaded fine after I put this line back.</p>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 35411749, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>I was testing a mounted folder in my vagrant VM by adding a new entry into <code>/etc/fstab</code>. Later on I logged out, ran vagrant halt, but when I ran <code>vagrant up</code> I got:</p>\n\n<pre><code>SSH auth method: private key\nWarning: Remote connection disconnect. Retrying...\n</code></pre>\n\n<p>I read all these posts and tried all the ones that seemed relevant for my case (except for vagrant destroy, which would have certainly fixed my problem, but was a last resort in my case).  The post by @Kiee gave me the idea to try to boot my VM directly from the VirtualBox GUI.  During the boot process the VM halted itself and was asking me if I wanted to skip mounting the test folder that I had added earlier to <code>/etc/fstab</code>. (That's why vagrant couldn't boot the VM.) After answering 'NO' the VM booted no problem.  I logged in, removed the naughty line from my fstab, and shutdown the VM.</p>\n\n<p>After that vagrant was able to boot just fine.</p>\n\n<p>Takeaway? If vagrant all of a sudden vagrant cannot boot back into your VM, try to boot directly from the provider (VirtualBox in my case).  Chances are your boot is hanging for something totally unrelated to SSH.</p>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 36370300, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>Delete the file:</p>\n\n<pre><code>C:\\Users\\UserName\\\\.vagrant.d\\insecure_private_key\n</code></pre>\n\n<p>Then run:</p>\n\n<pre><code>vagrant up\n</code></pre>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 36989292, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>There are many good answers here, and I couldn't read it all, but, I just came by to gave my little contribution too. I had 2 different problems:</p>\n\n<ol>\n<li><p><code>vagrant up</code> wasn't able to find my ssh '<strong>id_rsa</strong>' (because I didn't have it yet, at that time):\nI ran <code>ssh-keygen -t rsa -b 4096 -C \"myemailaddress@mydomain.com\"</code>, based on <a href=\"https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/\" rel=\"nofollow\">this GitHub's article</a>, and voil\u00e1, steped through that;</p></li>\n<li><p>Then, I got the same problem of this question \"<strong>Warning: Connection timed out. Retrying...</strong>\", eternally...:\nSo, after reading a lot, I've restarted my system and looked at my BIOS (F2 to get there, on PC), and there were <strong>Virtualization disabled</strong>. I've enabled that, saved, and started the system once again, to check if it has changed anything.</p></li>\n</ol>\n\n<p>After that, <code>vagrant up</code> worked like a charm! It's 4am but it is running! How cool, h\u00e3? :D As I know there are very few masochist developers like me, that would try this at Windows, specially at <strong>Windows 10</strong>, I just couldn't not to forget coming here and left my word... another important information, is that, I was trying to set-up <strong>Laravel 5</strong>, using Homestead, VirtualBox, composer etc. It has worked. So, hope this answer helps like this question and answers helped me. My best wishes. G-bye!</p>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 37340214, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>I got it resolved when I killed putty process. Because I have git-ssh and putty both running. They were appearing to fight each other for ssh accessing. Only one is enough.</p>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 37460596, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>For me it was the compatibility between vagrant and virtual box.</p>\n\n<p>I'm on windows 10 and what I did I uninstalled vagrant and virtual box</p>\n\n<p>Then install an old version of virtual box specifically version 4.3.38 ( Install extension pack too for this version )</p>\n\n<p>Then installed latest copy of vagrant ( 1.8.5 at the moment )</p>\n\n<p>After that it worked.</p>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 38680917, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>I got this when running vagrant/VirtualBox inside VirtualBox. I resolved this by running the vagrant machine in the host machine.</p>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 39398968, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}, {"body": "<p>Like some people here already pointed out, the error appears - among other things - if the VirtualBox image did not boot properly. For me using the GUI mode on Vagrant did not help much as it only showed a black window. In the VirutalBox GUI I checked the settings on my VM and figured out that somehow the OS was set incorrectly (Debian 32 instead of 64 Bit).</p>\n\n<p>So I can only recommend checking the VirtualBox settings of the VM manually and getting the VM to boot without using Vagrant in first place.</p>\n", "title": "Vagrant stuck connection timeout retrying", "answer_id": 39469424, "question_id": 22575261, "tags": ["ssh", "virtualbox", "vagrant"]}], "question_id": 22575261}, {"body": "<p>Is there a function that I can use to iterate over an array with a for having both index and element, like python's enumerate?</p>\n\n<pre><code>for index, element in enumerate(list):\n    ...\n</code></pre>\n", "title": "swift for loop: for index, element in array?", "tags": ["arrays", "swift"], "answer_count": 8, "link": "http://stackoverflow.com/questions/24028421/swift-for-loop-for-index-element-in-array", "answers": [{"body": "<p>Yes. As of Swift 3.0, if you need the index for each element along with its value, you can use the <a href=\"https://developer.apple.com/library/ios/documentation/swift/conceptual/Swift_Programming_Language/CollectionTypes.html#//apple_ref/doc/uid/TP40014097-CH8-XID_177\"><code>enumerated()</code> method</a> to iterate over the array. It returns a tuple composed of the index and the value for each item in the array. For example:</p>\n\n<pre><code>for (index, element) in list.enumerated() {\n  print(\"Item \\(index): \\(element)\")\n}\n</code></pre>\n\n<p>Before Swift 3.0 and after Swift 2.0, the function was called <code>enumerate()</code>:</p>\n\n<pre><code>for (index, element) in list.enumerate() {\n    print(\"Item \\(index): \\(element)\")\n}\n</code></pre>\n\n<p>Prior to Swift 2.0, <code>enumerate</code> was a global function.</p>\n\n<pre><code>for (index, element) in enumerate(list) {\n    println(\"Item \\(index): \\(element)\")\n}\n</code></pre>\n", "title": "swift for loop: for index, element in array?", "answer_id": 24028458, "question_id": 24028421, "tags": ["arrays", "swift"]}, {"body": "<p>I found this answer while looking for a way to do that with a <strong>Dictionary</strong>, and it turns out it's quite easy to adapt it, just pass a tuple for the element.</p>\n\n<pre><code>// Swift 2\n\nvar list = [\"a\": 1, \"b\": 2]\n\nfor (index, (letter, value)) in list.enumerate() {\n    print(\"Item \\(index): \\(letter) \\(value)\")\n}\n</code></pre>\n", "title": "swift for loop: for index, element in array?", "answer_id": 28408654, "question_id": 24028421, "tags": ["arrays", "swift"]}, {"body": "<p>Starting with Swift 2, the enumerate function needs to be called on the collection like so:</p>\n\n<pre><code>for (index, element) in list.enumerate() {\n    print(\"Item \\(index): \\(element)\")\n}\n</code></pre>\n", "title": "swift for loop: for index, element in array?", "answer_id": 30798846, "question_id": 24028421, "tags": ["arrays", "swift"]}, {"body": "<p>Swift 2 provides a method called <code>enumerate()</code> for types that conform to <code>SequenceType</code> protocol and, by extension, <code>CollectionType</code> protocol (including <code>Array</code>, <code>Set</code>, <code>String.CharacterView</code>, <code>Range</code> or any custom sequence/collection that you may need to create).</p>\n\n<p><code>enumerate()</code> has the following declaration:</p>\n\n<pre><code>@warn_unused_result func enumerate() -&gt; EnumerateSequence&lt;Self&gt;\n</code></pre>\n\n<p>Apple states about <code>enumerate()</code> in <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/Swift/Reference/Swift_SequenceType_Protocol/index.html#//apple_ref/swift/intfm/SequenceType/s:FeRq_Ss12SequenceType_SsS_9enumerateuRq_S__Fq_FT_GVSs17EnumerateSequenceq__\" rel=\"nofollow\">Swift Standard Library Reference</a>:</p>\n\n<blockquote>\n  <p>Return a lazy <code>SequenceType</code> containing pairs <em>(n, x)</em>, where <code>n</code>s are consecutive <code>Int</code>s starting at zero, and <code>x</code>s are the elements of <code>base</code>.</p>\n</blockquote>\n\n<hr>\n\n<p><strong>In the simplest cases, you may use <code>enumerate()</code> with a for loop.</strong></p>\n\n<p>For example:</p>\n\n<pre><code>let list = [\"Car\", \"Bike\", \"Plane\", \"Boat\"]\nfor (index, element) in list.enumerate() {\n    print(index, \":\", element)\n}\n\n/*\nprints:\n0 : Car\n1 : Bike\n2 : Plane\n3 : Boat\n*/\n</code></pre>\n\n\n\n<pre><code>for (index, character) in \"Iterate\".characters.enumerate() where index &lt; 3 {\n    print(index, \":\", character)\n}\n\n/*\nprints:\n0 : I\n1 : t\n2 : e\n*/\n</code></pre>\n\n<hr>\n\n<p><strong>Note however that you're not limited to use <code>enumerate()</code> with a for loop.</strong></p>\n\n<p>In fact, if you plan to use <code>enumerate()</code> with a for loop for something similar to the following code, you're doing it wrong:</p>\n\n<pre><code>let list = [Int](1...5)\nvar arrayOfTuples = [(Int, Int)]()\n\nfor (index, element) in list.enumerate() {\n    arrayOfTuples += [(index, element)]\n}\n\nprint(arrayOfTuples) // prints [(0, 1), (1, 2), (2, 3), (3, 4), (4, 5)]\n</code></pre>\n\n<p>The correct way to do this is:</p>\n\n<pre><code>let list = [Int](1...5)\nlet arrayOfTuples = Array(list.enumerate())\nprint(arrayOfTuples) // prints [(0, 1), (1, 2), (2, 3), (3, 4), (4, 5)]\n</code></pre>\n\n<hr>\n\n<p>As an alternative, you may also use <code>enumerate()</code> with <code>map</code>:</p>\n\n<pre><code>let list = [Int](1...5)\nlet arrayOfDictionaries = list.enumerate().map { (a, b) in return [a : b] }\nprint(arrayOfDictionaries) // prints [[0: 1], [1: 2], [2: 3], [3: 4], [4: 5]]\n</code></pre>\n\n<hr>\n\n<p>Moreover, although it has some <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/Swift/Reference/Swift_SequenceType_Protocol/#//apple_ref/swift/intfm/SequenceType/s:FPSs12SequenceType7forEachuRq_S__Fq_FzFzqqq_S_9GeneratorSs13GeneratorType7ElementT_T_\" rel=\"nofollow\">limitations</a>, <code>forEach</code> can be a good replacement to a for loop:</p>\n\n<pre><code>let list = [Int](1...5)\nlist.reverse().enumerate().forEach { print($0, \":\", $1) }\n\n/*\nprints:\n0 : 5\n1 : 4\n2 : 3\n3 : 2\n4 : 1\n*/\n</code></pre>\n\n<hr>\n\n<p><strong>By using <code>enumerate()</code> and <code>generate()</code>, you can even iterate manually on your sequence/collection.</strong></p>\n\n<p>For example:</p>\n\n<pre><code>import UIKit\n\nclass ViewController: UIViewController {\n\n    var generator = [\"Car\", \"Bike\", \"Plane\", \"Boat\"].enumerate().generate()\n\n    // Link this IBAction to a UIButton or a UIBarButtonItem in your storyboard\n    @IBAction func iterate(sender: AnyObject) {\n        let tuple: (index: Int, element: String)? = generator.next()\n        print(tuple)\n    }\n\n}\n\n/*\nWill print the following lines for 6 `touch up inside`:\nOptional((0, \"Car\"))\nOptional((1, \"Bike\"))\nOptional((2, \"Plane\"))\nOptional((3, \"Boat\"))\nnil\nnil\n*/\n</code></pre>\n", "title": "swift for loop: for index, element in array?", "answer_id": 34000948, "question_id": 24028421, "tags": ["arrays", "swift"]}, {"body": "<p>This is the Formula of loop of Enumeration:</p>\n\n<pre><code>for (index, value) in shoppingList.enumerate() {\nprint(\"Item \\(index + 1): \\(value)\")\n}\n</code></pre>\n\n<p>for more detail you can check <a href=\"https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/CollectionTypes.html#//apple_ref/doc/uid/TP40014097-CH8-ID105\">Here</a>.</p>\n", "title": "swift for loop: for index, element in array?", "answer_id": 34437803, "question_id": 24028421, "tags": ["arrays", "swift"]}, {"body": "<h3>Basic enumerate</h3>\n\n<pre><code>for (index, element) in arrayOfValues.enumerate() {\n// do something useful\n}\n</code></pre>\n\n<h3>Enumerate, Filter and Map</h3>\n\n<p>However, I most often use enumerate in combination with map or filter. For example with operating on a couple of arrays.</p>\n\n<p>In this array I wanted to filter odd or even indexed elements and convert them from Ints to Doubles. So <code>enumerate()</code> gets you index and the element, then filter checks the index, and finally to get rid of the resulting tuple I map it to just the element.</p>\n\n<pre><code>let evens = arrayOfValues.enumerate().filter({\n                            (index: Int, element: Int) -&gt; Bool in\n                            return index % 2 == 0\n                        }).map({ (_: Int, element: Int) -&gt; Double in\n                            return Double(element)\n                        })\nlet odds = arrayOfValues.enumerate().filter({\n                            (index: Int, element: Int) -&gt; Bool in\n                            return index % 2 != 0\n                        }).map({ (_: Int, element: Int) -&gt; Double in\n                            return Double(element)\n                        })\n</code></pre>\n", "title": "swift for loop: for index, element in array?", "answer_id": 35068744, "question_id": 24028421, "tags": ["arrays", "swift"]}, {"body": "<p>Using <code>.enumerate()</code> works, but it does not provide the true index of the element; it only provides an Int beginning with 0 and incrementing by 1 for each successive element. This is usually irrelevant, but there is the potential for unexpected behavior when used with the <code>ArraySlice</code> type. Take the following code:</p>\n\n<pre><code>let a = [\"a\", \"b\", \"c\", \"d\", \"e\"]\na.indices //=&gt; 0..&lt;5\n\nlet aSlice = a[1..&lt;4] //=&gt; ArraySlice with [\"b\", \"c\", \"d\"]\naSlice.indices //=&gt; 1..&lt;4\n\nvar test = [Int: String]()\nfor (index, element) in aSlice.enumerate() {\n    test[index] = element\n}\ntest //=&gt; [0: \"b\", 1: \"c\", 2: \"d\"] // indices presented as 0..&lt;3, but they are actually 1..&lt;4\ntest[0] == aSlice[0] // ERROR: out of bounds\n</code></pre>\n\n<p>It's a somewhat contrived example, and it's not a common issue in practice but still I think it's worth knowing this can happen.</p>\n", "title": "swift for loop: for index, element in array?", "answer_id": 37518410, "question_id": 24028421, "tags": ["arrays", "swift"]}, {"body": "<p>Starting with Swift 3, it is </p>\n\n<pre><code>for (index, element) in list.enumerated() {\n  print(\"Item \\(index): \\(element)\")\n}\n</code></pre>\n", "title": "swift for loop: for index, element in array?", "answer_id": 37922121, "question_id": 24028421, "tags": ["arrays", "swift"]}], "question_id": 24028421}, {"body": "<p>I want to create a category on <code>UIColor</code> in my app using Xcode 6. But the thing is that in Xcode 6 there is no Objective-C category file template. </p>\n\n<p>Is there any option to create a category in Xcode 6?</p>\n", "title": "How do I create a category in Xcode 6 and 7?", "tags": ["ios", "objective-c", "category", "xcode6"], "answer_count": 7, "link": "http://stackoverflow.com/questions/24324021/how-do-i-create-a-category-in-xcode-6-and-7", "answers": [{"body": "<p>There is no predefined template to create category in Xcode 6 beta(for time being),they may add this option later. As a work around you can create a <code>Cocoa Touch Class</code>(its not proper i know but no other way) named <code>UIImage+Additions</code>(ClassName+CategoryName) and override its interface and implementation some thing like </p>\n\n<h3>UIImage+Additions.h</h3>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n\n@interface UIImage(Additions)\n\n+(void)testMethod;\n\n@end \n</code></pre>\n\n<h3>UIImage+Additions.m</h3>\n\n<pre><code>#import \"UIImage+Additions.h\"\n\n@implementation UIImage (Additions)\n\n+(void)testMethod\n{\n\n}\n\n@end\n</code></pre>\n\n<p><strong>Edit</strong><br>\nThis answer was written before finding a way of creating category in the Xcode 6 beta. Check unmircea's answer for the right way of creating category</p>\n", "title": "How do I create a category in Xcode 6 and 7?", "answer_id": 24324417, "question_id": 24324021, "tags": ["ios", "objective-c", "category", "xcode6"]}, {"body": "<p><strong>Xcode6-Beta5 update</strong></p>\n\n<p>The interface has now changed and it's possible to add a Category directly from the New > File window.</p>\n\n<p>See <a href=\"http://stackoverflow.com/questions/24324021/how-do-i-create-category-class-in-xcode-6-beta-1/24324565#25054512\">unmircea's answer</a>.</p>\n\n<hr>\n\n<p>I was surprised myself, and I guess because of Swift they <em>forgot</em> about good old Objective-C.</p>\n\n<p>You have two options:</p>\n\n\n\n<ol>\n<li><p>Create an Objective-C class with the category name, example <code>UIView+Powerups</code>, then manually change the interface to match the one of category. Note that the snippet for the category interface and implementation is still working, so that's extra easy: type <code>@interface-category</code> and <code>@implementation-category</code>.</p></li>\n<li><p>Import it from Xcode 5! Use this command:</p>\n\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>cp -r /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/Library/Xcode/Templates/File\\ Templates/Cocoa\\ Touch/Objective-C\\ category.xctemplate /Applications/Xcode6-Beta.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/Library/Xcode/Templates/File\\ Templates/Source/\n</code></pre>\n</blockquote>\n\n<p>Close and reopen Xcode 6 and you'll find \"Objective-C Category\" in the wizard for the new file.</p></li>\n</ol>\n", "title": "How do I create a category in Xcode 6 and 7?", "answer_id": 24324565, "question_id": 24324021, "tags": ["ios", "objective-c", "category", "xcode6"]}, {"body": "<p>You could just copy the templates you want from an older version of Xcode, I made a shell script for this:<a href=\"https://github.com/cDigger/AddMissingTemplates\" rel=\"nofollow\">https://github.com/cDigger/AddMissingTemplates</a></p>\n", "title": "How do I create a category in Xcode 6 and 7?", "answer_id": 24974433, "question_id": 24324021, "tags": ["ios", "objective-c", "category", "xcode6"]}, {"body": "<p>They didn't forget. They just moved it without telling anyone.</p>\n\n<ol>\n<li><p>Click <code>File</code> -> <code>New</code> -> <code>File</code></p></li>\n<li><p>Select <code>Objective-C file</code> under <code>Sources</code> in <code>iOS</code> or <code>Mac OS</code> respectively and Click Next</p></li>\n<li><p>Now under <code>File Type:</code> choose either <code>Category</code>, <code>Protocol</code>, or <code>Extension</code></p></li>\n</ol>\n\n<p>PS. Under <code>File Name:</code> whatever you type here will be either the <code>Category</code>, <code>Protocol</code>, or <code>Extension</code> Name.</p>\n", "title": "How do I create a category in Xcode 6 and 7?", "answer_id": 25054512, "question_id": 24324021, "tags": ["ios", "objective-c", "category", "xcode6"]}, {"body": "<p>To create <strong>CategoryBaseClass+CategoryName.m/.h</strong>:</p>\n\n<ol>\n<li>File \u2192 New \u2192 File... or use <strong>\u2318N</strong>.</li>\n<li>Select <strong>Objective-C File</strong>.</li>\n</ol>\n\n<p><img src=\"http://i.stack.imgur.com/uiaeR.png\" alt=\"enter image description here\"></p>\n\n<ol start=\"3\">\n<li>Type in category name, select <strong>File Type: Category</strong>, and then select the base class. </li>\n</ol>\n\n<p><img src=\"http://i.stack.imgur.com/TWrYr.png\" alt=\"enter image description here\"> </p>\n\n<ol start=\"4\">\n<li>Complete the flow to create the category. </li>\n</ol>\n", "title": "How do I create a category in Xcode 6 and 7?", "answer_id": 27555678, "question_id": 24324021, "tags": ["ios", "objective-c", "category", "xcode6"]}, {"body": "<p>Extending <a href=\"http://stackoverflow.com/a/25054512/4475605\">unmircea's fantastic answer</a> re: how to create a custom category to implement a custom <code>UIColor</code> palette, you could create a category.</p>\n\n<p>Once you've created your category (in this example, it's a <strong>category</strong> called <code>ColorPalette</code> of <strong>class</strong> <code>UIColor</code>), you'll have a header and an implementation file.</p>\n\n<p><strong>UIColor+ColorPalette.h</strong> </p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n\n@interface UIColor (ColorPalette)\n\n// Your custom colors\n\n+ (UIColor *) customRedButtonColor;\n+ (UIColor *) customGreenButtonColor;\n\n@end\n</code></pre>\n\n<p><strong>UIColor+ColorPalette.m</strong> </p>\n\n<pre><code>#import \"UIColor+ColorPalette.h\"\n\n@implementation UIColor (ColorPalette)\n\n// Button Colors\n\n+ (UIColor *) customRedButtonColor {\n    return [UIColor colorWithRed:178.0/255.0 green:25.0/255.0 blue:0.0/255.0 alpha:1.0];\n}\n\n+ (UIColor *) customGreenButtonColor {\n    return [UIColor colorWithRed:20.0/255.0 green:158.0/255.0 blue:96.0/255.0 alpha:1.0];\n}\n</code></pre>\n\n<p>To use your custom color palette, just import the header into the class where you'd like to implement your custom colors:</p>\n\n<pre><code>#import \"UIColor+ColorPalette.h\"\n</code></pre>\n\n<p>and call the color as you would a standard color like <code>redColor</code>, <code>greenColor</code>, or <code>blueColor</code>.</p>\n\n<p><a href=\"http://www.hesslerdesign.com/blog/ios/custom-uicolor-extensions-for-ios/\" rel=\"nofollow\">Here's a link to a slightly more in-depth discussion</a> of creating a custom palette.</p>\n\n<p>Additionally, here is <a href=\"https://color.adobe.com\" rel=\"nofollow\">a tool to help you select the custom color values</a></p>\n", "title": "How do I create a category in Xcode 6 and 7?", "answer_id": 31676701, "question_id": 24324021, "tags": ["ios", "objective-c", "category", "xcode6"]}, {"body": "<p>Here's a visual demonstration:</p>\n\n<p><a href=\"http://i.stack.imgur.com/y03nW.gif\"><img src=\"http://i.stack.imgur.com/y03nW.gif\" alt=\"creating a category file\"></a></p>\n", "title": "How do I create a category in Xcode 6 and 7?", "answer_id": 36380974, "question_id": 24324021, "tags": ["ios", "objective-c", "category", "xcode6"]}], "question_id": 24324021}, {"body": "<p>Given the following examples, why is <code>outerScopeVar</code> undefined in all cases?</p>\n\n<pre><code>var outerScopeVar;\n\nvar img = document.createElement('img');\nimg.onload = function() {\n    outerScopeVar = this.width;\n};\nimg.src = 'lolcat.png';\nalert(outerScopeVar);\n</code></pre>\n\n<p></p>\n\n<pre><code>var outerScopeVar;\nsetTimeout(function() {\n    outerScopeVar = 'Hello Asynchronous World!';\n}, 0);\nalert(outerScopeVar);\n</code></pre>\n\n<p></p>\n\n<pre><code>// Example using some jQuery\nvar outerScopeVar;\n$.post('loldog', function(response) {\n    outerScopeVar = response;\n});\nalert(outerScopeVar);\n</code></pre>\n\n<p></p>\n\n<pre><code>// Node.js example\nvar outerScopeVar;\nfs.readFile('./catdog.html', function(err, data) {\n    outerScopeVar = data;\n});\nconsole.log(outerScopeVar);\n</code></pre>\n\n<p></p>\n\n<pre><code>// with promises\nvar outerScopeVar;\nmyPromise.then(function (response) {\n    outerScopeVar = response;\n});\nconsole.log(outerScopeVar);\n</code></pre>\n\n<p>Why does it output <code>undefined</code> in all of these examples? I don't want workarounds, I want to know <strong>why</strong> this is happening.</p>\n\n<hr>\n\n<blockquote>\n  <p><strong>Note:</strong> This is a canonical question for <em>JavaScript asynchronicity</em>. Feel free to improve this question and add more simplified examples which the community can identify with.</p>\n</blockquote>\n", "title": "Why is my variable unaltered after I modify it inside of a function? - Asynchronous code reference", "tags": ["javascript", "asynchronous"], "answer_count": 6, "link": "http://stackoverflow.com/questions/23667086/why-is-my-variable-unaltered-after-i-modify-it-inside-of-a-function-asynchron", "answers": [{"body": "<p>One word answer: <strong>asynchronicity</strong>.</p>\n\n<h2>Forewords</h2>\n\n<p>This topic has been iterated at least a couple of thousands times, here, in Stack Overflow. Hence, first off I'd like to point out some extremely useful resources:</p>\n\n<ul>\n<li><p><a href=\"http://stackoverflow.com/a/14220323/1331430\">@Felix Kling's \"How to return the response from an AJAX call\"</a>. See his excellent answer explaining synchronous and asynchronous flows, as well as the \"Restructure code\" section.<br>\n@Benjamin Gruenbaum has also put a lot of effort explaining asynchronicity in the same thread.</p></li>\n<li><p><a href=\"http://stackoverflow.com/a/10058879/1331430\">@Matt Esch's answer to \"Get data from fs.readFile\"</a> also explains asynchronicity extremely well in a simple manner.</p></li>\n</ul>\n\n<hr>\n\n<h2>The answer to the question at hand</h2>\n\n<p>Let's trace the common behavior first. In all examples, the <code>outerScopeVar</code> is modified inside of a <em>function</em>. That function is clearly not executed immediately, it is being assigned or passed as an argument. That is what we call a <strong><em>callback</em></strong>.</p>\n\n<p>Now the question is, when is that callback called?</p>\n\n<p>It depends on the case. Let's try to trace some common behavior again:</p>\n\n<ul>\n<li><code>img.onload</code> may be called <em>sometime in the future</em>, when (and if) the image has successfully loaded.</li>\n<li><code>setTimeout</code> may be called <em>sometime in the future</em>, after the delay has expired and the timeout hasn't been cancelled by <code>clearTimeout</code>. Note: even when using <code>0</code> as delay, all browsers have a minimum timeout delay cap (specified to be 4ms in the HTML5 spec).</li>\n<li>jQuery <code>$.post</code>'s callback may be called <em>sometime in the future</em>, when (and if) the Ajax request has been completed successfully.</li>\n<li>Node.js's <code>fs.readFile</code> may be called <em>sometime in the future</em>, when the file has been read successfully or thrown an error.</li>\n</ul>\n\n<p>In all cases, we have a callback which may run <em>sometime in the future</em>. This \"sometime in the future\" is what we refer to as <strong>asynchronous flow</strong>.</p>\n\n<p>Asynchronous execution is pushed out of the synchronous flow. That is, asynchronous code will <strong>never</strong> execute while the synchronous code stack is executing. This is the meaning of JavaScript being single-threaded.</p>\n\n<p>More specifically, when the JS engine is idle -- not executing a stack of (a)synchronous code -- it will poll for events that may have triggered asynchronous callbacks (e.g. expired timeout, received network response) and execute them one after another. This is regarded as <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/EventLoop\">Event Loop</a>.</p>\n\n<p>That is, the asynchronous code highlighted in the hand-drawn red shapes may execute only after all the remaining synchronous code in their respective code blocks have executed:</p>\n\n<p><img src=\"http://i.stack.imgur.com/40IwM.png\" alt=\"async code highlighted\"></p>\n\n<p>In short, the callback functions are created synchronously, but executed asynchronously. You just can't rely on the execution of an asynchronous function until you know it has executed, and how to do that?</p>\n\n<p>It is simple, really. The logic that depends on the asynchronous function execution should be started/called from inside this asynchronous function. For example, moving the <code>alert</code>s and <code>console.log</code>s to inside the callback function would output the expected result, because the result is available at that point.</p>\n\n<h3>Implementing your own callback logic</h3>\n\n<p>Often you need to do more things with the result from an asynchronous function, or do different things with the result depending from where the asynchronous function has been called. Let's tackle a bit more complex example:</p>\n\n<pre><code>var outerScopeVar;\nhelloCatAsync();\nalert(outerScopeVar);\n\nfunction helloCatAsync() {\n    setTimeout(function() {\n        outerScopeVar = 'Nya';\n    }, Math.random() * 2000);\n}\n</code></pre>\n\n<p><strong>Note:</strong> I'm using <code>setTimeout</code> with a random delay as a generic asynchronous function, the same example applies to Ajax, <code>readFile</code>, <code>onload</code> and any other asynchronous flow.</p>\n\n<p>This example clearly suffers from the same issue as the other examples, it is not waiting until the asynchronous function executes.</p>\n\n<p>Let's tackle it implementing a callback system of our own. First off, we get rid of that ugly <code>outerScopeVar</code> which is completely useless in this case. Then we add a parameter which accepts a function argument, our callback. When the asynchronous operation finishes, we call this callback passing the result. The implementation (please read the comments in order):</p>\n\n<pre><code>// 1. Call helloCatAsync passing a callback function,\n//    which will be called receiving the result from the async operation\nhelloCatAsync(function(result) {\n    // 5. Received the result from the async function,\n    //    now do whatever you want with it:\n    alert(result);\n});\n\n// 2. The \"callback\" parameter is a reference to the function which\n//    was passed as argument from the helloCatAsync call\nfunction helloCatAsync(callback) {\n    // 3. Start async operation:\n    setTimeout(function() {\n        // 4. Finished async operation,\n        //    call the callback passing the result as argument\n        callback('Nya');\n    }, Math.random() * 2000);\n}\n</code></pre>\n\n<p>Most often in real use cases, the DOM API and most libraries already provide the callback functionality (the <code>helloCatAsync</code> implementation in this demonstrative example). You only need to pass the callback function and understand that it will execute out of the synchronous flow, and restructure your code to accommodate for that.</p>\n\n<p>You will also notice that due to the asynchronous nature, it is impossible to <code>return</code> a value from an asynchronous flow back to the synchronous flow where the callback was defined, as the asynchronous callbacks are executed long after the synchronous code has already finished executing.</p>\n\n<p>Instead of <code>return</code>ing a value from an asynchronous callback, you will have to make use of the callback pattern, or... Promises.</p>\n\n<h3>Promises</h3>\n\n<p>Although there are ways to keep the <a href=\"http://callbackhell.com/\">callback hell</a> at bay with vanilla JS, promises are growing in popularity and are currently being standardized in ES6 (see <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\">Promise - MDN</a>).</p>\n\n<p>Promises (a.k.a. Futures) provide a more linear, and thus pleasant, reading of asynchronous code, but explaining their entire functionality is out of the scope of this question. Instead, I'll leave these excellent resources for the interested:</p>\n\n<ul>\n<li><a href=\"http://www.html5rocks.com/en/tutorials/es6/promises/\">JavaScript Promises - HTML5 Rocks</a></li>\n<li><a href=\"http://domenic.me/2012/10/14/youre-missing-the-point-of-promises/\">You're Missing the Point of Promises - domenic.me</a></li>\n</ul>\n\n<hr>\n\n<h3>More reading material about JavaScript asynchronicity</h3>\n\n<ul>\n<li><a href=\"https://github.com/maxogden/art-of-node#callbacks\">The Art of Node - Callbacks</a> explains asynchronous code and callbacks very well with vanilla JS examples and Node.js code as well.</li>\n</ul>\n\n<hr>\n\n<blockquote>\n  <p><strong>Note:</strong> I've marked this answer as Community Wiki, hence anyone with at least 100 reputation can edit and improve it! Please feel free to improve this answer, or submit a completely new answer if you'd like as well.</p>\n  \n  <p>I want to turn this question into a canonical topic to answer asynchronicity issues which are unrelated to Ajax (there is <a href=\"http://stackoverflow.com/q/14220321/1331430\">How to return the response from an AJAX call?</a> for that), hence this topic needs your help to be as good and helpful as possible!</p>\n</blockquote>\n", "title": "Why is my variable unaltered after I modify it inside of a function? - Asynchronous code reference", "answer_id": 23667087, "question_id": 23667086, "tags": ["javascript", "asynchronous"]}, {"body": "<p><em>Fabr\u00edcio's answer is spot on; but I wanted to complement his answer with something less technical, which focusses on an analogy to help explain the concept of asynchronicity</em>.</p>\n\n<hr>\n\n<h3>An Analogy...</h3>\n\n<p>Yesterday, the work I was doing required some information from a colleague. I rang him up; here's how the conversation went:</p>\n\n<blockquote>\n  <p><strong>Me</strong>: Hi Bob, I need to know how we <em>foo</em>'d the <em>bar</em>'d last week. Jim wants a report on it, and you're the only one who knows the details around it.</p>\n</blockquote>\n\n\n\n<blockquote>\n  <p><strong>Bob</strong>: Sure thing, but it'll take me around 30 minutes?</p>\n</blockquote>\n\n\n\n<blockquote>\n  <p><strong>Me</strong>: That's great Bob. Give me a ring back when you've got the information!</p>\n</blockquote>\n\n<p>At this point, I hung up the phone. Since I needed information from Bob to complete my report, I left the report and went for a coffee instead, then I caught up on some email. 40 minutes later (Bob is slow), Bob called back and gave me the information I needed. At this point, I resumed my work with my report, as I had all the information I needed.</p>\n\n<hr>\n\n<p>Imagine if the conversation had gone like this instead;</p>\n\n<blockquote>\n  <p><strong>Me</strong>: Hi Bob, I need to know how we <em>foo</em>'d the <em>bar</em>'d last week. Jim want's a report on it, and you're the only one who knows the details around it.</p>\n</blockquote>\n\n\n\n<blockquote>\n  <p><strong>Bob</strong>: Sure thing, but it'll take me around 30 minutes?</p>\n</blockquote>\n\n\n\n<blockquote>\n  <p><strong>Me</strong>: That's great Bob. I'll wait.</p>\n</blockquote>\n\n<p>And I sat there and waited. And waited. And waited. For 40 minutes. Doing nothing but waiting. Eventually Bob gave me the information, we hung up, and I completed my report. But I'd lost 40 minutes of productivity.</p>\n\n<hr>\n\n<h3>This is asynchronous vs. synchronous behaviour</h3>\n\n<p>This is exactly what is happening in all the examples in our question. Loading an image, loading a file off disk, and requesting a page via AJAX are all slow operations (in the context of modern computing). </p>\n\n<p>Rather than <em>waiting</em> for these slow operations to complete, JavaScript lets you register a callback function which will be executed when the slow operation has completed. In the meantime however, JavaScript will continue to execute other code. The fact that JavaScript executes <em>other code</em> whilst waiting for the slow operation to complete makes the behaviour <strong>asynchronous</strong>. Had JavaScript waited around for the operation to complete before executing any other code, this would have been <strong>synchronous</strong> behaviour.</p>\n\n<pre><code>var outerScopeVar;    \nvar img = document.createElement('img');\n\n// Here we register the callback function.\nimg.onload = function() {\n    // Code within this function will be executed once the image has loaded.\n    outerScopeVar = this.width;\n};\n\n// But, while the image is loading, JavaScript continues executing, and\n// processes the following lines of JavaScript.\nimg.src = 'lolcat.png';\nalert(outerScopeVar);\n</code></pre>\n\n<p>In the code above, we're asking JavaScript to load <code>lolcat.png</code>, which is a <em>sloooow</em> operation. The callback function will be executed once this slow operation has done, but in the meantime, JavaScript will keep processing the next lines of code; i.e. <code>alert(outerScopeVar)</code>. </p>\n\n<p>This is why we see the alert showing <code>undefined</code>; since the <code>alert()</code> is processed immediately, rather than after the image has been loaded. </p>\n\n<p>In order to fix our code, all we have to do is move the <code>alert(outerScopeVar)</code> code <em>into</em> the callback function. As a consequence of this, we no longer need the <code>outerScopeVar</code> variable declared as a global variable.</p>\n\n<pre><code>var img = document.createElement('img');\n\nimg.onload = function() {\n    var localScopeVar = this.width;\n    alert(localScopeVar);\n};\n\nimg.src = 'lolcat.png';\n</code></pre>\n\n<p>You'll <strong><em>always</em></strong> see a callback being specified as a function, because that's the only* way in JavaScript to define some code, but not execute it until later.</p>\n\n<p>Therefore, in all of our examples, the <code>function() { /* Do something */ }</code> is the callback; to fix <strong>all</strong> the examples, all we have to do is move the code which needs the response of the operation into there!</p>\n\n<p><sup>* Technically you can use <code>eval()</code> as well, but <a href=\"http://stackoverflow.com/questions/86513/why-is-using-the-javascript-eval-function-a-bad-idea\"><code>eval()</code> is evil</a> for this purpose</sup></p>\n\n<hr>\n\n<h3>How do I keep my caller waiting?</h3>\n\n<p>You might currently have some code similar to this;</p>\n\n<pre><code>function getWidthOfImage(src) {\n    var outerScopeVar;\n\n    var img = document.createElement('img');\n    img.onload = function() {\n        outerScopeVar = this.width;\n    };\n    img.src = src;\n    return outerScopeVar;\n}\n\nvar width = getWidthOfImage('lolcat.png');\nalert(width);\n</code></pre>\n\n<p>However, we now know that the <code>return outerScopeVar</code> happens immediately; before the <code>onload</code> callback function has updated the variable. This leads to <code>getWidthOfImage()</code> returning <code>undefined</code>, and <code>undefined</code> being alert'd.</p>\n\n<p>To fix this, we need to allow the function calling <code>getWidthOfImage()</code> to register a callback, then move the alert'ing of the width to be within that callback;</p>\n\n<pre><code>function getWidthOfImage(src, cb) {     \n    var img = document.createElement('img');\n    img.onload = function() {\n        cb(this.width);\n    };\n    img.src = src;\n}\n\ngetWidthOfImage('lolcat.png', function (width) {\n    alert(width);\n});\n</code></pre>\n\n<p>... as before, note that we've been able to remove the global variables (in this case <code>width</code>).</p>\n", "title": "Why is my variable unaltered after I modify it inside of a function? - Asynchronous code reference", "answer_id": 23929676, "question_id": 23667086, "tags": ["javascript", "asynchronous"]}, {"body": "<p>The other answers are excellent, but I wanted to provide a more concise answer for people that are looking for a quick reference as well as some examples using promises.</p>\n\n<p>Start with the naive approach (that doesn't work) for a function that calls an asynchronous method (in this case <code>setTimeout</code>) and returns a message:</p>\n\n<pre><code>function getMessage() {\n  var outerScopeVar;\n  setTimeout(function() {\n    outerScopeVar = 'Hello asynchronous world!';\n  }, 0);\n  return outerScopeVar;\n}\nconsole.log(getMessage());\n</code></pre>\n\n<p><code>undefined</code> gets logged in this case because <code>getMessage</code> returns before the <code>setTimeout</code> callback is called and updates <code>outerScopeVar</code>.</p>\n\n<p>The two main ways to solve it are using <strong>callbacks</strong> and <strong>promises</strong>:</p>\n\n<p><strong>Callbacks</strong></p>\n\n<p>The change here is that <code>getMessage</code> accepts a <code>callback</code> parameter that will be called to deliver the results back to the calling code once available.</p>\n\n<pre><code>function getMessage(callback) {\n  setTimeout(function() {\n    callback('Hello asynchronous world!');\n  }, 0);\n}\ngetMessage(function(message) {\n  console.log(message);\n});\n</code></pre>\n\n<p><strong><a href=\"http://www.html5rocks.com/en/tutorials/es6/promises/\">Promises</a></strong></p>\n\n<p>Promises provide an alternative which is more flexible than callbacks because they can be naturally combined to coordinate multiple async operations. A <a href=\"https://promisesaplus.com/\">Promises/A+</a> standard implementation is natively provided in node.js (0.12+) and many current browsers, but is also implemented in libraries like <a href=\"https://github.com/petkaantonov/bluebird\">Bluebird</a> and <a href=\"https://github.com/kriskowal/q\">Q</a>.</p>\n\n<pre><code>function getMessage() {\n  return new Promise(function(resolve, reject) {\n    setTimeout(function() {\n      resolve('Hello asynchronous world!');\n    }, 0);\n  });\n}\n\ngetMessage().then(function(message) {\n  console.log(message);  \n});\n</code></pre>\n\n<p><strong>jQuery <a href=\"http://api.jquery.com/category/deferred-object/\">Deferreds</a></strong></p>\n\n<p>jQuery provides functionality that's similar to promises with its Deferreds.</p>\n\n<pre><code>function getMessage() {\n  var deferred = $.Deferred();\n  setTimeout(function() {\n    deferred.resolve('Hello asynchronous world!');\n  }, 0);\n  return deferred.promise();\n}\n\ngetMessage().done(function(message) {\n  console.log(message);  \n});\n</code></pre>\n", "title": "Why is my variable unaltered after I modify it inside of a function? - Asynchronous code reference", "answer_id": 28057246, "question_id": 23667086, "tags": ["javascript", "asynchronous"]}, {"body": "<p>In all these scenarios <code>outerScopeVar</code> is modified or assigned a value <strong>asynchronously</strong> or <strong>happening in a later time(waiting or listening for some event to occur),for which the current execution will not wait</strong>.So all these cases current execution flow results in <code>outerScopeVar = undefined</code></p>\n\n<p>Let's discuss each examples(I marked the portion which is called asynchronously or delayed for some events to occur):</p>\n\n<p><strong>1.</strong></p>\n\n<p><a href=\"http://i.stack.imgur.com/Ck9q6.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/Ck9q6.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here we register an eventlistner which will be executed upon that particular event.Here loading of image.Then the current execution continuous with next lines <code>img.src = 'lolcat.png';</code> and <code>alert(outerScopeVar);</code> meanwhile the event may not occur. i.e, funtion <code>img.onload</code> wait for the referred image to load, asynchrously. This will happen all the folowing example- the event may differ.</p>\n\n<p><strong>2.</strong></p>\n\n<p><a href=\"http://i.stack.imgur.com/rOzdX.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/rOzdX.png\" alt=\"2\"></a></p>\n\n<p>Here the timeout event plays the role, which will invoke the handler after the specified time. Here it is <code>0</code>, but still it registers an asynchronous event it will be added to the last position of the <code>Event Queue</code> for execution, which makes the guaranteed delay.</p>\n\n<p><strong>3.</strong></p>\n\n<p><a href=\"http://i.stack.imgur.com/2VpYE.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/2VpYE.png\" alt=\"enter image description here\"></a>\nThis time ajax callback.</p>\n\n<p><strong>4.</strong></p>\n\n<p><a href=\"http://i.stack.imgur.com/p8ZrL.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/p8ZrL.png\" alt=\"enter image description here\"></a></p>\n\n<p>Node can be consider as a king of asynchronous coding.Here the marked function is registered as a callback handler which will be executed after reading the specified file.</p>\n\n<p><strong>5.</strong></p>\n\n<p><a href=\"http://i.stack.imgur.com/vpmGy.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/vpmGy.png\" alt=\"enter image description here\"></a></p>\n\n<p>Obvious promise (something will be done in future) is asynchronous. see <a href=\"http://stackoverflow.com/questions/6801283/what-are-the-differences-between-deferred-promise-and-future-in-javascript\">What are the differences between Deferred, Promise and Future in Javascript?</a></p>\n\n<p><a href=\"https://www.quora.com/Whats-the-difference-between-a-promise-and-a-callback-in-Javascript\" rel=\"nofollow\">https://www.quora.com/Whats-the-difference-between-a-promise-and-a-callback-in-Javascript</a></p>\n", "title": "Why is my variable unaltered after I modify it inside of a function? - Asynchronous code reference", "answer_id": 33361333, "question_id": 23667086, "tags": ["javascript", "asynchronous"]}, {"body": "<p>To state the obvious, the cup represents <code>outerScopeVar</code>.  </p>\n\n<p>Asynchronous functions be like...</p>\n\n<p><a href=\"http://i.stack.imgur.com/yCASc.jpg\"><img src=\"http://i.stack.imgur.com/yCASc.jpg\" alt=\"asynchronous call for coffee\"></a></p>\n", "title": "Why is my variable unaltered after I modify it inside of a function? - Asynchronous code reference", "answer_id": 34161451, "question_id": 23667086, "tags": ["javascript", "asynchronous"]}, {"body": "<p>The other answers are excellent and I just want to provide a straight forward answer to this. Just limiting to jQuery asynchronous calls</p>\n\n<p>All ajax calls (including the <code>$.get</code> or <code>$.post</code> or <code>$.ajax</code>) are asynchronous.</p>\n\n<p>Considering your example</p>\n\n<pre><code>var outerScopeVar;  //line 1\n$.post('loldog', function(response) {  //line 2\n    outerScopeVar = response;\n});\nalert(outerScopeVar);  //line 3\n</code></pre>\n\n<p>The code execution starts from line 1, declares the variable and triggers and asynchronous call on line 2, (i.e., the post request) and it continues its execution from line 3, without waiting for the post request to complete its execution.</p>\n\n<p>Lets say that the post request takes 10 seconds to complete, the value of <code>outerScopeVar</code> will only be set after those 10 seconds.</p>\n\n<p>To try out,</p>\n\n<pre><code>var outerScopeVar; //line 1\n$.post('loldog', function(response) {  //line 2, takes 10 seconds to complete\n    outerScopeVar = response;\n});\nalert(\"Lets wait for some time here! Waiting is fun\");  //line 3\nalert(outerScopeVar);  //line 4\n</code></pre>\n\n<p>Now when you execute this, you would get an alert on line 3. Now wait for some time until you are sure the post request has returned some value. Then when you click OK, on the alert box, next alert would print the expected value, because you waited for it.</p>\n\n<p>In real life scenario, the code becomes,</p>\n\n<pre><code>var outerScopeVar;\n$.post('loldog', function(response) {\n    outerScopeVar = response;\n    alert(outerScopeVar);\n});\n</code></pre>\n\n<p>All the code that depends on the asynchronous calls, is moved inside the asynchronous block, or by waiting on the asynchronous calls.</p>\n", "title": "Why is my variable unaltered after I modify it inside of a function? - Asynchronous code reference", "answer_id": 35643195, "question_id": 23667086, "tags": ["javascript", "asynchronous"]}], "question_id": 23667086}, {"body": "<p>Given by a colleague as a puzzle, I cannot figure out how this C program actually compiles and runs. What is this <code>&gt;&gt;&gt;=</code> operator and the strange <code>1P1</code> literal? I have tested in Clang and GCC. There are no warnings and the output is \"???\"</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint main()\n{\n    int a[2]={ 10, 1 };\n\n    while( a[ 0xFULL?'\\0':-1:&gt;&gt;&gt;=a&lt;:!!0X.1P1 ] )\n        printf(\"?\");\n\n    return 0;\n}\n</code></pre>\n", "title": "What is the &gt;&gt;&gt;= operator in C?", "tags": ["c", "obfuscation", "literals", "bit-shift", "digraphs"], "answer_count": 3, "link": "http://stackoverflow.com/questions/25495042/what-is-the-operator-in-c", "answers": [{"body": "<p>It is some rather obscure code involving <a href=\"http://en.wikipedia.org/wiki/Digraphs_and_trigraphs#C\"><em>digraphs</em></a>, namely <code>&lt;:</code> and <code>:&gt;</code> which are alternative tokens for <code>[</code> and <code>]</code> respectively. There is also some use of the <a href=\"http://en.wikipedia.org/wiki/%3F:#C\"><em>conditional operator</em></a>. There is also a <a href=\"http://en.wikipedia.org/wiki/Bitwise_operations_in_C#Shift_operators\"><em>bit shifting operator</em></a>, the right shift assignment <code>&gt;&gt;=</code>.</p>\n\n<p>This is a more readable version:</p>\n\n<pre><code>while( a[ 0xFULL ? '\\0' : -1 ] &gt;&gt;= a[ !!0X.1P1 ] )\n</code></pre>\n\n<p>and an even more readable version, replacing the expressions in the <code>[]</code> for the values they resolve to:</p>\n\n<pre><code>while( a[0] &gt;&gt;= a[1] )\n</code></pre>\n\n<p>Replacing <code>a[0]</code> and <code>a[1]</code> for their values should make it easy to figure out what the loop is doing, i.e. the equivalent of:</p>\n\n<pre><code>int i = 10;\nwhile( i &gt;&gt;= 1)\n</code></pre>\n\n<p>which is simply performing (integer) division by 2 in each iteration, producing the sequence <code>5, 2, 1</code>.</p>\n", "title": "What is the &gt;&gt;&gt;= operator in C?", "answer_id": 25495131, "question_id": 25495042, "tags": ["c", "obfuscation", "literals", "bit-shift", "digraphs"]}, {"body": "<p>The line:</p>\n\n<pre><code>while( a[ 0xFULL?'\\0':-1:&gt;&gt;&gt;=a&lt;:!!0X.1P1 ] )\n</code></pre>\n\n<p>contains the <a href=\"//en.wikipedia.org/wiki/Digraphs_and_trigraphs#C\">digraphs</a> <code>:&gt;</code> and <code>&lt;:</code>, which translate to <code>]</code> and <code>[</code> respectively, so it's equivalent to:</p>\n\n<pre><code>while( a[ 0xFULL?'\\0':-1 ] &gt;&gt;= a[ !!0X.1P1 ] )\n</code></pre>\n\n<p>The literal <code>0xFULL</code> is the same as <code>0xF</code> (which is hex for <code>15</code>); the <code>ULL</code> just specifies that <a href=\"http://stackoverflow.com/questions/8809292/ull-suffix-on-a-numeric-literal\">it's an <code>unsigned long long</code> literal</a>.  In any case, as a boolean it's true, so <code>0xFULL ? '\\0' : -1</code> evaluates to <code>'\\0'</code>, which is a <a href=\"//en.wikipedia.org/wiki/C_syntax#Character_constants\">character literal</a> whose numerical value is simply <code>0</code>.</p>\n\n<p>Meanwhile, <code>0X.1P1</code> is a <a href=\"http://stackoverflow.com/questions/4825824/hexadecimal-floating-constant-in-c\">hexadecimal floating point literal</a> equal to 2/16 = 0.125.  In any case, being non-zero, it's also true as a boolean, so negating it twice with <code>!!</code> again produces <code>1</code>.  Thus, the whole thing simplifies down to:</p>\n\n<pre><code>while( a[0] &gt;&gt;= a[1] )\n</code></pre>\n\n<p>The operator <code>&gt;&gt;=</code> is a <a href=\"//en.wikipedia.org/wiki/Operators_in_C_and_C%2B%2B#Compound_assignment_operators\">compound assignment</a> that bit-shifts its left operand right by the number of bits given by the right operand, and returns the result.  In this case, the right operand <code>a[1]</code> always has the value <code>1</code>, so it's equivalent to:</p>\n\n<pre><code>while( a[0] &gt;&gt;= 1 )\n</code></pre>\n\n<p>or, equivalently:</p>\n\n<pre><code>while( a[0] /= 2 )\n</code></pre>\n\n<p>The initial value of <code>a[0]</code> is 10.  After shifting right once, it become 5, then (rounding down) 2, then 1 and finally 0, at which point the loop ends.  Thus, the loop body gets executed three times.</p>\n", "title": "What is the &gt;&gt;&gt;= operator in C?", "answer_id": 25495211, "question_id": 25495042, "tags": ["c", "obfuscation", "literals", "bit-shift", "digraphs"]}, {"body": "<p>Let's go through the expression left-to-right:</p>\n\n<pre><code>a[ 0xFULL?'\\0':-1:&gt;&gt;&gt;=a&lt;:!!0X.1P1 ]\n</code></pre>\n\n<p>The first thing I notice is that we are using the ternary operator from the use of <code>?</code>. So the subexpression:</p>\n\n<pre><code>0xFULL ? '\\0' : -1\n</code></pre>\n\n<p>is saying \"if <code>0xFULL</code> is non-zero, return <code>'\\0'</code>, otherwise <code>-1</code>. <code>0xFULL</code> is a hexadecimal literal with the <em>unsigned long-long suffix</em> - meaning it's a hexadecimal literal of type <code>unsigned long long</code>. That doesn't really matter though, because <code>0xF</code> can fit inside a regular integer.</p>\n\n<p>Also, the ternary operator converts the types of the second and third terms to their common type. <code>'\\0'</code> is then converted to <code>int</code>, which is just <code>0</code>.</p>\n\n<p>The value of <code>0xF</code> is way bigger than zero, so it passes. The expression now becomes:</p>\n\n<pre><code>a[ 0 :&gt;&gt;&gt;=a&lt;:!!0X.1P1 ]\n</code></pre>\n\n<p>Next, <code>:&gt;</code> is a <a href=\"https://en.wikipedia.org/wiki/Digraphs_and_trigraphs\">digraph</a>. It is a construct that expands to <code>]</code>:</p>\n\n<pre><code>a[0 ]&gt;&gt;=a&lt;:!!0X.1P1 ]\n</code></pre>\n\n<p><code>&gt;&gt;=</code> is the signed right shift operator, we can space that out from <code>a</code> to make it clearer.</p>\n\n<p>Moreover, <code>&lt;:</code> is a digraph that expands to <code>[</code>:</p>\n\n<pre><code>a[0] &gt;&gt;= a[!!0X.1P1 ]\n</code></pre>\n\n<p><code>0X.1P1</code> is a hexadecimal literal with an exponent. But no matter the value, the <code>!!</code> of anything that's non-zero is true. <code>0X.1P1</code> is <code>0.125</code> which is non-zero, so it becomes:</p>\n\n<pre><code>a[0] &gt;&gt;= a[true]\n-&gt; a[0] &gt;&gt;= a[1]\n</code></pre>\n\n<p>The <code>&gt;&gt;=</code> is the signed right shift operator. It changes the value of its left operand by shifting its bits forward by the value on the operator's right side. <code>10</code> in binary is <code>1010</code>. So here are the steps:</p>\n\n<pre><code>01010 &gt;&gt; 1 == 00101\n00101 &gt;&gt; 1 == 00010\n00010 &gt;&gt; 1 == 00001\n00001 &gt;&gt; 1 == 00000\n</code></pre>\n\n<p><code>&gt;&gt;=</code> returns the result of its operation, so as long as shifting <code>a[0]</code> remains non-zero for every time its bits are shifted right by one, the loop will continue. The fourth attempt is where <code>a[0]</code> becomes <code>0</code>, so the loop is never entered.</p>\n\n<p>As a result, <code>?</code> is printed three times.</p>\n", "title": "What is the &gt;&gt;&gt;= operator in C?", "answer_id": 25495321, "question_id": 25495042, "tags": ["c", "obfuscation", "literals", "bit-shift", "digraphs"]}], "question_id": 25495042}, {"body": "<p>I am creating my first Bower component. After running <code>bower init</code> the script asks me 'what types of modules does this package expose?' with these options:</p>\n\n<ul>\n<li>amd </li>\n<li>es6 </li>\n<li>globals </li>\n<li>node</li>\n</ul>\n\n<p>what is the difference between these options?</p>\n", "title": "bower init - difference between amd, es6, globals and node", "tags": ["node.js", "ecmascript-6", "bower", "js-amd", "es2015"], "answer_count": 3, "link": "http://stackoverflow.com/questions/22674018/bower-init-difference-between-amd-es6-globals-and-node", "answers": [{"body": "<p>If you don't know, it's quite likely globals is the right answer for you.</p>\n\n<p>Either way, you need to understand:</p>\n\n<ul>\n<li><a href=\"http://requirejs.org/docs/whyamd.html\">what is and why AMD</a></li>\n<li><a href=\"http://nodejs.org/api/modules.html\">what is a nodejs module</a></li>\n<li><a href=\"http://wiki.ecmascript.org/doku.php?id=harmony:modules\">what is ecmascript 6 and especially es6 modules</a></li>\n</ul>\n\n<h2>[UPDATE]</h2>\n\n<p>This feature was introduced very recently in bower and is not documented at all yet (AFAIK). It essentially describes the <code>moduleType</code>, which states for what module technology the package is meant to be consumed (see above).</p>\n\n<p>Right now, It doesn't have any effect apart from setting the <code>moduleType</code> property in the <code>bower.json</code> file of the package.</p>\n\n<p>See <a href=\"https://github.com/bower/bower/pull/934\">https://github.com/bower/bower/pull/934</a> for the original pull-request.</p>\n\n<h2>[UPDATE #2]</h2>\n\n<p>A few additional points, to answer comments:</p>\n\n<ul>\n<li>right now AFAIK there is no validation done on the <code>moduleType</code> property - which means that people are technically allowed to use whatever value they want for it, including <code>angularjs</code> if they feel inclined to do so</li>\n<li>the <a href=\"https://github.com/bower/bower/pull/1129#issuecomment-37359448\">bower committee</a> seems to not be keen toward the inclusion of additional <code>non-interoperable/proprietary moduleTypes</code> (think composer, angular, etc) - which is easily understandable, but yet again, nothing really prevents people from using the <code>moduleType</code> value they want</li>\n<li>an exception to the previous is the (somewhat) recent inclusion of the <code>yui moduleType</code>, so, there are \"exceptions\" to be made, assuming they are <a href=\"https://github.com/bower/bower/pull/1129#issuecomment-37828996\">part of a concerted plan</a></li>\n</ul>\n\n<p>What I would do if I were to author a package for a not-listed package manager and publish it on bower?</p>\n\n<p>I would author an es6 module, and use / patch <a href=\"https://github.com/square/es6-module-transpiler\">es6-transpiler</a> to output the package format I need. Then I would either/and:</p>\n\n<ul>\n<li>petition the bower guys to include my package technology as a choice (based on the fact it's supported by es6-transpiler as a target)</li>\n<li>publish my package including both the es6 module version of it and the transpiled XXX version of it, and use <code>es6</code> as a <code>moduleType</code></li>\n</ul>\n\n<p>Disclaimer: I don't have real-life experience authoring angularjs modules.</p>\n", "title": "bower init - difference between amd, es6, globals and node", "answer_id": 22683614, "question_id": 22674018, "tags": ["node.js", "ecmascript-6", "bower", "js-amd", "es2015"]}, {"body": "<h2>Initial</h2>\n\n<p>I'm using <code>bower init</code> for first time too.</p>\n\n<p>The options should refer to the different ways to modularize some JavaScript code:</p>\n\n<ul>\n<li>amd: using AMD <code>define</code>, like requirejs.</li>\n<li>node: using Node.js <code>require</code>.</li>\n<li>globals: using JavaScript module pattern to expose a global variable (like window.JQuery).</li>\n<li>es6: using upcoming EcmaScript6 module feature.</li>\n</ul>\n\n<p>In my case I wrote a Node.js module <a href=\"http://g14n.info/dflow\" rel=\"nofollow\" title=\"dflow\">dflow</a> but I'm using browserify to create a <em>dist/dflow.js</em> file that exports a global <em>dflow</em> var: so I selected <strong>globals</strong>.</p>\n\n<h2>Other Updates</h2>\n\n<p>The command I used to browserify <a href=\"http://g14n.info/dflow\" rel=\"nofollow\" title=\"dflow\">dflow</a> as a <em>window</em> global object was</p>\n\n<p><code>\nbrowserify -s dflow -e index.js -o dist/dflow.js\n</code></p>\n\n<p>I changed it cause I prefer to use <em>require</em> also inside the browser, so now I am using</p>\n\n<p><code>\nbrowserify -r ./index.js:dflow -o dist/dflow.js\n</code></p>\n\n<p>and so I changed the <em>bower.moduleType</em> to <strong>node</strong> in my <em>bower.json</em> file.</p>\n\n<p>The main motivation was that if my module name has a dash, for example my project <a href=\"http://g14n.info/flow-view\" rel=\"nofollow\" title=\"flow-view\">flow-view</a>, I need to <em>camelize</em> the global name in <em>flowView</em>.</p>\n\n<p>This new approach has two other benefits:</p>\n\n<ol>\n<li>Node and browser interface are the same. Using <em>require</em> on both client side and server side, let me write only once the code examples, and reuse them easily on both contexts.</li>\n<li>I use npm scripts and so, I can take advantage of <code>${npm_package_name}</code> variable and write once the script I use to browserify.</li>\n</ol>\n\n<p>This is another topic, but, it is really worth that you consider how it is useful the latter benefit: let me share the <code>npm.scripts.browserify</code> attribute I use in my <em>package.json</em> </p>\n\n<p><code>\"browserify\": \"browserify -r ./index.js:${npm_package_name} -o dist/${npm_package_name}.js\"</code></p>\n", "title": "bower init - difference between amd, es6, globals and node", "answer_id": 26777353, "question_id": 22674018, "tags": ["node.js", "ecmascript-6", "bower", "js-amd", "es2015"]}, {"body": "<p>Just for reference, this is precisely what bower specifies regarding the module types:</p>\n\n<blockquote>\n  <p>The type of module defined in the <code>main</code> JavaScript file. Can be one or an array of the following strings:</p>\n  \n  <ul>\n  <li><code>globals</code>: JavaScript module that adds to global namespace, using <code>window.namespace</code> or <code>this.namespace</code> syntax</li>\n  <li><code>amd</code>: JavaScript module compatible with AMD, like <a href=\"http://requirejs.org/\">RequireJS</a>, using <code>define()</code> syntax</li>\n  <li><code>node</code>: JavaScript module compatible with <a href=\"https://nodejs.org/\">node</a> and <a href=\"https://nodejs.org/docs/latest/api/modules.html\">CommonJS</a> using <code>module.exports</code> syntax</li>\n  <li><code>es6</code>: JavaScript module compatible with <a href=\"http://www.2ality.com/2014/09/es6-modules-final.html\">ECMAScript 6 modules</a>, using <code>export</code> and <code>import</code> syntax</li>\n  <li><code>yui</code>: JavaScript module compatible with <a href=\"http://yuilibrary.com/yui/docs/yui/create.html\">YUI Modules</a>, using <code>YUI.add()</code> syntax</li>\n  </ul>\n</blockquote>\n\n<p>Relevant link: <a href=\"https://github.com/bower/spec/blob/master/json.md#moduletype\">https://github.com/bower/spec/blob/master/json.md#moduletype</a></p>\n", "title": "bower init - difference between amd, es6, globals and node", "answer_id": 35269660, "question_id": 22674018, "tags": ["node.js", "ecmascript-6", "bower", "js-amd", "es2015"]}], "question_id": 22674018}, {"body": "<p>Say I have a string here:</p>\n\n<pre><code>var fullName: String = \"First Last\"\n</code></pre>\n\n<p>I want to split the string base on white space and assign the values to their respective variables</p>\n\n<pre><code>var fullNameArr = // something like: fullName.explode(\" \") \n\nvar firstName: String = fullNameArr[0]\nvar lastName: String? = fullnameArr[1]\n</code></pre>\n\n<p>Also, sometimes users might not have a last name.</p>\n", "title": "Swift: Split a String into an array", "tags": ["ios", "string", "swift", "split"], "answer_count": 15, "link": "http://stackoverflow.com/questions/25678373/swift-split-a-string-into-an-array", "answers": [{"body": "<p><em>As seen in the <a class='doc-link' href=\"http://stackoverflow.com/documentation/proposed/changes/61765?draftId=52075\">SO Docs</a>, the easiest method is using componentsSeperatedBy:</em></p>\n\n<p><strong>For Swift 2:</strong></p>\n\n<pre><code>import Foundation\nlet fullName : String = \"First Last\";\nlet fullNameArr : [String] = fullName.componentsSeparatedByString(\" \")\n\n// And then to access the individual words:\n\nvar firstName : String = fullNameArr[0]\nvar lastName : String = fullNameArr[1]\n</code></pre>\n\n<p><strong>For Swift 3:</strong></p>\n\n<pre><code>import Foundation\n\nlet fullName : String = \"First Last\"\nlet fullNameArr : [String] = fullName.components(separatedBy: \" \")\n\n// And then to access the individual words:\n\nvar firstName : String = fullNameArr[0]\nvar lastName : String = fullNameArr[1]\n</code></pre>\n", "title": "Swift: Split a String into an array", "answer_id": 25678486, "question_id": 25678373, "tags": ["ios", "string", "swift", "split"]}, {"body": "<p>Just call <code>componentsSeparatedByString</code> method on your <code>fullName</code></p>\n\n<pre><code>import Foundation\n\nvar fullName: String = \"First Last\"\nlet fullNameArr = fullName.componentsSeparatedByString(\" \")\n\nvar firstName: String = fullNameArr[0]\nvar lastName: String = fullNameArr[1]\n</code></pre>\n\n<p><strong>Update for Swift 3+</strong></p>\n\n<pre><code>import Foundation\n\nlet fullName    = \"First Last\"\nlet fullNameArr = fullName.components(separatedBy: \" \")\n\nlet name    = fullNameArr[0]\nlet surname = fullNameArr[1]\n</code></pre>\n", "title": "Swift: Split a String into an array", "answer_id": 25678505, "question_id": 25678373, "tags": ["ios", "string", "swift", "split"]}, {"body": "<p>As an alternative to WMios's answer, you can also use <code>componentsSeparatedByCharactersInSet</code>, which can be handy in the case you have more separators (blank space, comma, etc.).</p>\n\n<p>With your specific input:</p>\n\n<pre><code>let separators = NSCharacterSet(charactersInString: \" \")\nvar fullName: String = \"First Last\";\nvar words = fullName.componentsSeparatedByCharactersInSet(separators)\n\n// words contains [\"First\", \"Last\"]\n</code></pre>\n\n<p>Using multiple separators:</p>\n\n<pre><code>let separators = NSCharacterSet(charactersInString: \" ,\")\nvar fullName: String = \"Last, First Middle\";\nvar words = fullName.componentsSeparatedByCharactersInSet(separators)\n\n// words contains [\"Last\", \"First\", \"Middle\"]\n</code></pre>\n", "title": "Swift: Split a String into an array", "answer_id": 25679987, "question_id": 25678373, "tags": ["ios", "string", "swift", "split"]}, {"body": "<p>The Swift way is to use the global <code>split</code> function, like so:</p>\n\n<pre><code>var fullName = \"First Last\"\nvar fullNameArr = split(fullName) {$0 == \" \"}\nvar firstName: String = fullNameArr[0]\nvar lastName: String? = fullNameArr.count &gt; 1 ? fullNameArr[1] : nil\n</code></pre>\n\n<p>with <strong>Swift 2</strong> </p>\n\n<p>In Swift 2 the use of split becomes a bit more complicated due to the introduction of the internal CharacterView type. This means that String no longer adopts the SequenceType or CollectionType protocols and you must instead use the <code>.characters</code> property to access a CharacterView type representation of a String instance. (Note: CharacterView does adopt SequenceType and CollectionType protocols).</p>\n\n<pre><code>let fullName = \"First Last\"\nlet fullNameArr = fullName.characters.split{$0 == \" \"}.map(String.init)\n// or simply:\n// let fullNameArr = fullName.characters.split{\" \"}.map(String.init)\n\nfullNameArr[0] // First\nfullNameArr[1] // Last \n</code></pre>\n", "title": "Swift: Split a String into an array", "answer_id": 26270721, "question_id": 25678373, "tags": ["ios", "string", "swift", "split"]}, {"body": "<p><strong>Xcode 8 beta 2 \u2022 Swift 3</strong></p>\n\n<p>If you just need to properly format a person name, you can use PersonNameComponentsFormatter.</p>\n\n<pre><code>// iOS (9.0 and later), macOS (10.11 and later), tvOS (9.0 and later), watchOS (2.0 and later)\nlet nameFormatter = PersonNameComponentsFormatter()\nlet name =  \"Steven Paul Jobs\"\n\nif let nameComps = nameFormatter.personNameComponents(from: name) {\n    if let givenName = nameComps.givenName {\n        print(givenName)   // \"Steven\\n\"\n    }\n    if let middleName = nameComps.middleName {\n        print(middleName)  // \"Paul\\n\"\n    }\n    if let familyName = nameComps.familyName {\n        print(familyName)  // \"Jobs\\n\"\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>Using split method at the String.CharacterView and map its elements to String as follow:</p>\n\n<pre><code>let fullName = \"First Last\"\nlet fullNameArray = fullName.characters.split(\" \").map{ String($0) }\nlet firstName = fullNameArray.first ?? \"\"\n\nprint(firstName)  // \"First\"\n</code></pre>\n\n<p>Another option:</p>\n\n<pre><code>extension String {\n    var firstName: String {\n        return componentsSeparatedByString(\" \").first ?? \"\"\n    }\n    var lastName: String {\n        return componentsSeparatedByString(\" \").last ?? \"\"\n    }\n}\n\nlet fullName = \"Steven Paul Jobs\"\n\n\nlet firstName = fullName.firstName   // Steven\nlet lastName = fullName.lastName     // Jobs\n</code></pre>\n", "title": "Swift: Split a String into an array", "answer_id": 27870553, "question_id": 25678373, "tags": ["ios", "string", "swift", "split"]}, {"body": "<p>I found an Interesting case, that</p>\n\n<p><strong>method 1</strong></p>\n\n<pre><code>var data:[String] = split( featureData ) { $0 == \"\\u{003B}\" }\n</code></pre>\n\n<p>When I used this command to split some symbol <strong>from the data that loaded from server</strong>, it can split while test in simulator and sync with test device, but it won't split in publish app, and Ad Hoc</p>\n\n<p>It take me a lot of time to track this error, It might cursed from some Swift Version, or some iOS Version or neither</p>\n\n<p>It's not about the HTML code also, since I try to <em>stringByRemovingPercentEncoding</em> and it's still not work</p>\n\n<p><strong>addition 10/10/2015</strong></p>\n\n<p>in Swift 2.0 this method has been changed to </p>\n\n<pre><code>var data:[String] = featureData.split {$0 == \"\\u{003B}\"}\n</code></pre>\n\n<hr>\n\n<p><strong>method 2</strong></p>\n\n<pre><code>var data:[String] = featureData.componentsSeparatedByString(\"\\u{003B}\")\n</code></pre>\n\n<p>When I used this command, <strong>it can split the same data that load from server correctly</strong></p>\n\n<hr>\n\n<p><strong>Conclusion, I really suggest to use the method 2</strong> </p>\n\n<pre><code>string.componentsSeparatedByString(\"\")\n</code></pre>\n", "title": "Swift: Split a String into an array", "answer_id": 29009450, "question_id": 25678373, "tags": ["ios", "string", "swift", "split"]}, {"body": "<p>This has Changed again in Beta 5. Weee! It's now a method on CollectionType</p>\n\n<p>Old: </p>\n\n<pre><code>var fullName = \"First Last\"\nvar fullNameArr = split(fullName) {$0 == \" \"}\n</code></pre>\n\n<p>New: </p>\n\n<pre><code>var fullName = \"First Last\"\nvar fullNameArr = fullName.split {$0 == \" \"}\n</code></pre>\n\n<p><a href=\"https://developer.apple.com/library/prerelease/ios/releasenotes/General/iOS90APIDiffs/Swift/Swift.html\" rel=\"nofollow\">Apples Release Notes</a></p>\n", "title": "Swift: Split a String into an array", "answer_id": 31885958, "question_id": 25678373, "tags": ["ios", "string", "swift", "split"]}, {"body": "<p>Or without closures you can do just this in Swift 2:</p>\n\n<pre><code>let fullName = \"First Last\"\nlet fullNameArr = fullName.characters.split(\" \")\nlet firstName = String(fullNameArr[0])\n</code></pre>\n", "title": "Swift: Split a String into an array", "answer_id": 32515643, "question_id": 25678373, "tags": ["ios", "string", "swift", "split"]}, {"body": "<p>For swift 2, XCode 7.1:</p>\n\n<pre><code>let complete_string:String = \"Hello world\"\nlet string_arr =  complete_string.characters.split {$0 == \" \"}.map(String.init)\nlet hello:String = string_arr[0]\nlet world:String = string_arr[1]\n</code></pre>\n", "title": "Swift: Split a String into an array", "answer_id": 32880655, "question_id": 25678373, "tags": ["ios", "string", "swift", "split"]}, {"body": "<h2>The whitespace issue</h2>\n\n<p>Generally, people reinvent this problem and bad solutions over and over. Is this a space? \" \" and what about \"\\n\", \"\\t\" or some unicode whitespace character that you've never seen, in no small part because it is invisible. While you can get away with </p>\n\n<h3>A weak solution</h3>\n\n<pre><code>import Foundation\nlet pieces = \"Mary had little lamb\".componentsSeparatedByString(\" \")\n</code></pre>\n\n<p>If you ever need to shake your grip on reality watch a WWDC video on strings or dates. In short, it is almost always better to allow Apple to solve this kind of mundane task. </p>\n\n<h2>Robust Solution: Use NSCharacterSet</h2>\n\n<p>The way to do this correctly, IMHO, is to use <code>NSCharacterSet</code> since as stated earlier your whitespace might not be what you expect and Apple has provided a whitespace character set. To explore the various provided character sets check out Apple's <a href=\"https://developer.apple.com/library/ios/documentation/Cocoa/Reference/Foundation/Classes/NSCharacterSet_Class/index.html\" rel=\"nofollow\">NSCharacterSet developer documentation</a> and then, only then, augment or construct a new character set if it doesn't fit your needs. </p>\n\n<h3>NSCharacterSet.whitespaceCharacterSet()</h3>\n\n<blockquote>\n  <p>Returns a character set containing the characters in Unicode General\n  Category Zs and CHARACTER TABULATION (U+0009).</p>\n</blockquote>\n\n<pre><code>let longerString: String = \"This is a test of the character set splitting system\"\nlet whitespaceCharacterSet = NSCharacterSet.whitespaceCharacterSet()\nlet components = longerString.componentsSeparatedByCharactersInSet(whitespaceCharacterSet)\nprint(components)\n</code></pre>\n\n<p>The slightly more concise version of this would be</p>\n\n<pre><code>let longerString: String = \"This is a test of the character set splitting system\"\nlet components = longerString.componentsSeparatedByCharactersInSet(.whitespaceCharacterSet())\nprint(components)\n</code></pre>\n", "title": "Swift: Split a String into an array", "answer_id": 34559808, "question_id": 25678373, "tags": ["ios", "string", "swift", "split"]}, {"body": "<pre><code>let str = \"one two\"\nlet strSplit = str.characters.split(\" \").map(String.init) // returns [\"one\", \"two\"]\n</code></pre>\n\n<p><strong>Xcode 7.2 (7C68)</strong></p>\n", "title": "Swift: Split a String into an array", "answer_id": 36470351, "question_id": 25678373, "tags": ["ios", "string", "swift", "split"]}, {"body": "<p><strong>As per Swift 2.2</strong></p>\n\n<p>You just write 2 line code and you will get the split string.</p>\n\n<pre><code>let fullName = \"FirstName LastName\"\nvar splitedFullName = fullName.componentsSeparatedByString(\" \")\nprint(splitedFullName[0])\nprint(splitedFullName[1]) \n</code></pre>\n\n<p>Enjoy. :)</p>\n", "title": "Swift: Split a String into an array", "answer_id": 36867742, "question_id": 25678373, "tags": ["ios", "string", "swift", "split"]}, {"body": "<p>Here is an algorithm I just build, which will split a <code>String</code> by any <code>Character</code> from the array and if there is any desire to keep the substrings with splitted characters one could set the <code>swallow</code> parameter to <code>true</code>.</p>\n\n<p>Xcode 7.3 - Swift 2.2:</p>\n\n<pre><code>extension String {\n\n    func splitBy(characters: [Character], swallow: Bool = false) -&gt; [String] {\n\n        var substring = \"\"\n        var array = [String]()\n        var index = 0\n\n        for character in self.characters {\n\n            if let lastCharacter = substring.characters.last {\n\n                // swallow same characters\n                if lastCharacter == character {\n\n                    substring.append(character)\n\n                } else {\n\n                    var shouldSplit = false\n\n                    // check if we need to split already\n                    for splitCharacter in characters {\n                        // slit if the last character is from split characters or the current one\n                        if character == splitCharacter || lastCharacter == splitCharacter {\n\n                            shouldSplit = true\n                            break\n                        }\n                    }\n\n                    if shouldSplit {\n\n                        array.append(substring)\n                        substring = String(character)\n\n                    } else /* swallow characters that do not equal any of the split characters */ {\n\n                        substring.append(character)\n                    }\n                }\n            } else /* should be the first iteration */ {\n\n                substring.append(character)\n            }\n\n            index += 1\n\n            // add last substring to the array\n            if index == self.characters.count {\n\n                array.append(substring)\n            }\n        }\n\n        return array.filter {\n\n            if swallow {\n\n                return true\n\n            } else {\n\n                for splitCharacter in characters {\n\n                    if $0.characters.contains(splitCharacter) {\n\n                        return false\n                    }\n                }\n                return true\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>\"test text\".splitBy([\" \"]) // [\"test\", \"text\"]\n\"test++text--\".splitBy([\"+\", \"-\"], swallow: true) // [\"test\", \"++\" \"text\", \"--\"]\n</code></pre>\n", "title": "Swift: Split a String into an array", "answer_id": 37122606, "question_id": 25678373, "tags": ["ios", "string", "swift", "split"]}, {"body": "<p><strong>Swift 2.2</strong>\n<strong>Error Handling &amp; capitalizedString Added :</strong> </p>\n\n<pre><code>func setFullName(fullName: String) {\n    var fullNameComponents = fullName.componentsSeparatedByString(\" \")\n\n    self.fname = fullNameComponents.count &gt; 0 ? fullNameComponents[0]: \"\"\n    self.sname = fullNameComponents.count &gt; 1 ? fullNameComponents[1]: \"\"\n\n    self.fname = self.fname!.capitalizedString\n    self.sname = self.sname!.capitalizedString\n}\n</code></pre>\n", "title": "Swift: Split a String into an array", "answer_id": 37592119, "question_id": 25678373, "tags": ["ios", "string", "swift", "split"]}, {"body": "<p>All these answers assume the input contains a space - not <strong>white</strong>space.  If you can safely make that assumption, then the accepted answer (from bennett) is quite elegant and also the method I'll be going with when I can.</p>\n\n<p>When we can't make that assumption, another solution is to use regex to convert all whitespace to a single space and then split by a single space:</p>\n\n<pre><code>let searchInput = \"First \\r\\n \\n \\t\\t\\tMiddle    Last\"\nlet searchTerms = searchInput.stringByReplacingOccurrencesOfString(\n  \"\\\\s+\",\n  withString: \" \",\n  options: .RegularExpressionSearch\n).componentsSeparatedByString(\" \")\n\n// searchTerms == [\"First\", \"Middle\", \"Last\"]\n</code></pre>\n", "title": "Swift: Split a String into an array", "answer_id": 37943524, "question_id": 25678373, "tags": ["ios", "string", "swift", "split"]}], "question_id": 25678373}, {"body": "<p>I keep seeing this constant pop up in various graphics header files</p>\n\n<pre><code>0.0039215689\n</code></pre>\n\n<p>It seems to have something to do with color maybe?</p>\n\n<p>Here is the first <a href=\"http://ozmav.googlecode.com/svn-history/r178/trunk/badrdp/rdp.c\">hit on Google</a>:</p>\n\n<pre><code>void RDP_G_SETFOGCOLOR(void)\n{\n    Gfx.FogColor.R = _SHIFTR(w1, 24, 8) * 0.0039215689f;\n    Gfx.FogColor.G = _SHIFTR(w1, 16, 8) * 0.0039215689f;\n    Gfx.FogColor.B = _SHIFTR(w1, 8, 8) * 0.0039215689f;\n    Gfx.FogColor.A = _SHIFTR(w1, 0, 8) * 0.0039215689f;\n}\n\nvoid RDP_G_SETBLENDCOLOR(void)\n{\n    Gfx.BlendColor.R = _SHIFTR(w1, 24, 8) * 0.0039215689f;\n    Gfx.BlendColor.G = _SHIFTR(w1, 16, 8) * 0.0039215689f;\n    Gfx.BlendColor.B = _SHIFTR(w1, 8, 8) * 0.0039215689f;\n    Gfx.BlendColor.A = _SHIFTR(w1, 0, 8) * 0.0039215689f;\n\n    if(OpenGL.Ext_FragmentProgram &amp;&amp; (System.Options &amp; BRDP_COMBINER)) {\n        glProgramEnvParameter4fARB(GL_FRAGMENT_PROGRAM_ARB, 2, Gfx.BlendColor.R, Gfx.BlendColor.G, Gfx.BlendColor.B, Gfx.BlendColor.A);\n    }\n}\n\n//...more like this\n</code></pre>\n\n<p>What does this number represent? Why does no one seem to declare it as a const?</p>\n\n<p>I couldn't find anything on Google that explained it.</p>\n", "title": "What does the constant 0.0039215689 represent?", "tags": ["c", "floating-point", "constants", "magic-numbers"], "answer_count": 2, "link": "http://stackoverflow.com/questions/22621241/what-does-the-constant-0-0039215689-represent", "answers": [{"body": "<p>This multiplication by <code>0.0039215689f</code> converts an integer valued color intensity in the range 0 to 255 to a real valued color intensity in the range 0 to 1.</p>\n\n<p>As Ilmari Karonen points out, even if this is an optimisation it's a rather badly expressed one. It would be so much clearer to multiply by <code>(1.0f/255)</code>. </p>\n", "title": "What does the constant 0.0039215689 represent?", "answer_id": 22621305, "question_id": 22621241, "tags": ["c", "floating-point", "constants", "magic-numbers"]}, {"body": "<p><code>0.0039215689</code> is approximately equal to <code>1/255</code>.</p>\n\n<p>Seeing that this is OpenGL, performance is probably important. So it's probably safe to guess that this was done for performance reasons.</p>\n\n<p>Multiplying by the reciprocal is faster than repeatedly dividing by 255.</p>\n\n<hr>\n\n<p><strong>Side Note:</strong></p>\n\n<p>If you're wondering why such a micro-optimization isn't left to the compiler, it's because it is an unsafe floating-point optimization. In other words:</p>\n\n<pre><code>x / 255  !=  x * (1. / 255)\n</code></pre>\n\n<p>due to floating-point round-off errors.</p>\n\n<p>So while modern compilers may be smart enough to do this optimization, they are not allowed to do it unless you explicitly tell them to via a compiler flag.</p>\n\n<p><strong>Related:</strong> <a href=\"http://stackoverflow.com/q/6430448/922184\">Why doesn&#39;t GCC optimize a*a*a*a*a*a to (a*a*a)*(a*a*a)?</a></p>\n", "title": "What does the constant 0.0039215689 represent?", "answer_id": 22621361, "question_id": 22621241, "tags": ["c", "floating-point", "constants", "magic-numbers"]}], "question_id": 22621241}, {"body": "<p>Just downloaded 3.1 and found in the docs...</p>\n\n<blockquote>\n  <p>Turn any fixed-width grid layout into a full-width layout by changing your outermost <code>.container</code> to <code>.container-fluid</code>.</p>\n</blockquote>\n\n<p>Looking in bootstrap.css, it appears that .container-fluid is identical to .container.  Both have the same CSS, and every instance of .container-fluid is paired with .container, and all column classes are specified in percentages.</p>\n\n<p>When twiddling with examples I could not see any difference, as everything seemed fluid.</p>\n\n<p>As I'm new to Bootstrap, I assume I'm missing something. Could someone take a minute and enlighten me?</p>\n", "title": "Container-fluid vs .container", "tags": ["twitter-bootstrap-3"], "answer_count": 7, "link": "http://stackoverflow.com/questions/22262311/container-fluid-vs-container", "answers": [{"body": "<p>I think you are saying that a <code>container</code> vs <code>container-fluid</code> is the difference between responsive and non-responsive to the grid. This is not true...what is saying is that the width is not fixed...its full width!</p>\n\n<p>This is hard to explain so lets look at the examples</p>\n\n<hr>\n\n<p><strong>Example one</strong></p>\n\n<p><code>container-fluid</code>:</p>\n\n<p><a href=\"http://www.bootply.com/119981\">http://www.bootply.com/119981</a></p>\n\n<p>So you see how the container takes up the whole screen...that's a <code>container-fluid</code>.</p>\n\n<p>Now lets look at the other just a normal <code>container</code> and watch the edges of the preview</p>\n\n<p><strong>Example two</strong></p>\n\n<p><code>container</code></p>\n\n<p><a href=\"http://www.bootply.com/119982\">http://www.bootply.com/119982</a></p>\n\n<p>Now do you see the white space in the example? That's because its a fixed width <code>container</code> ! It might make more sense to open both examples up in two different tabs and switch back and forth.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Better yet here is an example with both containers at once! Now you can really tell the difference!</p>\n\n<p><a href=\"http://www.bootply.com/119983\">http://www.bootply.com/119983</a></p>\n\n<p>I hope this helped clarify a little bit!</p>\n", "title": "Container-fluid vs .container", "answer_id": 22263828, "question_id": 22262311, "tags": ["twitter-bootstrap-3"]}, {"body": "<p><strong>Quick version:</strong> <code>.container</code> has one fixed width for each screen size in bootstrap (xs,sm,md,lg); <code>.container-fluid</code> expands to fill the available width.</p>\n\n<hr>\n\n<p>The difference between <code>container</code> and <code>container-fluid</code> comes from these lines of CSS:</p>\n\n<pre><code>@media (min-width: 568px) {\n  .container {\n    width: 550px;\n  }\n}\n@media (min-width: 992px) {\n  .container {\n    width: 970px;\n  }\n}\n@media (min-width: 1200px) {\n  .container {\n    width: 1170px;\n  }\n}\n</code></pre>\n\n<p>Depending on the width of the viewport that the webpage is being viewed on, the <code>container</code> class gives its div a specific fixed width. These lines don't exist in any form for <code>container-fluid</code>, so its width changes every time the viewport width changes.</p>\n\n<p>So for example, say your browser window is 1000px wide. As it's greater than the min-width of 992px, your <code>.container</code> element will have a width of 970px. You then slowly widen your browser window. The width of your <code>.container</code> won't change until you get to 1200px, at which it will jump to 1170px wide and stay that way for any larger browser widths.</p>\n\n<p>Your <code>.container-fluid</code> element, on the other hand, will constantly resize as you make even the smallest changes to your browser width.</p>\n", "title": "Container-fluid vs .container", "answer_id": 22263969, "question_id": 22262311, "tags": ["twitter-bootstrap-3"]}, {"body": "<p>Both <code>.container</code> and <code>.container-fluid</code> are responsive (i.e. they can change based on the screen width), but in different ways. It's a common misconception that only container-fluid is responsive.</p>\n\n<p><strong>From a functional perspective:</strong></p>\n\n<p><code>.container-fluid</code> continuously resizes as you change the width of your window/browser by any amount, leaving no extra empty space on the sides ever, unlike how <code>.container</code> does. (Hence the naming: \"fluid\" as opposed to \"digital\", \"discrete\", \"chunked\", or \"quantized\").</p>\n\n<p><code>.container</code> resizes in chunks at several certain widths. In other words, it will be different specific aka \"fixed\" widths different ranges of screen widths. </p>\n\n<p>You can see how naming confusion may arise. Technically, we can say <code>.container</code> is \"fixed width\" as opposed to \"fluid\" because width is a specific value at a given screen width range. But of course that \"fixed\" width changes to another \"fixed\" width value. So people may get the impression that <code>.container</code> can't change sizes and is thus not responsive when they hear (or when you say) <code>.container</code> is \"fixed width\". So if you want to communicate this clearly to someone new, you can say something like, \"<code>.container</code> makes it fixed width for a given screen width <em>range</em>, but can still be responsive.\"</p>\n\n<p><strong>From a fundamental perspective:</strong></p>\n\n<p><code>.container-fluid</code> has the CSS property <code>width: 100%;</code>, so it continually readjusts at every screen width granularity.</p>\n\n<pre><code>.container-fluid {\n  width: 100%;\n}\n</code></pre>\n\n<p><code>.container</code> has something like \"width = 800px\" (or em, rem etc.), a specific pixel width value at different screen widths. This of course is what causes the element width to abruptly jump to a different width when the screen width crosses a screen width threshold. And that threshold is governed by CSS3 media queries, which allow you to apply different styles for different conditions, such as screen width ranges.</p>\n\n<pre><code>@media screen and (max-width: 400px){\n  .container {\n    width: 123px;\n  }\n}\n@media screen and (min-width: 401px) and (max-width: 800px){\n\n  .container {\n    width: 456px;\n  }\n}\n@media screen and (min-width: 801px){\n  .container {\n    width: 789px;\n  }\n}\n</code></pre>\n\n<p><strong>Beyond</strong></p>\n\n<p>You can make any fixed widths element responsive via media queries, not just <code>.container</code> elements, since media queries is exactly how <code>.container</code> is implemented by bootstrap in the background (see JKillian's answer for the code).</p>\n", "title": "Container-fluid vs .container", "answer_id": 25638864, "question_id": 22262311, "tags": ["twitter-bootstrap-3"]}, {"body": "<p>After trying and failing, I realised that sometimes you have to bend rules to get what you want.</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;div class=\"container-fluid\"&gt;\n    &lt;div class=\"first-row\"&gt;\n        //Continue with the normal bootstrap standards i.e row-&gt;col\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>CSS</p>\n\n<pre><code>.first-row {\n    margin-right: 15px !important;\n    margin-left: 15px !important;\n}\n</code></pre>\n\n<p>This worked for me till I find a better solution</p>\n", "title": "Container-fluid vs .container", "answer_id": 29688291, "question_id": 22262311, "tags": ["twitter-bootstrap-3"]}, {"body": "<p>You are right in 3.1 .container-fluid and .container are same and works like container but if you remove them it works like .container-fluid (full width). They had removed .container-fluid for \"Mobile First Approach\", but now it's back in 3.3.4 (and they will work differently)</p>\n\n<p>To get latest bootstrap please read this post on stackoverflow it will help <strong><a href=\"http://stackoverflow.com/questions/19789954/fluid-container-in-bootstrap-3\">check it out</a></strong>. </p>\n", "title": "Container-fluid vs .container", "answer_id": 29867848, "question_id": 22262311, "tags": ["twitter-bootstrap-3"]}, {"body": "<p><code>.container</code> has a max width pixel value, whereas <code>.container-fluid</code> is max-width 100%.</p>\n\n<p><code>.container-fluid</code> continuously resizes as you change the width of your window/browser by any amount.</p>\n\n<p><code>.container</code> resizes in chunks at several certain widths, controlled by media queries (technically we can say it\u2019s \u201cfixed width\u201d\nbecause pixels values are specified, but if you stop there, people may get the\nimpression that it can\u2019t change size \u2013 i.e. not responsive.)</p>\n", "title": "Container-fluid vs .container", "answer_id": 36743405, "question_id": 22262311, "tags": ["twitter-bootstrap-3"]}, {"body": "<p>Some of these answers have become out of date for Bootstrap 3.3.x. The <code>container</code> has 4 sizes. Full width on <code>xs</code> screens, and then it's width varies based on the following media queries..</p>\n\n<pre><code>@media (min-width: 1200px)\n.container {\n    width: 1170px;\n}\n@media (min-width: 992px)\n.container {\n    width: 970px;\n}\n@media (min-width: 768px)\n.container {\n    width: 750px;\n}\n</code></pre>\n\n<p><a href=\"http://www.codeply.com/go/8YUeh6gIk0\" rel=\"nofollow\">container vs. container-fluid demo</a></p>\n", "title": "Container-fluid vs .container", "answer_id": 39375592, "question_id": 22262311, "tags": ["twitter-bootstrap-3"]}], "question_id": 22262311}, {"body": "<p>I wanted to use the MEAN JavaScript Stack, but I noticed that there are two different stacks with either their own website and installation methods: mean.js and mean.io. So I came up asking myself this question: \"Which one do I use?\".</p>\n\n<p>So in order to answer this question I ask the community if you could explain what are the differences between these two? And if possible pros and cons? Because they look very similar to me.</p>\n", "title": "Difference between MEAN.js and MEAN.io", "tags": ["javascript", "node.js", "angularjs", "web-applications", "mean-stack"], "answer_count": 5, "link": "http://stackoverflow.com/questions/23199392/difference-between-mean-js-and-mean-io", "answers": [{"body": "<p>They're essentially the same... They both use swig for templating, they both use karma and mocha for tests, passport integration, nodemon, etc. </p>\n\n<p>Why so similar? Mean.js is a fork of Mean.io and both initiatives were started by <a href=\"https://github.com/amoshaviv\">the same guy</a>... Mean.io is now under the umbrella of the company Linnovate and looks like the guy (Amos Haviv) stopped his collaboration with this company and started Mean.js. You can read more about the reasons <a href=\"http://blog.meanjs.org/post/76726660228/forking-out-of-an-open-source-conflict\">here</a>. </p>\n\n<p>Now... main (or little) differences you can see right now are:</p>\n\n<p><br></p>\n\n<p><strong>SCAFFOLDING AND BOILERPLATE GENERATION</strong></p>\n\n<p>Mean.io uses a custom cli tool named 'mean'<br>\nMean.js uses Yeoman Generators</p>\n\n<p><br>\n<strong>MODULARITY</strong></p>\n\n<p>Mean.io uses a more self-contained node packages modularity with client and server files inside the modules.<br>\nMean.js uses modules just in the front-end (for angular), and connects them with Express. Although they were working on vertical modules as well...</p>\n\n<p><br>\n<strong>BUILD SYSTEM</strong></p>\n\n<p>Mean.io has recently moved to gulp<br>\nMean.js uses grunt</p>\n\n<p><br>\n<strong>DEPLOYMENT</strong></p>\n\n<p>Both have Dockerfiles in their respective repos, and Mean.io has one-click install on <a href=\"https://cloud.google.com/solutions/mean/click-to-deploy\">Google Compute Engine</a>, while Mean.js can also be deployed with <a href=\"https://www.digitalocean.com/features/one-click-apps/mean/\">one-click install on Digital Ocean</a>.</p>\n\n<p><br>\n<strong>DOCUMENTATION</strong></p>\n\n<p>Mean.io has ok docs<br>\nMean.js has AWESOME docs</p>\n\n<p><br>\n<strong>COMMUNITY</strong></p>\n\n<p>Mean.io has a bigger community since it was the original boilerplate<br>\nMean.js has less momentum but steady growth</p>\n\n<p><br>\nOn a personal level, I like more the philosophy and openness of MeanJS and more the traction and modules/packages approach of MeanIO. Both are nice, and you'll end probably modifying them, so you can't really go wrong picking one or the other. Just take them as starting point and as a learning exercise.</p>\n\n<p><br></p>\n\n<h2>ALTERNATIVE \u201cMEAN\u201d SOLUTIONS</h2>\n\n<p>MEAN is a generic way (coined by <a href=\"http://blog.mongodb.org/post/49262866911/the-mean-stack-mongodb-expressjs-angularjs-and\">Valeri Karpov</a>) to describe a boilerplate/framework that takes \"Mongo + Express + Angular + Node\" as the base of the stack. You can find frameworks with this stack that use other denomination, some of them really good for RAD (Rapid Application Development) and building SPAs. Eg:</p>\n\n<ul>\n<li><strong><a href=\"https://www.meteor.com/\">Meteor</a></strong>. Now with official <a href=\"http://angular-meteor.com/\">Angular support</a>, represents a <a href=\"http://info.meteor.com/blog/thoughts-on-angular-meteor-as-a-great-mean-stack\">great MEAN stack</a> </li>\n<li><a href=\"http://strongloop.com/mobile-application-development/loopback/\">StrongLoop Loopback</a> (main Node.js core contributors and <a href=\"http://strongloop.com/strongblog/tj-holowaychuk-sponsorship-of-express/\">Express maintainers</a>)</li>\n<li><a href=\"https://github.com/DaftMonk/generator-angular-fullstack\">Generator Angular Fullstack</a></li>\n<li><a href=\"http://www.quora.com/Node-js/Should-I-use-a-MEAN-stack-or-Angular-+-Sails-js-for-a-node-js-powered-back-end-structure-or-framework\">Sails.js</a></li>\n<li><a href=\"http://cleverstack.io/\">Cleverstack</a></li>\n<li>Deployd, etc (there are more)</li>\n</ul>\n\n<p>You also have <a href=\"https://github.com/sahat/hackathon-starter\">Hackathon Starter</a>. It doesn't have A of MEAN (it is 'MEN'), but it rocks..</p>\n\n<p>Have fun!</p>\n", "title": "Difference between MEAN.js and MEAN.io", "answer_id": 23206972, "question_id": 23199392, "tags": ["javascript", "node.js", "angularjs", "web-applications", "mean-stack"]}, {"body": "<p>First of all, <strong>MEAN</strong> stands for <strong>MongoDB</strong>, <strong>Express</strong>, <strong>Angular</strong> and <strong>Node.js</strong>. It <em>generically</em> identifies the combined used of these technologies. There is <strong>no</strong> such a thing as \"<strong>THE</strong> MEAN framework\".</p>\n\n<p><a href=\"http://www.linkedin.com/in/liorkesos\">Lior Kesos</a> at <a href=\"http://www.linnovate.net\">Linnovate</a> took advantage of this confusion. He bought the domain MEAN.io and put some code at <a href=\"https://github.com/linnovate/mean\">https://github.com/linnovate/mean</a></p>\n\n<p>They luckily received a lot of publicity. In the Internet lately there are more and more articles and video about MEAN. When you Google \"mean framework\" mean.io is the first in the list.</p>\n\n<p>Unfortunately the code at <a href=\"https://github.com/linnovate/mean\">https://github.com/linnovate/mean</a> seemed <em>poorly engineered</em>. In February I felt in the trap. The site mean.io had a catchy design and the Github repo had 1000+ stars. The idea of questioning the quality did not even pass through my mind. I started experimenting with it but it did not take too long to stumble in things that were not working and puzzling pieces of code. The commit history was also pretty concerning. They reengineered the code and directory structure multiple times and merging the new changes is too time consuming.</p>\n\n<p>The nice things about both mean.io and mean.js code is that they come with Bootstrap integration. They also come with Facebook, Github, Linkedin etc authentication through <a href=\"http://passportjs.org/\">PassportJs</a> and an example of a model (Article) on the backend on MongoDB that sync with the frontend model with AngularJS.</p>\n\n<p>According to Linnovate's website: </p>\n\n<blockquote>\n  <p>Linnovate is the leading Open Source company in Israel, with the most\n  experienced team in the country, dedicated to the creation of high-end\n  open source solutions. Linnovate is the only company in Israel which\n  gives an A-Z services for enterprises for building and maintaining\n  their next web project.</p>\n</blockquote>\n\n<p>From the website it looks like that their core skill set is Drupal (a PHP content management system) and only lately they started using Node.js and AngularJS.</p>\n\n<p>Lately I was reading the <a href=\"http://blog.meanjs.org/post/76726660228/forking-out-of-an-open-source-conflict\">Mean.js Blog</a> and things became clearer. My understanding is that the main Javascript developer (Amos Haviv) left Linnovate to work on Mean.js leaving MEAN.io project with people that are novice Node.js developers that are slowing understanding how things are supposed to work.</p>\n\n<p>In the future things may change but for now I would avoid to use mean.io. If you are looking for a boilerplate for a quickstart Mean.js seems a better option than mean.io.</p>\n", "title": "Difference between MEAN.js and MEAN.io", "answer_id": 23306356, "question_id": 23199392, "tags": ["javascript", "node.js", "angularjs", "web-applications", "mean-stack"]}, {"body": "<p>Here is a side-by-side comparison of several application starters/generators and other technologies including MEAN.js, MEAN.io, and cleverstack.  I keep adding alternatives as I find time and as that happens, the list of potentially provided benefits keeps growing too.  Today it's up to around 1600.  If anyone wants to help improve its accuracy or completeness, click the next link and do a questionnaire about something you know.</p>\n\n<p><a href=\"http://www.dancancro.com/technology-questionnaires/\" rel=\"nofollow\">Compare app technologies project</a></p>\n\n<p>From this database, the system generates reports like the following:</p>\n\n<p><a href=\"http://dancancro.com/meanio_vs_meanjs.html\" rel=\"nofollow\">MeanJS vs MeanIO trade-off report</a></p>\n", "title": "Difference between MEAN.js and MEAN.io", "answer_id": 24441248, "question_id": 23199392, "tags": ["javascript", "node.js", "angularjs", "web-applications", "mean-stack"]}, {"body": "<p>I'm surprised nobody has mentioned the Yeoman generator <a href=\"https://github.com/DaftMonk/generator-angular-fullstack\">angular-fullstack</a>.\nIt is the number one Yeoman community generator, with currently 1490 stars on the <a href=\"http://yeoman.io/generators/\">generator page</a> vs Mean.js' 81 stars (admittedly not a fair comparison given how new MEANJS is).  It is appears to be actively maintained and is in version 2.05 as I write this.  Unlike MEANJS, it doesn't use Swig for templating.  It can be scaffolded with passport built in.</p>\n", "title": "Difference between MEAN.js and MEAN.io", "answer_id": 24907475, "question_id": 23199392, "tags": ["javascript", "node.js", "angularjs", "web-applications", "mean-stack"]}, {"body": "<p><a href=\"https://docs.google.com/spreadsheets/d/1r8rJy2Q5p5QORYKcye93UECwOlSgFL24c5fyF7dqhaM/edit#gid=239778472\" rel=\"nofollow\">The Starter Trade-offs sheet</a> of my comparison spreadsheet has comprehensive one-on-one comparisons between each generator.  So no more need to distortedly cherry-pick great things to say about your favorite.  </p>\n\n<p>Here is the one between generator-angular-fullstack and MEAN.js.  The percentages are values for each benefit based on my personal weightings, where a perfect generator would be 100% </p>\n\n<p>generator- angular- fullstack offers 8% that MEANJS.org doesn't</p>\n\n<ul>\n<li>1.9% Client-side end-to-end tests<br/></li>\n<li>0.6% factory<br/></li>\n<li>0.5% provider<br/></li>\n<li>0.4% SASS<br/></li>\n<li>0.4% LESS<br/></li>\n<li>0.4% Compass<br/></li>\n<li>0.4% decorator<br/></li>\n<li>0.4% Endpoint subgenerator<br/></li>\n<li>0.4% Comments<br/></li>\n<li>0.3% FontAwesome<br/></li>\n<li>0.3% Run server in debug mode<br/></li>\n<li>0.3% Save generator answers to a file<br/></li>\n<li>0.2% constant<br/></li>\n<li>0.2% Development build script: ...... replace 3rd party deps with CDN versions<br/></li>\n<li>0.2% Authentication - Cookie<br/></li>\n<li>0.2% Authentication - JSON Web Token (JWT)<br/></li>\n<li>0.2% Server-side logging<br/></li>\n<li>0.1% Development build script: run tasks in parallel to speed it up<br/></li>\n<li>0.1% Development build script: Renames asset files to prevent browser caching<br/></li>\n<li>0.1% Development build script: run end to end tests<br/></li>\n<li>0.1% Production build script: safe pre-minification<br/></li>\n<li>0.1% Production build script: add CSS vendor prefixes<br/></li>\n<li>0.1% Heroku deployment automation<br/></li>\n<li>0.1% value<br/></li>\n<li>0.1% Jade<br/></li>\n<li>0.1% Coffeescript<br/></li>\n<li>0.1% Serverside authenticated route restriction<br/></li>\n<li>0.1% SASS version of Twitter Bootstrap<br/></li>\n<li>0.1% Production build script: compress images<br/></li>\n<li>0.1% OpenShift deployment automation<br/></li>\n</ul>\n\n<p>MeanJS.org. offers 9% that generator-angular-fullstack doesn't</p>\n\n<ul>\n<li>3.7% Dedicated/searchable user group: response time mostly under a day<br/></li>\n<li>0.4% Generate routes<br/></li>\n<li>0.4% Authentication - Oauth<br/></li>\n<li>0.4% config<br/></li>\n<li>0.4% i18n, localization<br/></li>\n<li>0.4% Input application profile<br/></li>\n<li>0.3% FEATURE (a.k.a. module, entity, crud-mock)<br/></li>\n<li>0.3% Menus system<br/></li>\n<li>0.3% Options for making subcomponents<br/></li>\n<li>0.3% test - client side<br/></li>\n<li>0.3% Javascript performance thing<br/></li>\n<li>0.3% Production build script: make static pages for SEO<br/></li>\n<li>0.2% Quick install?<br/></li>\n<li>0.2% Dedicated/searchable user group<br/></li>\n<li>0.1% Development build script: reload build file upon change<br/></li>\n<li>0.1% Development build script: coffee files compiled to JS<br/></li>\n<li>0.1% controller - server side<br/></li>\n<li>0.1% model - server side<br/></li>\n<li>0.1% route - server side<br/></li>\n<li>0.1% test - server side<br/></li>\n<li>0.1% Swig<br/></li>\n<li>0.1% Safe from IP Spoofing<br/></li>\n<li>0.1% Production build script: uglification<br/></li>\n<li>0.0% Approach to views: URLs start with \"#!\"<br/></li>\n<li>0.0% Approach to frontend services and ajax calls: uses $resource<br/></li>\n</ul>\n\n<p>Here is the one between MEAN.io and MEAN.js in a more readable format</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;table border=\"1\" cellpadding=\"10\"&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td valign=\"top\" width=\"33%\"&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt;MeanJS.org. provides these benefits that MEAN.io. doesn't&lt;/h1&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;Help&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Dedicated/searchable user group for questions, using github issues&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* There's a book about it&lt;br&gt;&lt;b&gt;File Organization&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Basic sourcecode organization, module(-&amp;gt;submodule)-&amp;gt;side&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Module directories hold directives&lt;br&gt;&lt;b&gt;Code Modularization&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to AngularJS modules, Only one module definition per file&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to AngularJS modules, Don\u2019t alter a module other than where it is defined&lt;br&gt;&lt;b&gt;Model&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Object-relational mapping&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Server-side validation, server-side example&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Client side validation, using Angular 1.3&lt;br&gt;&lt;b&gt;View&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to AngularJS views, Directives start with \"data-\"&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to data readiness, Use ng-init&lt;br&gt;&lt;b&gt;Control&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to frontend routing or state changing, URLs start with '#!'&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to frontend routing or state changing, Use query parameters to store route state&lt;br&gt;&lt;b&gt;Support for things&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Languages, LESS&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Languages, SASS&lt;br&gt;&lt;b&gt;Syntax, language and coding&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* JavaScript 5 best practices, Don't use \"new\"&lt;br&gt;&lt;b&gt;Testing&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Testing, using Mocha&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* End-to-end tests&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* End-to-end tests, using Protractor&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Continuous integration (CI), using Travis&lt;br&gt;&lt;b&gt;Development and debugging&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Command line interface (CLI), using Yeoman&lt;br&gt;&lt;b&gt;Build&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Build configurations file(s)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Deployment automation, using Azure&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Deployment automation, using Digital Ocean, screencast of it&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Deployment automation, using Heroku, screencast of it&lt;br&gt;&lt;b&gt;Code Generation&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Input application profile&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Quick install?&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Options for making subcomponents&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* config generator&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* controller (client side) generator&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* directive generator&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* filter generator&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* route (client side) generator&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* service (client side) generator&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* test - client side&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* view or view partial generator&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* controller (server side) generator&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* model (server side) generator&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* route (server side) generator&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* test (server side) generator&lt;br&gt;&lt;b&gt;Implemented Functionality&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Account Management, Forgotten Password with Resetting&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Chat&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* CSV processing&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* E-mail sending system&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* E-mail sending system, using Nodemailer&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* E-mail sending system, using its own e-mail implementation&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Menus system, state-based&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Paypal integration&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Responsive design&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Social connections management page&lt;br&gt;&lt;b&gt;Performance&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Creates a favicon&lt;br&gt;&lt;b&gt;Security&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Safe from IP Spoofing&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Authorization, Access Contol List (ACL)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Authentication, Cookie&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Websocket and RESTful http share security policies&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/td&gt;&lt;td valign=\"top\" width=\"33%\"&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt;MEAN.io. provides these benefits that MeanJS.org. doesn't&lt;/h1&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;Quality&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Sponsoring company&lt;br&gt;&lt;b&gt;Help&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Docs with flatdoc&lt;br&gt;&lt;b&gt;Code Modularization&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Share code between projects&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Module manager&lt;br&gt;&lt;b&gt;View&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to data readiness, Use state.resolve()&lt;br&gt;&lt;b&gt;Control&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to frontend code loading, Use AMD with Require.js&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to frontend code loading, using wiredep&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to error handling, Server-side logging&lt;br&gt;&lt;b&gt;Client/Server Communication&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Centralized event handling&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to XHR calls, using $http and $q&lt;br&gt;&lt;b&gt;Syntax, language and coding&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* JavaScript 5 best practices, Wrap code in an IIFE (SEAF, SIAF)&lt;br&gt;&lt;b&gt;Development and debugging&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* API introspection report and testing interface, using Swagger&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Command line interface (CLI), using Independent command line interface&lt;br&gt;&lt;b&gt;Build&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Development build, add IIFEs (SEAF, SIAF) to executable copies of code&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Deployment automation&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Deployment automation, using Heroku&lt;br&gt;&lt;b&gt;Code Generation&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Scaffolding undo&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(mean package -d &amp;lt;name&amp;gt;)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* FEATURE (a.k.a. module, entity) generator, Menu items added for new features&lt;br&gt;&lt;b&gt;Implemented Functionality&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Admin page for users and roles&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Content Management System&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(Use special data-bound directives in your templates.&lt;br&gt;Switch to edit mode and you can edit the values right where you see them)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* File Upload&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* i18n, localization&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Menus system, submenus&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Search&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Search, actually works with backend API&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Search, using Elastic Search&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Styles, using Bootstrap, using UI Bootstrap AngularJS directives&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Text (WYSIWYG) Editor&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Text (WYSIWYG) Editor, using medium-editor&lt;br&gt;&lt;b&gt;Performance&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Instrumentation, server-side&lt;br&gt;&lt;b&gt;Security&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Serverside authenticated route restriction&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Authentication, using Oauth, Link multiple Oauth strategies to one account&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Authentication, JSON Web Token (JWT)&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/td&gt;&lt;td valign=\"top\" width=\"33%\"&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt;MEAN.io. and MeanJS.org. both provide these benefits&lt;/h1&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;Quality&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Version Control, using git&lt;br&gt;&lt;b&gt;Platforms&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Client-side JS Framework, using AngularJS&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Frontend Server/ Framework, using Node.JS&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Frontend Server/ Framework, using Node.JS, using Express&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* API Server/ Framework, using NodeJS&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* API Server/ Framework, using NodeJS, using Express&lt;br&gt;&lt;b&gt;Help&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Dedicated/searchable user group for questions&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Dedicated/searchable user group for questions, using Google Groups&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Dedicated/searchable user group for questions, using Facebook&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Dedicated/searchable user group for questions, response time mostly under a day&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Example application&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Tutorial screencast in English&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Tutorial screencast in English, using Youtube&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Dedicated chatroom&lt;br&gt;&lt;b&gt;File Organization&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Basic sourcecode organization, module(-&amp;gt;submodule)-&amp;gt;side, with type subfolders&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Module directories hold controllers&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Module directories hold services&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Module directories hold templates&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Module directories hold unit tests&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Separate route configuration files for each module&lt;br&gt;&lt;b&gt;Code Modularization&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Modularized Functionality&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to AngularJS modules, No global 'app' module variable&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to AngularJS modules, No global 'app' module variable without an IIFE&lt;br&gt;&lt;b&gt;Model&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Setup of persistent storage&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Setup of persistent storage, using NoSQL db&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Setup of persistent storage, using NoSQL db, using MongoDB&lt;br&gt;&lt;b&gt;View&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* No XHR calls in controllers&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Templates, using Angular directives&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to data readiness, prevents Flash of Unstyled/compiled Content (FOUC)&lt;br&gt;&lt;b&gt;Control&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to frontend routing or state changing, example of it&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to frontend routing or state changing, State-based routing&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to frontend routing or state changing, State-based routing, using ui-router&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to frontend routing or state changing, HTML5 Mode&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to frontend code loading, using angular.bootstrap()&lt;br&gt;&lt;b&gt;Client/Server Communication&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Serve status codes only as responses&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Accept nested, JSON parameters&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Add timer header to requests&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Support for signed and encrypted cookies&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Serve URLs based on the route definitions&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Can serve headers only&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to XHR calls, using JSON&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to XHR calls, using $resource (angular-resource)&lt;br&gt;&lt;b&gt;Support for things&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Languages, JavaScript (server side)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Languages, Swig&lt;br&gt;&lt;b&gt;Syntax, language and coding&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* JavaScript 5 best practices, Use 'use strict'&lt;br&gt;&lt;b&gt;Tool Configuration/customization&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Separate runtime configuration profiles&lt;br&gt;&lt;b&gt;Testing&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Testing, using Jasmine&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Testing, using Karma&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Client-side unit tests&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Continuous integration (CI)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Automated device testing, using Live Reload&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Server-side integration &amp;amp; unit tests&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Server-side integration &amp;amp; unit tests, using Mocha&lt;br&gt;&lt;b&gt;Development and debugging&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Command line interface (CLI)&lt;br&gt;&lt;b&gt;Build&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Build-time Dependency Management, using npm&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Build-time Dependency Management, using bower&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Build tool / Task runner, using Grunt&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Build tool / Task runner, using gulp&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Development build, script&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Development build, reload build script file upon change&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Development build, copy assets to build or dist or target folder&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Development build, html page processing&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Development build, html page processing, inject references by searching directories&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Development build, html page processing, inject references by searching directories, injects js references&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Development build, html page processing, inject references by searching directories, injects css references&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Development build, LESS/SASS/etc files are linted, compiled&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Development build, JavaScript style checking&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Development build, JavaScript style checking, using jshint or jslint&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Development build, run unit tests&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Production build, script&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Production build, concatenation (aggregation, globbing, bundling)&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(If you add debug:true to your config/env/development.js the will not be &lt;br&gt;uglified)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Production build, minification&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Production build, safe pre-minification, using ng-annotate&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Production build, uglification&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Production build, make static pages for SEO&lt;br&gt;&lt;b&gt;Code Generation&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* FEATURE (a.k.a. module, entity) generator&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(README.md&lt;br&gt;feature css&lt;br&gt;routes&lt;br&gt;controller&lt;br&gt;view&lt;br&gt;additional menu item)&lt;br&gt;&lt;b&gt;Implemented Functionality&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* 404 Page&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* 500 Page&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Account Management&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Account Management, register/login/logout&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Account Management, is password manager friendly&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Front-end CRUD&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Full-stack CRUD&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Full-stack CRUD, with Read&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Full-stack CRUD, with Create, Update and Delete&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Google Analytics&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Menus system&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Realtime data sync&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Realtime data sync, using socket.io&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Styles, using Bootstrap&lt;br&gt;&lt;b&gt;Performance&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Javascript performance thing&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Javascript performance thing, using lodash&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* One event-loop thread handles all requests&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Configurable response caching&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(Express plugin&lt;br&gt;&lt;b&gt;https&lt;/b&gt;://www.npmjs.org/package/apicache)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Clustered HTTP sessions&lt;br&gt;&lt;b&gt;Security&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* JavaScript obfuscation&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* https&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Authentication, using Oauth&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Authentication, Basic&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(With Passport or others)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Authentication, Digest&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(With Passport or others)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Authentication, Token&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(With Passport or others)&lt;br&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "Difference between MEAN.js and MEAN.io", "answer_id": 24932110, "question_id": 23199392, "tags": ["javascript", "node.js", "angularjs", "web-applications", "mean-stack"]}], "question_id": 23199392}, {"body": "<p>There are two files included in the <code>CSS</code> folder with .map file extensions. They are:</p>\n\n<pre><code>bootstrap-theme.css.map\nbootstrap.css.map\n</code></pre>\n\n<p>They appear to be minified files but I don't know what they are for.</p>\n", "title": "what are the .map files used for in Bootstrap 3.1?", "tags": ["twitter-bootstrap-3", "source-maps"], "answer_count": 4, "link": "http://stackoverflow.com/questions/21504611/what-are-the-map-files-used-for-in-bootstrap-3-1", "answers": [{"body": "<p>These are source maps.  Provide these alongside compressed source files; developer tools such as those in Firefox and Chrome will use them to allow debugging as if the code was not compressed.</p>\n", "title": "what are the .map files used for in Bootstrap 3.1?", "answer_id": 21504657, "question_id": 21504611, "tags": ["twitter-bootstrap-3", "source-maps"]}, {"body": "<p>From <a href=\"https://developers.google.com/chrome-developer-tools/docs/css-preprocessors\">Working with CSS preprocessors in Chrome DevTools</a>:</p>\n\n<blockquote>\n  <p>Many developers generate CSS style sheets using a CSS preprocessor, such as Sass, Less, or Stylus. Because the CSS files are generated, editing the CSS files directly is not as helpful.</p>\n  \n  <p>For preprocessors that support CSS source maps, DevTools lets you live-edit your preprocessor source files in the Sources panel, and view the results without having to leave DevTools or refresh the page. When you inspect an element whose styles are provided by a generated CSS file, the Elements panel displays a link to the original source file, not the generated .css file.</p>\n</blockquote>\n", "title": "what are the .map files used for in Bootstrap 3.1?", "answer_id": 21504707, "question_id": 21504611, "tags": ["twitter-bootstrap-3", "source-maps"]}, {"body": "<p>The bootstrap css can be generated by Less. The main purpose of map file is used to link the css source code to less source code in the chrome dev tool.\nAs we used to do .If we inspect the element in the chrome dev tool. you can see the source code of css.\nBut if include the map file in the page with bootstrap css file. you can see the less code which apply to the element style you want to inspect. </p>\n", "title": "what are the .map files used for in Bootstrap 3.1?", "answer_id": 24602582, "question_id": 21504611, "tags": ["twitter-bootstrap-3", "source-maps"]}, {"body": "<p>If you just want to get rid of the error, you can also delete this line in <code>bootstrap.css</code>:</p>\n\n<pre><code>/*# sourceMappingURL=bootstrap.css.map */\n</code></pre>\n", "title": "what are the .map files used for in Bootstrap 3.1?", "answer_id": 24834942, "question_id": 21504611, "tags": ["twitter-bootstrap-3", "source-maps"]}], "question_id": 21504611}, {"body": "<p>I want to use AutoLayout to size and layout a view in a manner that is reminiscent of UIImageView's aspect-fit content mode.</p>\n\n<p>I have a subview inside a container view in Interface Builder. The subview has some inherent aspect ratio which I wish to respect. The container view's size is unknown until runtime.</p>\n\n<p>If the container view's aspect ratio is wider than the subview, then I want the subview's height to equal the parent view's height.</p>\n\n<p>If the container view's aspect ratio is taller than the subview, then I want the subview's width to equal the parent view's width.</p>\n\n<p>In either case I wish the subview to be centered horizontally and vertically within the container view.</p>\n\n<p>Is there a way to achieve this using AutoLayout constraints in Xcode 6 or in previous version? Ideally using Interface Builder, but if not perhaps it is possible to define such constraints programmatically.</p>\n", "title": "Emulating aspect-fit behaviour using AutoLayout constraints in Xcode 6", "tags": ["ios", "objective-c", "xcode", "autolayout"], "answer_count": 5, "link": "http://stackoverflow.com/questions/25766747/emulating-aspect-fit-behaviour-using-autolayout-constraints-in-xcode-6", "answers": [{"body": "<p>You're not describing scale-to-fit; you're describing aspect-fit.  (I have edited your question in this regard.)  The subview becomes as large as possible while maintaining its aspect ratio and fitting entirely inside its parent.</p>\n\n<p>Anyway, you can do this with auto layout.  You can do it entirely in IB as of Xcode 5.1.  Let's start with some views:</p>\n\n<p><img src=\"http://i.stack.imgur.com/hHDxR.png\" alt=\"some views\"></p>\n\n<p>The light green view has an aspect ratio of 4:1.  The dark green view has an aspect ratio of 1:4.  I'm going to set up constraints so that the blue view fills the top half of the screen, the pink view fills the bottom half of the screen, and each green view expands as much as possible while maintaining its aspect ratio and fitting in its container.</p>\n\n<p>First, I'll create constraints on all four sides of the blue view.  I'll pin it to its nearest neighbor on each edge, with a distance of 0.  I make sure to turn off margins:</p>\n\n<p><img src=\"http://i.stack.imgur.com/Yo2JF.gif\" alt=\"blue constraints\"></p>\n\n<p>Note that I <strong>don't</strong> update the frame yet.  I find it easier to leave room between the views when setting up constraints, and just set the constants to 0 (or whatever) by hand.</p>\n\n<p>Next, I pin the left, bottom, and right edges of the pink view to its nearest neighbor.  I don't need to set up a top edge constraint because its top edge is already constrained to the bottom edge of the blue view.</p>\n\n<p><img src=\"http://i.stack.imgur.com/SPiNs.gif\" alt=\"pink constraints\"></p>\n\n<p>I also need an equal-heights constraint between the pink and blue views.  This will make them each fill half the screen:</p>\n\n<p><img src=\"http://i.stack.imgur.com/oelrv.gif\" alt=\"enter image description here\"></p>\n\n<p>If I tell Xcode to update all the frames now, I get this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/9fbwL.png\" alt=\"containers laid out\"></p>\n\n<p>So the constraints I've set up so far are correct.  I undo that and start work on the light green view.</p>\n\n<p>Aspect-fitting the light green view requires five constraints:</p>\n\n<ul>\n<li>A required-priority aspect ratio constraint on the light green view. You can create this constraint in a xib or storyboard with Xcode 5.1 or later.</li>\n<li>A required-priority constraint limiting the width of the light green view to be less than or equal to the width of its container.</li>\n<li>A high-priority constraint setting the width of the light green view to be equal to the width of its container.</li>\n<li>A required-priority constraint limiting the height of the light green view to be less than or equal to the height of its container.</li>\n<li>A high-priority constraint setting the height of the light green view to be equal to the height of its container.</li>\n</ul>\n\n<p>Let's consider the two width constraints.  The less-than-or-equal constraint, by itself, is not sufficient to determine the width of the light green view; many widths will fit the constraint.  Since there's ambiguity, autolayout will try to choose a solution that minimizes the error in the other (high-priority but not required) constraint.  Minimizing the error means making the width as close as possible to the container's width, while not violating the required less-than-or-equal constraint.</p>\n\n<p>The same thing happens with the height constraint.  And since the aspect-ratio constraint is also required, it can only maximize the size of the subview along one axis (unless the container happens to have the same aspect ratio as the subview).</p>\n\n<p>So first I create the aspect ratio constraint:</p>\n\n<p><img src=\"http://i.stack.imgur.com/4IhOw.gif\" alt=\"top aspect\"></p>\n\n<p>Then I create equal width and height constraints with the container:</p>\n\n<p><img src=\"http://i.stack.imgur.com/vycag.gif\" alt=\"top equal size\"></p>\n\n<p>I need to edit these constraints to be less-than-or-equal constraints:</p>\n\n<p><img src=\"http://i.stack.imgur.com/BC7rh.gif\" alt=\"top less than or equal size\"></p>\n\n<p>Next I need to create another set of equal width and height constraints with the container:</p>\n\n<p><img src=\"http://i.stack.imgur.com/U9HkM.gif\" alt=\"top equal size again\"></p>\n\n<p>And I need to make these new constraints less than required priority:</p>\n\n<p><img src=\"http://i.stack.imgur.com/I7DTE.gif\" alt=\"top equal not required\"></p>\n\n<p>Finally, you asked for the subview to be centered in its container, so I'll set up those constraints:</p>\n\n<p><img src=\"http://i.stack.imgur.com/4DTr1.gif\" alt=\"top centered\"></p>\n\n<p>Now, to test, I'll select the view controller and ask Xcode to update all the frames.  This is what I get:</p>\n\n<p><img src=\"http://i.stack.imgur.com/KmtoY.png\" alt=\"incorrect top layout\"></p>\n\n<p>Oops!  The subview has expanded to completely fill its container.  If I select it, I can see that in fact it's maintained its aspect ratio, but it's doing an aspect-<strong>fill</strong> instead of an aspect-<strong>fit</strong>.</p>\n\n<p>The problem is that on a less-than-or-equal constraint, it matters which view is at each end of the constraint, and Xcode has set up the constraint opposite from my expectation.  I could select each of the two constraints and reverse its first and second items.  Instead, I'll just select the subview and change the constraints to be greater-than-or-equal:</p>\n\n<p><img src=\"http://i.stack.imgur.com/Mh4XM.gif\" alt=\"fix top constraints\"></p>\n\n<p>Xcode updates the layout:</p>\n\n<p><img src=\"http://i.stack.imgur.com/sRvqg.png\" alt=\"correct top layout\"></p>\n\n<p>Now I do all the same things to the dark green view on the bottom.  I need to make sure its aspect ratio is 1:4 (Xcode resized it in a weird way since it didn't have constraints).  I won't show the steps again since they're the same.  Here's the result:</p>\n\n<p><img src=\"http://i.stack.imgur.com/kDj1r.png\" alt=\"correct top and bottom layout\"></p>\n\n<p>Now I can run it in the iPhone 4S simulator, which has a different screen size than IB used, and test rotation:</p>\n\n<p><img src=\"http://i.stack.imgur.com/HpA6w.gif\" alt=\"iphone 4s test\"></p>\n\n<p>And I can test in in the iPhone 6 simulator:</p>\n\n<p><img src=\"http://i.stack.imgur.com/OtBQ9.gif\" alt=\"iphone 6 test\"></p>\n\n<p>I've uploaded my final storyboard to <a href=\"https://gist.github.com/mayoff/d9320088ab4025c95e40\">this gist</a> for your convenience.</p>\n", "title": "Emulating aspect-fit behaviour using AutoLayout constraints in Xcode 6", "answer_id": 25768875, "question_id": 25766747, "tags": ["ios", "objective-c", "xcode", "autolayout"]}, {"body": "<p>Rob, your answer is awesome!\nI also know that this question is specifically about achieving this by using auto-layout. However, just as a reference, I'd like to show how this can be done in code. You set up the top and bottom views (blue and pink) just like Rob showed. Then you create a custom <code>AspectFitView</code>:</p>\n\n<p><strong>AspectFitView.h</strong>:</p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n\n@interface AspectFitView : UIView\n\n@property (nonatomic, strong) UIView *childView;\n\n@end\n</code></pre>\n\n<p><strong>AspectFitView.m</strong>:</p>\n\n<pre><code>#import \"AspectFitView.h\"\n\n@implementation AspectFitView\n\n- (void)setChildView:(UIView *)childView\n{\n    if (_childView) {\n        [_childView removeFromSuperview];\n    }\n\n    _childView = childView;\n\n    [self addSubview:childView];\n    [self setNeedsLayout];\n}\n\n- (void)layoutSubviews\n{\n    [super layoutSubviews];\n\n    if (_childView) {\n        CGSize childSize = _childView.frame.size;\n        CGSize parentSize = self.frame.size;\n        CGFloat aspectRatioForHeight = childSize.width / childSize.height;\n        CGFloat aspectRatioForWidth = childSize.height / childSize.width;\n\n        if ((parentSize.height * aspectRatioForHeight) &gt; parentSize.height) {\n            // whole height, adjust width\n            CGFloat width = parentSize.width * aspectRatioForWidth;\n            _childView.frame = CGRectMake((parentSize.width - width) / 2.0, 0, width, parentSize.height);\n        } else {\n            // whole width, adjust height\n            CGFloat height = parentSize.height * aspectRatioForHeight;\n            _childView.frame = CGRectMake(0, (parentSize.height - height) / 2.0, parentSize.width, height);\n        }\n    }\n}\n\n@end\n</code></pre>\n\n<p>Next, you change the class of the blue and pink views in the storyboard to be <code>AspectFitView</code>s. Finally you set two outlets to your viewcontroller <code>topAspectFitView</code> and <code>bottomAspectFitView</code> and set their <code>childView</code>s in <code>viewDidLoad</code>:</p>\n\n<pre><code>- (void)viewDidLoad {\n    [super viewDidLoad];\n\n    UIView *top = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 500, 100)];\n    top.backgroundColor = [UIColor lightGrayColor];\n\n    UIView *bottom = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 100, 500)];\n    bottom.backgroundColor = [UIColor greenColor];\n\n    _topAspectFitView.childView = top;\n    _bottomAspectFitView.childView = bottom;\n}\n</code></pre>\n\n<p>So it's not hard to do this in code and it is still very adaptable and works with variably-sized views and different aspect ratios.</p>\n\n<p><strong>Update July 2015</strong>: Find a demo app here: <a href=\"https://github.com/jfahrenkrug/SPWKAspectFitView\" rel=\"nofollow\">https://github.com/jfahrenkrug/SPWKAspectFitView</a> </p>\n", "title": "Emulating aspect-fit behaviour using AutoLayout constraints in Xcode 6", "answer_id": 26066314, "question_id": 25766747, "tags": ["ios", "objective-c", "xcode", "autolayout"]}, {"body": "<p>I needed a solution from the accepted answer, but executed from the code. The most elegant way I've found is using <a href=\"https://github.com/Masonry/Masonry\">Masonry framework</a>.</p>\n\n<pre><code>#import \"Masonry.h\"\n\n...\n\n[view mas_makeConstraints:^(MASConstraintMaker *make) {\n    make.width.equalTo(view.mas_height).multipliedBy(aspectRatio);\n    make.size.lessThanOrEqualTo(superview);\n    make.size.equalTo(superview).with.priorityHigh();\n    make.center.equalTo(superview);\n}];\n</code></pre>\n", "title": "Emulating aspect-fit behaviour using AutoLayout constraints in Xcode 6", "answer_id": 27943665, "question_id": 25766747, "tags": ["ios", "objective-c", "xcode", "autolayout"]}, {"body": "<p>I found myself wanting aspect-<strong>fill</strong> behavior so that a UIImageView would maintain its own aspect ratio and entirely fill the container view. Confusingly, my UIImageView was breaking BOTH high-priority equal-width and equal-height constraints (described in Rob's answer) and rendering at full resolution.</p>\n\n<p>The solution was simply to set the UIImageView's Content Compression Resistance Priority lower than the priority of the equal-width and equal-height constraints:</p>\n\n<p><img src=\"http://i.stack.imgur.com/LgjHR.png\" alt=\"Content Compression Resistance\"></p>\n", "title": "Emulating aspect-fit behaviour using AutoLayout constraints in Xcode 6", "answer_id": 30553584, "question_id": 25766747, "tags": ["ios", "objective-c", "xcode", "autolayout"]}, {"body": "<p>This is a port of @rob_mayoff's excellent answer to a code-centric approach, using <code>NSLayoutAnchor</code> objects and ported to Xamarin. For me, <code>NSLayoutAnchor</code> and related classes have made AutoLayout much easier to program:</p>\n\n<pre><code>public class ContentView : UIView\n{\n        public ContentView (UIColor fillColor)\n        {\n            BackgroundColor = fillColor;\n        }\n}\n\npublic class MyController : UIViewController \n{\n    public override void ViewDidLoad ()\n    {\n        base.ViewDidLoad ();\n\n        //Starting point:\n        var view = new ContentView (UIColor.White);\n\n        blueView = new ContentView (UIColor.FromRGB (166, 200, 255));\n        view.AddSubview (blueView);\n\n        lightGreenView = new ContentView (UIColor.FromRGB (200, 255, 220));\n        lightGreenView.Frame = new CGRect (20, 40, 200, 60);\n\n        view.AddSubview (lightGreenView);\n\n        pinkView = new ContentView (UIColor.FromRGB (255, 204, 240));\n        view.AddSubview (pinkView);\n\n        greenView = new ContentView (UIColor.Green);\n        greenView.Frame = new CGRect (80, 20, 40, 200);\n        pinkView.AddSubview (greenView);\n\n        //Now start doing in code the things that @rob_mayoff did in IB\n\n        //Make the blue view size up to its parent, but half the height\n        blueView.TranslatesAutoresizingMaskIntoConstraints = false;\n        var blueConstraints = new []\n        {\n            blueView.LeadingAnchor.ConstraintEqualTo(view.LayoutMarginsGuide.LeadingAnchor),\n            blueView.TrailingAnchor.ConstraintEqualTo(view.LayoutMarginsGuide.TrailingAnchor),\n            blueView.TopAnchor.ConstraintEqualTo(view.LayoutMarginsGuide.TopAnchor),\n            blueView.HeightAnchor.ConstraintEqualTo(view.LayoutMarginsGuide.HeightAnchor, (nfloat) 0.5)\n        };\n        NSLayoutConstraint.ActivateConstraints (blueConstraints);\n\n        //Make the pink view same size as blue view, and linked to bottom of blue view\n        pinkView.TranslatesAutoresizingMaskIntoConstraints = false;\n        var pinkConstraints = new []\n        {\n            pinkView.LeadingAnchor.ConstraintEqualTo(blueView.LeadingAnchor),\n            pinkView.TrailingAnchor.ConstraintEqualTo(blueView.TrailingAnchor),\n            pinkView.HeightAnchor.ConstraintEqualTo(blueView.HeightAnchor),\n            pinkView.TopAnchor.ConstraintEqualTo(blueView.BottomAnchor)\n        };\n        NSLayoutConstraint.ActivateConstraints (pinkConstraints);\n\n\n        //From here, address the aspect-fitting challenge:\n\n        lightGreenView.TranslatesAutoresizingMaskIntoConstraints = false;\n        //These are the must-fulfill constraints: \n        var lightGreenConstraints = new []\n        {\n            //Aspect ratio of 1 : 5\n            NSLayoutConstraint.Create(lightGreenView, NSLayoutAttribute.Height, NSLayoutRelation.Equal, lightGreenView, NSLayoutAttribute.Width, (nfloat) 0.20, 0),\n            //Cannot be larger than parent's width or height\n            lightGreenView.WidthAnchor.ConstraintLessThanOrEqualTo(blueView.WidthAnchor),\n            lightGreenView.HeightAnchor.ConstraintLessThanOrEqualTo(blueView.HeightAnchor),\n            //Center in parent\n            lightGreenView.CenterYAnchor.ConstraintEqualTo(blueView.CenterYAnchor),\n            lightGreenView.CenterXAnchor.ConstraintEqualTo(blueView.CenterXAnchor)\n        };\n        //Must-fulfill\n        foreach (var c in lightGreenConstraints) \n        {\n            c.Priority = 1000;\n        }\n        NSLayoutConstraint.ActivateConstraints (lightGreenConstraints);\n\n        //Low priority constraint to attempt to fill parent as much as possible (but lower priority than previous)\n        var lightGreenLowPriorityConstraints = new []\n         {\n            lightGreenView.WidthAnchor.ConstraintEqualTo(blueView.WidthAnchor),\n            lightGreenView.HeightAnchor.ConstraintEqualTo(blueView.HeightAnchor)\n        };\n        //Lower priority\n        foreach (var c in lightGreenLowPriorityConstraints) \n        {\n            c.Priority = 750;\n        }\n\n        NSLayoutConstraint.ActivateConstraints (lightGreenLowPriorityConstraints);\n\n        //Aspect-fit on the green view now\n        greenView.TranslatesAutoresizingMaskIntoConstraints = false;\n        var greenConstraints = new []\n        {\n            //Aspect ratio of 5:1\n            NSLayoutConstraint.Create(greenView, NSLayoutAttribute.Height, NSLayoutRelation.Equal, greenView, NSLayoutAttribute.Width, (nfloat) 5.0, 0),\n            //Cannot be larger than parent's width or height\n            greenView.WidthAnchor.ConstraintLessThanOrEqualTo(pinkView.WidthAnchor),\n            greenView.HeightAnchor.ConstraintLessThanOrEqualTo(pinkView.HeightAnchor),\n            //Center in parent\n            greenView.CenterXAnchor.ConstraintEqualTo(pinkView.CenterXAnchor),\n            greenView.CenterYAnchor.ConstraintEqualTo(pinkView.CenterYAnchor)\n        };\n        //Must fulfill\n        foreach (var c in greenConstraints) \n        {\n            c.Priority = 1000;\n        }\n        NSLayoutConstraint.ActivateConstraints (greenConstraints);\n\n        //Low priority constraint to attempt to fill parent as much as possible (but lower priority than previous)\n        var greenLowPriorityConstraints = new []\n        {\n            greenView.WidthAnchor.ConstraintEqualTo(pinkView.WidthAnchor),\n            greenView.HeightAnchor.ConstraintEqualTo(pinkView.HeightAnchor)\n        };\n        //Lower-priority than above\n        foreach (var c in greenLowPriorityConstraints) \n        {\n            c.Priority = 750;\n        }\n\n        NSLayoutConstraint.ActivateConstraints (greenLowPriorityConstraints);\n\n        this.View = view;\n\n        view.LayoutIfNeeded ();\n    }\n}\n</code></pre>\n", "title": "Emulating aspect-fit behaviour using AutoLayout constraints in Xcode 6", "answer_id": 35517289, "question_id": 25766747, "tags": ["ios", "objective-c", "xcode", "autolayout"]}], "question_id": 25766747}, {"body": "<p>From <a href=\"https://developer.android.com/preview/material/ui-widgets.html\">https://developer.android.com/preview/material/ui-widgets.html</a></p>\n\n<p>When we creating <code>RecyclerView.Adapter</code> we have to specify <code>ViewHolder</code> that will bind with that adapter.</p>\n\n<pre><code>public class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.ViewHolder&gt; {\n\n    private String[] mDataset;\n\n    public MyAdapter(String[] myDataset) {\n        mDataset = myDataset;\n    }\n\n    public static class ViewHolder extends RecyclerView.ViewHolder {\n        public TextView mTextView;\n        public ViewHolder(TextView v) {\n            super(v);\n            mTextView = v;\n        }\n    }\n\n    @Override\n    public MyAdapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.some_layout, parent, false);\n\n        //findViewById...\n\n        ViewHolder vh = new ViewHolder(v);\n        return vh;\n    }\n\n    @Override\n    public void onBindViewHolder(ViewHolder holder, int position) {\n        holder.mTextView.setText(mDataset[position]);\n    }\n\n    @Override\n    public int getItemCount() {\n        return mDataset.length;\n    }\n}\n</code></pre>\n\n<p>So, is it possible to create <code>RecyclerView</code> with multiple view type?</p>\n", "title": "How to create RecyclerView with multiple view type?", "tags": ["android", "user-interface", "recyclerview"], "answer_count": 8, "link": "http://stackoverflow.com/questions/26245139/how-to-create-recyclerview-with-multiple-view-type", "answers": [{"body": "<p>Yes, it's possible. Just implement <a href=\"https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html#getItemViewType(int)\">getItemViewType()</a>, and take care of the <code>viewType</code> parameter in <code>onCreateViewHolder()</code>.</p>\n\n<p>So you do something like:</p>\n\n<pre><code>public class MyAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\n    class ViewHolder0 extends RecyclerView.ViewHolder {\n        ...\n    }\n\n    class ViewHolder2 extends RecyclerView.ViewHolder {\n        ...\n    }\n\n    @Override\n    public int getItemViewType(int position) {\n        // Just as an example, return 0 or 2 depending on position\n        // Note that unlike in ListView adapters, types don't have to be contiguous\n        return position % 2 * 2;\n    }\n\n    @Override\n    public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n         switch (viewType) {\n             case 0: return new ViewHolder0(...);\n             case 2: return new ViewHolder2(...);\n             ...\n         }\n    }\n}\n</code></pre>\n", "title": "How to create RecyclerView with multiple view type?", "answer_id": 26245463, "question_id": 26245139, "tags": ["android", "user-interface", "recyclerview"]}, {"body": "<p>following Anton's solution, come up with this <code>ViewHolder</code> which holds/handles/delegates different type of layouts.\nBut not sure if the replacing new layout would work when the recycling view's <code>ViewHolder</code> is not type of the data roll in.</p>\n\n<p>So basically, \n<code>onCreateViewHolder(ViewGroup parent, int viewType)</code> is only called when new view layout is needed;</p>\n\n<p><code>getItemViewType(int position)</code> will be called for the <code>viewType</code>;</p>\n\n<p><code>onBindViewHolder(ViewHolder holder, int position)</code> is always called when recycling the view (new data is brought in and try to display with that <code>ViewHolder</code>).</p>\n\n<p>So when <code>onBindViewHolder</code> is called it needs to put in the right view layout and update the <code>ViewHolder</code>.</p>\n\n<p>Is the way correct to replacing the view layout for that <code>ViewHolder</code> to be brought in, or any problem? \nAppreciate any comment!</p>\n\n<pre><code>public int getItemViewType(int position) {\n    TypedData data = mDataSource.get(position);\n    return data.type;\n}\n\npublic ViewHolder onCreateViewHolder(ViewGroup parent, \n    int viewType) {\n    return ViewHolder.makeViewHolder(parent, viewType);\n}\n\npublic void onBindViewHolder(ViewHolder holder, \n    int position) {\n    TypedData data = mDataSource.get(position);\n    holder.updateData(data);\n}\n\n///\npublic static class ViewHolder extends \n    RecyclerView.ViewHolder {\n\n    ViewGroup mParentViewGroup;\n    View mCurrentViewThisViewHolderIsFor;\n    int mDataType;\n\n    public TypeOneViewHolder mTypeOneViewHolder;\n    public TypeTwoViewHolder mTypeTwoViewHolder;\n\n    static ViewHolder makeViewHolder(ViewGroup vwGrp, \n        int dataType) {\n        View v = getLayoutView(vwGrp, dataType);\n        return new ViewHolder(vwGrp, v, viewType);\n    }\n\n    static View getLayoutView(ViewGroup vwGrp, \n        int dataType) {\n        int layoutId = getLayoutId(dataType);\n        return LayoutInflater.from(vwGrp.getContext())\n                             .inflate(layoutId, null);\n    }\n\n    static int getLayoutId(int dataType) {\n        if (dataType == TYPE_ONE) {\n            return R.layout.type_one_layout;\n        } else if (dataType == TYPE_TWO) {\n            return R.layout.type_two_layout;\n        }\n    }\n\n    public ViewHolder(ViewGroup vwGrp, View v, \n        int dataType) {\n        super(v);\n        mDataType = dataType;\n        mParentViewGroup = vwGrp;\n        mCurrentViewThisViewHolderIsFor = v;\n\n        if (data.type == TYPE_ONE) {\n            mTypeOneViewHolder = new TypeOneViewHolder(v);\n        } else if (data.type == TYPE_TWO) {\n            mTypeTwoViewHolder = new TypeTwoViewHolder(v);\n        }\n    }\n\n    public void updateData(TypeData data) {\n        mDataType = data.type;\n        if (data.type == TYPE_ONE) {\n            mTypeTwoViewHolder = null;\n            if (mTypeOneViewHolder == null) {\n                View newView = getLayoutView(mParentViewGroup,\n                               data.type);\n\n                /**\n                 *  how to replace new view with \n                    the view in the parent \n                    view container ???\n                 */\n                replaceView(mCurrentViewThisViewHolderIsFor, \n                            newView);\n                mCurrentViewThisViewHolderIsFor = newView;\n\n                mTypeOneViewHolder = \n                    new TypeOneViewHolder(newView);\n            }\n            mTypeOneViewHolder.updateDataTypeOne(data);\n\n        } else if (data.type == TYPE_TWO){\n            mTypeOneViewHolder = null;\n            if (mTypeTwoViewHolder == null) {\n                View newView = getLayoutView(mParentViewGroup, \n                               data.type);\n\n                /**\n                 *  how to replace new view with \n                    the view in the parent view \n                    container ???\n                 */\n                replaceView(mCurrentViewThisViewHolderIsFor, \n                            newView);\n                mCurrentViewThisViewHolderIsFor = newView;\n\n                mTypeTwoViewHolder = \n                    new TypeTwoViewHolder(newView);\n            }\n            mTypeTwoViewHolder.updateDataTypeOne(data);\n        }\n    }\n}\n\npublic static void replaceView(View currentView, \n    View newView) {\n    ViewGroup parent = (ViewGroup)currentView.getParent();\n    if(parent == null) {\n        return;\n    }\n    final int index = parent.indexOfChild(currentView);\n    parent.removeView(currentView);\n    parent.addView(newView, index);\n}\n</code></pre>\n\n<p><strong>Edit:</strong> ViewHolder has member mItemViewType to hold the view</p>\n\n<p><strong>Edit:</strong> looks like in onBindViewHolder(ViewHolder holder, int position) the ViewHolder passed in has been picked up (or created) by looked at getItemViewType(int position) to make sure it is a match, so may not need to worry there that ViewHolder's type does not match the data[position]'s type.\nDoes anyone knows more how the ViewHolder in the onBindViewHolder() is picked up?</p>\n\n<p><strong>Edit:</strong> Looks like The recycle <code>ViewHolder</code> is picked by type, so no warrior there.</p>\n\n<p>Edit: <a href=\"http://wiresareobsolete.com/2014/09/building-a-recyclerview-layoutmanager-part-1/\" rel=\"nofollow\">http://wiresareobsolete.com/2014/09/building-a-recyclerview-layoutmanager-part-1/</a> answers this question.</p>\n\n<p>It gets the recycle <code>ViewHolder</code> like:</p>\n\n<pre><code>holder = getRecycledViewPool().getRecycledView(mAdapter.getItemViewType(offsetPosition));\n</code></pre>\n\n<p>or create new one if not find recycle <code>ViewHolder</code> of right type.</p>\n\n<pre><code>public ViewHolder getRecycledView(int viewType) {\n        final ArrayList&lt;ViewHolder&gt; scrapHeap = mScrap.get(viewType);\n        if (scrapHeap != null &amp;&amp; !scrapHeap.isEmpty()) {\n            final int index = scrapHeap.size() - 1;\n            final ViewHolder scrap = scrapHeap.get(index);\n            scrapHeap.remove(index);\n            return scrap;\n        }\n        return null;\n    }\n\nView getViewForPosition(int position, boolean dryRun) {\n    ......\n\n    if (holder == null) {\n            final int offsetPosition = mAdapterHelper.findPositionOffset(position);\n            if (offsetPosition &lt; 0 || offsetPosition &gt;= mAdapter.getItemCount()) {\n                throw new IndexOutOfBoundsException(\"Inconsistency detected. Invalid item \"\n                        + \"position \" + position + \"(offset:\" + offsetPosition + \").\"\n                        + \"state:\" + mState.getItemCount());\n            }\n\n            final int type = mAdapter.getItemViewType(offsetPosition);\n            // 2) Find from scrap via stable ids, if exists\n            if (mAdapter.hasStableIds()) {\n                holder = getScrapViewForId(mAdapter.getItemId(offsetPosition), type, dryRun);\n                if (holder != null) {\n                    // update position\n                    holder.mPosition = offsetPosition;\n                    fromScrap = true;\n                }\n            }\n            if (holder == null &amp;&amp; mViewCacheExtension != null) {\n                // We are NOT sending the offsetPosition because LayoutManager does not\n                // know it.\n                final View view = mViewCacheExtension\n                        .getViewForPositionAndType(this, position, type);\n                if (view != null) {\n                    holder = getChildViewHolder(view);\n                    if (holder == null) {\n                        throw new IllegalArgumentException(\"getViewForPositionAndType returned\"\n                                + \" a view which does not have a ViewHolder\");\n                    } else if (holder.shouldIgnore()) {\n                        throw new IllegalArgumentException(\"getViewForPositionAndType returned\"\n                                + \" a view that is ignored. You must call stopIgnoring before\"\n                                + \" returning this view.\");\n                    }\n                }\n            }\n            if (holder == null) { // fallback to recycler\n                // try recycler.\n                // Head to the shared pool.\n                if (DEBUG) {\n                    Log.d(TAG, \"getViewForPosition(\" + position + \") fetching from shared \"\n                            + \"pool\");\n                }\n                holder = getRecycledViewPool()\n                        .getRecycledView(mAdapter.getItemViewType(offsetPosition));\n                if (holder != null) {\n                    holder.resetInternal();\n                    if (FORCE_INVALIDATE_DISPLAY_LIST) {\n                        invalidateDisplayListInt(holder);\n                    }\n                }\n            }\n            if (holder == null) {\n                holder = mAdapter.createViewHolder(RecyclerView.this,\n                        mAdapter.getItemViewType(offsetPosition));\n                if (DEBUG) {\n                    Log.d(TAG, \"getViewForPosition created new ViewHolder\");\n                }\n            }\n        }\n        boolean bound = false;\n        if (mState.isPreLayout() &amp;&amp; holder.isBound()) {\n            // do not update unless we absolutely have to.\n            holder.mPreLayoutPosition = position;\n        } else if (!holder.isBound() || holder.needsUpdate() || holder.isInvalid()) {\n            if (DEBUG &amp;&amp; holder.isRemoved()) {\n                throw new IllegalStateException(\"Removed holder should be bound and it should\"\n                        + \" come here only in pre-layout. Holder: \" + holder);\n            }\n            final int offsetPosition = mAdapterHelper.findPositionOffset(position);\n            mAdapter.bindViewHolder(holder, offsetPosition);\n            attachAccessibilityDelegate(holder.itemView);\n            bound = true;\n            if (mState.isPreLayout()) {\n                holder.mPreLayoutPosition = position;\n            }\n        }\n\n        final ViewGroup.LayoutParams lp = holder.itemView.getLayoutParams();\n        final LayoutParams rvLayoutParams;\n        if (lp == null) {\n            rvLayoutParams = (LayoutParams) generateDefaultLayoutParams();\n            holder.itemView.setLayoutParams(rvLayoutParams);\n        } else if (!checkLayoutParams(lp)) {\n            rvLayoutParams = (LayoutParams) generateLayoutParams(lp);\n            holder.itemView.setLayoutParams(rvLayoutParams);\n        } else {\n            rvLayoutParams = (LayoutParams) lp;\n        }\n        rvLayoutParams.mViewHolder = holder;\n        rvLayoutParams.mPendingInvalidate = fromScrap &amp;&amp; bound;\n        return holder.itemView;\n}\n</code></pre>\n", "title": "How to create RecyclerView with multiple view type?", "answer_id": 27893098, "question_id": 26245139, "tags": ["android", "user-interface", "recyclerview"]}, {"body": "<p>If the layouts for view types are only a few and binding logics are simple, follow Anton's solution.<br>\nBut the code will be messy if you need to manage the complex layouts and binding logics.  </p>\n\n<p>I believe the following solution will be useful for someone who need to handle complex view types.</p>\n\n<p><strong>Base DataBinder class</strong>  </p>\n\n<pre><code>abstract public class DataBinder&lt;T extends RecyclerView.ViewHolder&gt; {\n\n    private DataBindAdapter mDataBindAdapter;\n\n    public DataBinder(DataBindAdapter dataBindAdapter) {\n        mDataBindAdapter = dataBindAdapter;\n    }\n\n    abstract public T newViewHolder(ViewGroup parent);\n\n    abstract public void bindViewHolder(T holder, int position);\n\n    abstract public int getItemCount();\n\n......\n\n}\n</code></pre>\n\n<p>The functions needed to define in this class are pretty much same as the adapter class when creating the single view type.<br>\nFor each view type, create the class by extending this DataBinder.  </p>\n\n<p><strong>Sample DataBinder class</strong>  </p>\n\n<pre><code>public class Sample1Binder extends DataBinder&lt;Sample1Binder.ViewHolder&gt; {\n\n    private List&lt;String&gt; mDataSet = new ArrayList();\n\n    public Sample1Binder(DataBindAdapter dataBindAdapter) {\n        super(dataBindAdapter);\n    }\n\n    @Override\n    public ViewHolder newViewHolder(ViewGroup parent) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(\n            R.layout.layout_sample1, parent, false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void bindViewHolder(ViewHolder holder, int position) {\n        String title = mDataSet.get(position);\n        holder.mTitleText.setText(title);\n    }\n\n    @Override\n    public int getItemCount() {\n        return mDataSet.size();\n    }\n\n    public void setDataSet(List&lt;String&gt; dataSet) {\n        mDataSet.addAll(dataSet);\n    }\n\n    static class ViewHolder extends RecyclerView.ViewHolder {\n\n        TextView mTitleText;\n\n        public ViewHolder(View view) {\n            super(view);\n            mTitleText = (TextView) view.findViewById(R.id.title_type1);\n        }\n    }\n}\n</code></pre>\n\n<p>In order to manage DataBinder classes, create adapter class.</p>\n\n<p><strong>Base DataBindAdapter class</strong>  </p>\n\n<pre><code>abstract public class DataBindAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\n\n    @Override\n    public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        return getDataBinder(viewType).newViewHolder(parent);\n    }\n\n    @Override\n    public void onBindViewHolder(RecyclerView.ViewHolder viewHolder, int position) {\n        int binderPosition = getBinderPosition(position);\n        getDataBinder(viewHolder.getItemViewType()).bindViewHolder(viewHolder, binderPosition);\n    }\n\n    @Override\n    public abstract int getItemCount();\n\n    @Override\n    public abstract int getItemViewType(int position);\n\n    public abstract &lt;T extends DataBinder&gt; T getDataBinder(int viewType);\n\n    public abstract int getPosition(DataBinder binder, int binderPosition);\n\n    public abstract int getBinderPosition(int position);\n\n......\n\n}\n</code></pre>\n\n<p>Create the class by extending this base class, and then instantiate DataBinder classes and override abstract methods</p>\n\n<ol>\n<li><p>getItemCount<br>\nReturn the total item count of DataBinders</p></li>\n<li><p>getItemViewType<br>\nDefine the mapping logic between the adapter position and view type.</p></li>\n<li><p>getDataBinder<br>\nReturn the DataBinder instance based on the view type</p></li>\n<li><p>getPosition<br>\nDefine convert logic to the adapter position from the position in the specified DataBinder</p></li>\n<li><p>getBinderPosition<br>\nDefine convert logic to the position in the DataBinder from the adapter position</p></li>\n</ol>\n\n<p>Hope this solution will be helpful.<br>\nI left more detail solution and samples in GitHub, so please refer the following link if you need.<br>\n<a href=\"https://github.com/yqritc/RecyclerView-MultipleViewTypesAdapter\">https://github.com/yqritc/RecyclerView-MultipleViewTypesAdapter</a>  </p>\n", "title": "How to create RecyclerView with multiple view type?", "answer_id": 29394173, "question_id": 26245139, "tags": ["android", "user-interface", "recyclerview"]}, {"body": "<p>The below is not pseudocode and I have tested it and it has worked for me.</p>\n\n<p>I wanted to create a headerview in my recyclerview and then display a list of pictures below the header which the user can click on. </p>\n\n<p>I used a few switches in my code, don't know if that is the most efficient way to do this so feel free to give your comments:</p>\n\n<pre><code>   public class ViewHolder extends RecyclerView.ViewHolder{\n\n        //These are the general elements in the RecyclerView\n        public TextView place;\n        public ImageView pics;\n\n        //This is the Header on the Recycler (viewType = 0)\n        public TextView name, description;\n\n        //This constructor would switch what to findViewBy according to the type of viewType\n        public ViewHolder(View v, int viewType) {\n            super(v);\n            if (viewType == 0) {\n                name = (TextView) v.findViewById(R.id.name);\n                decsription = (TextView) v.findViewById(R.id.description);\n            } else if (viewType == 1) {\n                place = (TextView) v.findViewById(R.id.place);\n                pics = (ImageView) v.findViewById(R.id.pics);\n            }\n        }\n    }\n\n\n    @Override\n    public ViewHolder onCreateViewHolder(ViewGroup parent,\n                                         int viewType)\n    {\n        View v;\n        ViewHolder vh;\n        // create a new view\n        switch (viewType) {\n            case 0: //This would be the header view in my Recycler\n                v = LayoutInflater.from(parent.getContext())\n                    .inflate(R.layout.recyclerview_welcome, parent, false);\n                vh = new ViewHolder(v,viewType);\n                return  vh;\n            default: //This would be the normal list with the pictures of the places in the world\n                v = LayoutInflater.from(parent.getContext())\n                        .inflate(R.layout.recyclerview_picture, parent, false);\n                vh = new ViewHolder(v, viewType);\n                v.setOnClickListener(new View.OnClickListener(){\n\n                    @Override\n                    public void onClick(View v) {\n                        Intent intent = new Intent(mContext, nextActivity.class);\n                        intent.putExtra(\"ListNo\",mRecyclerView.getChildPosition(v));\n                        mContext.startActivity(intent);\n                    }\n                });\n                return vh;\n        }\n    }\n\n    //Overriden so that I can display custom rows in the recyclerview\n    @Override\n    public int getItemViewType(int position) {\n        int viewType = 1; //Default is 1\n        if (position == 0) viewType = 0; //if zero, it will be a header view\n        return viewType;\n    }\n\n    @Override\n    public void onBindViewHolder(ViewHolder holder, int position) {\n        //position == 0 means its the info header view on the Recycler\n        if (position == 0) {\n            holder.name.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    Toast.makeText(mContext,\"name clicked\", Toast.LENGTH_SHORT).show();\n                }\n            });\n            holder.description.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    Toast.makeText(mContext,\"description clicked\", Toast.LENGTH_SHORT).show();\n                }\n            });\n            //this means it is beyond the headerview now as it is no longer 0. For testing purposes, I'm alternating between two pics for now\n        } else if (position &gt; 0) {\n           holder.place.setText(mDataset[position]);\n            if (position % 2 == 0) {\n               holder.pics.setImageDrawable(mContext.getResources().getDrawable(R.drawable.pic1));\n            }\n            if (position % 2 == 1) {\n                holder.pics.setImageDrawable(mContext.getResources().getDrawable(R.drawable.pic2));\n            }\n\n        }\n    }\n</code></pre>\n", "title": "How to create RecyclerView with multiple view type?", "answer_id": 29579718, "question_id": 26245139, "tags": ["android", "user-interface", "recyclerview"]}, {"body": "<p>I have a better solution which allows to create multiple view types in a declarative and type safe way. It\u2019s written in Kotlin which btw is really nice.</p>\n\n<p>Simple view holders for all required view types</p>\n\n\n\n<pre class=\"lang-scala prettyprint-override\"><code>class ViewHolderMedium(itemView: View) : RecyclerView.ViewHolder(itemView) {\n    val icon: ImageView = itemView.findViewById(R.id.icon) as ImageView\n    val label: TextView = itemView.findViewById(R.id.label) as TextView\n}\n</code></pre>\n\n<p>There is an abstraction of adapter data item. Note that a view type is represented by a hashCode of particular view holder class (KClass in Kotlin)</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>trait AdapterItem {\n   val viewType: Int\n   fun bindViewHolder(viewHolder: RecyclerView.ViewHolder)\n}\n\nabstract class AdapterItemBase&lt;T&gt;(val viewHolderClass: KClass&lt;T&gt;) : AdapterItem {\n   override val viewType: Int = viewHolderClass.hashCode()  \n   abstract fun bindViewHolder(viewHolder: T)\n   override fun bindViewHolder(viewHolder: RecyclerView.ViewHolder) {\n       bindViewHolder(viewHolder as T)\n   }\n}\n</code></pre>\n\n<p>Only <code>bindViewHolder</code> needs to be overriden in concrete adapter item classes (type safe way)</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>class AdapterItemMedium(val icon: Drawable, val label: String, val onClick: () -&gt; Unit) : AdapterItemBase&lt;ViewHolderMedium&gt;(ViewHolderMedium::class) {\n    override fun bindViewHolder(viewHolder: ViewHolderMedium) {\n        viewHolder.icon.setImageDrawable(icon)\n        viewHolder.label.setText(label)\n        viewHolder.itemView.setOnClickListener { onClick() }\n    }\n}\n</code></pre>\n\n<p>List of such <code>AdapterItemMedium</code> objects is a data source for the adapter which actually accepts <code>List&lt;AdapterItem&gt;</code> see below.</p>\n\n<p>Important part of this solution is a view holder factory which will provide fresh instances of a specific ViewHolder</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>class ViewHolderProvider {\n    private val viewHolderFactories = hashMapOf&lt;Int, Pair&lt;Int, Any&gt;&gt;()\n\n    fun provideViewHolder(viewGroup: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\n        val (layoutId: Int, f: Any) = viewHolderFactories.get(viewType)\n        val viewHolderFactory = f as (View) -&gt; RecyclerView.ViewHolder\n        val view = LayoutInflater.from(viewGroup.getContext()).inflate(layoutId, viewGroup, false)\n        return viewHolderFactory(view)\n    }\n\n    fun registerViewHolderFactory&lt;T&gt;(key: KClass&lt;T&gt;, layoutId: Int, viewHolderFactory: (View) -&gt; T) {\n        viewHolderFactories.put(key.hashCode(), Pair(layoutId, viewHolderFactory))\n    }\n}\n</code></pre>\n\n<p>And the simple adapter class looks like this</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>public class MultitypeAdapter(val items: List&lt;AdapterItem&gt;) : RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;() {\n\n   val viewHolderProvider = ViewHolderProvider() // inject ex Dagger2\n\n   init {\n        viewHolderProvider!!.registerViewHolderFactory(ViewHolderMedium::class, R.layout.item_medium, { itemView -&gt;\n            ViewHolderMedium(itemView)\n        })\n   }\n\n   override fun getItemViewType(position: Int): Int {\n        return items[position].viewType\n    }\n\n    override fun getItemCount(): Int {\n        return items.size()\n    }\n\n    override fun onCreateViewHolder(viewGroup: ViewGroup, viewType: Int): RecyclerView.ViewHolder? {\n        return viewHolderProvider!!.provideViewHolder(viewGroup, viewType)\n    }\n\n    override fun onBindViewHolder(viewHolder: RecyclerView.ViewHolder, position: Int) {\n        items[position].bindViewHolder(viewHolder)     \n    }\n}\n</code></pre>\n\n<p>Only 3 steps to create a new view type:</p>\n\n<ol>\n<li>create a view holder class</li>\n<li>create an adapter item class (extending from AdapterItemBase)</li>\n<li>register view holder class in <code>ViewHolderProvider</code></li>\n</ol>\n\n<p>Here is an example of this concept : <a href=\"https://github.com/michalfaber/android-drawer-template\" rel=\"nofollow\" title=\"GitHub\">android-drawer-template</a> \nIt goes even further - view type which act as a spinner component, selectable adapter items.  </p>\n", "title": "How to create RecyclerView with multiple view type?", "answer_id": 29697571, "question_id": 26245139, "tags": ["android", "user-interface", "recyclerview"]}, {"body": "<p>Yes, it is possible.</p>\n\n<p>Write a generic view holder:</p>\n\n<pre><code>    public abstract class GenericViewHolder extends RecyclerView.ViewHolder\n{\n    public GenericViewHolder(View itemView) {\n        super(itemView);\n    }\n\n    public abstract  void setDataOnView(int position);\n}\n</code></pre>\n\n<p>then create your view holders and make them extend the GenericViewHolder. For example, this one:</p>\n\n<pre><code>     public class SectionViewHolder extends GenericViewHolder{\n    public final View mView;\n    public final TextView dividerTxtV;\n\n    public SectionViewHolder(View itemView) {\n        super(itemView);\n        mView = itemView;\n        dividerTxtV = (TextView) mView.findViewById(R.id.dividerTxtV);\n    }\n\n    @Override\n    public void setDataOnView(int position) {\n        try {\n            String title= sections.get(position);\n            if(title!= null)\n                this.dividerTxtV.setText(title);\n        }catch (Exception e){\n            new CustomError(\"Error!\"+e.getMessage(), null, false, null, e);\n        }\n    }\n}\n</code></pre>\n\n<p>then the RecyclerView.Adapter class will look like this one:</p>\n\n<pre><code>public class MyClassRecyclerViewAdapter extends RecyclerView.Adapter&lt;MyClassRecyclerViewAdapter.GenericViewHolder&gt; {\n\n@Override\npublic int getItemViewType(int position) {\n     // depends on your problem\n     switch (position) {\n         case : return VIEW_TYPE1;\n         case : return VIEW_TYPE2;\n         ...\n     }\n}\n\n    @Override\n   public GenericViewHolder onCreateViewHolder(ViewGroup parent, int viewType)  {\n    View view;\n    if(viewType == VIEW_TYPE1){\n        view = LayoutInflater.from(parent.getContext()).inflate(R.layout.layout1, parent, false);\n        return new SectionViewHolder(view);\n    }else if( viewType == VIEW_TYPE2){\n        view = LayoutInflater.from(parent.getContext()).inflate(R.layout.layout2, parent, false);\n        return new OtherViewHolder(view);\n    }\n    // Cont. other view holders ...\n    return null;\n   }\n\n@Override\npublic void onBindViewHolder(GenericViewHolder holder, int position) {\n    holder.setDataOnView(position);\n}\n</code></pre>\n", "title": "How to create RecyclerView with multiple view type?", "answer_id": 34464367, "question_id": 26245139, "tags": ["android", "user-interface", "recyclerview"]}, {"body": "<p>There Too LAzy Solution are presented...\nTry this out very easy and quick solution to make multiple layout in Recycler view</p>\n\n<pre><code>public MyViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n\n    if(ChatFragment.isMe) {  // isMe is boolean static field in ChatFragment class\n        View view = inflater.inflate(R.layout.my_chat_layout, parent, false);\n        MyViewHolder holder = new MyViewHolder(view);\n        return holder;\n    }\n    else{\n        View view = inflater.inflate(R.layout.other_chat_layout, parent, false);\n        MyViewHolder holder = new MyViewHolder(view);\n        return holder;\n    }\n\n}` \n</code></pre>\n\n<p>use this when you need to change layout </p>\n\n<pre><code>public static Boolean isMe;\n</code></pre>\n\n<p>change isME( true  or false ) is upto you </p>\n", "title": "How to create RecyclerView with multiple view type?", "answer_id": 35780403, "question_id": 26245139, "tags": ["android", "user-interface", "recyclerview"]}, {"body": "<p>Actually, I'd like to improve on <a href=\"http://stackoverflow.com/a/26245463/6523288\">Anton's answer</a>.</p>\n\n<p>Since <code>getItemViewType(int position)</code> returns an integer value, you can return the layout resource ID you'd need to inflate. That way you'd save some logic in <code>onCreateViewHolder(ViewGroup parent, int viewType)</code> method.</p>\n\n<p>Also, I wouldn't suggest doing intensive calculations in <code>getItemCount()</code> as that particular function is called at least 5 times while rendering the list, as well as while rendering each item beyond the visible items. Sadly since <code>notifyDatasetChanged()</code> method is final, you can't really override it, but you can call it from another function within the adapter.</p>\n", "title": "How to create RecyclerView with multiple view type?", "answer_id": 38787146, "question_id": 26245139, "tags": ["android", "user-interface", "recyclerview"]}], "question_id": 26245139}, {"body": "<p>Is it possible for C++ code to conform to both the <a href=\"http://en.wikipedia.org/wiki/C++03\">C++03</a> standard and the <a href=\"http://en.wikipedia.org/wiki/C++11\">C++11</a> standard, but do different things depending on under which standard it is being compiled?</p>\n", "title": "Can C++ code be valid in both C++03 and C++11 but do different things?", "tags": ["c++", "c++11", "language-lawyer", "c++03"], "answer_count": 7, "link": "http://stackoverflow.com/questions/23047198/can-c-code-be-valid-in-both-c03-and-c11-but-do-different-things", "answers": [{"body": "<p>I point you to <a href=\"http://gustedt.wordpress.com/2013/12/15/a-disimprovement-observed-from-the-outside-right-angle-brackets/\">this article</a> and <a href=\"http://gustedt.wordpress.com/2013/12/18/right-angle-brackets-shifting-semantics/\">the follow-up</a>, which has a nice example of how <code>&gt;&gt;</code> can change meaning from C++03 to C++11 while still compiling in both.</p>\n\n<pre><code>bool const one = true;\nint const two = 2;\nint const three = 3;\n\ntemplate&lt;int&gt; struct fun {\n    typedef int two;\n};\n\ntemplate&lt;class T&gt; struct fon {\n    static int const three = ::three;\n    static bool const one = ::one;\n};\n\nint main(void) {\n    fon&lt; fun&lt; 1 &gt;&gt;::three &gt;::two &gt;::one; // valid for both  \n}\n</code></pre>\n\n<p>The key part is the line in <code>main</code>, which is an expression. </p>\n\n<h2>In C++03:</h2>\n\n<pre><code>1 &gt;&gt; ::three = 0\n=&gt; fon&lt; fun&lt; 0 &gt;::two &gt;::one;\n\nfun&lt; 0 &gt;::two = int\n=&gt; fon&lt; int &gt;::one\n\nfon&lt; int &gt;::one = true\n=&gt; true\n</code></pre>\n\n<h2>In C++11</h2>\n\n<pre><code>fun&lt; 1 &gt; is a type argument to fon\nfon&lt; fun&lt;1&gt; &gt;::three = 3\n=&gt; 3 &gt; ::two &gt; ::one\n\n::two is 2 and ::one is 1\n=&gt; 3 &gt; 2 &gt; 1\n=&gt; (3 &gt; 2) &gt; 1\n=&gt; true &gt; 1\n=&gt; 1 &gt; 1\n=&gt; false\n</code></pre>\n\n<p>Congratulations, two different results for the same expression. Granted, the C++03 one did come up with a warning form Clang when I tested it.</p>\n", "title": "Can C++ code be valid in both C++03 and C++11 but do different things?", "answer_id": 23048056, "question_id": 23047198, "tags": ["c++", "c++11", "language-lawyer", "c++03"]}, {"body": "<p>The answer is a definite yes. On the plus side there is:</p>\n\n<ul>\n<li>Code that previously implicitly copied objects will now implicitly move them when possible.</li>\n</ul>\n\n<p>On the negative side, several examples are listed in the appendix C of the standard. Even though there are many more negative ones than positive, each one of them is much less likely to occur.</p>\n\n<p><strong>String literals</strong></p>\n\n<pre><code>#define u8 \"abc\"\nconst char* s = u8\"def\"; // Previously \"abcdef\", now \"def\"\n</code></pre>\n\n<p>and</p>\n\n<pre><code>#define _x \"there\"\n\"hello \"_x // Previously \"hello there\", now a user defined string literal\n</code></pre>\n\n<p><strong>Type conversions of 0</strong></p>\n\n<p>In C++11, only literals are integer null pointer constants:</p>\n\n<pre><code>void f(void *); // #1\nvoid f(...); // #2\ntemplate&lt;int N&gt; void g() {\n    f(0*N); // Calls #2; used to call #1\n}\n</code></pre>\n\n<p><strong>Rounded results after integer division and modulo</strong></p>\n\n<p>In C++03 the compiler was allowed to either round towards 0 or towards negative infinity. In C++11 it is mandatory to round towards 0</p>\n\n<pre><code>int i = (-1) / 2; // Might have been -1 in C++03, is now ensured to be 0\n</code></pre>\n\n<p><strong>Whitespaces between nested template closing braces >> vs > ></strong></p>\n\n<p>Inside an specialization or instantiation the <code>&gt;&gt;</code> might instead be interpreted as an right-shift in C++03. This is more likely to break existing code though: (from <a href=\"http://gustedt.wordpress.com/2013/12/15/a-disimprovement-observed-from-the-outside-right-angle-brackets/\">http://gustedt.wordpress.com/2013/12/15/a-disimprovement-observed-from-the-outside-right-angle-brackets/</a>)</p>\n\n<pre><code>template&lt; unsigned len &gt; unsigned int fun(unsigned int x);\ntypedef unsigned int (*fun_t)(unsigned int);\ntemplate&lt; fun_t f &gt; unsigned int fon(unsigned int x);\n\nvoid total(void) {\n    // fon&lt;fun&lt;9&gt; &gt;(1) &gt;&gt; 2 in both standards\n    unsigned int A = fon&lt; fun&lt; 9 &gt; &gt;(1) &gt;&gt;(2);\n    // fon&lt;fun&lt;4&gt; &gt;(2) in C++03\n    // Compile time error in C++11\n    unsigned int B = fon&lt; fun&lt; 9 &gt;&gt;(1) &gt; &gt;(2);\n}\n</code></pre>\n\n<p><strong>Operator <code>new</code> may now throw other exceptions than <code>std::bad_alloc</code></strong></p>\n\n<pre><code>struct foo { void *operator new(size_t x){ throw std::exception(); } }\ntry {\n    foo *f = new foo();\ncatch (std::bad_alloc &amp;) {\n    // c++03 code\n} catch (std::exception &amp;) {\n    // c++11 code\n}\n</code></pre>\n\n<p><strong>User-declared destructors have an implicit exception specification</strong>\nexample from <a href=\"http://stackoverflow.com/questions/6399615/what-breaking-changes-are-introduced-in-c11\">What breaking changes are introduced in C++11?</a></p>\n\n<pre><code>struct A {\n    ~A() { throw \"foo\"; } // Calls std::terminate in C++11\n};\n//...\ntry { \n    A a; \n} catch(...) { \n    // C++03 will catch the exception\n} \n</code></pre>\n\n<p><strong><code>size()</code> of containers is now required to run in O(1)</strong></p>\n\n<pre><code>std::list&lt;double&gt; list;\n// ...\nsize_t s = list.size(); // Might be an O(n) operation in C++03\n</code></pre>\n\n<p><strong><code>std::ios_base::failure</code> does not derive from <code>std::exception</code> anymore</strong></p>\n\n<p>Code that expects it to derive directly from <code>std::exception</code> might behave differently.</p>\n", "title": "Can C++ code be valid in both C++03 and C++11 but do different things?", "answer_id": 23048287, "question_id": 23047198, "tags": ["c++", "c++11", "language-lawyer", "c++03"]}, {"body": "<p>One potentially dangerous backward-incompatible change is in constructors of sequence containers such as <code>std::vector</code>, specifically in the overload specifying initial size. Where in C++03, they copied a default-constructed element, in C++11 they default-construct each one.</p>\n\n<p>Consider this example (using <code>boost::shared_ptr</code> so that it's valid C++03):</p>\n\n<pre><code>#include &lt;deque&gt;\n#include &lt;iostream&gt;\n\n#include \"boost/shared_ptr.hpp\"\n\n\nstruct Widget\n{\n  boost::shared_ptr&lt;int&gt; p;\n\n  Widget() : p(new int(42)) {}\n};\n\n\nint main()\n{\n  std::deque&lt;Widget&gt; d(10);\n  for (size_t i = 0; i &lt; d.size(); ++i)\n    std::cout &lt;&lt; \"d[\" &lt;&lt; i &lt;&lt; \"] : \" &lt;&lt; d[i].p.use_count() &lt;&lt; '\\n';\n}\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/426fb7a77f020e4b\">C++03 Live example</a></p>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/201f0609fec61325\">C++11 Live example</a></p>\n\n<p>The reason is that C++03 specified one overload for both \"specify size and prototype element\" and \"specify size only,\" like this (allocator arguments omitted for brevity):</p>\n\n<pre><code>container(size_type size, const value_type &amp;prototype = value_type());\n</code></pre>\n\n<p>This will always copy <code>prototype</code> into the container <code>size</code> times. When called with just one argument, it will therefore create <code>size</code> copies of a default-constructed element.</p>\n\n<p>In C++11, this constructor signature was removed and replaced with these two overloads:</p>\n\n<pre><code>container(size_type size);\n\ncontainer(size_type size, const value_type &amp;prototype);\n</code></pre>\n\n<p>The second one works as before, creating <code>size</code> copies of the <code>prototype</code> element. However, the first one (which now handles calls with only the size argument specified) default-constructs each element individually.</p>\n\n<p>My guess for the reason of this change is that the C++03 overload wouldn't be usable with a move-only element type. But it's a breaking change none the less, and one seldom documented at that.</p>\n", "title": "Can C++ code be valid in both C++03 and C++11 but do different things?", "answer_id": 23053731, "question_id": 23047198, "tags": ["c++", "c++11", "language-lawyer", "c++03"]}, {"body": "<p>The result of a failed read from an <code>std::istream</code> has changed.  <a href=\"http://en.cppreference.com/w/cpp/io/basic%5fistream/operator%5fgtgt\">CppReference</a> summarizes it nicely:</p>\n\n<blockquote>\n  <p>If extraction fails (e.g. if a letter was entered where a digit is expected), <code>value</code> is left unmodified and <code>failbit</code> is set. <strong>(until C++11)</strong></p>\n  \n  <p>If extraction fails, zero is written to <code>value</code> and <code>failbit</code> is set. If extraction results in the value too large or too small to fit in <code>value</code>, <code>std::numeric_limits&lt;T&gt;::max()</code> or <code>std::numeric_limits&lt;T&gt;::min()</code> is written and <code>failbit</code> flag is set. <strong>(since C++11)</strong></p>\n</blockquote>\n\n<p>This is primarily an issue if you are used to the new semantics and then have to write using C++03.  The following is not particularly good practice but well-defined in C++11:</p>\n\n<pre><code>int x, y;\nstd::cin &gt;&gt; x &gt;&gt; y;\nstd::cout &lt;&lt; x + y;\n</code></pre>\n\n<p>However, in C++03, the above code uses an uninitialized variable and thus has undefined behaviour.</p>\n", "title": "Can C++ code be valid in both C++03 and C++11 but do different things?", "answer_id": 23055151, "question_id": 23047198, "tags": ["c++", "c++11", "language-lawyer", "c++03"]}, {"body": "<p>This thread <a href=\"http://stackoverflow.com/a/6473994/809044\">What differences, if any, between C++03 and C++0x can be detected at run-time</a> has examples (copied from that thread) to determine language differences, for example by exploiting C++11 reference collapsing:</p>\n\n<pre><code>template &lt;class T&gt; bool f(T&amp;) {return true; } \ntemplate &lt;class T&gt; bool f(...){return false;} \n\nbool isCpp11() \n{\n    int v = 1;\n    return f&lt;int&amp;&gt;(v); \n}\n</code></pre>\n\n<p>and c++11 allowing local types as template parameters:</p>\n\n<pre><code>template &lt;class T&gt; bool cpp11(T)  {return true;} //T cannot be a local type in C++03\n                   bool cpp11(...){return false;}\n\nbool isCpp0x() \n{\n   struct local {} var; //variable with local type\n   return cpp11(var);\n}\n</code></pre>\n", "title": "Can C++ code be valid in both C++03 and C++11 but do different things?", "answer_id": 23063891, "question_id": 23047198, "tags": ["c++", "c++11", "language-lawyer", "c++03"]}, {"body": "<p>Yes, there are number of changes that will cause the same code to result in different behavior between C++03 and C++11. The sequencing rules differences make for some interesting changes including some previously undefined behavior becoming well defined.</p>\n\n<p><B>1. multiple mutations of the same variable within an initializer list</B></p>\n\n<p>One very interesting corner case would multiple mutations of the same variable within an initializer list, for example:</p>\n\n<pre><code>int main()\n{\n    int count = 0 ;\n    int arrInt[2] = { count++, count++ } ;\n\n    return 0 ;\n}\n</code></pre>\n\n<p>In both C++03 and C++11 this is well defined but the <a href=\"http://stackoverflow.com/questions/19881803/are-multiple-mutations-of-the-same-variable-within-initializer-lists-undefined-b\">order of evaluation in C++03 is unspecified</a> but in <a href=\"http://stackoverflow.com/questions/14442894/are-multiple-mutations-within-initializer-lists-undefined-behavior\">C++11 they are evaluated in the order in which they appear</a>. So if we compile using <code>clang</code> in C++03 mode it provide the following warning (<em><a href=\"http://coliru.stacked-crooked.com/a/906eb652c8852d7a\">see it live</a></em>):</p>\n\n<pre><code>warning: multiple unsequenced modifications to 'count' [-Wunsequenced]\n\n    int arrInt[2] = { count++, count++ } ;\n\n                           ^        ~~\n</code></pre>\n\n<p>but does not provide a warning in C++11 (<em><a href=\"http://coliru.stacked-crooked.com/a/f64b518da84ecc4e\">see it live</a></em>).</p>\n\n<p><B>2. New sequencing rules make i = ++ i + 1; well defined in C++11 </B></p>\n\n<p>The new sequencing rules adopted after C++03 means that:</p>\n\n<pre><code>int i = 0 ;\ni = ++ i + 1;\n</code></pre>\n\n<p>is no longer undefined behavior in C++11, this is covered in <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/cwg_defects.html#637\">defect report 637. Sequencing rules and example disagree </a></p>\n\n<p><B>3. New sequencing rules also make ++++i ; well defined in C++11 </B></p>\n\n<p>The new sequencing rules adopted after C++03 means that:</p>\n\n<pre><code>int i = 0 ;\n++++i ;\n</code></pre>\n\n<p>is no longer undefined behavior in C++11.</p>\n\n<p><B>4. Slightly More Sensible Signed Left-Shifts</B></p>\n\n<p>Later drafts of C++11 include <code>N3485</code> which I link below <a href=\"http://blog.regehr.org/archives/738\">fixed the undefined behavior of shifting a 1 bit into or past the sign bit</a>. This is also covered in <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2012/n3367.html#1457\">defect report 1457</a>. Howard Hinnant commented on the significance of this change in the thread on <a href=\"http://stackoverflow.com/questions/19593938/is-left-shifting-a-negative-integer-undefined-behavior-in-c11#comment29091986_19593938\">Is left-shifting (&lt;&lt;) a negative integer undefined behavior in C++11?</a>. </p>\n\n<p><B>5. constexpr functions can be treated as compile time constant expressions in C++11</B></p>\n\n<p>C++11 introduced <a href=\"http://en.cppreference.com/w/cpp/language/constexpr\">constexpr</a> functions which:</p>\n\n<blockquote>\n  <p>The constexpr specifier declares that it is possible to evaluate the value of the function or variable at compile time. Such variables and functions can then be used where only compile time constant expressions are allowed. </p>\n</blockquote>\n\n<p>while C++03 does not have the <em>constexpr</em> feature we don't have to explicitly use the <em>constexpr</em> keyword since the standard library provides many functions in C++11 as <em>constexpr</em>. For example <a href=\"http://en.cppreference.com/w/cpp/types/numeric_limits/min\">std::numeric_limits::min</a>. Which can lead to different behavior, for example:</p>\n\n<pre><code>#include &lt;limits&gt;\n\nint main()\n{\n    int x[std::numeric_limits&lt;unsigned int&gt;::min()+2] ;\n}\n</code></pre>\n\n<p>Using <code>clang</code> in C++03 this will cause <code>x</code> to be a variable length array, which is <a href=\"http://clang.llvm.org/compatibility.html#vla\">an extension</a> and will generate the following warning:</p>\n\n<pre><code>warning: variable length arrays are a C99 feature [-Wvla-extension]\n    int x[std::numeric_limits&lt;unsigned int&gt;::min()+2] ;\n         ^\n</code></pre>\n\n<p>while in C++11 <code>std::numeric_limits&lt;unsigned int&gt;::min()+2</code> is a compile time constant expression and does not require the VLA extension.</p>\n\n<p><B>6. In C++11 noexcept exception specifications are implicitly generated for your destructors </B></p>\n\n<p>Since in C++11 user defined destructor has implicit <code>noexcept(true)</code> specification as explained in <a href=\"http://akrzemi1.wordpress.com/2013/08/20/noexcept-destructors/\">noexcept destructors</a> it means that the following program:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;stdexcept&gt;\n\nstruct S\n{\n  ~S() { throw std::runtime_error(\"\"); } // bad, but acceptable\n};\n\nint main()\n{\n  try { S s; }\n  catch (...) {\n    std::cerr &lt;&lt; \"exception occurred\";\n  } \n std::cout &lt;&lt; \"success\";\n}\n</code></pre>\n\n<p>In C++11 will call <code>std::terminate</code> but will run successfully in C++03.</p>\n\n<p><B>7. In C++03, template arguments could not have internal linkage</B></p>\n\n<p>This is covered nicely in <a href=\"http://stackoverflow.com/a/14596065/1708801\">Why std::sort doesn't accept Compare classes declared within a function</a>. So the following code should not work in C++03:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\n\nclass Comparators\n{\npublic:\n    bool operator()(int first, int second)\n    {\n        return first &lt; second;\n    }\n};\n\nint main()\n{\n    class ComparatorsInner : public Comparators{};\n\n    std::vector&lt;int&gt; compares ;\n    compares.push_back(20) ;\n    compares.push_back(10) ;\n    compares.push_back(30) ;\n\n    ComparatorsInner comparatorInner;\n    std::sort(compares.begin(), compares.end(), comparatorInner);\n\n    std::vector&lt;int&gt;::iterator it;\n    for(it = compares.begin(); it != compares.end(); ++it)\n    {\n        std::cout &lt;&lt; (*it) &lt;&lt; std::endl;\n    }\n}\n</code></pre>\n\n<p>but currently <code>clang</code> allows this code in C++03 mode with a warning unless you use <code>-pedantic-errors</code> flag, which is kind of icky, <a href=\"http://coliru.stacked-crooked.com/a/316202b3a33a8ec6\">see it live</a>.</p>\n\n<p><B>8. >> is not longer ill-formed when closing multiple templates</B></p>\n\n<p>Using <code>&gt;&gt;</code> to close multiple templates is no longer ill-formed but can lead to code with different results in C++03 and C+11. The example below is taken from <a href=\"http://dev.krzaq.cc/right-angle-brackets-and-backwards-compatibility/\">Right angle brackets and backwards compatibility</a>:</p>\n\n<pre><code>#include &lt;iostream&gt;\ntemplate&lt;int I&gt; struct X {\n  static int const c = 2;\n};\ntemplate&lt;&gt; struct X&lt;0&gt; {\n  typedef int c;\n};\ntemplate&lt;typename T&gt; struct Y {\n  static int const c = 3;\n};\nstatic int const c = 4;\nint main() {\n  std::cout &lt;&lt; (Y&lt;X&lt;1&gt; &gt;::c &gt;::c&gt;::c) &lt;&lt; '\\n';\n  std::cout &lt;&lt; (Y&lt;X&lt; 1&gt;&gt;::c &gt;::c&gt;::c) &lt;&lt; '\\n';\n}\n</code></pre>\n\n<p>and the result in C++03 is:</p>\n\n<pre><code>0\n3\n</code></pre>\n\n<p>and in C++11:</p>\n\n<pre><code>0\n0\n</code></pre>\n\n<p><B>9. C++11 changes some of std::vector constructors</B></p>\n\n<p>Slightly modified code from <a href=\"http://stackoverflow.com/a/6474857/1708801\">this answer</a> shows that using the following constructor from <a href=\"http://en.cppreference.com/w/cpp/container/vector/vector\">std::vector</a>:</p>\n\n<pre><code>std::vector&lt;T&gt; test(1);\n</code></pre>\n\n<p>produces different results in C++03 and C++11:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\nstruct T\n{\n    bool flag;\n    T() : flag(false) {}\n    T(const T&amp;) : flag(true) {}\n};\n\n\nint main()\n{\n    std::vector&lt;T&gt; test(1);\n    bool is_cpp11 = !test[0].flag;\n\n    std::cout &lt;&lt; is_cpp11 &lt;&lt; std::endl ;\n}\n</code></pre>\n\n<p><B>10. Narrowing conversions in aggregate initializers</b></p>\n\n<p>In C++11 a narrowing conversion in aggregate initializers is ill-formed and it looks like <code>gcc</code> allows this in both C++11 and C++03 although it provide a warning by default in C++11:</p>\n\n<pre><code>int x[] = { 2.0 };\n</code></pre>\n\n<p>This is covered in the draft C++11 standard section <code>8.5.4</code> <em>List-initialization</em> paragraph <em>3</em>:</p>\n\n<blockquote>\n  <p>List-initialization of an object or reference of type T is defined as follows:</p>\n</blockquote>\n\n<p>and contains the following bullet (<em>emphasis mine</em>):</p>\n\n<blockquote>\n  <p>Otherwise, if T is a class type, constructors are considered. The applicable constructors are enumerated and the best one is chosen through overload resolution (13.3, 13.3.1.7). <strong>If a narrowing conversion (see below) is required to convert any of the arguments, the program is ill-formed</strong></p>\n</blockquote>\n\n<p>This and many more instance are covered in the <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2012/n3485.pdf\">draft C++ standard</a> section <code>annex C.2</code> <em>C++ and ISO C++ 2003</em>. It also includes:</p>\n\n<ul>\n<li><p>New kinds of string literals [...] Specifically, macros named R, u8, u8R, u, uR, U, UR, or LR will not be expanded when adjacent to a string literal but will be interpreted as part of the string literal. For example</p>\n\n<pre><code>#define u8 \"abc\"\nconst char *s = u8\"def\"; // Previously \"abcdef\", now \"def\"\n</code></pre></li>\n<li><p>User-defined literal string support [...]Previously, #1 would have consisted of two separate preprocessing tokens and the macro _x would have been expanded. In this International Standard, #1 consists of a single preprocessing tokens, so the macro\nis not expanded.</p>\n\n<pre><code>#define _x \"there\"\n\"hello\"_x // #1\n</code></pre></li>\n<li><p>Specify rounding for results of integer / and % [...] 2003 code that uses integer division rounds the result toward 0 or toward negative infinity, whereas this \nInternational Standard always rounds the result toward 0.</p></li>\n<li><p>Complexity of size() member functions now constant [...] Some container implementations that conform to C++ 2003 may not conform to the specified size() requirements in this International Standard. Adjusting containers such as std::list to the stricter requirements may require incompatible changes.</p></li>\n<li><p>Change base class of std::ios_base::failure [...] std::ios_base::failure is no longer derived directly from std::exception, but is now derived from std::system_error, which in turn is derived from std::runtime_error. Valid C++ 2003 code that assumes that std::ios_base::failure is derived directly from std::exception may execute differently in this International Standard.</p></li>\n</ul>\n", "title": "Can C++ code be valid in both C++03 and C++11 but do different things?", "answer_id": 23063914, "question_id": 23047198, "tags": ["c++", "c++11", "language-lawyer", "c++03"]}, {"body": "<p>Here's another example:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\ntemplate&lt;class T&gt;\nstruct has {\n  typedef char yes;\n  typedef yes (&amp;no)[2];    \n  template&lt;int&gt; struct foo;    \n  template&lt;class U&gt; static yes test(foo&lt;U::bar&gt;*);      \n  template&lt;class U&gt; static no  test(...);    \n  static bool const value = sizeof(test&lt;T&gt;(0)) == sizeof(yes);\n};\n\nenum foo { bar };\n\nint main()\n{\n    std::cout &lt;&lt; (has&lt;foo&gt;::value ? \"yes\" : \"no\") &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>Using c++03: no\nUsing c++11: yes\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/760c5a986815c70c\">See the result on Coliru</a></p>\n", "title": "Can C++ code be valid in both C++03 and C++11 but do different things?", "answer_id": 23103018, "question_id": 23047198, "tags": ["c++", "c++11", "language-lawyer", "c++03"]}], "question_id": 23047198}, {"body": "<p>I am trying to get my friend name and ids with graph api v2.0,\nbut data returns empty:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{\n  \"data\": [\n  ]\n}\n</code></pre>\n\n<p>when I was using v1.0, everything was ok with following request:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>FBRequest* friendsRequest = [FBRequest requestForMyFriends];\n  [friendsRequest startWithCompletionHandler: ^(FBRequestConnection *connection,\n                                                NSDictionary* result,\n                                                NSError *error) {\n      NSArray* friends = [result objectForKey:@\"data\"];\n      NSLog(@\"Found: %i friends\", friends.count);\n      for (NSDictionary&lt;FBGraphUser&gt;* friend in friends) {\n          NSLog(@\"I have a friend named %@ with id %@\", friend.name, friend.id);\n      }\n  }];\n</code></pre>\n\n<p>but now I cannot get friends! </p>\n", "title": "Facebook Graph Api v2.0+ - /me/friends returns empty, or only friends who also use my app", "tags": ["facebook", "facebook-graph-api", "facebook-ios-sdk", "facebook-graph-api-v2.0"], "answer_count": 6, "link": "http://stackoverflow.com/questions/23417356/facebook-graph-api-v2-0-me-friends-returns-empty-or-only-friends-who-also-u", "answers": [{"body": "<p>In v2.0 of the Graph API, calling <code>/me/friends</code> returns the person's friends who also use the app.</p>\n\n<p>In addition, in v2.0, you must request the <code>user_friends</code> permission from each user. <code>user_friends</code> is no longer included by default in every login. Each user must grant the <code>user_friends</code> permission in order to appear in the response to <code>/me/friends</code>. See <a href=\"https://developers.facebook.com/docs/apps/upgrading#upgrading_v2_0_user_ids\">the Facebook upgrade guide</a> for more detailed information, or review the summary below.</p>\n\n<p>If you want to access a list of non-app-using friends, there are two options:</p>\n\n<ol>\n<li><p><strong><a href=\"https://developers.facebook.com/docs/graph-api/reference/v2.0/user/taggable_friends\">If you want to let your people tag their friends</a></strong> in stories that they publish to Facebook using your App, you can use the <code>/me/taggable_friends</code> API. <a href=\"https://developers.facebook.com/docs/graph-api/reference/v2.0/user/taggable_friends\">Use of this endpoint requires review by Facebook</a> and should only be used for the case where you're rendering a list of friends in order to let the user tag them in a post.</p></li>\n<li><p><strong><a href=\"https://developers.facebook.com/docs/graph-api/reference/v2.0/user/invitable_friends\">If your App is a Game AND your Game supports Facebook Canvas</a></strong>, you can use the <code>/me/invitable_friends</code> endpoint in order to render <a href=\"https://developers.facebook.com/docs/games/invitable-friends/v2.0\">a custom invite dialog</a>, then pass the tokens returned by this API to <a href=\"https://developers.facebook.com/docs/games/requests/v2.0\">the standard Requests Dialog.</a></p></li>\n</ol>\n\n<p>In other cases, apps are no longer able to retrieve the full list of a user's friends (only those friends who have specifically authorized your app using the <code>user_friends</code> permission). <a href=\"https://developers.facebook.com/bugs/1502515636638396/\">This has been confirmed by Facebook as 'by design'.</a></p>\n\n<p>For apps wanting allow people to invite friends to use an app, you can still use the <a href=\"https://developers.facebook.com/docs/sharing/reference/send-dialog\">Send Dialog on Web</a> or the new <a href=\"https://developers.facebook.com/docs/ios/message-dialog/\">Message Dialog on iOS</a> and <a href=\"https://developers.facebook.com/docs/android/message-dialog/\">Android</a>.</p>\n\n<p>UPDATE: Facebook have published an FAQ on these changes here: <a href=\"https://developers.facebook.com/docs/apps/faq\">https://developers.facebook.com/docs/apps/faq</a> which explain all the options available to developers in order to invite friends etc.</p>\n", "title": "Facebook Graph Api v2.0+ - /me/friends returns empty, or only friends who also use my app", "answer_id": 23417628, "question_id": 23417356, "tags": ["facebook", "facebook-graph-api", "facebook-ios-sdk", "facebook-graph-api-v2.0"]}, {"body": "<p>As Simon mentioned, this is not possible in new facebook API. You may use browser automation as a <strong>workaround</strong>.</p>\n\n<p>Downsides:</p>\n\n<ul>\n<li>you'll have to ask user for his credentials directly (and possibly store them on your side)</li>\n<li>when facebook changes their api, you'll have to update browser automation code as well (if you can't force updates of your application, you should put browser automation piece out as webservice)</li>\n<li>this is bypassing OAuth concept, as user will relay on you to store/manipulate credentials in secure manner</li>\n<li>this is against Facebook policy (but since you'll have username/password you don't have to care about facebook policies)</li>\n</ul>\n\n<p>Avantage:</p>\n\n<ul>\n<li>currently there is no other way how to get list of <strong>all</strong> friends</li>\n<li>this is not different from what facebook does when they're getting list of all your contacts from your email account</li>\n<li>if a lot of developers start using it, it might give facebook a healthy push to put this back into Open Graph API</li>\n</ul>\n\n<p>Sample implementation using <a href=\"http://watin.org/\" rel=\"nofollow\">WatiN</a> </p>\n\n<pre><code>class FacebookUser\n{\n  public string Name { get; set; }\n  public long Id { get; set; }\n}\n\npublic IList&lt;FacebookUser&gt; GetFacebookFriends(string email, string password, int? maxTimeoutInMilliseconds)\n{\n  var users = new List&lt;FacebookUser&gt;();\n  Settings.Instance.MakeNewIeInstanceVisible = false;\n  using (var browser = new IE(\"https://www.facebook.com\"))\n  {\n    try\n    {\n      browser.TextField(Find.ByName(\"email\")).Value = email;\n      browser.TextField(Find.ByName(\"pass\")).Value = password;\n      browser.Form(Find.ById(\"login_form\")).Submit();\n      browser.WaitForComplete();\n    }\n    catch (ElementNotFoundException)\n    {\n      // we're already logged in\n    }\n    browser.GoTo(\"https://www.facebook.com/friends\");\n    var watch = new Stopwatch();\n    watch.Start();\n\n    Link previousLastLink = null;\n    while (maxTimeoutInMilliseconds.HasValue &amp;&amp; watch.Elapsed.TotalMilliseconds &lt; maxTimeoutInMilliseconds.Value)\n    {\n      var lastLink = browser.Links.Where(l =&gt; l.GetAttributeValue(\"data-hovercard\") != null\n&amp;&amp; l.GetAttributeValue(\"data-hovercard\").Contains(\"user.php\")\n&amp;&amp; l.Text != null\n).LastOrDefault();\n      if (lastLink == null || previousLastLink == lastLink)\n      {\n        break;\n      }\n\n      var ieElement = lastLink.NativeElement as IEElement;\n      if (ieElement != null)\n      {\n        var htmlElement = ieElement.AsHtmlElement;\n        htmlElement.scrollIntoView();\n        browser.WaitForComplete();\n      }\n\n      previousLastLink = lastLink;\n    }\n\n    var links = browser.Links.Where(l =&gt; l.GetAttributeValue(\"data-hovercard\") != null\n      &amp;&amp; l.GetAttributeValue(\"data-hovercard\").Contains(\"user.php\")\n      &amp;&amp; l.Text != null\n    ).ToList();\n\n    var idRegex = new Regex(\"id=(?&lt;id&gt;([0-9]+))\");\n    foreach (var link in links)\n    {\n      string hovercard = link.GetAttributeValue(\"data-hovercard\");\n      var match = idRegex.Match(hovercard);\n      long id = 0;\n      if (match.Success)\n      {\n        id = long.Parse(match.Groups[\"id\"].Value);\n      }\n      users.Add(new FacebookUser\n      {\n        Name = link.Text,\n        Id = id\n      });\n    }\n  }\n  return users;\n}\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>I made a github repo with implementation of this approach (using C#/Watin), it is also allows dynamic update of facebook connector that is retrieving list of your contacts: <a href=\"https://github.com/svejdo1/ShadowApi\" rel=\"nofollow\">https://github.com/svejdo1/ShadowApi</a></p>\n", "title": "Facebook Graph Api v2.0+ - /me/friends returns empty, or only friends who also use my app", "answer_id": 24944396, "question_id": 23417356, "tags": ["facebook", "facebook-graph-api", "facebook-ios-sdk", "facebook-graph-api-v2.0"]}, {"body": "<p>Although <em>Simon Cross's</em> answer is accepted and correct, I thought I would beef it up a bit with an example (android) of what needs to be done. I'll keep it as general as I can and focus on just the question. Personally I wound up storing things in a database so the loading was smooth but that requires a CursorAdapter and ContentProvider which is a bit out of scope here.</p>\n\n<p>I came here myself and then thought, now what?!</p>\n\n<p><strong>The Issue</strong></p>\n\n<p>Just like <em>user3594351</em>, I was noticing the friend data was blank. I found this out by using the FriendPickerFragment. What worked three months ago, no longer works. Even facebook's examples broke. So my issue was 'How Do I create FriendPickerFragment by hand?</p>\n\n<p><strong>What Did Not Work</strong></p>\n\n<p>Option #1 from <em>Simon Cross</em> was not strong enough to invite friends to the app. <em>Simon Cross</em> also recommended the Requests Dialog but that would only allow 5 requests at a time. Requests dialog also showed the same friends during any given Facebook logged in session. Not useful. </p>\n\n<p><strong>What Worked (Summary)</strong></p>\n\n<p>Option #2 with some hard work. You must make sure you fulfill Facebook's new rules: 1.) You're a game 2.) You have a Canvas app (Web Presence) 3.) You're app is registered with Facebook. All done on Facebook developer website under settings. </p>\n\n<p>To emulate the friend picker by hand inside my app I did the following: </p>\n\n<ol>\n<li>Create a tab activity that shows two fragments. Each fragment shows a list. One fragment for available friend (/me/friends) and another for invitable friends (/me/invitable_friends). Use the same fragment code to render both tabs.</li>\n<li>Create an AsyncTask that will get the friend data from Facebook. Once that data is loaded, toss it to the adapter which will render the values to the screen.</li>\n</ol>\n\n<p><strong>Details</strong></p>\n\n<p>The AsynchTask</p>\n\n<pre><code>private class DownloadFacebookFriendsTask extends AsyncTask&lt;FacebookFriend.Type, Boolean, Boolean&gt; {\n        private final String TAG = DownloadFacebookFriendsTask.class.getSimpleName();\n        GraphObject graphObject;\n        ArrayList&lt;FacebookFriend&gt; myList = new ArrayList&lt;FacebookFriend&gt;();\n\n        @Override\n        protected Boolean doInBackground(FacebookFriend.Type... pickType) {\n            //\n            //Determine Type\n            //\n            String facebookRequest;\n            if (pickType[0] == FacebookFriend.Type.AVAILABLE) {\n                facebookRequest = \"/me/friends\";\n            } else {\n                facebookRequest = \"/me/invitable_friends\";\n            }\n\n            //\n            //Launch Facebook request and WAIT.\n            //\n            new Request(\n                    Session.getActiveSession(),\n                    facebookRequest,\n                    null,\n                    HttpMethod.GET,\n                    new Request.Callback() {\n                        public void onCompleted(Response response) {\n                            FacebookRequestError error = response.getError();\n                            if (error != null &amp;&amp; response != null) {\n                                Log.e(TAG, error.toString());\n                            } else {\n                                graphObject = response.getGraphObject();\n                            }\n                        }\n                    }\n            ).executeAndWait();\n\n            //\n            //Process Facebook response\n            //\n            //\n            if (graphObject == null) {\n                return false;\n            }\n\n            int numberOfRecords = 0;\n            JSONArray dataArray = (JSONArray) graphObject.getProperty(\"data\");\n            if (dataArray.length() &gt; 0) {\n\n                // Ensure the user has at least one friend ...\n                for (int i = 0; i &lt; dataArray.length(); i++) {\n\n                    JSONObject jsonObject = dataArray.optJSONObject(i);\n                    FacebookFriend facebookFriend = new FacebookFriend(jsonObject, pickType[0]);\n\n                    if (facebookFriend.isValid()) {\n                        numberOfRecords++;\n\n                        myList.add(facebookFriend);\n                    }\n                }\n            }\n\n            //make sure there are records to process\n            if (numberOfRecords &gt; 0){\n                return true;\n            } else {\n                return false;\n            }\n        }\n\n        @Override\n        protected void onProgressUpdate(Boolean... booleans) {\n            //no need to update this, wait until the whole thread finishes.\n        }\n\n        @Override\n        protected void onPostExecute(Boolean result) {\n            if (result) {\n                /*\n                User the array \"myList\" to create the adapter which will control showing items in the list.\n                 */\n\n            } else {\n                Log.i(TAG, \"Facebook Thread unable to Get/Parse friend data. Type = \" + pickType);\n            }\n        }\n    }\n</code></pre>\n\n<p>The FacebookFriend class I created</p>\n\n<pre><code>public class FacebookFriend {\n    String facebookId;\n    String name;\n    String pictureUrl;\n    boolean invitable;\n    boolean available;\n    boolean isValid;\n    public enum Type {AVAILABLE, INVITABLE};\n\n    public FacebookFriend(JSONObject jsonObject, Type type) {\n        //\n        //Parse the Facebook Data from the JSON object.\n        //\n        try {\n            if (type == Type.INVITABLE) {\n                //parse /me/invitable_friend\n                this.facebookId =  jsonObject.getString(\"id\");\n                this.name = jsonObject.getString(\"name\");\n\n                //Handle the picture data.\n                JSONObject pictureJsonObject = jsonObject.getJSONObject(\"picture\").getJSONObject(\"data\");\n                boolean isSilhouette = pictureJsonObject.getBoolean(\"is_silhouette\");\n                if (!isSilhouette) {\n                    this.pictureUrl = pictureJsonObject.getString(\"url\");\n\n                } else {\n                    this.pictureUrl = \"\";\n                }\n\n                this.invitable = true;\n            } else {\n                //parse /me/friends\n                this.facebookId =  jsonObject.getString(\"id\");\n                this.name = jsonObject.getString(\"name\");\n                this.available = true;\n                this.pictureUrl = \"\";\n            }\n\n            isValid = true;\n        } catch (JSONException e) {\n            Log.w(\"#\", \"Warnings - unable to process FB JSON: \" + e.getLocalizedMessage());\n        }\n    }\n}\n</code></pre>\n", "title": "Facebook Graph Api v2.0+ - /me/friends returns empty, or only friends who also use my app", "answer_id": 25027778, "question_id": 23417356, "tags": ["facebook", "facebook-graph-api", "facebook-ios-sdk", "facebook-graph-api-v2.0"]}, {"body": "<p>I don't know if they have changed this or not. But this is the way I always get all my user's friend data. Even the ones that don't use the app.</p>\n\n<pre><code>//Configure the request\nNSString *fbToken = [FBSession activeSession].accessTokenData.accessToken;\nNSString *fbURL = @\"https://graph.facebook.com/me/friends?access_token=%@\";\nNSURL *URL = [NSURL URLWithString:[NSString stringWithFormat:@\"%@%@\",fbURL, fbToken]]; \nNSURLRequest *friendRequest = [NSURLRequest requestWithURL:URL];\n\n//Send the request\n[NSURLConnection sendAsynchronousRequest:friendRequest queue:[NSOperationQueue mainQueue] completionHandler:^(NSURLResponse *response, NSData *data, NSError *connectionError) {\n\n    if (!connectionError) {\n\n        NSDictionary *friendData = [NSJSONSerialization JSONObjectWithData:data options:NSJSONReadingAllowFragments error:nil];\n\n        NSLog(@\"friend data = %@\",friendData);\n\n        //Grab friends ID (or whatever else you want, just replace dic[@\"id\"]] with dic[@\"name\"]] or something\n\n        NSMutableArray *friendIDArray = [NSMutableArray array];\n\n        for (NSDictionary *dic in friendData[@\"data\"]) {\n\n            [friendIDArray addObject:dic[@\"id\"]];\n        }\n\n    }\n\n}\n</code></pre>\n", "title": "Facebook Graph Api v2.0+ - /me/friends returns empty, or only friends who also use my app", "answer_id": 25329365, "question_id": 23417356, "tags": ["facebook", "facebook-graph-api", "facebook-ios-sdk", "facebook-graph-api-v2.0"]}, {"body": "<p>Facebook has revised their policies now. You can\u00b4t get the whole friendlist anyway if your App does not have a Canvas implementation and if your App is not a game. Of course there\u00b4s also taggable_friends, but that one is for tagging only.</p>\n\n<p>You will be able to pull the list of friends who have authorised the app only.</p>\n\n<p>The apps that are using Graph API 1.0 will be working till April 30th, 2015 and after that it will be deprecated.</p>\n\n<p>See link below to get more details on this</p>\n\n<p><a href=\"https://developers.facebook.com/docs/graph-api/reference/v2.2/user/friends\">https://developers.facebook.com/docs/graph-api/reference/v2.2/user/friends</a></p>\n\n<p><a href=\"https://developers.facebook.com/docs/apps/faq#invite_to_app\">https://developers.facebook.com/docs/apps/faq#invite_to_app</a></p>\n\n<p>Hope this helps</p>\n", "title": "Facebook Graph Api v2.0+ - /me/friends returns empty, or only friends who also use my app", "answer_id": 29182403, "question_id": 23417356, "tags": ["facebook", "facebook-graph-api", "facebook-ios-sdk", "facebook-graph-api-v2.0"]}, {"body": "<p>Try /me/taggable_friends?limit=5000 using your javascript code</p>\n\n<p>OR</p>\n\n<p>try the graph API</p>\n\n<p><a href=\"https://graph.facebook.com/v2.3/user_id_here/taggable_friends?access_token=\" rel=\"nofollow\">https://graph.facebook.com/v2.3/user_id_here/taggable_friends?access_token=</a></p>\n\n<p>Have fun</p>\n", "title": "Facebook Graph Api v2.0+ - /me/friends returns empty, or only friends who also use my app", "answer_id": 30399892, "question_id": 23417356, "tags": ["facebook", "facebook-graph-api", "facebook-ios-sdk", "facebook-graph-api-v2.0"]}], "question_id": 23417356}, {"body": "<p>I'm thinking of using docker to build my dependencies on a CI server, to that I don't have to install all the runtimes and libraries on the agents themselves. To achieve this I would need to copy the build artefacts that are built inside the container back into the host.</p>\n\n<p>Is that possible?</p>\n", "title": "Docker - copy file from container to host", "tags": ["docker"], "answer_count": 4, "link": "http://stackoverflow.com/questions/22049212/docker-copy-file-from-container-to-host", "answers": [{"body": "<p>In order to copy a file from a container to the host, you can use the command</p>\n\n<pre><code>docker cp &lt;containerId&gt;:/file/path/within/container /host/path/target\n</code></pre>\n", "title": "Docker - copy file from container to host", "answer_id": 22050116, "question_id": 22049212, "tags": ["docker"]}, {"body": "<p>Mount a \"volume\" and copy the artifacts into there:</p>\n\n<pre><code>mkdir artifacts\ndocker run -i -v ${PWD}/artifacts:/artifacts ubuntu:14.04 sh &lt;&lt; COMMANDS\n# ... build software here ...\ncp &lt;artifact&gt; /artifacts\n# ... copy more artifacts into `/artifacts` ...\nCOMMANDS\n</code></pre>\n\n<p>Then when the build finishes and the container is no longer running, it has already copied the artifacts from the build into the <code>artifacts</code> directory on the host.</p>\n\n<p>EDIT:</p>\n\n<p>CAVEAT: When you do this, you may run into problems with the user id of the docker user matching the user id of the current running user. That is, the files in <code>/artifacts</code> will be shown as owned by the user with the UID of the user used inside the docker container. A way around this may be to use the calling user's UID:</p>\n\n<pre><code>docker run -i -v ${PWD}:/working_dir -w /working_dir -u $(id -u) \\\n    ubuntu:14.04 sh &lt;&lt; COMMANDS\n# Since $(id -u) owns /working_dir, you should be okay running commands here\n# and having them work. Then copy stuff into /working_dir/artifacts .\nCOMMANDS\n</code></pre>\n", "title": "Docker - copy file from container to host", "answer_id": 26150548, "question_id": 22049212, "tags": ["docker"]}, {"body": "<p>Mount a volume, copy the artifacts, adjust owner id and group id:</p>\n\n<pre><code>mkdir artifacts\ndocker run -i --rm -v ${PWD}/artifacts:/mnt/artifacts centos:6 /bin/bash &lt;&lt; COMMANDS\nls -la &gt; /mnt/artifacts/ls.txt\necho Changing owner from \\$(id -u):\\$(id -g) to $(id -u):$(id -u)\nchown -R $(id -u):$(id -u) /mnt/artifacts\nCOMMANDS\n</code></pre>\n", "title": "Docker - copy file from container to host", "answer_id": 29350174, "question_id": 22049212, "tags": ["docker"]}, {"body": "<p>As a more general solution, <a href=\"https://wiki.jenkins-ci.org/display/JENKINS/CloudBees+Docker+Custom+Build+Environment+Plugin\" rel=\"nofollow\">there's a CloudBees plugin for Jenkins to build inside a Docker container</a>.  You can select an image to use from a Docker registry or define a Dockerfile to build and use. </p>\n\n<p>It'll mount the workspace into the container as a volume (with appropriate user), set it as your working directory, do whatever commands you request (inside the container).\nYou can also use the docker-workflow plugin (if you prefer code over UI) to do this, with the image.inside() {} command. </p>\n\n<p>Basically all of this, baked into your CI/CD server and then some. </p>\n", "title": "Docker - copy file from container to host", "answer_id": 32546354, "question_id": 22049212, "tags": ["docker"]}], "question_id": 22049212}, {"body": "<p>I am new to AngularJS, and I am a little confused of how I can use angular-\"ui-router\" in the following scenario:</p>\n\n<p>I am building a web application which consists of two sections. The first section is the homepage with its login and signup views, and the second section is the dashboard (after successful login).</p>\n\n<p>I have created an <code>index.html</code> for the home section with its angular app and <code>ui-router</code> config to handle <code>/login</code> and <code>/signup</code> views,\nand there is another file <code>dashboard.html</code> for the dashboard section with its app and <code>ui-router</code> config to handle many sub views.</p>\n\n<p>Now I finished the dashboard section and don't know how to combine the two sections with their different angular apps. How could I tell the home app to redirect to the dashboard app?</p>\n", "title": "angular ui-router login authentication", "tags": ["javascript", "angularjs", "angular-ui-router"], "answer_count": 8, "link": "http://stackoverflow.com/questions/22537311/angular-ui-router-login-authentication", "answers": [{"body": "<p>I think you need a <code>service</code> that handle the authentication process (and its storage).</p>\n\n<p>In this service you'll need some basic methods :</p>\n\n<ul>\n<li><code>isAuthenticated()</code></li>\n<li><code>login()</code></li>\n<li><code>logout()</code></li>\n<li>etc ...</li>\n</ul>\n\n<p>This service should be injected in your controllers of each module :</p>\n\n<ul>\n<li>In your dashboard section, use this service to check if user is authenticated (<code>service.isAuthenticated()</code> method) . if not, redirect to /login</li>\n<li>In your login section, just use the form data to authenticate the user through your <code>service.login()</code> method</li>\n</ul>\n\n<p>A good and robust example for this behavior is the project <a href=\"https://github.com/angular-app/angular-app\">angular-app</a> and specifically its <a href=\"https://github.com/angular-app/angular-app/tree/master/client/src/common/security\">security module</a> which is based over the awesome <a href=\"https://github.com/witoldsz/angular-http-auth\">HTTP Auth Interceptor Module</a></p>\n\n<p>Hope this helps</p>\n", "title": "angular ui-router login authentication", "answer_id": 22538364, "question_id": 22537311, "tags": ["javascript", "angularjs", "angular-ui-router"]}, {"body": "<p>I'm in the process of making a nicer demo as well as cleaning up some of these services into a usable module, but here's what I've come up with. This is a complex process to work around some caveats, so hang in there. You'll need to break this down into several pieces.</p>\n\n<p><a href=\"http://plnkr.co/edit/UkHDqFD8P7tTEqSaCOcc?p=preview\">Take a look at this plunk</a>.</p>\n\n<p>First, you need a service to store the user's identity. I call this <code>principal</code>. It can be checked to see if the user is logged in, and upon request, it can resolve an object that represents the essential information about the user's identity. This can be whatever you need, but the essentials would be a display name, a username, possibly an email, and the roles a user belongs to (if this applies to your app). Principal also has methods to do role checks.</p>\n\n<pre><code>.factory('principal', ['$q', '$http', '$timeout',\n  function($q, $http, $timeout) {\n    var _identity = undefined,\n      _authenticated = false;\n\n    return {\n      isIdentityResolved: function() {\n        return angular.isDefined(_identity);\n      },\n      isAuthenticated: function() {\n        return _authenticated;\n      },\n      isInRole: function(role) {\n        if (!_authenticated || !_identity.roles) return false;\n\n        return _identity.roles.indexOf(role) != -1;\n      },\n      isInAnyRole: function(roles) {\n        if (!_authenticated || !_identity.roles) return false;\n\n        for (var i = 0; i &lt; roles.length; i++) {\n          if (this.isInRole(roles[i])) return true;\n        }\n\n        return false;\n      },\n      authenticate: function(identity) {\n        _identity = identity;\n        _authenticated = identity != null;\n      },\n      identity: function(force) {\n        var deferred = $q.defer();\n\n        if (force === true) _identity = undefined;\n\n        // check and see if we have retrieved the \n        // identity data from the server. if we have, \n        // reuse it by immediately resolving\n        if (angular.isDefined(_identity)) {\n          deferred.resolve(_identity);\n\n          return deferred.promise;\n        }\n\n        // otherwise, retrieve the identity data from the\n        // server, update the identity object, and then \n        // resolve.\n        //           $http.get('/svc/account/identity', \n        //                     { ignoreErrors: true })\n        //                .success(function(data) {\n        //                    _identity = data;\n        //                    _authenticated = true;\n        //                    deferred.resolve(_identity);\n        //                })\n        //                .error(function () {\n        //                    _identity = null;\n        //                    _authenticated = false;\n        //                    deferred.resolve(_identity);\n        //                });\n\n        // for the sake of the demo, fake the lookup\n        // by using a timeout to create a valid\n        // fake identity. in reality,  you'll want \n        // something more like the $http request\n        // commented out above. in this example, we fake \n        // looking up to find the user is\n        // not logged in\n        var self = this;\n        $timeout(function() {\n          self.authenticate(null);\n          deferred.resolve(_identity);\n        }, 1000);\n\n        return deferred.promise;\n      }\n    };\n  }\n])\n</code></pre>\n\n<p>Second, you need a service that checks the state the user wants to go to, makes sure they're logged in (if necessary; not necessary for signin, password reset, etc.), and then does a role check (if your app needs this). If they are not authenticated, send them to the sign-in page. If they are authenticated, but fail a role check, send them to an access denied page. I call this service <code>authorization</code>.</p>\n\n<pre><code>.factory('authorization', ['$rootScope', '$state', 'principal',\n  function($rootScope, $state, principal) {\n    return {\n      authorize: function() {\n        return principal.identity()\n          .then(function() {\n            var isAuthenticated = principal.isAuthenticated();\n\n            if ($rootScope.toState.data.roles\n                &amp;&amp; $rootScope.toState\n                             .data.roles.length &gt; 0 \n                &amp;&amp; !principal.isInAnyRole(\n                   $rootScope.toState.data.roles))\n            {\n              if (isAuthenticated) {\n                  // user is signed in but not\n                  // authorized for desired state\n                  $state.go('accessdenied');\n              } else {\n                // user is not authenticated. Stow\n                // the state they wanted before you\n                // send them to the sign-in state, so\n                // you can return them when you're done\n                $rootScope.returnToState\n                    = $rootScope.toState;\n                $rootScope.returnToStateParams\n                    = $rootScope.toStateParams;\n\n                // now, send them to the signin state\n                // so they can log in\n                $state.go('signin');\n              }\n            }\n          });\n      }\n    };\n  }\n])\n</code></pre>\n\n<p>Now all you need to do is listen in on <code>ui-router</code>'s <a href=\"https://github.com/angular-ui/ui-router/wiki\"><code>$stateChangeStart</code></a>. This gives you a chance to examine the current state, the state they want to go to, and insert your authorization check. If it fails, you can cancel the route transition, or change to a different route.</p>\n\n<pre><code>.run(['$rootScope', '$state', '$stateParams', \n      'authorization', 'principal',\n    function($rootScope, $state, $stateParams, \n             authorization, principal)\n{\n      $rootScope.$on('$stateChangeStart', \n          function(event, toState, toStateParams)\n      {\n        // track the state the user wants to go to; \n        // authorization service needs this\n        $rootScope.toState = toState;\n        $rootScope.toStateParams = toStateParams;\n        // if the principal is resolved, do an \n        // authorization check immediately. otherwise,\n        // it'll be done when the state it resolved.\n        if (principal.isIdentityResolved()) \n            authorization.authorize();\n      });\n    }\n  ]);\n</code></pre>\n\n<p>The tricky part about tracking a user's identity is looking it up if you've already authenticated (say, you're visiting the page after a previous session, and saved an auth token in a cookie, or maybe you hard refreshed a page, or dropped onto a URL from a link). Because of the way <code>ui-router</code> works, you need to do your identity resolve once, before your auth checks. You can do this using the <code>resolve</code> option in your state config. I have one parent state for the site that all states inherit from, which forces the principal to be resolved before anything else happens. </p>\n\n<pre><code>$stateProvider.state('site', {\n  'abstract': true,\n  resolve: {\n    authorize: ['authorization',\n      function(authorization) {\n        return authorization.authorize();\n      }\n    ]\n  },\n  template: '&lt;div ui-view /&gt;'\n})\n</code></pre>\n\n<p>There's another problem here... <code>resolve</code> only gets called once. Once your promise for identity lookup completes, it won't run the resolve delegate again. So we have to do your auth checks in two places: once pursuant to your identity promise resolving in <code>resolve</code>, which covers the first time your app loads, and once in <code>$stateChangeStart</code> if the resolution has been done, which covers any time you navigate around states.</p>\n\n<p>OK, so what have we done so far?</p>\n\n<ol>\n<li>We check to see when the app loads if the user is logged in.</li>\n<li>We track info about the logged in user.</li>\n<li>We redirect them to sign in state for states that require the user to be logged in.</li>\n<li>We redirect them to an access denied state if they do not have authorization to access it.</li>\n<li>We have a mechanism to redirect users back to the original state they requested, if we needed them to log in.</li>\n<li>We can sign a user out (needs to be wired up in concert with any client or server code that manages your auth ticket).</li>\n<li>We <em>don't</em> need to send users back to the sign-in page every time they reload their browser or drop on a link.</li>\n</ol>\n\n<p>Where do we go from here? Well, you can organize your states into regions that require sign in. You can require authenticated/authorized users by adding <code>data</code> with <code>roles</code> to these states (or a parent of them, if you want to use inheritance). Here, we restrict a resource to Admins:</p>\n\n<pre><code>.state('restricted', {\n    parent: 'site',\n    url: '/restricted',\n    data: {\n      roles: ['Admin']\n    },\n    views: {\n      'content@': {\n        templateUrl: 'restricted.html'\n      }\n    }\n  })\n</code></pre>\n\n<p>Now you can control state-by-state what users can access a route. Any other concerns? Maybe varying only part of a view based on whether or not they are logged in? No problem. Use the <code>principal.isAuthenticated()</code> or even <code>principal.isInRole()</code> with any of the numerous ways you can conditionally display a template or an element.</p>\n\n<p>First, inject <code>principal</code> into a controller or whatever, and stick it to the scope so you can use it easily in your view:</p>\n\n<pre><code>.scope('HomeCtrl', ['$scope', 'principal', \n    function($scope, principal)\n{\n  $scope.principal = principal;\n});\n</code></pre>\n\n<p>Show or hide an element:</p>\n\n<pre><code>&lt;div ng-show=\"principal.isAuthenticated()\"&gt;\n   I'm logged in\n&lt;/div&gt;\n&lt;div ng-hide=\"principal.isAuthenticated()\"&gt;\n  I'm not logged in\n&lt;/div&gt;\n</code></pre>\n\n<p>Etc., so on, so forth. Anyways, in your example app, you would have a state for home page that would let unauthenticated users drop by. They could have links to the sign-in or sign-up states, or have those forms built into that page. Whatever suits you.</p>\n\n<p>The dashboard pages could all inherit from a state that requires the users to be logged in and, say, be a <code>User</code> role member. All the authorization stuff we've discussed would flow from there.</p>\n", "title": "angular ui-router login authentication", "answer_id": 22540482, "question_id": 22537311, "tags": ["javascript", "angularjs", "angular-ui-router"]}, {"body": "<p>Here is how we got out of the infinite routing loop and still used <code>$state.go</code> instead of <code>$location.path</code></p>\n\n<pre><code>if('401' !== toState.name) {\n  if (principal.isIdentityResolved()) authorization.authorize();\n}\n</code></pre>\n", "title": "angular ui-router login authentication", "answer_id": 24559152, "question_id": 22537311, "tags": ["javascript", "angularjs", "angular-ui-router"]}, {"body": "<p>I Created this module to help make this process piece of cake</p>\n\n<p>You can do things like:</p>\n\n<pre><code>$routeProvider\n  .state('secret',\n    {\n      ...\n      permissions: {\n        only: ['admin', 'god']\n      }\n    });\n</code></pre>\n\n<p>Or also</p>\n\n<pre><code>$routeProvider\n  .state('userpanel',\n    {\n      ...\n      permissions: {\n        except: ['not-logged-in']\n      }\n    });\n</code></pre>\n\n<p>It's brand new but worth checking out!</p>\n\n<p><a href=\"https://github.com/Narzerus/angular-permission\">https://github.com/Narzerus/angular-permission</a></p>\n", "title": "angular ui-router login authentication", "answer_id": 25636872, "question_id": 22537311, "tags": ["javascript", "angularjs", "angular-ui-router"]}, {"body": "<p>The solutions posted so far are needlessly complicated, in my opinion. There's a simpler way. The <a href=\"http://angular-ui.github.io/ui-router/site/#/api/ui.router.router.$urlRouter#methods_sync\">documentation of <code>ui-router</code></a> says listen to <code>$locationChangeSuccess</code> and use <code>$urlRouter.sync()</code> to check a state transition, halt it, or resume it. But even that actually doesn't work. </p>\n\n<p>However, here's two simple alternatives. Pick one:</p>\n\n<h1>Solution 1: listening on <code>$locationChangeSuccess</code></h1>\n\n<p>You can listen to <code>$locationChangeSuccess</code> and you can perform some logic, even asynchronous logic there. Based on that logic, you can let the function return undefined, which will cause the state transition to continue as normal, or you can do <code>$state.go('logInPage')</code>, if the user needs to be authenticated. Here's an example:</p>\n\n<pre><code>angular.module('App', ['ui.router'])\n\n// In the run phase of your Angular application  \n.run(function($rootScope, user, $state) {\n\n  // Listen to '$locationChangeSuccess', not '$stateChangeStart'\n  $rootScope.$on('$locationChangeSuccess', function() {\n    user\n      .logIn()\n      .catch(function() {\n        // log-in promise failed. Redirect to log-in page.\n        $state.go('logInPage')\n      })\n  })\n})\n</code></pre>\n\n<p>Keep in mind that this doesn't actually prevent the target state from loading, but it does redirect to the log-in page if the user is unauthorized. That's okay since real protection is on the server, anyway.</p>\n\n<h1>Solution 2: using state <code>resolve</code></h1>\n\n<p>In this solution, you use <a href=\"https://github.com/angular-ui/ui-router/wiki#resolve\"><code>ui-router</code> resolve feature</a>. </p>\n\n<p>You basically reject the promise in <code>resolve</code> if the user is not authenticated and then redirect them to the log-in page.</p>\n\n<p>Here's how it goes:</p>\n\n<pre><code>angular.module('App', ['ui.router'])\n\n.config(\n  function($stateProvider) {\n    $stateProvider\n      .state('logInPage', {\n        url: '/logInPage',\n        templateUrl: 'sections/logInPage.html',\n        controller: 'logInPageCtrl',\n      })\n      .state('myProtectedContent', {\n        url: '/myProtectedContent',\n        templateUrl: 'sections/myProtectedContent.html',\n        controller: 'myProtectedContentCtrl',\n        resolve: { authenticate: authenticate }\n      })\n      .state('alsoProtectedContent', {\n        url: '/alsoProtectedContent',\n        templateUrl: 'sections/alsoProtectedContent.html',\n        controller: 'alsoProtectedContentCtrl',\n        resolve: { authenticate: authenticate }\n      })\n\n    function authenticate($q, user, $state, $timeout) {\n      if (user.isAuthenticated()) {\n        // Resolve the promise successfully\n        return $q.when()\n      } else {\n        // The next bit of code is asynchronously tricky.\n\n        $timeout(function() {\n          // This code runs after the authentication promise has been rejected.\n          // Go to the log-in page\n          $state.go('logInPage')\n        })\n\n        // Reject the authentication promise to prevent the state from loading\n        return $q.reject()\n      }\n    }\n  }\n)\n</code></pre>\n\n<p>Unlike the first solution, this solution actually prevents the target state from loading.</p>\n", "title": "angular ui-router login authentication", "answer_id": 28267504, "question_id": 22537311, "tags": ["javascript", "angularjs", "angular-ui-router"]}, {"body": "<p>The easiest solution is to use <code>$stateChangeStart</code> and <code>event.preventDefault()</code> to cancel the state change when the user is not authenticated and redirect him to the <strong>auth</strong> state that is the login page.</p>\n\n<pre><code>angular\n  .module('myApp', [\n    'ui.router',\n  ])\n    .run(['$rootScope', 'User', '$state',\n    function ($rootScope, User, $state) {\n      $rootScope.$on('$stateChangeStart', function (event, toState, toParams, fromState, fromParams) {\n        if (toState.name !== 'auth' &amp;&amp; !User.authenticaded()) {\n          event.preventDefault();\n          $state.go('auth');\n        }\n      });\n    }]\n  );\n</code></pre>\n", "title": "angular ui-router login authentication", "answer_id": 31688242, "question_id": 22537311, "tags": ["javascript", "angularjs", "angular-ui-router"]}, {"body": "<p>I have another solution: that solution works perfectly when you have only content you want to show when you are logged in. Define a rule where you checking if you are logged in and its not path of whitelist routes. </p>\n\n<pre><code>$urlRouterProvider.rule(function ($injector, $location) {\n   var UserService = $injector.get('UserService');\n   var path = $location.path(), normalized = path.toLowerCase();\n\n   if (!UserService.isLoggedIn() &amp;&amp; path.indexOf('login') === -1) {\n     $location.path('/login/signin');\n   }\n});\n</code></pre>\n\n<p>In my example i ask if i am not logged in and the current route i want to route is not part of `/login', because my whitelist routes are the following</p>\n\n<pre><code>/login/signup // registering new user\n/login/signin // login to app\n</code></pre>\n\n<p>so i have instant access to this two routes and every other route will be checked if you are online.</p>\n\n<p>Here is my whole routing file for the login module</p>\n\n<pre><code>export default (\n  $stateProvider,\n  $locationProvider,\n  $urlRouterProvider\n) =&gt; {\n\n  $stateProvider.state('login', {\n    parent: 'app',\n    url: '/login',\n    abstract: true,\n    template: '&lt;ui-view&gt;&lt;/ui-view&gt;'\n  })\n\n  $stateProvider.state('signin', {\n    parent: 'login',\n    url: '/signin',\n    template: '&lt;login-signin-directive&gt;&lt;/login-signin-directive&gt;'\n  });\n\n  $stateProvider.state('lock', {\n    parent: 'login',\n    url: '/lock',\n    template: '&lt;login-lock-directive&gt;&lt;/login-lock-directive&gt;'\n  });\n\n  $stateProvider.state('signup', {\n    parent: 'login',\n    url: '/signup',\n    template: '&lt;login-signup-directive&gt;&lt;/login-signup-directive&gt;'\n  });\n\n  $urlRouterProvider.rule(function ($injector, $location) {\n    var UserService = $injector.get('UserService');\n    var path = $location.path();\n\n    if (!UserService.isLoggedIn() &amp;&amp; path.indexOf('login') === -1) {\n         $location.path('/login/signin');\n    }\n  });\n\n  $urlRouterProvider.otherwise('/error/not-found');\n}\n</code></pre>\n\n<p><code>() =&gt; { /* code */ }</code> is ES6 syntax, use instead <code>function() { /* code */ }</code></p>\n", "title": "angular ui-router login authentication", "answer_id": 33363220, "question_id": 22537311, "tags": ["javascript", "angularjs", "angular-ui-router"]}, {"body": "<p>First you'll need a service that you can inject into your controllers that has some idea of app authentication state. Persisting auth details with local storage is a decent way to approach it. </p>\n\n<p>Next, you'll need to check the state of auth right before state changes. Since your app has some pages that need to be authenticated and others that don't, create a parent route that checks auth, and make all other pages that require the same be a child of that parent. </p>\n\n<p>Finally, you'll need some way to tell if your currently logged in user can perform certain operations. This can be achieved by adding a 'can' function to your auth service. Can takes two parameters: \n - action - required - (ie 'manage_dashboards' or 'create_new_dashboard')\n - object - optional - object being operated on. For example, if you had a dashboard object, you may want to check to see if dashboard.ownerId === loggedInUser.id. (Of course, information passed from the client should never be trusted and you should always verify this on the server before writing it to your database). </p>\n\n<pre><code>angular.module('myApp', ['ngStorage']).config([\n   '$stateProvider',\nfunction(\n   $stateProvider\n) {\n   $stateProvider\n     .state('home', {...}) //not authed\n     .state('sign-up', {...}) //not authed\n     .state('login', {...}) //not authed\n     .state('authed', {...}) //authed, make all authed states children\n     .state('authed.dashboard', {...})\n}])\n.service('context', [\n   '$localStorage',\nfunction(\n   $localStorage\n) {\n   var _user = $localStorage.get('user');\n   return {\n      getUser: function() {\n         return _user;\n      },\n      authed: function() {\n         return (_user !== null);\n      },\n      // server should return some kind of token so the app \n      // can continue to load authenticated content without having to\n      // re-authenticate each time\n      login: function() {\n         return $http.post('/login.json').then(function(reply) {\n            if (reply.authenticated === true) {\n               $localStorage.set(_userKey, reply.user);\n            }\n         });\n      },\n      // this request should expire that token, rendering it useless\n      // for requests outside of this session\n      logout: function() {\n         return $http.post('logout.json').then(function(reply) {\n            if (reply.authenticated === true) {\n               $localStorage.set(_userKey, reply.user);\n            }\n         });\n      },\n      can: function(action, object) {\n         if (!this.authed()) {\n            return false;\n         }\n\n         var user = this.getUser();\n\n         if (user &amp;&amp; user.type === 'admin') {\n             return true;\n         }\n\n         switch(action) {\n            case 'manage_dashboards':\n               return (user.type === 'manager');\n         }\n\n         return false;\n\n\n      }\n   }\n}])\n.controller('AuthCtrl', [\n   'context', \n   '$scope', \nfunction(\n   context, \n   $scope\n) {\n   $scope.$root.$on('$stateChangeStart', function(event, toState, toParams, fromState, fromParams) {\n      //only require auth if we're moving to another authed page\n      if (toState &amp;&amp; toState.name.indexOf('authed') &gt; -1) {\n         requireAuth();\n      }\n   });\n\n   function requireAuth() {\n      if (!context.authed()) {\n         $state.go('login');\n      }\n   }\n}]\n</code></pre>\n\n<p>** DISCLAIMER: The above code is pseudo-code and comes with no guarantees **</p>\n", "title": "angular ui-router login authentication", "answer_id": 36997668, "question_id": 22537311, "tags": ["javascript", "angularjs", "angular-ui-router"]}], "question_id": 22537311}, {"body": "<p>This crash has been a blocking issue, basically I used following steps to reproduce the issue:</p>\n\n<ul>\n<li>Create a Cocoa Touch Framework project</li>\n<li>Add a swift file and a class <em>Dog</em></li>\n<li>Build framework for device</li>\n<li>Create a Single View application in Swift</li>\n<li>Import framework into app project</li>\n<li>Instantiate swift class from the framework in ViewController</li>\n<li>Build and run app on device</li>\n</ul>\n\n<p>The app immediate crashed upon launching, here is console log:</p>\n\n<pre><code>dyld: Library not loaded: @rpath/FrameworkTest03.framework/FrameworkTest03\n  Referenced from: /var/mobile/Applications/FA6BAAC8-1AAD-49B4-8326-F30F66458CB6/FrameworkTest03App.app/FrameworkTest03App\n  Reason: image not found\n</code></pre>\n\n<p>I have tried to build on iOS 7.1 and 8.0 devices, they both have the same crash. However I can build app and run on simulator fine. Also I am aware that I can change the framework to from <em>Required</em> to <em>Optional</em> in <em>Link Binary With Libraries</em>, but it did not completely resolve the problem, the app crashed when I create an instance of <em>Dog</em>. The behavior is different on device and simulator, I suspect that we can't distribute framework for device using beta version of Xcode. Can anyone shed light on this?</p>\n", "title": "iOS app with framework crashed on device, dyld: Library not loaded, Xcode 6 Beta", "tags": ["ios", "crash", "swift", "xcode6"], "answer_count": 11, "link": "http://stackoverflow.com/questions/24333981/ios-app-with-framework-crashed-on-device-dyld-library-not-loaded-xcode-6-beta", "answers": [{"body": "<p>You need to add the framework to a new Copy Files Build Phase to ensure that the framework is copied into the application bundle at runtime..</p>\n\n<p>See <a href=\"http://stackoverflow.com/questions/4365479/how-to-add-a-copy-files-build-phase-to-my-target\">How to add a &#39;Copy Files build phase&#39; to my Target</a> for more information.</p>\n\n<p>Official Apple Docs: <a href=\"https://developer.apple.com/library/mac/recipes/xcode_help-project_editor/Articles/CreatingaCopyFilesBuildPhase.html\">https://developer.apple.com/library/mac/recipes/xcode_help-project_editor/Articles/CreatingaCopyFilesBuildPhase.html</a></p>\n", "title": "iOS app with framework crashed on device, dyld: Library not loaded, Xcode 6 Beta", "answer_id": 24334837, "question_id": 24333981, "tags": ["ios", "crash", "swift", "xcode6"]}, {"body": "<p>In the target's <strong>General</strong> tab, there is an <strong>Embedded Binaries</strong> field. When you add the framework there the crash is resolved.</p>\n\n<p>Reference is <a href=\"https://devforums.apple.com/message/991384#991384\">here</a> on Apple Developer Forums.</p>\n", "title": "iOS app with framework crashed on device, dyld: Library not loaded, Xcode 6 Beta", "answer_id": 24345546, "question_id": 24333981, "tags": ["ios", "crash", "swift", "xcode6"]}, {"body": "<p>For those who the fix didn't work, try updating the OS to Yosemite. It worked for me!</p>\n", "title": "iOS app with framework crashed on device, dyld: Library not loaded, Xcode 6 Beta", "answer_id": 27183106, "question_id": 24333981, "tags": ["ios", "crash", "swift", "xcode6"]}, {"body": "<h3>For iOS greater than or equal to 8</h3>\n\n<p>Under the target's General tab, in the Embedded Binaries section add the framework. This will copy the framework into the compiled so that it can be linked to at runtime.</p>\n\n<p><img src=\"http://i.stack.imgur.com/zRwSS.png\" alt=\"enter image description here\"></p>\n\n<p><strong>Why is this happening? :</strong> because the framework you are linking to is compiled as a dynamically linked framework and thus is linked to at runtime. </p>\n\n<p><strong>Note :</strong> Embedding custom frameworks is only supported in iOS > 8 and thus and alternative solution that works on older versions of iOS follows. </p>\n\n<h3>For iOS less than 8</h3>\n\n<p>If you have influence on this framework (have access to the source code / build process) you may change this framework to be statically linked rather than dynamically linked. This will cause the code to be include in your compiled app rather than linked to at runtime and thus the framework will not have to be embedded.</p>\n\n<p><strong>How :</strong> Under the framework's Build Setting tab, in the Linking section change the <em>Mach-O Type</em> to Static Library. You should now not need to include the framework under embedded binaries. </p>\n\n<p><img src=\"http://i.stack.imgur.com/6yKzU.png\" alt=\"Static Framework\"></p>\n\n<p><strong>Including Assets :</strong> To include things such as images, audio, or xib/nib files I recommend creating a bundle (essentially a directory, more info here bit.ly/ios_bundle) and then load the assets from the bundle using NSBundle. </p>\n", "title": "iOS app with framework crashed on device, dyld: Library not loaded, Xcode 6 Beta", "answer_id": 28469804, "question_id": 24333981, "tags": ["ios", "crash", "swift", "xcode6"]}, {"body": "<p>I had to (on top of what mentioned here) add the following line to <strong>Runpath Search Paths</strong> under <em>Build Settings</em> tab:<br>\n<code>@executable_path/Frameworks</code></p>\n\n<p><img src=\"http://i.stack.imgur.com/yihsd.png\" alt=\"enter image description here\"></p>\n", "title": "iOS app with framework crashed on device, dyld: Library not loaded, Xcode 6 Beta", "answer_id": 29281962, "question_id": 24333981, "tags": ["ios", "crash", "swift", "xcode6"]}, {"body": "<p>I had the same issue. I tried building my project with an iPhone that I never used before and I didn't add a new framework. For me, cleaning up worked fine (<strong>Shift+Command+K</strong>). Maybe it's because I use beta 5 of Xcode 7 and an iPhone 6 with iOS 9 Beta, but it worked.</p>\n", "title": "iOS app with framework crashed on device, dyld: Library not loaded, Xcode 6 Beta", "answer_id": 32049363, "question_id": 24333981, "tags": ["ios", "crash", "swift", "xcode6"]}, {"body": "<p>My environment: Cocos2d 2.0, Box2d, Objective C</p>\n\n<p>In addition to doing the other answers above I finally went to the General tab and made WatchKit Optional.</p>\n\n<p><a href=\"http://i.stack.imgur.com/mUI4A.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/mUI4A.png\" alt=\"Target General Linked Frameworks and Libraries Watchkit.framework Optional \"></a></p>\n", "title": "iOS app with framework crashed on device, dyld: Library not loaded, Xcode 6 Beta", "answer_id": 32159978, "question_id": 24333981, "tags": ["ios", "crash", "swift", "xcode6"]}, {"body": "<p>In case anyone is still experiencing this issue, despite following all the steps outlined in the many other answers, you may need to <strong>revoke</strong> and <strong>recreate your code signing certificate</strong>, as per the following:</p>\n\n<p><a href=\"https://developer.apple.com/library/ios/qa/qa1886/_index.html\" rel=\"nofollow\">https://developer.apple.com/library/ios/qa/qa1886/_index.html</a></p>\n", "title": "iOS app with framework crashed on device, dyld: Library not loaded, Xcode 6 Beta", "answer_id": 32967231, "question_id": 24333981, "tags": ["ios", "crash", "swift", "xcode6"]}, {"body": "<p>If you are using a third-party framework, and using Cocoapods as your dependency manager, try doing a <code>pod install</code> to refresh your pods.</p>\n\n<p>This crash was occurring on a third-party library I was using, so glad the above solution worked for me, hope it works for you!</p>\n", "title": "iOS app with framework crashed on device, dyld: Library not loaded, Xcode 6 Beta", "answer_id": 34300373, "question_id": 24333981, "tags": ["ios", "crash", "swift", "xcode6"]}, {"body": "<p>In my case the solution was to remove the compiled framework from the Embedded Binaries, which was a standalone project in the workspace, clean and rebuild it, and read to Embedded Binarie.</p>\n", "title": "iOS app with framework crashed on device, dyld: Library not loaded, Xcode 6 Beta", "answer_id": 37710336, "question_id": 24333981, "tags": ["ios", "crash", "swift", "xcode6"]}, {"body": "<p>If anybody is facing this error in Xcode 8 then change your framework status to <strong>Optional</strong> instead of Required under the General Tab of your target.</p>\n\n<p><a href=\"http://i.stack.imgur.com/VGhy1.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/VGhy1.png\" alt=\"enter image description here\"></a></p>\n", "title": "iOS app with framework crashed on device, dyld: Library not loaded, Xcode 6 Beta", "answer_id": 39447794, "question_id": 24333981, "tags": ["ios", "crash", "swift", "xcode6"]}], "question_id": 24333981}, {"body": "<p>Normally in Gulp tasks look like this:</p>\n\n<pre><code>gulp.task('my-task', function() {\n    return gulp.src(options.SCSS_SOURCE)\n        .pipe(sass({style:'nested'}))\n        .pipe(autoprefixer('last 10 version'))\n        .pipe(concat('style.css'))\n        .pipe(gulp.dest(options.SCSS_DEST));\n});\n</code></pre>\n\n<p>Is it possible to pass a command line flag to gulp (that's not a task) and have it run tasks conditionally based on that? For instance</p>\n\n<pre><code>$ gulp my-task -a 1\n</code></pre>\n\n<p>And then in my gulpfile.js:</p>\n\n<pre><code>gulp.task('my-task', function() {\n        if (a == 1) {\n            var source = options.SCSS_SOURCE;\n        } else {\n            var source = options.OTHER_SOURCE;\n        }\n        return gulp.src(source)\n            .pipe(sass({style:'nested'}))\n            .pipe(autoprefixer('last 10 version'))\n            .pipe(concat('style.css'))\n            .pipe(gulp.dest(options.SCSS_DEST));\n});\n</code></pre>\n", "title": "Is it possible to pass a flag to Gulp to have it run tasks in different ways?", "tags": ["javascript", "node.js", "gulp"], "answer_count": 10, "link": "http://stackoverflow.com/questions/23023650/is-it-possible-to-pass-a-flag-to-gulp-to-have-it-run-tasks-in-different-ways", "answers": [{"body": "<p>Gulp doesn't offer any kind of util for that, but you can use one of the many command args parsers. I like <a href=\"https://www.npmjs.org/package/yargs\"><code>yargs</code></a>. Should be:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var argv = require('yargs').argv;\n\ngulp.task('my-task', function() {\n    return gulp.src(argv.a == 1 ? options.SCSS_SOURCE : options.OTHER_SOURCE)\n        .pipe(sass({style:'nested'}))\n        .pipe(autoprefixer('last 10 version'))\n        .pipe(concat('style.css'))\n        .pipe(gulp.dest(options.SCSS_DEST));\n});\n</code></pre>\n\n<p>You can also combine it with <a href=\"https://github.com/robrich/gulp-if\"><code>gulp-if</code></a> to conditionally pipe the stream, very useful for dev vs. prod building:</p>\n\n<pre><code>var argv = require('yargs').argv,\n    gulpif = require('gulp-if'),\n    rename = require('gulp-rename'),\n    uglify = require('gulp-uglify');\n\ngulp.task('my-js-task', function() {\n  gulp.src('src/**/*.js')\n    .pipe(concat('out.js'))\n    .pipe(gulpif(argv.production, uglify()))\n    .pipe(gulpif(argv.production, rename({suffix: '.min'})))\n    .pipe(gulp.dest('dist/'));\n});\n</code></pre>\n\n<p>And call with <code>gulp my-js-task</code> or <code>gulp my-js-task --production</code>.</p>\n", "title": "Is it possible to pass a flag to Gulp to have it run tasks in different ways?", "answer_id": 23038290, "question_id": 23023650, "tags": ["javascript", "node.js", "gulp"]}, {"body": "<p>In my project I use the following flag:</p>\n\n<pre><code>gulp styles --theme literature\n</code></pre>\n\n<p>Gulp offers an object <code>gulp.env</code> for that. It's deprecated in newer versions, so you must use gulp-util for that. The tasks looks like this:</p>\n\n<pre><code>var util = require('gulp-util');\n\ngulp.task('styles', function() {\n  return gulp.src(['src/styles/' + (util.env.theme ? util.env.theme : 'main') + '.scss'])\n    .pipe(compass({\n        config_file: './config.rb',\n        sass   : 'src/styles',\n        css    : 'dist/styles',\n        style  : 'expanded'\n\n    }))\n    .pipe(autoprefixer('last 2 version', 'safari 5', 'ie 8', 'ie 9', 'ff 17', 'opera 12.1', 'ios 6', 'android 4'))\n    .pipe(livereload(server))\n    .pipe(gulp.dest('dist/styles'))\n    .pipe(notify({ message: 'Styles task complete' }));\n});\n</code></pre>\n\n<p>The environment setting is available during all subtasks. So I can use this flag on the watch task too:</p>\n\n<pre><code>gulp watch --theme literature\n</code></pre>\n\n<p>And my styles task also works.</p>\n\n<p>Ciao\nRalf</p>\n", "title": "Is it possible to pass a flag to Gulp to have it run tasks in different ways?", "answer_id": 23088183, "question_id": 23023650, "tags": ["javascript", "node.js", "gulp"]}, {"body": "<p>Here's a quick recipe I found:</p>\n\n<h2>gulpfile.js</h2>\n\n<pre><code>var gulp   = require('gulp');\n\n// npm install gulp yargs gulp-if gulp-uglify\nvar args   = require('yargs').argv;\nvar gulpif = require('gulp-if');\nvar uglify = require('gulp-uglify');\n\nvar isProduction = args.env === 'production';\n\ngulp.task('scripts', function() {\n  return gulp.src('**/*.js')\n    .pipe(gulpif(isProduction, uglify())) // only minify if production\n    .pipe(gulp.dest('dist'));\n});\n</code></pre>\n\n<h2>CLI</h2>\n\n<pre><code>gulp scripts --env production\n</code></pre>\n\n<p>Original Ref (not available anymore): <a href=\"https://github.com/gulpjs/gulp/blob/master/docs/recipes/pass-params-from-cli.md\">https://github.com/gulpjs/gulp/blob/master/docs/recipes/pass-params-from-cli.md</a>  </p>\n\n<h1>Alternative with minimist</h1>\n\n<p>From Updated Ref: <a href=\"https://github.com/gulpjs/gulp/blob/master/docs/recipes/pass-arguments-from-cli.md\">https://github.com/gulpjs/gulp/blob/master/docs/recipes/pass-arguments-from-cli.md</a></p>\n\n<h2>gulpfile.js</h2>\n\n<pre><code>// npm install --save-dev gulp gulp-if gulp-uglify minimist\n\nvar gulp = require('gulp');\nvar gulpif = require('gulp-if');\nvar uglify = require('gulp-uglify');\n\nvar minimist = require('minimist');\n\nvar knownOptions = {\n  string: 'env',\n  default: { env: process.env.NODE_ENV || 'production' }\n};\n\nvar options = minimist(process.argv.slice(2), knownOptions);\n\ngulp.task('scripts', function() {\n  return gulp.src('**/*.js')\n    .pipe(gulpif(options.env === 'production', uglify())) // only minify if production\n    .pipe(gulp.dest('dist'));\n});\n</code></pre>\n\n<h2>CLI</h2>\n\n<pre><code>gulp scripts --env production\n</code></pre>\n", "title": "Is it possible to pass a flag to Gulp to have it run tasks in different ways?", "answer_id": 23698020, "question_id": 23023650, "tags": ["javascript", "node.js", "gulp"]}, {"body": "<p>If you've some strict (ordered!) arguments, then you can get them simply by checking <code>process.argv</code>.</p>\n\n<pre><code>var args = process.argv.slice(2);\n\nif (args[0] === \"--env\" &amp;&amp; args[1] === \"production\");\n</code></pre>\n\n<p>Execute it: <code>gulp --env production</code></p>\n\n<p>...however, I think that this is <em>tooo</em> strict and not bulletproof! So, I fiddled a bit around... and ended up with this utility function:</p>\n\n<pre><code>function getArg(key) {\n  var index = process.argv.indexOf(key);\n  var next = process.argv[index + 1];\n  return (index &lt; 0) ? null : (!next || next[0] === \"-\") ? true : next;\n}\n</code></pre>\n\n<p>It eats an argument-name and will search for this in <code>process.argv</code>. If nothing was found it spits out <code>null</code>. Otherwise if their is no next argument or the next argument is a command and not a value (we differ with a dash) <code>true</code> gets returned. (That's because the key exist, but there's just no value). If all the cases before will fail, the next argument-value is what we get.</p>\n\n<p><strong><code>&gt; gulp watch --foo --bar 1337 -boom \"Foo isn't equal to bar.\"</code></strong></p>\n\n<pre><code>getArg(\"--foo\") // =&gt; true\ngetArg(\"--bar\") // =&gt; \"1337\"\ngetArg(\"-boom\") // =&gt; \"Foo isn't equal to bar.\"\ngetArg(\"--404\") // =&gt; null\n</code></pre>\n\n<p>Ok, enough for now... Here's a simple example using <em>gulp</em>:</p>\n\n<pre><code>var gulp = require(\"gulp\");\nvar sass = require(\"gulp-sass\");\nvar rename = require(\"gulp-rename\");\n\nvar env = getArg(\"--env\");\n\ngulp.task(\"styles\", function () {\n  return gulp.src(\"./index.scss\")\n  .pipe(sass({\n    style: env === \"production\" ? \"compressed\" : \"nested\"\n  }))\n  .pipe(rename({\n    extname: env === \"production\" ? \".min.css\" : \".css\"\n  }))\n  .pipe(gulp.dest(\"./build\"));\n});\n</code></pre>\n\n<p>Run it <code>gulp --env production</code></p>\n\n\n", "title": "Is it possible to pass a flag to Gulp to have it run tasks in different ways?", "answer_id": 26946499, "question_id": 23023650, "tags": ["javascript", "node.js", "gulp"]}, {"body": "<p>There's a very simple way to do <code>on/off</code> flags without parsing the arguments. <code>gulpfile.js</code> is just a file that's executed like any other, so you can do:</p>\n\n<pre><code>var flags = {\n  production: false\n};\n\ngulp.task('production', function () {\n  flags.production = true;\n});\n</code></pre>\n\n<p>And use something like <code>gulp-if</code> to conditionally execute a step</p>\n\n<pre><code>gulp.task('build', function () {\n  gulp.src('*.html')\n    .pipe(gulp_if(flags.production, minify_html()))\n    .pipe(gulp.dest('build/'));\n});\n</code></pre>\n\n<p>Executing <code>gulp build</code> will produce a nice html, while <code>gulp production build</code> will minify it.</p>\n", "title": "Is it possible to pass a flag to Gulp to have it run tasks in different ways?", "answer_id": 27093644, "question_id": 23023650, "tags": ["javascript", "node.js", "gulp"]}, {"body": "<p>I built a plugin to inject parameters from the commandline into the task callback.</p>\n\n<pre><code>gulp.task('mytask', function (production) {\n  console.log(production); // =&gt; true\n});\n\n// gulp mytask --production\n</code></pre>\n\n<p><a href=\"https://github.com/stoeffel/gulp-param\" rel=\"nofollow\">https://github.com/stoeffel/gulp-param</a></p>\n\n<p>If someone finds a bug or has a improvement to it, I am happy to merge PRs.</p>\n", "title": "Is it possible to pass a flag to Gulp to have it run tasks in different ways?", "answer_id": 27212119, "question_id": 23023650, "tags": ["javascript", "node.js", "gulp"]}, {"body": "<h2>Pass arguments from the command line</h2>\n\n<pre><code>// npm install --save-dev gulp gulp-if gulp-uglify minimist\n\nvar gulp = require('gulp');\nvar gulpif = require('gulp-if');\nvar uglify = require('gulp-uglify');\n\nvar minimist = require('minimist');\n\nvar knownOptions = {\n  string: 'env',\n  default: { env: process.env.NODE_ENV || 'production' }\n};\n\nvar options = minimist(process.argv.slice(2), knownOptions);\n\ngulp.task('scripts', function() {\n  return gulp.src('**/*.js')\n    .pipe(gulpif(options.env === 'production', uglify())) // only minify in production\n    .pipe(gulp.dest('dist'));\n});\n</code></pre>\n\n<p>Then run gulp with:</p>\n\n<pre><code>$ gulp scripts --env development\n</code></pre>\n\n<p><a href=\"https://github.com/gulpjs/gulp/edit/master/docs/recipes/pass-arguments-from-cli.md\" rel=\"nofollow\">Source</a></p>\n", "title": "Is it possible to pass a flag to Gulp to have it run tasks in different ways?", "answer_id": 27530438, "question_id": 23023650, "tags": ["javascript", "node.js", "gulp"]}, {"body": "<pre><code>var isProduction = (process.argv.indexOf(\"production\")&gt;-1);\n</code></pre>\n\n<p>CLI <code>gulp production</code> calls my production task and sets a flag for any conditionals.</p>\n", "title": "Is it possible to pass a flag to Gulp to have it run tasks in different ways?", "answer_id": 34314447, "question_id": 23023650, "tags": ["javascript", "node.js", "gulp"]}, {"body": "<p>We wanted to pass a different config file for different environments -- one for production, dev and testing. This is the code in the gulp file:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//passing in flag to gulp to set environment\r\n//var env = gutil.env.env;\r\n\r\nif (typeof gutil.env.env === 'string') {\r\n  process.env.NODE_ENV = gutil.env.env;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This is the code in the app.js file:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  if(env === 'testing'){\r\n      var Config = require('./config.testing.js');\r\n      var Api = require('./api/testing.js')(Config.web);\r\n    }\r\n    else if(env === 'dev'){\r\n       Config = require('./config.dev.js');\r\n        Api = require('./api/dev.js').Api;\r\n    }\r\n    else{\r\n       Config = require('./config.production.js');\r\n       Api = require('./api/production.js')(Config.web);\r\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And then to run it gulp --env=testing</p>\n", "title": "Is it possible to pass a flag to Gulp to have it run tasks in different ways?", "answer_id": 36560466, "question_id": 23023650, "tags": ["javascript", "node.js", "gulp"]}, {"body": "<p>And if you are using typescript (<code>gulpfile.ts</code>) then do this for <code>yargs</code> (building on @Caio Cunha's excellent answer <a href=\"http://stackoverflow.com/a/23038290/1019307\">http://stackoverflow.com/a/23038290/1019307</a> and other comments above):</p>\n\n<h2>Install</h2>\n\n<pre><code>npm install --save-dev yargs\n\ntypings install dt~yargs --global --save\n</code></pre>\n\n<h3><code>.ts</code> files</h3>\n\n<p>Add this to the .ts files:</p>\n\n<pre><code>import { argv } from 'yargs';\n\n...\n\n  let debug: boolean = argv.debug;\n</code></pre>\n\n<p>This has to be done in each .ts file individually (even the <code>tools/tasks/project</code> files that are imported into the <code>gulpfile.ts/js</code>).</p>\n\n<h2>Run</h2>\n\n<pre><code>gulp build.dev --debug\n</code></pre>\n\n<p>Or under <code>npm</code> pass the arg through to gulp:</p>\n\n<pre><code>npm run build.dev -- --debug\n</code></pre>\n", "title": "Is it possible to pass a flag to Gulp to have it run tasks in different ways?", "answer_id": 39030269, "question_id": 23023650, "tags": ["javascript", "node.js", "gulp"]}], "question_id": 23023650}, {"body": "<p>I get the following error when attempting to install <code>psycopg2</code> via pip on Mavericks 10.9:</p>\n\n<pre><code>clang: error: unknown argument: '-mno-fused-madd' [-Wunused-command-line-argument-hard-error-in-future]\n</code></pre>\n\n<p>Not sure how to proceed and have searched here and elsewhere for this particular error.  Any help is much appreciated!</p>\n\n<p>Here is the complete output from pip:</p>\n\n<pre><code>$ pip install psycopg2\nDownloading/unpacking psycopg2\n  Downloading psycopg2-2.5.2.tar.gz (685kB): 685kB downloaded\n  Running setup.py (path:/private/var/folders/0z/ljjwsjmn4v9_zwm81vhxj69m0000gn/T/pip_build_tino/psycopg2/setup.py) egg_info for package psycopg2\n\nInstalling collected packages: psycopg2\n  Running setup.py install for psycopg2\n    building 'psycopg2._psycopg' extension\n    cc -fno-strict-aliasing -fno-common -dynamic -arch x86_64 -arch i386 -g -Os -pipe -fno-common -fno-strict-aliasing -fwrapv -mno-fused-madd -DENABLE_DTRACE -DMACOSX -DNDEBUG -Wall -Wstrict-prototypes -Wshorten-64-to-32 -DNDEBUG -g -fwrapv -Os -Wall -Wstrict-prototypes -DENABLE_DTRACE -arch x86_64 -arch i386 -pipe -DPSYCOPG_DEFAULT_PYDATETIME=1 -DPSYCOPG_VERSION=\"2.5.2 (dt dec pq3 ext)\" -DPG_VERSION_HEX=0x090303 -DPSYCOPG_EXTENSIONS=1 -DPSYCOPG_NEW_BOOLEAN=1 -DHAVE_PQFREEMEM=1 -I/System/Library/Frameworks/Python.framework/Versions/2.7/include/python2.7 -I. -I/usr/local/Cellar/postgresql/9.3.3/include -I/usr/local/Cellar/postgresql/9.3.3/include/server -c psycopg/psycopgmodule.c -o build/temp.macosx-10.9-intel-2.7/psycopg/psycopgmodule.o\n    clang: error: unknown argument: '-mno-fused-madd' [-Wunused-command-line-argument-hard-error-in-future]\n    clang: note: this will be a hard error (cannot be downgraded to a warning) in the future\n    error: command 'cc' failed with exit status 1\n    Complete output from command /usr/bin/python -c \"import setuptools, tokenize;__file__='/private/var/folders/0z/ljjwsjmn4v9_zwm81vhxj69m0000gn/T/pip_build_tino/psycopg2/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /var/folders/0z/ljjwsjmn4v9_zwm81vhxj69m0000gn/T/pip-bnWiwB-record/install-record.txt --single-version-externally-managed --compile:\n    running install\n\nrunning build\n\nrunning build_py\n\ncreating build\n\ncreating build/lib.macosx-10.9-intel-2.7\n\ncreating build/lib.macosx-10.9-intel-2.7/psycopg2\n\ncopying lib/__init__.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2\n\ncopying lib/_json.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2\n\ncopying lib/_range.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2\n\ncopying lib/errorcodes.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2\n\ncopying lib/extensions.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2\n\ncopying lib/extras.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2\n\ncopying lib/pool.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2\n\ncopying lib/psycopg1.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2\n\ncopying lib/tz.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2\n\ncreating build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/__init__.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/dbapi20.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/dbapi20_tpc.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_async.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_bug_gc.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_bugX000.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_cancel.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_connection.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_copy.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_cursor.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_dates.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_extras_dictcursor.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_green.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_lobject.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_module.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_notify.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_psycopg2_dbapi20.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_quote.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_transaction.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_types_basic.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_types_extras.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_with.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/testconfig.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/testutils.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\nrunning build_ext\n\nbuilding 'psycopg2._psycopg' extension\n\ncreating build/temp.macosx-10.9-intel-2.7\n\ncreating build/temp.macosx-10.9-intel-2.7/psycopg\n\ncc -fno-strict-aliasing -fno-common -dynamic -arch x86_64 -arch i386 -g -Os -pipe -fno-common -fno-strict-aliasing -fwrapv -mno-fused-madd -DENABLE_DTRACE -DMACOSX -DNDEBUG -Wall -Wstrict-prototypes -Wshorten-64-to-32 -DNDEBUG -g -fwrapv -Os -Wall -Wstrict-prototypes -DENABLE_DTRACE -arch x86_64 -arch i386 -pipe -DPSYCOPG_DEFAULT_PYDATETIME=1 -DPSYCOPG_VERSION=\"2.5.2 (dt dec pq3 ext)\" -DPG_VERSION_HEX=0x090303 -DPSYCOPG_EXTENSIONS=1 -DPSYCOPG_NEW_BOOLEAN=1 -DHAVE_PQFREEMEM=1 -I/System/Library/Frameworks/Python.framework/Versions/2.7/include/python2.7 -I. -I/usr/local/Cellar/postgresql/9.3.3/include -I/usr/local/Cellar/postgresql/9.3.3/include/server -c psycopg/psycopgmodule.c -o build/temp.macosx-10.9-intel-2.7/psycopg/psycopgmodule.o\n\nclang: error: unknown argument: '-mno-fused-madd' [-Wunused-command-line-argument-hard-error-in-future]\n\nclang: note: this will be a hard error (cannot be downgraded to a warning) in the future\n\nerror: command 'cc' failed with exit status 1\n\n----------------------------------------\nCleaning up...\nCommand /usr/bin/python -c \"import setuptools, tokenize;__file__='/private/var/folders/0z/ljjwsjmn4v9_zwm81vhxj69m0000gn/T/pip_build_tino/psycopg2/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /var/folders/0z/ljjwsjmn4v9_zwm81vhxj69m0000gn/T/pip-bnWiwB-record/install-record.txt --single-version-externally-managed --compile failed with error code 1 in /private/var/folders/0z/ljjwsjmn4v9_zwm81vhxj69m0000gn/T/pip_build_tino/psycopg2\n</code></pre>\n", "title": "clang error: unknown argument: &#39;-mno-fused-madd&#39; (python package installation failure)", "tags": ["python", "clang", "pip", "osx-mavericks"], "answer_count": 11, "link": "http://stackoverflow.com/questions/22313407/clang-error-unknown-argument-mno-fused-madd-python-package-installation-fa", "answers": [{"body": "<p>Update: 10.9.3 resolves the issue with system CPython.</p>\n\n<p>This is caused by the latest clang update from Apple that came with Xcode 5.1 today and is affecting many, many people, so hopefully a fix will appear soon.</p>\n\n<p>Update: Did not expect this to get so much attention, but here's more detail: the clang 3.4 Apple is shipping defaults to erroring on unknown flags, but CPython builds modules using the same set of flags it was compiled with originally. The system CPython was compiled with several flags that are unknown by clang, thus causing this problem. The following are the current Mavericks (10.9.2) CPython compile flags:</p>\n\n<pre><code>-I/System/Library/Frameworks/Python.framework/Versions/2.7/include/python2.7 -I/System/Library/Frameworks/Python.framework/Versions/2.7/include/python2.7 -fno-strict-aliasing -fno-common -dynamic -arch x86_64 -arch i386 -g -Os -pipe -fno-common -fno-strict-aliasing -fwrapv -mno-fused-madd -DENABLE_DTRACE -DMACOSX -DNDEBUG -Wall -Wstrict-prototypes -Wshorten-64-to-32 -DNDEBUG -g -fwrapv -Os -Wall -Wstrict-prototypes -DENABLE_DTRACE\n</code></pre>\n\n<p>To resolve this issue you have a few options:</p>\n\n<ul>\n<li>Add <code>ARCHFLAGS=-Wno-error=unused-command-line-argument-hard-error-in-future</code> to your compile flags.</li>\n<li>Pass <code>CFLAGS=\"\"</code></li>\n<li>Strip the unsupported flags from the sysconfigdata.py (as is noted in another answer).</li>\n<li>Compile a new python using <a href=\"http://brew.sh\">homebrew</a>.</li>\n<li>Wait for the next OS X update, which is rumored to include recompiled Python/Ruby to remove this issue for system runtimes.</li>\n</ul>\n", "title": "clang error: unknown argument: &#39;-mno-fused-madd&#39; (python package installation failure)", "answer_id": 22315129, "question_id": 22313407, "tags": ["python", "clang", "pip", "osx-mavericks"]}, {"body": "<p>Here is a work around that involves removing the flag from the python installation.</p>\n\n<p>In <code>/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/_sysconfigdata.py</code> are several places where the <code>-mfused-madd</code> / <code>-mno-fused-madd</code> flag is set.</p>\n\n<p>Edit this file and remove all of the references to that flag your compilation should work:</p>\n\n<pre><code>sudo sed -i '.old' 's/ -m\\(no-\\)\\{0,1\\}fused-madd //g' /System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/_sysconfigdata.py\n</code></pre>\n\n<p>You need to delete the corresponding <code>_sysconfigdata.pyc</code> and <code>_sysconfigdata.pyo</code> files as well - at least on my system these files did not automatically get rebuilt:</p>\n\n<pre><code>cd /System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/\nsudo rm _sysconfigdata.pyo _sysconfigdata.pyc\n</code></pre>\n\n<p>Note that have to use root access to make those changes.</p>\n", "title": "clang error: unknown argument: &#39;-mno-fused-madd&#39; (python package installation failure)", "answer_id": 22322068, "question_id": 22313407, "tags": ["python", "clang", "pip", "osx-mavericks"]}, {"body": "<p>You can tell clang to not raise this as an error by setting the following environment variables prior compilation:</p>\n\n<pre><code>export CFLAGS=-Qunused-arguments\nexport CPPFLAGS=-Qunused-arguments\n</code></pre>\n\n<p>Then <code>pip install psycopg2</code>should work.</p>\n\n<p>I had the same when trying to <code>pip install lxml</code>.</p>\n\n<p>Edit: if you are installing as superuser (which will likely be the case if you are trying to append to <code>/Library/Python/2.7/site-packages</code>, the native Apple factory-installed Python distribution which ships with OS X, rather than to some other Python distribution which you have subsequently installed yourself), then you will need to do, as described by @Thijs Kuipers in comments below:</p>\n\n<pre><code>sudo -E pip install psycopg2\n</code></pre>\n\n<p>or the equivalent, for whatever other package name you may be substituting in place of <code>psycopg2</code>.</p>\n\n<p>UPDATE [2014-05-16]: Apple has fixed this problem with updated system Pythons (2.7, 2.6, and 2.5) in <code>OS X 10.9.3</code> so the workaround is no longer necessary when using the latest Mavericks and <code>Xcode 5.1+</code>.  However, as of now, the workaround is still required for <code>OS X 10.8.x</code> (Mountain Lion, currently 10.8.5) if you are using <code>Xcode 5.1+</code> there.</p>\n", "title": "clang error: unknown argument: &#39;-mno-fused-madd&#39; (python package installation failure)", "answer_id": 22322645, "question_id": 22313407, "tags": ["python", "clang", "pip", "osx-mavericks"]}, {"body": "<p>I used <a href=\"http://brew.sh/\" rel=\"nofollow\">homebrew</a> python package.\nWorks well after re-compilling.</p>\n", "title": "clang error: unknown argument: &#39;-mno-fused-madd&#39; (python package installation failure)", "answer_id": 22327627, "question_id": 22313407, "tags": ["python", "clang", "pip", "osx-mavericks"]}, {"body": "<p>xCode 5.1</p>\n\n<pre><code>ARCHFLAGS=-Wno-error=unused-command-line-argument-hard-error-in-future pip install psycopg2\n</code></pre>\n", "title": "clang error: unknown argument: &#39;-mno-fused-madd&#39; (python package installation failure)", "answer_id": 22372751, "question_id": 22313407, "tags": ["python", "clang", "pip", "osx-mavericks"]}, {"body": "<p>I also edited the system python's notion of its original compile flags (as @user3405479 did). Instead of an editor I used command line tools to edit the file \"in place\" (the inode does change). I also compiled new pyo and pyc files instead of leaving them deleted.</p>\n\n<p>The following commands are run as root, for example under <code>sudo -i</code></p>\n\n<p><code>pushd /System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7</code></p>\n\n<p><code>sed 's/-mno-fused-madd//g' _sysconfigdata.py \\\n| diff -p _sysconfigdata.py - | patch -b</code></p>\n\n<p><code>python -m py_compile _sysconfigdata.py</code></p>\n\n<p><code>python -OO -m py_compile _sysconfigdata.py</code></p>\n\n<p><code>popd</code></p>\n", "title": "clang error: unknown argument: &#39;-mno-fused-madd&#39; (python package installation failure)", "answer_id": 22449324, "question_id": 22313407, "tags": ["python", "clang", "pip", "osx-mavericks"]}, {"body": "<p>I used homebrew to install postgresql, and then wanted to install psycopg2 into the system-provided python 2.7 on Mavericks.  To get that to work I ended up running this:</p>\n\n<pre><code>sudo ARCHFLAGS=\"-arch x86_64\" CFLAGS=-Wunused-command-line-argument-hard-error-in-future pip install psycopg2\n</code></pre>\n", "title": "clang error: unknown argument: &#39;-mno-fused-madd&#39; (python package installation failure)", "answer_id": 22667529, "question_id": 22313407, "tags": ["python", "clang", "pip", "osx-mavericks"]}, {"body": "<p>None of the above solutions worked for me.  My situation is slightly different.  I was trying to install rdiff-backup via homebrew when I got this error message.</p>\n\n<p>I apparently have both Apple's default python (2.7.5 @ /usr/bin/python) and Homebrew's python (2.7.6 @ /usr/local/Cellar/python/2.7.6/bin/python), but the error was coming from Apple's python.</p>\n\n<p>To fix the problem, basically I switched the python binaries.</p>\n\n<p>I did this via sudo:</p>\n\n<ul>\n<li>cp /usr/bin/python /usr/bin/python_orig</li>\n<li>ln -s /usr/local/Cellar/python/2.7.6/bin/python /usr/bin/python</li>\n</ul>\n\n<p>Then, 'brew install rdiff-backup' succeeded without any errors.</p>\n\n<p>Finally, I did \"mv /usr/bin/python_orig /usr/bin/python\"  to revert everything back.</p>\n", "title": "clang error: unknown argument: &#39;-mno-fused-madd&#39; (python package installation failure)", "answer_id": 22794591, "question_id": 22313407, "tags": ["python", "clang", "pip", "osx-mavericks"]}, {"body": "<p>Variation on the _sysconfigdata.py fix: use a virtual environment</p>\n\n<p><code>cp /System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/_sysconfigdata.py ${VIRTUAL_ENV}/lib/python2.7/_sysconfigdata.py</code></p>\n\n<p>Then edit your copy at ${VIRTUAL_ENV}/lib/python2.7/_sysconfigdata.py</p>\n\n<p>I removed all the occurences of '-mno-fused-madd' and then builds worked in that virtualenv.</p>\n\n<p>No root needed!</p>\n", "title": "clang error: unknown argument: &#39;-mno-fused-madd&#39; (python package installation failure)", "answer_id": 22847326, "question_id": 22313407, "tags": ["python", "clang", "pip", "osx-mavericks"]}, {"body": "<p>At least Apple is aware of this as this issue is discussed in the Xcode 5.1 <a href=\"https://developer.apple.com/library/mac/releasenotes/DeveloperTools/RN-Xcode/Introduction/Introduction.html\" rel=\"nofollow\" title=\"Release Notes\">Release Notes</a> (Compiler section). Expect an updated Python and Ruby in the next OS update (fingers crossed!). Also take note that the <code>-Wno-error=unused-command-line-argument-hard-error-in-future</code> flag is meant to be a temporary workaround and will go away in the future (hopefully after system Python is fixed!).</p>\n\n<p>If you are a Python package maintainer like me and want to save your users the hassle of working around this themselves, here is a solution (besides providing binary wheels/eggs) that goes into your <code>setup.py</code> file:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>from distutils.command.build_ext import build_ext\nimport subprocess\nimport sys\n\n# Workaround for OS X 10.9.2 and Xcode 5.1+\n# The latest clang treats unrecognized command-line options as errors and the\n# Python CFLAGS variable contains unrecognized ones (e.g. -mno-fused-madd).\n# See Xcode 5.1 Release Notes (Compiler section) and\n# http://stackoverflow.com/questions/22313407 for more details. This workaround\n# follows the approach suggested in http://stackoverflow.com/questions/724664.\nclass build_ext_subclass(build_ext):\n    def build_extensions(self):\n        if sys.platform == 'darwin':\n            # Test the compiler that will actually be used to see if it likes flags\n            proc = subprocess.Popen(self.compiler.compiler + ['-v'],\n                                    stdout=subprocess.PIPE, stderr=subprocess.PIPE,\n                                    universal_newlines=True)\n            stdout, stderr = proc.communicate()\n            clang_mesg = \"clang: error: unknown argument: '-mno-fused-madd'\"\n            if proc.returncode and stderr.splitlines()[0].startswith(clang_mesg):\n                for ext in self.extensions:\n                    # Use temporary workaround to ignore invalid compiler option\n                    # Hopefully -mno-fused-madd goes away before this workaround!\n                    ext.extra_compile_args += ['-Wno-error=unused-command-line-argument-hard-error-in-future']\n        build_ext.build_extensions(self)\n\nsetup(\n    name=\"mypackage\",\n    ...\n    cmdclass={'build_ext' : build_ext_subclass},\n    ...\n)\n</code></pre>\n", "title": "clang error: unknown argument: &#39;-mno-fused-madd&#39; (python package installation failure)", "answer_id": 22931866, "question_id": 22313407, "tags": ["python", "clang", "pip", "osx-mavericks"]}, {"body": "<p>You're probably on Python 2.7.5</p>\n\n<pre><code>$ python\n\nPython 2.7.5 (default, Aug 25 2013, 00:04:04)  [GCC 4.2.1 Compatible\nApple LLVM 5.0 (clang-500.0.68)] on darwin\n</code></pre>\n\n<p>Easiest solution go to www.python.org and install Python 2.7.6 which is compatible with the LLVM 5.1.</p>\n\n<p>Then toast your old virtual environment, <code>rmvirtualenv {virtual_env_name}</code>. </p>\n\n<p>Then make a new virtual env..</p>\n\n<pre><code>mkvirtualenv --no-site-packages -p/Library/Frameworks/Python.framework/Versions/2.7/bin/python {virtual_env_name}\n</code></pre>\n\n<p>pip should work fine after this.</p>\n", "title": "clang error: unknown argument: &#39;-mno-fused-madd&#39; (python package installation failure)", "answer_id": 23277571, "question_id": 22313407, "tags": ["python", "clang", "pip", "osx-mavericks"]}], "question_id": 22313407}, {"body": "<p>After I execute a <code>pod install</code> at the base of my project, I get the following error:</p>\n\n<blockquote>\n  <p>CocoaPods did not set the base configuration of your project because because your project already has a custom config set. In order for CocoaPods integration to work at all, please either set the base configurations of the target <code>BluePlaquesLondonFramework</code> to <code>Pods/Target Support Files/Pods/Pods.debug.xcconfig</code> or include the <code>Pods/Target Support Files/Pods/Pods.debug.xcconfig</code> in your build configuration.</p>\n</blockquote>\n\n<p>This probably sounds like a silly question, but how do I set the base configuration for a target?</p>\n\n<p><a href=\"https://github.com/seanoshea/BluePlaquesLondon/blob/ios8/Podfile\">https://github.com/seanoshea/BluePlaquesLondon/blob/ios8/Podfile</a> is the Podfile which is causing this issue.</p>\n\n<p><a href=\"http://github.com/seanoshea/BluePlaquesLondon\">http://github.com/seanoshea/BluePlaquesLondon</a> on the iOS 8 branch is the Podfile in question if you're curious to see what the project looks like.</p>\n", "title": "Cocoapods Warning - CocoaPods did not set the base configuration of your project because because your project already has a custom config set", "tags": ["ios", "xcode", "cocoapods"], "answer_count": 15, "link": "http://stackoverflow.com/questions/26287103/cocoapods-warning-cocoapods-did-not-set-the-base-configuration-of-your-project", "answers": [{"body": "<p>Go into XCode and open your project settings and under the Info tab, you will see \"Configurations\" where you can set a configuration file for both Debug and Release. You apparently have already set these to some custom config and CocoaPods wants/needs you to use the Pods config.</p>\n\n<p><img src=\"http://i.stack.imgur.com/NOPbi.png\" alt=\"Here&#39;s a screen shot\"></p>\n", "title": "Cocoapods Warning - CocoaPods did not set the base configuration of your project because because your project already has a custom config set", "answer_id": 26287204, "question_id": 26287103, "tags": ["ios", "xcode", "cocoapods"]}, {"body": "<p>The line in the podfile that is generating a problem is : link_with ['BluePlaquesLondon', 'BluePlaquesLondonFramework'].</p>\n\n<p>Just make  this : link_with ['BluePlaquesLondon'] or this (worked in my case, hope it will in yours :-)) :</p>\n\n<pre><code>source 'https://github.com/CocoaPods/Specs.git'\nplatform :ios, '8.0'\n\nxcodeproj 'BluePlaquesLondon.xcodeproj'\ninhibit_all_warnings!\nlink_with ['BluePlaquesLondon']\n\ndef import_pods\n\n     pod 'TTTAttributedLabel', '~&gt; 1.10.1'\n     pod 'GoogleAnalytics-iOS-SDK', '~&gt; 3.0.9'\n     pod 'Google-Maps-iOS-SDK'\n     pod 'IntentKit'\n     pod 'HCViews'\n     pod 'SVProgressHUD', :head\n     pod 'iRate'\n     pod 'iOS-KML-Framework', :git =&gt; 'https://github.com/FLCLjp/iOS-KML-Framework.git'\n\nend\n\nimport_pods\n\ntarget \"BluePlaquesLondonFramework\" do\n    import_pods\n    pod 'Kiwi'\nend\n</code></pre>\n", "title": "Cocoapods Warning - CocoaPods did not set the base configuration of your project because because your project already has a custom config set", "answer_id": 26467294, "question_id": 26287103, "tags": ["ios", "xcode", "cocoapods"]}, {"body": "<p>I had the same error while pod install. I tried everything (reinstall pod, update all gems, etc.) and I found solution worked in my case. There was problem because of changing target's name. In this case solution is simple:</p>\n\n<ol>\n<li>Click Product -> Scheme -> Manage Schemes...</li>\n<li>Click on your target on the list and delete it with \"-\" sign on bottom of window.</li>\n<li>Click \"+\" to add target back to list. Choose correct target and name.</li>\n</ol>\n\n<p>After all everything should works. </p>\n", "title": "Cocoapods Warning - CocoaPods did not set the base configuration of your project because because your project already has a custom config set", "answer_id": 26737994, "question_id": 26287103, "tags": ["ios", "xcode", "cocoapods"]}, {"body": "<p>In case you are using custom config you can follow the suggestion in the warning and include the Pod config in your config file</p>\n\n<pre><code>     #include \"Pods/Target Support Files/Pods-YYY/Pods-YYYY.develop-archive.xcconfig\"\n</code></pre>\n\n<p>This will NOT stop the warnings but will allow you to use your private config (there is an open bug on the warning with CocoaPods project)\n<a href=\"https://github.com/CocoaPods/CocoaPods/issues/2633\" rel=\"nofollow\">https://github.com/CocoaPods/CocoaPods/issues/2633</a></p>\n", "title": "Cocoapods Warning - CocoaPods did not set the base configuration of your project because because your project already has a custom config set", "answer_id": 27023612, "question_id": 26287103, "tags": ["ios", "xcode", "cocoapods"]}, {"body": "<p>I had the same problem, but in Xcode 6.1.1 - what fixed it for me was to change the configuration file setting to <code>None</code> for the two Pods-related targets, then run <code>pod install</code> again.</p>\n\n<p>The configuration file setting is found by selecting the project (not the target) and then the Info tab.</p>\n", "title": "Cocoapods Warning - CocoaPods did not set the base configuration of your project because because your project already has a custom config set", "answer_id": 27039447, "question_id": 26287103, "tags": ["ios", "xcode", "cocoapods"]}, {"body": "<p>Ran into the same problem. It would build on the simulator but not on my device. None of the answers solved this for me. Here's what I did piecing some answers together:</p>\n\n<ol>\n<li><p>Changed my pods file to use a specific target:</p>\n\n<pre><code>target :MyProject do\n    pod 'AWSCognitoSync'\n    pod 'Facebook-iOS-SDK'\nend\n</code></pre></li>\n<li><p>Ran pod install</p></li>\n<li>That gives an error:\n<code>[!] CocoaPods did not set the base configuration of your project because your project already has a custom config set. In order for CocoaPods integration to work at all, please either set the base configurations of the target `MyProject` to `Pods/Target Support Files/Pods-MyProject/Pods-MyProject.debug.xcconfig` or include the `Pods/Target Support Files/Pods-MyProject/Pods-MyProject.debug.xcconfig` in your build configuration.</code></li>\n<li>Go Project settings and click on Info tab. There will be an error where it cannot find the Configuration file. Set it to \"None\" for Debug and Release.</li>\n<li>Run pod install yet again</li>\n<li>Clean and build. This works.</li>\n</ol>\n", "title": "Cocoapods Warning - CocoaPods did not set the base configuration of your project because because your project already has a custom config set", "answer_id": 28116102, "question_id": 26287103, "tags": ["ios", "xcode", "cocoapods"]}, {"body": "<p>If you added a custom build configuration to your existing project, Cocoapods will complain about it.</p>\n\n<p>Cocoapods will automatically create xcconfig files under the directory <code>Pods/Target Support Files/&lt;build_target&gt;</code> following the naming pattern <code>Pods-&lt;build_target&gt;.&lt;build_config&gt;.xcconfig</code>.</p>\n\n<p>Just make sure to manually add those files to your project in Xcode (under the Pods directory, but not inside the Pods project!).  Once those files are included select your project in Xcode, go to the \"Info\" tab, and expand your custom configuration.  Select the appropriate xcconfig file for each target under your custom configuration.</p>\n", "title": "Cocoapods Warning - CocoaPods did not set the base configuration of your project because because your project already has a custom config set", "answer_id": 28857139, "question_id": 26287103, "tags": ["ios", "xcode", "cocoapods"]}, {"body": "<p>You should also make sure that you have no pods in the root of <code>Podfile</code>, you should define all the pods that are used in many targets like that:</p>\n\n<pre><code>def shared_pods\n  pod 'ReactiveCocoa', '~&gt; 2.5'\nend\ntarget 'app' do\n  shared_pods\n  pod 'RestKit'\nend\ntarget 'tests' do\n  shared_pods\n  pod 'OCMock'\nend\n</code></pre>\n\n<p>You also might need to delete <code>libPods.a</code> and <code>libPods-app.a</code> from the target dependencies, perform a clean and then run <code>pod install</code> again.</p>\n", "title": "Cocoapods Warning - CocoaPods did not set the base configuration of your project because because your project already has a custom config set", "answer_id": 30317591, "question_id": 26287103, "tags": ["ios", "xcode", "cocoapods"]}, {"body": "<ol>\n<li>Add the relevent xcconfig files to your project. Cocoapods will have created them but you can't set them in Xcode until they are in the project.\n\n<ul>\n<li>You probably want to add them to the Pods group where the other pods xcconfig files are. Right click and add files.</li>\n<li>Search for xcconfig files in your project folder or look in <code>Pods/Target Support Files/[TARGET_NAME]/</code> (I have different cocoapods configured for each target (extension and main project this may be slightly different in your case)</li>\n</ul></li>\n<li>Go to project configurations in the Info of your main project</li>\n<li>For each target and configuration set the appropriate pods configuration.</li>\n<li><code>pod install</code> again and you should see no errors.</li>\n</ol>\n", "title": "Cocoapods Warning - CocoaPods did not set the base configuration of your project because because your project already has a custom config set", "answer_id": 31315972, "question_id": 26287103, "tags": ["ios", "xcode", "cocoapods"]}, {"body": "<p>I was able to build the project touched by this issue on XCode 6 by: </p>\n\n<ul>\n<li>selecting Project from the Project Navigator</li>\n<li>choosing Project instead of Target </li>\n<li>going to Info tab</li>\n<li>choosing Pods.(debug/release) Configuration Files from the combobox for the respective Configurations.</li>\n</ul>\n\n<p>Hope this will help someone.</p>\n", "title": "Cocoapods Warning - CocoaPods did not set the base configuration of your project because because your project already has a custom config set", "answer_id": 32228364, "question_id": 26287103, "tags": ["ios", "xcode", "cocoapods"]}, {"body": "<p>The simplest solution for this (after having this issue multiple times):</p>\n\n<ol>\n<li>Delete Podfile &amp; Podfile.lock from your project library (save Podfile somewhere so you could easily paste to new Podfile)</li>\n<li>run 'pod init'</li>\n<li>Edit the 'Podfile' to your will (add pods you are using) </li>\n<li>run 'pod install'</li>\n</ol>\n\n<p>This would recreate everything and works always in minutes (not spending time to reverse engineer the \"bug\").</p>\n", "title": "Cocoapods Warning - CocoaPods did not set the base configuration of your project because because your project already has a custom config set", "answer_id": 33257037, "question_id": 26287103, "tags": ["ios", "xcode", "cocoapods"]}, {"body": "<p>I just ran into this issue after adding some custom build configurations. I could see under:</p>\n\n<pre><code>Pods (target) &gt; Target Support Files &gt; Pods\n</code></pre>\n\n<p>that it had actually created the new <code>xcconfig</code> files that matched the new build configurations but for some reason I could not select these in the project target of my app.</p>\n\n<p>What fixed it for me was to install and use <a href=\"https://github.com/CocoaPods/cocoapods-deintegrate\" rel=\"nofollow\">cocoapods-deintegrate</a>:</p>\n\n<pre><code>gem install cocoapods-deintegrate\n</code></pre>\n\n<p>and then run:</p>\n\n<pre><code>pod deintegrate\n</code></pre>\n\n<p>followed by:</p>\n\n<pre><code>pod install\n</code></pre>\n", "title": "Cocoapods Warning - CocoaPods did not set the base configuration of your project because because your project already has a custom config set", "answer_id": 33304713, "question_id": 26287103, "tags": ["ios", "xcode", "cocoapods"]}, {"body": "<h1>Don't tinker, Reset.</h1>\n\n<p><strong>Step-by-step</strong></p>\n\n<ol>\n<li>Show Project Navigator</li>\n<li>Select Project</li>\n<li>Select <code>Info</code></li>\n<li>In <strong>Configurations</strong>, select each one, one at a time (Debug, ApplicationUnitTest, Release, etc.), and for each target within said configuration, set configuration to <strong>None</strong>.</li>\n<li>Make certain that <em>Based on Configuration File</em> reads <strong>0 Configurations Set</strong> or <strong>No Configurations Set</strong> for <strong>each</strong> configuration. That is the crux.\n<a href=\"http://i.stack.imgur.com/tNwX1.png\"><img src=\"http://i.stack.imgur.com/tNwX1.png\" alt=\"0 Configurations Set\"></a></li>\n<li><strong>Quit</strong> Xcode</li>\n<li><code>rm -rf Pods/ Podfile.lock ; pod install</code></li>\n</ol>\n\n<hr>\n\n<p><em>Once you have allowed <code>pod install</code> in step <code>7</code> to do it's magic, you may be able to use a custom config and change your configurations.</em></p>\n", "title": "Cocoapods Warning - CocoaPods did not set the base configuration of your project because because your project already has a custom config set", "answer_id": 33509278, "question_id": 26287103, "tags": ["ios", "xcode", "cocoapods"]}, {"body": "<p>This happened to me because I already had a Pod configuration. I'm new on iOS development, was searching instructions to install Alamofire + SwiftyJSON and ended up installing the libraries more than once, inadvertently. To me, what worked was: on the folder \"Target Support Files\" in \"Pods\" project, I selected the two correct .xcconfig files and dragged them to the \"Pods\" folder of my app project. This enabled the selection of the correct config files on the base configuration.</p>\n\n<p>But then, if I run \"pod install\" again, the warning will change to the previous .xcconfig file. I try to delete the files and the old framework from the main project but when i ran the previous command once more, gave me the same warning, and created the file \"Pods.framework\" under the \"Pods\" folder of my app project. I ignored it, and it seems to be running ok, despite the two frameworks. I don't know if it's right, and a solution, if exists, it would be welcomed. </p>\n", "title": "Cocoapods Warning - CocoaPods did not set the base configuration of your project because because your project already has a custom config set", "answer_id": 33522232, "question_id": 26287103, "tags": ["ios", "xcode", "cocoapods"]}, {"body": "<p>I moved pods in Podfile outside from the target. File changes from this:</p>\n\n<pre><code># Uncomment this line to define a global platform for your project\n# platform :ios, '8.0'\n# Uncomment this line if you're using Swift\nuse_frameworks!\n\ntarget 'MyProject' do\n\npod 'Firebase', '&gt;= 2.5.0'\npod 'Onboard'\npod 'GoogleMaps'\npod 'IQDropDownTextField'\n\nend\n</code></pre>\n\n<hr>\n\n<p>To this:</p>\n\n<pre><code># Uncomment this line to define a global platform for your project\n# platform :ios, '8.0'\n# Uncomment this line if you're using Swift\nuse_frameworks!\n\npod 'Firebase', '&gt;= 2.5.0'\npod 'Onboard'\npod 'GoogleMaps'\npod 'IQDropDownTextField'\n\ntarget 'MyProject' do\n\nend\n</code></pre>\n", "title": "Cocoapods Warning - CocoaPods did not set the base configuration of your project because because your project already has a custom config set", "answer_id": 36270607, "question_id": 26287103, "tags": ["ios", "xcode", "cocoapods"]}], "question_id": 26287103}, {"body": "<p>I'm having error running chrome cast sender in Chrome Incognito or if chrome cast extension is not installed. </p>\n\n<pre><code>Failed to load resource: net::ERR_ADDRESS_UNREACHABLE chrome-extension://boadgeojelhgndaghljhdicfkmllpafd/cast_sender.js\nFailed to load resource: net::ERR_ADDRESS_UNREACHABLE chrome-extension://dliochdbjfkdbacpmhlcpmleaejidimm/cast_sender.js\nFailed to load resource: net::ERR_ADDRESS_UNREACHABLE chrome-extension://hfaagokkkhdbgiakmmlclaapfelnkoah/cast_sender.js\nFailed to load resource: net::ERR_ADDRESS_UNREACHABLE chrome-extension://fmfcbgogabcbclcofgocippekhfcmgfj/cast_sender.js\nFailed to load resource: net::ERR_ADDRESS_UNREACHABLE chrome-extension://enhhojjnijigcajfphajepfemndkmdlo/cast_sender.js\nNo cast extension found\n</code></pre>\n\n<p>Google cast sender is trying to send ajax requests for local \"cast_sender.js\". Should this happen or there's a better way to check if chrome-cast sender extension exists (not by requesting ajax request)?</p>\n\n<p>I believe these ajax requests are a way of asking if chrome cast extension exists. I there a better way to check if chrome cast extension exists?</p>\n", "title": "Google chrome cast sender error if chrome cast extension is not installed or using incognito", "tags": ["javascript", "google-chrome-extension", "google-chrome-devtools", "chromecast"], "answer_count": 5, "link": "http://stackoverflow.com/questions/24490323/google-chrome-cast-sender-error-if-chrome-cast-extension-is-not-installed-or-usi", "answers": [{"body": "<p>By default Chrome extensions do not run in Incognito mode. You have to explicitly enable the extension to run in Incognito.</p>\n", "title": "Google chrome cast sender error if chrome cast extension is not installed or using incognito", "answer_id": 24502588, "question_id": 24490323, "tags": ["javascript", "google-chrome-extension", "google-chrome-devtools", "chromecast"]}, {"body": "<p><em>Update: After several attempts, it looks like this may have been fixed in latest Chrome builds (per <a href=\"http://stackoverflow.com/questions/24490323/google-chrome-cast-sender-error-if-chrome-cast-extension-is-not-installed-or-usi/26095117?noredirect=1#comment61420504_26095117\">Paul Irish's comment below</a>). That would suggest we will see this fixed in stable Chrome June-July 2016. Let's see ...</em></p>\n\n<p>This is a known bug with the official Chromecast JavaScript library. Instead of failing silently, it dumps these error messages in all non-Chrome browsers as well as Chrome browsers where the Chromecast extension isn't present.</p>\n\n<p>The Chromecast team have indicated they <a href=\"https://code.google.com/p/google-cast-sdk/issues/detail?id=309\">won't fix this bug</a>.</p>\n\n<p><strong>If you are a developer shipping with this library, you can't do anything about it according to Chromecast team.</strong> You can only inform users to ignore the errors. (I believe Chromecast team is not entirely correct as the library could, at the least, avoid requesting the extension scipt if the browser is not Chrome. And I suspect it could be possible to suppress the error even if it is Chrome, but haven't tried anything.)</p>\n\n<p><strong>If you are a user annoyed by these console messages, you can switch to Chrome if not using it already.</strong> <strong>Within Chrome, either:</strong></p>\n\n<ul>\n<li><strong>Install the Chromecast extension <a href=\"https://chrome.google.com/webstore/detail/google-cast/boadgeojelhgndaghljhdicfkmllpafd/reviews?hl=en\">from here</a>.</strong></li>\n<li><strong>Configure devtools to hide the error message (<a href=\"http://stackoverflow.com/a/32872928/18706\">see David's answer below</a>).</strong></li>\n</ul>\n\n<p><em>Update [Nov 13, 2014]: The problem has now been acknowledged by Google. A member of the Chromecast team seems to suggest the issue will be bypassed by a change the team is currently working on.</em></p>\n\n<p><em>Update 2 [Feb 17, 2015]: The team claim there's nothing they can do to remove the error logs as it's a standard Chrome network error and they are still working on a long-term fix. Public comments on the bug tracker were closed with that update.</em></p>\n\n<p><em>Update 3 [Dec 4, 2015]: This has finally been fixed! In the end, Chrome team simply added some code to block out this specific error. Hopefully some combination of devtools and extensions API will be improved in the future to make it possible to fix this kind of problem without patching the browser. <a href=\"https://twitter.com/ChromeDevTools/status/672533544724357121\">Chrome Canary already has the patch</a>, so it should roll out to all users around mid-January. Additionally, the team <a href=\"https://code.google.com/p/chromium/issues/detail?id=476707#c16\">has confirmed</a> the issue no longer affects other browsers as the SDK was updated to only activate if it's in Chrome.</em></p>\n\n<p><em>Update 4 (April 30): Nope, not yet anyway. Thankfully Google's developer relations team are more aware than certain other stakeholders how badly this has affected developer experience. More whitelist updates have recently been made to clobber these log messages. Current status at top of the post.</em></p>\n", "title": "Google chrome cast sender error if chrome cast extension is not installed or using incognito", "answer_id": 26095117, "question_id": 24490323, "tags": ["javascript", "google-chrome-extension", "google-chrome-devtools", "chromecast"]}, {"body": "<p>If you want to temporarily get rid of these console errors (like I did) you can install the extension here: <a href=\"https://chrome.google.com/webstore/detail/google-cast/boadgeojelhgndaghljhdicfkmllpafd/reviews?hl=en\">https://chrome.google.com/webstore/detail/google-cast/boadgeojelhgndaghljhdicfkmllpafd/reviews?hl=en</a></p>\n\n<p>I left a review asking for a fix. You can also do a bug report via the extension (after you install it) here. Instructions for doing so are here: <a href=\"https://support.google.com/chromecast/answer/3187017?hl=en\">https://support.google.com/chromecast/answer/3187017?hl=en</a> </p>\n\n<p>I hope Google gets on this. I need my console to show my errors, etc. Not theirs. </p>\n", "title": "Google chrome cast sender error if chrome cast extension is not installed or using incognito", "answer_id": 27466293, "question_id": 24490323, "tags": ["javascript", "google-chrome-extension", "google-chrome-devtools", "chromecast"]}, {"body": "<p>i know it is not the best solution, but the only one supposed solution that i have read for all the web is to install chrome cast extension, so, i've decide, not to put the iframe into the website, i just insert the thumnail of my video from youtube like in <a href=\"https://stackoverflow.com/questions/2068344/how-do-i-get-a-youtube-video-thumbnail-from-the-youtube-api/2068371#2068371\">this</a> post explain. </p>\n\n<p>and here we have two options:<br>\n1) Target the video to the channel and play it there<br>\n2) Call the video via ajax, like explain <a href=\"http://stackoverflow.com/questions/11166615/jquery-ajax-call-fails-for-getting-json-using-youtube-api-in-some-videos\">here</a> (i've decided for this one) in a colorbox or any another plugin.</p>\n\n<p>and like this, i prevent the google cast sender error make my site slow</p>\n", "title": "Google chrome cast sender error if chrome cast extension is not installed or using incognito", "answer_id": 32144550, "question_id": 24490323, "tags": ["javascript", "google-chrome-extension", "google-chrome-devtools", "chromecast"]}, {"body": "<h2><strong>How about filtering these errors ?</strong></h2>\n\n<p>With the regex filter bellow, we can dismiss <code>cast_sender.js</code> errors :</p>\n\n<pre><code>^((?!cast_sender).)*$\n</code></pre>\n\n<p>Do not forget to check Regex box.</p>\n\n<p><a href=\"http://i.stack.imgur.com/5j1Cz.png\"><img src=\"http://i.stack.imgur.com/5j1Cz.png\" alt=\"enter image description here\"></a></p>\n\n<h2>Another <strong><em>quick</em></strong> solution is to \"Hide network messages\".</h2>\n\n<p><a href=\"http://i.stack.imgur.com/g0oAJ.png\"><img src=\"http://i.stack.imgur.com/g0oAJ.png\" alt=\"enter image description here\"></a></p>\n", "title": "Google chrome cast sender error if chrome cast extension is not installed or using incognito", "answer_id": 32872928, "question_id": 24490323, "tags": ["javascript", "google-chrome-extension", "google-chrome-devtools", "chromecast"]}], "question_id": 24490323}, {"body": "<p>I'm a newbie to Java programming, trying to get the hang of OOP.</p>\n\n<p>So I built this abstract class:</p>\n\n<pre><code>public abstract class Vehicle{....}\n</code></pre>\n\n<p>and 2 subclasses:</p>\n\n<pre><code>public class Car extends Vehicle{....}\npublic class Boat extends Vehicle{....}\n</code></pre>\n\n<p><code>Car</code> and <code>Boat</code> also hold some unique fields and methods that aren't common (don't have the same name, so I can't define an abstract method for them in Vehicle).</p>\n\n<p>Now in mainClass I have setup my new Garage:</p>\n\n<pre><code>Vehicle[] myGarage= new Vehicle[10];\nmyGarage[0]=new Car(2,true);\nmyGarage[1]=new Boat(4,600);\n</code></pre>\n\n<p>I was very happy with polymorphism until I tried to access one of the fields that are unique to Car, such as:</p>\n\n<pre><code>boolean carIsAutomatic = myGarage[0].auto;\n</code></pre>\n\n<p>The compiler doesn't accept that. I worked around this issue using casting:</p>\n\n<pre><code>boolean carIsAutomatic = ((Car)myGarage[0]).auto;\n</code></pre>\n\n<p>That works... but it doesn't help with methods, just fields. Meaning I can't do</p>\n\n<pre><code>(Car)myGarage[0].doSomeCarStuff();\n</code></pre>\n\n<p>So my question is - what do I really have in my garage? I'm trying to get the intuition as well as understand what's going on \"behind the scenes\".</p>\n\n<hr>\n\n<p>for the sake of future readers, a short summary of the answers below:</p>\n\n<ol>\n<li>Yes, there's a <code>Car</code> in <code>myGarage[]</code></li>\n<li>Being a static typed language, the Java compiler will not lend access to methods/fields that are non-\"Vehicle\", if accessing those through a data structure based on the Vehicle super class( such as <code>Vehicle myGarage[]</code>)</li>\n<li>As for how to solve, there are 2 main approaches below:\n<ol>\n<li>Use type casting, which will ease the compiler's concerns and leave any errors in the design to run time</li>\n<li>The fact that I need casting says the design is flawed. If I need access to non-Vehicle capabilities then I shouldn't be storing the Cars and Boats in a Vehicle based data structure. Either make all those capabilities belong to Vehicle, or use more specific (derived) type based structures</li>\n</ol></li>\n<li>In many cases, composition and/or interfaces would be a better alternative to inheritance. Probably the subject of my next question...</li>\n<li>Plus many other good insights down there, if one does have the time to browse through the answers. </li>\n</ol>\n", "title": "Do I really have a car in my garage?", "tags": ["java", "inheritance"], "answer_count": 13, "link": "http://stackoverflow.com/questions/24883075/do-i-really-have-a-car-in-my-garage", "answers": [{"body": "<p>You garage contains Vehicles, so the compiler static control view that you have a Vehicle and as .auto is a Car field you can't access it, dynamically it is a Car so the cast don't create some problem, if it will be a Boat and you try to make cast to Car will rise an exception on runtime.</p>\n", "title": "Do I really have a car in my garage?", "answer_id": 24883183, "question_id": 24883075, "tags": ["java", "inheritance"]}, {"body": "<p>If you operate on the base type, you can only access public methods and fields of it.</p>\n\n<p>If you want to access the extended type, but have a field of the base type where it's stored (as in your case), you first have to cast it and then you can access it:</p>\n\n<pre><code>Car car = (Car)myGarage[0];\ncar.doSomeCarStuff();\n</code></pre>\n\n<p>Or shorter without temp field:</p>\n\n<pre><code>((Car)myGarage[0]).doSomeCarStuff();\n</code></pre>\n\n<p>Since you are using <code>Vehicle</code> objects, you can only call methods from the base class on them without casting. So for your garage it may be advisable to distinguish the objects in different arrays - or better lists - an array is often not a good idea, since it's far less flexible in handling than a <code>Collection</code>-based class.</p>\n", "title": "Do I really have a car in my garage?", "answer_id": 24883197, "question_id": 24883075, "tags": ["java", "inheritance"]}, {"body": "<p>You defined that your garage will store vehicles, so you do not care what type of vehicles you have. The vehicles have common features like engine, wheel, behavior like moving. \nThe actual representation of these features might be different, but at abstract layer are the same. \nYou used abstract class which means that some attributes, behaviors are exactly the same by both vehicle. If you want to express that your vehicles have common abstract features then use interface like moving might mean different by car and boat. Both can get from point A to point B, but in a different way (on wheel or on water - so the implementation will be different)\nSo you have vehicles in the garage which behave the same way and you do not car about the specific features of them.</p>\n\n<p>To answer the comment:</p>\n\n<p>Interface means a contract which describes how to communicate with the outer world. In the contract you define that your vehicle can move, can be steered, but you do not describe how it will actually work, it is described in the implementation.By abstract class you might have functions where you share some implementation, but you also have function which you do not know how it will be implemented.</p>\n\n<p>One example of using abstract class:</p>\n\n<pre><code>    abstract class Vehicle {\n\n    protected abstract void identifyWhereIAm();\n    protected abstract void startEngine();\n    protected abstract void driveUntilIArriveHome();\n    protected abstract void stopEngine();\n\n    public void navigateToHome() {\n        identifyWhereIAm();\n        startEngine();\n        driveUntilIArriveHome();\n        stopEngine();\n    } \n}\n</code></pre>\n\n<p>You will use the same steps by each vehicle, but the implementation of the steps will differ by vehicle type. Car might use GPS, boat might use sonar to identify where it is.</p>\n", "title": "Do I really have a car in my garage?", "answer_id": 24883214, "question_id": 24883075, "tags": ["java", "inheritance"]}, {"body": "<p>To answer your question you can find out what exactly is in your garage you do the following:</p>\n\n<pre><code>Vehicle v = myGarage[0];\n\nif (v instanceof Car) {\n   // This vehicle is a car\n   ((Car)v).doSomeCarStuff();\n} else if(v instanceof Boat){\n   // This vehicle is a boat\n   ((Boat)v).doSomeBoatStuff();\n}\n</code></pre>\n\n<p>UPDATE: As you can read from the comments below, this method is okay for simple solutions but it is not good practice, particularly if you have a huge number of vehicles in your garage. So use it only if you know the garage will stay small. If that's not the case, search for \"Avoiding instanceof\" on stack overflow, there are multiple ways to do it.</p>\n", "title": "Do I really have a car in my garage?", "answer_id": 24883263, "question_id": 24883075, "tags": ["java", "inheritance"]}, {"body": "<p>If you need to make the difference between <code>Car</code> and <code>Boat</code> in your garage, then you should store them in distinct structures.</p>\n\n<p>For instance:</p>\n\n<pre><code>public class Garage {\n    private List&lt;Car&gt; cars;\n    private List&lt;Boat&gt; boats;\n}\n</code></pre>\n\n<p>Then you can define methods that are specific on boats or specific on cars.</p>\n\n<h2>Why have polymorphism then?</h2>\n\n<p>Let's say <code>Vehicle</code> is like:</p>\n\n<pre><code>public abstract class Vehicle {\n   protected int price;\n   public getPrice() { return price; }\n   public abstract int getPriceAfterYears(int years);\n}\n</code></pre>\n\n<p>Every <code>Vehicle</code> has a price so it can be put inside the <code>Vehicle</code> abstract class.</p>\n\n<p>Yet, the formula determining the price after n years depends on the vehicle, so it left to the implementing class to define it. For instance:</p>\n\n<pre><code>public Car extends Vehicle {\n    // car specific\n    private boolean automatic;\n    @Override\n    public getPriceAfterYears(int years) {\n        // losing 1000$ every year\n        return Math.max(0, this.price - (years * 1000));  \n    }\n}\n</code></pre>\n\n<p>The <code>Boat</code> class may have an other definition for <code>getPriceAfterYears</code> and specific attributes and methods.</p>\n\n<p>So now back in the <code>Garage</code> class, you can define:</p>\n\n<pre><code>// car specific\npublic int numberOfAutomaticCars() {\n    int s = 0;\n    for(Car car : cars) {\n        if(car.isAutomatic()) {\n            s++;\n        }\n    }\n    return s;\n}\npublic List&lt;Vehicle&gt; getVehicles() {\n    List&lt;Vehicle&gt; v = new ArrayList&lt;&gt;(); // init with sum\n    v.addAll(cars);\n    v.addAll(boats);\n    return v;\n}\n// all vehicles method\npublic getAveragePriceAfterYears(int years) {\n    List&lt;Vehicle&gt; vehicules = getVehicles();\n    int s = 0;\n    for(Vehicle v : vehicules) {\n        // call the implementation of the actual type!\n        s += v.getPriceAfterYears(years);  \n    }\n    return s / vehicules.size();\n}\n</code></pre>\n\n<p>The interest of polymorphism is to be able to call <code>getPriceAfterYears</code> on a <code>Vehicle</code> <strong>without</strong> caring about the implementation.</p>\n\n<p>Usually, downcasting is a sign of a flawed design: do not store your vehicles all together if you need to differenciate their actual type.</p>\n\n<p>Note: of course the design here can be easily improved. It is just an example to demonstrate the points.</p>\n", "title": "Do I really have a car in my garage?", "answer_id": 24884027, "question_id": 24883075, "tags": ["java", "inheritance"]}, {"body": "<p>Your problem here is at a more fundamental level: you built <code>Vehicle</code> in such a way that <code>Garage</code> needs to know more about its objects than the <code>Vehicle</code> interface gives away. You should try and build the <code>Vehicle</code> class from the <code>Garage</code> perspective (and in general from the perspective of everything that's going to use <code>Vehicle</code>): what kind of things do they need to do with their vehicles? How can I make those things possible with my methods?</p>\n\n<p>For example, from your example:</p>\n\n<pre><code>bool carIsAutomatic = myGarage[0].auto;\n</code></pre>\n\n<p>Your garage want to know about a vehicle's engine for... reasons? Anyway, there is no need for this to be just exposed by <code>Car</code>. You can still expose an unimplemented <code>isAutomatic()</code> method in <code>Vehicle</code>, then implement it as <code>return True</code> in <code>Boat</code> and <code>return this.auto</code> in <code>Car</code>.</p>\n\n<p>It would be even better to have a three-valued <code>EngineType</code> enum (<code>HAS_NO_GEARS</code>, <code>HAS_GEARS_AUTO_SHIFT</code>, <code>HAS_GEARS_MANUAL_SHIFT</code>), which would let your code reason on the actual characteristics of a generic <code>Vehicle</code> cleanly and accurately. (You'd need this distinction to handle motorbikes, anyway.)</p>\n", "title": "Do I really have a car in my garage?", "answer_id": 24892448, "question_id": 24883075, "tags": ["java", "inheritance"]}, {"body": "<blockquote>\n  <p>I'm a newbie to Java programming, trying to get the hang of OOP.</p>\n</blockquote>\n\n<p>Just my 2 cents \u2014 I will try to make it short as many interesting things have already been said. But, in fact, there is two questions here. One about \"OOP\" and one about how it is implemented in Java.</p>\n\n<p>First of all, yes, you <em>have</em> a car in your garage. So your assumptions are right. But, Java is a <strong>statically typed</strong> language. And the type system in the compiler can only \"know\" the type of your various object by their corresponding <em>declaration</em>. Not by their usage. If you have an array of <code>Vehicle</code>, the compiler only knows that. So it will check that you only perform operation allowed on <em>any</em> <code>Vehicle</code>. (In other words, <em>methods</em> and <em>attributes</em> visible in the <code>Vehicle</code> declaration).</p>\n\n<p>You can explain to the compiler that <em>\"you in fact know this <code>Vehicle</code> is a <code>Car</code>\"</em>, by using an explicit cast <code>(Car)</code>. the compiler will believe you -- even if <em>in Java</em> there is a check at run-time, that might lead to a <code>ClassCastException</code> that prevent further damages if you <em>lied</em> <sub>(other language like C++ won't check at run-time - you have to know what you do)</sub></p>\n\n<p>Finally, if you really need, you might rely of run-time type identification (i.e.: <code>instanceof</code>) to check the \"real\" type of an object before attempting to cast it. But this is mostly considered as a bad practice in Java.</p>\n\n<p>As I said, this is the Java way of implementing OOP. There is whole different <del>class</del> <em>family</em> of languages broadly known as <em>\"dynamic languages\"</em>, that <em>only check at run-time</em> if an operation is allowed on an object or not. With those languages, you don't need to \"move up\" all the common methods to some (possibly abstract) base class to satisfy the type system. This is called <a href=\"http://en.wikipedia.org/wiki/Duck_typing\" rel=\"nofollow\">duck typing</a>.</p>\n", "title": "Do I really have a car in my garage?", "answer_id": 24910997, "question_id": 24883075, "tags": ["java", "inheritance"]}, {"body": "<p>You asked your butler:</p>\n\n<blockquote>\n  <p>Jeeves, remember my garage on the Isle of Java? Go check whether the first vehicle parked there is automatic.</p>\n</blockquote>\n\n<p>and lazy Jeeves said:</p>\n\n<blockquote>\n  <p>but sir, what if it's a vehicle that can't be automatic or non-automatic?</p>\n</blockquote>\n\n<p>That's all.</p>\n\n<p><sub>Ok, that's not really all since reality is more duck-typed than statically typed. That's why I said Jeeves is lazy.</sub></p>\n", "title": "Do I really have a car in my garage?", "answer_id": 24915947, "question_id": 24883075, "tags": ["java", "inheritance"]}, {"body": "<p>I'm really just pooling the ideas of the others here (and I'm not a Java guy, so this is pseudo rather than actual) but, in this contrived example, I would abstract my car checking approach into a dedicated class, that only knows about cars and only cares about cars when looking at garages:</p>\n\n<pre><code>abstract class Vehicle { \n    public abstract string getDescription() ;\n}\n\nclass Transmission {\n    public Transmission(bool isAutomatic) {\n        this.isAutomatic = isAutomatic;\n    }\n    private bool isAutomatic;\n    public bool getIsAutomatic() { return isAutomatic; }\n}\n\nclass Car extends Vehicle {\n    @Override\n    public string getDescription() { \n        return \"a car\";\n    }\n\n    private Transmission transmission;\n\n    public Transmission getTransmission() {\n        return transmission;\n    }\n}\n\nclass Boat extends Vehicle {\n    @Override\n    public string getDescription() {\n        return \"a boat\";\n    }\n}\n\npublic enum InspectionBoolean {\n    FALSE, TRUE, UNSUPPORTED\n}\n\npublic class CarInspector {\n    public bool isCar(Vehicle v) {\n        return (v instanceof Car);\n    }\n    public bool isAutomatic(Car car) {\n        Transmission t = car.getTransmission();\n        return t.getIsAutomatic();\n    }\n    public bool isAutomatic(Vehicle vehicle) {\n        if (!isCar(vehicle)) throw new UnsupportedVehicleException();\n        return isAutomatic((Car)vehicle);\n    }\n    public InspectionBoolean isAutomatic(Vehicle[] garage, int bay) {\n        if (!isCar(garage[bay])) return InspectionBoolean.UNSUPPORTED;\n        return isAutomatic(garage[bay]) \n             ? InspectionBoolean.TRUE\n             : InspectionBoolean.FALSE;\n    }\n}\n</code></pre>\n\n<p>Point is, you've already decided you only care about cars when you ask about the car's transmission.  So just ask the CarInspector.  Thanks to the tri-state Enum, you can now know whether it is automatic or even if it is not a car.</p>\n\n<p>Of course, you'll need different VehicleInspectors for each vehicle you care about.  And you have just pushed the problem of which VehicleInspector to instantiate up the chain.</p>\n\n<p>So instead, you might want to look at interfaces.</p>\n\n<p>Abstract <code>getTransmission</code> out to an interface (e.g. <code>HasTransmission</code>).  That way, you can check if a vehicle has a transmission, or write an TransmissionInspector:</p>\n\n<pre><code>abstract class Vehicle { }\n\nclass Transmission {\n    public Transmission(bool isAutomatic) {\n        this.isAutomatic = isAutomatic;\n    }\n    private bool isAutomatic;\n    public bool getIsAutomatic() { return isAutomatic; }\n}\n\ninterface HasTransmission { \n    Transmission getTransmission(); \n}\n\nclass Car extends Vehicle, HasTransmission {\n    private Transmission transmission;\n\n    @Override\n    public Transmission getTransmission() {\n        return transmission;\n    }\n}\n\nclass Bus extends Vehicle, HasTransmission {\n    private Transmission transmission;\n\n    @Override\n    public Transmission getTransmission() {\n        return transmission;\n    }\n}\n\nclass Boat extends Vehicle { }\n\nenum InspectionBoolean {\n    FALSE, TRUE, UNSUPPORTED\n}\n\nclass TransmissionInspector {\n    public bool hasTransmission(Vehicle v) {\n        return (v instanceof HasTransmission);\n    }\n    public bool isAutomatic(HasTransmission h) {\n        Transmission t = h.getTransmission();\n        return t.getIsAutomatic();\n    }\n    public bool isAutomatic(Vehicle v) {\n        if (!hasTranmission(v)) throw new UnsupportedVehicleException();\n        return isAutomatic((HasTransmission)v);\n    }\n    public InspectionBoolean isAutomatic(Vehicle[] garage, int bay) {\n        if (!hasTranmission(garage[bay])) return InspectionBoolean.UNSUPPORTED;\n        return isAutomatic(garage[bay]) \n             ? InspectionBoolean.TRUE\n             : InspectionBoolean.FALSE;\n    }\n}\n</code></pre>\n\n<p>Now you are saying, you only about transmission, regardless of Vehicle, so can ask the TransmissionInspector.  Both the bus and the car can be inspected by the TransmissionInspector, but it can only ask about the transmission.</p>\n\n<p>Now, you might decide that boolean values are not all you care about.  At that point, you might prefer to use a generic Supported type, that exposes both the supported state and the value:</p>\n\n<pre><code>class Supported&lt;T&gt; {\n    private bool supported = false;\n    private T value;\n\n    public Supported() { }\n    public Supported(T value) { \n        this.isSupported = true;\n        this.value = value; \n    }\n\n    public bool isSupported() { return supported; }\n    public T getValue() { \n        if (!supported) throw new NotSupportedException();\n        return value;\n    }\n}\n</code></pre>\n\n<p>Now your Inspector might be defined as:</p>\n\n<pre><code>class TransmissionInspector {\n    public Supported&lt;bool&gt; isAutomatic(Vehicle[] garage, int bay) {\n        if (!hasTranmission(garage[bay])) return new Supported&lt;bool&gt;();\n        return new Supported&lt;bool&gt;(isAutomatic(garage[bay]));\n    }\n\n    public Supported&lt;int&gt; getGearCount(Vehicle[] garage, int bay) {\n        if (!hasTranmission(garage[bay])) return new Supported&lt;int&gt;();\n        return new Supported&lt;int&gt;(getGearCount(garage[bay]));\n    }\n}\n</code></pre>\n\n<p>As I've said, I'm not a Java guy, so some of the syntax above may be wrong, but the concepts should hold.  Nevertheless, don't run the above anywhere important without testing it first.</p>\n", "title": "Do I really have a car in my garage?", "answer_id": 24921530, "question_id": 24883075, "tags": ["java", "inheritance"]}, {"body": "<p><strong>Create</strong> Vehicle level fields that will help make each individual Vehicle more distinct.</p>\n\n<pre><code>public abstract class Vehicle {\n    public final boolean isCar;\n    public final boolean isBoat;\n\n    public Vehicle (boolean isCar, boolean isBoat) {\n        this.isCar  = isCar;\n        this.isBoat = isBoat;\n    }\n}\n</code></pre>\n\n<p><strong>Set</strong> the Vehicle level fields in the inheriting class to the appropriate value.</p>\n\n<pre><code>public class Car extends Vehicle {\n    public Car (...) {\n        super(true, false);\n        ...\n    }\n}\n\npublic class Boat extends Vehicle {\n    public Boat (...) {\n        super(false, true);\n        ...\n    }\n}\n</code></pre>\n\n<p><b>Implement</b> using the Vehicle level fields to properly decipher the vehicle type.</p>\n\n<pre><code>boolean carIsAutomatic = false;\n\nif (myGarage[0].isCar) {\n    Car car = (Car) myGarage[0];\n    car.carMethod();\n    carIsAutomatic = car.auto;\n}\n\nelse if (myGarage[0].isBoat) {\n    Boat boat = (Boat) myGarage[0];\n    boat.boatMethod();\n}\n</code></pre>\n\n<p>Since your telling your compiler that everything in your garage is a Vehicle, your stuck with the Vehicle class level methods and fields. If you want to properly decipher the Vehicle type, then you should set some class level fields e.g. <code>isCar</code> and <code>isBoat</code> that will give you the programmer a better understanding of what type of Vehicle you are using. </p>\n\n<p>Java is a type safe language so its best to always type check before handling data that has been casted like your <code>Boat</code>s and <code>Car</code>s.</p>\n", "title": "Do I really have a car in my garage?", "answer_id": 24962993, "question_id": 24883075, "tags": ["java", "inheritance"]}, {"body": "<p>If you are on Java, could use reflections to check if a function is available and execute it, too</p>\n", "title": "Do I really have a car in my garage?", "answer_id": 24964343, "question_id": 24883075, "tags": ["java", "inheritance"]}, {"body": "<p>This is a good place for application of the <code>Visitor</code> design pattern.</p>\n\n<p>The beauty of this pattern is you can call unrelated code on different subclasses of a superclass without having to do weird casts everywhere or putting tons of unrelated methods into the superclass.</p>\n\n<p>This works by creating a <code>Visitor</code> object and allowing our <code>Vehicle</code> class to <code>accept()</code> the visitor.</p>\n\n<p>You can also create many types of <code>Visitor</code> and call unrelated code using the same methods, just a different <code>Visitor</code> implementation, which makes this design pattern very powerful when creating clean classes.</p>\n\n<p>A demo for example:</p>\n\n<pre><code>public class VisitorDemo {\n\n    // We'll use this to mark a class visitable.\n    public static interface Visitable {\n\n        void accept(Visitor visitor);\n    }\n\n    // This is the visitor\n    public static interface Visitor {\n\n        void visit(Boat boat);\n\n        void visit(Car car);\n\n    }\n\n    // Abstract\n    public static abstract class Vehicle implements Visitable {\n\n            // NO OTHER RANDOM ABSTRACT METHODS!\n\n    }\n\n    // Concrete\n    public static class Car extends Vehicle {\n\n        public void doCarStuff() {\n            System.out.println(\"Doing car stuff\");\n        }\n\n        @Override\n        public void accept(Visitor visitor) {\n            visitor.visit(this);\n        }\n\n    }\n\n    // Concrete\n    public static class Boat extends Vehicle {\n\n        public void doBoatStuff() {\n            System.out.println(\"Doing boat stuff\");\n        }\n\n        @Override\n        public void accept(Visitor visitor) {\n            visitor.visit(this);\n        }\n\n    }\n\n    // Concrete visitor\n    public static class StuffVisitor implements Visitor {\n\n        @Override\n        public void visit(Boat boat) {\n            boat.doBoatStuff();\n        }\n\n        @Override\n        public void visit(Car car) {\n            car.doCarStuff();\n        }\n    }\n\n    public static void main(String[] args) {\n        // Create our garage\n        Vehicle[] garage = {\n            new Boat(),\n            new Car(),\n            new Car(),\n            new Boat(),\n            new Car()\n        };\n\n        // Create our visitor\n        Visitor visitor = new StuffVisitor();\n\n        // Visit each item in our garage in turn\n        for (Vehicle v : garage) {\n            v.accept(visitor);\n        }\n    }\n\n}\n</code></pre>\n\n<p>As you can see, <code>StuffVisitor</code> allows you to call different code on <code>Boat</code> or <code>Car</code> depending on which implementation of <code>visit</code> is called. You can also create other implementations of the Visitor to call different code with the same <code>.visit()</code> pattern.</p>\n\n<p>Also notice that using this method, there is no use of <code>instanceof</code> or any hacky class checking. The only duplicated code between classes is the method <code>void accept(Visitor)</code>.</p>\n\n<p>If you want to support 3 types of concrete subclasses for example, you can just add that implementation into the <code>Visitor</code> interface too.</p>\n", "title": "Do I really have a car in my garage?", "answer_id": 24968446, "question_id": 24883075, "tags": ["java", "inheritance"]}, {"body": "<p>Modeling objects you want to present in a program (in order to solve some problem) is one thing, coding is another story. In your code, I think essentially it's inappropriate to model a garage using array. Arrays shouldn't be often considered as objects, although they do <em>appear</em> to be, usually for the sake of self-contained-ness sort of <em>integrity</em> of a language and providing some familiarity, but array as a type is really just a computer-specific thing, IMHO, especially in Java, where you can't extend arrays.</p>\n\n<p>I understand that correctly modeling a class to represent a garage won't help answer your \"cars in a garage\" question; just a piece of advice.</p>\n\n<p>Head back to the code. Other than getting some hang to OOP, a few questions would be helpful creating a scene hence to better understand the problem you want to resolve (assuming there is one, not just \"getting some hang\"):</p>\n\n<ol>\n<li>Who or what wants to understand <code>carIsAutomatic</code>?</li>\n<li>Given <code>carIsAutomatic</code>, who or what would perform <code>doSomeCarStuff</code>?</li>\n</ol>\n\n<p>It might be some inspector, or someone who knows only how to drive auto-transmission cars, etc., but from the garage's perspective, all it knows is it holds some vehicle, therefore (in this model) it is the responsibility of this inspector or driver to tell if it's a car or a boat; at this moment, you may want to start creating another bunch of classes to represent similar types of *actor*s in the scene. Depends on the problem to be resolved, if you really have to, you can model the garage to be a super intelligent system so it behaves like a vending machine, instead of a regular garage, that has a button says \"Car\" and another says \"Boat\", so that people can push the button to get a car or a boat as they want, which in turn makes this super intelligent garage responsible for telling what (a car or a boat) should be presented to its users; to follow this improvisation, the garage may require some bookkeeping when it accepts a vehicle, someone may have to provide the information, etc., all these responsibilities go beyond a simple <em>Main</em> class.</p>\n\n<p>Having said this much, certainly I understand all the troubles, along with the boilerplates, to code an OO program, especially when the problem it tries to resolve is very simple, but OO is indeed a feasible way to resolve many other problems. From my experience, with some input providing use cases, people start to design scenes how objects would interact with each other, categorize them into classes (as well as interfaces in Java), then use something like your <em>Main</em> class to bootstrap the <em>world</em>.</p>\n", "title": "Do I really have a car in my garage?", "answer_id": 24992299, "question_id": 24883075, "tags": ["java", "inheritance"]}], "question_id": 24883075}, {"body": "<p><code>weak</code> references don't seem to work in Swift unless a <code>protocol</code> is declared as <code>@objc</code>, which I don't want in a pure Swift app.</p>\n\n<p>This code gives a compile error (<code>weak</code> cannot be applied to non-class type <code>MyClassDelegate</code>):</p>\n\n<pre><code>class MyClass {\n  weak var delegate: MyClassDelegate?\n}\n\nprotocol MyClassDelegate {\n}\n</code></pre>\n\n<p>I need to prefix the protocol with <code>@objc</code>, then it works.</p>\n\n<p>Question: What is the 'pure' Swift way to accomplish a <code>weak</code> <code>delegate</code>?</p>\n", "title": "How can I make a weak protocol reference in &#39;pure&#39; Swift (w/o @objc)", "tags": ["swift", "delegates", "swift-protocols"], "answer_count": 4, "link": "http://stackoverflow.com/questions/24066304/how-can-i-make-a-weak-protocol-reference-in-pure-swift-w-o-objc", "answers": [{"body": "<p><strong>Update:</strong> \nIt looks like the manual has been updated and the example I was referring to has been removed. See the edit to @flainez's answer above.</p>\n\n<p><strong>Original:</strong>\nUsing @objc is the right way to do it even if you're not interoperating with Obj-C. It ensures that your protocol is being applied to a class and not an enum or struct. See \"Checking for Protocol Conformance\" in the manual.</p>\n", "title": "How can I make a weak protocol reference in &#39;pure&#39; Swift (w/o @objc)", "answer_id": 24094430, "question_id": 24066304, "tags": ["swift", "delegates", "swift-protocols"]}, {"body": "<p>You need to declare the type of the protocol as <code>class</code>.</p>\n\n<pre><code>protocol ProtocolNameDelegate: class {\n    // Protocol stuff goes here\n}\n\nclass SomeClass {\n    weak var delegate: ProtocolNameDelegate?\n}\n</code></pre>\n\n<p>My understanding is that using <code>class</code>, you guarantee that this protocol will be used only on classes and no other stuff like enums or structs. </p>\n", "title": "How can I make a weak protocol reference in &#39;pure&#39; Swift (w/o @objc)", "answer_id": 24104371, "question_id": 24066304, "tags": ["swift", "delegates", "swift-protocols"]}, {"body": "<h1>Supplemental Answer</h1>\n\n<p>I was always confused about whether delegates should be weak or not. Recently I've learned more about delegates and when to use weak references, so let me add some supplemental points here for the sake of future viewers.</p>\n\n<ul>\n<li><p>The purpose of using the <code>weak</code> keyword is to avoid strong reference cycles (retain cycles). Strong reference cycles happen when two class instances have strong references to each other. Their reference counts never go to zero so they never get deallocated. </p></li>\n<li><p>You only need to use <code>weak</code> if the delegate is a class. Swift structs and enums are value types (their values are copied when a new instance is made), not reference types, so they don't make strong <em>reference</em> cycles.</p></li>\n<li><p><code>weak</code> references are always optional (otherwise you would used <code>unowned</code>) and always use <code>var</code> (not <code>let</code>) so that the optional can be set to <code>nil</code> when it is deallocated.</p></li>\n<li><p>A parent class should naturally have a strong reference to its child classes and thus not use the <code>weak</code> keyword. When a child wants a reference to its parent, though, it should make it a weak reference by using the <code>weak</code> keyword.</p></li>\n<li><p><code>weak</code> should be used when you want a reference to a class that you don't own, not just for a child referencing its parent. When two non-hierarchical classes need to reference each other, choose one to be weak. The one you choose depends on the situation. See the answers to <a href=\"http://stackoverflow.com/questions/34565760/two-weak-variables-referencing-each-other-in-swift\">this question</a> for more on this.</p></li>\n<li><p><strong>As a general rule, delegates should be marked as <code>weak</code></strong> because most delegates are referencing classes that they do not own. This is definitely true when a child is using a delegate to communicate with a parent. However, there are still <a href=\"http://stackoverflow.com/questions/17348523/is-it-ever-ok-to-have-a-strong-reference-for-a-delegate\">some situations</a> where a delegate can and should use a strong reference.</p></li>\n<li><p>Protocols can be used for both reference types (classes) and non-reference types (structs, enums). So in the likely case that you need to make a delegate weak, you have to add the <code>class</code> keyword to the protocol so that it knows it is only to be used with reference types.</p>\n\n<pre><code>protocol MyClassDelegate: class {\n    // ...\n}\n\nclass SomeClass {\n    weak var delegate: MyClassDelegate?\n}\n</code></pre></li>\n</ul>\n\n<h1>Further Study</h1>\n\n<p>Reading the following articles is what helped me to understand this much better. They also discuss related issues like the <code>unowned</code> keyword and the strong reference cycles that happen with closures.</p>\n\n<ul>\n<li>Swift documentation: <a href=\"https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/AutomaticReferenceCounting.html\">Automatic Reference Counting</a></li>\n<li><a href=\"http://krakendev.io/blog/weak-and-unowned-references-in-swift\">\"Weak, Strong, Unowned, Oh My!\" - A Guide to References in Swift</a></li>\n<li><a href=\"http://www.andrewcbancroft.com/2015/05/08/strong-weak-and-unowned-sorting-out-arc-and-swift/\">Strong, Weak, and Unowned \u2013 Sorting out ARC and Swift</a></li>\n</ul>\n\n<h1>Related</h1>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/a/33549729/3681880\">How to make delegates in Swift</a></li>\n<li><a href=\"http://natashatherobot.com/ios-weak-delegates-swift/\">iOS: How To Make Weak Delegates In Swift</a></li>\n<li><a href=\"http://stackoverflow.com/questions/30056526/swift-delegation-when-to-use-weak-pointer-on-delegate\">Swift delegation - when to use weak pointer on delegate</a></li>\n</ul>\n", "title": "How can I make a weak protocol reference in &#39;pure&#39; Swift (w/o @objc)", "answer_id": 34566876, "question_id": 24066304, "tags": ["swift", "delegates", "swift-protocols"]}, {"body": "<p>Apple uses \"NSObjectProtocol\" instead of \"class\". </p>\n\n<pre><code>public protocol UIScrollViewDelegate : NSObjectProtocol {\n   ...\n}\n</code></pre>\n\n<p>This also works for me and removed the errors I was seeing when trying to implement my own delegate pattern.</p>\n", "title": "How can I make a weak protocol reference in &#39;pure&#39; Swift (w/o @objc)", "answer_id": 36724654, "question_id": 24066304, "tags": ["swift", "delegates", "swift-protocols"]}], "question_id": 24066304}, {"body": "<p>Haven't found anything on this topic yet. I really like the ability to change the color of address bar and header color on Overview? Is there any easy way to do this?</p>\n\n<p><img src=\"http://i.stack.imgur.com/6iShFm.png\" alt=\"Chrome for Android\"> <img src=\"http://i.stack.imgur.com/bmTDdm.jpg\" alt=\"enter image description here\">.</p>\n\n<p>I think you need Android 5.0 Lollipop for this to work, and Chrome's <em>Merge Tabs and Apps</em> set to <em>On</em>.</p>\n", "title": "How to change the color of header bar and address bar in newest Android Chrome version on Lollipop?", "tags": ["android", "html", "google-chrome"], "answer_count": 4, "link": "http://stackoverflow.com/questions/26960703/how-to-change-the-color-of-header-bar-and-address-bar-in-newest-android-chrome-v", "answers": [{"body": "<p>Found the solution after some searching.</p>\n\n<p>You need to add a <code>&lt;meta&gt;</code> tag in your <code>&lt;head&gt;</code> containing <code>name=\"theme-color\"</code>, with your HEX code as the content value. For example:</p>\n\n<pre><code>&lt;meta name=\"theme-color\" content=\"#999999\" /&gt;\n</code></pre>\n", "title": "How to change the color of header bar and address bar in newest Android Chrome version on Lollipop?", "answer_id": 26960753, "question_id": 26960703, "tags": ["android", "html", "google-chrome"]}, {"body": "<p>You actually need 3 <code>meta</code> tags to support Android, iPhone and Windows Phone</p>\n\n<pre><code>&lt;!-- Chrome, Firefox OS, Opera and Vivaldi --&gt;\n&lt;meta name=\"theme-color\" content=\"#4285f4\"&gt;\n&lt;!-- Windows Phone --&gt;\n&lt;meta name=\"msapplication-navbutton-color\" content=\"#4285f4\"&gt;\n&lt;!-- iOS Safari --&gt;\n&lt;meta name=\"apple-mobile-web-app-status-bar-style\" content=\"#4285f4\"&gt;\n</code></pre>\n\n<p>EDIT: This is a more in-depth explanation on <a href=\"http://inspire.blufra.me/how-to-change-the-chrome-address-bar-colors-on-android-lollipop-to-match-your-site/\">how to change the header bar Chrome colors for Android</a>.</p>\n", "title": "How to change the color of header bar and address bar in newest Android Chrome version on Lollipop?", "answer_id": 33193739, "question_id": 26960703, "tags": ["android", "html", "google-chrome"]}, {"body": "<p>From the <a href=\"https://developers.google.com/web/updates/2014/11/Support-for-theme-color-in-Chrome-39-for-Android?hl=en\">Official documentation</a>, </p>\n\n<blockquote>\n  <p>For example, to set the background color to orange:</p>\n</blockquote>\n\n<pre><code>&lt;meta name=\"theme-color\" content=\"#db5945\"&gt;\n</code></pre>\n\n<blockquote>\n  <p>In addition, Chrome will show beautiful high-res favicons when they\u2019re provided. Chrome for Android picks the highest res icon that you provide, and we recommend providing a 192\u00d7192px PNG file. For example:</p>\n</blockquote>\n\n<pre><code>&lt;link rel=\"icon\" sizes=\"192x192\" href=\"nice-highres.png\"&gt;\n</code></pre>\n", "title": "How to change the color of header bar and address bar in newest Android Chrome version on Lollipop?", "answer_id": 34223426, "question_id": 26960703, "tags": ["android", "html", "google-chrome"]}, {"body": "<p>For example, to set the background to your favorite/Branding color</p>\n\n<p>Add Below <strong>Meta property</strong> to your HTML code in <strong>HEAD</strong> Section</p>\n\n<pre><code>&lt;head&gt;\n  ...\n  &lt;meta name=\"theme-color\" content=\"Your Hexa Decimal Code\"&gt;\n  ...\n&lt;/head&gt;\n</code></pre>\n\n<p>Example</p>\n\n<pre><code>&lt;head&gt;\n  ...\n  &lt;meta name=\"theme-color\" content=\"#444444\"&gt;\n  ...\n&lt;/head&gt;\n</code></pre>\n\n<p>In Below Image, I just mentioned How Chrome taken your theme-color Property</p>\n\n<p><a href=\"http://i.stack.imgur.com/OMX5g.png\"><img src=\"http://i.stack.imgur.com/OMX5g.png\" alt=\"enter image description here\"></a></p>\n\n<p>Firefox OS, Safari, Internet Explorer and Opera Coast allow you to define colors for elements of the browser, and even the platform using meta tags.</p>\n\n<pre><code>&lt;!-- Windows Phone --&gt;\n&lt;meta name=\"msapplication-navbutton-color\" content=\"#4285f4\"&gt;\n&lt;!-- iOS Safari --&gt;\n&lt;meta name=\"apple-mobile-web-app-capable\" content=\"yes\"&gt;\n&lt;meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black-translucent\"&gt;\n</code></pre>\n\n<h2>Safari specific styling</h2>\n\n<p>From the guidelines<a href=\"https://developer.apple.com/library/ios/documentation/AppleApplications/Reference/SafariWebContent/ConfiguringWebApplications/ConfiguringWebApplications.html\">Documents Here</a></p>\n\n<p><strong>Hiding Safari User Interface Components</strong></p>\n\n<p>Set the apple-mobile-web-app-capable meta tag to yes to turn on standalone mode. For example, the following HTML displays web content using standalone mode.</p>\n\n<pre><code>&lt;meta name=\"apple-mobile-web-app-capable\" content=\"yes\"&gt;\n</code></pre>\n\n<p><strong>Changing the Status Bar Appearance</strong></p>\n\n<p>You can change the appearance of the default status bar to either black or black-translucent. With black-translucent, the status bar floats on top of the full screen content, rather than pushing it down. This gives the layout more height, but obstructs the top. Here\u2019s the code required:</p>\n\n<pre><code>&lt;meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black\"&gt;\n</code></pre>\n\n<p>For more on status bar appearance, <a href=\"https://developer.apple.com/library/ios/documentation/AppleApplications/Reference/SafariHTMLRef/Articles/MetaTags.html#//apple_ref/doc/uid/TP40008193-SW4\">see apple-mobile-web-app-status-bar-style.</a></p>\n\n<p>For Example:</p>\n\n<p><strong>Screenshot using black-translucent</strong></p>\n\n<p><a href=\"http://i.stack.imgur.com/hWVnD.png\"><img src=\"http://i.stack.imgur.com/hWVnD.png\" alt=\"Screenshot using black-translucent\"></a></p>\n\n<p><strong>Screenshot using black</strong></p>\n\n<p><a href=\"http://i.stack.imgur.com/q2nsx.png\"><img src=\"http://i.stack.imgur.com/q2nsx.png\" alt=\"Screenshot using black\"></a></p>\n", "title": "How to change the color of header bar and address bar in newest Android Chrome version on Lollipop?", "answer_id": 37630385, "question_id": 26960703, "tags": ["android", "html", "google-chrome"]}], "question_id": 26960703}, {"body": "<p>As far as I can tell, this error was not being thrown yesterday on Chrome, and as of this morning, it is. I have not changed any of my browser settings. I have attached a screenshot (after opening/closing Developer Tools window four times):</p>\n\n<p><img src=\"http://i.stack.imgur.com/PF8gF.png\" alt=\"Failed to load resource: net::ERR_CACHE_MISS\"></p>\n\n<p>This issue is tangentially similar to Stack Overlow post <em><a href=\"http://stackoverflow.com/questions/4390134\">Failed to load resource under Chrome</a></em> except that it only occurs when I \"Inspect Element\" in Chrome. Here are the details I have:</p>\n\n<p>To the best of my ability I undid everything I did since last night (when I did not have this error) and the error persists. When I remove all pre-<code>&lt;html&gt;</code> <a href=\"http://en.wikipedia.org/wiki/PHP\">PHP</a> code, the error disappears.</p>\n\n<p>When I only remove all the pre-<code>&lt;html&gt;</code> PHP code except </p>\n\n<pre><code>&lt;?php session_start(); ?&gt;\n</code></pre>\n\n<p>the error returns.</p>\n\n<p>Since the error seems to involve PHP, I checked my error log, but there are no notices, warnings, nor errors. When I close the Developer Tools window and then open up the window without a page reload, the number of errors increments by one each time.</p>\n\n<p>When I keep the window open, and then reload the page, the page reloads without throwing the error. However, as soon as I close the Developer tools window again, then open it (no page reload), the error is thrown. I checked my site on Firefox with <a href=\"http://en.wikipedia.org/wiki/Firebug_%28software%29\">Firebug</a> enabled, and no errors are thrown, making it seem like a Chrome issue (version 38). My site seems to function normally otherwise. Other sites on device browsed via Chrome (for example, Yahoo) also experience this error.</p>\n\n<p>Also, I have not manually changed any of my browser settings since months ago. As an additional note, this is the <strong>second strange error I have encountered in Chrome</strong> in the last year (see Stack Overflow question <em><a href=\"http://stackoverflow.com/questions/23725085\">Failed to load resource: net::ERR_NETWORK_IO_SUSPENDED</a></em>), to which no one was able to find a solution, even with a bounty offered.</p>\n\n<p>Is there a way to prevent this error, or is this a browser-only issue? On a side note, when I open up Developer Tools in Chrome for Stack&nbsp;Overflow, there is no error thrown, so either Stack&nbsp;Overflow is not coded in PHP or they have a way to prevent this error. I think my site is not affected, but I am not 100% sure, and it makes me nervous :)</p>\n", "title": "Bizarre Error in Chrome Developer Console - Failed to load resource: net::ERR_CACHE_MISS", "tags": ["google-chrome", "google-chrome-devtools"], "answer_count": 6, "link": "http://stackoverflow.com/questions/26408931/bizarre-error-in-chrome-developer-console-failed-to-load-resource-neterr-ca", "answers": [{"body": "<p>Check to see if you have previously disabled caching in Chrome when the developer console is option - the setting is under the console, settings icon > General tab: <code>Disable cache (while DevTools is open)</code></p>\n", "title": "Bizarre Error in Chrome Developer Console - Failed to load resource: net::ERR_CACHE_MISS", "answer_id": 26458038, "question_id": 26408931, "tags": ["google-chrome", "google-chrome-devtools"]}, {"body": "<p>See if you can recreate the issue in an Incognito tab. If you find that the problem no longer occurs then I would recommend you go through your extensions, perhaps disabling them one at a time. This is commonly the cause as touched on by Nikola</p>\n", "title": "Bizarre Error in Chrome Developer Console - Failed to load resource: net::ERR_CACHE_MISS", "answer_id": 26465471, "question_id": 26408931, "tags": ["google-chrome", "google-chrome-devtools"]}, {"body": "<p>On Chrome's latest update (38.0.2125.104 m at the moment), Google added the option to know whether the files loaded to the website were newly downloaded from the server - or read from the local cache.</p>\n\n<p>When an error like yours \"hits\" the console - you know the files were just downloaded from the server and not read from the local cache. You can recreate this error by clicking <kbd>Ctrl</kbd> + <kbd>F5</kbd> (refresh and erase cache).</p>\n\n<p>It fits your description where Firebug (or equivalents) doesn't fire any errors to the console - whilst Chrome does.</p>\n\n<p>So, the bottom line is - your're just fine and you can ignore this error - it's merely an indicator.</p>\n", "title": "Bizarre Error in Chrome Developer Console - Failed to load resource: net::ERR_CACHE_MISS", "answer_id": 26480396, "question_id": 26408931, "tags": ["google-chrome", "google-chrome-devtools"]}, {"body": "<p>Check for the presence of words like \"ad\", \"banner\" or \"popup\" within your file. I removed these and it worked. Based on this post here: <a href=\"http://stackoverflow.com/questions/4390134/failed-to-load-resource-under-chrome\">failed to load resource under Chrome</a> it seems like Ad Block Plus was the culprit in my case.</p>\n", "title": "Bizarre Error in Chrome Developer Console - Failed to load resource: net::ERR_CACHE_MISS", "answer_id": 26643665, "question_id": 26408931, "tags": ["google-chrome", "google-chrome-devtools"]}, {"body": "<p>Per the <a href=\"https://code.google.com/p/chromium/issues/detail?id=424599#c23\">developers</a>, this error is not an actual failure, but rather \"misleading error reports\". This bug is fixed in version 40, which is <a href=\"https://code.google.com/p/chromium/issues/detail?id=424599#c17\">available on the canary and dev channels as of 25 Oct</a>. </p>\n\n<p><a href=\"http://src.chromium.org/viewvc/blink?view=revision&amp;revision=184192\">Patch</a></p>\n", "title": "Bizarre Error in Chrome Developer Console - Failed to load resource: net::ERR_CACHE_MISS", "answer_id": 26653204, "question_id": 26408931, "tags": ["google-chrome", "google-chrome-devtools"]}, {"body": "<p>I had issues getting through a form because of this error. </p>\n\n<p>I used <kbd>Ctrl</kbd>+<kbd>Click</kbd> to click the submit button and navigate through the form as usual.</p>\n", "title": "Bizarre Error in Chrome Developer Console - Failed to load resource: net::ERR_CACHE_MISS", "answer_id": 27659554, "question_id": 26408931, "tags": ["google-chrome", "google-chrome-devtools"]}], "question_id": 26408931}, {"body": "<p>I want to study FRP in Haskell, but it's a bit difficult to decide on a library to use.\nMany seem to be dead attempts, some seem to have been resurrected (such as recent activity on Yampa).</p>\n\n<p>From what I read, it seems that there are two \"kinds\" of FRP: push-pull FRP (like in Reactive-banana) on one side and arrowized FRP (like in Yampa) on the other side. It seems that there also used to be some \"classic FRP\" at the time of Fran and FrTime, but I have not spotted any recent activity in these.</p>\n\n<ul>\n<li><p>Are these two (or three) really fundamentally different approaches of FRP?</p></li>\n<li><p>Is one of them outdated theory whereas the other would be the \"stuff of the future\"?</p></li>\n<li><p>Or do they have to evolve in parallel, addressing different purposes?</p></li>\n<li><p>Did I name the most prominent library of each category, or are there other options to consider (Sodium, Netwire, et al)?</p></li>\n</ul>\n\n<hr>\n\n<p>I finally watched the <a href=\"https://www.youtube.com/watch?v=Agu6jipKfYw\">talk from Evan Czaplicki</a> recommended in the comments by J. Abrahamson. It is very interesting and did help clarify things up for me.</p>\n\n<p>I highly recommend it to anyone who found this question interesting.</p>\n", "title": "How fundamentally different are push-pull and arrowized FRP?", "tags": ["haskell", "frp", "reactive-banana", "yampa"], "answer_count": 1, "link": "http://stackoverflow.com/questions/26164135/how-fundamentally-different-are-push-pull-and-arrowized-frp", "answers": [{"body": "<p>I took a trip to Haskell.org to investigate your question What I found are two important papers you ought to read to further your research, and I am building my answer to your question from these scholarly papers.</p>\n\n<p><a href=\"http://conal.net/papers/push-pull-frp/push-pull-frp.pdf\">Push-Pull FRP by Conal Elliott</a></p>\n\n<p><a href=\"http://www.cse.chalmers.se/~rjmh/Papers/arrows.pdf\">Generalising Monads to Arrows by John Hughes</a></p>\n\n<hr>\n\n<ol>\n<li><p>Yes, but also no. According to Elliot, <strong>push</strong> is data driven FRP evaluation and <strong>pull</strong> relates to what is called \"demand\" driven evaluation. The author recommends pull because push tends to idle in between data inputs. Here's the crux: <strong>push-pull</strong> combines and balances these behaviors for the chief purpose of <em>minimizing the need to recompute values.</em> It's simple; operating FRP with push-pull hastens the ability to react. <strong>Arrow</strong> is a different technique for using abstract types to link values and evaluate them simultaneously. All these concepts are fundamentally different. But don't take my word for it: </p>\n\n<blockquote>\n  <p>The nature of the Arrow interface is problematic for the goal of minimal re-evaluation. Input events and behaviors get combined into a single input, which then changes whenever any component changes, (Elliott).</p>\n</blockquote>\n\n<p>Thus, Arrow contradicts the goal of push-pull. That does not mean you can't use all of these at once, just that it would be complex, and there are some things you cannot compute without abstract Arrow types.</p></li>\n<li><p>I have not found scholarly opinions on which approaches are \"the way of the future.\" Only note that arrows can handle simultaneity particularly well. If you could implement arrows and use push-pull to minimize computations, that would be the way of the future.</p></li>\n<li><p>Yes, they address separate purposes. As I said, they can be formulated together but it is difficult to implement and even if it does work, it would probably negate the reactive speed benefits of push-pull.</p></li>\n<li><p>That's subjective, but Reactive and Yampa appear to be the most commonly cited language libraries for FRP. I would say Reactive by Conal Elliott has deep roots, and Yampa is established as well. Other projects like Netwire arose as replacements, but it could be awhile before they replace the giants.</p></li>\n</ol>\n\n<hr>\n\n<p>Hope this helps! Like I said reading the articles I pointed out will give you a better sense of the semantic distance between arrow, push and pull.</p>\n", "title": "How fundamentally different are push-pull and arrowized FRP?", "answer_id": 30959490, "question_id": 26164135, "tags": ["haskell", "frp", "reactive-banana", "yampa"]}], "question_id": 26164135}, {"body": "<p>Are there any crucial differences between Oracle and Open JDK? </p>\n\n<p>For example are the garbage collection and other JVM parameters the same? Does GC work differently between the two?</p>\n", "title": "Differences between Oracle JDK and Open JDK and garbage collection", "tags": ["java", "openjdk"], "answer_count": 2, "link": "http://stackoverflow.com/questions/22358071/differences-between-oracle-jdk-and-open-jdk-and-garbage-collection", "answers": [{"body": "<p>Nothing crucial. The openjdk project is mostly based on hotspot source code donated by Sun.</p>\n\n<p>Moreover, openjdk was selected to be the <a href=\"https://blogs.oracle.com/henrik/entry/moving_to_openjdk_as_the\">reference implementation for java 7</a>, and is maintained by Oracle engineers.</p>\n\n<p>There's a more detailed answer to your question <a href=\"http://stackoverflow.com/questions/11547458/what-is-differences-between-jvm-jdk-jre-openjdk\">here</a>, which links to <a href=\"https://blogs.oracle.com/henrik/entry/java_7_questions_answers\">this</a> blog post:</p>\n\n<blockquote>\n  <p><strong>Q</strong>: What is the difference between the source code found in the OpenJDK\n  repository, and the code you use to build the Oracle JDK?</p>\n  \n  <p><strong>A</strong>: It is very close - our build process for Oracle JDK releases builds \n  on OpenJDK 7 by adding just a couple of pieces, like the deployment code,\n  which includes Oracle's implementation of the Java Plugin and Java\n  WebStart, as well as some closed source third party components like a\n  graphics rasterizer, some open source third party components, like\n  Rhino, and a few bits and pieces here and there, like additional\n  documentation or third party fonts. Moving forward, our intent is to\n  open source all pieces of the Oracle JDK except those that we consider\n  commercial features such as JRockit Mission Control (not yet available\n  in Oracle JDK), and replace encumbered third party components with\n  open source alternatives to achieve closer parity between the code\n  bases.</p>\n</blockquote>\n", "title": "Differences between Oracle JDK and Open JDK and garbage collection", "answer_id": 22358234, "question_id": 22358071, "tags": ["java", "openjdk"]}, {"body": "<p>Both openjdk and oracle jdk are created and maintained currently by Oracle only.</p>\n\n<p>openjdk and oracle jdk are implementations of same Java specification passed the TCK(Java Technology Certification Kit).</p>\n\n<p>Most of the vendors of JDK are written on top of openjdk by doing few tweaks  to [Mostly to replace licensed proprietary parts / replace with more performatic items that only work on specific OS] components without breaking the TCK compatibility.</p>\n\n<p>Many vendors implemented Java specification and got TCK passed. For example IBM J9 , Azul Zulu , Azul Zing , Oracle JDK.</p>\n\n<p>Almost every existing JDK is derived from openjdk.</p>\n\n<p>As suggested by many, licensing is a change between JDK's.</p>\n\n<p>Ref: <a href=\"https://en.wikipedia.org/wiki/List_of_Java_virtual_machines#Proprietary_implementations\" rel=\"nofollow\">https://en.wikipedia.org/wiki/List_of_Java_virtual_machines#Proprietary_implementations</a></p>\n", "title": "Differences between Oracle JDK and Open JDK and garbage collection", "answer_id": 38685948, "question_id": 22358071, "tags": ["java", "openjdk"]}], "question_id": 22358071}, {"body": "<p>I've set up my controllers using <code>data-ng-controller=\"xyzController as vm\"</code></p>\n\n<p>I have a scenario with parent / child nested controllers. I have no problem accessing parent properties in the nested html by using <code>$parent.vm.property</code>, but I cannot figure out how to access the parent property from within my child controller.</p>\n\n<p>I've tried injecting $scope and then using <code>$scope.$parent.vm.property</code>, but this isn't working?</p>\n\n<p>Can anyone offer advice?</p>\n", "title": "angularjs Access parent scope from child controller", "tags": ["angularjs", "angularjs-scope"], "answer_count": 8, "link": "http://stackoverflow.com/questions/21453697/angularjs-access-parent-scope-from-child-controller", "answers": [{"body": "<p>If your HTML is like below you could do something like this:</p>\n\n<pre><code>&lt;div ng-controller=\"ParentCtrl\"&gt;\n    &lt;div ng-controller=\"ChildCtrl\"&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Then you can access the parent scope as follows</p>\n\n<pre><code>function ParentCtrl($scope) {\n    $scope.cities = [\"NY\", \"Amsterdam\", \"Barcelona\"];\n}\n\nfunction ChildCtrl($scope) {\n    $scope.parentcities = $scope.$parent.cities;\n}\n</code></pre>\n\n<p>If you want to access a parent controller from your view you have to do something like this:</p>\n\n<pre><code>&lt;div ng-controller=\"xyzController as vm\"&gt;\n   {{$parent.property}}\n&lt;/div&gt;\n</code></pre>\n\n<p>See jsFiddle: <a href=\"http://jsfiddle.net/2r728/\">http://jsfiddle.net/2r728/</a></p>\n\n<p><strong>Update</strong></p>\n\n<p>Actually since you defined <code>cities</code> in the parent controller your child controller will inherit all scope variables. So theoritically you don't have to call <code>$parent</code>. The above example can also be written as follows:</p>\n\n<pre><code>function ParentCtrl($scope) {\n    $scope.cities = [\"NY\",\"Amsterdam\",\"Barcelona\"];\n}\n\nfunction ChildCtrl($scope) {\n    $scope.parentCities = $scope.cities;\n}\n</code></pre>\n\n<p>The AngularJS docs use this approach, <a href=\"http://docs.angularjs.org/guide/scope\">here</a> you can read more about the <code>$scope</code>.</p>\n\n<p><strong>Another update</strong></p>\n\n<p>I think this is a better answer to the original poster. </p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;div ng-app ng-controller=\"ParentCtrl as pc\"&gt;\n    &lt;div ng-controller=\"ChildCtrl as cc\"&gt;\n        &lt;pre&gt;{{cc.parentCities | json}}&lt;/pre&gt;\n        &lt;pre&gt;{{pc.cities | json}}&lt;/pre&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>JS</strong></p>\n\n<pre><code>function ParentCtrl() {\n    var vm = this;\n    vm.cities = [\"NY\", \"Amsterdam\", \"Barcelona\"];\n}\n\nfunction ChildCtrl() {\n    var vm = this;\n    ParentCtrl.apply(vm, arguments); // Inherit parent control\n\n    vm.parentCities = vm.cities;\n}\n</code></pre>\n\n<p>If you use the <code>controller as</code> method you can also access the parent scope as follows</p>\n\n<pre><code>function ChildCtrl($scope) {\n    var vm = this;\n    vm.parentCities = $scope.pc.cities; // note pc is a reference to the \"ParentCtrl as pc\"\n}\n</code></pre>\n\n<p>As you can see there are many different ways in accessing <code>$scopes</code>.</p>\n\n<p><a href=\"http://jsfiddle.net/2r728/10/\"><h3>Updated fiddle</h3></a>\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function ParentCtrl() {\r\n    var vm = this;\r\n    vm.cities = [\"NY\", \"Amsterdam\", \"Barcelona\"];\r\n}\r\n    \r\nfunction ChildCtrl($scope) {\r\n    var vm = this;\r\n    ParentCtrl.apply(vm, arguments);\r\n    \r\n    vm.parentCitiesByScope = $scope.pc.cities;\r\n    vm.parentCities = vm.cities;\r\n}\r\n    </code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.2.20/angular.min.js\"&gt;&lt;/script&gt;\r\n&lt;div ng-app ng-controller=\"ParentCtrl as pc\"&gt;\r\n  &lt;div ng-controller=\"ChildCtrl as cc\"&gt;\r\n    &lt;pre&gt;{{cc.parentCities | json}}&lt;/pre&gt;\r\n    &lt;pre&gt;{{cc.parentCitiesByScope | json }}&lt;/pre&gt;\r\n    &lt;pre&gt;{{pc.cities | json}}&lt;/pre&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "angularjs Access parent scope from child controller", "answer_id": 21454647, "question_id": 21453697, "tags": ["angularjs", "angularjs-scope"]}, {"body": "<p>I've just checked</p>\n\n<pre><code>$scope.$parent.someProperty\n</code></pre>\n\n<p>works for me.</p>\n\n<p>and it will be </p>\n\n<pre><code>{{$parent.someProperty}}\n</code></pre>\n\n<p>for the view.</p>\n", "title": "angularjs Access parent scope from child controller", "answer_id": 21454664, "question_id": 21453697, "tags": ["angularjs", "angularjs-scope"]}, {"body": "<p>I believe I had a similar quandary recently</p>\n\n<pre><code>function parentCtrl() {\n   var pc = this; // pc stands for parent control\n   pc.foobar = 'SomeVal';\n}\n\nfunction childCtrl($scope) {\n\n   // now how do I get the parent control 'foobar' variable?\n   // I used $scope.$parent\n\n   var parentFoobarVariableValue = $scope.$parent.pc.foobar;\n\n   // that did it\n}\n</code></pre>\n\n<p>My setup was a little different, but the same thing should probably still work</p>\n", "title": "angularjs Access parent scope from child controller", "answer_id": 26620726, "question_id": 21453697, "tags": ["angularjs", "angularjs-scope"]}, {"body": "<p>Some times you may need to update parent properties directly within child scope. e.g. need to save a date and time of parent control after changes by a child controller. e.g <a href=\"http://jsfiddle.net/JHwxP/23/\" rel=\"nofollow\">Code in JSFiddle</a></p>\n\n<p>HTML</p>\n\n<pre><code>&lt;div ng-app&gt;\n&lt;div ng-controller=\"Parent\"&gt;\n    event.date = {{event.date}} &lt;br/&gt;\n    event.time = {{event.time}} &lt;br/&gt;\n    &lt;div ng-controller=\"Child\"&gt;\n        event.date = {{event.date}}&lt;br/&gt;\n        event.time = {{event.time}}&lt;br/&gt;\n        &lt;br&gt;\n        event.date: &lt;input ng-model='event.date'&gt;&lt;br&gt;\n        event.time: &lt;input ng-model='event.time'&gt;&lt;br&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p></p>\n\n<p>JS</p>\n\n<pre><code>    function Parent($scope) {\n       $scope.event = {\n        date: '2014/01/1',\n        time: '10:01 AM'\n       }\n    }\n\n    function Child($scope) {\n\n    }\n</code></pre>\n", "title": "angularjs Access parent scope from child controller", "answer_id": 26840453, "question_id": 21453697, "tags": ["angularjs", "angularjs-scope"]}, {"body": "<p>Perhaps this is lame but you can also just point them both at some external object:</p>\n\n<pre><code>var cities = [];\n\nfunction ParentCtrl() {\n    var vm = this;\n    vm.cities = cities;\n    vm.cities[0] = 'Oakland';\n}\n\nfunction ChildCtrl($scope) {\n    var vm = this;\n    vm.cities = cities;\n}\n</code></pre>\n\n<p>The benefit here is that edits in ChildCtrl now propogate back to the data in the parent.</p>\n", "title": "angularjs Access parent scope from child controller", "answer_id": 29664428, "question_id": 21453697, "tags": ["angularjs", "angularjs-scope"]}, {"body": "<p>You can also circumvent scope inheritance and store things in the \"global\" scope.</p>\n\n<p>If you have a main controller in your application which wraps all other controllers, you can install a \"hook\" to the global scope:</p>\n\n<pre><code>function RootCtrl($scope) {\n    $scope.root = $scope;\n}\n</code></pre>\n\n<p>Then in any child controller, you can access the \"global\" scope with <code>$scope.root</code>. Anything you set here will be globally visible.</p>\n\n<p>Example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function RootCtrl($scope) {\r\n  $scope.root = $scope;\r\n}\r\n\r\nfunction ChildCtrl($scope) {\r\n  $scope.setValue = function() {\r\n    $scope.root.someGlobalVar = 'someVal';\r\n  }\r\n}\r\n\r\nfunction OtherChildCtrl($scope) {\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.2.23/angular.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div ng-app ng-controller=\"RootCtrl\"&gt;\r\n  \r\n  &lt;p ng-controller=\"ChildCtrl\"&gt;\r\n    &lt;button ng-click=\"setValue()\"&gt;Set someGlobalVar&lt;/button&gt;\r\n  &lt;/p&gt;\r\n  \r\n  &lt;p ng-controller=\"OtherChildCtrl\"&gt;\r\n    someGlobalVar value: {{someGlobalVar}}\r\n  &lt;/p&gt;\r\n\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "angularjs Access parent scope from child controller", "answer_id": 32268013, "question_id": 21453697, "tags": ["angularjs", "angularjs-scope"]}, {"body": "<p>When you are using <code>as</code> syntax to define a controller then to access parent scope variable in <strong>child controller</strong> use following :</p>\n\n<pre><code>var id = $scope.parentCtrl.id;\n</code></pre>\n\n<p>Where <code>parentCtrl</code> is name of parent controller using <code>as</code> syntax and user is a variable defined in same controller.</p>\n", "title": "angularjs Access parent scope from child controller", "answer_id": 33389286, "question_id": 21453697, "tags": ["angularjs", "angularjs-scope"]}, {"body": "<p>In the chosen answer (in the <code>controller as</code> case) above I noted one thing.</p>\n\n<p>When you use the <code>.apply()</code> method, you are calling the ParentCtrl function with <code>this</code> being the vm of the child controller.</p>\n\n<pre><code>function ParentCtrl() {\n    var vm = this;\n    vm.cities = [\"NY\", \"Amsterdam\", \"Barcelona\"];\n}\n\nfunction ChildCtrl() {\n\n    var vm = this;\n    ParentCtrl.apply(vm, arguments); // Inherit parent control\n\n    vm.parentCities = vm.cities;\n}\n</code></pre>\n\n<p><code>vm.cities</code> will be available in the child controller but it will a copy of the <code>vm.cities</code> of the parent. It won't be updated in case <code>vm.cities</code> changes in the parent.</p>\n\n<p>if you do:</p>\n\n<pre><code>function ChildCtrl($scope) {\n\n    var vm = this;\n    vm.parentCities = $scope.pc.cities; \n}\n</code></pre>\n\n<p><code>vm.parentCities</code> is a ref to <code>vm.cities</code> in the parent. So changes will be in the child and parent.</p>\n\n<p>Using a constructor you can do:</p>\n\n<pre><code>function ChildCtrl($scope) {\n\n    var vm = this;\n    vm.parent = Object.create($scope.pc); \n}\n</code></pre>\n\n<p><code>vm.cities</code> will be updated in the child controller if it changes in the parent but if it gets overridden in the child, then it won't affect the parent. </p>\n\n<p>In my case I needed this last approach as I wanted to share a parent object to many controllers without creating a shared reference to the parent object.</p>\n\n<p>Here is a plunker <a href=\"http://plnkr.co/edit/EJoQuz2aXIB6i4FVzY2U?p=preview\" rel=\"nofollow\">http://plnkr.co/edit/EJoQuz2aXIB6i4FVzY2U?p=preview</a> </p>\n", "title": "angularjs Access parent scope from child controller", "answer_id": 33975046, "question_id": 21453697, "tags": ["angularjs", "angularjs-scope"]}], "question_id": 21453697}, {"body": "<p>I was doing attempting to do some updates to openssl using homebrew and I somehow managed to break everything. I can't do anything now, this is what I get when I try to do bundle install:</p>\n\n<pre><code>$ bundle install\n/Users/asServer/.rbenv/versions/2.1.2/lib/ruby/2.1.0/rubygems/core_ext/kernel_require.rb:55:in    `require': dlopen(/Users/asServer/.rbenv/versions/2.1.2/lib/ruby/2.1.0/x86_64-darwin13.0/openssl.bundle, 9): Symbol not found: _SSLv2_client_method (LoadError)\nReferenced from: /Users/asServer/.rbenv/versions/2.1.2/lib/ruby/2.1.0/x86_64-darwin13.0/openssl.bundle\nExpected in: /usr/local/opt/openssl/lib/libssl.1.0.0.dylib\nin /Users/asServer/.rbenv/versions/2.1.2/lib/ruby/2.1.0/x86_64-darwin13.0/openssl.bundle - /Users/asServer/.rbenv/versions/2.1.2/lib/ruby/2.1.0/x86_64-darwin13.0/openssl.bundle\n    from /Users/asServer/.rbenv/versions/2.1.2/lib/ruby/2.1.0/rubygems/core_ext/kernel_require.rb:55:in `require'\n    from /Users/asServer/.rbenv/versions/2.1.2/lib/ruby/2.1.0/openssl.rb:17:in `&lt;top (required)&gt;'\n    from /Users/asServer/.rbenv/versions/2.1.2/lib/ruby/2.1.0/rubygems/core_ext/kernel_require.rb:55:in `require'\n    from /Users/asServer/.rbenv/versions/2.1.2/lib/ruby/2.1.0/rubygems/core_ext/kernel_require.rb:55:in `require'\n    from /Users/asServer/.rbenv/versions/2.1.2/lib/ruby/2.1.0/rubygems/security.rb:11:in `&lt;top (required)&gt;'\n    from /Users/asServer/.rbenv/versions/2.1.2/lib/ruby/2.1.0/rubygems/core_ext/kernel_require.rb:55:in `require'\n    from /Users/asServer/.rbenv/versions/2.1.2/lib/ruby/2.1.0/rubygems/core_ext/kernel_require.rb:55:in `require'\n    from /Users/asServer/.rbenv/versions/2.1.2/lib/ruby/2.1.0/rubygems/package.rb:43:in `&lt;top (required)&gt;'\n    from /Users/asServer/.rbenv/versions/2.1.2/lib/ruby/2.1.0/rubygems/core_ext/kernel_require.rb:55:in `require'\n    from /Users/asServer/.rbenv/versions/2.1.2/lib/ruby/2.1.0/rubygems/core_ext/kernel_require.rb:55:in `require'\n    from /Users/asServer/.rbenv/versions/2.1.2/lib/ruby/2.1.0/rubygems/dependency_installer.rb:3:in `&lt;top (required)&gt;'\n    from /Users/asServer/.rbenv/versions/2.1.2/lib/ruby/2.1.0/rubygems/core_ext/kernel_require.rb:55:in `require'\n    from /Users/asServer/.rbenv/versions/2.1.2/lib/ruby/2.1.0/rubygems/core_ext/kernel_require.rb:55:in `require'\n    from /Users/asServer/.rbenv/versions/2.1.2/lib/ruby/gems/2.1.0/gems/bundler-1.6.3/lib/bundler/installer.rb:2:in `&lt;top (required)&gt;'\n    from /Users/asServer/.rbenv/versions/2.1.2/lib/ruby/gems/2.1.0/gems/bundler-1.6.3/lib/bundler/cli/install.rb:78:in `run'\n    from /Users/asServer/.rbenv/versions/2.1.2/lib/ruby/gems/2.1.0/gems/bundler-1.6.3/lib/bundler/cli.rb:146:in `install'\n    from /Users/asServer/.rbenv/versions/2.1.2/lib/ruby/gems/2.1.0/gems/bundler-1.6.3/lib/bundler/vendor/thor/command.rb:27:in `run'\n    from /Users/asServer/.rbenv/versions/2.1.2/lib/ruby/gems/2.1.0/gems/bundler-1.6.3/lib/bundler/vendor/thor/invocation.rb:121:in `invoke_command'\n    from /Users/asServer/.rbenv/versions/2.1.2/lib/ruby/gems/2.1.0/gems/bundler-1.6.3/lib/bundler/vendor/thor.rb:363:in `dispatch'\n    from /Users/asServer/.rbenv/versions/2.1.2/lib/ruby/gems/2.1.0/gems/bundler-1.6.3/lib/bundler/vendor/thor/base.rb:440:in `start'\n    from /Users/asServer/.rbenv/versions/2.1.2/lib/ruby/gems/2.1.0/gems/bundler-1.6.3/lib/bundler/cli.rb:9:in `start'\n    from /Users/asServer/.rbenv/versions/2.1.2/lib/ruby/gems/2.1.0/gems/bundler-1.6.3/bin/bundle:20:in `block in &lt;top (required)&gt;'\n    from /Users/asServer/.rbenv/versions/2.1.2/lib/ruby/gems/2.1.0/gems/bundler-1.6.3/lib/bundler/friendly_errors.rb:5:in `with_friendly_errors'\n    from /Users/asServer/.rbenv/versions/2.1.2/lib/ruby/gems/2.1.0/gems/bundler-1.6.3/bin/bundle:20:in `&lt;top (required)&gt;'\n    from /Users/asServer/.rbenv/versions/2.1.2/bin/bundle:23:in `load'\n    from /Users/asServer/.rbenv/versions/2.1.2/bin/bundle:23:in `&lt;main&gt;'\n</code></pre>\n", "title": "Ruby Bundle Symbol not found: _SSLv2_client_method (LoadError)", "tags": ["ruby-on-rails", "openssl", "homebrew", "rbenv"], "answer_count": 10, "link": "http://stackoverflow.com/questions/25492787/ruby-bundle-symbol-not-found-sslv2-client-method-loaderror", "answers": [{"body": "<p>I just fixed a similar issue on my system. You need to rebuild your install of Ruby 2.1.2 and it will re-link against the newly-updated SSL.</p>\n\n<pre><code>$ rbenv install 2.1.2\nrbenv: /Users/ryan/.rbenv/versions/2.1.2 already exists\ncontinue with installation? (y/N) y\nDownloading ruby-2.1.2.tar.gz...\n-&gt; http://dqw8nmjcqpjn7.cloudfront.net/f22a6447811a81f3c808d1c2a5ce3b5f5f0955c68c9a749182feb425589e6635\nInstalling ruby-2.1.2...\nInstalled ruby-2.1.2 to /Users/ryan/.rbenv/versions/2.1.2\n</code></pre>\n", "title": "Ruby Bundle Symbol not found: _SSLv2_client_method (LoadError)", "answer_id": 25493698, "question_id": 25492787, "tags": ["ruby-on-rails", "openssl", "homebrew", "rbenv"]}, {"body": "<p>Have same issue for 1.9.3-p547, under rvm</p>\n\n<pre><code>rvm reinstall ruby-1.9.3-p547\n</code></pre>\n\n<p>Ruby gets re-installed, but fails in setting up a <code>gemset_pristine</code> for the application because</p>\n\n<pre><code>libv8 version 3.16.14.3 failed\n</code></pre>\n\n<p>which was the reason I got to this point in the first place. Vicious frustration circle...</p>\n\n<p><strong>update</strong><br>\nCheck your platform version. <a href=\"https://github.com/cowboyd/libv8\" rel=\"nofollow\">I have for example Darwin 10.8 and that is not listed here</a>.\nSo, unless your version of the libv8 gem has a precompiled binary for your platform, it is going to take a long (long-long) time.  Go out for dinner, a movie, chill out...  If enough ask, maybe they'll set up a binary distro...</p>\n", "title": "Ruby Bundle Symbol not found: _SSLv2_client_method (LoadError)", "answer_id": 25553213, "question_id": 25492787, "tags": ["ruby-on-rails", "openssl", "homebrew", "rbenv"]}, {"body": "<p>I had a similar issue after upgrading openssl. I use rvm. I stared by upgrading rvm.</p>\n\n<pre><code>$ rvm get stable\n</code></pre>\n\n<p>I next reinstalled 1.9.3.</p>\n\n<pre><code>rvm reinstall ruby-1.9.3-p545\n</code></pre>\n\n<p>After reinstalling, I ran:</p>\n\n<pre><code>$ rvm gemset pristine\n</code></pre>\n\n<p>If you see any errors restoring your gemset, your best option will be to empty the gemset and rebuild it.</p>\n\n<pre><code>rvm gemset use mygemset\nrvm gemset empty mygemset\ngem install bundler\nbundle install\n</code></pre>\n\n<p>If you have multiple gemsets, you will have to repeat these steps for each one of them.</p>\n", "title": "Ruby Bundle Symbol not found: _SSLv2_client_method (LoadError)", "answer_id": 25574249, "question_id": 25492787, "tags": ["ruby-on-rails", "openssl", "homebrew", "rbenv"]}, {"body": "<p>In case it might help anyone: I had a newer version of Ruby installed (2.1.2), and in my .ruby-version file I referenced the old one (2.0.0-p353)</p>\n\n<p>Changing my .ruby-version file to 2.1.2 fixed the issue for me.</p>\n", "title": "Ruby Bundle Symbol not found: _SSLv2_client_method (LoadError)", "answer_id": 25719584, "question_id": 25492787, "tags": ["ruby-on-rails", "openssl", "homebrew", "rbenv"]}, {"body": "<p>Had the same error and solved it by <code>brew upgrade openssl</code></p>\n", "title": "Ruby Bundle Symbol not found: _SSLv2_client_method (LoadError)", "answer_id": 25791798, "question_id": 25492787, "tags": ["ruby-on-rails", "openssl", "homebrew", "rbenv"]}, {"body": "<h3>When did not solve problem at all, I suggest deleting RVM. And reinstall RVM and Rails.</h3>\n\n<p>deleting RVM</p>\n\n<blockquote>\n  <p><a href=\"http://stackoverflow.com/questions/3558656/how-can-i-remove-rvm-ruby-version-manager-from-my-system\">How can I remove RVM (Ruby Version Manager) from my system?</a>    </p>\n</blockquote>\n\n<p>installing RVM, Rail</p>\n\n<blockquote>\n  <p>$ curl -L <a href=\"https://get.rvm.io\">https://get.rvm.io</a> | bash -s<br>\n  $ rvm get stable<br>\n  $ rvm requirements<br>\n  $ rvm install 2.0.0 --with-openssl-dir=$HOME/.rvm/usr<br>\n  $ rvm use 2.0.0\n  $ gem update --system 2.0.3<br>\n  $ gem install rails --version 4.0.5    </p>\n</blockquote>\n", "title": "Ruby Bundle Symbol not found: _SSLv2_client_method (LoadError)", "answer_id": 25927532, "question_id": 25492787, "tags": ["ruby-on-rails", "openssl", "homebrew", "rbenv"]}, {"body": "<p>rbenv users:</p>\n\n<p>It helps to make sure that you are using the right version of ruby. If you reinstall rbenv, change to the version you just installed:</p>\n\n<p>$ rbenv local 2.1.3</p>\n", "title": "Ruby Bundle Symbol not found: _SSLv2_client_method (LoadError)", "answer_id": 26601494, "question_id": 25492787, "tags": ["ruby-on-rails", "openssl", "homebrew", "rbenv"]}, {"body": "<h2>You might be a dork like me, with multiple openssl's</h2>\n\n<p>I had the same issue for 2.1.2 and Ryan Dlugosz's excellent answer didn't go far enough. My problem was that I had multiple versions of openssl installed (I think I'd installed through <code>brew</code> <em>and</em> <code>git</code> in previous projects).</p>\n\n<p>I had to delete /opt/local/bin/openssl and then rebuild 2.1.2.</p>\n\n<h3>Check global rbenv ruby</h3>\n\n<pre><code>$ rbenv global\n2.1.2\n</code></pre>\n\n<h3>Check openssl</h3>\n\n<pre><code>$ which -a openssl\n/opt/local/bin/openssl\n/opt/local/bin/openssl\n/usr/bin/openssl\n</code></pre>\n\n<h3>Kill off duplicate openssl</h3>\n\n<pre><code>$ sudo rm -rf /opt/local/bin/openssl\n</code></pre>\n\n<h3>Rebuild 2.1.2</h3>\n\n<pre><code>$ rbenv install -f 2.1.2\nDownloading openssl-1.0.1g.tar.gz...\n-&gt; http://dqw8nmjcqpjn7.cloudfront.net/53cb818c3b90e507a8348f4f5eaedb05d8bfe5358aabb508b7263cc670c3e028\nInstalling openssl-1.0.1g...\nInstalled openssl-1.0.1g to /Users/globber/.rbenv/versions/2.1.2\n\nDownloading ruby-2.1.2.tar.gz...\n-&gt; http://dqw8nmjcqpjn7.cloudfront.net/f22a6447811a81f3c808d1c2a5ce3b5f5f0955c68c9a749182feb425589e6635\nInstalling ruby-2.1.2...\nInstalled ruby-2.1.2 to /Users/globber/.rbenv/versions/2.1.2\n</code></pre>\n", "title": "Ruby Bundle Symbol not found: _SSLv2_client_method (LoadError)", "answer_id": 28396614, "question_id": 25492787, "tags": ["ruby-on-rails", "openssl", "homebrew", "rbenv"]}, {"body": "<p>In addition to the acceptance answers above, you may have to tell rbenv to use the newly installed version. For example, I had the old version in ~/.rbenv/version, so rbenv was always using the old one. Manually setting the new version in that file (or through the command line) should fix the problem.</p>\n\n<pre><code>rbenv install -f 2.1.2\nrbenv versions\nrbenv global 2.1.2 //sets global version to 2.1.2\n</code></pre>\n", "title": "Ruby Bundle Symbol not found: _SSLv2_client_method (LoadError)", "answer_id": 30645896, "question_id": 25492787, "tags": ["ruby-on-rails", "openssl", "homebrew", "rbenv"]}, {"body": "<p>I had a similar problem, which occurred after upgrading to ruby 2.2.2.\nHowever, my environment is a little different causing the above solutions to not work.</p>\n\n<p>I'm using:</p>\n\n<ul>\n<li>OSX Yosemite (10.10.4)</li>\n<li>chruby</li>\n<li>ruby-install</li>\n<li>openssl (installed via homebrew)</li>\n</ul>\n\n<p>The following command(s) resolved this in my situation:</p>\n\n<pre><code>&gt; sudo ruby-install -r /opt/rubies ruby 2.2.2 -- --with-openssl-dir=/usr/local/opt/openssl\n&gt; gem install bundler\n&gt; bundler install\n</code></pre>\n", "title": "Ruby Bundle Symbol not found: _SSLv2_client_method (LoadError)", "answer_id": 31366843, "question_id": 25492787, "tags": ["ruby-on-rails", "openssl", "homebrew", "rbenv"]}], "question_id": 25492787}, {"body": "<p>The following code does work how I need it to, but it's ugly, excessive or a number of other things. I've looked at formulas and attempted to write a few solutions, but I end up with a similar amount of statements.</p>\n\n<p>Is there a type of math formula that would benefit me in this instance or are 16 if statements acceptable?</p>\n\n<p>To explain the code, it's for a kind of simultaneous-turn-based game.. two players have four action buttons each and the results come from an array (0-3), but the variables 'one' &amp; 'two' can be assigned anything if this helps. The result is, 0 = neither win, 1 = p1 wins, 2 = p2 wins, 3 = both win.</p>\n\n<pre><code>public int fightMath(int one, int two) {\n\n    if(one == 0 &amp;&amp; two == 0) { result = 0; }\n    else if(one == 0 &amp;&amp; two == 1) { result = 0; }\n    else if(one == 0 &amp;&amp; two == 2) { result = 1; }\n    else if(one == 0 &amp;&amp; two == 3) { result = 2; }\n    else if(one == 1 &amp;&amp; two == 0) { result = 0; }\n    else if(one == 1 &amp;&amp; two == 1) { result = 0; }\n    else if(one == 1 &amp;&amp; two == 2) { result = 2; }\n    else if(one == 1 &amp;&amp; two == 3) { result = 1; }\n    else if(one == 2 &amp;&amp; two == 0) { result = 2; }\n    else if(one == 2 &amp;&amp; two == 1) { result = 1; }\n    else if(one == 2 &amp;&amp; two == 2) { result = 3; }\n    else if(one == 2 &amp;&amp; two == 3) { result = 3; }\n    else if(one == 3 &amp;&amp; two == 0) { result = 1; }\n    else if(one == 3 &amp;&amp; two == 1) { result = 2; }\n    else if(one == 3 &amp;&amp; two == 2) { result = 3; }\n    else if(one == 3 &amp;&amp; two == 3) { result = 3; }\n\n    return result;\n}\n</code></pre>\n", "title": "Too many &#39;if&#39; statements?", "tags": ["java", "math", "if-statement", "formula"], "answer_count": 27, "link": "http://stackoverflow.com/questions/22501230/too-many-if-statements", "answers": [{"body": "<p>Try it with <strong>switch casing.</strong>..</p>\n\n<p>Take a look <a href=\"http://www.dummies.com/how-to/content/switch-statements-in-java.html\">here</a> or <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\">here</a> for more info about it</p>\n\n<pre><code>switch (expression)\n{ \n  case constant:\n        statements;\n        break;\n  [ case constant-2:\n        statements;\n        break;  ] ...\n  [ default:\n        statements;\n        break;  ] ...\n}\n</code></pre>\n\n<p>You can <strong>add multiple conditions</strong>(not simultaneously) to it and even <strong>have a default option</strong> where no other cases have been satisfied.</p>\n\n<p><strong>PS: Only if one condition is to be satisfied..</strong></p>\n\n<p>If 2 conditions arise simultaneously.. I don't think switch can be used.\nBut you can reduce your code here.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/5086322/java-switch-statement-multiple-cases\">Java switch statement multiple cases</a></p>\n", "title": "Too many &#39;if&#39; statements?", "answer_id": 22501293, "question_id": 22501230, "tags": ["java", "math", "if-statement", "formula"]}, {"body": "<p>You may use a <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"nofollow\">switch case</a> instead of mutiple <code>if</code></p>\n\n<p>Also to mention that since you have two variables then you have to merge the two variables to use them in switch</p>\n\n<p>Check this <a href=\"http://stackoverflow.com/questions/15222918/java-switch-statement-to-handle-two-variables\">Java switch statement to handle two variables?</a></p>\n", "title": "Too many &#39;if&#39; statements?", "answer_id": 22501296, "question_id": 22501230, "tags": ["java", "math", "if-statement", "formula"]}, {"body": "<p>Instead do something like this</p>\n\n<pre><code>   public int fightMath(int one, int two) {\n    return Calculate(one,two)\n\n    }\n\n\n    private int Calculate(int one,int two){\n\n    if (one==0){\n        if(two==0){\n     //return value}\n    }else if (one==1){\n   // return value as per condtiion\n    }\n\n    }\n</code></pre>\n", "title": "Too many &#39;if&#39; statements?", "answer_id": 22501429, "question_id": 22501230, "tags": ["java", "math", "if-statement", "formula"]}, {"body": "<p>If you cannot come up with a formula, you can use a table for such a limited number of outcomes:</p>\n\n<pre><code>final int[][] result = new int[][] {\n  { 0, 0, 1, 2 },\n  { 0, 0, 2, 1 },\n  { 2, 1, 3, 3 },\n  { 1, 2, 3, 3 }\n};\nreturn result[one][two];\n</code></pre>\n", "title": "Too many &#39;if&#39; statements?", "answer_id": 22501430, "question_id": 22501230, "tags": ["java", "math", "if-statement", "formula"]}, {"body": "<p>You can create matrix which contains results </p>\n\n<pre><code>int[][] results = {{0, 0, 1, 2}, {0, 0, 2, 1},{2, 1, 3, 3},{2, 1, 3, 3}};\n</code></pre>\n\n<p>When you want to get value you will use </p>\n\n<pre><code>public int fightMath(int one, int two) {\n  return this.results[one][two]; \n}\n</code></pre>\n", "title": "Too many &#39;if&#39; statements?", "answer_id": 22501452, "question_id": 22501230, "tags": ["java", "math", "if-statement", "formula"]}, {"body": "<p>As I draw a table between one/two and the result, I see one pattern, </p>\n\n<pre><code>if(one&lt;2 &amp;&amp; two &lt;2) result=0; return;\n</code></pre>\n\n<p>The above would cut down atleast 3 if statements. I don't see a set pattern nor I am able to glean much from the code given - but if such logic can be derived, it would cut down a number of if statements.</p>\n\n<p>Hope this helps.</p>\n", "title": "Too many &#39;if&#39; statements?", "answer_id": 22501779, "question_id": 22501230, "tags": ["java", "math", "if-statement", "formula"]}, {"body": "<p>To be quite honest, everyone has their own style of code. I wouldn't have thought performance would be affected too much. If you understand this better than using a switch case version, then carry on using this.</p>\n\n<p>You could nest the ifs , so potentially there would be a slight performance increase for your last if checks as it wouldn't have gone through as many if statements. But in your context of a basic java course it probably won't benefit.</p>\n\n<pre><code>else if(one == 3 &amp;&amp; two == 3) { result = 3; }\n</code></pre>\n\n<p>So, instead of...</p>\n\n<pre><code>if(one == 0 &amp;&amp; two == 0) { result = 0; }\nelse if(one == 0 &amp;&amp; two == 1) { result = 0; }\nelse if(one == 0 &amp;&amp; two == 2) { result = 1; }\nelse if(one == 0 &amp;&amp; two == 3) { result = 2; }\n</code></pre>\n\n<p>You'd do...</p>\n\n<pre><code>if(one == 0) \n{ \n    if(two == 0) { result = 0; }\n    else if(two == 1) { result = 0; }\n    else if(two == 2) { result = 1; }\n    else if(two == 3) { result = 2; }\n}\n</code></pre>\n\n<p>And just reformat it as you'd prefer.</p>\n\n<p>This doesn't make the code look better, but potentially speeds it up a little I believe.</p>\n", "title": "Too many &#39;if&#39; statements?", "answer_id": 22501941, "question_id": 22501230, "tags": ["java", "math", "if-statement", "formula"]}, {"body": "<p>Thanks to @Joe Harper as I ended up using a variation of his answer. To slim it down further as 2 results per 4 were the same I slimmed it down further.</p>\n\n<p>I may come back to this at some point, but if there's no major resistance caused by multiple <code>if</code>-statements then I'll keep this for now. I will look into the table matrix and switch statement solutions further.</p>\n\n<pre><code>public int fightMath(int one, int two) {\n\n    if       (one == 0) {\n\n        if       (two == 2) {\n            result = 1;\n        } else if(two == 3) {\n            result = 2;\n        } else {\n            result = 0; }\n\n    } else if(one == 1) {\n        if       (two == 2) {\n            result = 2;\n        } else if(two == 3) {\n            result = 1;\n        } else {\n            result = 0; }\n\n    } else if(one == 2) {\n\n        if       (two == 0) {\n            result = 2;\n        } else if(two == 1) {\n            result = 1;\n        } else {\n            result = 3; }\n\n    } else if(one == 3) {\n\n        if       (two == 0) {\n            result = 1;\n        } else if(two == 1) {\n            result = 2;\n        } else {\n            result = 3; }\n    }\n\n    return result;\n}\n</code></pre>\n", "title": "Too many &#39;if&#39; statements?", "answer_id": 22506289, "question_id": 22501230, "tags": ["java", "math", "if-statement", "formula"]}, {"body": "<p>Other people have already suggested my initial idea, the matrix method, but in addition to consolidating the if statements you can avoid some of what you have by making sure the arguments supplied are in the expected range and by using in-place returns (some coding standards I've seen enforce one-point-of-exit for functions, but I've found that multiple returns are very useful for avoiding arrow coding and with the prevalence of exceptions in Java there's not much point in strictly enforcing such a rule anyway as any uncaught exception thrown inside the method is a possible point of exit anyway). Nesting switch statements is a possibility, but for the small range of values you're checking here I find if statements to be more compact and not likely to result in much of a performance difference, especially if your program is turn-based rather than real-time.</p>\n\n<pre><code>public int fightMath(int one, int two) {\n    if (one &gt; 3 || one &lt; 0 || two &gt; 3 || two &lt; 0) {\n        throw new IllegalArgumentException(\"Result is undefined for arguments outside the range [0, 3]\");\n    }\n\n    if (one &lt;= 1) {\n        if (two &lt;= 1) return 0;\n        if (two - one == 2) return 1;\n        return 2; // two can only be 3 here, no need for an explicit conditional\n    }\n\n    // one &gt;= 2\n    if (two &gt;= 2) return 3;\n    if (two == 1) return 1;\n    return 2; // two can only be 0 here\n}\n</code></pre>\n\n<p>This does end up being less readable than it might otherwise be due to the irregularity of parts of the input->result mapping. I favor the matrix style instead due to its simplicity and how you can set up the matrix to make sense visually (though that is in part influenced by my memories of Karnaugh maps):</p>\n\n<pre><code>int[][] results = {{0, 0, 1, 2},\n                   {0, 0, 2, 1},\n                   {2, 1, 3, 3},\n                   {2, 1, 3, 3}};\n</code></pre>\n\n<hr>\n\n<p>Update: Given your mention of blocking/hitting, here's a more radical change to the function that utilizes propertied/attribute-holding enumerated types for inputs and the result and also modifies the result a little to account for blocking, which should result in a more readable function.</p>\n\n<pre><code>enum MoveType {\n    ATTACK,\n    BLOCK;\n}\n\nenum MoveHeight {\n    HIGH,\n    LOW;\n}\n\nenum Move {\n    // Enum members can have properties/attributes/data members of their own\n    ATTACK_HIGH(MoveType.ATTACK, MoveHeight.HIGH),\n    ATTACK_LOW(MoveType.ATTACK, MoveHeight.LOW),\n    BLOCK_HIGH(MoveType.BLOCK, MoveHeight.HIGH),\n    BLOCK_LOW(MoveType.BLOCK, MoveHeight.LOW);\n\n    public final MoveType type;\n    public final MoveHeight height;\n\n    private Move(MoveType type, MoveHeight height) {\n        this.type = type;\n        this.height = height;\n    }\n\n    /** Makes the attack checks later on simpler. */\n    public boolean isAttack() {\n        return this.type == MoveType.ATTACK;\n    }\n}\n\nenum LandedHit {\n    NEITHER,\n    PLAYER_ONE,\n    PLAYER_TWO,\n    BOTH;\n}\n\nLandedHit fightMath(Move one, Move two) {\n    // One is an attack, the other is a block\n    if (one.type != two.type) {\n        // attack at some height gets blocked by block at same height\n        if (one.height == two.height) return LandedHit.NEITHER;\n\n        // Either player 1 attacked or player 2 attacked; whoever did\n        // lands a hit\n        if (one.isAttack()) return LandedHit.PLAYER_ONE;\n        return LandedHit.PLAYER_TWO;\n    }\n\n    // both attack\n    if (one.isAttack()) return LandedHit.BOTH;\n\n    // both block\n    return LandedHit.NEITHER;\n}\n</code></pre>\n\n<p>You don't even have to change the function itself if you want to add blocks/attacks of more heights, just the enums; adding additional types of moves will probably require modification of the function, though. Also, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html\"><code>EnumSet</code>s</a> might be more extensible than using extra enums as properties of the main enum, e.g. <code>EnumSet&lt;Move&gt; attacks = EnumSet.of(Move.ATTACK_HIGH, Move.ATTACK_LOW, ...);</code> and then <code>attacks.contains(move)</code> rather than <code>move.type == MoveType.ATTACK</code>, though using <code>EnumSet</code>s will probably be slightly slower than direct equals checks.</p>\n\n<hr>\n\n<p>For the case where a successful block results in a counter, you can replace <code>if (one.height == two.height) return LandedHit.NEITHER;</code> with</p>\n\n<pre><code>if (one.height == two.height) {\n    // Successful block results in a counter against the attacker\n    if (one.isAttack()) return LandedHit.PLAYER_TWO;\n    return LandedHit.PLAYER_ONE;\n}\n</code></pre>\n\n<p>Also, replacing some of the <code>if</code> statements with usage of the ternary operator (<code>boolean_expression ? result_if_true : result_if_false</code>) could make the code more compact (for example, the code in the preceding block would become <code>return one.isAttack() ? LandedHit.PLAYER_TWO : LandedHit.PLAYER_ONE;</code>), but that can lead to harder-to-read oneliners so I wouldn't recommend it for more complex branching.</p>\n", "title": "Too many &#39;if&#39; statements?", "answer_id": 22507048, "question_id": 22501230, "tags": ["java", "math", "if-statement", "formula"]}, {"body": "<p>Why not using an array?</p>\n\n<p>I will start from the beginning. I see a pattern, the values goes from 0 to 3 and you want catch all possible values. This is your table:</p>\n\n<pre><code>0 &amp; 0 = 0\n0 &amp; 1 = 0\n0 &amp; 2 = 1\n0 &amp; 3 = 2\n1 &amp; 0 = 0\n1 &amp; 1 = 0\n1 &amp; 2 = 2\n1 &amp; 3 = 1\n2 &amp; 0 = 2\n2 &amp; 1 = 1\n2 &amp; 2 = 3\n2 &amp; 3 = 3\n3 &amp; 0 = 2\n3 &amp; 1 = 1\n3 &amp; 2 = 3\n3 &amp; 3 = 3\n</code></pre>\n\n<p>when we look at this same table binary we see the following results:</p>\n\n<pre><code>00 &amp; 00 = 00\n00 &amp; 01 = 00\n00 &amp; 10 = 01\n00 &amp; 11 = 10\n01 &amp; 00 = 00\n01 &amp; 01 = 00\n01 &amp; 10 = 10\n01 &amp; 11 = 01\n10 &amp; 00 = 10\n10 &amp; 01 = 01\n10 &amp; 10 = 11\n10 &amp; 11 = 11\n11 &amp; 00 = 10\n11 &amp; 01 = 01\n11 &amp; 10 = 11\n11 &amp; 11 = 11\n</code></pre>\n\n<p>Now maybe you already see some pattern but when I combine value one and two I see that you're using all values 0000, 0001, 0010,..... 1110 and 1111. Now let's combine value one and two to make a single 4 bit integer. </p>\n\n<pre><code>0000 = 00\n0001 = 00\n0010 = 01\n0011 = 10\n0100 = 00\n0101 = 00\n0110 = 10\n0111 = 01\n1000 = 10\n1001 = 01\n1010 = 11\n1011 = 11\n1100 = 10\n1101 = 01\n1110 = 11\n1111 = 11\n</code></pre>\n\n<p>When we translate this back into decimal values we see an very possible array of values where the one and two combined could be used as index:</p>\n\n<pre><code>0 = 0\n1 = 0\n2 = 1\n3 = 2\n4 = 0\n5 = 0\n6 = 2\n7 = 1\n8 = 2\n9 = 1\n10 = 3\n11 = 3\n12 = 2\n13 = 1\n14 = 3\n15 = 3\n</code></pre>\n\n<p>The array is then {0, 0, 1, 2, 0, 0, 2, 1, 2, 1, 3, 3, 2, 1, 3, 3} which where it's index is simply one and two combined.</p>\n\n<p>I'm not a Java programmer but you can get rid of all if statements and just write it down as something like this:</p>\n\n<pre><code>int[] myIntArray = {0, 0, 1, 2, 0, 0, 2, 1, 2, 1, 3, 3, 2, 1, 3, 3};\nresult = myIntArray[one * 4 + two]; \n</code></pre>\n\n<p>Don't know if a bit shift of 2 is faster than multiplication. But it could be worth the try. </p>\n", "title": "Too many &#39;if&#39; statements?", "answer_id": 22508836, "question_id": 22501230, "tags": ["java", "math", "if-statement", "formula"]}, {"body": "<p>This uses a little bit of bitmagic (you're already doing it by holding two bits of information (low/high &amp; attack/block) in a single integer):</p>\n\n<p><s>I haven't run it, only typed it here, please doublecheck.</s> The idea surely works.\n<b>EDIT:</b> It is now tested for every input, works fine.</p>\n\n<pre><code>public int fightMath(int one, int two) {\n    if(one&lt;2 &amp;&amp; two&lt;2){ //both players blocking\n        return 0; // nobody hits\n    }else if(one&gt;1 &amp;&amp; two&gt;1){ //both players attacking\n        return 3; // both hit\n    }else{ // some of them attack, other one blocks\n        int different_height = (one ^ two) &amp; 1; // is 0 if they are both going for the same height - i.e. blocker wins, and 1 if height is different, thus attacker wins\n        int attacker = one&gt;1?1:0; // is 1 if one is the attacker, two is the blocker, and 0 if one is the blocker, two is the attacker\n        return (attacker ^ different_height) + 1;\n    }\n}\n</code></pre>\n\n<p>Or should I suggest to separate the two bits of information into separate variables?\nCode based mostly on bit operations like this above is usually really hard to maintain.</p>\n", "title": "Too many &#39;if&#39; statements?", "answer_id": 22509356, "question_id": 22501230, "tags": ["java", "math", "if-statement", "formula"]}, {"body": "<p>I don't like any of the solutions presented except for JAB's.  <strong>None of the others make it easy to read the code and understand what is being computed</strong>. </p>\n\n<p>Here's how I would write this code -- I only know C#, not Java, but you get the picture:</p>\n\n<pre><code>const bool t = true;\nconst bool f = false;\nstatic readonly bool[,] attackResult = {\n    { f, f, t, f }, \n    { f, f, f, t },\n    { f, t, t, t },\n    { t, f, t, t }\n};\n[Flags] enum HitResult \n{ \n    Neither = 0,\n    PlayerOne = 1,\n    PlayerTwo = 2,\n    Both = PlayerOne | PlayerTwo\n}\nstatic HitResult ResolveAttack(int one, int two)\n{\n    return \n        (attackResult[one, two] ? HitResult.PlayerOne : HitResult.Neither) | \n        (attackResult[two, one] ? HitResult.PlayerTwo : HitResult.Neither);\n}    \n</code></pre>\n\n<p>Now it is much more clear what is being computed here: this emphasizes that we are computing who gets hit by what attack, and returning both results.</p>\n\n<p>However this could be even better; that Boolean array is somewhat opaque. I like the table lookup approach but I would be inclined to write it in such a way that made it clear what the intended game semantics were. That is, rather than \"an attack of zero and a defense of one results in no hit\", instead find a way to make the code more clearly imply \"a low kick attack and a low block defense results in no hit\".  <strong>Make the code reflect the business logic of the game.</strong></p>\n", "title": "Too many &#39;if&#39; statements?", "answer_id": 22511214, "question_id": 22501230, "tags": ["java", "math", "if-statement", "formula"]}, {"body": "<p>Since your data set is so small, you can compress everything into 1 long integer and turn it into a formula</p>\n\n<pre><code>public int fightMath(int one,int two)\n{\n   return (int)(0xF9F66090L &gt;&gt; (2*(one*4 + two)))%4;\n}\n</code></pre>\n\n<h3>More bitwise variant:</h3>\n\n<p>This makes use of the fact everything is a multiple of 2</p>\n\n<pre><code>public int fightMath(int one,int two)\n{\n   return (0xF9F66090 &gt;&gt; ((one &lt;&lt; 3) | (two &lt;&lt; 1))) &amp; 0x3;\n}\n</code></pre>\n\n<h3>The Origin of the Magic Constant</h3>\n\n<p>What can I say? The world needs magic, sometimes the possibility of something calls for its creation. </p>\n\n<p>The essence of the function that solves OP's problem is a map from 2 numbers (one,two), domain {0,1,2,3} to the range {0,1,2,3}.  Each of the answers has approached how to implement that map.</p>\n\n<p>Also, you can see in a number of the answers a restatement of the problem as a map of 1 2-digit base 4 number N(one,two) where one is digit 1, two is digit 2, and N = 4*one + two; N = {0,1,2,...,15} -- sixteen different values, that's important. The output of the function is one 1-digit base 4 number {0,1,2,3} -- 4 different values, also important.</p>\n\n<p>Now, a 1-digit base 4 number can be expressed as a 2-digit base 2 number;  {0,1,2,3} = {00,01,10,11}, and so each output can be encoded with only 2 bits.  From above, there are only 16 different outputs possible, so 16*2 = 32 bits is all that is necessary to encode the entire map; this can all fit into 1 integer.</p>\n\n<p>The constant M is an encoding of the map m where m(0) is encoded in bits M[0:1], m(1) is encoded in bits M[2:3], and m(n) is encoded in bits M[n*2:n*2+1].</p>\n\n<p>All that remains is indexing and returning the right part of the constant, in this case you can shift M right 2*N times and take the 2 least significant bits, that is (M >> 2*N) &amp; 0x3.  The expressions (one &lt;&lt; 3) and (two &lt;&lt; 1) are just multiplying things out while noting that 2*x = x &lt;&lt; 1 and 8*x = x &lt;&lt; 3.</p>\n", "title": "Too many &#39;if&#39; statements?", "answer_id": 22511429, "question_id": 22501230, "tags": ["java", "math", "if-statement", "formula"]}, {"body": "<p>I don't have experience with Java so there might be some typos. Please consider the code as pseudo-code.</p>\n\n<p>I'd go with a simple switch. For that, you'd need a single number evaluation. However, for this case, since <code>0 &lt;= one &lt; 4 &lt;= 9</code> and <code>0 &lt;= two &lt; 4 &lt;= 9</code>, we can convert both ints to a simple int by multiplying <code>one</code> by 10 and adding <code>two</code>. Then use a switch in the resulting number like this:</p>\n\n<pre><code>public int fightMath(int one, int two) {\n    // Convert one and two to a single variable in base 10\n    int evaluate = one * 10 + two;\n\n    switch(evaluate) {\n        // I'd consider a comment in each line here and in the original code\n        // for clarity\n        case 0: result = 0; break;\n        case 1: result = 0; break;\n        case 1: result = 0; break;\n        case 2: result = 1; break;\n        case 3: result = 2; break;\n        case 10: result = 0; break;\n        case 11: result = 0; break;\n        case 12: result = 2; break;\n        case 13: result = 1; break;\n        case 20: result = 2; break;\n        case 21: result = 1; break;\n        case 22: result = 3; break;\n        case 23: result = 3; break;\n        case 30: result = 1; break;\n        case 31: result = 2; break;\n        case 32: result = 3; break;\n        case 33: result = 3; break;\n    }\n\n    return result;\n}\n</code></pre>\n\n<p>There's another short method that I just want to point out as a theoretical code. However I wouldn't use it because it has some extra complexity that you don't normally want to deal with. The extra complexity comes from the <em>base 4</em>, because the counting is 0, 1, 2, 3, 10, 11, 12, 13, 20, ...</p>\n\n<pre><code>public int fightMath(int one, int two) {\n    // Convert one and two to a single variable in base 4\n    int evaluate = one * 4 + two;\n\n    allresults = new int[] { 0, 0, 1, 2, 0, 0, 2, 1, 2, 1, 3, 3, 1, 2, 3, 3 };\n\n    return allresults[evaluate];\n}\n</code></pre>\n\n<p>Really just additional note, in case I'm missing something from Java. In PHP I'd do:</p>\n\n<pre><code>function fightMath($one, $two) {\n    // Convert one and two to a single variable in base 4\n    $evaluate = $one * 10 + $two;\n\n    $allresults = array(\n         0 =&gt; 0,  1 =&gt; 0,  2 =&gt; 1,  3 =&gt; 2,\n        10 =&gt; 0, 11 =&gt; 0, 12 =&gt; 2, 13 =&gt; 1,\n        20 =&gt; 2, 21 =&gt; 1, 22 =&gt; 3, 23 =&gt; 3,\n        30 =&gt; 1, 31 =&gt; 2, 32 =&gt; 3, 33 =&gt; 3 );\n\n    return $allresults[$evaluate];\n}\n</code></pre>\n", "title": "Too many &#39;if&#39; statements?", "answer_id": 22513458, "question_id": 22501230, "tags": ["java", "math", "if-statement", "formula"]}, {"body": "<p>Since you prefer nested <code>if</code> conditionals , here's another way.<br>\nNote that it doesn't use the <code>result</code> member and it doesn't change any state.</p>\n\n<pre><code>public int fightMath(int one, int two) {\n    if (one == 0) {\n      if (two == 0) { return 0; }\n      if (two == 1) { return 0; }\n      if (two == 2) { return 1; }\n      if (two == 3) { return 2; }\n    }   \n    if (one == 1) {\n      if (two == 0) { return 0; }\n      if (two == 1) { return 0; }\n      if (two == 2) { return 2; }\n      if (two == 3) { return 1; }\n    }\n    if (one == 2) {\n      if (two == 0) { return 2; }\n      if (two == 1) { return 1; }\n      if (two == 2) { return 3; }\n      if (two == 3) { return 3; }\n    }\n    if (one == 3) {\n      if (two == 0) { return 1; }\n      if (two == 1) { return 2; }\n      if (two == 2) { return 3; }\n      if (two == 3) { return 3; }\n    }\n    return DEFAULT_RESULT;\n}\n</code></pre>\n", "title": "Too many &#39;if&#39; statements?", "answer_id": 22515309, "question_id": 22501230, "tags": ["java", "math", "if-statement", "formula"]}, {"body": "<p>I hope I understand the logic correctly. How about something like:</p>\n\n<pre><code>public int fightMath (int one, int two)\n{\n    int oneHit = ((one == 3 &amp;&amp; two != 1) || (one == 2 &amp;&amp; two != 0)) ? 1 : 0;\n    int twoHit = ((two == 3 &amp;&amp; one != 1) || (two == 2 &amp;&amp; one != 0)) ? 2 : 0;\n\n    return oneHit+twoHit;\n}\n</code></pre>\n\n<p>Checking one hit high or one hit low is not blocked and the same for player two. </p>\n\n<p>Edit: Algorithm was not fully understood, \"hit\" awarded when blocking which I did not realize (Thx elias):</p>\n\n<pre><code>public int fightMath (int one, int two)\n{\n    int oneAttack = ((one == 3 &amp;&amp; two != 1) || (one == 2 &amp;&amp; two != 0)) ? 1 : (one &gt;= 2) ? 2 : 0;\n    int twoAttack = ((two == 3 &amp;&amp; one != 1) || (two == 2 &amp;&amp; one != 0)) ? 2 : (two &gt;= 2) ? 1 : 0;\n\n    return oneAttack | twoAttack;\n}\n</code></pre>\n", "title": "Too many &#39;if&#39; statements?", "answer_id": 22522197, "question_id": 22501230, "tags": ["java", "math", "if-statement", "formula"]}, {"body": "<p>Let's see what we know</p>\n\n<p>1: your answers are symmetrical for P1 (player one) and P2 (player two). This makes sense for a fighting game but is also something you can take advantage of to improve your logic.</p>\n\n<p>2: 3 beats 0 beats 2 beats 1 beats 3. The only cases not covered by these cases are combinations of 0 vs 1 and 2 vs 3. To put it another way the unique victory table looks like this: 0 beats 2, 1 beats 3, 2 beats 1, 3 beats 0. </p>\n\n<p>3: If 0/1 go up against each other then there's a hitless draw but if 2/3 go up against each then both hit</p>\n\n<p>First, let us build a one-way function telling us if we won:</p>\n\n<pre><code>// returns whether we beat our opponent\npublic boolean doesBeat(int attacker, int defender) {\n  int[] beats = {2, 3, 1, 0};\n  return defender == beats[attacker];\n}\n</code></pre>\n\n<p>We can then use this function to compose the final result:</p>\n\n<pre><code>// returns the overall fight result\n// bit 0 = one hits\n// bit 1 = two hits\npublic int fightMath(int one, int two)\n{\n  // Check to see whether either has an outright winning combo\n  if (doesBeat(one, two))\n    return 1;\n\n  if (doesBeat(two, one))\n    return 2;\n\n  // If both have 0/1 then its hitless draw but if both have 2/3 then they both hit.\n  // We can check this by seeing whether the second bit is set and we need only check\n  // one's value as combinations where they don't both have 0/1 or 2/3 have already\n  // been dealt with \n  return (one &amp; 2) ? 3 : 0;\n}\n</code></pre>\n\n<p>While this is arguably more complex and probably slower than the table lookup offered in many answers I believe it is a superior method because it actually encapsulates the logic of your code and describes it to anyone who's reading your code. I think this makes it a better implementation.</p>\n\n<p>(It's been a while since I did any Java so apologies if the syntax is off, hopefully it is still intelligible if I've got it slightly wrong)</p>\n\n<p>By the way, 0-3 clearly <em>mean</em> something; they're not arbitrary values so it would help to name them.</p>\n", "title": "Too many &#39;if&#39; statements?", "answer_id": 22531932, "question_id": 22501230, "tags": ["java", "math", "if-statement", "formula"]}, {"body": "<p>The first thing that occurred to me was essentially the same answer given by Francisco Presencia, but optimized somewhat:</p>\n\n<pre><code>public int fightMath(int one, int two)\n{\n    switch (one*10 + two)\n    {\n    case  0:\n    case  1:\n    case 10:\n    case 11:\n        return 0;\n    case  2:\n    case 13:\n    case 21:\n    case 30:\n        return 1;\n    case  3:\n    case 12:\n    case 20:\n    case 31:\n        return 2;\n    case 22:\n    case 23:\n    case 32:\n    case 33:\n        return 3;\n    }\n}\n</code></pre>\n\n<p>You could further optimize it by making the last case (for 3) the default case:</p>\n\n<pre><code>    //case 22:\n    //case 23:\n    //case 32:\n    //case 33:\n    default:\n        return 3;\n</code></pre>\n\n<p>The advantage of this method is that it is easier to see which values for <code>one</code> and <code>two</code> correspond to which return values than some of the other suggested methods.</p>\n", "title": "Too many &#39;if&#39; statements?", "answer_id": 22541274, "question_id": 22501230, "tags": ["java", "math", "if-statement", "formula"]}, {"body": "<p>I personally like to cascade ternary operators:</p>\n\n<pre><code>int result = condition1\n    ? result1\n    : condition2\n    ? result2\n    : condition3\n    ? result3\n    : resultElse;\n</code></pre>\n\n<p>But in your case, you can use:</p>\n\n<pre><code>final int[] result = new int[/*16*/] {\n    0, 0, 1, 2,\n    0, 0, 2, 1,\n    2, 1, 3, 3,\n    1, 2, 3, 3\n};\n\npublic int fightMath(int one, int two) {\n    return result[one*4 + two];\n}\n</code></pre>\n\n<p>Or, you can notice a pattern in bits:</p>\n\n<pre><code>one   two   result\n\nsection 1: higher bits are equals =&gt;\nboth result bits are equals to that higher bits\n\n00    00    00\n00    01    00\n01    00    00\n01    01    00\n10    10    11\n10    11    11\n11    10    11\n11    11    11\n\nsection 2: higher bits are different =&gt;\nlower result bit is inverse of lower bit of 'two'\nhigher result bit is lower bit of 'two'\n\n00    10    01\n00    11    10\n01    10    10\n01    11    01\n10    00    10\n10    01    01\n11    00    01\n11    01    10\n</code></pre>\n\n<p>So you can use magic:</p>\n\n<pre><code>int fightMath(int one, int two) {\n    int b1 = one &amp; 2, b2 = two &amp; 2;\n    if (b1 == b2)\n        return b1 | (b1 &gt;&gt; 1);\n\n    b1 = two &amp; 1;\n\n    return (b1 &lt;&lt; 1) | (~b1);\n}\n</code></pre>\n", "title": "Too many &#39;if&#39; statements?", "answer_id": 22543548, "question_id": 22501230, "tags": ["java", "math", "if-statement", "formula"]}, {"body": "<p>A good point would be to define the rules as text, you can easier derive the correct formula then. This is extracted from laalto's nice array representation:</p>\n\n<pre><code>{ 0, 0, 1, 2 },\n{ 0, 0, 2, 1 },\n{ 2, 1, 3, 3 },\n{ 1, 2, 3, 3 }\n</code></pre>\n\n<p>And here we go with some general comments, but you should describe them in rule terms:</p>\n\n<pre><code>if(one&lt;2) // left half\n{\n    if(two&lt;2) // upper left half\n    {\n        result = 0; //neither hits\n    }\n    else // lower left half\n    {\n        result = 1+(one+two)%2; //p2 hits if sum is even\n    }\n}\nelse // right half\n{\n    if(two&lt;2) // upper right half\n    {\n        result = 1+(one+two+1)%2; //p1 hits if sum is even\n    }\n    else // lower right half\n    {\n        return 3; //both hit\n    }\n}\n</code></pre>\n\n<p>You could of course crunch this down to less code, but it is generally a good idea to understand what you code rather than finding a compact solution.</p>\n\n<pre><code>if((one&lt;2)&amp;&amp;(two&lt;2)) result = 0; //top left\nelse if((one&gt;1)&amp;&amp;(two&gt;1)) result = 3; //bottom right\nelse result = 1+(one+two+((one&gt;1)?1:0))%2; //no idea what that means\n</code></pre>\n\n<p>Some explanation on the complicated p1/p2 hits would be great, looks interesting!</p>\n", "title": "Too many &#39;if&#39; statements?", "answer_id": 22547226, "question_id": 22501230, "tags": ["java", "math", "if-statement", "formula"]}, {"body": "<pre><code>((two&amp;2)*(1+((one^two)&amp;1))+(one&amp;2)*(2-((one^two)&amp;1)))/2\n</code></pre>\n", "title": "Too many &#39;if&#39; statements?", "answer_id": 22553284, "question_id": 22501230, "tags": ["java", "math", "if-statement", "formula"]}, {"body": "<p>Here's a fairly concise version, similar to <a href=\"http://stackoverflow.com/a/22507048/474189\">JAB's response</a>. This utilises a map to store which moves triumph over others.</p>\n\n<pre><code>public enum Result {\n  P1Win, P2Win, BothWin, NeitherWin;\n}\n\npublic enum Move {\n  BLOCK_HIGH, BLOCK_LOW, ATTACK_HIGH, ATTACK_LOW;\n\n  static final Map&lt;Move, List&lt;Move&gt;&gt; beats = new EnumMap&lt;Move, List&lt;Move&gt;&gt;(\n      Move.class);\n\n  static {\n    beats.put(BLOCK_HIGH, new ArrayList&lt;Move&gt;());\n    beats.put(BLOCK_LOW, new ArrayList&lt;Move&gt;());\n    beats.put(ATTACK_HIGH, Arrays.asList(ATTACK_LOW, BLOCK_LOW));\n    beats.put(ATTACK_LOW, Arrays.asList(ATTACK_HIGH, BLOCK_HIGH));\n  }\n\n  public static Result compare(Move p1Move, Move p2Move) {\n    boolean p1Wins = beats.get(p1Move).contains(p2Move);\n    boolean p2Wins = beats.get(p2Move).contains(p1Move);\n\n    if (p1Wins) {\n      return (p2Wins) ? Result.BothWin : Result.P1Win;\n    }\n    if (p2Wins) {\n      return (p1Wins) ? Result.BothWin : Result.P2Win;\n    }\n\n    return Result.NeitherWin;\n  }\n} \n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>System.out.println(Move.compare(Move.ATTACK_HIGH, Move.BLOCK_LOW));\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>P1Win\n</code></pre>\n", "title": "Too many &#39;if&#39; statements?", "answer_id": 22615213, "question_id": 22501230, "tags": ["java", "math", "if-statement", "formula"]}, {"body": "<p>I'd use a Map, either a HashMap or a TreeMap</p>\n\n<p>Especially if the parameters are not on the form <code>0 &lt;= X &lt; N</code></p>\n\n<p>Like a set of random positive integers ..</p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>public class MyMap\n{\n    private TreeMap&lt;String,Integer&gt; map;\n\n    public MyMap ()\n    {\n        map = new TreeMap&lt;String,Integer&gt; ();\n    }\n\n    public void put (int key1, int key2, Integer value)\n    {\n        String key = (key1+\":\"+key2);\n\n        map.put(key, new Integer(value));\n    }\n\n    public Integer get (int key1, int key2)\n    {\n        String key = (key1+\":\"+key2);\n\n        return map.get(key);\n    }\n}\n</code></pre>\n", "title": "Too many &#39;if&#39; statements?", "answer_id": 22652252, "question_id": 22501230, "tags": ["java", "math", "if-statement", "formula"]}, {"body": "<p><strong>The shortest and still readable solution:</strong></p>\n\n<pre><code>static public int fightMath(int one, int two)\n{\n    if (one &lt; 2 &amp;&amp; two &lt; 2) return 0;\n    if (one &gt; 1 &amp;&amp; two &gt; 1) return 3;\n    int n = (one + two) % 2;\n    return one &lt; two ? 1 + n : 2 - n;\n}\n</code></pre>\n\n<p><strong>or even shorter:</strong></p>\n\n<pre><code>static public int fightMath(int one, int two)\n{\n    if (one / 2 == two / 2) return (one / 2) * 3;\n    return 1 + (one + two + one / 2) % 2;\n}\n</code></pre>\n\n<p>Doesn't contain any \"magic\" numbers ;)\nHope it helps.</p>\n", "title": "Too many &#39;if&#39; statements?", "answer_id": 22661955, "question_id": 22501230, "tags": ["java", "math", "if-statement", "formula"]}, {"body": "<ol>\n<li>Use constants or enums to make the code more readable</li>\n<li>Try to split the code into more functions</li>\n<li>Try to use the symmetry of the problem</li>\n</ol>\n\n<p>Here is a suggestion how this could look like, but using an ints here is still kind of ugly:</p>\n\n<pre><code>static final int BLOCK_HIGH = 0;\nstatic final int BLOCK_LOW = 1;\nstatic final int ATTACK_HIGH = 2;\nstatic final int ATTACK_LOW = 3;\n\npublic static int fightMath(int one, int two) {\n    boolean player1Wins = handleAttack(one, two);\n    boolean player2Wins = handleAttack(two, one);\n    return encodeResult(player1Wins, player2Wins); \n}\n\n\n\nprivate static boolean handleAttack(int one, int two) {\n     return one == ATTACK_HIGH &amp;&amp; two != BLOCK_HIGH\n        || one == ATTACK_LOW &amp;&amp; two != BLOCK_LOW\n        || one == BLOCK_HIGH &amp;&amp; two == ATTACK_HIGH\n        || one == BLOCK_LOW &amp;&amp; two == ATTACK_LOW;\n\n}\n\nprivate static int encodeResult(boolean player1Wins, boolean player2Wins) {\n    return (player1Wins ? 1 : 0) + (player2Wins ? 2 : 0);\n}\n</code></pre>\n\n<p>It would be nicer to use a structured type for the input and the output. The input actually has two fields: the position and the type (block or attack). The output also has two fields: player1Wins and player2Wins. Encoding this into a single integer makes it harder to read the code.</p>\n\n<pre><code>class PlayerMove {\n    PlayerMovePosition pos;\n    PlayerMoveType type;\n}\n\nenum PlayerMovePosition {\n    HIGH,LOW\n}\n\nenum PlayerMoveType {\n    BLOCK,ATTACK\n}\n\nclass AttackResult {\n    boolean player1Wins;\n    boolean player2Wins;\n\n    public AttackResult(boolean player1Wins, boolean player2Wins) {\n        this.player1Wins = player1Wins;\n        this.player2Wins = player2Wins;\n    }\n}\n\nAttackResult fightMath(PlayerMove a, PlayerMove b) {\n    return new AttackResult(isWinningMove(a, b), isWinningMove(b, a));\n}\n\nboolean isWinningMove(PlayerMove a, PlayerMove b) {\n    return a.type == PlayerMoveType.ATTACK &amp;&amp; !successfulBlock(b, a)\n            || successfulBlock(a, b);\n}\n\nboolean successfulBlock(PlayerMove a, PlayerMove b) {\n    return a.type == PlayerMoveType.BLOCK \n            &amp;&amp; b.type == PlayerMoveType.ATTACK \n            &amp;&amp; a.pos == b.pos;\n}\n</code></pre>\n\n<p>Unfortunately, Java is not very good at expressing those kinds of data-types.</p>\n", "title": "Too many &#39;if&#39; statements?", "answer_id": 22734753, "question_id": 22501230, "tags": ["java", "math", "if-statement", "formula"]}, {"body": "<p><code>static int val(int i, int u){\n    int q = (i &amp; 1) ^ (u &amp; 1);\n    return ((i &gt;&gt; 1) &lt;&lt; (1 ^ q))|((u &gt;&gt; 1) &lt;&lt; q);\n}</code></p>\n", "title": "Too many &#39;if&#39; statements?", "answer_id": 22851859, "question_id": 22501230, "tags": ["java", "math", "if-statement", "formula"]}, {"body": "<p>why don't you use <a href=\"http://www.informit.com/articles/article.aspx?p=1398607&amp;seqNum=2\" rel=\"nofollow\">Strategy pattern</a> to avoid lots of <code>if</code> <code>else</code> statements </p>\n", "title": "Too many &#39;if&#39; statements?", "answer_id": 30595116, "question_id": 22501230, "tags": ["java", "math", "if-statement", "formula"]}], "question_id": 22501230}, {"body": "<p>How to transfer docker image from one machine to another one without using repository no matter private or public ?</p>\n\n<p>I am used to play and create own image in virtualbox, when it is finished, I try to deploy to other machines to have real usage.</p>\n\n<p>Since it is based on own based image (like redhat), it cannot be recreated from Dockerfile.</p>\n\n<p>Are there any simple command I can use ? or other solution ?</p>\n\n<p><strong>updated</strong> seems save/export can achieve similar purpose, see another question <a href=\"http://stackoverflow.com/questions/22655867/what-is-the-difference-between-save-and-export-in-docker\">What is the difference between save and export in Docker?</a>, and I prefer <code>save</code> command for my case.</p>\n", "title": "How to copy docker images from one host to another without via repository?", "tags": ["docker"], "answer_count": 7, "link": "http://stackoverflow.com/questions/23935141/how-to-copy-docker-images-from-one-host-to-another-without-via-repository", "answers": [{"body": "<p>For a flattened export of a container's filesystem, use; </p>\n\n<p><code>docker export CONTAINER_ID &gt; my_container.tar</code></p>\n\n<p>Use <code>cat my_container.tar | docker import -</code> to import said image.</p>\n", "title": "How to copy docker images from one host to another without via repository?", "answer_id": 23935593, "question_id": 23935141, "tags": ["docker"]}, {"body": "<p>You will need to save the docker image as a tar file:</p>\n\n<pre><code>docker save -o &lt;save image to path&gt; &lt;image name&gt;\n</code></pre>\n\n<p>Then copy your image to a new system with regular file transfer tools such as <code>cp</code> or <code>scp</code>. After that you will have to load the image into docker:</p>\n\n<pre><code>docker load -i &lt;path to image tar file&gt;\n</code></pre>\n\n<p>PS: You may need to <code>sudo</code> all commands.</p>\n", "title": "How to copy docker images from one host to another without via repository?", "answer_id": 23938978, "question_id": 23935141, "tags": ["docker"]}, {"body": "<p>assume u need to save couchdb-cartridge which has a image id 7ebc8510bc2c,</p>\n\n<pre><code>stratos@Dev-PC:~$ docker images\nREPOSITORY                             TAG                 IMAGE ID            CREATED             VIRTUAL SIZE\ncouchdb-cartridge                      latest              7ebc8510bc2c        17 hours ago        1.102 GB\n192.168.57.30:5042/couchdb-cartridge   latest              7ebc8510bc2c        17 hours ago        1.102 GB\nubuntu                                 14.04               53bf7a53e890        3 days ago          221.3 MB\n</code></pre>\n\n<p>Save the archiveName image to a tar file. I will use the /media/sf_docker_vm/ to save the image.</p>\n\n<pre><code>stratos@Dev-PC:~$ docker save imageID &gt; /media/sf_docker_vm/archiveName.tar\n</code></pre>\n\n<p>Copy the archiveName.tar file to your new Docker instance using whatever method works in your environment, for example FTP, SCP, etc.</p>\n\n<p>Run the docker load command on your new Docker instance and specify the location of the image tar file.</p>\n\n<pre><code>stratos@Dev-PC:~$ docker load &lt; /media/sf_docker_vm/archiveName.tar\n</code></pre>\n\n<p>Finally, run the docker images command to check that the image is now available.</p>\n\n<pre><code>        stratos@Dev-PC:~$ docker imagesREPOSITORY                             TAG                 IMAGE ID            CREATED             VIRTUAL SIZE\n    couchdb-cartridge                      latest              7ebc8510bc2c        17 hours ago        1.102 GB\n192.168.57.30:5042/couchdb-cartridge   latest              7ebc8510bc2c        17 hours ago        1.102 GB\nubuntu                                 14.04               4d2eab1c0b9a        3 days ago          221.3 MB\n</code></pre>\n\n<p>Please find this <a href=\"http://sencs.blogspot.com/2014/09/how-to-save-and-load-docker-rimages.html\" rel=\"nofollow\">detailed post</a>.</p>\n", "title": "How to copy docker images from one host to another without via repository?", "answer_id": 26093032, "question_id": 23935141, "tags": ["docker"]}, {"body": "<p>Transferring a Docker image via SSH, bzipping the content on the fly:</p>\n\n<pre><code>docker save &lt;image&gt; | bzip2 | \\\n     ssh user@host 'bunzip2 | docker load'\n</code></pre>\n\n<p>It's also a good idea to put <code>pv</code> in the middle of the pipe to see how the transfer is going:</p>\n\n<pre><code>docker save &lt;image&gt; | bzip2 | pv | \\\n     ssh user@host 'bunzip2 | docker load'\n</code></pre>\n", "title": "How to copy docker images from one host to another without via repository?", "answer_id": 26226261, "question_id": 23935141, "tags": ["docker"]}, {"body": "<p>To save image to any file path or shared nfs see following example.</p>\n\n<p>Get image id by doing:</p>\n\n<pre><code>sudo docker images\n</code></pre>\n\n<p>Say you have image with id \"matrix-data\"</p>\n\n<p>Save image with id:</p>\n\n<pre><code>sudo docker save -o /home/matrix/matrix-data.tar matrix-data\n</code></pre>\n\n<p>Copy image from path to any host\nNow import to your local docker using :</p>\n\n<pre><code>sudo docker load -i &lt;path to copied image file&gt;\n</code></pre>\n\n<p>Hope this make make more clear.</p>\n\n<p>Thanks</p>\n", "title": "How to copy docker images from one host to another without via repository?", "answer_id": 26728606, "question_id": 23935141, "tags": ["docker"]}, {"body": "<p>All other answers are very helpful. I just went through the same problem and figure out a easy way with <code>docker machine scp</code>. </p>\n\n<p>Since docker machine v0.3.0, scp was introduced to copy files from one docker machine to another. This is very convenient if you want copying file from your local computer to a remote docker machine such as AWS EC2 or Digital Ocean because of docker machine is taking care of ssh credentials for you.</p>\n\n<ol>\n<li><p>Save you images using <code>docker save</code> like:</p>\n\n<p>docker save -o docker-images.tar app-web</p></li>\n<li><p>Copy images using <a href=\"https://docs.docker.com/machine/reference/scp/\" rel=\"nofollow\">docker-machine scp</a></p>\n\n<p>docker-machine scp ./docker-images.tar remote-machine:/home/ubuntu</p></li>\n</ol>\n\n<p>Assume your remote docker machine is <code>remote-machine</code> and the directory you want the tar file to be is <code>/home/ubuntu</code></p>\n\n<ol start=\"3\">\n<li><p>Load docker image </p>\n\n<p>docker-machine ssh remote-machine sudo docker load -i docker-images.tar</p></li>\n</ol>\n", "title": "How to copy docker images from one host to another without via repository?", "answer_id": 35283345, "question_id": 23935141, "tags": ["docker"]}, {"body": "<p>This is how you can move docker images between two remote registers/repositories\nWorks with <code>Docker version 1.10.2, build c3959b1</code></p>\n\n<pre><code>docker pull source-registry.com/myProject/myImageName:1.0.0\ndocker tag source-registry.com/myProject/myImageName:1.0.0 target-remote-registry.com/myProject/myImageName:1.0.0\ndocker push target-remote-registry.com/myProject/myImageName:1.0.0\n</code></pre>\n\n<p>It's a handy method if you want to migrate your images to AWS ECS/ECR service. </p>\n", "title": "How to copy docker images from one host to another without via repository?", "answer_id": 36364408, "question_id": 23935141, "tags": ["docker"]}], "question_id": 23935141}, {"body": "<p>The <code>std::sort</code> algorithm (and its cousins <code>std::partial_sort</code> and <code>std::nth_element</code>) from the C++ Standard Library is in most implementations <a href=\"http://stackoverflow.com/q/22339240/819272\">a complicated and hybrid amalgamation of more elementary sorting algorithms</a>, such as selection sort, insertion sort, quick sort, merge sort, or heap sort.</p>\n\n<p>There are many questions here and on sister sites such as <a href=\"http://codereview.stackexchange.com/\">http://codereview.stackexchange.com/</a> related to bugs, complexity and other aspects of implementations of these classic sorting algorithms. Most of the offered implementations consist of raw loops, use index manipulation and concrete types, and are generally non-trivial to analyse in terms of correctness and efficiency.</p>\n\n<p><strong>Question</strong>: how can the above mentioned classic sorting algorithms be implemented using modern C++?</p>\n\n<ul>\n<li><strong>no raw loops</strong>, but combining the Standard Library's algorithmic building blocks from <code>&lt;algorithm&gt;</code></li>\n<li><strong>iterator interface</strong> and use of <strong>templates</strong> instead of index manipulation and concrete types</li>\n<li><strong>C++14 style</strong>, including the full Standard Library, as well as syntactic noise reducers such as <code>auto</code>, template aliases, transparent comparators and polymorphic lambdas.</li>\n</ul>\n\n<p><strong>Notes</strong>: </p>\n\n<ul>\n<li>for further references on implementations of sorting algorithms see <a href=\"http://en.wikipedia.org/wiki/Sorting_algorithm\">Wikipedia</a>, <a href=\"http://rosettacode.org/wiki/Sorting_algorithms\">Rosetta Code</a> or <a href=\"http://www.sorting-algorithms.com/\">http://www.sorting-algorithms.com/</a> </li>\n<li>according to <a href=\"https://github.com/sean-parent/sean-parent.github.com/wiki/presentations/2013-09-11-cpp-seasoning/cpp-seasoning.pdf\"><strong>Sean Parent's conventions</strong></a> (slide 39), a raw loop is a <code>for</code>-loop longer than composition of two functions with an operator. So <code>f(g(x));</code> or <code>f(x); g(x);</code> or <code>f(x) + g(x);</code> are not raw loops, and neither are the loops in <code>selection_sort</code> and <code>insertion_sort</code> below.</li>\n<li>I follow Scott Meyers's terminology to denote the current C++1y already as C++14, and to denote C++98 and C++03 both as C++98, so don't flame me for that.</li>\n<li>As suggested in the comments by @Mehrdad, I provide four implementations as a Live Example at the end of the answer: C++14, C++11, C++98 and Boost and C++98. </li>\n<li>The answer itself is presented in terms of C++14 only. Where relevant, I denote the syntactic and library differences where the various language versions differ.</li>\n</ul>\n", "title": "How to implement classic sorting algorithms in modern C++?", "tags": ["c++", "algorithm", "sorting", "c++14", "c++-faq"], "answer_count": 2, "link": "http://stackoverflow.com/questions/24650626/how-to-implement-classic-sorting-algorithms-in-modern-c", "answers": [{"body": "<h2>Algorithmic building blocks</h2>\n\n<p>We begin by assembling the algorithmic building blocks from the Standard Library:</p>\n\n<pre><code>#include &lt;algorithm&gt;    // min_element, iter_swap, \n                        // upper_bound, rotate, \n                        // partition, \n                        // inplace_merge,\n                        // make_heap, sort_heap, push_heap, pop_heap,\n                        // is_heap, is_sorted\n#include &lt;cassert&gt;      // assert \n#include &lt;functional&gt;   // less\n#include &lt;iterator&gt;     // distance, begin, end, next\n</code></pre>\n\n<ul>\n<li>the iterator tools such as non-member <code>std::begin()</code> / <code>std::end()</code> as well as with <code>std::next()</code> are only available as of C++11 and beyond. For C++98, one needs to write these himself. There are substitutes from Boost.Range in <code>boost::begin()</code> / <code>boost::end()</code>, and from Boost.Utility in <code>boost::next()</code>. </li>\n<li>the <code>std::is_sorted</code> algorithm is only available for C++11 and beyond. For C++98, this can be implemented in terms of <code>std::adjacent_find</code> and a hand-written function object. Boost.Algorithm also provides a <code>boost::algorithm::is_sorted</code> as a substitute.</li>\n<li>the <code>std::is_heap</code> algorithm is only available for C++11 and beyond.</li>\n</ul>\n\n<h2>Syntactical goodies</h2>\n\n<p>C++14 provides <a href=\"http://stackoverflow.com/questions/20317413/what-are-transparent-comparators\"><strong>transparent comparators</strong></a> of the form <code>std::less&lt;&gt;</code> that act polymorphically on their arguments. This avoids having to provide an iterator's type. This can be used in combination with C++11's <a href=\"http://stackoverflow.com/q/2447458/819272\"><strong>default function template arguments</strong></a> to create <strong>a single overload</strong> for sorting algorithms that take <code>&lt;</code> as comparison and those that have a user-defined comparison function object.</p>\n\n<pre><code>template&lt;class It, class Compare = std::less&lt;&gt;&gt;\nvoid xxx_sort(It first, It last, Compare cmp = Compare{});\n</code></pre>\n\n<p>In C++11, one can define a reusable <a href=\"http://stackoverflow.com/q/2795023/819272\"><strong>template alias</strong></a> to extract an iterator's value type which adds minor clutter to the sort algorithms' signatures:</p>\n\n<pre><code>template&lt;class It&gt;\nusing value_type_t = typename std::iterator_traits&lt;It&gt;::value_type;\n\ntemplate&lt;class It, class Compare = std::less&lt;value_type_t&lt;It&gt;&gt;&gt;\nvoid xxx_sort(It first, It last, Compare cmp = Compare{});\n</code></pre>\n\n<p>In C++98, one needs to write two overloads and use the verbose <code>typename xxx&lt;yyy&gt;::type</code> syntax</p>\n\n<pre><code>template&lt;class It, class Compare&gt;\nvoid xxx_sort(It first, It last, Compare cmp); // general implementation\n\ntemplate&lt;class It&gt;\nvoid xxx_sort(It first, It last)\n{\n    xxx_sort(first, last, std::less&lt;typename std::iterator_traits&lt;It&gt;::value_type&gt;());\n}\n</code></pre>\n\n<ul>\n<li>Another syntactical nicety is that C++14 facilitates wrapping user-defined comparators through <strong>polymorphic lambdas</strong> (with <code>auto</code> parameters that are deduced like function template arguments).     </li>\n<li>C++11 only has monomorphic lambdas, that require the use of the above template alias <code>value_type_t</code>. </li>\n<li>In C++98, one either needs to write a standalone function object or resort to the verbose <code>std::bind1st</code> / <code>std::bind2nd</code> / <code>std::not1</code> type of syntax. </li>\n<li>Boost.Bind improves this with <code>boost::bind</code> and <code>_1</code> / <code>_2</code> placeholder syntax.</li>\n<li>C++11 and beyond also have <code>std::find_if_not</code>, whereas C++98 needs <code>std::find_if</code> with a <code>std::not1</code> around a function object.</li>\n</ul>\n\n<h2>C++ Style</h2>\n\n<p>There is no generally acceptable C++14 style yet. For better of for worse, I closely follow Scott Meyers's <a href=\"http://my.safaribooksonline.com/book/programming/cplusplus/9781491908419\"><strong>draft Effective Modern C++</strong></a> and Herb Sutter's <a href=\"http://herbsutter.com/gotw/\"><strong>revamped GotW</strong></a>. I use the following style recommendations:</p>\n\n<ul>\n<li>Herb Sutter's <a href=\"http://herbsutter.com/2013/08/12/gotw-94-solution-aaa-style-almost-always-auto/\"><strong>\"Almost Always Auto\"</strong></a> and Scott Meyers's <a href=\"http://my.safaribooksonline.com/book/programming/cplusplus/9781491908419/chapter-2-auto/item_5__prefer_auto_to_explici\"><strong>\"Prefer auto to specific type declarations\"</strong></a> recommendation, for which the brevity is unsurpassed, although its clarity is sometimes <a href=\"http://www.reddit.com/r/cpp/comments/2a4tv0/dont_use_auto_unless_you_mean_it_a_unified/\"><strong>disputed</strong></a>.</li>\n<li>Scott Meyers's <a href=\"http://my.safaribooksonline.com/book/programming/cplusplus/9781491908419/chapter-3-from-cplusplus98-to-cplusplus11-and-cplusplus14/item_7_distinguish__and__when\"><strong>\"Distinguish <code>()</code> and <code>{}</code> when creating objects\"</strong></a> and consistently choose braced-initialization <code>{}</code> instead of the good old parenthesized initialization <code>()</code> (in order to side-step all most-vexing-parse issues in generic code).</li>\n<li>Scott Meyers's <a href=\"http://my.safaribooksonline.com/book/programming/cplusplus/9781491908419/chapter-3-from-cplusplus98-to-cplusplus11-and-cplusplus14/item_9_prefer_alias_declaratio\"><strong>\"Prefer alias declarations to typedefs\"</strong></a>. For templates this is a must anyway, and using it everywhere instead of <code>typedef</code> saves time and adds consistency.</li>\n<li>I use a <code>for (auto it = first; it != last; ++it)</code> pattern in some places, in order to allow for loop invariant checking for already sorted sub-ranges. In production code, the use of <code>while (first != last)</code> and a <code>++first</code> somewhere inside the loop might be slightly better.</li>\n</ul>\n\n<h2>Selection sort</h2>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Selection_sort\"><strong>Selection sort</strong></a> does not adapt to the data in any way, so its runtime is always <code>O(N^2)</code>. However, selection sort has the property of <strong>minimizing the number of swaps</strong>. In applications where the cost of swapping items is high, selection sort very well may be the algorithm of choice.</p>\n\n<p>To implement it using the Standard Library, repeatedly use <code>std::min_element</code> to find the remaining minimum element, and <code>iter_swap</code> to swap it into place:</p>\n\n<pre><code>template&lt;class FwdIt, class Compare = std::less&lt;&gt;&gt;\nvoid selection_sort(FwdIt first, FwdIt last, Compare cmp = Compare{})\n{\n    for (auto it = first; it != last; ++it) {\n        auto const selection = std::min_element(it, last, cmp);\n        std::iter_swap(selection, it); \n        assert(std::is_sorted(first, std::next(it), cmp));\n    }\n}\n</code></pre>\n\n<p>Note that <code>selection_sort</code> has the already processed range <code>[first, it)</code> sorted as its loop invariant. The minimal requirements are <strong>forward iterators</strong>, compared to <code>std::sort</code>'s random access iterators.</p>\n\n<p><strong>Details omitted</strong>:</p>\n\n<ul>\n<li>selection sort can be optimized with an early test <code>if (std::distance(first, last) &lt;= 1) return;</code> (or for forward / bidirectional iterators: <code>if (first == last || std::next(first) == last) return;</code>).</li>\n<li>for <strong>bidirectional iterators</strong>, the above test can be combined with a loop over the interval <code>[first, std::prev(last))</code>, because the last element is guaranteed to be the minimal remaining element and doesn't require a swap.</li>\n</ul>\n\n<h2>Insertion sort</h2>\n\n<p>Although it is one of the elementary sorting algorithms with <code>O(N^2)</code> worst-case time, <a href=\"http://en.wikipedia.org/wiki/Insertion_sort\"><strong>insertion sort</strong></a> is the algorithm of choice either when the data is nearly sorted (because it is <strong>adaptive</strong>) or when the problem size is small (because it has low overhead). For these reasons, and because it is also <strong>stable</strong>, insertion sort is often used as the recursive base case (when the problem size is small) for higher overhead divide-and-conquer sorting algorithms, such as merge sort or quick sort.</p>\n\n<p>To implement <code>insertion_sort</code> with the Standard Library, repeatedly use <code>std::upper_bound</code> to find the location where the current element needs to go, and use <code>std::rotate</code> to shift the remaining elements upward in the input range:</p>\n\n<pre><code>template&lt;class FwdIt, class Compare = std::less&lt;&gt;&gt;\nvoid insertion_sort(FwdIt first, FwdIt last, Compare cmp = Compare{})\n{\n    for (auto it = first; it != last; ++it) {\n        auto const insertion = std::upper_bound(first, it, *it, cmp);\n        std::rotate(insertion, it, std::next(it)); \n        assert(std::is_sorted(first, std::next(it), cmp));\n    }\n}\n</code></pre>\n\n<p>Note that <code>insertion_sort</code> has the already processed range <code>[first, it)</code> sorted as its loop invariant. Insertion sort also works with forward iterators.</p>\n\n<p><strong>Details omitted</strong>:</p>\n\n<ul>\n<li>insertion sort can be optimized with an early test <code>if (std::distance(first, last) &lt;= 1) return;</code> (or for forward / bidirectional iterators: <code>if (first == last || std::next(first) == last) return;</code>) and a loop over the interval <code>[std::next(first), last)</code>, because the first element is guaranteed to be in place and doesn't require a rotate.</li>\n<li>for <strong>bidirectional iterators</strong>, the binary search to find the insertion point can be replaced with a <strong>reverse linear search</strong> using the Standard Library's <code>std::find_if_not</code> algorithm. </li>\n</ul>\n\n<p>Four <strong>Live Examples</strong> (<a href=\"http://coliru.stacked-crooked.com/a/024be20937f2f04d\"><strong>C++14</strong></a>, <a href=\"http://coliru.stacked-crooked.com/a/8f5d919f7615fe6b\"><strong>C++11</strong></a>, <a href=\"http://coliru.stacked-crooked.com/a/bcc5a2c688c6d154\"><strong>C++98 and Boost</strong></a>, <a href=\"http://coliru.stacked-crooked.com/a/2f9ad1b555fd7812\"><strong>C++98</strong></a>) for the fragment below:</p>\n\n<pre><code>using RevIt = std::reverse_iterator&lt;BiDirIt&gt;;\nauto const insertion = std::find_if_not(RevIt(it), RevIt(first), \n    [=](auto const&amp; elem){ return cmp(*it, elem); }\n).base();\n</code></pre>\n\n<ul>\n<li>For random inputs this gives <code>O(N^2)</code> comparisons, but this improves to <code>O(N)</code> comparisons for almost sorted inputs. The binary search always uses <code>O(N log N)</code> comparisons. </li>\n<li>For small input ranges, the better memory locality (cache, prefetching) of a linear search might also dominate a binary search (one should test this, of course).</li>\n</ul>\n\n<h2>Quick sort</h2>\n\n<p>When carefully implemented, <a href=\"http://en.wikipedia.org/wiki/Quicksort\"><strong>quick sort</strong></a> is robust and has <code>O(N log N)</code> expected complexity, but with <code>O(N^2)</code> worst-case complexity that can be triggered with adversarially chosen input data. When a stable sort is not needed, quick sort is an excellent general-purpose sort. </p>\n\n<p>Even for the simplest versions, quick sort is quite a bit more complicated to implement using the Standard Library than the other classic sorting algorithms. The approach below uses a few iterator utilities to locate the <strong>middle element</strong> of the input range <code>[first, last)</code> as the pivot, then use two calls to <code>std::partition</code> (which are <code>O(N)</code>) to three-way partition the input range into segments of elements that are smaller than, equal to, and larger than the selected pivot, respectively. Finally the two outer segments with elements smaller than and larger than the pivot are recursively sorted:</p>\n\n<pre><code>template&lt;class FwdIt, class Compare = std::less&lt;&gt;&gt;\nvoid quick_sort(FwdIt first, FwdIt last, Compare cmp = Compare{})\n{\n    auto const N = std::distance(first, last);\n    if (N &lt;= 1) return;\n    auto const pivot = *std::next(first, N / 2);\n    auto const middle1 = std::partition(first, last, [=](auto const&amp; elem){ \n        return cmp(elem, pivot); \n    });\n    auto const middle2 = std::partition(middle1, last, [=](auto const&amp; elem){ \n        return !cmp(pivot, elem);\n    });\n    quick_sort(first, middle1, cmp); // assert(std::is_sorted(first, middle1, cmp));\n    quick_sort(middle2, last, cmp);  // assert(std::is_sorted(middle2, last, cmp));\n}\n</code></pre>\n\n<p>However, quick sort is rather tricky to get correct and efficient, as each of the above steps has to be carefully checked and optimized for production level code. In particular, for <code>O(N log N)</code> complexity, the pivot has to result into a balanced partition of the input data, which cannot be guaranteed in general for an <code>O(1)</code> pivot, but which can be guaranteed if one sets the pivot as the <code>O(N)</code> median of the input range.</p>\n\n<p><strong>Details omitted</strong>:</p>\n\n<ul>\n<li>the above implementation is particularly vulnerable to special inputs, e.g. it has <code>O(N^2)</code> complexity for the \"<strong>organ pipe</strong>\" input <code>1, 2, 3, ..., N/2, ... 3, 2, 1</code> (because the middle is always larger than all other elements).</li>\n<li><a href=\"http://stackoverflow.com/q/12937732/819272\"><strong>median-of-3</strong></a> pivot selection from <a href=\"http://stackoverflow.com/q/6942273/819272\"><strong>randomly chosen elements</strong></a> from the input range guards against almost sorted inputs for which the complexity would otherwise deteriorate to <code>O(N^2)</code>.</li>\n<li><a href=\"http://www.stepanovpapers.com/notes.pdf\"><strong>3-way partitioning</strong></a> (separating elements smaller than, equal to and larger than the pivot) as shown by the two calls to <code>std::partition</code> is not the most efficient <code>O(N)</code> algorithm to achieve this result. </li>\n<li>for <strong>random access iterators</strong>, a guaranteed <code>O(N log N)</code> complexity can be achieved through <strong>median pivot selection</strong> using <code>std::nth_element(first, middle, last)</code>, followed by recursive calls to <code>quick_sort(first, middle, cmp)</code> and <code>quick_sort(middle, last, cmp)</code>. </li>\n<li>this guarantee comes at a cost, however, because the constant factor of the <code>O(N)</code> complexity of <code>std::nth_element</code> can be more expensive than that of the <code>O(1)</code> complexity of a median-of-3 pivot followed by an <code>O(N)</code> call to <code>std::partition</code> (which is a cache-friendly single forward pass over the data).</li>\n</ul>\n\n<h2>Merge sort</h2>\n\n<p>If using <code>O(N)</code> extra space is of no concern, then <a href=\"http://en.wikipedia.org/wiki/Merge_sort\"><strong>merge sort</strong></a> is an excellent choice: it is the only <strong>stable</strong> <code>O(N log N)</code> sorting algorithm. </p>\n\n<p>It is simple to implement using Standard algorithms: use a few iterator utilities to locate the middle of the input range <code>[first, last)</code> and combine two recursively sorted segments with a <code>std::inplace_merge</code>:</p>\n\n<pre><code>template&lt;class BiDirIt, class Compare = std::less&lt;&gt;&gt;\nvoid merge_sort(BiDirIt first, BiDirIt last, Compare cmp = Compare{})\n{\n    auto const N = std::distance(first, last);\n    if (N &lt;= 1) return;                   \n    auto const middle = std::next(first, N / 2);\n    merge_sort(first, middle, cmp); // assert(std::is_sorted(first, middle, cmp));\n    merge_sort(middle, last, cmp);  // assert(std::is_sorted(middle, last, cmp));\n    std::inplace_merge(first, middle, last, cmp); // assert(std::is_sorted(first, last, cmp));\n}\n</code></pre>\n\n<p>Merge sort requires bidirectional iterators, the bottleneck being the <code>std::inplace_merge</code>. Note that when sorting linked lists, merge sort requires only <code>O(log N)</code> extra space (for recursion). The latter algorithm is implemented by <code>std::list&lt;T&gt;::sort</code> in the Standard Library. </p>\n\n<h2>Heap sort</h2>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Heapsort\"><strong>Heap sort</strong></a> is simple to implement, performs an <code>O(N log N)</code> in-place sort, but is not stable.</p>\n\n<p>The first loop, <code>O(N)</code> \"heapify\" phase, puts the array into heap order. The second loop, the <code>O(N log N</code>) \"sortdown\" phase, repeatedly extracts the maximum and restores heap order. The Standard Library makes this extremely straightforward:</p>\n\n<pre><code>template&lt;class RandomIt, class Compare = std::less&lt;&gt;&gt;\nvoid heap_sort(RandomIt first, RandomIt last, Compare cmp = Compare{})\n{\n    lib::make_heap(first, last, cmp); // assert(std::is_heap(first, last, cmp));\n    lib::sort_heap(first, last, cmp); // assert(std::is_sorted(first, last, cmp));\n}\n</code></pre>\n\n<p>In case you consider it \"cheating\" to use <code>std::make_heap</code> and <code>std::sort_heap</code>, you can go one level deeper and write those functions yourself in terms of <code>std::push_heap</code> and <code>std::pop_heap</code>, respectively:</p>\n\n<pre><code>namespace lib {\n\n// NOTE: is O(N log N), not O(N) as std::make_heap\ntemplate&lt;class RandomIt, class Compare = std::less&lt;&gt;&gt;\nvoid make_heap(RandomIt first, RandomIt last, Compare cmp = Compare{})\n{\n    for (auto it = first; it != last;) {\n        std::push_heap(first, ++it, cmp); \n        assert(std::is_heap(first, it, cmp));           \n    }\n}\n\ntemplate&lt;class RandomIt, class Compare = std::less&lt;&gt;&gt;\nvoid sort_heap(RandomIt first, RandomIt last, Compare cmp = Compare{})\n{\n    for (auto it = last; it != first;) {\n        std::pop_heap(first, it--, cmp);\n        assert(std::is_heap(first, it, cmp));           \n    } \n}\n\n}   // namespace lib\n</code></pre>\n\n<p>The Standard Library specifies both <code>push_heap</code> and <code>pop_heap</code> as complexity <code>O(log N)</code>. Note however that the outer loop over the range <code>[first, last)</code> results in <code>O(N log N)</code> complexity for <code>make_heap</code>, whereas <code>std::make_heap</code> has only <code>O(N)</code> complexity. For the overall <code>O(N log N)</code> complexity of <code>heap_sort</code> it doesn't matter.</p>\n\n<p><strong>Details omitted</strong>: <a href=\"http://stackoverflow.com/q/6299859/819272\"><strong><code>O(N)</code> implementation of <code>make_heap</code></strong></a></p>\n\n<h2>Testing</h2>\n\n<p>Here are four <strong>Live Examples</strong> (<a href=\"http://coliru.stacked-crooked.com/a/63da145bb26167ee\"><strong>C++14</strong></a>, <a href=\"http://coliru.stacked-crooked.com/a/b4ef108f22311787\"><strong>C++11</strong></a>, <a href=\"http://coliru.stacked-crooked.com/a/f0b463c30ecf129a\"><strong>C++98 and Boost</strong></a>, <a href=\"http://coliru.stacked-crooked.com/a/27d8d177ebef35f0\"><strong>C++98</strong></a>) testing all five algorithms on a variety of inputs (not meant to be exhaustive or rigorous). Just note the huge differences in the LOC: C++11/C++14 need around 130 LOC, C++98 and Boost 190 (+50%) and C++98 more than 270 (+100%).</p>\n", "title": "How to implement classic sorting algorithms in modern C++?", "answer_id": 24650627, "question_id": 24650626, "tags": ["c++", "algorithm", "sorting", "c++14", "c++-faq"]}, {"body": "<p>Another small an rather elegant one <a href=\"http://codereview.stackexchange.com/q/126705/15094\">originally found on code review</a>. I thought it was worth sharing.</p>\n\n<h2>Counting sort</h2>\n\n<p>While it is rather specialized, <a href=\"https://en.wikipedia.org/wiki/Counting_sort\">counting sort</a> is a rather simple integer sorting algorithm and can often be really fast provided the values of the integers to sort are not too far appart. It's probably ideal if one ever needs to sort a collection of one million integers known to be between 0 and 100 for example.</p>\n\n<p>To implement a very simple counting sort that works with both signed and unsigned integers, one needs to find the smallest and greatest elements in the collection to sort; their difference will tell the size of the array of counts to allocate. Then, a second pass through the collection is done to count the number of occurrences of every element. Finally, we write back the required number of every integer back to the original collection.</p>\n\n<pre><code>template&lt;typename ForwardIterator&gt;\nvoid counting_sort(ForwardIterator first, ForwardIterator last)\n{\n    if (first == last || std::next(first) == last) return;\n\n    auto minmax = std::minmax_element(first, last);\n    auto min = *minmax.first;\n    auto max = *minmax.second;\n    if (min == max) return;\n\n    using difference_type = typename std::iterator_traits&lt;ForwardIterator&gt;::difference_type;\n    std::vector&lt;difference_type&gt; counts(max - min + 1, 0);\n\n    for (auto it = first ; it != last ; ++it) {\n        ++counts[*it - min];\n    }\n\n    for (auto count: counts) {\n        first = std::fill_n(first, count, min++);\n    }\n}\n</code></pre>\n\n<p>While it is only useful when the range of the integers to sort is known to be small (generally not larger than the size of the collection to sort), making counting sort more generic would make it slower for its best cases. If the range is not known to be small, another algorithm such a <a href=\"https://en.wikipedia.org/wiki/Radix_sort\">radix sort</a> or <a href=\"https://en.wikipedia.org/wiki/Spreadsort\">spreadsort</a> can be used instead.</p>\n\n<p><strong>Details omitted</strong>:</p>\n\n<ul>\n<li><p>We could have passed the bounds of the range of values accepted by the algorithm as parameters to totally get rid of the first <code>std::minmax_element</code> pass through the collection. This might make the algorithm even faster when the bounds are already known by other means.</p></li>\n<li><p>In the algorithm above, we use a <code>min == max</code> check to return early when every element has the same value (in which the collection is sorted). It is actually possible to instead fully check whether the collection is already sorted while finding the extreme values of a collection with no additional time wasted, making the algorithm return early and allocate no memory when the collection is already sorted. However such an algorithm does not exist in the standard library and writing one would be more tedious than writing the rest of counting sort itself. It is left as an exercise for the reader.</p></li>\n<li><p>Since the algorithm only works with integer values, static assertions could be used to prevent users from making obvious type mistakes. In some contexts, a substitution failure with <code>std::enable_if_t</code> might be preferred. </p></li>\n<li><p>While modern C++ is cool, future C++ could be even cooler: <a href=\"http://codereview.stackexchange.com/q/126705/15094\">structured bindings</a> and some parts of the <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2016/n4569.pdf\">Ranges TS</a> would make the algorithm even cleaner.</p></li>\n</ul>\n", "title": "How to implement classic sorting algorithms in modern C++?", "answer_id": 37105668, "question_id": 24650626, "tags": ["c++", "algorithm", "sorting", "c++14", "c++-faq"]}], "question_id": 24650626}, {"body": "<p>Assuming I have this pseudo-code:</p>\n\n<pre><code>bool conditionA = executeStepA();\nif (conditionA){\n    bool conditionB = executeStepB();\n    if (conditionB){\n        bool conditionC = executeStepC();\n        if (conditionC){\n            ...\n        }\n    }\n}\n\nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p>Functions <code>executeStepX</code> should be executed if and only if the previous succeed.\nIn any case, the <code>executeThisFunctionInAnyCase</code> function should be called at the end.\nI'm a newbie in programming, so sorry for the very basic question: is there a way (in C/C++ for example) to avoid that long <code>if</code> chain producing that sort of \"pyramid of code\", at the expense of the code legibility?</p>\n\n<p>I know that if we could skip the <code>executeThisFunctionInAnyCase</code> function call, the code could be simplified as:</p>\n\n<pre><code>bool conditionA = executeStepA();\nif (!conditionA) return;\nbool conditionB = executeStepB();\nif (!conditionB) return;\nbool conditionC = executeStepC();\nif (!conditionC) return;\n</code></pre>\n\n<p>But the constraint is the <code>executeThisFunctionInAnyCase</code> function call.\nCould the <code>break</code> statement be used in some way?</p>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "answer_count": 51, "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains", "answers": [{"body": "<blockquote>\n  <p>Could break statement be used in some way?</p>\n</blockquote>\n\n<p>Maybe not the best solution but you can put your statements in a <code>do ..  while (0)</code> loop and use <code>break</code> statements instead of  <code>return</code>.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24430542, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>You could put all the <code>if</code> conditions, formatted as you want it in a function of their own, the on return execute the <code>executeThisFunctionInAnyCase()</code> function.</p>\n\n<p>From the base example in the OP, the condition testing and execution can be split off as such;</p>\n\n<pre><code>void InitialSteps()\n{\n  bool conditionA = executeStepA();\n  if (!conditionA)\n    return;\n  bool conditionB = executeStepB();\n  if (!conditionB)\n    return;\n  bool conditionC = executeStepC();\n  if (!conditionC)\n    return;\n}\n</code></pre>\n\n<p>And then called as such;</p>\n\n<pre><code>InitialSteps();\nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p>If C++11 lambdas are available (there was no C++11 tag in the OP, but they may still be an option), then we can forgo the seperate function and wrap this up into a lambda.</p>\n\n<pre><code>// Capture by reference (variable access may be required)\nauto initialSteps = [&amp;]() {\n  // any additional code\n  bool conditionA = executeStepA();\n  if (!conditionA)\n    return;\n  // any additional code\n  bool conditionB = executeStepB();\n  if (!conditionB)\n    return;\n  // any additional code\n  bool conditionC = executeStepC();\n  if (!conditionC)\n    return;\n};\n\ninitialSteps();\nexecuteThisFunctionInAnyCase();\n</code></pre>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24430631, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>You can use an <code>&amp;&amp;</code> (logic AND):</p>\n\n<pre><code>if (executeStepA() &amp;&amp; executeStepB() &amp;&amp; executeStepC()){\n    ...\n}\nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p>this will satisfy both of your requirements:</p>\n\n<ul>\n<li><code>executeStep&lt;X&gt;()</code> should evaluate only if the previous one succeeded (this is called <a href=\"http://en.wikipedia.org/wiki/Short-circuit_evaluation\"><em>short circuit evaluation</em></a>)</li>\n<li><code>executeThisFunctionInAnyCase()</code> will be executed in any case</li>\n</ul>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24430662, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>Old school C programmers use <code>goto</code> in this case. It is the one usage of <code>goto</code> that's actually encouraged by the Linux styleguide, it's called the centralized function exit:</p>\n\n<pre><code>int foo() {\n    int result = /*some error code*/;\n    if(!executeStepA()) goto cleanup;\n    if(!executeStepB()) goto cleanup;\n    if(!executeStepC()) goto cleanup;\n\n    result = 0;\ncleanup:\n    executeThisFunctionInAnyCase();\n    return result;\n}\n</code></pre>\n\n<p>Some people work around using <code>goto</code> by wrapping the body into a loop and breaking from it, but effectively both approaches do the same thing. The <code>goto</code> approach is better if you need some other cleanup only if <code>executeStepA()</code> was successfull:</p>\n\n<pre><code>int foo() {\n    int result = /*some error code*/;\n    if(!executeStepA()) goto cleanupPart;\n    if(!executeStepB()) goto cleanup;\n    if(!executeStepC()) goto cleanup;\n\n    result = 0;\ncleanup:\n    innerCleanup();\ncleanupPart:\n    executeThisFunctionInAnyCase();\n    return result;\n}\n</code></pre>\n\n<p>With the loop approach you would end up with two levels of loops in that case.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24430718, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>There is actually a way to defer actions in C++: making use of an object's destructor.</p>\n\n<p>Assuming that you have access to C++11:</p>\n\n<pre><code>class Defer {\npublic:\n    Defer(std::function&lt;void()&gt; f): f_(std::move(f)) {}\n    ~Defer() { if (f_) { f_(); } }\n\n    void cancel() { f_ = std::function&lt;void()&gt;(); }\n\nprivate:\n    Defer(Defer const&amp;) = delete;\n    Defer&amp; operator=(Defer const&amp;) = delete;\n\n    std::function&lt;void()&gt; f_;\n}; // class Defer\n</code></pre>\n\n<p>And then using that utility:</p>\n\n<pre><code>int foo() {\n    Defer const defer{&amp;executeThisFunctionInAnyCase}; // or a lambda\n\n    // ...\n\n    if (!executeA()) { return 1; }\n\n    // ...\n\n    if (!executeB()) { return 2; }\n\n    // ...\n\n    if (!executeC()) { return 3; }\n\n    // ...\n\n    return 4;\n} // foo\n</code></pre>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24431003, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>You could also do this:</p>\n\n<pre><code>bool isOk = true;\nstd::vector&lt;bool (*)(void)&gt; funcs; //vector of function ptr\n\nfuncs.push_back(&amp;executeStepA);\nfuncs.push_back(&amp;executeStepB);\nfuncs.push_back(&amp;executeStepC);\n//...\n\n//this will stop at the first false return\nfor (auto it = funcs.begin(); it != funcs.end() &amp;&amp; isOk; ++it) \n    isOk = (*it)();\nif (isOk)\n //doSomeStuff\nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p>This way you have a minimal linear growth size, +1 line per call, and it's easily maintenable.</p>\n\n<hr>\n\n<p><strong>EDIT</strong>: (Thanks @Unda) Not a big fan because you loose visibility IMO :</p>\n\n<pre><code>bool isOk = true;\nauto funcs { //using c++11 initializer_list\n    &amp;executeStepA,\n    &amp;executeStepB,\n    &amp;executeStepC\n};\n\nfor (auto it = funcs.begin(); it != funcs.end() &amp;&amp; isOk; ++it) \n    isOk = (*it)();\nif (isOk)\n //doSomeStuff\nexecuteThisFunctionInAnyCase();\n</code></pre>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24431069, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>Because you also have <em>[...block of code...]</em> between executions, I guess you have memory allocation or object initializations. In this way you have to care about cleaning all you already initialized at exit, and also clean it if you will meet problem and any of functions will return false.</p>\n\n<p>In this case, best what I had in my experience (when I worked with CryptoAPI) was creating small classes, in constructor you initialize your data, in destructor you uninitialize it. Each next function class have to be child of previous function class. If something went wrong - throw exception.</p>\n\n<pre><code>class CondA\n{\npublic:\n    CondA() { \n        if (!executeStepA()) \n            throw int(1);\n        [Initialize data]\n    }\n    ~CondA() {        \n        [Clean data]\n    }\n    A* _a;\n};\n\nclass CondB : public CondA\n{\npublic:\n    CondB() { \n        if (!executeStepB()) \n            throw int(2);\n        [Initialize data]\n    }\n    ~CondB() {        \n        [Clean data]\n    }\n    B* _b;\n};\n\nclass CondC : public CondB\n{\npublic:\n    CondC() { \n        if (!executeStepC()) \n            throw int(3);\n        [Initialize data]\n    }\n    ~CondC() {        \n        [Clean data]\n    }\n    C* _c;\n};\n</code></pre>\n\n<p>And then in your code you just need to call:</p>\n\n<pre><code>shared_ptr&lt;CondC&gt; C(nullptr);\ntry{\n    C = make_shared&lt;CondC&gt;();\n}\ncatch(int&amp; e)\n{\n    //do something\n}\nif (C != nullptr)\n{\n   C-&gt;a;//work with\n   C-&gt;b;//work with\n   C-&gt;c;//work with\n}\nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p>I guess it is best solution if every call of ConditionX initialize something, allocs memory and etc. Best to be sure everything will be cleaned.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24431475, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>Regarding your <em>current</em> code example, essentially a question #2,</p>\n\n<pre><code>[...block of code...]\nbool conditionA = executeStepA();    \nif (conditionA){\n    [...block of code...]\n    bool conditionB = executeStepB();\n    if (conditionB){\n        [...block of code...]\n        bool conditionC = executeStepC();\n        if (conditionC){\n            ...other checks again...\n        }\n    }\n}\n\nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p>Except for storing the function results in variables this is typical C code.</p>\n\n<p>If the boolean function results signal failure then a <strong>C++ way</strong> would be to use exceptions, and code this up as</p>\n\n<pre><code>struct Finals{ ~Finals() { executeThisFunctionInAnyCase(); } };\n\nFinals finals;\n// [...block of code...]\nexecuteStepA();\n// [...block of code...]\nexecuteStepB();\n// [...block of code...]\nexecuteStepC();\n//...other checks again...\n</code></pre>\n\n<p>However, the details can vary greatly depending on the real problem.</p>\n\n<p><sup>When I need such general <em>final actions</em>, instead of defining a custom <code>struct</code> on the spot, I often use a general <strong>scope guard</strong> class. Scope guards were <a href=\"http://www.drdobbs.com/cpp/generic-change-the-way-you-write-excepti/184403758\" rel=\"nofollow\">invented by Petru Marginean</a> for C++98, then using the temporary lifetime extension trick. In C++11 a general scope guard class can be trivially implemented based on client code supplying a lambda expression.</sup></p>\n\n<p>At the end of the question you suggest a good <strong>C way</strong> to do this, namely by using a <code>break</code> statement:</p>\n\n<pre><code>for( ;; ) // As a block one can 'break' out of.\n{\n    // [...block of code...]\n    if( !executeStepA() ) { break; }\n    // [...block of code...]\n    if( !executeStepB() ) { break; }\n    // [...block of code...]\n    if( !executeStepC() ) { break; }\n    //...other checks again...\n    break;\n}\nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p>Alternatively, for C, refactor the code in the block as a separate function and use <code>return</code> instead of <code>break</code>. That&rsquo;s both more clear and more general, in that it supports nested loops or switches. However, you asked about <code>break</code>.</p>\n\n<p>Compared with the C++ exception based approach this relies on the programmer remembering to check each function result, and do the proper thing, both of which are automated in C++.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24431778, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>Just use an additional function to get your second version to work:</p>\n\n<pre><code>void foo()\n{\n  bool conditionA = executeStepA();\n  if (!conditionA) return;\n\n  bool conditionB = executeStepB();\n  if (!conditionB) return;\n\n  bool conditionC = executeStepC();\n  if (!conditionC) return;\n}\n\nvoid bar()\n{\n  foo();\n  executeThisFunctionInAnyCase();\n}\n</code></pre>\n\n<p>Using either deeply nested ifs (your first variant) or the desire to break out of \"part of a function\" usually means you do need an extra function.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24431792, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>It's seems like you want to do all your call from a single block. \nAs other have proposed it, you should used either a <code>while</code> loop and leave using <code>break</code> or a new function that you can leave with <code>return</code> (may be cleaner).</p>\n\n<p>I personally banish <code>goto</code>, even for function exit. They are harder to spot when debugging. </p>\n\n<p>An elegant alternative that should work for your workflow is to build a function array and iterate on this one.</p>\n\n<pre><code>const int STEP_ARRAY_COUNT = 3;\nbool (*stepsArray[])() = {\n   executeStepA, executeStepB, executeStepC\n};\n\nfor (int i=0; i&lt;STEP_ARRAY_COUNT; ++i) {\n    if (!stepsArray[i]()) {\n        break;\n    }\n}\n\nexecuteThisFunctionInAnyCase();\n</code></pre>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24435091, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>Have your execute functions throw an exception if they fail instead of returning false. Then your calling code could look like this:</p>\n\n<pre><code>try {\n    executeStepA();\n    executeStepB();\n    executeStepC();\n}\ncatch (...)\n</code></pre>\n\n<p>Of course I'm assuming that in your original example the execution step would only return false in the case of an error occuring inside the step?</p>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24435263, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>There's a nice technique which doesn't need an additional wrapper function with the return statements (the method prescribed by Itjax). It makes use of a do <code>while(0)</code> pseudo-loop. The <code>while (0)</code> ensures that it is actually not a loop but executed only once. However, the loop syntax allows the use of the break statement. </p>\n\n<pre><code>void foo()\n{\n  // ...\n  do {\n      if (!executeStepA())\n          break;\n      if (!executeStepB())\n          break;\n      if (!executeStepC())\n          break;\n  }\n  while (0);\n  // ...\n}\n</code></pre>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24435904, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>What about just moving the conditional stuff to the else as in:</p>\n\n<pre><code>if (!(conditionA = executeStepA()){}\nelse if (!(conditionB = executeStepB()){}\nelse if (!(conditionC = executeStepC()){}\nelse if (!(conditionD = executeStepD()){}\n</code></pre>\n\n<p>This does solve the indentation problem.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24436043, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>Assuming the desired code is as I currently see it:</p>\n\n<pre><code>bool conditionA = executeStepA();\nif (conditionA){\n    bool conditionB = executeStepB();\n    if (conditionB){\n        bool conditionC = executeStepC();\n        if (conditionC){\n            ...\n        }\n    }\n}    \nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p>I would say that the correct approach, in that it's the simplest to read and easiest to maintain, would have fewer levels of indentation, which is (currently) the stated purpose of the question.</p>\n\n<pre><code>// Pre-declare the variables for the conditions\nbool conditionA = false;\nbool conditionB = false;\nbool conditionC = false;\n\n// Execute each step only if the pre-conditions are met\nconditionA = executeStepA();\nif (conditionA)\n    conditionB = executeStepB();\nif (conditionB)\n    conditionC = executeStepC();\nif (conditionC) {\n    ...\n}\n\n// Unconditionally execute the 'cleanup' part.\nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p>This avoids <em>any</em> need for <code>goto</code>s, exceptions, dummy <code>while</code> loops, or other difficult constructs and simply gets on with the simple job at hand.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24437036, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>In C++ (the question is tagged both C and C++), if you can't change the functions to use exceptions, you still can use the exception mechanism if you write a little helper function like</p>\n\n<pre><code>struct function_failed {};\nvoid attempt(bool retval)\n{\n  if (!retval)\n    throw function_failed(); // or a more specific exception class\n}\n</code></pre>\n\n<p>Then your code could read as follows:</p>\n\n<pre><code>try\n{\n  attempt(executeStepA());\n  attempt(executeStepB());\n  attempt(executeStepC());\n}\ncatch (function_failed)\n{\n  // -- this block intentionally left empty --\n}\n\nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p>If you're into fancy syntax, you could instead make it work via explicit cast:</p>\n\n<pre><code>struct function_failed {};\nstruct attempt\n{\n  attempt(bool retval)\n  {\n    if (!retval)\n      throw function_failed();\n  }\n};\n</code></pre>\n\n<p>Then you can write your code as</p>\n\n<pre><code>try\n{\n  (attempt) executeStepA();\n  (attempt) executeStepB();\n  (attempt) executeStepC();\n}\ncatch (function_failed)\n{\n  // -- this block intentionally left empty --\n}\n\nexecuteThisFunctionInAnyCase();\n</code></pre>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24439044, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>Just do</p>\n\n<pre><code>if( executeStepA() &amp;&amp; executeStepB() &amp;&amp; executeStepC() )\n{\n    // ...\n}\nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p>It's that simple.</p>\n\n<hr>\n\n<p>Due to three edits that each has <em>fundamentally</em> changed the question (four if one counts the revision back to version #1), I include the code example I'm answering to:</p>\n\n<pre><code>bool conditionA = executeStepA();\nif (conditionA){\n    bool conditionB = executeStepB();\n    if (conditionB){\n        bool conditionC = executeStepC();\n        if (conditionC){\n            ...\n        }\n    }\n}\n\nexecuteThisFunctionInAnyCase();\n</code></pre>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24439517, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>The chains of IF/ELSE in your code is not the language issue, but the design of your program. If you're able to re-factor  or re-write your program I'd like to suggest that you look in Design Patterns (<a href=\"http://sourcemaking.com/design_patterns\">http://sourcemaking.com/design_patterns</a>) to find a better solution.</p>\n\n<p>Usually, when you see a lot of IF's &amp; else's in your code , it is an opportunity to implement the Strategy Design Pattern (<a href=\"http://sourcemaking.com/design_patterns/strategy/c-sharp-dot-net\">http://sourcemaking.com/design_patterns/strategy/c-sharp-dot-net</a>) or maybe a combination of other patterns.</p>\n\n<p>I'm sure there're alternatives to write a long list of if/else , but I doubt they will change anything except that the chain will look pretty to you (However, the beauty is in the eye of the beholder still applies to code too:-) ) . You should be concerned about things like (in 6 months when I have a new condition and I don't remember anything about this code , will I be able to add it easily? Or what if the chain changes, how quickly and error-free will I be implement it) </p>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24439730, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>This is a common situation and there are many common ways to deal with it.  Here's my attempt at a canonical answer.  Please comment if I missed anything and I'll keep this post up to date.</p>\n\n<h1>This is an Arrow</h1>\n\n<p>What you are discussing is known as the <a href=\"http://c2.com/cgi/wiki?ArrowAntiPattern\">arrow anti-pattern</a>.  It is called an arrow because the chain of nested ifs form code blocks that expand farther and farther to the right and then back to the left, forming a visual arrow that \"points\" to the right side of the code editor pane.  </p>\n\n<h2>Flatten the Arrow with the Guard</h2>\n\n<p>Some common ways of avoiding the Arrow are discussed <a href=\"http://blog.codinghorror.com/flattening-arrow-code/\">here</a>.  The most common method is to use a <a href=\"http://smart421.wordpress.com/2011/03/01/using-the-guard-pattern-to-simplify-code-contracts/\">guard</a> pattern, in which the code handles the exception flows first and then handles the basic flow, e.g. instead of</p>\n\n<pre><code>if (ok)\n{\n    DoSomething();\n}\nelse\n{\n    _log.Error(\"oops\");\n    return;\n}\n</code></pre>\n\n<p>... you'd use....</p>\n\n<pre><code>if (!ok)\n{\n    _log.Error(\"oops\");\n    return;\n} \nDoSomething(); //notice how this is already farther to the left than the example above\n</code></pre>\n\n<p>When there is a long series of guards this flattens the code considerably as all the guards appear all the way to the left and your ifs are not nested.  In addition, you are visually pairing the logic condition with its associated error, which makes it far easier to tell what is going on:</p>\n\n<p>Arrow:</p>\n\n<pre><code>ok = DoSomething1();\nif (ok)\n{\n    ok = DoSomething2();\n    if (ok)\n    {\n        ok = DoSomething3();\n        if (!ok)\n        {\n            _log.Error(\"oops\");  //Tip of the Arrow\n            return;\n        }\n    }\n    else\n    {\n       _log.Error(\"oops\");\n       return;\n    }\n}\nelse\n{\n    _log.Error(\"oops\");\n    return;\n}\n</code></pre>\n\n<p>Guard:</p>\n\n<pre><code>ok = DoSomething1();\nif (!ok)\n{\n    _log.Error(\"oops\");\n    return;\n} \nok = DoSomething2();\nif (!ok)\n{\n    _log.Error(\"oops\");\n    return;\n} \nok = DoSomething3();\nif (!ok)\n{\n    _log.Error(\"oops\");\n    return;\n} \nok = DoSomething4();\nif (!ok)\n{\n    _log.Error(\"oops\");\n    return;\n} \n</code></pre>\n\n<p>This is objectively and quantifiably easier to read because</p>\n\n<ol>\n<li>The { and } characters for a given logic block are closer together</li>\n<li>The amount of mental context needed to understand a particular line is smaller</li>\n<li>The entirety of logic associated with an if condition is more likely to be on one page</li>\n<li>The need for the coder to scroll the page/eye track is greatly lessened</li>\n</ol>\n\n<h1>How to add common code at the end</h1>\n\n<p>The problem with the guard pattern is that it relies on what is called \"opportunistic return\" or \"opportunistic exit.\"  In other words, it breaks the pattern that each and every function should have exactly one point of exit.  This is a problem for two reasons:</p>\n\n<ol>\n<li>It rubs some people the wrong way, e.g. people who learned to code on Pascal have learned that one function = one exit point.</li>\n<li><strong>It does not provide a section of code that executes upon exit no matter what</strong>, which is the subject at hand.</li>\n</ol>\n\n<p>Below I've provided some options for working around this limitation either by using language features or by avoiding the problem altogether.</p>\n\n<h2>Option 1.  You can't do this: use <code>finally</code></h2>\n\n<p>Unfortunately, as a c++ developer, you can't do this.  But this is the number one answer for languages that contain a finally keyword, since this is exactly what it is for.</p>\n\n<pre><code>try\n{\n    if (!ok)\n    {\n        _log.Error(\"oops\");\n        return;\n    } \n    DoSomething(); //notice how this is already farther to the left than the example above\n}\nfinally\n{\n    DoSomethingNoMatterWhat();\n}\n</code></pre>\n\n<h2>Option 2.  Avoid the issue: Restructure your functions</h2>\n\n<p>You can avoid the problem by breaking the code into two functions.  This solution has the benefit of working for any language, and additionally it can reduce <a href=\"http://en.wikipedia.org/wiki/Cyclomatic_complexity\">cyclomatic complexity</a>, which is a proven way to reduce your defect rate, and improves the specificity of any automated unit tests.  </p>\n\n<p>Here's an example:</p>\n\n<pre><code>void OuterFunction()\n{\n    DoSomethingIfPossible();\n    DoSomethingNoMatterWhat();\n}\n\nvoid DoSomethingIfPossible()\n{\n    if (!ok)\n    {\n        _log.Error(\"Oops\");\n        return;\n    }\n    DoSomething();\n}\n</code></pre>\n\n<h2>Option 3.  Language trick: Use a fake loop</h2>\n\n<p>Another common trick I see is using while(true) and break, as shown in the other answers.  </p>\n\n<pre><code>while(true)\n{\n     if (!ok) break;\n     DoSomething();\n     break;  //important\n}\nDoSomethingNoMatterWhat();\n</code></pre>\n\n<p>While this is less \"honest\" than using <code>goto</code>, it is less prone to being messed up when refactoring, as it clearly marks the boundaries of logic scope.  A naive coder who cuts and pastes your labels or your <code>goto</code> statements can cause major problems!  (And frankly the pattern is so common now I think it clearly communicates the intent, and is therefore not \"dishonest\" at all).</p>\n\n<p>There are other variants of this options.  For example, one could use <code>switch</code> instead of <code>while</code>.  Any language construct with a <code>break</code> keyword would probably work.</p>\n\n<h2>Option 4.  Leverage the object life cycle</h2>\n\n<p>One other approach leverages the object life cycle.  Use a context object to carry around your parameters (something which our naive example suspiciously lacks) and dispose of it when you're done.</p>\n\n<pre><code>class MyContext\n{\n   ~MyContext()\n   {\n        DoSomethingNoMatterWhat();\n   }\n}\n\nvoid MainMethod()\n{\n    MyContext myContext;\n    ok = DoSomething(myContext);\n    if (!ok)\n    {\n        _log.Error(\"Oops\");\n        return;\n    }\n    ok = DoSomethingElse(myContext);\n    if (!ok)\n    {\n        _log.Error(\"Oops\");\n        return;\n    }\n    ok = DoSomethingMore(myContext);\n    if (!ok)\n    {\n        _log.Error(\"Oops\");\n    }\n\n    //DoSomethingNoMatterWhat will be called when myContext goes out of scope\n}\n</code></pre>\n\n<p>Note: Be sure you understand the object life cycle of your language of choice.  You need some sort of deterministic garbage collection for this to work, i.e. you have to know when the destructor will be called.  In some languages you will need to use <code>Dispose</code> instead of a destructor.</p>\n\n<h2>Option 4.1.  Leverage the object life cycle (wrapper pattern)</h2>\n\n<p>If you're going to use an object-oriented approach, may as well do it right.  This option uses a class to \"wrap\" the resources that require cleanup, as well as its other operations.  </p>\n\n<pre><code>class MyWrapper \n{\n   bool DoSomething() {...};\n   bool DoSomethingElse() {...}\n\n\n   void ~MyWapper()\n   {\n        DoSomethingNoMatterWhat();\n   }\n}\n\nvoid MainMethod()\n{\n    bool ok = myWrapper.DoSomething();\n    if (!ok)\n        _log.Error(\"Oops\");\n        return;\n    }\n    ok = myWrapper.DoSomethingElse();\n    if (!ok)\n       _log.Error(\"Oops\");\n        return;\n    }\n}\n//DoSomethingNoMatterWhat will be called when myWrapper is destroyed\n</code></pre>\n\n<p>Again, be sure you understand your object life cycle.</p>\n\n<h2>Option 5.  Language trick: Use short-circuit evaluation</h2>\n\n<p>Another technique is to take advantage of <a href=\"http://en.wikipedia.org/wiki/Short-circuit_evaluation\">short-circuit evaluation</a>.</p>\n\n<pre><code>if (DoSomething1() &amp;&amp; DoSomething2() &amp;&amp; DoSomething3())\n{\n    DoSomething4();\n}\nDoSomethingNoMatterWhat();\n</code></pre>\n\n<p>This solution takes advantage of the way the &amp;&amp; operator works.  When the left hand side of &amp;&amp; evaluates to false, the right hand side is never evaluated.</p>\n\n<p>This trick is most useful when compact code is required and when the code is not likely to see much maintenance, e.g you are implementing a well-known algorithm.  For more general coding the structure of this code is too brittle; even a minor change to the logic could trigger a total rewrite.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24442170, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>Would this work? I think this is equivalent with your code.</p>\n\n<pre><code>bool condition = true; // using only one boolean variable\nif (condition) condition = executeStepA();\nif (condition) condition = executeStepB();\nif (condition) condition = executeStepC();\n...\nexecuteThisFunctionInAnyCase();\n</code></pre>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24447993, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>A lot of good answers already, but most of them seem to tradeoff on some (admittedly very little) of the flexibility. A common approach which doesn't require this tradeoff is adding a <em>status/keep-going</em> variable. The price is, of course, one extra value to keep track of:</p>\n\n<pre><code>bool ok = true;\nbool conditionA = executeStepA();\n// ... possibly edit conditionA, or just ok &amp;= executeStepA();\nok &amp;= conditionA;\n\nif (ok) {\n    bool conditionB = executeStepB();\n    // ... possibly do more stuff\n    ok &amp;= conditionB;\n}\nif (ok) {\n    bool conditionC = executeStepC();\n    ok &amp;= conditionC;\n}\nif (ok &amp;&amp; additionalCondition) {\n    // ...\n}\n\nexecuteThisFunctionInAnyCase();\n// can now also:\nreturn ok;\n</code></pre>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24450077, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>Several answers hinted at a pattern that I saw and used many times, especially in network programming. In network stacks there is often a long sequence of requests, any of which can fail and will stop the process. </p>\n\n<p>The common pattern was to use <code>do { } while (false);</code></p>\n\n<p>I used a macro for the <code>while(false)</code> to make it <code>do { } once;</code> The common pattern was:</p>\n\n<pre><code>do\n{\n    bool conditionA = executeStepA();\n    if (! conditionA) break;\n    bool conditionB = executeStepB();\n    if (! conditionB) break;\n    // etc.\n} while (false);\n</code></pre>\n\n<p>This pattern was relatively easy to read, and allowed objects to be used that would properly destruct and also avoided multiple returns making stepping and debugging a bit easier.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24455183, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>Don't.  Sometimes you need the complexity.  The trick is how you do it.  Having the \"what you do when the condition exists\" may take up some room, making the if statement tree appear larger than it really is.   So instead of doing things if a condition is set, just set a variable to a specific value for that case( enumeration or number, like 10,014.  After the if tree, then have a case statement, and for that specific value, do whatever you would have done in the if tree.  It will lighten up the tree.\nif x1\n   if x2\n      if x3\n          Var1:=100016;\n      endif\n   endif\nend if\ncase\nvar=100016\n    do case 100016 things...</p>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24455776, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>Here's a trick I've used on several occasions, in both C-whatever and Java:</p>\n\n<pre><code>do {\n    if (!condition1) break;\n    doSomething();\n    if (!condition2) break;\n    doSomethingElse()\n    if (!condition3) break;\n    doSomethingAgain();\n    if (!condition4) break;\n    doYetAnotherThing();\n} while(FALSE);  // Or until(TRUE) or whatever your language likes\n</code></pre>\n\n<p>I prefer it over nested ifs for the clarity of it, especially when properly formatted with clear comments for each condition.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24457699, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>Assuming you don't need individual condition variables, inverting the tests and using the else-falthrough as the \"ok\" path would allow you do get a more vertical set of if/else statements:</p>\n\n<pre><code>bool failed = false;\n\n// keep going if we don't fail\nif (failed = !executeStepA())      {}\nelse if (failed = !executeStepB()) {}\nelse if (failed = !executeStepC()) {}\nelse if (failed = !executeStepD()) {}\n\nrunThisFunctionInAnyCase();\n</code></pre>\n\n<p>Omitting the failed variable makes the code a bit too obscure IMO.</p>\n\n<p>Declaring the variables inside is fine, no worry about = vs ==.</p>\n\n<pre><code>// keep going if we don't fail\nif (bool failA = !executeStepA())      {}\nelse if (bool failB = !executeStepB()) {}\nelse if (bool failC = !executeStepC()) {}\nelse if (bool failD = !executeStepD()) {}\nelse {\n     // success !\n}\n\nrunThisFunctionInAnyCase();\n</code></pre>\n\n<p>This is obscure, but compact:</p>\n\n<pre><code>// keep going if we don't fail\nif (!executeStepA())      {}\nelse if (!executeStepB()) {}\nelse if (!executeStepC()) {}\nelse if (!executeStepD()) {}\nelse { /* success */ }\n\nrunThisFunctionInAnyCase();\n</code></pre>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24459810, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>As Rommik mentioned, you could apply a design pattern for this, but I would use the Decorator pattern rather than Strategy since you are wanting to chain calls.  If the code is simple, then I would go with one of the nicely structured answers to prevent nesting.  However, if it is complex or requires dynamic chaining, then the Decorator pattern is a good choice.  Here is a <a href=\"http://yuml.me/\" rel=\"nofollow\">yUML class diagram</a>:</p>\n\n<p><img src=\"http://i.stack.imgur.com/lkall.png\" alt=\"yUML class diagram\"></p>\n\n<p>Here is a sample <a href=\"http://www.linqpad.net/\" rel=\"nofollow\">LinqPad</a> C# program:</p>\n\n<pre><code>void Main()\n{\n    IOperation step = new StepC();\n    step = new StepB(step);\n    step = new StepA(step);\n    step.Next();\n}\n\npublic interface IOperation \n{\n    bool Next();\n}\n\npublic class StepA : IOperation\n{\n    private IOperation _chain;\n    public StepA(IOperation chain=null)\n    {\n        _chain = chain;\n    }\n\n    public bool Next() \n    {\n        bool localResult = false;\n        //do work\n        //...\n        // set localResult to success of this work\n        // just for this example, hard coding to true\n        localResult = true;\n        Console.WriteLine(\"Step A success={0}\", localResult);\n\n        //then call next in chain and return\n        return (localResult &amp;&amp; _chain != null) \n            ? _chain.Next() \n            : true;\n    }\n}\n\npublic class StepB : IOperation\n{\n    private IOperation _chain;\n    public StepB(IOperation chain=null)\n    {\n        _chain = chain;\n    }\n\n    public bool Next() \n    {   \n        bool localResult = false;\n\n        //do work\n        //...\n        // set localResult to success of this work\n        // just for this example, hard coding to false, \n            // to show breaking out of the chain\n        localResult = false;\n        Console.WriteLine(\"Step B success={0}\", localResult);\n\n        //then call next in chain and return\n        return (localResult &amp;&amp; _chain != null) \n            ? _chain.Next() \n            : true;\n    }\n}\n\npublic class StepC : IOperation\n{\n    private IOperation _chain;\n    public StepC(IOperation chain=null)\n    {\n        _chain = chain;\n    }\n\n    public bool Next() \n    {\n        bool localResult = false;\n        //do work\n        //...\n        // set localResult to success of this work\n        // just for this example, hard coding to true\n        localResult = true;\n        Console.WriteLine(\"Step C success={0}\", localResult);\n        //then call next in chain and return\n        return (localResult &amp;&amp; _chain != null) \n            ? _chain.Next() \n            : true;\n    }\n}\n</code></pre>\n\n<p>The best book to read on design patterns, IMHO, is <a href=\"http://smile.amazon.com/Head-First-Design-Patterns-Freeman/dp/0596007124/\" rel=\"nofollow\">Head First Design Patterns</a>.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24469882, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>For C++11 and beyond, a nice approach might be to implement a <em>scope exit</em> system similar to <a href=\"http://dlang.org/statement.html#ScopeGuardStatement\" rel=\"nofollow\">D's scope(exit)</a> mechanism.</p>\n\n<p>One possible way to implement it is using C++11 lambdas and some helper macros:</p>\n\n<pre><code>template&lt;typename F&gt; struct ScopeExit \n{\n    ScopeExit(F f) : fn(f) { }\n    ~ScopeExit() \n    { \n         fn();\n    }\n\n    F fn;\n};\n\ntemplate&lt;typename F&gt; ScopeExit&lt;F&gt; MakeScopeExit(F f) { return ScopeExit&lt;F&gt;(f); };\n\n#define STR_APPEND2_HELPER(x, y) x##y\n#define STR_APPEND2(x, y) STR_APPEND2_HELPER(x, y)\n\n#define SCOPE_EXIT(code)\\\n    auto STR_APPEND2(scope_exit_, __LINE__) = MakeScopeExit([&amp;](){ code })\n</code></pre>\n\n<p>This will allow you to return early from the function and ensure whatever cleanup code you define is always executed upon scope exit:</p>\n\n<pre><code>SCOPE_EXIT(\n    delete pointerA;\n    delete pointerB;\n    close(fileC); );\n\nif (!executeStepA())\n    return;\n\nif (!executeStepB())\n    return;\n\nif (!executeStepC())\n    return;\n</code></pre>\n\n<p>The macros are really just decoration. <code>MakeScopeExit()</code> can be used directly.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24470369, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>If you dislike <code>goto</code> and dislike <code>do { } while (0);</code> loops and like to use C++ you can also use a temporary lambda to have the same effect.</p>\n\n<pre><code>[&amp;]() { // create a capture all lambda\n  if (!executeStepA()) { return; }\n  if (!executeStepB()) { return; }\n  if (!executeStepC()) { return; }\n}(); // and immediately call it\n\nexecuteThisFunctionInAnyCase();\n</code></pre>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24474756, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>In certain special situations a virtual inheritance tree and virtual method calls may handle your decision tree logic. </p>\n\n<pre><code>objectp -&gt; DoTheRightStep();\n</code></pre>\n\n<p>I have met situations, when this worked like a magic wand.\nOf course this makes sense if your ConditionX can be consistently translated into \"object Is A\" Conditions.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24478288, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>You can use a \"switch statement\"</p>\n\n<pre><code>switch(x)\n{\n  case 1:\n    //code fires if x == 1\n    break;\n  case 2:\n    //code fires if x == 2\n    break;\n\n  ...\n\n  default:\n    //code fires if x does not match any case\n}\n</code></pre>\n\n<p>is equivalent to:  </p>\n\n<pre><code>if (x==1)\n{\n  //code fires if x == 1\n}\nelse if (x==2)\n{\n  //code fires if x == 2\n}\n\n...\n\nelse\n{\n  //code fires if x does not match any of the if's above\n}\n</code></pre>\n\n<p>However, I would argue that it's not necessary to avoid if-else-chains.  One limitation of switch statements is that they only test for exact equality; that is you can't test for \"case x&lt;3\" --- in C++ that throws an error &amp; in C it may work, but behave unexpected ways, which is worse than throwing an error, because your program will malfunction in unexpected ways.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24493493, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>This looks like a state machine, which is handy because you can easily implement it with a <a href=\"http://en.wikipedia.org/wiki/State_pattern\">state-pattern</a>.</p>\n\n<p>In Java it would look something like this:</p>\n\n<pre><code>interface StepState{\npublic StepState performStep();\n}\n</code></pre>\n\n<p>An implementation would work as follows:</p>\n\n<pre><code>class StepA implements StepState{ \n    public StepState performStep()\n     {\n         performAction();\n         if(condition) return new StepB()\n         else return null;\n     }\n}\n</code></pre>\n\n<p>And so on. Then you can substitute the big if condition with:</p>\n\n<pre><code>Step toDo = new StepA();\nwhile(toDo != null)\n      toDo = toDo.performStep();\nexecuteThisFunctionInAnyCase();\n</code></pre>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24495398, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>If your code is as simple as your example and your language supports short-circuit evaluations, you could try this:</p>\n\n<pre><code>StepA() &amp;&amp; StepB() &amp;&amp; StepC() &amp;&amp; StepD();\nDoAlways();\n</code></pre>\n\n<p>If you are passing arguments to your functions and getting back other results so that your code cannot be written in the previous fashion, many of the other answers would be better suited to the problem.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24511880, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>Given the function:</p>\n\n<pre><code>string trySomething ()\n{\n    if (condition_1)\n    {\n        do_1();\n        ..\n            if (condition_k)\n            {\n                do_K();\n\n                return doSomething();\n            }\n            else\n            {\n                return \"Error k\";\n            }\n        ..\n    }\n    else\n    {\n        return \"Error 1\";\n    }\n}\n</code></pre>\n\n<p>We can get rid of the syntactical nesting, by reversing the validation process:</p>\n\n<pre><code>string trySomething ()\n{\n    if (!condition_1)\n    {\n        return \"Error 1\";\n    }\n\n    do_1();\n\n    ..\n\n    if (!condition_k)\n    {\n        return \"Error k\";\n    }\n\n    do_K();\n\n    return doSomething ();\n}\n</code></pre>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24517645, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>As @Jefffrey said, you can use the conditional short-circuit feature in almost every language, I personally dislike conditional statements with more than 2 condition (more than a single <code>&amp;&amp;</code> or <code>||</code>), just a matter of style. This code does the same (and probably would compile the same) and it looks a bit cleaner to me. You don't need curly braces, breaks, returns, functions, lambdas (only c++11), objects, etc. as long as every function in <code>executeStepX()</code> returns a value that can be cast to <code>true</code> if the next statement is to be executed or <code>false</code> otherwise.</p>\n\n<pre><code>if (executeStepA())\n if (executeStepB())\n  if (executeStepC())\n   //...\n    if (executeStepN()); // &lt;-- note the ';'\n\nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p>Any time any of the functions return <code>false</code>, none of the next functions are called.</p>\n\n<p>I liked the answer of @Mayerz, as you can vary the functions that are to be called (and their order) in runtime. This kind of feels like the <a href=\"http://en.wikipedia.org/wiki/Observer_pattern\" rel=\"nofollow\">observer pattern</a> where you have a group of subscribers (functions, objects, whatever) that are called and executed whenever a given arbitrary condition is met. This might be an over-kill in many cases, so use it wisely <code>:)</code></p>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24526869, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>an interesting way is to work with exceptions.</p>\n\n<pre><code>try\n{\n    executeStepA();//function throws an exception on error\n    ......\n}\ncatch(...)\n{\n    //some error handling\n}\nfinally\n{\n    executeThisFunctionInAnyCase();\n}\n</code></pre>\n\n<p>If you write such code you are going somehow in the wrong direction. I wont see it as \"the problem\" to have such code, but to have such a messy \"architecture\".</p>\n\n<p>Tip: discuss those cases with a seasoned developer which you trust ;-)</p>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24530355, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>Just a side note; when an <code>if</code> scope always causes a <code>return</code> (or break in a loop), then don't use an <code>else</code> statement. This can save you a lot of indentation overall.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24531745, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>You just do this..</p>\n\n<pre><code>coverConditions();\nexecuteThisFunctionInAnyCase();\n\nfunction coverConditions()\n {\n bool conditionA = executeStepA();\n if (!conditionA) return;\n bool conditionB = executeStepB();\n if (!conditionB) return;\n bool conditionC = executeStepC();\n if (!conditionC) return;\n }\n</code></pre>\n\n<p>99 times of 100, this is the only way to do it.</p>\n\n<p>Never, ever, ever try to do something \"tricky\" in computer code.</p>\n\n<hr>\n\n<p>By the way, I'm pretty sure the following is the <strong>actual solution you had in mind...</strong></p>\n\n<p>The <strong>continue</strong> statement is critical in algorithmic programming. (Much as, the goto statement is critical in algorithmic programming.)</p>\n\n<p>In many programming languages you can do this:</p>\n\n<pre><code>-(void)_testKode\n    {\n    NSLog(@\"code a\");\n    NSLog(@\"code b\");\n    NSLog(@\"code c\\n\");\n\n    int x = 69;\n\n    {\n\n    if ( x == 13 )\n        {\n        NSLog(@\"code d---\\n\");\n        continue;\n        }\n\n    if ( x == 69 )\n        {\n        NSLog(@\"code e---\\n\");\n        continue;\n        }\n\n    if ( x == 13 )\n        {\n        NSLog(@\"code f---\\n\");\n        continue;\n        }\n\n    }\n\n    NSLog(@\"code g\");\n    }\n</code></pre>\n\n<p>(Note first of all: naked blocks like that example are a critical and important part of writing beautiful code, particularly if you are dealing with \"algorithmic\" programming.)</p>\n\n<p>Again, that's <strong>exactly what you had in your head, right?</strong> And that's the beautiful way to write it, so you have good instincts.</p>\n\n<p>However, tragically, in the <strong>current version of objective-c</strong> (Aside - I don't know about Swift, sorry) there is a risible feature where it checks if the enclosing block is a loop.</p>\n\n<p><img src=\"http://i.stack.imgur.com/glq81.png\" alt=\"enter image description here\"></p>\n\n<h1>Here's how you get around that...</h1>\n\n<pre><code>-(void)_testKode\n    {\n    NSLog(@\"code a\");\n    NSLog(@\"code b\");\n    NSLog(@\"code c\\n\");\n\n    int x = 69;\n\n    do{\n\n    if ( x == 13 )\n        {\n        NSLog(@\"code d---\\n\");\n        continue;\n        }\n\n    if ( x == 69 )\n        {\n        NSLog(@\"code e---\\n\");\n        continue;\n        }\n\n    if ( x == 13 )\n        {\n        NSLog(@\"code f---\\n\");\n        continue;\n        }\n\n    }while(false);\n\n    NSLog(@\"code g\");\n    }\n</code></pre>\n\n<p>So don't forget that ..</p>\n\n<h1>do { } while(false);</h1>\n\n<p>just means \"do this block once\".</p>\n\n<p>ie, there is utterly no difference between writing <code>do{}while(false);</code> and simply writing <code>{}</code> .</p>\n\n<p>This now works perfectly as you wanted...here's the output...</p>\n\n<p><img src=\"http://i.stack.imgur.com/trGXZ.png\" alt=\"enter image description here\"></p>\n\n<p>So, it's possible that's how you see the algorithm in your head. You should always try to write what's in your head. ( Particularly if you are not sober, because that's when the pretty comes out! :) )</p>\n\n<p>In \"algorithmic\" projects where this happens a lot, in objective-c, we always have a  macro like...</p>\n\n<pre><code>#define RUNONCE while(false)\n</code></pre>\n\n<p>... so then you can do this ...</p>\n\n<pre><code>-(void)_testKode\n    {\n    NSLog(@\"code a\");\n    int x = 69;\n\n    do{\n    if ( x == 13 )\n        {\n        NSLog(@\"code d---\\n\");\n        continue;\n        }\n    if ( x == 69 )\n        {\n        NSLog(@\"code e---\\n\");\n        continue;\n        }\n    if ( x == 13 )\n        {\n        NSLog(@\"code f---\\n\");\n        continue;\n        }\n    }RUNONCE\n\n    NSLog(@\"code g\");\n    }\n</code></pre>\n\n<p>There are two points:</p>\n\n<p>a, even though it's stupid that objective-c checks the type of block a continue statement is in, it's troubling to \"fight that\".  So it's a tough decision.</p>\n\n<p>b, there's the question should you indent, in the example, that block? I lose sleep over questions like that, so I can't advise.</p>\n\n<p>Hope it helps.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24588605, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<pre><code>while(executeStepA() &amp;&amp; executeStepB() &amp;&amp; executeStepC() &amp;&amp; 0);\nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p>executeThisFunctionInAnyCase() had to be executed in any case even if the other functions do not complete.</p>\n\n<p>The while statement:</p>\n\n<pre><code>while(executeStepA() &amp;&amp; executeStepB() &amp;&amp; executeStepC() &amp;&amp; 0)\n</code></pre>\n\n<p>will execute all the functions and <strong>will not loop</strong> as its a definite false statement.\nThis can also be made to retry a certain times before quitting.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24615725, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>To improve on Mathieu's C++11 answer and avoid the runtime cost incurred through the use of <code>std::function</code>, I would suggest to use the following</p>\n\n<pre><code>template&lt;typename functor&gt;\nclass deferred final\n{\npublic:\n    template&lt;typename functor2&gt;\n    explicit deferred(functor2&amp;&amp; f) : f(std::forward&lt;functor2&gt;(f)) {}\n    ~deferred() { this-&gt;f(); }\n\nprivate:\n    functor f;\n};\n\ntemplate&lt;typename functor&gt;\nauto defer(functor&amp;&amp; f) -&gt; deferred&lt;typename std::decay&lt;functor&gt;::type&gt;\n{\n    return deferred&lt;typename std::decay&lt;functor&gt;::type&gt;(std::forward&lt;functor&gt;(f));\n}\n</code></pre>\n\n<p>This simple template class will accept any functor that can be called without any parameters, and does so without any dynamic memory allocations and therefore better conforms to C++'s goal of abstraction without unnecessary overhead. The additional function template is there to simplify use by template parameter deduction (which is not available for class template parameters)</p>\n\n<p>Usage example:</p>\n\n<pre><code>auto guard = defer(executeThisFunctionInAnyCase);\nbool conditionA = executeStepA();\nif (!conditionA) return;\nbool conditionB = executeStepB();\nif (!conditionB) return;\nbool conditionC = executeStepC();\nif (!conditionC) return;\n</code></pre>\n\n<p>Just as Mathieu's answer this solution is fully exception safe, and <code>executeThisFunctionInAnyCase</code> will be called in all cases. Should <code>executeThisFunctionInAnyCase</code> itself throw, destructors are implicitly marked <code>noexcept</code>and therefore a call to <code>std::terminate</code> would be issued instead of causing an exception to be thrown during stack unwinding.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24616375, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>Another approach - <code>do - while</code> loop, even though it was mentioned before there was no example of it which would show how it looks like:</p>\n\n<pre><code>do\n{\n    if (!executeStepA()) break;\n    if (!executeStepB()) break;\n    if (!executeStepC()) break;\n    ...\n\n    break; // skip the do-while condition :)\n}\nwhile (0);\n\nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p><sub>(Well there's already an answer with <code>while</code> loop but <code>do - while</code> loop does not redundantly check for true (at the start) but instead at the end xD (this can be skipped, though)).</sub></p>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24620630, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>After reading all the answers, I want to provide one new approach, which could be quite clear and readable in the right circumstances: A State-Pattern.</p>\n\n<p>If you pack all Methods (executeStepX) into an Object-class, it can have an Attribute getState()</p>\n\n<pre><code>class ExecutionChain\n{\n    public:\n        enum State\n        {\n          Start,\n          Step1Done,\n          Step2Done,\n          Step3Done,\n          Step4Done,\n          FinalDone,\n        };\n        State getState() const;\n\n        void executeStep1();\n        void executeStep2();\n        void executeStep3();\n        void executeStep4();\n        void executeFinalStep();\n    private:\n        State _state;\n};\n</code></pre>\n\n<p>This would allow you to flatten your execution code to this:</p>\n\n<pre><code>void execute\n{\n    ExecutionChain chain;\n\n    chain.executeStep1();\n\n    if ( chain.getState() == Step1Done )\n    {\n        chain.executeStep2();\n    }\n\n    if ( chain.getState() == Step2Done )\n    {\n        chain.executeStep3();\n    }\n\n    if ( chain.getState() == Step3Done )\n    {\n        chain.executeStep4();\n    }\n\n    chain.executeFinalStep();\n}\n</code></pre>\n\n<p>This way it is easily readable, easy to debug, you have a clear flow control and can also insert new more complex behaviors (e.g. execute Special Step only if at least Step2 is executed)...</p>\n\n<p>My problem with other approaches like ok = execute(); and if (execute()) are that your code should be clear and readable like a flow-diagram of what is happening. In the flow diagram you would have two steps: 1. execute 2. a decision based on the result</p>\n\n<p>So you shouldn't hide your important heavy-lifting methods inside of if-statements or similar, they should stand on their own!</p>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24630875, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<pre><code>[&amp;]{\n  bool conditionA = executeStepA();\n  if (!conditionA) return; // break\n  bool conditionB = executeStepB();\n  if (!conditionB) return; // break\n  bool conditionC = executeStepC();\n  if (!conditionC) return; // break\n}();\nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p>We create an anonymous lambda function with implicit reference capture, and run it.  The code within it runs immediately.</p>\n\n<p>When it wants to stop, it simply <code>return</code>s.</p>\n\n<p>Then, after it runs, we run <code>executeThisFunctionInAnyCase</code>.</p>\n\n<p><code>return</code> within the lambda is a <code>break</code> to end of block.  Any other kind of flow control just works.</p>\n\n<p>Exceptions are left alone -- if you want to catch them, do it explicitly.  Be careful about running <code>executeThisFunctionInAnyCase</code> if exceptions are thrown -- you generally do not want to run <code>executeThisFunctionInAnyCase</code> if it can throw an exception in an exception handler, as that results in a mess (which mess will depend on the language).</p>\n\n<p>A nice property of such capture based inline functions is you can refactor existing code in place.  If your function gets really long, breaking it down into component parts is a good idea.</p>\n\n<p>A variant of this that works in more languages is:</p>\n\n<pre><code>bool working = executeStepA();\nworking = working &amp;&amp; executeStepB();\nworking = working &amp;&amp; executeStepC();\nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p>where you write individual lines that each short-circuit.  Code can be injected between these lines, giving you multiple \"in any case\", or you can do <code>if(working) { /* code */ }</code> between execution steps to include code that should run if and only if you haven't already bailed out.</p>\n\n<p>A good solution to this problem should be robust in the face of adding new flow control.</p>\n\n<p>In C++, a better solution is throwing together a quick scope_guard class:</p>\n\n<pre><code>#ifndef SCOPE_GUARD_H_INCLUDED_\n#define SCOPE_GUARD_H_INCLUDED_\ntemplate&lt;typename F&gt;\nstruct scope_guard_t {\n  F f;\n  ~scope_guard_t() { f(); }\n};\ntemplate&lt;typename F&gt;\nscope_guard_t&lt;F&gt; scope_guard( F&amp;&amp; f ) { return {std::forward&lt;F&gt;(f)}; }\n#endif\n</code></pre>\n\n<p>then in the code in question:</p>\n\n<pre><code>auto scope = scope_guard( executeThisFunctionInAnyCase );\nbool conditionA = executeStepA();\nif (!conditionA) return;\nbool conditionB = executeStepB();\nif (!conditionB) return;\nbool conditionC = executeStepC();\nif (!conditionC) return;\n</code></pre>\n\n<p>and the destructor of <code>scope</code> automaticlaly runs <code>executeThisFunctionInAnyCase</code>.  You can inject more and more such \"at end of scope\" (giving each a different name) whenever you create a non-RAII resource that needs cleaning up.  It can also take lambdas, so you can manipulate local variables.</p>\n\n<p>Fancier scope guards can support aborting the call in the destructor (with a <code>bool</code> guard), block/allow copy and move, and support type-erased \"portable\" scope-guards that can be returned from inner contexts.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24635457, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<blockquote>\n  <p>How to avoid \u201cif\u201d chains?</p>\n</blockquote>\n\n<p>I did not yet find an answer using recursion.  (Stop me now if you've heard this one;)</p>\n\n<p>I also did not find support for identifying which of the if-clauses failed (think multi thread) ... (I once confronted a 40 deep chain in an embedded system.)  As part of the debug support, I used a bitset.</p>\n\n<pre><code>  // here I use 26 bits in a result bitset - you can use as many bits as you need\n  typedef  std::bitset&lt;26&gt;  BitSet26;  \n</code></pre>\n\n<p>My recursion approach requires some support ... to perform step selection:</p>\n\n<pre><code>  int executeStep(int i, bool&amp; retVal)\n  {\n     int nxt = 0;\n     switch (i)\n     {\n     case 'A': { retVal = executeStepA(); nxt = 'B'; } break;\n     case 'B': { retVal = executeStepB(); nxt = 'C'; } break;\n     case 'C': { retVal = executeStepC(); nxt = 'D'; } break;\n     case 'D': { retVal = executeStepD(); nxt = 'I'; } break;\n        // ...\n     case 'I': { retVal = executeStepI(); nxt = 'J'; } break;\n     case 'J': { retVal = executeStepJ(); nxt = 'R'; } break;\n        // ...\n     case 'R': { retVal = executeStepR(); nxt = 'S'; } break;\n     case 'S': { retVal = executeStepS(); nxt = 'Z'; } break;\n        // ...\n     case 'Z': { retVal = executeStepZ(); nxt = 0;   } break;\n\n     default:  { retVal = false;          nxt = 0;   } break;\n     }\n     return(nxt);\n  }\n</code></pre>\n\n<p>I think the above is sufficiently simple, but in practice I did not have all the \"executeStepN()\" methods, and often installed the code they contained in the appropriate switch clause.</p>\n\n<p>Starting the sequence can look like:</p>\n\n<pre><code>     BitSet26  b (0); // clear all bits\n\n     int retVal = tRecurse(b, 'A'); // launch the sequence, \n     //                                starting with step 'A'\n\n     executeThisFunctionInAnyCase();\n</code></pre>\n\n<p>This runs the recursion through the sequence, without a chain of if's.  When a step returns false, the recursion terminates.  A unique retVal (error code) could easily be passed back at the end of the tRecurse(), but I wanted to show the use of bit pattern to deliver pass/fail info. </p>\n\n<p>And the recursion looks like this:</p>\n\n<pre><code>  int tRecurse(BitSet26&amp; b, int i)\n  {\n     int  retVal = 0;\n     bool result = false;\n     int     nxt = executeStep(i, result);\n\n     if (result) // if (previous step return true)\n     {\n        b[i-'A'] = 1;  // map 'A' to 0 index\n\n        retVal = tRecurse(b, nxt); // recurse\n\n     } // else done, b initialized to 0\n\n     return(retVal);\n  }\n</code></pre>\n\n<p>No if-chains involved.  Ok, I admit it, I like recursion.  </p>\n\n<p>Here is an example that starts the recursion, and reports results:</p>\n\n<pre><code>  int foo(void)\n  {\n     BitSet26  b;\n\n     int retVal = tRecurse(b, 'A'); // launch the sequence, starting with step A\n\n     executeThisFunctionInAnyCase();\n\n#ifndef  ndbg          \n     { \n        // development diagnostics\n        std::cout &lt;&lt; \"BitSet26: \" &lt;&lt;  b.to_string() &lt;&lt; std::endl;\n        std::string c = \"ZYXWVUTSRQPONMLKJIHGFEDCBA\";\n        std::cout &lt;&lt; \"          \";\n        for (int i=0; i &lt; 26; i++)\n        {\n           char kar = c[i];\n           if(!b[kar-'A']) kar = ' ';\n           std::cout &lt;&lt; kar;\n        }\n\n        std::cout &lt;&lt; \"   : PASS\" &lt;&lt; std::endl &lt;&lt; \"          \";\n        for (int i=0; i &lt; 26; i++)\n        {\n           char kar = static_cast&lt;char&gt;(tolower(c[i]));\n           if(b[kar-'A']) kar = ' ';\n           std::cout &lt;&lt; kar;\n        }\n        std::cout &lt;&lt; \"   : Failed (or incomplete)\" &lt;&lt; std::endl;\n     }\n#endif\n     return(retVal);\n  }\n</code></pre>\n\n<p>User output is development diagnostic, so don't mind the messy.  </p>\n\n<p>Instead, think how your error handling might decide recovery based on the bit patterns found.</p>\n\n<p>A quick example, with only 8 execute steps that succeed, and the 9th, 'Z' fails.  I suppose I should have used only 9 bits in the bitset ... eh.</p>\n\n<pre><code>./dumy104 \nA\nB\nC\nD\n...\nI\nJ\n...\nR\nS\n...\nZ\nexecuteThisFunctionInAnyCase()\n\nBitSet26: 00000001100000001100001111\n                 SR       JI    DCBA   : PASS\n          zyxwvut  qponmlk  hgfe       : Failed (Z) (or incomplete)\n\nFINI\n</code></pre>\n\n<hr>\n\n<p>UPDATE 2014 07 30</p>\n\n<p>Forgot to mention the key idea:</p>\n\n<p>You have heard of un-rolling a loop as a optimization technique?  </p>\n\n<p>Here, I have used recursion to roll the if-then chain into a loop. And of course, recursion is not the only way to write a loop.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24643152, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>Fake loops already got mentioned, but I didn't see the following trick in the answers given so far: You can use a <code>do { /* ... */ } while( evaulates_to_zero() );</code> to implement a two-way early-out breaker. Using <code>break</code> terminates the loop without going through evaluating the condition statement, whereas a <code>continue</code> will evaulate the condition statement.</p>\n\n<p>You can use that if you have two kinds of finalization, where one path must do a little more work than the other:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;ctype.h&gt;\n\nint finalize(char ch)\n{\n    fprintf(stdout, \"read a character: %c\\n\", (char)toupper(ch));\n\n    return 0;\n}\n\nint main(int argc, char *argv[])\n{\n    int ch;\n    do {\n        ch = fgetc(stdin);\n        if( isdigit(ch) ) {\n            fprintf(stderr, \"read a digit (%c): aborting!\\n\", (char)ch);\n            break;\n        }\n        if( isalpha(ch) ) {\n            continue;\n        }\n        fprintf(stdout, \"thank you\\n\");\n    } while( finalize(ch) );\n\n    return 0;\n}\n</code></pre>\n\n<p>Executing this gives the following session protocol:</p>\n\n<pre><code>dw@narfi ~/misc/test/fakeloopbreak $ ./fakeloopbreak \n-\nthank you\nread a character: -\n\ndw@narfi ~/misc/test/fakeloopbreak $ ./fakeloopbreak \na\nread a character: A\n\ndw@narfi ~/misc/test/fakeloopbreak $ ./fakeloopbreak \n1\nread a digit (1): aborting!\n</code></pre>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24643421, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>Why is nobody giving the simplest solution ? :D</p>\n\n<p>If all your functions have the same signature then you can do it this way (for C language):</p>\n\n<pre><code>bool (*step[])() = {\n    &amp;executeStepA,\n    &amp;executeStepB,\n    &amp;executeStepC,\n    ... \n};\n\nfor (int i = 0; i &lt; numberOfSteps; i++) {\n    bool condition = step[i]();\n\n    if (!condition) {\n        break;\n    }\n}\n\nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p>For a clean C++ solution, you should create an interface class that contains an  <em>execute</em> method and wraps your steps in objects.<br>\nThen, the solution above will look like this:</p>\n\n<pre><code>Step *steps[] = {\n    stepA,\n    stepB,\n    stepC,\n    ... \n};\n\nfor (int i = 0; i &lt; numberOfSteps; i++) {\n    Step *step = steps[i];\n\n    if (!step-&gt;execute()) {\n        break;\n    }\n}\n\nexecuteThisFunctionInAnyCase();\n</code></pre>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24672437, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>Well, 50+ answers so far and nobody has mentioned what I usually do in this situation! (i.e. an operation that consists of several steps, but it would be overkill to use a state machine or a function pointer table):</p>\n\n<pre><code>if ( !executeStepA() )\n{\n    // error handling for \"A\" failing\n}\nelse if ( !executeStepB() )\n{\n    // error handling for \"B\" failing\n}\nelse if ( !executeStepC() )\n{\n    // error handling for \"C\" failing\n}\nelse\n{\n    // all steps succeeded!\n}\n\nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p>Advantages:</p>\n\n<ul>\n<li>Does not end up with huge indent level</li>\n<li>Error handling code (optional) is on the lines just after the call to the function that failed </li>\n</ul>\n\n<p>Disadvantages:</p>\n\n<ul>\n<li>Can get ugly if you have a step that's not just wrapped up in a single function call</li>\n<li>Gets ugly if any flow is required other than \"execute steps in order, aborting if one fails\"</li>\n</ul>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24691689, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>In my opinion function pointers are the best way to go through this.</p>\n\n<p>This approach was mentioned before, but I'd like to go even deeper into the pros of using such approach against an arrowing type of code.</p>\n\n<p>From my experience, this sort of if chains happen in an initialization part of a certain action of the program. The program needs to be sure that everything is peachy before attempting to start.</p>\n\n<p>In often cases in many of the do stuff functions some things might get allocated , or ownership could be changed. You will want to reverse the process if you fail.</p>\n\n<p>Let's say you have the following 3 functions :</p>\n\n<pre><code>bool loadResources()\n{\n   return attemptToLoadResources();\n}\nbool getGlobalMutex()\n{\n   return attemptToGetGlobalMutex();\n}\nbool startInfernalMachine()\n{\n   return attemptToStartInfernalMachine();\n}\n</code></pre>\n\n<p>The prototype for all of the functions will be:</p>\n\n<pre><code>typdef bool (*initializerFunc)(void);\n</code></pre>\n\n<p>So as mentioned above, you will add into a vector using push_back the pointers and just run them in the order. However, if your program fails at the startInfernalMachine , you will need to manually return the mutex and unload resources . If you do this in your RunAllways function, you will have a baad time.</p>\n\n<p>But wait! functors are quite awesome (sometimes) and you can just change the prototype to the following :</p>\n\n<pre><code>typdef bool (*initializerFunc)(bool);\n</code></pre>\n\n<p>Why ? Well, the new functions will now look something like :</p>\n\n<pre><code>bool loadResources(bool bLoad)\n{\n   if (bLoad)\n     return attemptToLoadResources();\n   else\n     return attemptToUnloadResources();\n}\nbool getGlobalMutex(bool bGet)\n{\n  if (bGet)\n    return attemptToGetGlobalMutex();\n  else\n    return releaseGlobalMutex();\n}\n...\n</code></pre>\n\n<p>So now,the whole of the code, will look something like :</p>\n\n<pre><code>vector&lt;initializerFunc&gt; funcs;\nfuncs.push_back(&amp;loadResources);\nfuncs.push_back(&amp;getGlobalMutex);\nfuncs.push_back(&amp;startInfernalMachine);\n// yeah, i know, i don't use iterators\nint lastIdx;\nfor (int i=0;i&lt;funcs.size();i++)\n{\n   if (funcs[i](true))\n      lastIdx=i;\n   else \n      break;\n}\n// time to check if everything is peachy\nif (lastIdx!=funcs.size()-1)\n{\n   // sad face, undo\n   for (int i=lastIdx;i&gt;=0;i++)\n      funcs[i](false);\n}\n</code></pre>\n\n<p>So it's definately a step forward to autoclean your project, and get past this phase.\nHowever, implementation is a bit awkward, since you will need to use this pushback mechanism over and over again. If you have only 1 such place, let's say it's ok, but if you have it 10 places, with an oscilating number of functions... not so fun.</p>\n\n<p>Fortunately, there's another mechanism that will allow you to make a even better abstraction : variadic functions.\nAfter all, there's a varying number of functions you need to go thorough.\nA variadic function would look something like this :</p>\n\n<pre><code>bool variadicInitialization(int nFuncs,...)\n{\n    bool rez;\n    int lastIdx;\n    initializerFunccur;\n    vector&lt;initializerFunc&gt; reverse;\n    va_list vl;\n    va_start(vl,nFuncs);\n    for (int i=0;i&lt;nFuncs;i++)\n    {\n        cur = va_arg(vl,initializerFunc);\n        reverse.push_back(cur);\n        rez= cur(true);\n        if (rez)\n            lastIdx=i;\n        if (!rez)\n            break;\n    }\n    va_end(vl);\n\n    if (!rez)\n    {\n\n        for (int i=lastIdx;i&gt;=0;i--)\n        {\n            reverse[i](false);\n        }\n    }\n    return rez;\n}\n</code></pre>\n\n<p>And now your code will be reduced (anywhere in the application) to this :</p>\n\n<pre><code>bool success = variadicInitialization(&amp;loadResources,&amp;getGlobalMutex,&amp;startInfernalMachine);\ndoSomethingAllways();\n</code></pre>\n\n<p>So this way you can do all those nasty if lists with just one function call, and be sure that when the function exits you will not have any residues from initializations. </p>\n\n<p>Your fellow team mates will be really grateful for making 100 lines of code possible in just 1.</p>\n\n<p>BUT WAIT!\nThere's more!\nOne of the main traits of the arrow-type code is that you need to have a specific order!\nAnd that specific order needs to be the same in the whole application (multithreading deadlock avoidance rule no 1 : always take mutexes in the same order throughout the whole application)\nWhat if one of the newcomers, just makes the functions in a random order ? Even worse, what if you are asked to expose this to java or C# ? (yeah, cross platform is a pain)</p>\n\n<p>Fortunately there's an approach for this.\nIn bullet points , this is what I would suggest :</p>\n\n<ul>\n<li><p>create an enum , starting from the first resource to the last</p></li>\n<li><p>define a pair which takes a value from the enum and pairs it to the function pointer</p></li>\n<li><p>put these pairs in a vector (I know, I just defined the use of a map :) , but I always go vector for small numbers)</p></li>\n<li><p>change the variadic macro from taking function pointers to integers (which are easily exposed in java or C# ;) ) )</p></li>\n<li><p>in the variadic function, sort those integers</p></li>\n<li><p>when running, run the function assigned to that integer.</p></li>\n</ul>\n\n<p>At the end, your code will ensure the following :</p>\n\n<ul>\n<li><p>one line of code for initialization, no matter how many stuff needs to be ok</p></li>\n<li><p>enforcing of the order of calling : you cannot call startInfernalMachine before loadResources unless you (the architect) decides to allow this</p></li>\n<li><p>complete cleanup if something fails along the way (considering you made deinitialization properly)</p></li>\n<li><p>changing the order of the initialization in the whole application means only changing the order in the enum </p></li>\n</ul>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24698270, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>An easy solution is using a condition boolean variable, and the same one can be reused over and over again in order to check all the results of the steps being executed in sequence:</p>\n\n<pre><code>    bool cond = executeStepA();\n    if(cond) cond = executeStepB();\n    if(cond) cond = executeStepC();\n    if(cond) cond = executeStepD();\n\n    executeThisFunctionInAnyCase();\n</code></pre>\n\n<p>Not that it was not necessary to do this beforehand: <code>bool cond = true;</code> ... and then followed by if(cond) cond = executeStepA(); The <code>cond</code> variable can be immediately assigned to the result of <code>executeStepA()</code>, therefore making the code even shorter and simpler to read.</p>\n\n<p>Another more peculiar but fun approach would be this (some might think that this is a good candidate for the IOCCC though, but still):</p>\n\n<pre><code>    !executeStepA() ? 0 :\n      !executeStepB() ? 0 :\n      !executeStepC() ? 0 :\n      !executeStepD() ? 0 : 1 ;\n\n    executeThisFunctionInAnyCase();\n</code></pre>\n\n<p>The result is exactly the same as if we did what the OP posted, i.e.:</p>\n\n<pre><code>    if(executeStepA()){\n        if(executeStepB()){\n            if(executeStepC()){\n                if(executeStepD()){\n                }\n            }\n        }\n    }\n\n    executeThisFunctionInAnyCase();\n</code></pre>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24718773, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>An alternative solution would be to define an idiom through macro hacks.  </p>\n\n<pre><code> #define block for(int block = 0; !block; block++)\n</code></pre>\n\n<p>Now, a \"block\" can be exited with <code>break</code>, in the same way as <code>for(;;)</code> and <code>while()</code> loops. Example:  </p>\n\n<pre><code>int main(void) {\n\n    block {\n       if (conditionA) {\n          // Do stuff A...\n          break; \n       }\n       if (conditionB) {\n          // Do stuff B...\n          break; \n       }\n       if (conditionC) {\n          // Do stuff C...\n          break; \n       }\n       else {\n         // Do default stuff...\n       }\n    } /* End of \"block\" statement */\n    /* ---&gt;   The \"break\" sentences jump here */\n\n    return 0;\n} \n</code></pre>\n\n<p>In despite of the \"for(;;)\" construction, the \"block\" statement is executed just once.<br>\nThis \"blocks\" are able to be exited with <code>break</code> sentences.<br>\nHence, the chains of <code>if else if else if...</code> sentences are avoided.<br>\nAt most, one lastly <code>else</code> can hang at the end of the \"block\", to handle \"default\" cases.  </p>\n\n<p>This technique is intended to avoid the typical and ugly <code>do { ... } while(0)</code> method.<br>\nIn the macro <code>block</code> it is defined a variable also named <code>block</code> defined in such a way that exactly 1 iteration of for is executed. According to the substitution rules for macros, the identifier <code>block</code> inside the definition of the macro <code>block</code> is not recursively replaced, therefore <code>block</code> becomes an identifier inaccesible to the programmer, but internally works well to control de \"hidden\" <code>for(;;)</code> loop.  </p>\n\n<p>Moreover: these \"blocks\" can be nested, since the hidden variable <code>int block</code> would have different scopes.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24719900, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>Conditions can be simplified if conditions are moved under individual steps, here's a c# pseudo code,</p>\n\n<p>the idea is to use a choreography instead of a central orchestration. </p>\n\n<pre><code>void Main()\n{\n    Request request = new Request();\n    Response response = null;\n\n    // enlist all the processors\n    var processors = new List&lt;IProcessor&gt;() {new StepA() };\n\n    var factory = new ProcessorFactory(processors);\n\n    // execute as a choreography rather as a central orchestration.\n    var processor = factory.Get(request, response);\n    while (processor != null)\n    {\n        processor.Handle(request, out response);\n        processor = factory.Get(request, response); \n    }\n\n    // final result...\n    //response\n}\n\npublic class Request\n{\n}\n\npublic class Response\n{\n}\n\npublic interface IProcessor\n{\n    bool CanProcess(Request request, Response response);\n    bool Handle(Request request, out Response response);\n}\n\npublic interface IProcessorFactory\n{\n    IProcessor Get(Request request, Response response);\n}   \n\npublic class ProcessorFactory : IProcessorFactory\n{\n    private readonly IEnumerable&lt;IProcessor&gt; processors;\n\n    public ProcessorFactory(IEnumerable&lt;IProcessor&gt; processors)\n    {\n        this.processors = processors;\n    }\n\n    public IProcessor Get(Request request, Response response)\n    {\n        // this is an iterator\n        var matchingProcessors = processors.Where(x =&gt; x.CanProcess(request, response)).ToArray();\n\n        if (!matchingProcessors.Any())\n        {\n            return null;\n        }\n\n        return matchingProcessors[0];\n    }\n}\n\n// Individual request processors, you will have many of these...\npublic class StepA: IProcessor\n{\n    public bool CanProcess(Request request, Response response)\n    {\n        // Validate wether this can be processed -- if condition here\n        return false;\n    }\n\n    public bool Handle(Request request, out Response response)\n    {\n        response = null;\n        return false;\n    }\n}\n</code></pre>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24729492, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>Why using OOP? in pseudocode:</p>\n\n<pre><code>abstract class Abstraction():\n   function executeStepA(){...};\n   function executeStepB(){...};   \n   function executeStepC(){...};\n   function executeThisFunctionInAnyCase(){....}\n   abstract function execute():\n\nclass A(Abstraction){\n   function execute(){\n      executeStepA();\n      executeStepB();\n      executeStepC();\n   }\n}\n class B(Abstraction){\n   function execute(){\n      executeStepA();\n      executeStepB();\n   }\n}\nclass C(Abstraction){\n     function execute(){\n       executeStepA();\n     }\n}\n</code></pre>\n\n<p>this way your if's dissapear</p>\n\n<pre><code>item.execute();\nitem.executeThisFunctionInAnyCase();\n</code></pre>\n\n<p>Usually, ifs can be avoided using OOP.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24732478, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}, {"body": "<p>Very simple.</p>\n\n<pre><code>if ((bool conditionA = executeStepA()) &amp;&amp; \n    (bool conditionB = executeStepB()) &amp;&amp;\n    (bool conditionC = executeStepC())) {\n   ...\n}\nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p>This will preserve the boolean variables conditionA, conditionB and conditionC as well.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "answer_id": 24732558, "question_id": 24430504, "tags": ["c++", "c", "if-statement", "control-flow"]}], "question_id": 24430504}, {"body": "<p>I need to run web.exe file from my developer command prompt for vs2013 .\nbut it wasn't installed by default in visual studio 2013 . why ?\nbefore I used visual studio 2012 and developer command prompt for vs2012 was installed by default with it .</p>\n\n<p>but why this command is not installed with visual studio 2013 by default ?\nand how can I reach to this command line ?</p>\n", "title": "Where is Developer Command Prompt for VS2013?", "tags": ["visual-studio", "visual-studio-2013"], "answer_count": 6, "link": "http://stackoverflow.com/questions/21476588/where-is-developer-command-prompt-for-vs2013", "answers": [{"body": "<p>For some reason, it doesn't properly add an icon when running Windows 8+. Here's how I solved it:</p>\n\n<p>Using Windows Explorer, navigate to:</p>\n\n<pre><code>C:\\ProgramData\\Microsoft\\Windows\\Start Menu\\Programs\\Visual Studio 2013\n</code></pre>\n\n<p>In that folder, you'll see a shortcut named <code>Visual Studio Tools</code> that maps to (assuming default installation):</p>\n\n<pre><code>C:\\Program Files (x86)\\Microsoft Visual Studio 12.0\\Common7\\Tools\\Shortcuts\n</code></pre>\n\n<p>Double-click the shortcut (or go to the folder above).</p>\n\n<p>From that folder, copy the shortcut named <code>Developer Command Prompt for VS2013</code> (and any others you find useful) to the first directory (for the <code>Start Menu</code>). You'll likely be prompted for administrative access (do so). </p>\n\n<p>Once you've done that, you'll now have an icon available for the 2013 command prompt.</p>\n", "title": "Where is Developer Command Prompt for VS2013?", "answer_id": 22702405, "question_id": 21476588, "tags": ["visual-studio", "visual-studio-2013"]}, {"body": "<p>From VS2013 Menu Select \"Tools\", then Select \"External Tools\". Enter as below:</p>\n\n<ul>\n<li><strong>Title</strong>: \"VS2013 Native Tools-Command Prompt\" would be good<br/></li>\n<li><strong>Command</strong>: <code>C:\\Windows\\System32\\cmd.exe</code><br/></li>\n<li><strong>Arguments</strong>: <code>/k \"C:\\Program Files (x86)\\Microsoft Visual Studio 12.0\\Common7\\Tools\\VsDevCmd.bat\"</code><br/></li>\n<li><strong>Initial Directory</strong>:  Select as suits your needs. <br/></li>\n</ul>\n\n<p>Click OK.\nNow you have command prompt access under the Tools Menu.</p>\n", "title": "Where is Developer Command Prompt for VS2013?", "answer_id": 22871532, "question_id": 21476588, "tags": ["visual-studio", "visual-studio-2013"]}, {"body": "<p>I used a modified version of <a href=\"http://stackoverflow.com/a/22871532/41153\">this answer</a> - based on my experiences adding it to VS 2010:</p>\n\n<ol>\n<li>Select <code>Tools</code> >> <code>External Tools</code> in Visual Studio</li>\n<li>Click <code>Add</code></li>\n<li>Title: I use <code>Visual Studio Command &amp;Prompt</code>\n<ul>\n<li><code>&amp;P</code> Makes P a alt-shortcut key (when menu active)</li>\n<li>I originally used C, but that conflicts with the existing shortcut for Customize</li>\n</ul></li>\n<li>Command: <code>C:\\Windows\\System32\\cmd.exe</code></li>\n<li>Arguments: <code>\\k \"C:\\Program Files (x86)\\Microsoft Visual Studio 12.0\\Common7\\Tools\\vsvars32.bat</code>\n<ul>\n<li><code>\\k</code> keeps a secondary session active so the window doesn\u2019t close on the .bat file</li>\n</ul></li>\n<li>Initial Directory:  I use <code>$(ProjectDir)</code> (from the dropdown)</li>\n<li>Click OK.</li>\n</ol>\n\n<p>Now you have command prompt access under the Tools Menu.</p>\n\n<p>See also: <a href=\"http://stackoverflow.com/a/4245337/41153\">Add command prompt to Visual C# Express 2010</a></p>\n", "title": "Where is Developer Command Prompt for VS2013?", "answer_id": 23111099, "question_id": 21476588, "tags": ["visual-studio", "visual-studio-2013"]}, {"body": "<p>Since any solution given so far will open the command prompt on the project folder, you would still have to navigate to the project's folder. If you are interested in getting the command prompt directly into the project's folder, here is my 2 steps:</p>\n\n<ol>\n<li>right-click in solution explorer on the project name (just under\nthe solution name) and choose the command \"Open Folder in File\nExplorer\"</li>\n<li>Once the Windows Explorer is open, just type in the\n    address bar \"cmd\" and then hit enter!</li>\n</ol>\n\n<p>Et voila! Hope that help,</p>\n\n<p>Marc </p>\n", "title": "Where is Developer Command Prompt for VS2013?", "answer_id": 26692494, "question_id": 21476588, "tags": ["visual-studio", "visual-studio-2013"]}, {"body": "<p>I don't know if this changed recently -- the answer given by Samuel did not apply to me even though that link seemed authoritative.</p>\n\n<p>A couple of things</p>\n\n<p>1) For some reason, the folder in the start menu is called <code>Visual Studio 2013</code>, and not <code>Microsoft Visual Studio 2013</code>.  Using the win8 apps interface you might see the 2010 entry <code>Microsoft Visual Studio 2010</code>, and since you don't see the new 2013 folder <code>Microsoft Visual Studio 2013</code> next to it, you assume it isn't there.   But it is..  Just a few page scrolls away..</p>\n\n<p>2) It seems the Windows 8 (or 8.1 at least) cannot display sub-folders.   I tried creating a folder underneath the <code>Visual Studio 2013</code> folder with shortcuts, and the entire folder just didn't show.</p>\n\n<p>3) Which is why what <em>is</em> installed is a shortcut.  Not sure what the windows 7 behavior is with a shortcut in the start menu, but the apps menu just displays it like a folder.  When you click on it, it brings you to the so-called missing shortcuts in explorer.</p>\n\n<p>Final solution:  under <code>C:\\ProgramData\\Microsoft\\Windows\\Start Menu\\Programs</code>, create a new folder called <code>Microsoft Visual Studio 2013</code>.  Copy the shortcuts from <code>C:\\Program Files (x86)\\Microsoft Visual Studio 12.0\\Common7\\Tools\\Shortcuts</code> to that new folder.  Then you'll have your icons using the windows 8 app interface under the heading which is the new folder name.</p>\n\n<p>You'll also be able to just start typing from the start screen <code>VS2013</code>, and the icons will now show up.</p>\n", "title": "Where is Developer Command Prompt for VS2013?", "answer_id": 28780053, "question_id": 21476588, "tags": ["visual-studio", "visual-studio-2013"]}, {"body": "<p><a href=\"http://i.stack.imgur.com/LngaK.png\"><img src=\"http://i.stack.imgur.com/LngaK.png\" alt=\"enter image description here\"></a></p>\n\n<p>You can simply go to Menu > All Programs > Visual Studio 2013. Select the folder link \"Visual Studio Tools\". This will open the folder. There is bunch of shortcuts for command prompt which you can use. They worked perfectly for me.</p>\n\n<p>I think the trick here might be there are different versions for different processors, hence they put them all together.</p>\n", "title": "Where is Developer Command Prompt for VS2013?", "answer_id": 33777931, "question_id": 21476588, "tags": ["visual-studio", "visual-studio-2013"]}], "question_id": 21476588}, {"body": "<p>I am using express 4.0 and I'm aware that body parser has been taken out of the express core, I am using the recommended replacement, however I am getting </p>\n\n<p><code>body-parser deprecated bodyParser: use individual json/urlencoded middlewares server.js:15:12\nbody-parser deprecated urlencoded: explicitly specify \"extended: true\" for extended parsing node_modules/body-parser/index.js:74:29</code></p>\n\n<p>Where do I find this supposed middlewares? or should I not be getting this error?</p>\n\n<pre><code>var express     = require('express');\nvar server      = express();\nvar bodyParser  = require('body-parser');\nvar mongoose    = require('mongoose');\nvar passport    = require('./config/passport');\nvar routes      = require('./routes');\n\nmongoose.connect('mongodb://localhost/myapp', function(err) {\n    if(err) throw err;\n});\n\nserver.set('view engine', 'jade');\nserver.set('views', __dirname + '/views');\n\nserver.use(bodyParser()); \nserver.use(passport.initialize());\n\n// Application Level Routes\nroutes(server, passport);\n\nserver.use(express.static(__dirname + '/public'));\n\nserver.listen(3000);\n</code></pre>\n", "title": "bodyParser is deprecated express 4", "tags": ["node.js", "express", "middleware"], "answer_count": 4, "link": "http://stackoverflow.com/questions/24330014/bodyparser-is-deprecated-express-4", "answers": [{"body": "<p>It means that using the <code>bodyParser()</code> <strong>constructor</strong> has been <a href=\"https://github.com/expressjs/body-parser/commit/b7420f8dc5c8b17a277c9e50d72bbaf3086a3900\">deprecated</a>,  as of 2014-06-19.</p>\n\n<pre><code>app.use(bodyParser()); //Now deprecated\n</code></pre>\n\n<p>You now need to call the methods separately</p>\n\n<pre><code>app.use(bodyParser.urlencoded());\n\napp.use(bodyParser.json());\n</code></pre>\n\n<p>And so on.</p>\n\n<p>If you're still getting a warning with <code>urlencoded</code> you need to use</p>\n\n<pre><code>app.use(bodyParser.urlencoded({\n  extended: true\n}));\n</code></pre>\n\n<p>The <code>extended</code> config object key now needs to be explicitly passed, since it now has no default value.</p>\n", "title": "bodyParser is deprecated express 4", "answer_id": 24330353, "question_id": 24330014, "tags": ["node.js", "express", "middleware"]}, {"body": "<p>Want <strong>zero warnings</strong>? Use it like this:</p>\n\n<pre><code>app.use(bodyParser.json());\napp.use(bodyParser.urlencoded({\n  extended: true\n}));\n</code></pre>\n\n<p><strong>Explanation</strong>: The default value of the <code>extended</code> option has been deprecated, meaning you need to explicitly pass true or false value.</p>\n", "title": "bodyParser is deprecated express 4", "answer_id": 24344756, "question_id": 24330014, "tags": ["node.js", "express", "middleware"]}, {"body": "<p>In older versions of express, we had to use:</p>\n\n<pre><code>app.use(express.bodyparser()); \n</code></pre>\n\n<p>because express was a middleware between node and \nbody-parser. Now we have to use it like:</p>\n\n<pre><code>app.use(bodyParser.urlencoded({ extended: false }));\napp.use(bodyParser.json());\n</code></pre>\n", "title": "bodyParser is deprecated express 4", "answer_id": 26967113, "question_id": 24330014, "tags": ["node.js", "express", "middleware"]}, {"body": "<p>I found that while adding</p>\n\n<pre><code>app.use(bodyParser.json());\napp.use(bodyParser.urlencoded({\n  extended: true\n}));\n</code></pre>\n\n<p>helps, sometimes it's a matter of your querying that determines how express handles it. </p>\n\n<p>For instance, it could be that your parameters are passed in the <strong>URL</strong> rather than in the body</p>\n\n<p>In such a case, you need to capture both the <strong>body</strong> and <strong>url</strong> parameters and use whichever is available (with preference for the body parameters in the case below)</p>\n\n<pre><code>app.route('/echo')\n    .all((req,res)=&gt;{\n        let pars = (Object.keys(req.body).length &gt; 0)?req.body:req.query;\n        res.send(pars);\n    });\n</code></pre>\n", "title": "bodyParser is deprecated express 4", "answer_id": 37286008, "question_id": 24330014, "tags": ["node.js", "express", "middleware"]}], "question_id": 24330014}, {"body": "<p>I'm running Windows 7 French and I'm trying to compile this really basic program, but Visual Studio is being stubborn and refuses to comply. I also tried compiling it with both GCC 4.7 and Clang trunk on <a href=\"http://coliru.stacked-crooked.net\">Coliru</a> and I get more or less the same errors (output is below the code), though I think Coliru runs on an English OS so I wouldn't expect it to work anyway.</p>\n\n<p>What am I doing wrong? And how can I fix it?</p>\n\n<h3>Code</h3>\n\n<pre><code>#inclure &lt;iostream&gt;\n\nent principal(ent argn, ent** argm)  // entier, nombre d'arguments, valeur des arguments\n{\n   std::cendehors &lt;&lt; \"Bonjour le monde!\\n\";\n   renvoi SORTIE_SUCC\u00c8S;\n}\n</code></pre>\n\n<h3>Output</h3>\n\n<pre><code>principal.cpp:1:6: erreur: pr\u00e9traitement de la directive invalide #inclure\n     #inclure &lt;iostream&gt;\n      ^\nprincipal.cpp:6:8: erreur: '\\303' \u00e9gar\u00e9 dans le programme\n        renvoi SORTIE_SUCC\u00c8S;\n        ^\nprincipal.cpp:6:8: erreur: '\\210' \u00e9gar\u00e9 dans le programme\nprincipal.cpp:3:5: erreur: \u00abent\u00bb ne d\u00e9signe pas un type\n     ent principal(ent argn, ent** argm)  // entier, nombre d'arguments, value des arguments\n     ^\n</code></pre>\n", "title": "Why can&#39;t my program compile under Windows 7 in French?", "tags": ["c++", "visual-studio-2013", "french"], "answer_count": 16, "link": "http://stackoverflow.com/questions/22780466/why-cant-my-program-compile-under-windows-7-in-french", "answers": [{"body": "<p>You cannot use French keywords in a C++ (or C) program. You should code</p>\n\n<pre><code> #include &lt;iostream&gt;\n //  ^^^  the english word \"include\" \n</code></pre>\n\n<p>and likewise</p>\n\n<pre><code> return EXIT_SUCCESS;\n</code></pre>\n\n<p>and of course code <code>int main(int argc, char**argv)</code>  etc...</p>\n\n<p><sup>(thanks for your April fool's joke!)</sup></p>\n", "title": "Why can&#39;t my program compile under Windows 7 in French?", "answer_id": 22780518, "question_id": 22780466, "tags": ["c++", "visual-studio-2013", "french"]}, {"body": "<p>first of all:</p>\n\n<pre><code>#inclure &lt;iostream&gt;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>#include &lt;iostream&gt;//typo error you have\n</code></pre>\n", "title": "Why can&#39;t my program compile under Windows 7 in French?", "answer_id": 22780519, "question_id": 22780466, "tags": ["c++", "visual-studio-2013", "french"]}, {"body": "<p>The problem is obviously that you are including the wrong standard header:</p>\n\n<pre><code>#inclure &lt;iostream&gt;\n</code></pre>\n\n<p>should be:</p>\n\n<pre><code>#inclure &lt;fluxes&gt;\n</code></pre>\n\n<p>Also, you'll find that this works much better is you use Studio Visuel Micromou  or the CCG (stands for \"Collection de Compilateurs GPU\", btw) tools, rather than their more common MVS or GCC relatives.</p>\n", "title": "Why can&#39;t my program compile under Windows 7 in French?", "answer_id": 22780662, "question_id": 22780466, "tags": ["c++", "visual-studio-2013", "french"]}, {"body": "<p>You probably need to install the French language pack for C++11. If you can't find it, try <a href=\"http://www.bing.com/translator\">http://www.bing.com/translator</a>.</p>\n", "title": "Why can&#39;t my program compile under Windows 7 in French?", "answer_id": 22780872, "question_id": 22780466, "tags": ["c++", "visual-studio-2013", "french"]}, {"body": "<p>Seems you forgot to install the <code>FrenChPP++</code> package. After a successful installation (you will need to compile <code>FrenChPP++</code> on a standard c++ compiler if there are no binary packages for your system (we at the Unauthorized Frog recommend using g++ for this, but feel free to use clang too, but ignore the warnings)) you will need to create a new project, and just copy paste this into the newly created <code>principal.fcpp</code> file. Then upon execution the <code>FrenChPP++</code> precompiler (which works very similarly to the way Qt handles its signals/slot mechanism) will parse all <code>.fcpp</code> files and will \"translate\" the <code>.fcpp</code> into valid <code>.cpp</code> and then compile them using your system default compiler.</p>\n", "title": "Why can&#39;t my program compile under Windows 7 in French?", "answer_id": 22781183, "question_id": 22780466, "tags": ["c++", "visual-studio-2013", "french"]}, {"body": "<p>Hello <em>L\u00e9g\u00e8ret\u00e9 fait la course en orbite</em>,</p>\n\n<p>I'd like to emphasize that even though you follow all the answers given here, your program still won't compile because of your punctuation. Semicolons are preceded by a non-breaking space in French.</p>\n\n<p>I would recommend the following:</p>\n\n<pre><code>#inclure &lt;esflux&gt;\n\nent principal(ent narg, cara** marg)  // entier, nombre d'arguments, valeur des arguments\n{\n   std::cendehors &lt;&lt; \"Bonjour le monde\u00a0!\\n\"\u00a0;\n   renvoyer SORTIE_SUCC\u00c8S\u00a0;\n}\n</code></pre>\n\n<p>Please notice I changed <code>argn</code> to <code>narg</code>, as it is more natural in French (nothing to do with hungarian notations though)!</p>\n\n<p>Edit: followed angew's recommendation</p>\n", "title": "Why can&#39;t my program compile under Windows 7 in French?", "answer_id": 22781414, "question_id": 22780466, "tags": ["c++", "visual-studio-2013", "french"]}, {"body": "<ol>\n<li><p>You have a semantic error - the second argument of the entry function should be of type <code>cara**</code>, not <code>ent**</code>:</p>\n\n<pre><code>ent principal(ent argn, cara** argm)\n</code></pre></li>\n<li><p>For the <code>&lt;iostream&gt;</code> error, @MartinJ. already correctly pointed out you should be using <code>&lt;esflux&gt;</code> instead.</p></li>\n<li><p>Regarding the other errors, it seems your compiler is simply on strike. This can happen occasionally when compiling french code, and should fix itself in a few days.</p></li>\n</ol>\n", "title": "Why can&#39;t my program compile under Windows 7 in French?", "answer_id": 22781423, "question_id": 22780466, "tags": ["c++", "visual-studio-2013", "french"]}, {"body": "<blockquote>\n  <p>I'm trying to compile this really <strong>basic program</strong>.</p>\n</blockquote>\n\n<p>This is not a BASIC program, so Visual Studio does not know what to do with it.</p>\n\n<p>In addition, on a French system, you need to pass a programme to the compiler.</p>\n", "title": "Why can&#39;t my program compile under Windows 7 in French?", "answer_id": 22784280, "question_id": 22780466, "tags": ["c++", "visual-studio-2013", "french"]}, {"body": "<p>Pretty much everything's been covered in the previous answers, but if I may add:</p>\n\n<pre><code>renvoyer SORTIE_SUCC\u00c8S ; // correct, but bad pratice\n</code></pre>\n\n<p>this is <em>certes</em> allowed, but the following is usually preferred:</p>\n\n<pre><code>capitulation ; // a better, frenchier approach\n</code></pre>\n", "title": "Why can&#39;t my program compile under Windows 7 in French?", "answer_id": 22786932, "question_id": 22780466, "tags": ["c++", "visual-studio-2013", "french"]}, {"body": "<p>You need to reference the french pre-processor :</p>\n\n<pre><code>#inclure &lt;Montebourg&gt;\n</code></pre>\n\n<p>hummm... too late, it is deprecated. The new release will be available this week.</p>\n", "title": "Why can&#39;t my program compile under Windows 7 in French?", "answer_id": 22787442, "question_id": 22780466, "tags": ["c++", "visual-studio-2013", "french"]}, {"body": "<p>I realize this doesn't apply to this particular situation, but it's important to keep in mind the gender of your objects when programming in French.  There are 2 types of classes (<code>genre</code>) <code>genre::masculins</code> and <code>genre::f\u00e9minin</code></p>\n\n<p>For instance:</p>\n\n<pre><code>genre::masculins Hommes {}\ngenre::f\u00e9minin Femme {}\n</code></pre>\n\n<p>Furthermore, when passing <code>this</code> to another function the function call is prefixed with the parameter list rather than suffixed:</p>\n\n<pre><code>genre::masculins Croissant {\n    nul nourrir(Hommes hommes) {\n        hommes.(ce)manger ;\n    }\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>genre::f\u00e9minin Grenouille {\n    nul nourrir(Hommes hommes) {\n        hommes.(cette)manger;\n    }\n}\n</code></pre>\n\n<p>For further reference: <a href=\"http://en.wikipedia.org/wiki/Word_order#Finding_the_basic_constituent_of_word_order_and_mode_of_transmission\" rel=\"nofollow\">Wikipedia Word Order</a></p>\n", "title": "Why can&#39;t my program compile under Windows 7 in French?", "answer_id": 22788449, "question_id": 22780466, "tags": ["c++", "visual-studio-2013", "french"]}, {"body": "<p>What if you retry after lunch hours (12-2 pm) ? Also, if you get more then one processors, they may be on strike. You can get your proc back however with this (French) Windows 7 command:</p>\n\n<pre><code>set max-working-hours-a-week = 35\n</code></pre>\n\n<p>Repeat when you're stuck (but don't forget to lower the number each time!).</p>\n", "title": "Why can&#39;t my program compile under Windows 7 in French?", "answer_id": 22789656, "question_id": 22780466, "tags": ["c++", "visual-studio-2013", "french"]}, {"body": "<p>Firstly, you need to</p>\n\n<pre><code>#inclure &lt;clibstd&gt;\n</code></pre>\n\n<p>before you're able to use SORTIE_SUCC\u00c8S constant.</p>\n\n<p>Another problem with your C++ code is that you've forgotten to use std::lend and instead used '\\n' in your output string - it won't work in French code, obviously, only code written in English and Russian is allowed to do that.</p>\n\n<p>Even more, you used wrong indentation (GCC on French requires tabs instead of spaces) and brace placement (you need to place braces on the same line whenever possible, no spaces between them allowed); keeping them unchanged will generate \"vous ne connaissez pas votre tabulation, Jacques\" and \"pas assez d'amour entre accolades\" runtime errors in your code.</p>\n\n<p>After I changed those lines, the code successfully compiled. It still hasn't run, probably for the reasons specified <a href=\"http://stackoverflow.com/questions/22780466/why-cant-my-program-compile-under-windows-7-in-french/22789656#22789656\">here</a>.</p>\n\n<p>Snippet: <a href=\"http://ideone.fr/sQbL6E\" rel=\"nofollow\">http://ideone.fr/sQbL6E</a></p>\n", "title": "Why can&#39;t my program compile under Windows 7 in French?", "answer_id": 22791620, "question_id": 22780466, "tags": ["c++", "visual-studio-2013", "french"]}, {"body": "<p>There are so many errors in your code, most of them have already been adressed in the other answers. But don't you know that the creators of <code>C++</code> designed it so that program source code doesn't get obverly long when translated?</p>\n\n<p>It's not <code>std::cendehors</code>, but <code>std::deh</code> (short for <em>dehors</em>) as <code>std::cin</code> translates to <code>std::ded</code> (for <em>dedans</em>). </p>\n\n<p>Also note there used to be compilers that didn't automatically flush on <code>\\n</code>, so it's better to use <code>std::findl</code> (<em>fin de ligne</em>). So it should be like this:</p>\n\n<pre><code>   std::deh &lt;&lt; \"Bonjour le monde!\" &lt;&lt; std::findl; \n</code></pre>\n\n<p>EDIT: Sorry, I didn't spot another mistake. The correct form of course is using guillemets like this:</p>\n\n<pre><code>   std::deh &lt;&lt; \u00abBonjour le monde!\u00bb &lt;&lt; std::findl; \n</code></pre>\n", "title": "Why can&#39;t my program compile under Windows 7 in French?", "answer_id": 22792571, "question_id": 22780466, "tags": ["c++", "visual-studio-2013", "french"]}, {"body": "<p><a href=\"http://meta.stackexchange.com/questions/19478/the-many-memes-of-meta/221414#221414\">Many problems are due to caching</a>, but yours is one of <a href=\"http://skeptics.stackexchange.com/questions/19836/has-phil-karlton-ever-said-there-are-only-two-hard-things-in-computer-science\">the other kind of hard problems</a>: naming things. Yes, localization is hard.</p>\n\n<p>You didn't mention which variant of French you're using, but from the error message, I think you're using \u201cFrench (France)\u201d (what we users of civilized OSes call <code>fr_FR</code>). MS's <code>fr_FR</code> locale behaves in a very weird way: uppercase accented letters are mapped to their unaccented counterpart (for backward compatibility with some typewriter models). So you need to write <code>SORTIE_SUCCES</code> instead of <code>SORTIE_SUCC\u00c8S</code>.</p>\n\n<p><a href=\"http://superuser.com/questions/589760/preserving-accented-letters-in-small-caps-in-french-in-word/589761#589761\">A workaround is to use the \u201cFrench (Monaco)\u201d (<code>fr_MC</code>) language</a>, where uppercase accented letters work as expected. Unfortunately, the Monaco version of the compiler is very very expensive. You could also use the Canadian French, Belgian French or Swiss French version, but these all require that you submit a bilingual (<code>fr_CA</code> + <code>en_CA</code>), trilingual (<code>fr_BE</code> +  <code>nl_BE</code> + <code>de_BE</code>) or quadrilingual (<code>fr_CH</code> + <code>it_CH</code> + <code>de_CH</code> + <code>rm_CH</code>) source file. African variants of French are out because they are too poor to afford a C++ compiler, however you could use C instead.</p>\n\n<p>Then there are other syntax errors in your program:</p>\n\n<ul>\n<li>You forgot to translate some keywords.</li>\n<li>Beware that the compiler and the documentation don't always use the same translation for the same word.</li>\n<li>You didn't account for the fact that adjectives come after the noun in French.</li>\n<li>You're using the wrong type of quotes.</li>\n</ul>\n\n<p>I wollun tried the following code in the C++ compiler included in \u00c9maxe 51,70, and it wollun worked:</p>\n\n<pre><code>#inclure &lt;fluxes&gt;\n\nprincipal ent(argn ent, argm **ent)  // entier, nombre d'arguments, valeur des arguments\n{\n   norme::sortiec &lt;&lt; \u00ab\u00a0Bonjour \u00e0 tout le monde\u00a0!\\n\u00a0\u00bb\u00a0;\n   retourner SORTIE_SUCC\u00c8S\u00a0;\n}\n</code></pre>\n\n<p>Some languages have better internationalization support than C++. For example, here's a program in <a href=\"http://fr.wikipedia.org/wiki/Logo_%28langage%29\" rel=\"nofollow\">LOGO</a> (not to be confused with <a href=\"http://en.wikipedia.org/wiki/Logo_%28programming_language%29\" rel=\"nofollow\">LOGO</a> of course).</p>\n\n<pre><code>pour exemple\n  r\u00e9p\u00e8te 18 [av 5 td 10]\n  td 60\n  r\u00e9p\u00e8te 18 [av 5 td 10]\nfin\n</code></pre>\n", "title": "Why can&#39;t my program compile under Windows 7 in French?", "answer_id": 22793957, "question_id": 22780466, "tags": ["c++", "visual-studio-2013", "french"]}, {"body": "<p>Since Mr. George Bush banned French Fries in favour of the tastier Liberty Fries (and the less-tasty but equally patriotic Freedom Fries), other American corporations are also removing support for French in their products.</p>\n\n<p>You need to use a pre-2003 compiler, or send a mail to <a href=\"http://www.whitehouse.gov/contact/submit-questions-and-comments\" rel=\"nofollow\">http://www.whitehouse.gov/contact/submit-questions-and-comments</a> to ask if they plan to revert the situation soon.</p>\n", "title": "Why can&#39;t my program compile under Windows 7 in French?", "answer_id": 22797763, "question_id": 22780466, "tags": ["c++", "visual-studio-2013", "french"]}], "question_id": 22780466}, {"body": "<p>Apple's website claims that the resolution is 1080p: 1920 x 1080</p>\n\n<p>However, the launch screen required by Xcode (8.0 GM launched today) is 2208 x 1242.</p>\n\n<p>Who's right?</p>\n\n<p><img src=\"http://i.stack.imgur.com/Sx7Ig.png\" alt=\"Xcode\"></p>\n", "title": "iPhone 6 Plus resolution confusion: Xcode or Apple&#39;s website? for development", "tags": ["ios", "xcode", "ios-simulator", "iphone-6", "iphone-6-plus"], "answer_count": 8, "link": "http://stackoverflow.com/questions/25755443/iphone-6-plus-resolution-confusion-xcode-or-apples-website-for-development", "answers": [{"body": "<p>The iPhone 6+ renders internally using <em>@3x</em> assets at a virtual resolution of <em>2208\u00d71242</em> (with <em>736x414</em> points), then samples that down for display. The same as using a scaled resolution on a Retina MacBook \u2014 it lets them hit an integral multiple for pixel assets while still having e.g. 12&nbsp;pt text look the same size on the screen.</p>\n\n<p>So, yes, the launch screens need to be that size.</p>\n\n<h3>The maths:</h3>\n\n<p>The 6, the 5s, the 5, the 4s and the 4 are all 326 pixels per inch, and use @2x assets to stick to the approximately 160 points per inch of all previous devices.</p>\n\n<p>The 6+ is 401 pixels per inch. So it'd hypothetically need roughly @2.46x assets. Instead Apple uses @3x assets and scales the complete output down to about 84% of its natural size.</p>\n\n<p>In practice Apple has decided to go with more like 87%, turning the 1080 into 1242. No doubt that was to find something as close as possible to 84% that still produced integral sizes in both directions \u2014 1242/1080 = 2208/1920 exactly, whereas if you'd turned the 1080 into, say, 1286, you'd somehow need to render 2286.22 pixels vertically to scale well.</p>\n", "title": "iPhone 6 Plus resolution confusion: Xcode or Apple&#39;s website? for development", "answer_id": 25755640, "question_id": 25755443, "tags": ["ios", "xcode", "ios-simulator", "iphone-6", "iphone-6-plus"]}, {"body": "<p>The answer is that older apps run in 2208 x 1242 Zoomed Mode. But when an app is built for the new phones the resolutions available are: <strong>Retina HD 5.5</strong> (<strong>iPhone 6 Plus</strong>) <strong>1242 x 2208</strong> and <strong>Retina HD 4.7</strong> (<strong>iPhone 6</strong>) <strong>750 x 1334</strong>. This is causing the confusion mentioned in the question. To build apps that use the full screen size of the new phones add LaunchImages in the sizes: 1242 x 2208, 2208 x 1242 and 750 x 1334.</p>\n\n<p>Size for <strong>iPhone 6 Plus</strong> and <strong>iPhone 6S Plus</strong> with @3x scaling (Apple name: <strong>Retina HD 5.5</strong>), coordinate space: <strong>414 x 736</strong> points and <strong>1242 x 2208</strong> pixels, 401&nbsp;ppi, screen physical size is 2.7 x 4.8 in or <strong>68 x 122&nbsp;mm</strong>. When running in Zoomed Mode, i.e. without the new LaunchImages or choosen in Setup on iPhone 6 Plus, the native scale is 2.88 and the screen is 320 x 568 points, which is the iPhone 5 native size:</p>\n\n<pre><code>Screen bounds: {{0, 0}, {414, 736}}, Screen resolution: &lt;UIScreen: 0x7f97fad330b0; bounds = {{0, 0}, {414, 736}};\nmode = &lt;UIScreenMode: 0x7f97fae1ce00; size = 1242.000000 x 2208.000000&gt;&gt;, scale: 3.000000, nativeScale: 3.000000\n</code></pre>\n\n<hr>\n\n<p>Size for <strong>iPhone 6</strong> and <strong>iPhone 6S</strong> with @2x scaling (Apple name: <strong>Retina HD 4.7</strong>), coordinate space: <strong>375 x 667</strong> points and <strong>750 x 1334</strong> pixels, 326&nbsp;ppi, screen physical size is 2.3 x 4.1&nbsp;in or <strong>58 x 104&nbsp;mm</strong>. When running in Zoomed Mode, i.e. without the new LaunchImages, the screen is 320 x 568 points, which is the iPhone 5 native size:</p>\n\n<pre><code>Screen bounds: {{0, 0}, {375, 667}}, Screen resolution: &lt;UIScreen: 0x7fa01b5182d0; bounds = {{0, 0}, {375, 667}};\nmode = &lt;UIScreenMode: 0x7fa01b711760; size = 750.000000 x 1334.000000&gt;&gt;, scale: 2.000000, nativeScale: 2.000000\n</code></pre>\n\n<p>And <strong>iPhone 5</strong> for comparison is 640 x 1136, <strong>iPhone 4</strong> 640 x 960.</p>\n\n<hr>\n\n<p>Here is the code I used to check this out (note that nativeScale only runs on iOS&nbsp;8):</p>\n\n<pre><code>UIScreen *mainScreen = [UIScreen mainScreen];\nNSLog(@\"Screen bounds: %@, Screen resolution: %@, scale: %f, nativeScale: %f\",\n          NSStringFromCGRect(mainScreen.bounds), mainScreen.coordinateSpace, mainScreen.scale, mainScreen.nativeScale);\n</code></pre>\n\n<p><strong>Note: Upload LaunchImages otherwise the app will run in Zoomed Mode and not show the correct scaling, or screen sizes. In Zoomed Mode the <code>nativeScale</code> and <code>scale</code> will not be the same.</strong> On an actual device the scale can be 2.608 on the iPhone 6 Plus, even when it is not running in Zoomed Mode, but it will show scale of 3.0 when running on the simulator.</p>\n\n<p><img src=\"http://i.stack.imgur.com/ANau4.jpg\" alt=\"Comparing iPhone 6 and 6 Plus\"></p>\n", "title": "iPhone 6 Plus resolution confusion: Xcode or Apple&#39;s website? for development", "answer_id": 25755757, "question_id": 25755443, "tags": ["ios", "xcode", "ios-simulator", "iphone-6", "iphone-6-plus"]}, {"body": "<p>On the physical device, iPhone 6 Plus's main screen's bounds is <strong><em>2208x1242</em></strong> and nativeBounds is <strong><em>1920x1080</em></strong>.  There is hardware scaling involved to resize to the physical display.</p>\n\n<p>On the simulator, the iPhone 6 Plus's main screen's bounds and nativeBounds are both 2208x1242.</p>\n\n<p>In other words...  Videos, OpenGL, and other things based on <code>CALayers</code> that deal with pixels will deal with the real <strong><em>1920x1080</em></strong> frame buffer on device (or <strong><em>2208x1242</em></strong> on sim). Things dealing with points in <code>UIKit</code> will be deal with the <strong><em>2208x1242</em></strong> (x3) bounds and get scaled as appropriate on device.</p>\n\n<p>The simulator does not have access to the same hardware that is doing the scaling on device and there's not really much of a benefit to simulating it in software as they'd produce different results than the hardware. Thus it makes sense to set the <code>nativeBounds</code> of a simulated device's main screen to the bounds of the physical device's main screen.</p>\n\n<p>iOS 8 added API to <code>UIScreen</code> (<code>nativeScale</code> and <code>nativeBounds</code>) to let a developer determine the resolution of the <code>CADisplay</code> corresponding to the <code>UIScreen</code>.</p>\n", "title": "iPhone 6 Plus resolution confusion: Xcode or Apple&#39;s website? for development", "answer_id": 25758523, "question_id": 25755443, "tags": ["ios", "xcode", "ios-simulator", "iphone-6", "iphone-6-plus"]}, {"body": "<p>Even if I don't generally like the tone of John Gruber's Daring Fireball blog, his <a href=\"http://daringfireball.net/2014/08/larger_iphone_display_conjecture\">Larger iPhone Display Conjecture</a> is well worth the read.</p>\n\n<p>He guessed but got <strong>exactly</strong> right both the resolution in points and in pixels for both models, except that he did not (me neither) expect Apple to build a smaller resolution physical display and scale down (details are in @Tommy's answer).</p>\n\n<p>The gist of it all is that one should stop thinking in terms of pixels and start thinking in terms of points (this has been the case for quite some time, it's not a recent invention) and resulting physical size of UI elements. In short, both new iPhone models improve in this regard as physically most elements remain the same size, you can just fit more of them on the screen (for each bigger screen you can fit more).</p>\n\n<p>I'm just slightly disappointed they haven't kept mapping of internal resolution to actual screen resolution 1:1 for the bigger model.</p>\n", "title": "iPhone 6 Plus resolution confusion: Xcode or Apple&#39;s website? for development", "answer_id": 25760769, "question_id": 25755443, "tags": ["ios", "xcode", "ios-simulator", "iphone-6", "iphone-6-plus"]}, {"body": "<p>You should probably stop using launch images in iOS 8 and use a storyboard or nib/xib. </p>\n\n<ul>\n<li><p>In <em>Xcode 6</em>, open the <code>File</code> menu and choose <code>New</code> \u27f6 <code>File...</code> \u27f6 <code>iOS</code> \u27f6 <code>User Interface</code> \u27f6 <code>Launch Screen</code>. </p></li>\n<li><p>Then open the <strong>settings</strong> for your project by clicking on it. </p></li>\n<li><p>In the <code>General</code> tab, in the section called <code>App Icons and Launch Images</code>, set the <code>Launch Screen File</code> to the files you just created (this will set <code>UILaunchStoryboardName</code> in <code>info.plist</code>).</p></li>\n</ul>\n\n<p>Note that for the time being the simulator will only show a black screen, so you need to <strong>test on a real device</strong>.</p>\n\n<p>Adding a Launch Screen xib file to your project:</p>\n\n<p><img src=\"http://i.stack.imgur.com/DMbdY.png\" alt=\"Adding a new Launch Screen xib file\"></p>\n\n<p>Configuring your project to use the Launch Screen xib file instead of the Asset Catalog:</p>\n\n<p><img src=\"http://i.stack.imgur.com/TktZk.png\" alt=\"Configure project to use Launch Screen xob\"></p>\n", "title": "iPhone 6 Plus resolution confusion: Xcode or Apple&#39;s website? for development", "answer_id": 25763870, "question_id": 25755443, "tags": ["ios", "xcode", "ios-simulator", "iphone-6", "iphone-6-plus"]}, {"body": "<p>Check out this infographic: <a href=\"http://www.paintcodeapp.com/news/iphone-6-screens-demystified\">http://www.paintcodeapp.com/news/iphone-6-screens-demystified</a> </p>\n\n<p>It explains the differences between old iPhones, iPhone 6 and iPhone 6 Plus. You can see comparison of screen sizes in points, rendered pixels and physical pixels. You will also find answer to your question there:</p>\n\n<blockquote>\n  <p>iPhone 6 Plus - with Retina display HD. Scaling factor is 3 and the image is afterwards downscaled from rendered 2208 \u00d7 1242 pixels to 1920 \u00d7 1080 pixels. </p>\n  \n  <p>The downscaling ratio is 1920 / 2208 = 1080 / 1242 = 20 / 23. That means every 23 pixels from the original render have to be mapped to 20 physical pixels. In other words the image is scaled down to approximately 87% of its original size.</p>\n</blockquote>\n\n<p><strong>Update:</strong></p>\n\n<p>There is an updated version of infographic mentioned above. It contains more detailed info about screen resolution differences and it covers all iPhone models so far, including 4 inch devices.</p>\n\n<p><a href=\"http://www.paintcodeapp.com/news/ultimate-guide-to-iphone-resolutions\">http://www.paintcodeapp.com/news/ultimate-guide-to-iphone-resolutions</a></p>\n", "title": "iPhone 6 Plus resolution confusion: Xcode or Apple&#39;s website? for development", "answer_id": 25804728, "question_id": 25755443, "tags": ["ios", "xcode", "ios-simulator", "iphone-6", "iphone-6-plus"]}, {"body": "<p>Real/physical iPhone 6 Plus resolution is 1920x1080 but in Xcode you make your interface for 2208x1242 resolution (736x414 points) and on device it is automatically scaled down to 1920x1080 pixels.</p>\n\n<p>iPhone resolutions quick reference:</p>\n\n<pre><code>Device          Points    Pixels     Scale  Physical Pixels   Physical PPI  Size\niPhone 6 Plus   736x414   2208x1242  3x     1920x1080         401           5.5\"\niPhone 6        667x375   1334x750   2x     1334x750          326           4.7\"\niPhone 5        568x320   1136x640   2x     1136x640          326           4.0\"\niPhone 4        480x320   960x640    2x     960x640           326           3.5\"\niPhone 3GS      480x320   480x320    1x     480x320           163           3.5\"\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/0Zhqr.png\" alt=\"iPhone resolutions\"></p>\n", "title": "iPhone 6 Plus resolution confusion: Xcode or Apple&#39;s website? for development", "answer_id": 26002000, "question_id": 25755443, "tags": ["ios", "xcode", "ios-simulator", "iphone-6", "iphone-6-plus"]}, {"body": "<p>For those like me who wonder how legacy apps are treated, I did a bit of testing and computation on the subject.</p>\n\n<p>Thanks to @hannes-sverrisson hint, I started on the assumption that a legacy app is treated with a 320x568 view in iPhone 6 and iPhone 6 plus.</p>\n\n<p>The test was made with a simple black background <code>bg@2x.png</code> with a white border. The background has a size of 640x1136 pixels, and it is black with an inner white border of 1&nbsp;pixel.</p>\n\n<p>Below are the screenshots provided by the simulator:</p>\n\n<ul>\n<li>iPhone 5 simulator : <a href=\"http://i.stack.imgur.com/b2E5K.png\">http://i.stack.imgur.com/b2E5K.png</a></li>\n<li>iPhone 6 simulator : <a href=\"http://i.stack.imgur.com/4Qz8N.png\">http://i.stack.imgur.com/4Qz8N.png</a></li>\n<li>iPhone 6 plus simulator : <a href=\"http://i.stack.imgur.com/hQisc.png\">http://i.stack.imgur.com/hQisc.png</a></li>\n</ul>\n\n<p>On the iPhone 6 screenshot, we can see a 1&nbsp;pixel margin on top and bottom of the white border, and a 2&nbsp;pixel margin on the iPhone 6 plus screenshot. This gives us a <strong>used</strong> space of 1242x2204 on iPhone 6 plus, instead of 1242x2208, and 750x1332 on the iPhone 6, instead of 750x1334.</p>\n\n<p>We can assume that those dead pixels are meant to respect the iPhone 5 aspect ratio:</p>\n\n<pre><code>iPhone 5               640 / 1136 = 0.5634\niPhone 6 (used)        750 / 1332 = 0.5631\niPhone 6 (real)        750 / 1334 = 0.5622\niPhone 6 plus (used)  1242 / 2204 = 0.5635\niPhone 6 plus (real)  1242 / 2208 = 0.5625\n</code></pre>\n\n<p>Second, it is important to know that @2x resources will be scaled not only on iPhone 6 plus (which expects @3x assets), but also on iPhone 6. This is probably because not scaling the resources would have led to unexpected layouts, due to the enlargement of the view.</p>\n\n<p>However, that scaling is not equivalent in width and height. I tried it with a 264x264 @2x resource. Given the results, I have to assume that the scaling is directly proportional to the pixels / points ratio.</p>\n\n<pre><code>Device         Width scale             Computed width   Screenshot width\niPhone 5        640 /  640 = 1.0                        264 px\niPhone 6        750 /  640 = 1.171875  309.375          309 px\niPhone 6 plus  1242 /  640 = 1.940625  512.325          512 px\n\nDevice         Height scale            Computed height  Screenshot height\niPhone 5       1136 / 1136 = 1.0                        264 px\niPhone 6       1332 / 1136 = 1.172535  309.549          310 px\niPhone 6 plus  2204 / 1136 = 1.940141  512.197          512 px\n</code></pre>\n\n<p>It's important to note the iPhone 6 scaling is <strong>not the same in width and height</strong> (309x310). This tends to confirm the above theory that scaling is not proportional in width and height, but uses the pixels / points ratio.</p>\n\n<p>I hope this helps.</p>\n", "title": "iPhone 6 Plus resolution confusion: Xcode or Apple&#39;s website? for development", "answer_id": 26164091, "question_id": 25755443, "tags": ["ios", "xcode", "ios-simulator", "iphone-6", "iphone-6-plus"]}], "question_id": 25755443}, {"body": "<p>I'm using Android Studio and when I add <code>compile \"com.android.support:appcompat-v7:21.0.0\"\n</code> to my Gradle file, I'm getting a ton of errors:</p>\n\n<pre><code>C:\\Users\\WindowsSucks\\AndroidStudioProjects\\MMMeds\\app\\build\\intermediates\\exploded-aar\\com.android.support\\appcompat-v7\\21.0.0\\res\\values-v11\\values.xml\nError:(36, 21) No resource found that matches the given name: attr 'android:actionModeShareDrawable'.\nError:(36, 21) No resource found that matches the given name: attr 'android:actionModeShareDrawable'.\nError:(36, 21) No resource found that matches the given name: attr 'android:actionModeShareDrawable'.\nError:(36, 21) No resource found that matches the given name: attr 'android:actionModeShareDrawable'.\nC:\\Users\\WindowsSucks\\AndroidStudioProjects\\MMMeds\\app\\build\\intermediates\\exploded-aar\\com.android.support\\appcompat-v7\\21.0.0\\res\\values-v14\\values.xml\nError:(9, 21) No resource found that matches the given name: attr 'android:actionModeShareDrawable'.\nError:(9, 21) No resource found that matches the given name: attr 'android:actionModeShareDrawable'.\nError:(9, 21) No resource found that matches the given name: attr 'android:actionModeShareDrawable'.\nError:(9, 21) No resource found that matches the given name: attr 'android:actionModeShareDrawable'.\nC:\\Users\\WindowsSucks\\AndroidStudioProjects\\MMMeds\\app\\build\\intermediates\\exploded-aar\\com.android.support\\appcompat-v7\\21.0.0\\res\\values-v21\\values.xml\nError:Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Material'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Material.Body1'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Material.Body2'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Material.Button'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Material.Caption'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Material.Display1'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Material.Display2'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Material.Display3'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Material.Display4'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Material.Headline'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Material.Inverse'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Material.Large'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Material.Large.Inverse'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Material.Widget.PopupMenu.Large'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Material.Widget.PopupMenu.Small'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Material.Medium'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Material.Medium.Inverse'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Material.Menu'.\nError:Error retrieving parent for item: No resource found that matches the given name '@android:TextAppearance.Material.SearchResult.Subtitle'.\nError:Error retrieving parent for item: No resource found that matches the given name '@android:TextAppearance.Material.SearchResult.Title'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Material.Small'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Material.Small.Inverse'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Material.Subhead'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Material.Title'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Material.Widget.ActionBar.Menu'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Material.Widget.ActionBar.Subtitle'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Material.Widget.ActionBar.Subtitle.Inverse'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Material.Widget.ActionBar.Title'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Material.Widget.ActionBar.Title.Inverse'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Material.Widget.ActionMode.Subtitle'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Material.Widget.ActionMode.Title'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Material.Widget.PopupMenu.Large'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Material.Widget.PopupMenu.Small'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Material.Button'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Material.Widget.ActionBar.Subtitle'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Material.Widget.ActionBar.Title'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:ThemeOverlay.Material'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:ThemeOverlay.Material.ActionBar'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:ThemeOverlay.Material.Dark'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:ThemeOverlay.Material.Dark.ActionBar'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:ThemeOverlay.Material.Light'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Material.ActionBar.TabText'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Material.ActionBar.TabView'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Material.ActionButton'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Material.ActionButton.CloseMode'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Material.ActionButton.Overflow'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Material.AutoCompleteTextView'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Material.DropDownItem.Spinner'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Material.Light.ActionBar.TabText'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Material.Light.ActionBar.TabText'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Material.Light.ActionBar.TabView'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Material.AutoCompleteTextView'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Material.Light.PopupMenu'.\nError:(298, 21) No resource found that matches the given name: attr 'android:overlapAnchor'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Material.ListPopupWindow'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Material.ListView.DropDown'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Material.ListView'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Material.PopupMenu'.\nError:(298, 21) No resource found that matches the given name: attr 'android:overlapAnchor'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Material.ProgressBar'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Material.ProgressBar.Horizontal'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Material.Spinner'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Material.Spinner'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Material.Toolbar.Button.Navigation'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:Theme.Material'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:Theme.Material.Dialog'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:Theme.Material.Light'.\nError:Error retrieving parent for item: No resource found that matches the given name 'android:Theme.Material.Light.Dialog'.\nError:(144, 21) No resource found that matches the given name: attr 'android:colorAccent'.\nError:(146, 21) No resource found that matches the given name: attr 'android:colorControlActivated'.\nError:(147, 21) No resource found that matches the given name: attr 'android:colorControlHighlight'.\nError:(145, 21) No resource found that matches the given name: attr 'android:colorControlNormal'.\nError:(142, 21) No resource found that matches the given name: attr 'android:colorPrimary'.\nError:(143, 21) No resource found that matches the given name: attr 'android:colorPrimaryDark'.\nError:(144, 21) No resource found that matches the given name: attr 'android:colorAccent'.\nError:(146, 21) No resource found that matches the given name: attr 'android:colorControlActivated'.\nError:(147, 21) No resource found that matches the given name: attr 'android:colorControlHighlight'.\nError:(145, 21) No resource found that matches the given name: attr 'android:colorControlNormal'.\nError:(142, 21) No resource found that matches the given name: attr 'android:colorPrimary'.\nError:(143, 21) No resource found that matches the given name: attr 'android:colorPrimaryDark'.\nError:(144, 21) No resource found that matches the given name: attr 'android:colorAccent'.\nError:(146, 21) No resource found that matches the given name: attr 'android:colorControlActivated'.\nError:(147, 21) No resource found that matches the given name: attr 'android:colorControlHighlight'.\nError:(145, 21) No resource found that matches the given name: attr 'android:colorControlNormal'.\nError:(142, 21) No resource found that matches the given name: attr 'android:colorPrimary'.\nError:(143, 21) No resource found that matches the given name: attr 'android:colorPrimaryDark'.\nError:(144, 21) No resource found that matches the given name: attr 'android:colorAccent'.\nError:(146, 21) No resource found that matches the given name: attr 'android:colorControlActivated'.\nError:(147, 21) No resource found that matches the given name: attr 'android:colorControlHighlight'.\nError:(145, 21) No resource found that matches the given name: attr 'android:colorControlNormal'.\nError:(142, 21) No resource found that matches the given name: attr 'android:colorPrimary'.\nError:(143, 21) No resource found that matches the given name: attr 'android:colorPrimaryDark'.\n</code></pre>\n\n<p>All of these seem to be showing up in:</p>\n\n<pre><code>\\app\\build\\intermediates\\exploded-aar\\com.android.support\\appcompat-v7\\21.0.0\\res\\values-v11\\values.xml\n</code></pre>\n\n<p>and </p>\n\n<pre><code>\\app\\build\\intermediates\\exploded-aar\\com.android.support\\appcompat-v7\\21.0.0\\res\\values-v21\\values.xml\n</code></pre>\n", "title": "AppCompat v7 r21 returning error in values.xml?", "tags": ["android", "android-studio", "appcompat"], "answer_count": 20, "link": "http://stackoverflow.com/questions/26457096/appcompat-v7-r21-returning-error-in-values-xml", "answers": [{"body": "<p>AppCompat v21 builds themes that require the new APIs provided in API 21 (Android 5.0). To compile your application with AppCompat, you must also compile against API 21. The recommended setup for compiling/building with API 21 is a <code>compileSdkVersion</code> of <code>21</code> and a <code>buildToolsVersion</code> of <code>21.0.1</code> (which is the highest at this time - you always want to use the latest build tools).</p>\n", "title": "AppCompat v7 r21 returning error in values.xml?", "answer_id": 26457138, "question_id": 26457096, "tags": ["android", "android-studio", "appcompat"]}, {"body": "<p><code>Resource for android</code> will be a option available when you go to your <code>sdk manager</code> and select <code>Android 5.0</code>. Download and install that. This will fix the problem of resource not found.</p>\n", "title": "AppCompat v7 r21 returning error in values.xml?", "answer_id": 26460095, "question_id": 26457096, "tags": ["android", "android-studio", "appcompat"]}, {"body": "<p>If you are using android studio goto \nFile --> Project Structure \nIn the <strong>Properties</strong> tab change <strong>Compile Sdk Version to AP1 21</strong> and Build Tools Version to highest available version.\nAnd then Refresh Gradle</p>\n", "title": "AppCompat v7 r21 returning error in values.xml?", "answer_id": 26567107, "question_id": 26457096, "tags": ["android", "android-studio", "appcompat"]}, {"body": "<p>Changing <code>compile 'com.android.support:appcompat-v7:21.0.0'</code> into <code>compile 'com.android.support:appcompat-v7:20.0.0'</code> in gradle.build works for me.</p>\n", "title": "AppCompat v7 r21 returning error in values.xml?", "answer_id": 26573672, "question_id": 26457096, "tags": ["android", "android-studio", "appcompat"]}, {"body": "<p>I vote whoever can solve like me.\nI had this same problem as u , I spent many hours to get correct .\nPlease test .</p>\n\n<p>Upgrade entire SDK , the update 21.0.2 build also has updates from Google Services play .\nUpgrade everything.\nIn your workspace delete folders ( android -support- v7 - AppCompat ) and ( google -play - services_lib )</p>\n\n<p>Re-import these projects into the IDE and select to copy them to your workspace again.</p>\n\n<p>The project ( google -play - services_lib ) to perform the action of Refresh and Build</p>\n\n<p>**** ***** Problem\nThe project ( android -support- v7 - AppCompat ) mark the 5.0 API then Refresh and Build .</p>\n\n<p>In his project , in properties , android , import libraries ( android -support- v7 - AppCompat ) and ( google -play - services_lib ) then Refresh and Build .</p>\n", "title": "AppCompat v7 r21 returning error in values.xml?", "answer_id": 26665666, "question_id": 26457096, "tags": ["android", "android-studio", "appcompat"]}, {"body": "<p>Make sure the value for <strong>target</strong> (which tells the target android version) in <strong>project.properties</strong> file of <strong>both</strong> <strong>your project folder and appcompat_v7</strong> folder is same (preferably the latest).</p>\n\n<p>: inside 'your_project'/project.properties</p>\n\n<p><code> target=<strong>android-21</strong>\nandroid.library.reference.1=../appcompat_v7</code></p>\n\n<p>and</p>\n\n<p>: inside appcompat_v7/project.properties</p>\n\n<p><code>target=<strong>android-21</strong>\nandroid.library=true</code></p>\n\n<p>and after this don't <strong>forget to clean</strong> your project .</p>\n", "title": "AppCompat v7 r21 returning error in values.xml?", "answer_id": 26955865, "question_id": 26457096, "tags": ["android", "android-studio", "appcompat"]}, {"body": "<p>If you don't want to use API 21 you can use the older version of appcompact library, use older app compact library without updating it.</p>\n\n<p>you can achieve this by simply following steps:</p>\n\n<p>1) Extract the downloaded version of complete sdk and eclipse bundle.</p>\n\n<p>2) Simply import appCompact library from <code>sdk\\extras\\android\\support\\v7\\appcompact</code></p>\n\n<p>now you are done.</p>\n", "title": "AppCompat v7 r21 returning error in values.xml?", "answer_id": 27038627, "question_id": 26457096, "tags": ["android", "android-studio", "appcompat"]}, {"body": "<p>changing the complie SDk version to API level 21 fixed it for me. then i ran into others issues of deploying the app to my device. i changed the minimun API level to target to what i want and that fixed it.</p>\n\n<p>incase someone is experiencing this again.</p>\n", "title": "AppCompat v7 r21 returning error in values.xml?", "answer_id": 27536834, "question_id": 26457096, "tags": ["android", "android-studio", "appcompat"]}, {"body": "<p>Hi there I was having the same error involving the <code>appcompatv7</code> library and I did as @ianhanniballake suggested and check the build version of the library, by selecting it and giving a click with the secondary button of the mouse then:</p>\n\n<blockquote>\n  <p>Properties -> Android -> Android 5.0.1 api level 21</p>\n</blockquote>\n\n<p>then clean all projects but I had no luck, so after loosing all my hopes I decided to upgrade from Eclipse Kepler to Eclipse Luna.</p>\n\n<p>While I was waiting for the download to complete. I decided to try another thing, so I went and delete from eclipse the <code>appcompatv7</code> library and checked the</p>\n\n<blockquote>\n  <p>Delete project contents on disk.</p>\n</blockquote>\n\n<p>Opened the Android SDK to check if there were any updates, then I removed all library references from my project by selecting my project and under </p>\n\n<blockquote>\n  <p>Project -> Properties -> Android -> Library section</p>\n</blockquote>\n\n<p>removed all libraries including the one that started all this problem </p>\n\n<blockquote>\n  <p>Google_Play_Services_Lib</p>\n</blockquote>\n\n<p>then restarted Eclipse and copied from the Android SDK.The folder appcompat from:</p>\n\n<blockquote>\n  <p>android-sdk-linux/extras/android/support/v7</p>\n</blockquote>\n\n<p>To my eclpse workspace, then imported it agan in to Eclipse from Import exsting project in workspace then choose the propper build tool version </p>\n\n<blockquote>\n  <p>Android 5.0.1 api 21</p>\n</blockquote>\n\n<p>and added all my reference libraries, cleaned all projects and done everything was working again.</p>\n\n<p>I choose for all my reference libraries the same build tool. </p>\n\n<p>Hope this helps!!!!</p>\n\n<p>By the way I tried to give a vote but I haven't had enough rep to do it.</p>\n", "title": "AppCompat v7 r21 returning error in values.xml?", "answer_id": 28186480, "question_id": 26457096, "tags": ["android", "android-studio", "appcompat"]}, {"body": "<p>Check adding google play services  <a href=\"http://developer.android.com/google/play-services/setup.html\" rel=\"nofollow\">here</a> as i was facing the same problem and removed everything then followed the steps and got everything working.</p>\n", "title": "AppCompat v7 r21 returning error in values.xml?", "answer_id": 29251712, "question_id": 26457096, "tags": ["android", "android-studio", "appcompat"]}, {"body": "<p>Just select target api level to <strong>21</strong> for compiling, click <strong>Apply</strong> -> click <strong>OK</strong>, <strong>clean</strong> and <strong>build</strong> project and <strong>run</strong> it.</p>\n\n<p><img src=\"http://i.stack.imgur.com/PAsdd.png\" alt=\"Screenshot for same\"></p>\n", "title": "AppCompat v7 r21 returning error in values.xml?", "answer_id": 29666124, "question_id": 26457096, "tags": ["android", "android-studio", "appcompat"]}, {"body": "<p>I ran into the same issue and had the right API level values in my build.gradle <strong>compileSdkVersion 21, targetSdkVersion 21 and a buildToolsVersion of 21.0.1</strong></p>\n\n<p>However, I was including this as a module in my project so I had to make sure the other module gradle settings matched API 21. After that it all worked for me.</p>\n", "title": "AppCompat v7 r21 returning error in values.xml?", "answer_id": 31778119, "question_id": 26457096, "tags": ["android", "android-studio", "appcompat"]}, {"body": "<p>my solucion is compile with other version</p>\n\n<p>build.gradle (app)</p>\n\n<pre><code>compileSdkVersion 21\n</code></pre>\n\n<p>Good Luck</p>\n", "title": "AppCompat v7 r21 returning error in values.xml?", "answer_id": 32130416, "question_id": 26457096, "tags": ["android", "android-studio", "appcompat"]}, {"body": "<p>Change your <strong>compile sdk</strong> to <strong>23</strong>.This fixed it for me.</p>\n", "title": "AppCompat v7 r21 returning error in values.xml?", "answer_id": 32143317, "question_id": 26457096, "tags": ["android", "android-studio", "appcompat"]}, {"body": "<p>I changed </p>\n\n<pre><code>compile 'com.android.support:appcompat-v7:19.1.+'\n</code></pre>\n\n<p>into </p>\n\n<pre><code>compile 'com.android.support:appcompat-v7:22.1.+'\n</code></pre>\n\n<p>in build.gradle and after sync I didn't get any errors</p>\n", "title": "AppCompat v7 r21 returning error in values.xml?", "answer_id": 32822151, "question_id": 26457096, "tags": ["android", "android-studio", "appcompat"]}, {"body": "<p>In my case with Eclipse IDE, I had the same problem and the solution was: <br>\n1- Install the latest available API (SDK Platform &amp; Google APIs) <br>\n2- Create the project with the following settings:</p>\n\n<ul>\n    <li> Compile With: use the latest API version available at the time </li>\n    <li>the other values can receive values according at your requirements (look at the meaning of each one in previous comments)</li>\n</ul>\n", "title": "AppCompat v7 r21 returning error in values.xml?", "answer_id": 33444674, "question_id": 26457096, "tags": ["android", "android-studio", "appcompat"]}, {"body": "<p>For me works this:</p>\n\n<pre><code>android {\ncompileSdkVersion 21\nbuildToolsVersion '23.0'\n\ndefaultConfig {\n    applicationId \"nl.changer.polypickerdemo\"\n    minSdkVersion 15\n    targetSdkVersion 21\n---------\ndependencies {\ncompile fileTree(dir: 'libs', include: ['*.jar'])\ncompile 'com.android.support:appcompat-v7:22.2.0'\n\n\n}\n</code></pre>\n\n<p>I modified: \ncompileSdkVersion 21\nbuildToolsVersion '23.0'\nappcompat-v7:22.2.0'</p>\n", "title": "AppCompat v7 r21 returning error in values.xml?", "answer_id": 33828418, "question_id": 26457096, "tags": ["android", "android-studio", "appcompat"]}, {"body": "<p>I have updated the build.gradle(Module: app):\nOld Code:</p>\n\n<pre><code>  compile 'com.android.support:appcompat-v7:23.0.1'\n</code></pre>\n\n<p>New Code:</p>\n\n<pre><code> compile 'com.android.support:appcompat-v7:22.2.0'\n</code></pre>\n\n<p>Works for me in android studio.</p>\n", "title": "AppCompat v7 r21 returning error in values.xml?", "answer_id": 33866241, "question_id": 26457096, "tags": ["android", "android-studio", "appcompat"]}, {"body": "<p>I was facing this problem when I imported google-services.json file to implement Analytics. I already had global_tracker.xml file in the xml folder. During build, while merging contents from google-services.json file, the error was started occurring. For time being, the error is resolved after removing the goolgle-services.json file. And using the older Analytics solution. </p>\n\n<p>Check the last XML or Json file that you edited/imported and maybe you will file error there. That's what helped in my case.</p>\n", "title": "AppCompat v7 r21 returning error in values.xml?", "answer_id": 34017067, "question_id": 26457096, "tags": ["android", "android-studio", "appcompat"]}, {"body": "<p>Quoting from <a href=\"http://code2care.org/pages/appcompat_v7-errors-after-updates-to-api-level-21-material-theme/\" rel=\"nofollow\">here</a>:</p>\n\n<blockquote>\n  <p>To resolve this issue,</p>\n  \n  <ol>\n  <li>Right Click on <code>appcompat_v7</code> library and select Properties</li>\n  <li>Now, Click on Android Option,</li>\n  <li>Set Project Build Path as Android 5.0 (API level 21)</li>\n  <li>Apply Changes.</li>\n  <li>Now go to <code>project.properties</code> file under <code>appcompat_v7</code> library,</li>\n  <li>Set the project target as : <code>target=android-21</code></li>\n  <li>Now Clean + Build appcompat_v7 library and your projects</li>\n  </ol>\n</blockquote>\n", "title": "AppCompat v7 r21 returning error in values.xml?", "answer_id": 35427958, "question_id": 26457096, "tags": ["android", "android-studio", "appcompat"]}], "question_id": 26457096}], "quota_max": 300, "page_size": 100, "quota_remaining": 283, "page": 1}