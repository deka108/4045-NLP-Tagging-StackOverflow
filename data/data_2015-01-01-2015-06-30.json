{"has_more": true, "items": [{"body": "<p>The following code produces the output \"Hello World!\" (no really, try it).</p>\n\n<pre><code>public static void main(String... args) {\n\n   // The comment below is not a typo.\n   // \\u000d System.out.println(\"Hello World!\");\n}\n</code></pre>\n\n<p>The reason for this is that the Java compiler parses the Unicode character <code>\\u000d</code> as a new line and gets transformed into:</p>\n\n<pre><code>public static void main(String... args) {\n\n   // The comment below is not a typo.\n   //\n   System.out.println(\"Hello World!\");\n}\n</code></pre>\n\n<p>Thus resulting into a comment being \"executed\".</p>\n\n<p>Since this can be used to \"hide\" malicious code or whatever an evil programmer can conceive, <strong>why is it allowed in comments</strong>?</p>\n\n<p>Why is this allowed by the Java specification?</p>\n", "title": "Why is executing Java code in comments with certain Unicode characters allowed?", "tags": ["java", "unicode", "comments"], "answer_count": 7, "link": "http://stackoverflow.com/questions/30727515/why-is-executing-java-code-in-comments-with-certain-unicode-characters-allowed", "answers": [{"body": "<p>Unicode decoding takes place before any other lexical translation. The key benefit of this is that it makes it trivial to go back and forth between ASCII and any other encoding. You don't even need to figure out where comments begin and end!</p>\n\n<p>As stated in <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-3.html#jls-3.3\">JLS Section 3.3</a> this allows any ASCII based tool to process the source files:</p>\n\n<blockquote>\n  <p>[...] The Java programming language specifies a standard way of transforming a program written in Unicode into ASCII that changes a program into a form that can be processed by ASCII-based tools. [...]</p>\n</blockquote>\n\n<p>This gives a fundamental guarantee for platform independence (independence of supported character sets) which has always been a key goal for the Java platform. </p>\n\n<p>Being able to write any Unicode character anywhere in the file is a neat feature, and especially important in comments, when documenting code in non-latin languages. The fact that it can interfere with the semantics in such subtle ways is just an (unfortunate) side-effect.</p>\n\n<p>There are many gotchas on this theme and <a href=\"http://www.javapuzzlers.com/\"><em>Java Puzzlers</em></a> by Joshua Bloch and Neal Gafter included the following variant:</p>\n\n<blockquote>\n  <p>Is this a legal Java program? If so, what does it print?</p>\n\n<pre><code>\\u0070\\u0075\\u0062\\u006c\\u0069\\u0063\\u0020\\u0020\\u0020\\u0020\n\\u0063\\u006c\\u0061\\u0073\\u0073\\u0020\\u0055\\u0067\\u006c\\u0079\n\\u007b\\u0070\\u0075\\u0062\\u006c\\u0069\\u0063\\u0020\\u0020\\u0020\n\\u0020\\u0020\\u0020\\u0020\\u0073\\u0074\\u0061\\u0074\\u0069\\u0063\n\\u0076\\u006f\\u0069\\u0064\\u0020\\u006d\\u0061\\u0069\\u006e\\u0028\n\\u0053\\u0074\\u0072\\u0069\\u006e\\u0067\\u005b\\u005d\\u0020\\u0020\n\\u0020\\u0020\\u0020\\u0020\\u0061\\u0072\\u0067\\u0073\\u0029\\u007b\n\\u0053\\u0079\\u0073\\u0074\\u0065\\u006d\\u002e\\u006f\\u0075\\u0074\n\\u002e\\u0070\\u0072\\u0069\\u006e\\u0074\\u006c\\u006e\\u0028\\u0020\n\\u0022\\u0048\\u0065\\u006c\\u006c\\u006f\\u0020\\u0077\\u0022\\u002b\n\\u0022\\u006f\\u0072\\u006c\\u0064\\u0022\\u0029\\u003b\\u007d\\u007d\n</code></pre>\n</blockquote>\n\n<p>(This program turns out to be a plain \"Hello World\" program.)</p>\n\n<p>In the solution to the puzzler, they point out the following:</p>\n\n<blockquote>\n  <p>More seriously, this puzzle serves to reinforce the lessons of the previous three: <strong>Unicode escapes are essential when you need to insert characters that can\u2019t be represented in any other way into your program. Avoid them in all other cases.</strong></p>\n</blockquote>\n", "title": "Why is executing Java code in comments with certain Unicode characters allowed?", "answer_id": 30727799, "link": "http://stackoverflow.com/questions/30727515/why-is-executing-java-code-in-comments-with-certain-unicode-characters-allowed/30727799#30727799", "tags": ["java", "unicode", "comments"]}, {"body": "<p>The <code>\\u000d</code> escape terminates a comment because <code>\\u</code> escapes are uniformly converted to the corresponding Unicode characters <em>before</em> the program is tokenized.  You could equally use <code>\\u0057\\u0057</code> instead of <code>//</code> to <em>begin</em> a comment.</p>\n\n<p>This is a bug in your IDE, which should syntax-highlight the line to make it clear that the <code>\\u000d</code> ends the comment.</p>\n\n<p>This is also a design error in the language.  It can't be corrected now, because that would break programs that depend on it.  <code>\\u</code> escapes should either be converted to the corresponding Unicode character by the compiler only in contexts where that \"makes sense\" (string literals and identifiers, and probably nowhere else) or they should have been forbidden to generate characters in the U+0000\u2013007F range, or both.  Either of those semantics would have prevented the comment from being terminated by the <code>\\u000d</code> escape, without interfering with the cases where <code>\\u</code> escapes are useful\u2014note that that <em>includes</em> use of <code>\\u</code> escapes inside comments as a way to encode comments in a non-Latin script, because the text editor could take a broader view of where <code>\\u</code> escapes are significant than the compiler does.  (I am not aware of any editor or IDE that will display <code>\\u</code> escapes as the corresponding characters in <em>any</em> context, though.)</p>\n\n<p>There is a similar design error in the C family,<sup>1</sup> where backslash-newline is processed before comment boundaries are determined, so e.g.</p>\n\n<pre><code>// this is a comment \\\n   this is still in the comment!\n</code></pre>\n\n<p>I bring this up to illustrate that it happens to be easy to make this particular design error, and not realize that it's an error until it is too late to correct it, if you are used to thinking about tokenization and parsing the way compiler programmers think about tokenization and parsing.  Basically, if you have already defined your formal grammar and then someone comes up with a syntactic special case &mdash; trigraphs, backslash-newline, encoding arbitrary Unicode characters in source files limited to ASCII, whatever &mdash; that needs to be wedged in, it's easier to add a transformation pass <em>before</em> the tokenizer than it is to redefine the tokenizer to pay attention to where it makes sense to use that special case.</p>\n\n<p><sup>1</sup> For pedants: I am aware that this aspect of C was 100% intentional, with the rationale &mdash; I am not making this up &mdash; that it would allow you to mechanically force-fit code with arbitrarily long lines onto punched cards.  It was still an incorrect design decision.</p>\n", "title": "Why is executing Java code in comments with certain Unicode characters allowed?", "answer_id": 30736170, "link": "http://stackoverflow.com/questions/30727515/why-is-executing-java-code-in-comments-with-certain-unicode-characters-allowed/30736170#30736170", "tags": ["java", "unicode", "comments"]}, {"body": "<p>I agree with @zwol that this is a design mistake; but I'm even more critical of it.</p>\n\n<p><code>\\u</code> escape is useful in string and char literals; and that's the only place that it should exist. It should be handled the same way as other escapes like <code>\\n</code>; and <code>\"\\u000A\"</code> <em>should</em> mean exactly <code>\"\\n\"</code>.</p>\n\n<p>There is absolutely no point of having <code>\\uxxxx</code> in comments - nobody can read that.</p>\n\n<p>Similarly, there's no point of using <code>\\uxxxx</code> in other part of the program. The only exception is probably in public APIs that are coerced to contain some non-ascii chars - what's the last time we've seen that?</p>\n\n<p>The designers had their reasons in 1995, but 20 years later, this appears to be a wrong choice.</p>\n\n<p><em>(question to readers - why does this question keep getting new votes? is this question linked from somewhere popular?)</em></p>\n", "title": "Why is executing Java code in comments with certain Unicode characters allowed?", "answer_id": 30738171, "link": "http://stackoverflow.com/questions/30727515/why-is-executing-java-code-in-comments-with-certain-unicode-characters-allowed/30738171#30738171", "tags": ["java", "unicode", "comments"]}, {"body": "<p>Since this hasn\u2019t addressed yet, here an explanation, why the translation of Unicode escapes happens before any other source code processing:</p>\n\n<p>The idea behind it was that it allows lossless translations of Java source code between different character encodings. Today, there is widespread Unicode support, and this doesn\u2019t look like a problem, but back then it wasn\u2019t easy for a developer from a western country to receive some source code from his Asian colleague containing Asian characters, make some changes (including compiling and testing it) and sending the result back, all without damaging something.</p>\n\n<p>So, Java source code can be written in any encoding and allows a wide range of characters within identifiers, character and <code>String</code> literals and comments. Then, in order to transfer it losslessly, all characters not supported by the target encoding are replaced by their Unicode escapes.</p>\n\n<p>This is a reversible process and the interesting point is that the translation can be done by a tool which doesn\u2019t need to know anything about the Java source code syntax as the translation rule is not dependent on it. This works as the translation to their actual Unicode characters inside the compiler happens independently to the Java source code syntax as well. It implies that you can perform an arbitrary number of translation steps in both directions without ever changing the meaning of the source code.</p>\n\n<p>This is the reason for another weird feature which hasn\u2019t even mentioned: the <code>\\uuuuuuxxxx</code> syntax:</p>\n\n<p>When a translation tool is escaping characters and encounters a sequence that is already an escaped sequence, it should insert an additional <code>u</code> into the sequence, converting <code>\\ucafe</code> to <code>\\uucafe</code>. The meaning doesn\u2019t change, but when converting into the other direction, the tool should just remove one <code>u</code> and replace only sequences containing a single <code>u</code> by their Unicode characters. That way, even Unicode escapes are retained in their original form when converting back and forth. I guess, no-one ever used that feature\u2026</p>\n", "title": "Why is executing Java code in comments with certain Unicode characters allowed?", "answer_id": 30739477, "link": "http://stackoverflow.com/questions/30727515/why-is-executing-java-code-in-comments-with-certain-unicode-characters-allowed/30739477#30739477", "tags": ["java", "unicode", "comments"]}, {"body": "<p>This was an intentional design choice that goes all the way back to the original design of Java.</p>\n\n<p>To those folks who ask \"who wants Unicode escapes in comments?\", I presume they are folks whose native language uses the Latin character set. In other words, it is inherent in the original design of Java that folks could use arbitrary Unicode characters wherever legal in a Java program, most typically in comments and strings.</p>\n\n<p>It is arguably a shortcoming in programs (like IDEs) used to view the source text that such programs cannot interpret the Unicode escapes and display the corresponding glyph.</p>\n", "title": "Why is executing Java code in comments with certain Unicode characters allowed?", "answer_id": 30740325, "link": "http://stackoverflow.com/questions/30727515/why-is-executing-java-code-in-comments-with-certain-unicode-characters-allowed/30740325#30740325", "tags": ["java", "unicode", "comments"]}, {"body": "<p>I'm going to completely ineffectually add the point, just because I can't help myself and I haven't seen it made yet, that the question is invalid since it contains a hidden premise which is wrong, namely that the code is in a comment!</p>\n\n<p>In Java source code \\u000d is equivalent in every way to an ASCII CR character. It is a line ending, plain and simple, wherever it occurs. The formatting in the question is misleading, what that sequence of characters actually syntactically corresponds to is:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String... args) {\n   // The comment below is no typo. \n   // \n System.out.println(\"Hello World!\");\n}\n</code></pre>\n\n<p>IMHO the most correct answer is therefore: the code executes because it isn't in a comment; it's on the next line. \"Executing code in comments\" is not allowed in Java, just like you would expect.</p>\n\n<p>Much of the confusion stems from the fact that syntax highlighters and IDEs aren't sophisticated enough to take this situation into account. They either don't process the unicode escapes at all, or they do it after parsing the code instead of before, like <code>javac</code> does.</p>\n", "title": "Why is executing Java code in comments with certain Unicode characters allowed?", "answer_id": 30763499, "link": "http://stackoverflow.com/questions/30727515/why-is-executing-java-code-in-comments-with-certain-unicode-characters-allowed/30763499#30763499", "tags": ["java", "unicode", "comments"]}, {"body": "<p>The only people who can answer why Unicode escapes were implemented as they were are the people who wrote the specification.</p>\n\n<p>A plausible reason for this is that there was the desire to allow the entire BMP as possible characters of Java source code. This presents a problem though:</p>\n\n<ul>\n<li>You want to be able to use any BMP character.</li>\n<li>You want to be able to input any BMP charater reasonably easy. A way to do this is with Unicode escapes.</li>\n<li>You want to keep the lexical specification easy for humans to read and write, and reasonably easy to implement as well.</li>\n</ul>\n\n<p>This is incredibly difficult when Unicode escapes enter the fray: it creates a whole load of new lexer rules.</p>\n\n<p>The easy way out is to do lexing in two steps: first search and replace all Unicode escapes with the character it represents, and then parse the resulting document as if Unicode escapes don't exist.</p>\n\n<p>The upside to this is that it's easy to specify, so it makes the specification simpler, and it's easy to implement.</p>\n\n<p>The downside is, well, your example.</p>\n", "title": "Why is executing Java code in comments with certain Unicode characters allowed?", "answer_id": 30802558, "link": "http://stackoverflow.com/questions/30727515/why-is-executing-java-code-in-comments-with-certain-unicode-characters-allowed/30802558#30802558", "tags": ["java", "unicode", "comments"]}], "question_id": 30727515}, {"body": "<p>It is my understanding that the <code>range()</code> function, which is actually <a href=\"https://docs.python.org/3/library/stdtypes.html#typesseq-range\">an object type in Python 3</a>, generates its contents on the fly, similar to a generator. </p>\n\n<p>This being the case, I would have expected the following line to take an inordinate amount of time, because in order to determine whether 1 quadrillion is in the range, a quadrillion values would have to be generated: </p>\n\n<pre><code>1000000000000000 in range(1000000000000001)\n</code></pre>\n\n<p>Furthermore: it seems that no matter how many zeroes I add on, the calculation more or less takes the same amount of time (basically instantaneous). </p>\n\n<p>I have also tried things like this, but the calculation is still almost instant: </p>\n\n<pre><code>1000000000000000000000 in range(0,1000000000000000000001,10) # count by tens\n</code></pre>\n\n<p>If I try to implement my own range function, the result is not so nice!! </p>\n\n<pre><code>def my_crappy_range(N):\n    i = 0\n    while i &lt; N:\n        yield i\n        i += 1\n    return\n</code></pre>\n\n<p>What is the <code>range()</code> object doing under the hood that makes it so fast? </p>\n\n<hr>\n\n<p>EDIT: This has turned out to be a much more nuanced topic than I anticipated - there seems to be a bit of history behind the optimization of <code>range()</code>. </p>\n\n<p><a href=\"http://stackoverflow.com/a/30081318/2437514\">Martijn Pieters' answer</a> was chosen for its completeness, but also see <a href=\"http://stackoverflow.com/a/30081894/2437514\">abarnert's first answer</a> for a good discussion of what it means for <code>range</code> to be a full-fledged <em>sequence</em> in Python 3, and some information/warning regarding potential inconsistency for <code>__contains__</code> function optimization across Python implementations. <a href=\"http://stackoverflow.com/a/30088140/2437514\">abarnert's other answer</a> goes into some more detail and provides links for those interested in the history behind the optimization in Python 3 (and lack of optimization of <code>xrange</code> in Python 2). Answers <a href=\"http://stackoverflow.com/a/30081467/2437514\">by poke</a> and <a href=\"http://stackoverflow.com/a/30081470/2437514\">by wim</a> provide the relevant C source code and explanations for those who are interested. </p>\n", "title": "Why is &quot;1000000000000000 in range(1000000000000001)&quot; so fast in Python 3?", "tags": ["python", "performance", "python-3.x", "range", "python-internals"], "answer_count": 6, "link": "http://stackoverflow.com/questions/30081275/why-is-1000000000000000-in-range1000000000000001-so-fast-in-python-3", "answers": [{"body": "<p>The Python 3 <code>range()</code> object doesn't produce numbers immediately; it is a smart sequence object that produces numbers <em>on demand</em>. All it contains is your start, stop and step values, then as you iterate over the object the next integer is calculated each iteration.</p>\n\n<p>The object also implements the <a href=\"https://docs.python.org/3/reference/datamodel.html#object.__contains__\"><code>object.__contains__</code> hook</a>, and <em>calculates</em> if your number is part of its range. Calculating is a O(1) constant time operation. There is never a need to scan through all possible integers in the range.</p>\n\n<p>From the <a href=\"https://docs.python.org/3/library/stdtypes.html#range\"><code>range()</code> object documentation</a>:</p>\n\n<blockquote>\n  <p>The advantage of the <code>range</code> type over a regular <code>list</code> or <code>tuple</code> is that a range object will always take the same (small) amount of memory, no matter the size of the range it represents (as it only stores the <code>start</code>, <code>stop</code> and <code>step</code> values, calculating individual items and subranges as needed).</p>\n</blockquote>\n\n<p>So at a minimum, your <code>range()</code> object would do:</p>\n\n<pre><code>class my_range(object):\n    def __init__(self, start, stop=None, step=1):\n        if stop is None:\n            start, stop = 0, start\n        self.start, self.stop, self.step = start, stop, step\n        if step &lt; 0:\n            lo, hi = stop, start\n        else:\n            lo, hi = start, stop\n        self.length = ((hi - lo - 1) // abs(step)) + 1\n\n    def __iter__(self):\n        current = self.start\n        if self.step &lt; 0:\n            while current &gt; self.stop:\n                yield current\n                current += self.step\n        else:\n            while current &lt; self.stop:\n                yield current\n                current += self.step\n\n    def __len__(self):\n        return self.length\n\n    def __getitem__(self, i):\n        if 0 &lt;= i &lt; self.length:\n            return self.start + i * self.step\n        raise IndexError('Index out of range: {}'.format(i))\n\n    def __contains__(self, num):\n        if self.step &lt; 0:\n            if not (self.stop &lt; num &lt;= self.start):\n                return False\n        else:\n            if not (self.start &lt;= num &lt; self.stop):\n                return False\n        return (num - self.start) % self.step == 0\n</code></pre>\n\n<p>This is still missing several things that a real <code>range()</code> supports (such as the <code>.index()</code> or <code>.count()</code> methods, hashing, equality testing, or slicing), but should give you an idea.</p>\n\n<p>I also simplified the <code>__contains__</code> implementation to only focus on integer tests; if you give a real <code>range()</code> object a non-integer value (including subclasses of <code>int</code>), a slow scan is initiated to see if there is a match, just as if you use a containment test against a list of all the contained values. This was done to continue to support other numeric types that just happen to support equality testing with integers but are not expected to support integer arithmetic as well. See the original <a href=\"http://bugs.python.org/issue1766304\">Python issue</a> that implemented the containment test.</p>\n", "title": "Why is &quot;1000000000000000 in range(1000000000000001)&quot; so fast in Python 3?", "answer_id": 30081318, "link": "http://stackoverflow.com/questions/30081275/why-is-1000000000000000-in-range1000000000000001-so-fast-in-python-3/30081318#30081318", "tags": ["python", "performance", "python-3.x", "range", "python-internals"]}, {"body": "<p>To add to Martijn\u2019s answer, this is the relevant part of <a href=\"https://hg.python.org/cpython/file/7f8cd879687b/Objects/rangeobject.c#l415\">the source</a> (in C, as the range object is written in native code):</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>static int\nrange_contains(rangeobject *r, PyObject *ob)\n{\n    if (PyLong_CheckExact(ob) || PyBool_Check(ob))\n        return range_contains_long(r, ob);\n\n    return (int)_PySequence_IterSearch((PyObject*)r, ob,\n                                       PY_ITERSEARCH_CONTAINS);\n}\n</code></pre>\n\n<p>So for <code>PyLong</code> objects (which is <code>int</code> in Python 3), it will use the <code>range_contains_long</code> function to determine the result. And that function essentially checks if <code>ob</code> is in the specified range (although it looks a bit more complex in C).</p>\n\n<p>If it\u2019s not an <code>int</code> object, it falls back to iterating until it finds the value (or not).</p>\n\n<p>The whole logic could be translated to pseudo-Python like this:</p>\n\n<pre><code>def range_contains (rangeObj, obj):\n    if isinstance(obj, int):\n        return range_contains_long(rangeObj, obj)\n\n    # default logic by iterating\n    return any(obj == x for x in rangeObj)\n\ndef range_contains_long (r, num):\n    if r.step &gt; 0:\n        # positive step: r.start &lt;= num &lt; r.stop\n        cmp2 = r.start &lt;= num\n        cmp3 = num &lt; r.stop\n    else:\n        # negative step: r.start &gt;= num &gt; r.stop\n        cmp2 = num &lt;= r.start\n        cmp3 = r.stop &lt; num\n\n    # outside of the range boundaries\n    if not cmp2 or not cmp3:\n        return False\n\n    # num must be on a valid step inside the boundaries\n    return (num - r.start) % r.step == 0\n</code></pre>\n", "title": "Why is &quot;1000000000000000 in range(1000000000000001)&quot; so fast in Python 3?", "answer_id": 30081467, "link": "http://stackoverflow.com/questions/30081275/why-is-1000000000000000-in-range1000000000000001-so-fast-in-python-3/30081467#30081467", "tags": ["python", "performance", "python-3.x", "range", "python-internals"]}, {"body": "<p>Use the <a href=\"https://github.com/python/cpython/blob/cff677abe1823900e954592035a170eb67840971/Objects/rangeobject.c#L364-L413\" rel=\"nofollow\">source</a>, Luke!</p>\n\n<p>In CPython, <code>range(...).__contains__</code> (a method wrapper) will eventually delegate to a simple calculation which checks if the value can possibly be in the range.  The reason for the speed here is we're using <strong>mathematical reasoning about the bounds, rather than a direct iteration of the range object</strong>.  To explain the logic used: </p>\n\n<ol>\n<li>Check that the number is between <code>start</code> and <code>stop</code>, and</li>\n<li>Check that the stride value doesn't \"step over\" our number.  </li>\n</ol>\n\n<p>For example, <code>994</code> is in <code>range(4, 1000, 2)</code> because:</p>\n\n<ol>\n<li><code>4 &lt;= 994 &lt; 1000</code>, and</li>\n<li><code>(994 - 4) % 2 == 0</code>.</li>\n</ol>\n\n<p>The full C code is included below, which is a bit more verbose because of memory management and reference counting details, but the basic idea is there:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>static int\nrange_contains_long(rangeobject *r, PyObject *ob)\n{\n    int cmp1, cmp2, cmp3;\n    PyObject *tmp1 = NULL;\n    PyObject *tmp2 = NULL;\n    PyObject *zero = NULL;\n    int result = -1;\n\n    zero = PyLong_FromLong(0);\n    if (zero == NULL) /* MemoryError in int(0) */\n        goto end;\n\n    /* Check if the value can possibly be in the range. */\n\n    cmp1 = PyObject_RichCompareBool(r-&gt;step, zero, Py_GT);\n    if (cmp1 == -1)\n        goto end;\n    if (cmp1 == 1) { /* positive steps: start &lt;= ob &lt; stop */\n        cmp2 = PyObject_RichCompareBool(r-&gt;start, ob, Py_LE);\n        cmp3 = PyObject_RichCompareBool(ob, r-&gt;stop, Py_LT);\n    }\n    else { /* negative steps: stop &lt; ob &lt;= start */\n        cmp2 = PyObject_RichCompareBool(ob, r-&gt;start, Py_LE);\n        cmp3 = PyObject_RichCompareBool(r-&gt;stop, ob, Py_LT);\n    }\n\n    if (cmp2 == -1 || cmp3 == -1) /* TypeError */\n        goto end;\n    if (cmp2 == 0 || cmp3 == 0) { /* ob outside of range */\n        result = 0;\n        goto end;\n    }\n\n    /* Check that the stride does not invalidate ob's membership. */\n    tmp1 = PyNumber_Subtract(ob, r-&gt;start);\n    if (tmp1 == NULL)\n        goto end;\n    tmp2 = PyNumber_Remainder(tmp1, r-&gt;step);\n    if (tmp2 == NULL)\n        goto end;\n    /* result = (int(ob) - start % step) == 0 */\n    result = PyObject_RichCompareBool(tmp2, zero, Py_EQ);\n  end:\n    Py_XDECREF(tmp1);\n    Py_XDECREF(tmp2);\n    Py_XDECREF(zero);\n    return result;\n}\n\nstatic int\nrange_contains(rangeobject *r, PyObject *ob)\n{\n    if (PyLong_CheckExact(ob) || PyBool_Check(ob))\n        return range_contains_long(r, ob);\n\n    return (int)_PySequence_IterSearch((PyObject*)r, ob,\n                                       PY_ITERSEARCH_CONTAINS);\n}\n</code></pre>\n\n<p>The \"meat\" of the idea is mentioned in the line:</p>\n\n<pre><code>/* result = (int(ob) - start % step) == 0 */ \n</code></pre>\n\n<p>Fortunately this line was just a comment summarising the algorithm, because it would have been a bug!  The <code>start % step</code> will be evaluated before the subtraction because <a href=\"http://en.cppreference.com/w/c/language/operator_precedence\" rel=\"nofollow\">remainder operator has precedence over subtraction</a> in C code.  However, you can see in the real implementation it's done in the correct order on separate lines. </p>\n\n<p>As a final note - look at the <code>range_contains</code> function at the bottom of the code snippet.  If the exact type check fails then we don't use the clever algorithm described, instead falling back to a dumb iteration search of the range using <code>_PySequence_IterSearch</code>!  You can check this behaviour in the interpreter (I'm using v3.5.0 here):</p>\n\n<pre><code>&gt;&gt;&gt; x, r = 1000000000000000, range(1000000000000001)\n&gt;&gt;&gt; class MyInt(int):\n...     pass\n... \n&gt;&gt;&gt; x_ = MyInt(x)\n&gt;&gt;&gt; x in r  # calculates immediately :) \nTrue\n&gt;&gt;&gt; x_ in r  # iterates for ages.. :( \n^\\Quit (core dumped)\n</code></pre>\n", "title": "Why is &quot;1000000000000000 in range(1000000000000001)&quot; so fast in Python 3?", "answer_id": 30081470, "link": "http://stackoverflow.com/questions/30081275/why-is-1000000000000000-in-range1000000000000001-so-fast-in-python-3/30081470#30081470", "tags": ["python", "performance", "python-3.x", "range", "python-internals"]}, {"body": "<p>The fundamental misunderstanding here is in thinking that <code>range</code> is a generator. It's not. In fact, it's not any kind of iterator.</p>\n\n<p>You can tell this pretty easily:</p>\n\n<pre><code>&gt;&gt;&gt; a = range(5)\n&gt;&gt;&gt; print(list(a))\n[0, 1, 2, 3, 4]\n&gt;&gt;&gt; print(list(a))\n[0, 1, 2, 3, 4]\n</code></pre>\n\n<p>If it were a generator, iterating it once would exhaust it:</p>\n\n<pre><code>&gt;&gt;&gt; b = my_crappy_range(5)\n&gt;&gt;&gt; print(list(b))\n[0, 1, 2, 3, 4]\n&gt;&gt;&gt; print(list(b))\n[]\n</code></pre>\n\n<p>What <code>range</code> actually is, is a sequence, just like a list. You can even test this:</p>\n\n<pre><code>&gt;&gt;&gt; import collections.abc\n&gt;&gt;&gt; isinstance(a, collections.abc.Sequence)\nTrue\n</code></pre>\n\n<p>This means it has to follow all the rules of being a sequence:</p>\n\n<pre><code>&gt;&gt;&gt; a[3]\n3\n</code></pre>\n\n<hr>\n\n<p>The difference between a <code>range</code> and a <code>list</code> is that a <code>range</code> is a <em>lazy</em> or <em>dynamic</em> sequence; it doesn't remember all of its values, it just remembers its <code>start</code>, <code>stop</code>, and <code>step</code>, and creates the values on demand on <code>__getitem__</code>.</p>\n\n<p>(As a side note, if you <code>print(iter(a))</code>, you'll notice that <code>range</code> uses the same <code>listiterator</code> type as <code>list</code>. How does that work? A <code>listiterator</code> doesn't use anything special about <code>list</code> except for the fact that it provides a C implementation of <code>__getitem__</code>, so it works fine for <code>range</code> too.)</p>\n\n<hr>\n\n<p>Now, there's nothing that says that <code>Sequence.__contains__</code> has to be constant time\u2014in fact, for obvious examples of sequences like <code>list</code>, it isn't. But there's nothing that says it <em>can't</em> be. And it's easier to implement <code>range.__contains__</code> to just check it mathematically (<code>(val - start) % step</code>, but with some extra complexity to deal with negative steps) than to actually generate and test all the values, so why <em>shouldn't</em> it do it the better way?</p>\n\n<p>But there doesn't seem to be anything in the language that <em>guarantees</em> this will happen. As Ashwini Chaudhari points out, if you give it a non-integral value, instead of converting to integer and doing the mathematical test, it will fall back to iterating all the values and comparing them one by one. And just because CPython 3.2+ and PyPy 3.x versions happen to contain this optimization, and it's an obvious good idea and easy to do, there's no reason that IronPython or NewKickAssPython 3.x couldn't leave it out. (And in fact CPython 3.0-3.1 <em>didn't</em> include it.)</p>\n\n<hr>\n\n<p>If <code>range</code> actually were a generator, like <code>my_crappy_range</code>, then it wouldn't make sense to test <code>__contains__</code> this way, or at least the way it makes sense wouldn't be obvious. If you'd already iterated the first 3 values, is <code>1</code> still <code>in</code> the generator? Should testing for <code>1</code> cause it to iterate and consume all the values up to <code>1</code> (or up to the first value <code>&gt;= 1</code>)?</p>\n", "title": "Why is &quot;1000000000000000 in range(1000000000000001)&quot; so fast in Python 3?", "answer_id": 30081894, "link": "http://stackoverflow.com/questions/30081275/why-is-1000000000000000-in-range1000000000000001-so-fast-in-python-3/30081894#30081894", "tags": ["python", "performance", "python-3.x", "range", "python-internals"]}, {"body": "<p>The other answers explained it well already, but I'd like to offer another experiment illustrating the nature of range objects:</p>\n\n<pre><code>&gt;&gt;&gt; r = range(5)\n&gt;&gt;&gt; for i in r:\n        print(i, 2 in r, list(r))\n\n0 True [0, 1, 2, 3, 4]\n1 True [0, 1, 2, 3, 4]\n2 True [0, 1, 2, 3, 4]\n3 True [0, 1, 2, 3, 4]\n4 True [0, 1, 2, 3, 4]\n</code></pre>\n\n<p>As you can see,  a range object is an object that remembers its range and can be used many times (even while iterating over it), not just a one-time generator.</p>\n", "title": "Why is &quot;1000000000000000 in range(1000000000000001)&quot; so fast in Python 3?", "answer_id": 30081959, "link": "http://stackoverflow.com/questions/30081275/why-is-1000000000000000-in-range1000000000000001-so-fast-in-python-3/30081959#30081959", "tags": ["python", "performance", "python-3.x", "range", "python-internals"]}, {"body": "<p>If you're wondering <em>why</em> this optimization was added to <code>range.__contains__</code>, and why it <em>wasn't</em> added to <code>xrange.__contains__</code> in 2.7:</p>\n\n<p>First, as Ashwini Chaudhary discovered, <a href=\"http://bugs.python.org/issue1766304\">issue 1766304</a> was opened explicitly to optimize <code>[x]range.__contains__</code>. A patch for this was <a href=\"https://hg.python.org/cpython/rev/d599a3f2e72d/\">accepted and checked in for 3.2</a>, but not backported to 2.7 because \"xrange has behaved like this for such a long time that I don't see what it buys us to commit the patch this late.\" (2.7 was nearly out at that point.)</p>\n\n<p>Meanwhile:</p>\n\n<p>Originally, <code>xrange</code> was a not-quite-sequence object. As <a href=\"https://docs.python.org/3.1/library/stdtypes.html#range-type\">the 3.1 docs</a> say:</p>\n\n<blockquote>\n  <p>Range objects have very little behavior: they only support indexing, iteration, and the <code>len</code> function.</p>\n</blockquote>\n\n<p>This wasn't quite true; an <code>xrange</code> object actually supported a few other things that come automatically with indexing and <code>len</code>,<sup>*</sup> including <code>__contains__</code> (via linear search). But nobody thought it was worth making them full sequences at the time.</p>\n\n<p>Then, as part of implementing the <a href=\"https://www.python.org/dev/peps/pep-3119/\">Abstract Base Classes</a> PEP, it was important to figure out which builtin types should be marked as implementing which ABCs, and <code>xrange</code>/<code>range</code> claimed to implement <code>collections.Sequence</code>, even though it still only handled the same \"very little behavior\". Nobody noticed that problem until <a href=\"http://bugs.python.org/issue9213\">issue 9213</a>. The patch for that issue not only added <code>index</code> and <code>count</code> to 3.2's <code>range</code>, it also re-worked the optimized <code>__contains__</code> (which shares the same math with <code>index</code>, and is directly used by <code>count</code>).<sup>**</sup> <a href=\"https://github.com/python/cpython/commit/8ee11f7e599b2c5b4de39047bf11bde2246e968f\">This change</a> went in for 3.2 as well, and was not backported to 2.x, because \"it's a bugfix that adds new methods\". (At this point, 2.7 was already past rc status.)</p>\n\n<p>So, there were two chances to get this optimization backported to 2.7, but they were both rejected.</p>\n\n<hr>\n\n<p><sub>* In fact, you even get iteration for free with <code>len</code> and indexing, but <a href=\"https://docs.python.org/2/whatsnew/2.3.html#optimizations\">in 2.3</a> <code>xrange</code> objects got a custom iterator. Which they then lost in 3.x, which uses the same <code>listiterator</code> type as <code>list</code>.</sub></p>\n\n<p><sub>** The first version actually reimplemented it, and got the details wrong\u2014e.g., it would give you <code>MyIntSubclass(2) in range(5) == False</code>. But Daniel Stutzbach's updated version of the patch restored most of the previous code, including the fallback to the generic, slow <code>_PySequence_IterSearch</code> that pre-3.2 <code>range.__contains__</code> was implicitly using when the optimization doesn't apply.</sub></p>\n", "title": "Why is &quot;1000000000000000 in range(1000000000000001)&quot; so fast in Python 3?", "answer_id": 30088140, "link": "http://stackoverflow.com/questions/30081275/why-is-1000000000000000-in-range1000000000000001-so-fast-in-python-3/30088140#30088140", "tags": ["python", "performance", "python-3.x", "range", "python-internals"]}], "question_id": 30081275}, {"body": "<p>When attempting to run a build on a connected iOS device in Xcode I get the error <code>Could not find Developer Disk Image</code>:</p>\n\n<p><a href=\"http://i.stack.imgur.com/AWRcs.png\"><img src=\"http://i.stack.imgur.com/AWRcs.png\" alt=\"Screenshot of error message\"></a></p>\n\n<p>I saw that there was a public beta for Xcode, so I installed it.</p>\n\n<p>One of the new features is that you don't need to have a Developer Program Account Dingus to upload your app directly to your iPhone. However, on my iPhone 4s, I also did a public beta update to iOS 8.4, problem being, that there's no Developer Disk Image available for it. Where do I to find it or how can it be fixed?</p>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "tags": ["ios", "iphone", "xcode", "swift"], "answer_count": 18, "link": "http://stackoverflow.com/questions/30736932/xcode-error-could-not-find-developer-disk-image", "answers": [{"body": "<p>I personally downloaded Xcode 6.4 beta and 7.0 beta and I was very happy to find the solution by searching \"8.4\" inside the application folder of the 6.4 beta. By doing this, I found the folder <code>8.4 (12H4125a)</code> containing the iOS 8.4 image and I copied this folder to the same path of the 7.0 beta. The path is the following:</p>\n\n<pre><code>/Applications/Xcode-beta.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport \n</code></pre>\n\n<p>When you will reopen Xcode 7 and choose your device, there will be an error message; just click on <code>fix issue</code> and that should do it!</p>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "answer_id": 31013217, "link": "http://stackoverflow.com/questions/30736932/xcode-error-could-not-find-developer-disk-image/31013217#31013217", "tags": ["ios", "iphone", "xcode", "swift"]}, {"body": "<p>My problem was with Xcode 7 and Xcode 6.4 beta and iOS 8.4 - device not compatible.</p>\n\n<p>In case of the same problem for better understanding how to fix, do next:</p>\n\n<ol>\n<li>Go to /Applications/Xcode-beta.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport</li>\n<li>Go to<br>\n/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSup\u200c\u200bport/</li>\n<li>Copy folder iOS 8.4 in another folder</li>\n</ol>\n\n<p><img src=\"http://i.stack.imgur.com/W6XBr.png\" alt=\"Enter image description here\"></p>\n\n<ol start=\"4\">\n<li>Restart Xcode</li>\n</ol>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "answer_id": 31326725, "link": "http://stackoverflow.com/questions/30736932/xcode-error-could-not-find-developer-disk-image/31326725#31326725", "tags": ["ios", "iphone", "xcode", "swift"]}, {"body": "<p>If you have iOS 9.1 on your phone, just download <a href=\"http://en.wikipedia.org/wiki/Xcode\" rel=\"nofollow\">Xcode</a> 7.1 beta instead of using GM.</p>\n\n<p>See Apple's response: <em><a href=\"https://forums.developer.apple.com/thread/18282\" rel=\"nofollow\">Could not find developer disk image for iOS 9.1</a></em></p>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "answer_id": 32545520, "link": "http://stackoverflow.com/questions/30736932/xcode-error-could-not-find-developer-disk-image/32545520#32545520", "tags": ["ios", "iphone", "xcode", "swift"]}, {"body": "<p>For people who would have similar problems in the future, beware that this problem is fundamentally rooted in the mismatch of your iOS version and <a href=\"http://en.wikipedia.org/wiki/Xcode\">Xcode</a> version.</p>\n\n<p>Check the compatibility of iOS and Xcode.</p>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "answer_id": 33460470, "link": "http://stackoverflow.com/questions/30736932/xcode-error-could-not-find-developer-disk-image/33460470#33460470", "tags": ["ios", "iphone", "xcode", "swift"]}, {"body": "<p>I got the same error message <em>(Couldn't find developer disk image)</em> after I updated my devices to iOS 9.2, but forgot to update to Xcode 7.2. </p>\n\n<p>So in my case, the <strong>fix was easy:</strong> just update to Xcode 7.2 via Mac App Store.</p>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "answer_id": 34237493, "link": "http://stackoverflow.com/questions/30736932/xcode-error-could-not-find-developer-disk-image/34237493#34237493", "tags": ["ios", "iphone", "xcode", "swift"]}, {"body": "<h2>This error occurs <strong>when the version of Xcode predates that of the device</strong>.</h2>\n\n<p>For example, attempting to run a build on a device running iOS 9.3 in Xcode 7.2 results in this error; <code>Could not find Developer Disk Image</code>.</p>\n\n<p>Why an error message that actually describes what the hell is going on can't be provided is beyond me (Apple, I'm looking at you \ud83d\udc40).</p>\n\n<p>Update to the latest version of Xcode through the App Store or <a href=\"https://developer.apple.com/downloads/\">via direct download</a> to guarantee interoperability with connected iOS hardware.</p>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "answer_id": 34312968, "link": "http://stackoverflow.com/questions/30736932/xcode-error-could-not-find-developer-disk-image/34312968#34312968", "tags": ["ios", "iphone", "xcode", "swift"]}, {"body": "<p>This message appears when your version of Xcode is too old for the device's version of iOS. <strong>Upgrade Xcode to the latest.</strong></p>\n\n<p>If the App Store doesn't offer an update for Xcode, <strong>upgrade to the latest Mac OS</strong>. In the past, Apple has been rather aggressive about dropping support for past versions of Mac OS X in the latest Xcode.</p>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "answer_id": 34427168, "link": "http://stackoverflow.com/questions/30736932/xcode-error-could-not-find-developer-disk-image/34427168#34427168", "tags": ["ios", "iphone", "xcode", "swift"]}, {"body": "<p>I have experienced the same issue:</p>\n\n<blockquote>\n  <p><strong>Could not find Developer Disk Image</strong></p>\n</blockquote>\n\n<p>My Xcode version was 7.0.1, and I updated my iPhone's version to 9.2, and upon using Xcode I ran into this problem.</p>\n\n<p>The solution is pretty simple: Just download the latest version of Xcode 7.2 <a href=\"https://developer.apple.com/downloads/\" rel=\"nofollow\">which was released on 8 Dec, 2015</a> and install it. Everything works fine for you as it was before.</p>\n\n<p><strong>Note: The actual problem is your Xcode version is not compatible/outdated with the version on your device.</strong></p>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "answer_id": 34649018, "link": "http://stackoverflow.com/questions/30736932/xcode-error-could-not-find-developer-disk-image/34649018#34649018", "tags": ["ios", "iphone", "xcode", "swift"]}, {"body": "<p>It works, in my case for Xcode from 7.3 TO 7.1. Copy directory 9.2, for iOS device OS 9.2.1.</p>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "answer_id": 35296830, "link": "http://stackoverflow.com/questions/30736932/xcode-error-could-not-find-developer-disk-image/35296830#35296830", "tags": ["ios", "iphone", "xcode", "swift"]}, {"body": "<p>This problem is a <strong>mismatch</strong> of your iOS version and Xcode version.</p>\n\n<p>Example:</p>\n\n<p>You have an iPhone with <strong>iOS 9.3 GM</strong> and your Xcode version is <strong>7.2.1</strong>. This leads to the issue that you have to update your Xcode to <strong>7.3</strong> which includes SDKs and related stuff for <strong>iOS 9.3</strong>.</p>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "answer_id": 36163172, "link": "http://stackoverflow.com/questions/30736932/xcode-error-could-not-find-developer-disk-image/36163172#36163172", "tags": ["ios", "iphone", "xcode", "swift"]}, {"body": "<p>I just got this, and I'm on Xcode 7.2.1... It appeared when I downloaded iOS 9.3. Check your Project -> Base SDK and if it isn't the same or ahead of your device version, then that's the issue. I didn't see anything in the \"Updates\" section, but when I searched \"Xcode\" in the App Store it had an update for 7.3.</p>\n\n<p>Upgrading to <strong>iOS 9.3 and Xcode 7.3 requires <a href=\"https://en.wikipedia.org/wiki/OS_X_El_Capitan\" rel=\"nofollow\">Mac&nbsp;OS&nbsp;X v10.11</a> (El Capitan)</strong> for Xcode to run, and that's why auto update isn't upgrading Xcode versions.</p>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "answer_id": 36187541, "link": "http://stackoverflow.com/questions/30736932/xcode-error-could-not-find-developer-disk-image/36187541#36187541", "tags": ["ios", "iphone", "xcode", "swift"]}, {"body": "<p>There actually is a way to deploy to a device running a newer iOS that the particular version of Xcode might not actually support.  What you need to do is copy over the folder that contains the Developer Disk Image from the newer version of Xcode.</p>\n\n<p>For example, you can deploy to a device running iOS 9.3 using Xcode 7.2.1 (which only supports up to iOS 9.2) using this method.  Go to the Xcode 7.3 install and navigate to:</p>\n\n<p>/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport</p>\n\n<p>From here, copy over the folder that contains the version you are trying to run on the older version of Xcode (for this example, it's 9.3 with the build number in parenthesis).  Copy this folder over to the other install of Xcode, and now you should be able to deploy to a device running that particular version of iOS.</p>\n\n<p>This will fail, however, if you're utilizing API calls that were specifically added to the newer version of the SDK.  In that case, you will be forced to update Xcode.</p>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "answer_id": 36227365, "link": "http://stackoverflow.com/questions/30736932/xcode-error-could-not-find-developer-disk-image/36227365#36227365", "tags": ["ios", "iphone", "xcode", "swift"]}, {"body": "<p>As others suggested, this issue is caused by incompatible iOS version (which is higher than the max version that Xcode supports). Normally it can be addressed by updating Xcode, but sometimes you may be restricted to do so, hence here's another work-around.</p>\n\n<p>Head to developer.apple.com/downloads (or google similar stuff if this link dies) to grab the newest Xcode <code>dmg</code> image manually, and then mount it. If you're doing this already, the new Xcode is not likely working for you, but you can <code>cp /Volumes/Xcode/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport/NEW_IOS_VERSION /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport/</code> to copy the image you want into the old Xcode you've installed.</p>\n\n<p>Of course it's not guaranteed to work for future versions, but it's definitely worth trying. For me, my iOS version is <code>9.3.1 (13E238)</code>, but I copied <code>9.3 (13E230)</code> and it works just fine.</p>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "answer_id": 37129265, "link": "http://stackoverflow.com/questions/30736932/xcode-error-could-not-find-developer-disk-image/37129265#37129265", "tags": ["ios", "iphone", "xcode", "swift"]}, {"body": "<p>If you're using Xcode 7.3 and want to run onto iOS 10 devices, then do this trick. This basically make a symbolic link from iOS 10 Device Support in Xcode 8 to Xcode 7.3</p>\n\n<p><a href=\"https://gist.github.com/steipete/d9b44d8e9f341e81414e86d7ff8fb62d\">https://gist.github.com/steipete/d9b44d8e9f341e81414e86d7ff8fb62d</a></p>\n\n<p>For Xcode 8 beta 1 &amp; iOS 10 beta 1</p>\n\n<pre><code>sudo ln -s /Applications/Xcode-beta.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport/10.0\\ \\(14A5261u\\) /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport\n</code></pre>\n\n<p>For Xcode 8 beta 3 &amp; iOS 10 beta 3</p>\n\n<pre><code>sudo ln -s /Applications/Xcode-beta.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport/10.0\\ \\(14A5309d\\) /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport\n</code></pre>\n\n<p>For Xcode 8 beta 4 &amp; iOS 10 beta 4 (from Kashif 's comment below, updated)</p>\n\n<pre><code>sudo ln -s /Applications/Xcode-beta.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport/10.0\\ \\(14A5322e\\)/ /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport\n</code></pre>\n\n<p>For Xcode 8 beta 5 and iOS 10 beta 5 (from Legoless 's comment below)</p>\n\n<pre><code>sudo ln -s /Applications/Xcode-beta.app/Contents/Developer/Platforms/iPhoneOS.platform/Devi\u200c\u200bceSupport/10.0\\ \\(14A5335a\\)/ /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSup\u200c\u200bport\n</code></pre>\n\n<p>For Xcode 8 beta 6 and iOS 10 beta 6 (from Legoless 's comment below)</p>\n\n<pre><code>sudo ln -s /Applications/Xcode-\u200c\u200bbeta.app/Contents/Dev\u200c\u200beloper/Platforms/iPho\u200c\u200bneOS.platform/DeviceS\u200c\u200bupport/10.0\\ \\(14A5339a\\)/ /Applications/Xcode.\u200c\u200bapp/Contents/Develope\u200c\u200br/Platforms/iPhoneOS.\u200c\u200bplatform/DeviceSuppor\u200c\u200bt\n</code></pre>\n\n<p>For Xcode 8 <code>Xcode.app</code> and rename Xcode 7 to <code>Xcode-7.app</code> (from user3847320 's comment below)</p>\n\n<pre><code>sudo ln -s /Applications/Xcode.app/Contents/Developer/Platforms/iP\u200c\u200bhoneOS.platform/Devi\u200c\u200bceSupport/10.0\\ \\(14A345\\)/ /Applications/Xcode-7.app/Contents/Developer/Platforms/iPhoneO\u200c\u200bS.platform/DeviceSup\u200c\u200bport\n</code></pre>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "answer_id": 37940175, "link": "http://stackoverflow.com/questions/30736932/xcode-error-could-not-find-developer-disk-image/37940175#37940175", "tags": ["ios", "iphone", "xcode", "swift"]}, {"body": "<p>This happens when your Xcode version doesn't have a necessary component to build the application to your target OS. <strong>You should update your Xcode</strong>.</p>\n\n<p>If you are building a new application for a <strong>beta OS version</strong> that no stable Xcode version is able to build, you should download the <strong>newest Xcode beta</strong> version.</p>\n\n<p>I also had this problem. I was using Xcode 7.3 for my iOS 10 beta iPhone,  so I went to install Xcode 8-beta, and I did the following step to <strong>continue using the stable version of Xcode</strong> with new build tool:</p>\n\n<p>Just like <a href=\"http://stackoverflow.com/a/37940175/2655063\">@onmyway133 answer</a>, but more user-friendly is after finish installing the <code>Xcode 8-beta</code> version, go to Xcode 7.3 preferences (<code>Cmd</code> + <code>,</code>), go to the tab locations, change the <code>Command Line Tools</code> to <code>Xcode 8</code> in the dropdown list.</p>\n\n<p>I successfully built to both iOS simulator 9.3 and my device iOS 10 beta using Xcode 7.3.</p>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "answer_id": 38004851, "link": "http://stackoverflow.com/questions/30736932/xcode-error-could-not-find-developer-disk-image/38004851#38004851", "tags": ["ios", "iphone", "xcode", "swift"]}, {"body": "<p>just my cent for iOS10 (under NDA, but for people that can use it legally...)</p>\n\n<ul>\n<li>copying full folder (as other people said) works</li>\n<li>symbolic link seems not.</li>\n</ul>\n\n<p>tested using Xcode 7.3 (std from Store) \nAND iPhone 6Plus with 10.0 (14A5261v)</p>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "answer_id": 38410355, "link": "http://stackoverflow.com/questions/30736932/xcode-error-could-not-find-developer-disk-image/38410355#38410355", "tags": ["ios", "iphone", "xcode", "swift"]}, {"body": "<p>This error will come when your Xcode does not support your device IOS version</p>\n\n<p>Means when you are trying debug application with Xcode version 6 in device which have latest iOS version 9.0 then you got the \u201cXcode error Could not find Developer Disk Image\u201d error.</p>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "answer_id": 38790507, "link": "http://stackoverflow.com/questions/30736932/xcode-error-could-not-find-developer-disk-image/38790507#38790507", "tags": ["ios", "iphone", "xcode", "swift"]}, {"body": "<p>For ios 10 beta 7 add the following Link in command line:</p>\n\n<pre><code>sudo ln -s /Applications/Xcode-beta.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport/10.0\\ \\(14A5339a\\) /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport\n</code></pre>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "answer_id": 39145704, "link": "http://stackoverflow.com/questions/30736932/xcode-error-could-not-find-developer-disk-image/39145704#39145704", "tags": ["ios", "iphone", "xcode", "swift"]}], "question_id": 30736932}, {"body": "<p>I recently compared the processing speeds of <code>[]</code> and <code>list()</code> and was surprised to discover that <code>[]</code> runs <em>more than three times faster</em> than <code>list()</code>. I ran the same test with <code>{}</code> and <code>dict()</code> and the results were practically identical: <code>[]</code> and <code>{}</code> both took around 0.128sec / million cycles, while <code>list()</code> and <code>dict()</code> took roughly 0.428sec / million cycles each.</p>\n\n<p>Why is this? Do <code>[]</code> and <code>{}</code> (probably <code>()</code> and <code>''</code>, too) immediately pass back a copies of some empty stock literal while their explicitly-named counterparts (<code>list()</code>, <code>dict()</code>, <code>tuple()</code>, <code>str()</code>) fully go about creating an object, whether or not they actually have elements?</p>\n\n<p>I have no idea how these two methods differ but I'd love to find out.\nI couldn't find an answer in the <code>docs</code> or on SO, and searching for empty brackets turned out to be more complicated than I'd expected.</p>\n\n<p>I got my timing results by calling <code>timeit.timeit(\"[]\")</code> and <code>timeit.timeit(\"list()\")</code>, and <code>timeit.timeit(\"{}\")</code> and <code>timeit.timeit(\"dict()\")</code>, to compare lists and dictionaries, respectively. I'm running Python 2.7.9.</p>\n\n<p>I recently discovered \"<a href=\"http://stackoverflow.com/questions/18123965/why-if-true-is-slower-than-if-1\">Why is if True slower than if 1?</a>\" that compares the performance of <code>if True</code> to <code>if 1</code> and seems to touch on a similar literal-versus-global scenario; perhaps it's worth considering as well.</p>\n", "title": "Why is [] faster than list()?", "tags": ["python", "performance", "list", "instantiation", "literals"], "answer_count": 3, "link": "http://stackoverflow.com/questions/30216000/why-is-faster-than-list", "answers": [{"body": "<p>Because <code>list</code> is a <a href=\"https://docs.python.org/2/library/functions.html#list\">function</a> to convert say a string to a list object, while <code>[]</code> is used to create a list off the bat. Try this (might make more sense to you):</p>\n\n<pre><code>x = \"wham bam\"\na = list(x)\n&gt;&gt;&gt; a\n[\"w\", \"h\", \"a\", \"m\", ...]\n</code></pre>\n\n<p>While</p>\n\n<pre><code>y = [\"wham bam\"]\n&gt;&gt;&gt; y\n[\"wham bam\"]\n</code></pre>\n\n<p>Gives you a actual list containing whatever you put in it.</p>\n", "title": "Why is [] faster than list()?", "answer_id": 30216145, "link": "http://stackoverflow.com/questions/30216000/why-is-faster-than-list/30216145#30216145", "tags": ["python", "performance", "list", "instantiation", "literals"]}, {"body": "<p>Because <code>[]</code> and <code>{}</code> are <em>literal syntax</em>. Python can create bytecode just to create the list or dictionary objects:</p>\n\n<pre><code>&gt;&gt;&gt; import dis\n&gt;&gt;&gt; dis.dis(compile('[]', '', 'eval'))\n  1           0 BUILD_LIST               0\n              3 RETURN_VALUE        \n&gt;&gt;&gt; dis.dis(compile('{}', '', 'eval'))\n  1           0 BUILD_MAP                0\n              3 RETURN_VALUE        \n</code></pre>\n\n<p><code>list()</code> and <code>dict()</code> are separate objects. Their names need to be resolved, the stack has to be involved to push the arguments, the frame has to be stored to retrieve later, and a call has to be made. That all takes more time.</p>\n\n<p>For the empty case, that means you have at the very least a <a href=\"https://docs.python.org/2/library/dis.html#opcode-LOAD_NAME\"><code>LOAD_NAME</code></a> (which has to search through the global namespace as well as the <a href=\"https://docs.python.org/2/library/__builtin__.html\"><code>__builtin__</code> module</a>) followed by a <a href=\"https://docs.python.org/2/library/dis.html#opcode-CALL_FUNCTION\"><code>CALL_FUNCTION</code></a>, which has to preserve the current frame:</p>\n\n<pre><code>&gt;&gt;&gt; dis.dis(compile('list()', '', 'eval'))\n  1           0 LOAD_NAME                0 (list)\n              3 CALL_FUNCTION            0\n              6 RETURN_VALUE        \n&gt;&gt;&gt; dis.dis(compile('dict()', '', 'eval'))\n  1           0 LOAD_NAME                0 (dict)\n              3 CALL_FUNCTION            0\n              6 RETURN_VALUE        \n</code></pre>\n\n<p>You can time the name lookup separately with <code>timeit</code>:</p>\n\n<pre><code>&gt;&gt;&gt; import timeit\n&gt;&gt;&gt; timeit.timeit('list', number=10**7)\n0.30749011039733887\n&gt;&gt;&gt; timeit.timeit('dict', number=10**7)\n0.4215109348297119\n</code></pre>\n\n<p>The time discrepancy there is probably a dictionary hash collision. Subtract those times from the times for calling those objects, and compare the result against the times for using literals:</p>\n\n<pre><code>&gt;&gt;&gt; timeit.timeit('[]', number=10**7)\n0.30478692054748535\n&gt;&gt;&gt; timeit.timeit('{}', number=10**7)\n0.31482696533203125\n&gt;&gt;&gt; timeit.timeit('list()', number=10**7)\n0.9991960525512695\n&gt;&gt;&gt; timeit.timeit('dict()', number=10**7)\n1.0200958251953125\n</code></pre>\n\n<p>So having to call the object takes an additional <code>1.00 - 0.31 - 0.30 == 0.39</code> seconds per 10 million calls.</p>\n\n<p>You can avoid the global lookup cost by aliasing the global names as locals (using a <code>timeit</code> setup, everything you bind to a name is a local):</p>\n\n<pre><code>&gt;&gt;&gt; timeit.timeit('_list', '_list = list', number=10**7)\n0.1866450309753418\n&gt;&gt;&gt; timeit.timeit('_dict', '_dict = dict', number=10**7)\n0.19016098976135254\n&gt;&gt;&gt; timeit.timeit('_list()', '_list = list', number=10**7)\n0.841480016708374\n&gt;&gt;&gt; timeit.timeit('_dict()', '_dict = dict', number=10**7)\n0.7233691215515137\n</code></pre>\n\n<p>but you never can overcome that <code>CALL_FUNCTION</code> cost.</p>\n", "title": "Why is [] faster than list()?", "answer_id": 30216156, "link": "http://stackoverflow.com/questions/30216000/why-is-faster-than-list/30216156#30216156", "tags": ["python", "performance", "list", "instantiation", "literals"]}, {"body": "<p><code>list()</code> requires a global lookup and a function call but <code>[]</code> compiles to a single instruction. See:</p>\n\n<pre><code>Python 2.7.3\n&gt;&gt;&gt; import dis\n&gt;&gt;&gt; print dis.dis(lambda: list())\n  1           0 LOAD_GLOBAL              0 (list)\n              3 CALL_FUNCTION            0\n              6 RETURN_VALUE        \nNone\n&gt;&gt;&gt; print dis.dis(lambda: [])\n  1           0 BUILD_LIST               0\n              3 RETURN_VALUE        \nNone\n</code></pre>\n", "title": "Why is [] faster than list()?", "answer_id": 30216174, "link": "http://stackoverflow.com/questions/30216000/why-is-faster-than-list/30216174#30216174", "tags": ["python", "performance", "list", "instantiation", "literals"]}], "question_id": 30216000}, {"body": "<p>I have this new warning about the Google Framework in my app:</p>\n\n<blockquote>\n  <p>(null): URGENT: all bitcode will be dropped because\n  '/Users/myname/Library/Mobile\n  Documents/com~apple~CloudDocs/foldername/appname/GoogleMobileAds.framework/GoogleMobileAds(GADSlot+AdEvents.o)'\n  was built without bitcode. You must rebuild it with bitcode enabled\n  (Xcode setting ENABLE_BITCODE), obtain an updated library from the\n  vendor, or disable bitcode for this target. Note: This will be an\n  error in the future.</p>\n</blockquote>\n\n<p>Xcode 7 is giving me around 204 warnings about this same concept, and I could not get around with this. Also I have a problem accessing the network from my app. This is the error from the Debugging Area:</p>\n\n<blockquote>\n  <p>-canOpenURL: failed for URL: \"kindle://home\" - error: \"This app is\n  not allowed to query for scheme kindle\"</p>\n</blockquote>\n\n<p>All of these problems were not present in iOS 8.</p>\n", "title": "New warnings in iOS 9", "tags": ["xcode", "ios9", "bitcode"], "answer_count": 8, "link": "http://stackoverflow.com/questions/30848208/new-warnings-in-ios-9", "answers": [{"body": "<p>Your library was compiled without bitcode, but the bitcode option is enabled in your project settings. Say <code>NO</code> to <code>Enable Bitcode</code> in your target Build Settings and the Library Build Settings to remove the warnings.</p>\n\n<p>For those wondering if enabling bitcode is required: </p>\n\n<blockquote>\n  <p>Note: For iOS apps, bitcode is the default, but optional. If you\n  provide bitcode, all apps and frameworks in the app bundle need to\n  include bitcode. For watchOS apps, bitcode is required.</p>\n</blockquote>\n\n<p><a href=\"https://developer.apple.com/library/prerelease/watchos/documentation/IDEs/Conceptual/AppDistributionGuide/AppThinning/AppThinning.html\">https://developer.apple.com/library/prerelease/watchos/documentation/IDEs/Conceptual/AppDistributionGuide/AppThinning/AppThinning.html</a></p>\n", "title": "New warnings in iOS 9", "answer_id": 30856364, "link": "http://stackoverflow.com/questions/30848208/new-warnings-in-ios-9/30856364#30856364", "tags": ["xcode", "ios9", "bitcode"]}, {"body": "<p>After Xcode 7, the bitcode option will be enabled by default. If your library was compiled without bitcode, but the bitcode option is enabled in your project settings, you can:</p>\n\n<ol>\n<li>Update your library with bit code, </li>\n<li>Say NO to <em>Enable Bitcode</em> in your target <em>Build Settings</em></li>\n</ol>\n\n<blockquote>\n  <p><img src=\"https://i.imgur.com/OoOogUe.gif\" alt=\"Enter image description here\"></p>\n</blockquote>\n\n<p>And the Library Build Settings to remove the warnings.</p>\n\n<p>For more information, go to <a href=\"https://developer.apple.com/library/prerelease/watchos/documentation/IDEs/Conceptual/AppDistributionGuide/AppThinning/AppThinning.html#//apple_ref/doc/uid/TP40012582-CH35-SW2\">documentation of bitcode in developer library</a>.</p>\n\n<p>And WWDC 2015 Session 102: <a href=\"https://developer.apple.com/videos/wwdc/2015/?id=102\">\"Platforms State of the Union\"</a></p>\n\n<p><img src=\"http://mobileforward.net/wp-content/uploads/2015/06/Screen-Shot-2015-06-12-at-6.57.54-PM-697x351.png\" alt=\"Enter image description here\"></p>\n", "title": "New warnings in iOS 9", "answer_id": 30905883, "link": "http://stackoverflow.com/questions/30848208/new-warnings-in-ios-9/30905883#30905883", "tags": ["xcode", "ios9", "bitcode"]}, {"body": "<p>Method <code>canOpenUrl</code> is in iOS 9 (due to privacy) changed and is not free to use any more. Your banner provider checks for installed apps so that they do not show banners for an app that is already installed.</p>\n\n<p>That gives all the log statements like</p>\n\n<p>-canOpenURL: failed for URL: \"kindle://home\" - error: \"This app is not allowed to query for scheme kindle\"</p>\n\n<p>The providers should update their logic for this.</p>\n\n<p>If you need to query for installed apps/available schemes you need to add them to your <code>info.plist</code> file.</p>\n\n<p>Add the key 'LSApplicationQueriesSchemes' to your plist as an array. Then add strings in that array like 'kindle'.</p>\n\n<p>Of course this is not really an option for the banner ads (since those are dynamic), but you can still query that way for your own apps or specific other apps like Twitter and Facebook.</p>\n\n<p>Documentation of the canOpenUrl: method\n<a href=\"https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UIApplication_Class/#//apple_ref/occ/instm/UIApplication/canOpenURL:\" rel=\"nofollow\">canOpenUrl:</a></p>\n\n<p><a href=\"https://developer.apple.com/library/prerelease/ios/documentation/General/Reference/InfoPlistKeyReference/Articles/LaunchServicesKeys.html#//apple_ref/doc/uid/TP40009250-SW14\" rel=\"nofollow\">Documentation about the LSApplicationQueriesSchemes key</a></p>\n", "title": "New warnings in iOS 9", "answer_id": 32497488, "link": "http://stackoverflow.com/questions/30848208/new-warnings-in-ios-9/32497488#32497488", "tags": ["xcode", "ios9", "bitcode"]}, {"body": "<p>To fix the issues with the canOpenURL failing. This is because of the new App Transport Security feature in iOS9</p>\n\n<p>Read this post to fix that issue <a href=\"http://discoverpioneer.com/blog/2015/09/18/updating-facebook-integration-for-ios-9/\" rel=\"nofollow\">http://discoverpioneer.com/blog/2015/09/18/updating-facebook-integration-for-ios-9/</a></p>\n", "title": "New warnings in iOS 9", "answer_id": 32657020, "link": "http://stackoverflow.com/questions/30848208/new-warnings-in-ios-9/32657020#32657020", "tags": ["xcode", "ios9", "bitcode"]}, {"body": "<p>In my case for avoiding that problem:</p>\n\n<ol>\n<li><p>Be sure that you are dealing with <strong>Xcode 7</strong>, NOT lower versions. In lower version this flag does not exist.</p></li>\n<li><p>Setup: <strong>Project>Build Settings>All>Build Options>Enable Bitcode = NO</strong></p></li>\n</ol>\n\n<p><a href=\"http://i.stack.imgur.com/yHSWb.png\"><img src=\"http://i.stack.imgur.com/yHSWb.png\" alt=\"enter image description here\"></a></p>\n", "title": "New warnings in iOS 9", "answer_id": 32692000, "link": "http://stackoverflow.com/questions/30848208/new-warnings-in-ios-9/32692000#32692000", "tags": ["xcode", "ios9", "bitcode"]}, {"body": "<p>Disclaimer: This is intended for those supporting a <a href=\"http://en.wikipedia.org/wiki/Continuous_integration\" rel=\"nofollow\">continuous integration</a> workflow that require an automated process. If you don't, please use Xcode as described in <a href=\"http://stackoverflow.com/a/32692000/890242\">Javier's answer</a>.</p>\n\n<p>This worked for me to set <code>ENABLE_BITCODE = NO</code> via the command line:</p>\n\n<pre><code>find . -name *project.pbxproj | xargs sed -i -e 's/\\(GCC_VERSION = \"\";\\)/\\1\\ ENABLE_BITCODE = NO;/g'\n</code></pre>\n\n<p>Note that this is likely to be unstable across Xcode versions. It was tested with Xcode 7.0.1 and as part of a Cordova 4.0 project.</p>\n", "title": "New warnings in iOS 9", "answer_id": 32846813, "link": "http://stackoverflow.com/questions/30848208/new-warnings-in-ios-9/32846813#32846813", "tags": ["xcode", "ios9", "bitcode"]}, {"body": "<p>If you are using <strong>CocoaPods</strong> and you want to disable Bitcode for all libraries, use the following command in the Podfile </p>\n\n<pre><code>post_install do |installer|\n    installer.pods_project.targets.each do |target|\n        target.build_configurations.each do |config|\n            config.build_settings['ENABLE_BITCODE'] = 'NO'\n        end\n    end\nend\n</code></pre>\n", "title": "New warnings in iOS 9", "answer_id": 32891418, "link": "http://stackoverflow.com/questions/30848208/new-warnings-in-ios-9/32891418#32891418", "tags": ["xcode", "ios9", "bitcode"]}, {"body": "<p>This issue has been recently fixed (Nov 2010) by Google, see <a href=\"https://code.google.com/p/analytics-issues/issues/detail?id=671\" rel=\"nofollow\">https://code.google.com/p/analytics-issues/issues/detail?id=671</a>. But be aware that as a good fix it brings more bugs :)</p>\n\n<p>You will also have to follow the initialisation method listed here: <a href=\"https://developers.google.com/analytics/devguides/collection/ios/v2\" rel=\"nofollow\">https://developers.google.com/analytics/devguides/collection/ios/v2</a>.</p>\n\n<p>The latest instructions are going to give you a headache because it references utilities not included in the pod. Below will fail with the cocoapod</p>\n\n<pre><code>// Configure tracker from GoogleService-Info.plist.\nNSError *configureError;\n[[GGLContext sharedInstance] configureWithError:&amp;configureError];\nNSAssert(!configureError, @\"Error configuring Google services: %@\", configureError);\n</code></pre>\n", "title": "New warnings in iOS 9", "answer_id": 33647841, "link": "http://stackoverflow.com/questions/30848208/new-warnings-in-ios-9/33647841#33647841", "tags": ["xcode", "ios9", "bitcode"]}], "question_id": 30848208}, {"body": "<p>This is not a duplicate of <a href=\"http://stackoverflow.com/questions/25719713/untrusted-app-developer-message-when-installing-enterprise-ios-application\">Untrusted App Developer</a>. Since iOS9 there is no option to trust an enterprise build. Has anyone found a workaround? </p>\n\n<p><img src=\"http://i.stack.imgur.com/YKTGq.png\" alt=\"enter image description here\"></p>\n", "title": "iOS9 Untrusted Enterprise Developer with no option to trust", "tags": ["ios-enterprise", "ios9"], "answer_count": 6, "link": "http://stackoverflow.com/questions/30722883/ios9-untrusted-enterprise-developer-with-no-option-to-trust", "answers": [{"body": "<p>In iOS 9.1 and lower, go to Settings - General - Profiles - tap on your Profile - tap on Trust button.</p>\n\n<p>In iOS 9.2+, go to Settings - General - Device Management - tap on your Profile - tap on Trust button. </p>\n", "title": "iOS9 Untrusted Enterprise Developer with no option to trust", "answer_id": 30726375, "link": "http://stackoverflow.com/questions/30722883/ios9-untrusted-enterprise-developer-with-no-option-to-trust/30726375#30726375", "tags": ["ios-enterprise", "ios9"]}, {"body": "<p>Do it like this:</p>\n\n<p><img src=\"https://i.imgur.com/AdGNYHe.gif\" alt=\"Enter image description here\"></p>\n\n<p>Go to <em>Settings</em> -> <em>General</em> -> <em>Profiles</em> - tap on your Profile - tap on the <em>Trust</em> button.</p>\n", "title": "iOS9 Untrusted Enterprise Developer with no option to trust", "answer_id": 30881984, "link": "http://stackoverflow.com/questions/30722883/ios9-untrusted-enterprise-developer-with-no-option-to-trust/30881984#30881984", "tags": ["ios-enterprise", "ios9"]}, {"body": "<p>For iOS 9 beta 3,4 users. Since the option to view profiles is not viewable do the following from Xcode. </p>\n\n<ol>\n<li>Open Xcode 7. </li>\n<li>Go to window, devices. </li>\n<li>Select your device. </li>\n<li>Delete all of the profiles loaded on the device. </li>\n<li>Delete the old app on your device. </li>\n<li>Clean and rebuild the app to your device. </li>\n</ol>\n", "title": "iOS9 Untrusted Enterprise Developer with no option to trust", "answer_id": 31660039, "link": "http://stackoverflow.com/questions/30722883/ios9-untrusted-enterprise-developer-with-no-option-to-trust/31660039#31660039", "tags": ["ios-enterprise", "ios9"]}, {"body": "<p><strong>Device</strong>: iPad Mini</p>\n\n<p><strong>OS</strong>: iOS 9 Beta 3</p>\n\n<p><strong>App downloaded from</strong>: Hockey App</p>\n\n<p><strong>Provisioning profile with Trust issues</strong>: Enterprise</p>\n\n<p>In my case, when I navigate to  Settings > General > Profiles, I could not see on any Apple provisioning profile. All I could see is a Configuration Profile which is HockeyApp Config.</p>\n\n<p><a href=\"http://i.stack.imgur.com/2yQ7p.jpg\"><img src=\"http://i.stack.imgur.com/2yQ7p.jpg\" alt=\"Settings&gt;General&gt;Profile\"></a></p>\n\n<p>Here are the steps that I followed:</p>\n\n<ol>\n<li>Connect the Device</li>\n<li>Open Xcode</li>\n<li>Navigate to Window > Devices</li>\n<li>Right click on the Device and select Show Provisioning Profiles...</li>\n<li>Delete your Enterprise provisioning profile. Hit Done.\n<a href=\"http://i.stack.imgur.com/M9LxN.png\"><img src=\"http://i.stack.imgur.com/M9LxN.png\" alt=\"Window&gt;Device&gt;Provisioning Profile\"></a></li>\n<li>Open HockeyApp. Install your app.</li>\n<li>Once the app finished installing, go back to Settings>General>Profiles. You should now be able to see your Enterprise provisioning profile.\n<a href=\"http://i.stack.imgur.com/mJYOY.jpg\"><img src=\"http://i.stack.imgur.com/mJYOY.jpg\" alt=\"enter image description here\"></a></li>\n<li>Click Trust\n<a href=\"http://i.stack.imgur.com/cJSbv.jpg\"><img src=\"http://i.stack.imgur.com/cJSbv.jpg\" alt=\"enter image description here\"></a></li>\n</ol>\n\n<p>That's it! You're done! You can now go back to your app and open it successfully. Hope this helped. :)</p>\n", "title": "iOS9 Untrusted Enterprise Developer with no option to trust", "answer_id": 31846230, "link": "http://stackoverflow.com/questions/30722883/ios9-untrusted-enterprise-developer-with-no-option-to-trust/31846230#31846230", "tags": ["ios-enterprise", "ios9"]}, {"body": "<p><strong>Changes to Enterprise App Distribution Coming in iOS 9</strong></p>\n\n<blockquote>\n  <p>iOS 9 introduces a new feature to help protect users from installing\n  in-house apps from untrusted sources. While no new app signing or\n  provisioning methods are required, the way your enterprise users\n  manage in-house apps installed on their iOS 9 devices will change. </p>\n  \n  <p>In-house apps installed using an MDM solution are explicitly trusted\n  and will no longer prompt the user to trust the developer that signed\n  and provisioned the app. If your enterprise app does not use an MDM\n  solution, users who install your app for the first time will be\n  prompted to trust the developer. All users who install your app for\n  the first time will need an internet connection.</p>\n  \n  <p>Using a new restriction, organizations can limit the apps installed on their devices to the in-house apps that they create. And a new interface in Settings allows users to see all enterprise apps installed from their organization.</p>\n</blockquote>\n\n<p><a href=\"http://i.stack.imgur.com/aEAuh.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/aEAuh.png\" alt=\"Changes to Enterprise App Distribution Coming in iOS 9\"></a></p>\n\n<p><em>Source:</em> Official email sent from developer@insideapple.apple.com to existing enterprise app developers.</p>\n", "title": "iOS9 Untrusted Enterprise Developer with no option to trust", "answer_id": 32262529, "link": "http://stackoverflow.com/questions/30722883/ios9-untrusted-enterprise-developer-with-no-option-to-trust/32262529#32262529", "tags": ["ios-enterprise", "ios9"]}, {"body": "<p>On iOS 9.2 <code>Profiles</code> renamed to <code>Device Management</code>.<br>\nNow navigation looks like that:<br>\n<code>Settings -&gt; General -&gt; Device Management -&gt; Tap on necessary profile in list -&gt; Trust.</code></p>\n", "title": "iOS9 Untrusted Enterprise Developer with no option to trust", "answer_id": 34211389, "link": "http://stackoverflow.com/questions/30722883/ios9-untrusted-enterprise-developer-with-no-option-to-trust/34211389#34211389", "tags": ["ios-enterprise", "ios9"]}], "question_id": 30722883}, {"body": "<p>With new android API 22 <code>getResources().getDrawable()</code> is now deprecated.\nNow the best approach is to use only <code>getDrawable()</code>.</p>\n\n<p>What change? </p>\n", "title": "Android getResources().getDrawable() deprecated API 22", "tags": ["android", "android-drawable", "android-resources", "android-5.1.1-lollipop"], "answer_count": 6, "link": "http://stackoverflow.com/questions/29041027/android-getresources-getdrawable-deprecated-api-22", "answers": [{"body": "<h3>Edit: see <a href=\"http://www.androiddesignpatterns.com/2016/08/contextcompat-getcolor-getdrawable.html\">my blog post</a> on the subject for a more complete explanation</h3>\n\n<hr>\n\n<p>You should use the following code from the support library instead:</p>\n\n<pre><code>ContextCompat.getDrawable(context, R.drawable.***)\n</code></pre>\n\n<p>Using this method is equivalent to calling:</p>\n\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n    return resources.getDrawable(id, context.getTheme());\n} else {\n    return resources.getDrawable(id);\n}\n</code></pre>\n\n<p>As of API 21, you should use the <code>getDrawable(int, Theme)</code> method instead of <code>getDrawable(int)</code>, as it allows you to fetch a drawable object associated with a particular resource ID for the given screen density/theme. Calling the deprecated <code>getDrawable(int)</code> method is equivalent to calling <code>getDrawable(int, null)</code>.</p>\n", "title": "Android getResources().getDrawable() deprecated API 22", "answer_id": 29041466, "link": "http://stackoverflow.com/questions/29041027/android-getresources-getdrawable-deprecated-api-22/29041466#29041466", "tags": ["android", "android-drawable", "android-resources", "android-5.1.1-lollipop"]}, {"body": "<p>Replace this line :\n    <code>getResources().getDrawable(R.drawable.your_drawable)</code></p>\n\n<p>with <code>ResourcesCompat.getDrawable(getResources(), R.drawable.your_drawable, null)</code></p>\n\n<p>EDIT</p>\n\n<p><code>ResourcesCompat</code> is also deprecated now. But you can use this:</p>\n\n<p><code>ContextCompat.getDrawable(this, R.drawable.your_drawable)</code> (Here <code>this</code> is the context)</p>\n\n<p>for more details follow this link: <a href=\"https://developer.android.com/reference/android/support/v4/content/ContextCompat.html\" rel=\"nofollow\">ContextCompat</a></p>\n", "title": "Android getResources().getDrawable() deprecated API 22", "answer_id": 29117227, "link": "http://stackoverflow.com/questions/29041027/android-getresources-getdrawable-deprecated-api-22/29117227#29117227", "tags": ["android", "android-drawable", "android-resources", "android-5.1.1-lollipop"]}, {"body": "<p>You have some options to handle this deprecation the right (and <strong>future proof</strong>) way, depending on which kind of drawable you are loading:</p>\n\n<p><strong>A)</strong> drawables <em>without</em> theme attributes</p>\n\n<pre><code>ResourcesCompat.getDrawable(getResources(), R.drawable.name, null);\n</code></pre>\n\n<p>You'll get your unstyled drawable the old way. This is probably what you need. </p>\n\n<p>Please note: <code>ResourcesCompat.getDrawable()</code> is <strong>not</strong> deprecated!</p>\n\n<p><strong>B)</strong> drawables <em>with</em> theme attributes</p>\n\n<pre><code>ContextCompat.getDrawable(getActivity(), R.drawable.name);\n</code></pre>\n\n<p>You'll obtain a styled Drawable as your Activity theme instructs.</p>\n\n<p><strong>EXTRA)</strong> drawables <em>with</em> theme attributes from <em>another</em> theme</p>\n\n<pre><code>ResourcesCompat.getDrawable(getResources(), R.drawable.name, anotherTheme);\n</code></pre>\n\n<p>Explanation:</p>\n\n<p>Android 21 (5.0 Lollipop) introduced some new theme attributes such as <code>android:colorAccent</code> that modify the appearance of drawables that hold references to those new theme attributes values.\nThe AppCompat library handles pre and post-Lollipop drawable styling for you.</p>\n\n<p>If you do use the deprecated <code>getDrawable()</code> method to obtain a drawable resource with theme attributes, you will get a partially-styled drawable and a logcat warning.\nYou can see this in API 22 <code>android.content.res.Resources</code> source code:</p>\n\n<pre><code>@Deprecated\n@Nullable\npublic Drawable getDrawable(int id) throws NotFoundException {\n    final Drawable d = getDrawable(id, null);\n    if (d != null &amp;&amp; d.canApplyTheme()) {\n        Log.w(TAG, \"Drawable \" + getResourceName(id) + \" has unresolved theme \"\n                + \"attributes! Consider using Resources.getDrawable(int, Theme) or \"\n                + \"Context.getDrawable(int).\", new RuntimeException());\n    }\n    return d;\n}\n</code></pre>\n\n<p>See <a href=\"http://developer.android.com/reference/android/support/v4/content/ContextCompat.html#getDrawable(android.content.Context,%20int)\">ContextCompat Reference</a>, <a href=\"https://developer.android.com/reference/android/support/v4/content/res/ResourcesCompat.html#getDrawable(android.content.res.Resources,%20int,%20android.content.res.Resources.Theme)\">ResourcesCompat Reference</a> and <a href=\"https://plus.google.com/+BenjaminWeiss/posts/M1dYFaobyBM\">Benjamin Weiss g+ post</a></p>\n", "title": "Android getResources().getDrawable() deprecated API 22", "answer_id": 29146895, "link": "http://stackoverflow.com/questions/29041027/android-getresources-getdrawable-deprecated-api-22/29146895#29146895", "tags": ["android", "android-drawable", "android-resources", "android-5.1.1-lollipop"]}, {"body": "<h3><a href=\"https://developer.android.com/reference/android/content/res/Resources.html#getDrawable(int)\" rel=\"nofollow\"><code>getResources().getDrawable()</code></a> was deprecated in API level 22. Now we must add the theme:</h3>\n\n<p><a href=\"https://developer.android.com/reference/android/content/res/Resources.html#getDrawable(int,%20android.content.res.Resources.Theme)\" rel=\"nofollow\">getDrawable (int id, Resources.Theme theme)</a>  (Added in API level 21)</p>\n\n<p>This is an example:</p>\n\n<pre><code>myImgView.setImageDrawable(getResources().getDrawable(R.drawable.myimage, getApplicationContext().getTheme()));\n</code></pre>\n\n<p>This is an example how to validate for later versions:</p>\n\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) { //&gt;= API 21\n     myImgView.setImageDrawable(getResources().getDrawable(R.drawable.myimage, getApplicationContext().getTheme()));\n   } else { \n     myImgView.setImageDrawable(getResources().getDrawable(R.drawable.myimage));\n}\n</code></pre>\n", "title": "Android getResources().getDrawable() deprecated API 22", "answer_id": 32854026, "link": "http://stackoverflow.com/questions/29041027/android-getresources-getdrawable-deprecated-api-22/32854026#32854026", "tags": ["android", "android-drawable", "android-resources", "android-5.1.1-lollipop"]}, {"body": "<p>Build.VERSION_CODES.LOLLIPOP should now be changed to BuildVersionCodes.Lollipop\ni.e:</p>\n\n<pre><code>  if (Build.VERSION.SdkInt &gt;= BuildVersionCodes.Lollipop)\n                {\n                    this.Control.Background = this.Resources.GetDrawable(Resource.Drawable.AddBorder, Context.Theme);\n                 }\n                else\n                {\n                    this.Control.Background = this.Resources.GetDrawable(Resource.Drawable.AddBorder);\n\n                }\n</code></pre>\n", "title": "Android getResources().getDrawable() deprecated API 22", "answer_id": 34033187, "link": "http://stackoverflow.com/questions/29041027/android-getresources-getdrawable-deprecated-api-22/34033187#34033187", "tags": ["android", "android-drawable", "android-resources", "android-5.1.1-lollipop"]}, {"body": "<p>Just an example of how I fixed the problem in an array to load a listView, hope it helps.</p>\n\n<pre><code> mItems = new ArrayList&lt;ListViewItem&gt;();\n//    Resources resources = getResources();\n\n//    mItems.add(new ListViewItem(resources.getDrawable(R.drawable.az_lgo), getString(R.string.st_az), getString(R.string.all_nums)));\n//    mItems.add(new ListViewItem(resources.getDrawable(R.drawable.ca_lgo), getString(R.string.st_ca), getString(R.string.all_nums)));\n//    mItems.add(new ListViewItem(resources.getDrawable(R.drawable.co_lgo), getString(R.string.st_co), getString(R.string.all_nums)));\n    mItems.add(new ListViewItem(ResourcesCompat.getDrawable(getResources(), R.drawable.az_lgo, null), getString(R.string.st_az), getString(R.string.all_nums)));\n    mItems.add(new ListViewItem(ResourcesCompat.getDrawable(getResources(), R.drawable.ca_lgo, null), getString(R.string.st_ca), getString(R.string.all_nums)));\n    mItems.add(new ListViewItem(ResourcesCompat.getDrawable(getResources(), R.drawable.co_lgo, null), getString(R.string.st_co), getString(R.string.all_nums)));\n</code></pre>\n", "title": "Android getResources().getDrawable() deprecated API 22", "answer_id": 34750353, "link": "http://stackoverflow.com/questions/29041027/android-getresources-getdrawable-deprecated-api-22/34750353#34750353", "tags": ["android", "android-drawable", "android-resources", "android-5.1.1-lollipop"]}], "question_id": 29041027}, {"body": "<p>I'm looking for a way to test whether or not a given string repeats itself for the entire string or not.</p>\n\n<p>Examples:</p>\n\n<pre><code>[\n    '0045662100456621004566210045662100456621',             # '00456621'\n    '0072992700729927007299270072992700729927',             # '00729927'\n    '001443001443001443001443001443001443001443',           # '001443'\n    '037037037037037037037037037037037037037037037',        # '037'\n    '047619047619047619047619047619047619047619',           # '047619'\n    '002457002457002457002457002457002457002457',           # '002457'\n    '001221001221001221001221001221001221001221',           # '001221'\n    '001230012300123001230012300123001230012300123',        # '00123'\n    '0013947001394700139470013947001394700139470013947',    # '0013947'\n    '001001001001001001001001001001001001001001001001001',  # '001'\n    '001406469760900140646976090014064697609',              # '0014064697609'\n]\n</code></pre>\n\n<p>are strings which repeat themselves, and</p>\n\n<pre><code>[\n    '004608294930875576036866359447',\n    '00469483568075117370892018779342723',\n    '004739336492890995260663507109',\n    '001508295625942684766214177978883861236802413273',\n    '007518796992481203',\n    '0071942446043165467625899280575539568345323741',\n    '0434782608695652173913',\n    '0344827586206896551724137931',\n    '002481389578163771712158808933',\n    '002932551319648093841642228739',\n    '0035587188612099644128113879',\n    '003484320557491289198606271777',\n    '00115074798619102416570771',\n]\n</code></pre>\n\n<p>are examples of ones that do not.</p>\n\n<p>The repeating sections of the strings I'm given can be quite long, and the strings themselves can be 500 or more characters, so looping through each character trying to build a pattern then checking the pattern vs the rest of the string seems awful slow. Multiply that by potentially hundreds of strings and I can't see any intuitive solution.</p>\n\n<p>I've looked into regexes a bit and they seem good for when you know what you're looking for, or at least the length of the pattern you're looking for. Unfortunately, I know neither.</p>\n\n<p>How can I tell if a string is repeating itself and if it is, what the shortest repeating subsequence is?</p>\n", "title": "How can I tell if a string repeats itself in Python?", "tags": ["python", "string", "pattern-matching"], "answer_count": 12, "link": "http://stackoverflow.com/questions/29481088/how-can-i-tell-if-a-string-repeats-itself-in-python", "answers": [{"body": "<p>Here's a solution using regular expressions.</p>\n\n<pre><code>import re\n\nREPEATER = re.compile(r\"(.+?)\\1+$\")\n\ndef repeated(s):\n    match = REPEATER.match(s)\n    return match.group(1) if match else None\n</code></pre>\n\n<p>Iterating over the examples in the question:</p>\n\n<pre><code>examples = [\n    '0045662100456621004566210045662100456621',\n    '0072992700729927007299270072992700729927',\n    '001443001443001443001443001443001443001443',\n    '037037037037037037037037037037037037037037037',\n    '047619047619047619047619047619047619047619',\n    '002457002457002457002457002457002457002457',\n    '001221001221001221001221001221001221001221',\n    '001230012300123001230012300123001230012300123',\n    '0013947001394700139470013947001394700139470013947',\n    '001001001001001001001001001001001001001001001001001',\n    '001406469760900140646976090014064697609',\n    '004608294930875576036866359447',\n    '00469483568075117370892018779342723',\n    '004739336492890995260663507109',\n    '001508295625942684766214177978883861236802413273',\n    '007518796992481203',\n    '0071942446043165467625899280575539568345323741',\n    '0434782608695652173913',\n    '0344827586206896551724137931',\n    '002481389578163771712158808933',\n    '002932551319648093841642228739',\n    '0035587188612099644128113879',\n    '003484320557491289198606271777',\n    '00115074798619102416570771',\n]\n\nfor e in examples:\n    sub = repeated(e)\n    if sub:\n        print(\"%r: %r\" % (e, sub))\n    else:\n        print(\"%r does not repeat.\" % e)\n</code></pre>\n\n<p>... produces this output:</p>\n\n<pre><code>'0045662100456621004566210045662100456621': '00456621'\n'0072992700729927007299270072992700729927': '00729927'\n'001443001443001443001443001443001443001443': '001443'\n'037037037037037037037037037037037037037037037': '037'\n'047619047619047619047619047619047619047619': '047619'\n'002457002457002457002457002457002457002457': '002457'\n'001221001221001221001221001221001221001221': '001221'\n'001230012300123001230012300123001230012300123': '00123'\n'0013947001394700139470013947001394700139470013947': '0013947'\n'001001001001001001001001001001001001001001001001001': '001'\n'001406469760900140646976090014064697609': '0014064697609'\n'004608294930875576036866359447' does not repeat.\n'00469483568075117370892018779342723' does not repeat.\n'004739336492890995260663507109' does not repeat.\n'001508295625942684766214177978883861236802413273' does not repeat.\n'007518796992481203' does not repeat.\n'0071942446043165467625899280575539568345323741' does not repeat.\n'0434782608695652173913' does not repeat.\n'0344827586206896551724137931' does not repeat.\n'002481389578163771712158808933' does not repeat.\n'002932551319648093841642228739' does not repeat.\n'0035587188612099644128113879' does not repeat.\n'003484320557491289198606271777' does not repeat.\n'00115074798619102416570771' does not repeat.\n</code></pre>\n\n<p>The regular expression <code>(.+?)\\1+$</code> is divided into three parts:</p>\n\n<ol>\n<li><p><code>(.+?)</code> is a matching group containing at least one (but as few as possible) of any character (because <a href=\"https://docs.python.org/3/library/re.html#regular-expression-syntax\"><code>+?</code> is non-greedy</a>).</p></li>\n<li><p><code>\\1+</code> checks for at least one repetition of the matching group in the first part.</p></li>\n<li><p><code>$</code> checks for the end of the string, to ensure that there's no extra, non-repeating content after the repeated substrings (and using <a href=\"https://docs.python.org/3/library/re.html#re.match\"><code>re.match()</code></a> ensures that there's no non-repeating text <em>before</em> the repeated substrings).</p></li>\n</ol>\n\n<p>In Python 3.4 and later, you could drop the <code>$</code> and use <a href=\"https://docs.python.org/3/library/re.html#re.fullmatch\"><code>re.fullmatch()</code></a> instead, or (in any Python at least as far back as 2.3) go the other way and use <a href=\"https://docs.python.org/3/library/re.html#re.search\"><code>re.search()</code></a> with the regex <code>^(.+?)\\1+$</code>, all of which are more down to personal taste than anything else.</p>\n", "title": "How can I tell if a string repeats itself in Python?", "answer_id": 29481228, "link": "http://stackoverflow.com/questions/29481088/how-can-i-tell-if-a-string-repeats-itself-in-python/29481228#29481228", "tags": ["python", "string", "pattern-matching"]}, {"body": "<p>Non-regex solution:</p>\n\n<pre><code>def repeat(string):\n    for i in range(1, len(string)//2+1):\n        if not len(string)%len(string[0:i]) and string[0:i]*(len(string)//len(string[0:i])) == string:\n            return string[0:i]\n</code></pre>\n\n<p>Faster non-regex solution, thanks to @ThatWeirdo (see comments):</p>\n\n<pre><code>def repeat(string):\n    l = len(string)\n    for i in range(1, len(string)//2+1):\n        if l%i: continue\n        s = string[0:i]\n        if s*(l//i) == string:\n            return s\n</code></pre>\n\n<p>The above solution is very rarely slower than the original by a few percent, but it's usually a good bit faster - sometimes a whole lot faster. It's still not faster than davidism's for longer strings, and zero's regex solution is superior for short strings. It comes out to the fastest (according to davidism's test on github - see his answer) with strings of about 1000-1500 characters. Regardless, it's reliably second-fastest (or better) in all cases I tested. Thanks, ThatWeirdo.</p>\n\n<p>Test:</p>\n\n<pre><code>print(repeat('009009009'))\nprint(repeat('254725472547'))\nprint(repeat('abcdeabcdeabcdeabcde'))\nprint(repeat('abcdefg'))\nprint(repeat('09099099909999'))\nprint(repeat('02589675192'))\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code>009\n2547\nabcde\nNone\nNone\nNone\n</code></pre>\n", "title": "How can I tell if a string repeats itself in Python?", "answer_id": 29481244, "link": "http://stackoverflow.com/questions/29481088/how-can-i-tell-if-a-string-repeats-itself-in-python/29481244#29481244", "tags": ["python", "string", "pattern-matching"]}, {"body": "<p>You can make the observation that for a string to be considered repeating, its length must be divisible by the length of its repeated sequence. Given that, here is a solution that generates divisors of the length from <code>1</code> to <code>n / 2</code> inclusive, divides the original string into substrings with the length of the divisors, and tests the equality of the result set:</p>\n\n<pre><code>from math import sqrt, floor\n\ndef divquot(n):\n    if n &gt; 1:\n        yield 1, n\n    swapped = []\n    for d in range(2, int(floor(sqrt(n))) + 1):\n        q, r = divmod(n, d)\n        if r == 0:\n            yield d, q\n            swapped.append((q, d))\n    while swapped:\n        yield swapped.pop()\n\ndef repeats(s):\n    n = len(s)\n    for d, q in divquot(n):\n        sl = s[0:d]\n        if sl * q == s:\n            return sl\n    return None\n</code></pre>\n\n<p><strong>EDIT:</strong> In Python 3, the <code>/</code> operator has changed to do float division by default. To get the <code>int</code> division from Python 2, you can use the <code>//</code> operator instead. Thank you to @TigerhawkT3 for bringing this to my attention.</p>\n\n<p>The <code>//</code> operator performs integer division in both Python 2 and Python 3, so I've updated the answer to support both versions. The part where we test to see if all the substrings are equal is now a short-circuiting operation using <code>all</code> and a generator expression.</p>\n\n<p><strong>UPDATE:</strong> In response to a change in the original question, the code has now been updated to return the smallest repeating substring if it exists and <code>None</code> if it does not. @godlygeek has suggested using <code>divmod</code> to reduce the number of iterations on the <code>divisors</code> generator, and the code has been updated to match that as well. It now returns all positive divisors of <code>n</code> in ascending order, exclusive of <code>n</code> itself.</p>\n\n<p><strong>Further update for high performance:</strong> After multiple tests, I've come to the conclusion that  simply testing for string equality has the best performance out of any slicing or iterator solution in Python. Thus, I've taken a leaf out of @TigerhawkT3 's book and updated my solution. It's now over 6x as fast as before, noticably faster than Tigerhawk's solution but slower than David's.</p>\n", "title": "How can I tell if a string repeats itself in Python?", "answer_id": 29481262, "link": "http://stackoverflow.com/questions/29481088/how-can-i-tell-if-a-string-repeats-itself-in-python/29481262#29481262", "tags": ["python", "string", "pattern-matching"]}, {"body": "<p>Here's a straight forward solution, without regexes. </p>\n\n<p>For substrings of <code>s</code> starting from zeroth index, of lengths 1 through <code>len(s)</code>, check if that substring, <code>substr</code> is the repeated pattern. This check can be performed by concatenating <code>substr</code> with itself <code>ratio</code> times, such that the length of the string thus formed is equal to the length of <code>s</code>. Hence <code>ratio=len(s)/len(substr)</code>. </p>\n\n<p>Return when first such substring is found. This would provide the smallest possible substring, if one exists.</p>\n\n<pre><code>def check_repeat(s):\n    for i in range(1, len(s)):\n        substr = s[:i]\n        ratio = len(s)/len(substr)\n        if substr * ratio == s:\n            print 'Repeating on \"%s\"' % substr\n            return\n    print 'Non repeating'\n\n&gt;&gt;&gt; check_repeat('254725472547')\nRepeating on \"2547\"\n&gt;&gt;&gt; check_repeat('abcdeabcdeabcdeabcde')\nRepeating on \"abcde\"\n</code></pre>\n", "title": "How can I tell if a string repeats itself in Python?", "answer_id": 29482465, "link": "http://stackoverflow.com/questions/29481088/how-can-i-tell-if-a-string-repeats-itself-in-python/29482465#29482465", "tags": ["python", "string", "pattern-matching"]}, {"body": "<p>First, halve the string as long as it's a \"2 part\" duplicate.  This reduces the search space if there are an even number of repeats.  Then, working forwards to find the smallest repeating string, check if splitting the full string by increasingly larger sub-string results in only empty values.  Only sub-strings up to <code>length // 2</code> need to be tested since anything over that would have no repeats.</p>\n\n<pre><code>def shortest_repeat(orig_value):\n    if not orig_value:\n        return None\n\n    value = orig_value\n\n    while True:\n        len_half = len(value) // 2\n        first_half = value[:len_half]\n\n        if first_half != value[len_half:]:\n            break\n\n        value = first_half\n\n    len_value = len(value)\n    split = value.split\n\n    for i in (i for i in range(1, len_value // 2) if len_value % i == 0):\n        if not any(split(value[:i])):\n            return value[:i]\n\n    return value if value != orig_value else None\n</code></pre>\n\n<p>This returns the shortest match or None if there is no match.</p>\n", "title": "How can I tell if a string repeats itself in Python?", "answer_id": 29482830, "link": "http://stackoverflow.com/questions/29481088/how-can-i-tell-if-a-string-repeats-itself-in-python/29482830#29482830", "tags": ["python", "string", "pattern-matching"]}, {"body": "<p>Here are some benchmarks for the various answers to this question. There were some surprising results, including wildly different performance depending on the string being tested.</p>\n\n<p>Some functions were modified to work with Python 3 (mainly by replacing <code>/</code> with <code>//</code> to ensure integer division). If you see something wrong, want to add your function, or want to add another test string, ping @ZeroPiraeus in the <a href=\"http://chat.stackoverflow.com/rooms/6/python\">Python chatroom</a>.</p>\n\n<p>In summary: there's about a 50x difference between the best- and worst-performing solutions for the large set of example data supplied by OP <a href=\"http://paste.ubuntu.com/10765231/\">here</a> (via <a href=\"http://stackoverflow.com/questions/29481088/how-can-i-tell-if-a-string-repeats-itself-in-python#comment47156601_29481088\">this</a> comment). <a href=\"http://stackoverflow.com/a/29489919\">David Zhang's solution</a> is the clear winner, outperforming all others by around 5x for the large example set.</p>\n\n<p>A couple of the answers are <em>very</em> slow in extremely large \"no match\" cases. Otherwise, the functions seem to be equally matched or clear winners depending on the test.</p>\n\n<p>Here are the results, including plots made using matplotlib and seaborn to show the different distributions:</p>\n\n<hr>\n\n<p><strong>Corpus 1 (supplied examples - small set)</strong></p>\n\n<pre><code>mean performance:\n 0.0003  david_zhang\n 0.0009  zero\n 0.0013  antti\n 0.0013  tigerhawk_2\n 0.0015  carpetpython\n 0.0029  tigerhawk_1\n 0.0031  davidism\n 0.0035  saksham\n 0.0046  shashank\n 0.0052  riad\n 0.0056  piotr\n\nmedian performance:\n 0.0003  david_zhang\n 0.0008  zero\n 0.0013  antti\n 0.0013  tigerhawk_2\n 0.0014  carpetpython\n 0.0027  tigerhawk_1\n 0.0031  davidism\n 0.0038  saksham\n 0.0044  shashank\n 0.0054  riad\n 0.0058  piotr\n</code></pre>\n\n<p><a href=\"http://i.stack.imgur.com/Xx34F.png\"><img src=\"http://i.stack.imgur.com/Xx34F.png\" alt=\"Corpus 1 graph\"></a></p>\n\n<hr>\n\n<p><strong>Corpus 2 (supplied examples - large set)</strong></p>\n\n<pre><code>mean performance:\n 0.0006  david_zhang\n 0.0036  tigerhawk_2\n 0.0036  antti\n 0.0037  zero\n 0.0039  carpetpython\n 0.0052  shashank\n 0.0056  piotr\n 0.0066  davidism\n 0.0120  tigerhawk_1\n 0.0177  riad\n 0.0283  saksham\n\nmedian performance:\n 0.0004  david_zhang\n 0.0018  zero\n 0.0022  tigerhawk_2\n 0.0022  antti\n 0.0024  carpetpython\n 0.0043  davidism\n 0.0049  shashank\n 0.0055  piotr\n 0.0061  tigerhawk_1\n 0.0077  riad\n 0.0109  saksham\n</code></pre>\n\n<p><a href=\"http://i.stack.imgur.com/KZgxr.png\"><img src=\"http://i.stack.imgur.com/KZgxr.png\" alt=\"Corpus 1 graph\"></a></p>\n\n<hr>\n\n<p><strong>Corpus 3 (edge cases)</strong></p>\n\n<pre><code>mean performance:\n 0.0123  shashank\n 0.0375  david_zhang\n 0.0376  piotr\n 0.0394  carpetpython\n 0.0479  antti\n 0.0488  tigerhawk_2\n 0.2269  tigerhawk_1\n 0.2336  davidism\n 0.7239  saksham\n 3.6265  zero\n 6.0111  riad\n\nmedian performance:\n 0.0107  tigerhawk_2\n 0.0108  antti\n 0.0109  carpetpython\n 0.0135  david_zhang\n 0.0137  tigerhawk_1\n 0.0150  shashank\n 0.0229  saksham\n 0.0255  piotr\n 0.0721  davidism\n 0.1080  zero\n 1.8539  riad\n</code></pre>\n\n<p><a href=\"http://i.stack.imgur.com/w0qqT.png\"><img src=\"http://i.stack.imgur.com/w0qqT.png\" alt=\"Corpus 3 graph\"></a></p>\n\n<hr>\n\n<p>The tests and raw results are available <a href=\"https://bitbucket.org/snippets/schesis/nMnR/benchmarking-answers-to-http\">here</a>.</p>\n", "title": "How can I tell if a string repeats itself in Python?", "answer_id": 29482936, "link": "http://stackoverflow.com/questions/29481088/how-can-i-tell-if-a-string-repeats-itself-in-python/29482936#29482936", "tags": ["python", "string", "pattern-matching"]}, {"body": "<p>This version tries only those candidate sequence lengths that are factors of the string length; and uses the <code>*</code> operator to build a full-length string from the candidate sequence:</p>\n\n<pre><code>def get_shortest_repeat(string):\n    length = len(string)\n    for i in range(1, length // 2 + 1):\n        if length % i:  # skip non-factors early\n            continue\n\n        candidate = string[:i]\n        if string == candidate * (length // i):\n            return candidate\n\n    return None\n</code></pre>\n\n<p>Thanks to TigerhawkT3 for noticing that <code>length // 2</code> without <code>+ 1</code> would fail to match the <code>abab</code> case.</p>\n", "title": "How can I tell if a string repeats itself in Python?", "answer_id": 29484962, "link": "http://stackoverflow.com/questions/29481088/how-can-i-tell-if-a-string-repeats-itself-in-python/29484962#29484962", "tags": ["python", "string", "pattern-matching"]}, {"body": "<p>Here's a concise solution which avoids regular expressions and slow in-Python loops:</p>\n\n<pre><code>def principal_period(s):\n    i = (s+s).find(s, 1, -1)\n    return None if i == -1 else s[:i]\n</code></pre>\n\n<p>See the <a href=\"http://stackoverflow.com/a/29482936/2447250\">Community Wiki answer</a> started by @davidism for benchmark results. In summary,</p>\n\n<blockquote>\n  <p>David Zhang's solution is the clear winner, outperforming all others by at least 5x for the large example set.</p>\n</blockquote>\n\n<p>(That answer's words, not mine.)</p>\n\n<p>This is based on the observation that a string is periodic if and only if it is equal to a nontrivial rotation of itself. Kudos to @AleksiTorhamo for realizing that we can then recover the principal period from the index of the first occurrence of <code>s</code> in <code>(s+s)[1:-1]</code>, and for informing me of the optional <code>start</code> and <code>end</code> arguments of Python's <code>string.find</code>.</p>\n", "title": "How can I tell if a string repeats itself in Python?", "answer_id": 29489919, "link": "http://stackoverflow.com/questions/29481088/how-can-i-tell-if-a-string-repeats-itself-in-python/29489919#29489919", "tags": ["python", "string", "pattern-matching"]}, {"body": "<p>The problem may also be solved in <code>O(n)</code> in worst case with prefix function.</p>\n\n<p>Note, it may be slower in general case(UPD: and is much slower) than other solutions which depend on number of divisors of <code>n</code>, but usually find fails sooner, I think one of bad cases for them will be <code>aaa....aab</code>, where there are <code>n - 1 = 2 * 3 * 5 * 7 ... *p_n - 1</code> <code>a</code>'s</p>\n\n<p>First of all you need to calculate prefix function</p>\n\n<pre><code>def prefix_function(s):\n    n = len(s)\n    pi = [0] * n\n    for i in xrange(1, n):\n        j = pi[i - 1]\n        while(j &gt; 0 and s[i] != s[j]):\n            j = pi[j - 1]\n        if (s[i] == s[j]):\n            j += 1\n        pi[i] = j;\n    return pi\n</code></pre>\n\n<p>then either there's no answer or the shortest period is</p>\n\n<pre><code>k = len(s) - prefix_function(s[-1])\n</code></pre>\n\n<p>and you just have to check if <code>k != n and n % k == 0</code> (if <code>k != n and n % k == 0</code> then answer is <code>s[:k]</code>, else there's no answer</p>\n\n<p>You may check the proof <a href=\"http://e-maxx.ru/algo/prefix_function#header_12\">here</a> (in Russian, but online translator will probably do the trick)</p>\n\n<pre><code>def riad(s):\n    n = len(s)\n    pi = [0] * n\n    for i in xrange(1, n):\n        j = pi[i - 1]\n        while(j &gt; 0 and s[i] != s[j]):\n            j = pi[j - 1]\n        if (s[i] == s[j]):\n            j += 1\n        pi[i] = j;\n    k = n - pi[-1]\n    return s[:k] if (n != k and n % k == 0) else None\n</code></pre>\n", "title": "How can I tell if a string repeats itself in Python?", "answer_id": 29519746, "link": "http://stackoverflow.com/questions/29481088/how-can-i-tell-if-a-string-repeats-itself-in-python/29519746#29519746", "tags": ["python", "string", "pattern-matching"]}, {"body": "<p>I started with more than eight solutions to this problem. Some were bases on regex (match, findall, split), some of string slicing and testing, and some with string methods (find, count, split). Each had benefits in code clarity, code size, speed and memory consumption. I was going to post my answer here when I noticed that execution speed was ranked as important, so I did more testing and improvement to arrive at this:</p>\n\n\n\n<pre class=\"lang-python prettyprint-override\"><code>def repeating(s):\n    size = len(s)\n    incr = size % 2 + 1\n    for n in xrange(1, size//2+1, incr):\n        if size % n == 0:\n            if s[:n] * (size//n) == s:\n                return s[:n]\n</code></pre>\n\n<p>This answer seems similar to a few other answers here, but it has a few speed optimisations others have not used:</p>\n\n<ul>\n<li><code>xrange</code> is a little faster in this application,</li>\n<li>if an input string is an odd length, do not check any even length substrings,</li>\n<li>by using <code>s[:n]</code> directly, we avoid creating a variable in each loop.</li>\n</ul>\n\n<p>I would be interested to see how this performs in the standard tests with common hardware. I believe it will be well short of David Zhang's excellent algorithm in most tests, but should be quite fast otherwise.</p>\n\n<p>I found this problem to be very counter-intuitive. The solutions I thought would be fast were slow. The solutions that looked slow were fast! It seems that Python's string creation with the multiply operator and string comparisons are highly optimised.</p>\n", "title": "How can I tell if a string repeats itself in Python?", "answer_id": 29543743, "link": "http://stackoverflow.com/questions/29481088/how-can-i-tell-if-a-string-repeats-itself-in-python/29543743#29543743", "tags": ["python", "string", "pattern-matching"]}, {"body": "<p>This function runs very quickly (tested and it's over 3 times faster than fastest solution here on strings with over 100k characters and the difference gets bigger the longer the repeating pattern is). It tries to minimise the number of comparisons needed to get the answer:</p>\n\n<pre><code>def repeats(string):\n    n = len(string)\n    tried = set([])\n    best = None\n    nums = [i for i in  xrange(2, int(n**0.5) + 1) if n % i == 0]\n    nums = [n/i for i in nums if n/i!=i] + list(reversed(nums)) + [1]\n    for s in nums:\n        if all(t%s for t in tried):\n            print 'Trying repeating string of length:', s\n            if string[:s]*(n/s)==string:\n                best = s\n            else:\n                tried.add(s)\n    if best:\n        return string[:best]\n</code></pre>\n\n<p>Note that for example for string of length 8 it checks only fragment of size 4 and it does not have to test further because pattern of length 1 or 2 would result in repeating pattern of length 4:</p>\n\n<pre><code>&gt;&gt;&gt; repeats('12345678')\nTrying repeating string of length: 4\nNone\n\n# for this one we need only 2 checks \n&gt;&gt;&gt; repeats('1234567812345678')\nTrying repeating string of length: 8\nTrying repeating string of length: 4\n'12345678'\n</code></pre>\n", "title": "How can I tell if a string repeats itself in Python?", "answer_id": 29785400, "link": "http://stackoverflow.com/questions/29481088/how-can-i-tell-if-a-string-repeats-itself-in-python/29785400#29785400", "tags": ["python", "string", "pattern-matching"]}, {"body": "<p><em>Here is the code in python that checks for repetition of sub string in the main string given by the user</em>.</p>\n\n<pre><code>print \"Enter a string....\"\n#mainstring = String given by user\nmainstring=raw_input(\"&gt;\")\nif(mainstring==''):\n    print \"Invalid string\"\n    exit()\n#charlist = Character list of mainstring\ncharlist=list(mainstring)\nstrarr=''\nprint \"Length of your string :\",len(mainstring)\nfor i in range(0,len(mainstring)):\n    strarr=strarr+charlist[i]\n    splitlist=mainstring.split(strarr)\n    count = 0\n    for j in splitlist:\n        if j =='':\n            count+=1\n    if count == len(splitlist):\n        break\nif count == len(splitlist):\n    if count == 2:\n        print \"No repeating Sub-String found in string %r\"%(mainstring)\n\n    else:\n        print \"Sub-String %r repeats in string %r\"%(strarr,mainstring)\nelse :\n    print \"No repeating Sub-String found in string %r\"%(mainstring)\n</code></pre>\n\n<p><em>Input</em>:  </p>\n\n<blockquote>\n  <p>0045662100456621004566210045662100456621  </p>\n</blockquote>\n\n<p><em>Output</em> :</p>\n\n<blockquote>\n  <p>Length of your string : 40    </p>\n  \n  <p>Sub-String '00456621' repeats in string '0045662100456621004566210045662100456621' </p>\n</blockquote>\n\n<p><em>Input</em> :</p>\n\n<blockquote>\n  <p>004608294930875576036866359447</p>\n</blockquote>\n\n<p><em>Output</em>:  </p>\n\n<blockquote>\n  <p>Length of your string : 30</p>\n  \n  <p>No repeating Sub-String found in string '004608294930875576036866359447'</p>\n</blockquote>\n", "title": "How can I tell if a string repeats itself in Python?", "answer_id": 29880583, "link": "http://stackoverflow.com/questions/29481088/how-can-i-tell-if-a-string-repeats-itself-in-python/29880583#29880583", "tags": ["python", "string", "pattern-matching"]}], "question_id": 29481088}, {"body": "<p>I've just upgraded my app to use the newly released v22.1.0 AppCompat and I'm now getting the following exception when I open my app.</p>\n\n<pre><code>Caused by: java.lang.IllegalArgumentException: AppCompat does not support the current theme features\n        at android.support.v7.app.AppCompatDelegateImplV7.ensureSubDecor(AppCompatDelegateImplV7.java:360)\n        at android.support.v7.app.AppCompatDelegateImplV7.setContentView(AppCompatDelegateImplV7.java:246)\n        at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:106)\n</code></pre>\n\n<p>How do I fix it?</p>\n", "title": "Upgraded to AppCompat v22.1.0 and now getting IllegalArgumentException: AppCompat does not support the current theme features", "tags": ["android", "appcompat"], "answer_count": 4, "link": "http://stackoverflow.com/questions/29790070/upgraded-to-appcompat-v22-1-0-and-now-getting-illegalargumentexception-appcompa", "answers": [{"body": "<p>AppCompat is now more strict on what it expect in theme window flags, more closely matching what you would get from the framework.</p>\n\n<p>The main reason behind this is to support <a href=\"https://developer.android.com/reference/android/support/v7/app/AppCompatDialog.html\">AppCompatDialogs</a> which we were also adding in this release. They make heavy use of the <code>windowNoTitle</code> flag, which AppCompat previously didn't pay much attention to.</p>\n\n<p>So to fix your issue you have two options:</p>\n\n<p>The easy way is to just use <code>Theme.AppCompat.NoActionBar</code> as your parent theme. This will always do the right thing.</p>\n\n<p>If you can't do that though (maybe you need to support action bar and no action bar), you should do the following:</p>\n\n<pre><code>&lt;style name=\"MyTheme\" parent=\"Theme.AppCompat\"&gt;\n    ...\n&lt;/style&gt;\n\n&lt;style name=\"MyTheme.NoActionBar\"&gt;\n    &lt;!-- Both of these are needed --&gt;\n    &lt;item name=\"windowActionBar\"&gt;false&lt;/item&gt;\n    &lt;item name=\"windowNoTitle\"&gt;true&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>You should be back on track now.</p>\n", "title": "Upgraded to AppCompat v22.1.0 and now getting IllegalArgumentException: AppCompat does not support the current theme features", "answer_id": 29790071, "link": "http://stackoverflow.com/questions/29790070/upgraded-to-appcompat-v22-1-0-and-now-getting-illegalargumentexception-appcompa/29790071#29790071", "tags": ["android", "appcompat"]}, {"body": "<p>Just use this in your <code>style.xml</code> in values-v21 folder no other editing is needed</p>\n\n<pre><code> &lt;style name=\"AppTheme\" parent=\"Theme.AppCompat\"&gt;\n\n    &lt;!-- theme customizations --&gt;\n\n   &lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n    &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n    &lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n &lt;/style&gt;\n</code></pre>\n\n<p>Don't add anything in to activity file please leave it</p>\n\n<pre><code>public class Main extends ActionBarActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.main, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        // Handle action bar item clicks here. The action bar will\n        // automatically handle clicks on the Home/Up button, so long\n        // as you specify a parent activity in AndroidManifest.xml.\n        int id = item.getItemId();\n        if (id == R.id.action_settings) {\n            return true;\n        }\n        return super.onOptionsItemSelected(item);\n    }\n}\n</code></pre>\n", "title": "Upgraded to AppCompat v22.1.0 and now getting IllegalArgumentException: AppCompat does not support the current theme features", "answer_id": 30499490, "link": "http://stackoverflow.com/questions/29790070/upgraded-to-appcompat-v22-1-0-and-now-getting-illegalargumentexception-appcompa/30499490#30499490", "tags": ["android", "appcompat"]}, {"body": "<p>I added    </p>\n\n<pre><code>&lt;item name=\"windowActionBar\"&gt;false&lt;/item&gt;\n&lt;item name=\"windowNoTitle\"&gt;true&lt;/item&gt;\n</code></pre>\n\n<p>but it wasnt enough. \nFinally, moving super.onCreate before setContentView in Activity - fixed my issue :) </p>\n\n<pre><code>   public void onCreate(Bundle savedInstanceState) {    \n\n        super.onCreate(savedInstanceState);    \n        setContentView(R.layout.v2_main_dash);\n        ...\n</code></pre>\n", "title": "Upgraded to AppCompat v22.1.0 and now getting IllegalArgumentException: AppCompat does not support the current theme features", "answer_id": 31387059, "link": "http://stackoverflow.com/questions/29790070/upgraded-to-appcompat-v22-1-0-and-now-getting-illegalargumentexception-appcompa/31387059#31387059", "tags": ["android", "appcompat"]}, {"body": "<p>Those who're still getting error after all of those fix. </p>\n\n<p>Please inherit from </p>\n\n<pre><code>Theme.AppCompat.Light.NoActionBar\n</code></pre>\n\n<p>and don't use </p>\n\n<pre><code>&lt;item name=\"windowActionBar\"&gt;false&lt;/item&gt;\n</code></pre>\n\n<p>Then, you won't get any error.</p>\n", "title": "Upgraded to AppCompat v22.1.0 and now getting IllegalArgumentException: AppCompat does not support the current theme features", "answer_id": 32133262, "link": "http://stackoverflow.com/questions/29790070/upgraded-to-appcompat-v22-1-0-and-now-getting-illegalargumentexception-appcompa/32133262#32133262", "tags": ["android", "appcompat"]}], "question_id": 29790070}, {"body": "<p>I'm having trouble installing a Python package (specifically, JPype1 0.5.7) on my Windows machine, and would like to install it with Christoph Gohlke's Window binaries. (Which, to my experience, alleviated much of the fuss for many other package installations.)</p>\n\n<p>However, while Christoph used to provide .exe files in the past, recently it seems he's uploading .whl files instead.</p>\n\n<p><a href=\"http://www.lfd.uci.edu/~gohlke/pythonlibs/#jpype\">http://www.lfd.uci.edu/~gohlke/pythonlibs/#jpype</a></p>\n\n<p>But how do I install .whl files?</p>\n\n<blockquote>\n  <p>Notes:</p>\n  \n  <ul>\n  <li>I've found <a href=\"https://wheel.readthedocs.org/en/latest/\">documents on wheel</a>, but they don't seem so staightforward in explaining how to install .whl files.</li>\n  <li>This question is a duplicate with <a href=\"http://stackoverflow.com/questions/27041264/how-to-install-whl-file-in-python-windows\">this question</a>, which wasn't directly answered.</li>\n  </ul>\n</blockquote>\n", "title": "How do I install a Python package with a .whl file?", "tags": ["python", "windows", "pip", "python-wheel", "jpype"], "answer_count": 8, "link": "http://stackoverflow.com/questions/27885397/how-do-i-install-a-python-package-with-a-whl-file", "answers": [{"body": "<p>To install from wheel, give it the directory where the wheel is downloaded. For example, to install <code>package_name.whl</code>:</p>\n\n<pre><code>pip install --use-wheel --no-index --find-links=/where/its/downloaded package_name\n</code></pre>\n\n<p>Make sure you have updated pip first to enable wheel support:</p>\n\n<pre><code>pip install --upgrade pip\n</code></pre>\n", "title": "How do I install a Python package with a .whl file?", "answer_id": 27885547, "link": "http://stackoverflow.com/questions/27885397/how-do-i-install-a-python-package-with-a-whl-file/27885547#27885547", "tags": ["python", "windows", "pip", "python-wheel", "jpype"]}, {"body": "<p>I just used the following which was quite simple. First open a console then cd to where you've downloaded your file like some-package.whl and use</p>\n\n<pre><code>pip install some-package.whl\n</code></pre>\n\n<p>Note: if pip.exe is not recognized, you may find it in the \"Scripts\" directory from where python has been installed. If pip is not installed, this page can help:\n<a href=\"http://stackoverflow.com/questions/4750806/how-to-install-pip-on-windows\">How do I install pip on Windows?</a></p>\n\n<p><em>Note: for clarification</em><br>\nIf you copy the <code>*.whl</code> file to your local drive (ex. <strong>C:\\some-dir\\some-file.whl</strong>) use the following command line parameters --  </p>\n\n<pre><code>pip install C:/some-dir/some-file.whl\n</code></pre>\n", "title": "How do I install a Python package with a .whl file?", "answer_id": 27909082, "link": "http://stackoverflow.com/questions/27885397/how-do-i-install-a-python-package-with-a-whl-file/27909082#27909082", "tags": ["python", "windows", "pip", "python-wheel", "jpype"]}, {"body": "<p>in same boat as OP.</p>\n\n<p>using windows command prompt, from directory:</p>\n\n<pre><code>C:\\Python34\\Scripts&gt;\npip install wheel\n</code></pre>\n\n<p>seemed to work.</p>\n\n<p>changing directory to where the whl was located it just tells me 'pip is not recognized'.  going back to <code>C:\\Python34\\Scripts&gt;</code>, then using the full command above to provide the 'where/its/downloaded' location, it says <code>Requirement 'scikit_image-...-win32.whl' looks like a filename, but the filename does not exist</code>.  So I dropped a copy of the .whl in Python34/Scripts, ran the exact same command over again (with the <code>--find-links=</code> still going to the other folder), and this time it worked. </p>\n", "title": "How do I install a Python package with a .whl file?", "answer_id": 28157796, "link": "http://stackoverflow.com/questions/27885397/how-do-i-install-a-python-package-with-a-whl-file/28157796#28157796", "tags": ["python", "windows", "pip", "python-wheel", "jpype"]}, {"body": "<p>You have to run pip.exe from the command prompt...on my computer\nI type C:/Python27/Scripts/pip2.exe install numpy</p>\n", "title": "How do I install a Python package with a .whl file?", "answer_id": 28676490, "link": "http://stackoverflow.com/questions/27885397/how-do-i-install-a-python-package-with-a-whl-file/28676490#28676490", "tags": ["python", "windows", "pip", "python-wheel", "jpype"]}, {"body": "<p>On Windows you can't just upgrade using <code>pip install --upgrade pip</code>, because the <code>pip.exe</code> is in use and there would be an error replacing it. Instead, you should upgrade <code>pip</code> like this:</p>\n\n<pre><code>easy_install --upgrade pip\n</code></pre>\n\n<p>Then check the <code>pip</code> version:</p>\n\n<pre><code>pip --version\n</code></pre>\n\n<p>If it shows <code>6.x</code> series, there is wheel support.</p>\n\n<p>Only then, you can install a wheel package like this:</p>\n\n<pre><code>pip install your-package.whl\n</code></pre>\n", "title": "How do I install a Python package with a .whl file?", "answer_id": 29886593, "link": "http://stackoverflow.com/questions/27885397/how-do-i-install-a-python-package-with-a-whl-file/29886593#29886593", "tags": ["python", "windows", "pip", "python-wheel", "jpype"]}, {"body": "<p>There are several file versions on the great Christoph Gohlke's site.</p>\n\n<p>Something I have found important when installing wheels from this site is to run first from the python console:</p>\n\n<pre><code>import pip\nprint(pip.pep425tags.get_supported())\n</code></pre>\n\n<p>so that you know which version you should install for your computer. Picking the wrong version may fail the installing of the package (especially if you don't use the right cpython tag, eg. cp27)</p>\n", "title": "How do I install a Python package with a .whl file?", "answer_id": 30672710, "link": "http://stackoverflow.com/questions/27885397/how-do-i-install-a-python-package-with-a-whl-file/30672710#30672710", "tags": ["python", "windows", "pip", "python-wheel", "jpype"]}, {"body": "<p>To be able to install wheel files with a simple doubleclick on them you can do one the following:</p>\n\n<p>1) Run two commands in command line under administrator privileges:</p>\n\n<pre><code>assoc .whl=pythonwheel\nftype pythonwheel=cmd /c pip.exe install \"%1\" &amp; pause\n</code></pre>\n\n<p>2) Alternatively, they can be copied into a <code>wheel.bat</code> file and executed with 'Run as administrator' checkbox in the properties.</p>\n\n<p>PS pip.exe is assumed to be in the PATH.</p>\n", "title": "How do I install a Python package with a .whl file?", "answer_id": 33692493, "link": "http://stackoverflow.com/questions/27885397/how-do-i-install-a-python-package-with-a-whl-file/33692493#33692493", "tags": ["python", "windows", "pip", "python-wheel", "jpype"]}, {"body": "<p>to save on having to download such files, you can try:</p>\n\n<p>pip install --use-wheel pillow</p>\n\n<p><a href=\"http://www.mechonomics.com/installing-python-pillow-in-a-virtualenv-on-windows/\" rel=\"nofollow\">for more info</a></p>\n", "title": "How do I install a Python package with a .whl file?", "answer_id": 37610006, "link": "http://stackoverflow.com/questions/27885397/how-do-i-install-a-python-package-with-a-whl-file/37610006#37610006", "tags": ["python", "windows", "pip", "python-wheel", "jpype"]}], "question_id": 27885397}, {"body": "<p>I observed that <code>rand()</code> library function when it is called just once within a loop, it almost always produces positive numbers.</p>\n\n<pre><code>for (i = 0; i &lt; 100; i++) {\n    printf(\"%d\\n\", rand());\n}\n</code></pre>\n\n<p>But when I add two <code>rand()</code> calls, the numbers generated now have more negative numbers.</p>\n\n<pre><code>for (i = 0; i &lt; 100; i++) {\n    printf(\"%d = %d\\n\", rand(), (rand() + rand()));\n}\n</code></pre>\n\n<p>Can someone explain why I am seeing negative numbers in the second case?</p>\n\n<p>PS: I initialize the seed before the loop as <code>srand(time(NULL))</code>.</p>\n", "title": "Why does rand() + rand() produce negative numbers?", "tags": ["c", "random"], "answer_count": 8, "link": "http://stackoverflow.com/questions/30821406/why-does-rand-rand-produce-negative-numbers", "answers": [{"body": "<p><code>rand()</code> is defined to return an integer between <code>0</code> and <code>RAND_MAX</code>.</p>\n\n<pre><code>rand() + rand()\n</code></pre>\n\n<p>could overflow. What you observe is likely a result of <a href=\"https://en.wikipedia.org/wiki/Undefined_behavior\">undefined behaviour</a> caused by integer overflow.</p>\n", "title": "Why does rand() + rand() produce negative numbers?", "answer_id": 30821428, "link": "http://stackoverflow.com/questions/30821406/why-does-rand-rand-produce-negative-numbers/30821428#30821428", "tags": ["c", "random"]}, {"body": "<p>The problem is the addition. <a href=\"http://port70.net/~nsz/c/c11/n1570.html#7.22.2.1\" rel=\"nofollow\"><code>rand()</code></a> returns an <code>int</code> value of <code>0...RAND_MAX</code>. So, if you add two of them, you will get up to <code>RAND_MAX * 2</code>. If that exceeds <code>INT_MAX</code>, the result of the addition overflows the valid range an <code>int</code> can hold. Overflow of signed values is undefined behaviour and may lead to your keyboard talking to you in foreign tongues.</p>\n\n<p>As there is no gain here in adding two random results, the simple idea is to just not do it. Alternatively you can cast each result to <code>unsigned int</code> before the addition if that can hold the sum. Or use a larger type. Note that <code>long</code> is not necessarily wider than <code>int</code>, the same applies to <code>long long</code> if <code>int</code> is at least 64 bits!</p>\n\n<p>Conclusion: Just avoid the addition. It does not provide more \"randomness\". If you need more bits, you might concatenate the values <code>sum = a + b * (RAND_MAX + 1)</code>, but that also likely requires a larger data type than <code>int</code>.</p>\n\n<p>As your stated reason is to avoid a zero-result: That cannot be avoided by adding the results of two <code>rand()</code> calls, as both can be zero. Instead, you can just increment. If <code>RAND_MAX == INT_MAX</code>, this cannot be done in <code>int</code>. However, <code>(unsigned int)rand() + 1</code> will do very, very likely. Likely (not definitively), because it does require <code>UINT_MAX &gt; INT_MAX</code>, which I am not sure is guaranteed, but valid for all implementations I actually know about (and that is not just x86/64 or ARM).</p>\n\n<p><strong>Warning:</strong></p>\n\n<p>Although already sprinkled in comments here, please note that adding two random values does <em>not</em> get a uniform distribution, but a triangular distribution like rolling two dice: to get <code>12</code> (two dice) both dice have to show <code>6</code>. for <code>11</code> there are already two possible variants: <code>6 + 5</code> or <code>5 + 6</code>, etc.</p>\n\n<p>So, the addition is also bad from this aspect.</p>\n\n<p>Also note that the results <code>rand()</code> generates are not independent of each other, as they are generated by a <a href=\"https://en.wikipedia.org/wiki/Pseudorandom_number_generator\" rel=\"nofollow\"><em>pseudorandom number generator</em></a>. Note also that the standard does not specify the quality or uniform distribution of the calculated values.</p>\n", "title": "Why does rand() + rand() produce negative numbers?", "answer_id": 30821874, "link": "http://stackoverflow.com/questions/30821406/why-does-rand-rand-produce-negative-numbers/30821874#30821874", "tags": ["c", "random"]}, {"body": "<p>This is an answer to a clarification of the question made in comment to <a href=\"http://stackoverflow.com/a/30821874/1294207\">this answer</a>,</p>\n\n<blockquote>\n  <p>the reason i was adding was to avoid '0' as the random number in my code. rand()+rand() was the quick dirty solution which readily came to my mind.</p>\n</blockquote>\n\n<p>The problem was to avoid 0. There are (at least) two problems with the proposed solution. One is, as the other answers indicate, that <code>rand()+rand()</code> can invoke undefined behavior. Best advice is to never invoke undefined behavior. Another issue is there's no guarantee that <code>rand()</code> won't produce 0 twice in a row.</p>\n\n<p>The following rejects zero, avoids undefined behavior, and in the vast majority of cases will be faster than two calls to <code>rand()</code>:</p>\n\n<pre><code>int rnum;\nfor (rnum = rand(); rnum == 0; rnum = rand()) {}\n// or do rnum = rand(); while (rnum == 0);\n</code></pre>\n", "title": "Why does rand() + rand() produce negative numbers?", "answer_id": 30824135, "link": "http://stackoverflow.com/questions/30821406/why-does-rand-rand-produce-negative-numbers/30824135#30824135", "tags": ["c", "random"]}, {"body": "<p>While what everyone else has said about the likely overflow could very well be the cause of the negative, even when you use unsigned integers. The real problem is actually using time/date functionality as the seed. If you have truly become familiar with this functionality you will know exactly why I say this. As what it really does is give a distance (elapsed time) since a given date/time. While the use of the date/time functionality as the seed to a rand(), is a very common practice, it really is not the best option. You should search better alternatives, as there are many theories on the topic and I could not possibly go into all of them. You add into this equation the possibility of overflow and this approach was doomed from the beginning.</p>\n\n<p>Those that posted the rand()+1 are using the solution that most use in order to guarantee that they do not get a negative number. But, that approach is really not the best way either.</p>\n\n<p>The best thing you can do is take the extra time to write and use proper exception handling, and only add to the rand() number if and/or when you end up with a zero result. And, to deal with negative numbers properly. The rand() functionality is not perfect, and therefore needs to be used in conjunction with exception handling to ensure that you end up with the desired result.</p>\n\n<p>Taking the extra time and effort to investigate, study, and properly implement the rand() functionality is well worth the time and effort. Just my two cents. Good luck in your endeavors...</p>\n", "title": "Why does rand() + rand() produce negative numbers?", "answer_id": 30852538, "link": "http://stackoverflow.com/questions/30821406/why-does-rand-rand-produce-negative-numbers/30852538#30852538", "tags": ["c", "random"]}, {"body": "<p>May be you could try rather a tricky approach by ensuring that the value returned by sum of 2 rand() never exceeds the value of RAND_MAX. A possible approach could be sum = rand()/2 + rand()/2; This would ensure that for a 16 bit compiler with RAND_MAX value of 32767 even if both rand happens to return 32767, even then (32767/2 = 16383) 16383+16383 = 32766, thus would not result in negative sum.</p>\n", "title": "Why does rand() + rand() produce negative numbers?", "answer_id": 30861725, "link": "http://stackoverflow.com/questions/30821406/why-does-rand-rand-produce-negative-numbers/30861725#30861725", "tags": ["c", "random"]}, {"body": "<p>To avoid 0, try this: </p>\n\n<pre><code>int rnumb = rand()%(INT_MAX-1)+1;\n</code></pre>\n\n<p>You need to include limits.h.</p>\n\n<p>Sorry for my bad english.</p>\n", "title": "Why does rand() + rand() produce negative numbers?", "answer_id": 30874813, "link": "http://stackoverflow.com/questions/30821406/why-does-rand-rand-produce-negative-numbers/30874813#30874813", "tags": ["c", "random"]}, {"body": "<p>Basically <code>rand()</code> produce numbers between <code>0</code> and <code>RAND_MAX</code>, and <code>2 RAND_MAX &gt; INT_MAX</code> in your case.</p>\n\n<p>You can modulus with the max value of your data-type to prevent overflow. This ofcourse will disrupt the distribution of the random numbers, but <code>rand</code> is just a way to get quick random numbers.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;limits.h&gt;\n\nint main(void)\n{\n    int i=0;\n\n    for (i=0; i&lt;100; i++)\n        printf(\" %d : %d \\n\", rand(), ((rand() % (INT_MAX/2))+(rand() % (INT_MAX/2))));\n\n    for (i=0; i&lt;100; i++)\n        printf(\" %d : %ld \\n\", rand(), ((rand() % (LONG_MAX/2))+(rand() % (LONG_MAX/2))));\n\n    return 0;\n}\n</code></pre>\n", "title": "Why does rand() + rand() produce negative numbers?", "answer_id": 30911245, "link": "http://stackoverflow.com/questions/30821406/why-does-rand-rand-produce-negative-numbers/30911245#30911245", "tags": ["c", "random"]}, {"body": "<blockquote>\n  <p>the reason i was adding was to avoid '0' as the random number in my code. rand()+rand() was the quick dirty solution which readily came to my mind.</p>\n</blockquote>\n\n<p>A simple solution (okay, call it a \"Hack\") which never produces a zero result and will never overflow is:  </p>\n\n<pre><code>x=(rand()/2)+1    // using divide  -or-\nx=(rand()&gt;&gt;1)+1   // using shift which may be faster\n                  // compiler optimization may use shift in both cases\n</code></pre>\n\n<p>This will limit your maximum value, but if you don't care about that, then this should work fine for you.</p>\n", "title": "Why does rand() + rand() produce negative numbers?", "answer_id": 30966725, "link": "http://stackoverflow.com/questions/30821406/why-does-rand-rand-produce-negative-numbers/30966725#30966725", "tags": ["c", "random"]}], "question_id": 30821406}, {"body": "<p>I'm working with android studio 1.1 Preview 1</p>\n\n<p>And I noticed that when I create a new project I'm getting next hierarchy:</p>\n\n<p><img src=\"http://i.stack.imgur.com/6UnvM.png\" alt=\"enter image description here\"></p>\n\n<p>mipmap folders for diffrent DPIs, No more diffrent DPIs drawable folders.</p>\n\n<p>Should I put all my resources in the mipmap folders, or just the app icon?</p>\n", "title": "mipmap vs drawable folders", "tags": ["android", "android-studio", "android-drawable", "mipmaps"], "answer_count": 1, "link": "http://stackoverflow.com/questions/28065267/mipmap-vs-drawable-folders", "answers": [{"body": "<p>The mipmap folders are for placing your app/launcher icons (which are shown on the homescreen) in only. Any other drawable assets you use should be placed in the relevant drawable folders as before.</p>\n\n<p>According to <a href=\"http://android-developers.blogspot.co.uk/2014/10/getting-your-apps-ready-for-nexus-6-and.html\">this Google blogpost</a>:</p>\n\n<blockquote>\n  <p>It\u2019s best practice to place your app icons in <strong>mipmap-</strong> folders (not the drawable- folders) because they are used at resolutions different from the device\u2019s current density.</p>\n</blockquote>\n\n<p>When referencing the <strong>mipmap-</strong> folders ensure you are using the following reference:</p>\n\n<pre><code>android:icon=\"@mipmap/ic_launcher\"\n</code></pre>\n\n<p>The reason they use a different density is that some launchers actually display the icons larger than they were intended. Because of this, they use the next size up.</p>\n", "title": "mipmap vs drawable folders", "answer_id": 28065664, "link": "http://stackoverflow.com/questions/28065267/mipmap-vs-drawable-folders/28065664#28065664", "tags": ["android", "android-studio", "android-drawable", "mipmaps"]}], "question_id": 28065267}, {"body": "<p>In my humble opinion the answers to the famous question <a href=\"http://stackoverflow.com/questions/44965/what-is-a-monad\">\"What is a monad?\"</a>, especially the most voted ones, try to explain what is a monad without clearly explaining <em>why monads are really necessary</em>.  Can they be explained as the solution to a problem?</p>\n", "title": "Why do we need monads?", "tags": ["haskell", "monads"], "answer_count": 7, "link": "http://stackoverflow.com/questions/28139259/why-do-we-need-monads", "answers": [{"body": "<h2>Why do we need monads?</h2>\n\n<ol>\n<li>We want to program <strong>only using functions</strong>. (\"functional programming (FP)\" after all).</li>\n<li><p>Then, we have a first big problem. This is a program:</p>\n\n<p><code>f(x) = 2 * x</code></p>\n\n<p><code>g(x,y) = x / y</code></p>\n\n<p>How can we say  <strong>what is to be executed first</strong>? How can we form an ordered sequence of functions (i.e. <strong>a program</strong>) <em>using no more than functions</em>?</p>\n\n<p>Solution: <strong>compose functions</strong>. If you want first <code>g</code> and then <code>f</code>, just write <code>f(g(x,y))</code>. This way, \"the program\" is a function as well: <code>main = f(g(x,y))</code>. OK, but ...</p></li>\n<li><p>More problems: some functions <strong>might fail</strong> (i.e. <code>g(2,0)</code>, divide by 0). We have <strong>no \"exceptions\"</strong> in FP (an exception is not a function). How do we solve it?</p>\n\n<p>Solution: Let's <strong>allow functions to return two kind of things</strong>: instead of having <code>g : Real,Real -&gt; Real</code> (function from two reals into a real), let's allow <code>g : Real,Real -&gt; Real | Nothing</code> (function from two reals into (real or nothing)). </p></li>\n<li><p>But functions should (to be simpler) return only <strong>one thing</strong>. </p>\n\n<p>Solution: let's create a new type of data to be returned, a \"<strong>boxing type</strong>\" that encloses maybe a real or be simply nothing. Hence, we can have <code>g : Real,Real -&gt; Maybe Real</code>. OK, but ...</p></li>\n<li><p>What happens now to <code>f(g(x,y))</code>? <code>f</code> is not ready to consume a <code>Maybe Real</code>. And, we don't want to change every function we could connect with <code>g</code> to consume a <code>Maybe Real</code>.</p>\n\n<p>Solution: let's <strong>have a special function to \"connect\"/\"compose\"/\"link\" functions</strong>. That way, we can, behind the scenes, adapt the output of one function to feed the following one. </p>\n\n<p>In our case:  <code>g &gt;&gt;= f</code> (connect/compose <code>g</code> to <code>f</code>). We want <code>&gt;&gt;=</code> to get <code>g</code>'s output, inspect it and, in case it is <code>Nothing</code> just don't call <code>f</code> and return <code>Nothing</code>; or on the contrary, extract the boxed <code>Real</code> and feed <code>f</code> with it. (This algorithm is just the implementation of <code>&gt;&gt;=</code> for the <code>Maybe</code> type). Also note that <code>&gt;&gt;=</code> must be written <strong>only once</strong> per \"boxing type\" (different box, different adapting algorithm).</p></li>\n<li><p>Many other problems arise which can be solved using this same pattern: 1. Use a \"box\" to codify/store different meanings/values, and have functions like <code>g</code> that return those \"boxed values\". 2. Have a composer/linker <code>g &gt;&gt;= f</code> to help connecting <code>g</code>'s output to <code>f</code>'s input, so we don't have to change any <code>f</code> at all.</p></li>\n<li><p>Remarkable problems that can be solved using this technique are: </p>\n\n<ul>\n<li><p>having a global state that every function in the sequence of functions (\"the program\") can share: solution <code>StateMonad</code>. </p></li>\n<li><p>We don't like \"impure functions\": functions that yield <em>different</em> output for <em>same</em> input. Therefore, let's mark those functions, making them to return a tagged/boxed value: <code>IO</code> monad.</p></li>\n</ul></li>\n</ol>\n\n<p>Total happiness!</p>\n", "title": "Why do we need monads?", "answer_id": 28139260, "link": "http://stackoverflow.com/questions/28139259/why-do-we-need-monads/28139260#28139260", "tags": ["haskell", "monads"]}, {"body": "<p>The answer is, of course, <strong>\"We don't\"</strong>. As with all abstractions, it isn't necessary.</p>\n\n<p>Haskell does not need a monad abstraction. It isn't necessary for performing IO in a pure language. The <code>IO</code> type takes care of that just fine by itself. The existing monadic desugaring of <code>do</code> blocks could be replaced with desugaring to <code>bindIO</code>, <code>returnIO</code>, and <code>failIO</code> as defined in the <code>GHC.Base</code> module. (It's not a documented module on hackage, so I'll have to point at <a href=\"https://github.com/ghc/ghc/blob/f006ed7965a0fa918d720cc387b33cb8e7083854/libraries/base/GHC/Base.hs#L1063\">its source</a> for documentation.) So no, there's no need for the monad abstraction.</p>\n\n<p>So if it's not needed, why does it exist? Because it was found that many patterns of computation form monadic structures. Abstraction of a structure allows for writing code that works across all instances of that structure. To put it more concisely - code reuse.</p>\n\n<p>In functional languages, the most powerful tool found for code reuse has been composition of functions. The good old <code>(.) :: (b -&gt; c) -&gt; (a -&gt; b) -&gt; (a -&gt; c)</code> operator is exceedingly powerful. It makes it easy to write tiny functions and glue them together with minimal syntactic or semantic overhead.</p>\n\n<p>But there are cases when the types don't work out quite right.  What do you do when you have <code>foo :: (b -&gt; Maybe c)</code> and <code>bar :: (a -&gt; Maybe b)</code>? <code>foo . bar</code> doesn't typecheck, because <code>b</code> and <code>Maybe b</code> aren't the same type.</p>\n\n<p>But.. It's almost right. You just want a bit of leeway. You want to be able to treat <code>Maybe b</code> as if it was basically <code>b</code>. It's a poor idea to just flat-out treat them as the same type, though. That's more or less the same thing as null pointers, which Tony Hoare famously called <a href=\"http://www.infoq.com/presentations/Null-References-The-Billion-Dollar-Mistake-Tony-Hoare\">the billion-dollar mistake</a>. So if you can't treat them as the same type, maybe you can find a way to extend the composition mechanism <code>(.)</code> provides.</p>\n\n<p>In that case, it's important to really examine the theory underlying <code>(.)</code>. Fortunately, someone has already done this for us. It turns out that the combination of <code>(.)</code> and <code>id</code> form a mathematical construct known as a <a href=\"http://bartoszmilewski.com/2014/11/04/category-the-essence-of-composition/\">category</a>. But there are other ways to form categories. A Kleisli category, for instance, allows the objects being composed to be augmented a bit. A Kleisli category for <code>Maybe</code> would consist of <code>(.) :: (b -&gt; Maybe c) -&gt; (a -&gt; Maybe b) -&gt; (a -&gt; Maybe c)</code> and <code>id :: a -&gt; Maybe a</code>. That is, the objects in the category augment the <code>(-&gt;)</code> with a <code>Maybe</code>, so <code>(a -&gt; b)</code> becomes <code>(a -&gt; Maybe b)</code>.</p>\n\n<p>And suddenly, we've extended the power of composition to things that the traditional <code>(.)</code> operation doesn't work on. This is a source of new abstraction power. Kleisli categories work with more types than just <code>Maybe</code>. They work with every type that can assemble a proper category, obeying the category laws.</p>\n\n<ol>\n<li>Left identity: <code>id . f</code> = <code>f</code></li>\n<li>Right identity: <code>f . id</code> = <code>f</code></li>\n<li>Associativity: <code>f . (g . h)</code> = <code>(f . g) . h</code></li>\n</ol>\n\n<p>As long as you can prove that your type obeys those three laws, you can turn it into a Kleisli category. And what's the big deal about that? Well, it turns out that monads are exactly the same thing as Kleisli categories. <code>Monad</code>'s <code>return</code> is the same as Kleisli <code>id</code>. <code>Monad</code>'s <code>(&gt;&gt;=)</code> isn't identical to Kleisli <code>(.)</code>, but it turns out to be very easy to write each in terms of the other. And the category laws are the same as the monad laws, when you translate them across the difference between <code>(&gt;&gt;=)</code> and <code>(.)</code>.</p>\n\n<p>So why go through all this bother? Why have a <code>Monad</code> abstraction in the language? As I alluded to above, it enables code reuse. It even enables code reuse along two different dimensions.</p>\n\n<p>The first dimension of code reuse comes directly from the presence of the abstraction. You can write code that works across all instances of the abstraction. There's the entire <a href=\"https://hackage.haskell.org/package/monad-loops\">monad-loops</a> package consisting of loops that work with any instance of <code>Monad</code>.</p>\n\n<p>The second dimension is indirect, but it follows from the existence of composition. When composition is easy, it's natural to write code in small, reusable chunks. This is the same way having the <code>(.)</code> operator for functions encourages writing small, reusable functions.</p>\n\n<p>So why does the abstraction exist? Because it's proven to be a tool that enables more composition in code, resulting in creating reusable code and encouraging the creation of more reusable code. Code reuse is one of the holy grails of programming. The monad abstraction exists because it moves us a little bit towards that holy grail.</p>\n", "title": "Why do we need monads?", "answer_id": 28141248, "link": "http://stackoverflow.com/questions/28139259/why-do-we-need-monads/28141248#28141248", "tags": ["haskell", "monads"]}, {"body": "<p>Benjamin Pierce said in <a href=\"http://www.cis.upenn.edu/~bcpierce/tapl/\">TAPL</a></p>\n\n<blockquote>\n  <p>A type system can be regarded as calculating a kind of static\n  approximation to the run-time behaviours of the terms in a program.</p>\n</blockquote>\n\n<p>That's why a language equipped with a powerful type system is strictly more expressive, than a poorly typed language. You can think about monads in the same way.</p>\n\n<p>As @Carl and <a href=\"http://blog.sigfpe.com/2006/08/you-could-have-invented-monads-and.html\">sigfpe</a> point, you can equip a datatype with all operations you want without resorting to monads, typeclasses or whatever other abstract stuff. However monads allow you not only to write reusable code, but also to abstract away all redundant detailes.</p>\n\n<p>As an example, let's say we want to filter a list. The simplest way is to use the <code>filter</code> function: <code>filter (&gt; 3) [1..10]</code>, which equals <code>[4,5,6,7,8,9,10]</code>.</p>\n\n<p>A slightly more complicated version of <code>filter</code>, that also passes an accumulator from left to right, is</p>\n\n<pre><code>swap (x, y) = (y, x)\n(.*) = (.) . (.)\n\nfilterAccum :: (a -&gt; b -&gt; (Bool, a)) -&gt; a -&gt; [b] -&gt; [b]\nfilterAccum f a xs = [x | (x, True) &lt;- zip xs $ snd $ mapAccumL (swap .* f) a xs]\n</code></pre>\n\n<p>To get all <code>i</code>, such that <code>i &lt;= 10, sum [1..i] &gt; 4, sum [1..i] &lt; 25</code>, we can write</p>\n\n<pre><code>filterAccum (\\a x -&gt; let a' = a + x in (a' &gt; 4 &amp;&amp; a' &lt; 25, a')) 0 [1..10]\n</code></pre>\n\n<p>which equals <code>[3,4,5,6]</code>.</p>\n\n<p>Or we can redefine the <code>nub</code> function, that removes duplicate elements from a list, in terms of <code>filterAccum</code>:</p>\n\n<pre><code>nub' = filterAccum (\\a x -&gt; (x `notElem` a, x:a)) []\n</code></pre>\n\n<p><code>nub' [1,2,4,5,4,3,1,8,9,4]</code> equals <code>[1,2,4,5,3,8,9]</code>. A list is passed as an accumulator here. The code works, because it's possible to leave the list monad, so the whole computation stays pure (<code>notElem</code> doesn't use <code>&gt;&gt;=</code> actually, but it could). However it's not possible to safely leave the IO monad (i.e. you cannot execute an IO action and return a pure value \u2014 the value always will be wrapped in the IO monad). Another example is mutable arrays: after you have leaved the ST monad, where a mutable array live, you cannot update the array in constant time anymore. So we need a monadic filtering from the <code>Control.Monad</code> module:</p>\n\n<pre><code>filterM          :: (Monad m) =&gt; (a -&gt; m Bool) -&gt; [a] -&gt; m [a]\nfilterM _ []     =  return []\nfilterM p (x:xs) =  do\n   flg &lt;- p x\n   ys  &lt;- filterM p xs\n   return (if flg then x:ys else ys)\n</code></pre>\n\n<p><code>filterM</code> executes a monadic action for all elements from a list, yielding elements, for which the monadic action returns <code>True</code>.</p>\n\n<p>A filtering example with an array:</p>\n\n<pre><code>nub' xs = runST $ do\n        arr &lt;- newArray (1, 9) True :: ST s (STUArray s Int Bool)\n        let p i = readArray arr i &lt;* writeArray arr i False\n        filterM p xs\n\nmain = print $ nub' [1,2,4,5,4,3,1,8,9,4]\n</code></pre>\n\n<p>prints <code>[1,2,4,5,3,8,9]</code> as expected.</p>\n\n<p>And a version with the IO monad, which asks what elements to return:</p>\n\n<pre><code>main = filterM p [1,2,4,5] &gt;&gt;= print where\n    p i = putStrLn (\"return \" ++ show i ++ \"?\") *&gt; readLn\n</code></pre>\n\n<p>E.g.</p>\n\n<pre><code>return 1? -- output\nTrue      -- input\nreturn 2?\nFalse\nreturn 4?\nFalse\nreturn 5?\nTrue\n[1,5]     -- output\n</code></pre>\n\n<p>And as a final illustration, <code>filterAccum</code> can be defined in terms of <code>filterM</code>:</p>\n\n<pre><code>filterAccum f a xs = evalState (filterM (state . flip f) xs) a\n</code></pre>\n\n<p>with the <code>StateT</code> monad, that is used under the hood, being just an ordinary datatype.</p>\n\n<p>This example illustrates, that monads not only allow you to abstract computational context and write clean reusable code (due to the composability of monads, as @Carl explains), but also to treat user-defined datatypes and built-in primitives uniformly.</p>\n", "title": "Why do we need monads?", "answer_id": 28146074, "link": "http://stackoverflow.com/questions/28139259/why-do-we-need-monads/28146074#28146074", "tags": ["haskell", "monads"]}, {"body": "<p><em>I don't think <code>IO</code> should be seen as a particularly outstanding monad, but it's certainly one of the more astounding ones for beginners, so I'll use it for my explanation.</em></p>\n\n<h2>Na&iuml;vely building an IO system for Haskell</h2>\n\n<p>The simplest conceivable IO system for a purely-functional language (and in fact the one Haskell started out with) is this:</p>\n\n<pre><code>main0 :: String -&gt; String\nmain0 _ = \"Hello World\"\n</code></pre>\n\n<p>With lazyness, that simple signature is enough to actually build interactive terminal programs &ndash; <em>very</em> limited, though. Most frustrating is that we can only output text. What if we added some more exciting output possibilities?</p>\n\n<pre><code>data Output = TxtOutput String\n            | Beep Double\n\nmain1 :: String -&gt; [Output]\nmain1 _ = [ TxtOutput \"Hello World\"\n          -- , Beep 440  -- for debugging\n          ]\n</code></pre>\n\n<p>cute, but of course a much more realistic &ldquo;alterative output&rdquo; would be <em>writing to a file</em>. But then you'd also want some way to <em>read from</em> files. Any chance?</p>\n\n<p>Well, when we take our <code>main1</code> program and simply <em>pipe a file to the process</em> (using operating system facilities), we have essentially implemented file-reading. If we could do that within the Haskell language...</p>\n\n<pre><code>readFile :: Filepath -&gt; (String -&gt; [Output]) -&gt; [Output]\n</code></pre>\n\n<p>This would use an &ldquo;interactive program&rdquo;, feed it a string obtained from a file, and yield a non-interactive program. There's one problem here: we don't really have a notion of <em>when</em> the file is read; the <code>[Output]</code> list sure gives a nice order to the outputs but we don't get an order for when the <em>inputs</em> will be done.</p>\n\n<p>Solution: allow inputs as well in the list of things to do.</p>\n\n<pre><code>data IO0 = TxtOut String\n         | TxtIn (String -&gt; [Output])\n         | FileWrite FilePath String\n         | FileRead FilePath (String -&gt; [Output])\n         | Beep Double\n\nmain2 :: String -&gt; [IO0]\nmain2 _ = [ FileRead \"/dev/null\" $ \\_ -&gt;\n             [TxtOutput \"Hello World\"]\n          ]\n</code></pre>\n\n<p>Ok, now you'll immediately spot an imbalance: you can read a file and depend output on it, but not other input. Obvious solution:</p>\n\n<pre><code>data IO1 = TxtOut String\n         | TxtIn (String -&gt; [IO1])\n      {- | FileWrite ...\n         | ...             -}\n\nmain3 :: String -&gt; [IO1]\nmain2 _ = [ TxtIn $ \\_ -&gt;\n             [TxtOut \"Hello World\"]\n          ]\n</code></pre>\n\n<p>That would now actually allow you to express any file operation you might want in a program (performance aside), but it's somewhat overcomplicated:</p>\n\n<ul>\n<li><p><code>main3</code> has the same signature as found in the <code>TxtIn</code> constructor. Why don't we simply use the signature <code>:: IO1</code>, which has this as a special case?</p></li>\n<li><p>The lists don't really give a reliable overview of program flow anymore: most subsequent computations will only be &ldquo;announced&rdquo; as the result of some input operation. So we might as well ditch the list structure, and simply cons a &ldquo;and then do&rdquo; to each output operation.</p></li>\n</ul>\n\n\n\n<pre><code>data IO2 = TxtOut String IO2\n         | TxtIn (String -&gt; IO2)\n         | Terminate\n\nmain4 :: IO2\nmain4 = TxtIn $ \\_ -&gt;\n         TxtOut \"Hello World\"\n          Terminate\n</code></pre>\n\n<p>Not too bad!</p>\n\n<h2>So what about monads?</h2>\n\n<p>In practice, you wouldn't want to use plain constructors to define all your programs. There would sure need to be a good couple of those for all fundamental operations, but for most higher-level stuff we would like to write a lowercase function with some nice signature. Turns out most of these would look quite similar:</p>\n\n<pre><code>getTime :: (UTCTime -&gt; IO2) -&gt; IO2\nrandomRIO :: Random r =&gt; (r,r) -&gt; (r -&gt; IO2) -&gt; IO2\nfindFile :: RegEx -&gt; (Maybe FilePath -&gt; IO2) -&gt; IO2\n</code></pre>\n\n<p>There's evidently a pattern here, and we'd better use</p>\n\n<pre><code>type IO3 a = (a -&gt; IO2) -&gt; IO2       -- Yup, it's Cont.\n\ngetTime :: IO3 UTCTime\nrandomRIO :: Random r =&gt; (r,r) -&gt; IO3 r\nfindFile :: RegEx -&gt; IO3 (Maybe FilePath)\n</code></pre>\n\n<p>Now that starts to look familiar, but we still have plain functions under the hood: each &ldquo;value-action&rdquo; has the responsibility of actually passing on the resulting action of any contained function. We'd better make that requirement explicit. Well, it turns out those are the monad laws, though I'm not sure we can really formulate them without the standard bind/join operators.</p>\n\n<p>At any rate, we've now reached a formulation of IO that has a proper monad instance:</p>\n\n<pre><code>data IO4 a = TxtOut String (IO4 a)\n           | TxtIn (String -&gt; IO4 a)\n           | TerminateWith a\n\ntxtOut :: String -&gt; IO4 ()\ntxtOut s = TxtOut s $ TerminateWith ()\n\ntxtIn :: IO4 String\ntxtIn = TxtIn $ TerminateWith\n\ninstance Functor IO4 where\n  fmap f (TerminateWith a) = TerminateWith $ f a\n  fmap f (TxtIn g) = TxtIn $ fmap f . g\n  fmap f (TxtOut s c) = TxtOut s $ fmap f c\n\ninstance Applicative IO4 where\n  pure = TerminateWith\n  (&lt;*&gt;) = ap\n\ninstance Monad IO4 where\n  TerminateWith x &gt;&gt;= f = f x\n  TxtOut s c &gt;&gt;= f = TxtOut s $ c &gt;&gt;= f\n  TxtIn g &gt;&gt;= f = TxtIn $ (&gt;&gt;=f) . g\n</code></pre>\n\n<p>Obviously this is not an efficient implementation of IO, but it's usable.</p>\n", "title": "Why do we need monads?", "answer_id": 28148780, "link": "http://stackoverflow.com/questions/28139259/why-do-we-need-monads/28148780#28148780", "tags": ["haskell", "monads"]}, {"body": "<p>You need monads if you have a <strong>type constructor</strong> and <strong>functions that returns values of that type family</strong>. Eventually, you would like to <strong>combine these kind of functions together</strong>. These are the three key elements to answer <em>why</em>.</p>\n\n<p>Let me elaborate. You have <code>Int</code>, <code>String</code> and <code>Real</code> and functions of type <code>Int -&gt; String</code>, <code>String -&gt; Real</code> and so on. You can combine these functions easily, ending with <code>Int -&gt; Real</code>. Life is good. </p>\n\n<p>Then, one day, you need to create a <strong>new <em>family</em> of types</strong>. It could be because you need to consider the possibility of returning no value (<code>Maybe</code>), returning an error (<code>Either</code>), multiple results (<code>List</code>) and so on.</p>\n\n<p>Notice that <code>Maybe</code> is a type constructor. It takes a type, like <code>Int</code> and returns a new type <code>Maybe Int</code>. First thing to remember, <strong>no type constructor, no monad.</strong> </p>\n\n<p>Of course, <strong>you want to use your type constructor</strong> in your code, and soon you end with functions like <code>Int -&gt; Maybe String</code> and <code>String -&gt; Maybe Float</code>. Now, you can't easily combine your functions. Life is not good anymore.</p>\n\n<p>And here's when monads come to the rescue. They allow you to combine that kind of functions again. You just need to change the composition <strong>.</strong> for <strong>>==</strong>. </p>\n", "title": "Why do we need monads?", "answer_id": 28237600, "link": "http://stackoverflow.com/questions/28139259/why-do-we-need-monads/28237600#28237600", "tags": ["haskell", "monads"]}, {"body": "<p><em>Monads</em> are just a convenient framework for solving a class of recurring problems. First, monads must be <em>functors</em> (i.e. must support mapping without looking at the elements (or their type)), they must also bring a <em>binding</em> (or chaining) operation and a way to create a monadic value from an element type (<code>return</code>). Finally, <code>bind</code> and <code>return</code> must satisfy two equations (left and right identities), also called the monad laws. (Alternatively one could define monads to have a <code>flattening operation</code> instead of binding.)</p>\n\n<p>The <em>list monad</em> is commonly used to deal with non-determinism. The bind operation selects one element of the list (intuitively all of them in <em>parallel worlds</em>), lets the programmer to do some computation with them, and then combines the results in all worlds to single list (by concatenating, or flattening, a nested list). Here is how one would define a permutation function in the monadic framework of Haskell:</p>\n\n<pre><code>perm [e] = [[e]]\nperm l = do (leader, index) &lt;- zip l [0 :: Int ..]\n            let shortened = take index l ++ drop (index + 1) l\n            trailer &lt;- perm shortened\n            return (leader : trailer)\n</code></pre>\n\n<p>Here is an example <em>repl</em> session:</p>\n\n<pre><code>*Main&gt; perm \"a\"\n[\"a\"]\n*Main&gt; perm \"ab\"\n[\"ab\",\"ba\"]\n*Main&gt; perm \"\"\n[]\n*Main&gt; perm \"abc\"\n[\"abc\",\"acb\",\"bac\",\"bca\",\"cab\",\"cba\"]\n</code></pre>\n\n<p>It should be noted that the list monad is in no way a side effecting computation. A mathematical structure being a monad (i.e. conforming to the above mentioned interfaces and laws) does not imply side effects, though side-effecting phenomena often nicely fit into the monadic framework.</p>\n", "title": "Why do we need monads?", "answer_id": 31590384, "link": "http://stackoverflow.com/questions/28139259/why-do-we-need-monads/31590384#31590384", "tags": ["haskell", "monads"]}, {"body": "<p>Monads serve basically to compose functions together in a chain. Period.</p>\n\n<p>Now the way they compose differs across the existing monads, thus resulting in different behaviors (e.g., to simulate mutable state in the state monad).</p>\n\n<p>The confusion about monads is that being so general, i.e., a mechanism to compose functions, they can be used for many things, thus leading people to believe that monads are about state, about IO, etc, when they are only about \"composing functions\".</p>\n\n<p>Now, one interesting thing about monads, is that the result of the composition is always of type \"M a\", that is, a value inside an envelope tagged with \"M\". This feature happens to be really nice to implement, for example, a clear separation between pure from impure code: declare all impure actions as functions of type \"IO a\" and provide no function, when defining the IO monad, to take out the \"a\" value from inside the \"IO a\". The result is that no function can be pure and at the same time take out a value from an \"IO a\", because there is no way to take such value while staying pure (the function must be inside the \"IO\" monad to use such value). (NOTE: well, nothing is perfect, so the \"IO straitjacket\" can be broken using \"unsafePerformIO : IO a -> a\" thus polluting what was supposed to be a pure function, but this should be used very sparingly and when you really know to be not introducing any impure code with side-effects.</p>\n", "title": "Why do we need monads?", "answer_id": 37902770, "link": "http://stackoverflow.com/questions/28139259/why-do-we-need-monads/37902770#37902770", "tags": ["haskell", "monads"]}], "question_id": 28139259}, {"body": "<p>So, the new beta SDK of iOS released last night has \"App Transport Security\" which encourages developers to use https instead of http. In principle, this is a great idea, and I already use https in our staging/production environments. However, I don't have https set up in my local development environment, when the iOS app is connecting to a web service I'm running on my laptop.</p>\n\n<p>From a bit of playing around this morning, it appears that the URL loading system will, even if you hand it an http URL, decide to use https instead. Does anyone know how to disable this behaviour -- even just for particular URLs?</p>\n", "title": "How do I load an HTTP URL with App Transport Security enabled in iOS 9?", "tags": ["ios", "url", "nsurl", "ios9", "app-transport-security"], "answer_count": 8, "link": "http://stackoverflow.com/questions/30731785/how-do-i-load-an-http-url-with-app-transport-security-enabled-in-ios-9", "answers": [{"body": "<p>See Apple\u2019s <a href=\"https://developer.apple.com/library/ios/documentation/General/Reference/InfoPlistKeyReference/Articles/CocoaKeys.html#//apple_ref/doc/uid/TP40009251-SW33\">Info.plist reference</a> for full details (thanks @gnasher729).</p>\n\n<p>You can add exceptions for specific domains in your Info.plist:</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;NSExceptionDomains&lt;/key&gt;\n    &lt;dict&gt;\n        &lt;key&gt;testdomain.com&lt;/key&gt;\n        &lt;dict&gt;\n            &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;\n            &lt;true/&gt;\n            &lt;key&gt;NSExceptionAllowsInsecureHTTPLoads&lt;/key&gt;\n            &lt;true/&gt;\n            &lt;key&gt;NSExceptionRequiresForwardSecrecy&lt;/key&gt;\n            &lt;true/&gt;\n            &lt;key&gt;NSExceptionMinimumTLSVersion&lt;/key&gt;\n            &lt;string&gt;TLSv1.2&lt;/string&gt;\n            &lt;key&gt;NSThirdPartyExceptionAllowsInsecureHTTPLoads&lt;/key&gt;\n            &lt;false/&gt;\n            &lt;key&gt;NSThirdPartyExceptionRequiresForwardSecrecy&lt;/key&gt;\n            &lt;true/&gt;\n            &lt;key&gt;NSThirdPartyExceptionMinimumTLSVersion&lt;/key&gt;\n            &lt;string&gt;TLSv1.2&lt;/string&gt;\n            &lt;key&gt;NSRequiresCertificateTransparency&lt;/key&gt;\n            &lt;false/&gt;\n        &lt;/dict&gt;\n    &lt;/dict&gt;\n&lt;/dict&gt;\n</code></pre>\n\n<p>All the keys for each excepted domain are optional. The speaker did not elaborate on any of the keys, but I think they\u2019re all reasonably obvious.</p>\n\n<p>(Source: <a href=\"https://developer.apple.com/videos/wwdc/2015/?id=703\">WWDC 2015 session 703, \u201cPrivacy and Your App\u201d</a>, 30:18)</p>\n\n<p>You can also ignore all app transport security restrictions with a single key, if your app has a good reason to do so:</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n    &lt;true/&gt;\n&lt;/dict&gt;\n</code></pre>\n\n<p>If your app does not have a good reason, you may risk rejection:</p>\n\n<blockquote>\n  <p>Setting NSAllowsArbitraryLoads to true will allow it to work, but Apple was very clear in that they intend to reject apps who use this flag without a specific reason. The main reason to use NSAllowsArbitraryLoads I can think of would be user created content (link sharing, custom web browser, etc). And in this case, Apple still expects you to include exceptions that enforce the ATS for the URLs you are in control of.</p>\n  \n  <p>If you do need access to specific URLs that are not served over TLS 1.2, you need to write specific exceptions for those domains, not use NSAllowsArbitraryLoads set to yes. You can find more info in the NSURLSesssion WWDC session.</p>\n  \n  <p>Please be careful in sharing the NSAllowsArbitraryLoads solution. It is not the recommended fix from Apple.</p>\n</blockquote>\n\n<p>\u2014 <a href=\"https://github.com/AFNetworking/AFNetworking/issues/2779#issuecomment-112030880\">kcharwood</a> (thanks @marco-tolman)</p>\n", "title": "How do I load an HTTP URL with App Transport Security enabled in iOS 9?", "answer_id": 30732693, "link": "http://stackoverflow.com/questions/30731785/how-do-i-load-an-http-url-with-app-transport-security-enabled-in-ios-9/30732693#30732693", "tags": ["ios", "url", "nsurl", "ios9", "app-transport-security"]}, {"body": "<p>As accepted answer has provided required info, and for more info about using and <a href=\"http://www.fiveminutewatchkit.com/blog/2015/6/9/how-to-disable-app-transport-security\">disabling App Transport Security one can find more on this</a>.</p>\n\n<p>For Per-Domain Exceptions add these to the <strong>Info.plist</strong>:</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n  &lt;key&gt;NSExceptionDomains&lt;/key&gt;\n  &lt;dict&gt;\n    &lt;key&gt;yourserver.com&lt;/key&gt;\n    &lt;dict&gt;\n      &lt;!--Include to allow subdomains--&gt;\n      &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;\n      &lt;true/&gt;\n      &lt;!--Include to allow HTTP requests--&gt;\n      &lt;key&gt;NSTemporaryExceptionAllowsInsecureHTTPLoads&lt;/key&gt;\n      &lt;true/&gt;\n      &lt;!--Include to specify minimum TLS version--&gt;\n      &lt;key&gt;NSTemporaryExceptionMinimumTLSVersion&lt;/key&gt;\n      &lt;string&gt;TLSv1.1&lt;/string&gt;\n    &lt;/dict&gt;\n  &lt;/dict&gt;\n&lt;/dict&gt;\n</code></pre>\n\n<p><strong>But What If I Don\u2019t Know All the Insecure Domains I Need to Use?</strong>\nUse following key in your <strong>Info.plist</strong></p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n  &lt;!--Include to allow all connections (DANGER)--&gt;\n  &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n      &lt;true/&gt;\n&lt;/dict&gt;\n</code></pre>\n\n<p><a href=\"http://ste.vn/2015/06/10/configuring-app-transport-security-ios-9-osx-10-11/\">For more detail you can get from this link.</a></p>\n", "title": "How do I load an HTTP URL with App Transport Security enabled in iOS 9?", "answer_id": 30751597, "link": "http://stackoverflow.com/questions/30731785/how-do-i-load-an-http-url-with-app-transport-security-enabled-in-ios-9/30751597#30751597", "tags": ["ios", "url", "nsurl", "ios9", "app-transport-security"]}, {"body": "<p>Compiling answers given by @adurdin and @User</p>\n\n<p>Add followings to your info.plist &amp; change <code>localhost.com</code> with your corresponding domain name, you can add multiple domains as well:</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n    &lt;true/&gt;\n    &lt;key&gt;NSExceptionDomains&lt;/key&gt;\n    &lt;dict&gt;\n        &lt;key&gt;localhost.com&lt;/key&gt;\n        &lt;dict&gt;\n            &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;\n            &lt;false/&gt;\n            &lt;key&gt;NSExceptionAllowsInsecureHTTPLoads&lt;/key&gt;\n            &lt;false/&gt;\n            &lt;key&gt;NSExceptionRequiresForwardSecrecy&lt;/key&gt;\n            &lt;true/&gt;\n            &lt;key&gt;NSExceptionMinimumTLSVersion&lt;/key&gt;\n            &lt;string&gt;TLSv1.2&lt;/string&gt;\n            &lt;key&gt;NSThirdPartyExceptionAllowsInsecureHTTPLoads&lt;/key&gt;\n            &lt;false/&gt;\n            &lt;key&gt;NSThirdPartyExceptionRequiresForwardSecrecy&lt;/key&gt;\n            &lt;true/&gt;\n            &lt;key&gt;NSThirdPartyExceptionMinimumTLSVersion&lt;/key&gt;\n            &lt;string&gt;TLSv1.2&lt;/string&gt;\n            &lt;key&gt;NSRequiresCertificateTransparency&lt;/key&gt;\n            &lt;false/&gt;\n        &lt;/dict&gt;\n    &lt;/dict&gt;\n&lt;/dict&gt;\n&lt;/plist&gt;\n</code></pre>\n\n<p>You info.plist must looks like this:</p>\n\n<p><a href=\"http://i.stack.imgur.com/HQmFL.png\"><img src=\"http://i.stack.imgur.com/HQmFL.png\" alt=\"enter image description here\"></a></p>\n", "title": "How do I load an HTTP URL with App Transport Security enabled in iOS 9?", "answer_id": 31921214, "link": "http://stackoverflow.com/questions/30731785/how-do-i-load-an-http-url-with-app-transport-security-enabled-in-ios-9/31921214#31921214", "tags": ["ios", "url", "nsurl", "ios9", "app-transport-security"]}, {"body": "<p>If you just want to disable App Transport Policy for local dev servers then the following solutions work well. It's useful when you're unable, or it's impractical, to set up HTTPS (e.g. when using the Google App Engine dev server).</p>\n\n<p>As others have said though, ATP should definitely not be turned off for production apps.</p>\n\n<h2>1) Use a different plist for Debug</h2>\n\n<p>Copy your Plist file and NSAllowsArbitraryLoads. Use this Plist for debugging.</p>\n\n<p><a href=\"http://i.stack.imgur.com/5WVxH.png\"><img src=\"http://i.stack.imgur.com/5WVxH.png\" alt=\"XCode Debug\"></a></p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n    &lt;true/&gt;\n&lt;/dict&gt;\n</code></pre>\n\n<h2>2) Exclude local servers</h2>\n\n<p>Alternatively, you can use a single plist file and exclude specific servers. However, <a href=\"http://stackoverflow.com/a/31454806/578821\">it doesn't look like you can exclude IP 4 addresses</a> so you might need to use the server name instead (found in System Preferences -> Sharing, or configured in your local DNS).</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;NSExceptionDomains&lt;/key&gt;\n    &lt;dict&gt;\n        &lt;key&gt;server.local&lt;/key&gt;\n        &lt;dict/&gt;\n        &lt;key&gt;NSExceptionAllowsInsecureHTTPLoads&lt;/key&gt;\n        &lt;true/&gt;\n    &lt;/dict&gt;\n&lt;/dict&gt;\n</code></pre>\n", "title": "How do I load an HTTP URL with App Transport Security enabled in iOS 9?", "answer_id": 32764234, "link": "http://stackoverflow.com/questions/30731785/how-do-i-load-an-http-url-with-app-transport-security-enabled-in-ios-9/32764234#32764234", "tags": ["ios", "url", "nsurl", "ios9", "app-transport-security"]}, {"body": "<p>Configurations above didn't work for me. I tried a lot of combinations of keys, this one work fine:</p>\n\n<p><a href=\"http://i.stack.imgur.com/vaw8U.png\"><img src=\"http://i.stack.imgur.com/vaw8U.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;NSExceptionDomains&lt;/key&gt;\n    &lt;dict&gt;\n        &lt;key&gt;mydomain.com&lt;/key&gt;\n        &lt;dict&gt;\n            &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;\n            &lt;true/&gt;\n            &lt;key&gt;NSExceptionAllowsInsecureHTTPLoads&lt;/key&gt;\n            &lt;true/&gt;\n            &lt;key&gt;NSExceptionRequiresForwardSecrecy&lt;/key&gt;\n            &lt;false/&gt;\n        &lt;/dict&gt;\n    &lt;/dict&gt;\n&lt;/dict&gt;\n</code></pre>\n", "title": "How do I load an HTTP URL with App Transport Security enabled in iOS 9?", "answer_id": 32779508, "link": "http://stackoverflow.com/questions/30731785/how-do-i-load-an-http-url-with-app-transport-security-enabled-in-ios-9/32779508#32779508", "tags": ["ios", "url", "nsurl", "ios9", "app-transport-security"]}, {"body": "<p>Followed it: <a href=\"http://stackoverflow.com/a/32631185/2905967\">http://stackoverflow.com/a/32631185/2905967</a></p>\n\n<p>I have solved it with adding some key in info.plist.\nThe steps I followed are:</p>\n\n<ol>\n<li><p>Opened my Projects <code>info.plist</code> file</p></li>\n<li><p>Added a Key called <code>NSAppTransportSecurity</code> as a <code>Dictionary</code>.</p></li>\n<li>Added a Subkey called <code>NSAllowsArbitraryLoads</code> as <code>Boolean</code> and set its value to <code>YES</code> as like following image.\n<a href=\"http://i.stack.imgur.com/CnBlN.png\"><img src=\"http://i.stack.imgur.com/CnBlN.png\" alt=\"enter image description here\"></a></li>\n</ol>\n\n<p>Clean the Project and Now Everything is Running fine as like before.</p>\n\n<p>Ref Link: <a href=\"http://stackoverflow.com/a/32609970\">http://stackoverflow.com/a/32609970</a></p>\n", "title": "How do I load an HTTP URL with App Transport Security enabled in iOS 9?", "answer_id": 32817873, "link": "http://stackoverflow.com/questions/30731785/how-do-i-load-an-http-url-with-app-transport-security-enabled-in-ios-9/32817873#32817873", "tags": ["ios", "url", "nsurl", "ios9", "app-transport-security"]}, {"body": "<p>I have solved as plist file. </p>\n\n<ol>\n<li>Add a NSAppTransportSecurity : Dictionary. </li>\n<li>Add Subkey named \" NSAllowsArbitraryLoads \" as Boolean : YES</li>\n</ol>\n\n<p><a href=\"http://i.stack.imgur.com/ou0wo.png\"><img src=\"http://i.stack.imgur.com/ou0wo.png\" alt=\"enter image description here\"></a></p>\n", "title": "How do I load an HTTP URL with App Transport Security enabled in iOS 9?", "answer_id": 33007661, "link": "http://stackoverflow.com/questions/30731785/how-do-i-load-an-http-url-with-app-transport-security-enabled-in-ios-9/33007661#33007661", "tags": ["ios", "url", "nsurl", "ios9", "app-transport-security"]}, {"body": "<p>Here's what worked for me:</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n    &lt;false/&gt;\n    &lt;key&gt;NSExceptionDomains&lt;/key&gt;\n    &lt;dict&gt;\n        &lt;key&gt;&lt;!-- your_remote_server.com / localhost --&gt;&lt;/key&gt;\n        &lt;dict&gt;\n            &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;\n            &lt;true/&gt;\n            &lt;key&gt;NSExceptionAllowsInsecureHTTPLoads&lt;/key&gt;\n            &lt;true/&gt;\n            &lt;key&gt;NSExceptionRequiresForwardSecrecy&lt;/key&gt;\n            &lt;true/&gt;\n        &lt;/dict&gt;\n    &lt;!-- add more domain here --&gt;\n    &lt;/dict&gt;\n&lt;/dict&gt;\n</code></pre>\n\n<p>I just wanna add this to help others and save some time:</p>\n\n<p>if you are using: <code>CFStreamCreatePairWithSocketToHost</code>. make sure your <code>host</code> is the same with what you have in your <code>.plist</code> or if you have separate domain for socket just add it there.</p>\n\n<pre><code>CFStreamCreatePairWithSocketToHost(NULL, (__bridge CFStringRef)/*from .plist*/, (unsigned int)port, &amp;readStream, &amp;writeStream);\n</code></pre>\n\n<p>Hope this is helpful. Cheers. :)</p>\n", "title": "How do I load an HTTP URL with App Transport Security enabled in iOS 9?", "answer_id": 33210575, "link": "http://stackoverflow.com/questions/30731785/how-do-i-load-an-http-url-with-app-transport-security-enabled-in-ios-9/33210575#33210575", "tags": ["ios", "url", "nsurl", "ios9", "app-transport-security"]}], "question_id": 30731785}, {"body": "<p>When comparing floats to integers, some pairs of values take much longer to be evaluated than other values of a similar magnitude.</p>\n\n<p>For example:</p>\n\n<pre><code>&gt;&gt;&gt; import timeit\n&gt;&gt;&gt; timeit.timeit(\"562949953420000.7 &lt; 562949953421000\") # run 1 million times\n0.5387085462592742\n</code></pre>\n\n<p>But if the float or integer is made smaller or larger by a certain amount, the comparison runs much more quickly:</p>\n\n<pre><code>&gt;&gt;&gt; timeit.timeit(\"562949953420000.7 &lt; 562949953422000\") # integer increased by 1000\n0.1481498428446173\n&gt;&gt;&gt; timeit.timeit(\"562949953423001.8 &lt; 562949953421000\") # float increased by 3001.1\n0.1459577925548956\n</code></pre>\n\n<p>Changing the comparison operator (e.g. using <code>==</code> or <code>&gt;</code> instead) does not affect the times in any noticeable way. </p>\n\n<p>This is not <em>solely</em> related to magnitude because picking larger or smaller values can result in faster comparisons, so I suspect it is down to some unfortunate way the bits line up. </p>\n\n<p>Clearly, comparing these values is more than fast enough for most use cases. I am simply curious as to why Python seems to struggle more with some pairs of values than with others.</p>\n", "title": "Why are some float &lt; integer comparisons four times slower than others?", "tags": ["python", "performance", "floating-point", "cpython", "python-internals"], "answer_count": 2, "link": "http://stackoverflow.com/questions/30100725/why-are-some-float-integer-comparisons-four-times-slower-than-others", "answers": [{"body": "<p>A comment in the Python source code for float objects acknowledges that:</p>\n\n<blockquote>\n  <p><a href=\"https://hg.python.org/cpython/file/ea33b61cac74/Objects/floatobject.c#l285\">Comparison is pretty much a nightmare</a></p>\n</blockquote>\n\n<p>This is especially true when comparing a float to an integer, because, unlike floats, integers in Python can be arbitrarily large and are always exact. Trying to cast the integer to a float might lose precision and make the comparison inaccurate. Trying to cast the float to an integer is not going to work either because any fractional part will be lost.</p>\n\n<p>To get around this problem, Python performs a series of checks, returning the result if one of the checks succeeds. It compares the signs of the two values, then whether the integer is \"too big\" to be a float, then compares the exponent of the float to the length of the integer. If all of these checks fail, it is necessary to construct two new Python objects to compare in order to obtain the result.</p>\n\n<p>When comparing a float <code>v</code> to an integer/long <code>w</code>, the worst case is that:</p>\n\n<ul>\n<li><code>v</code> and <code>w</code> have the same sign (both positive or both negative),</li>\n<li>the integer <code>w</code> has few enough bits that it can be held in the <a href=\"http://stackoverflow.com/a/2550799/3923281\"><code>size_t</code></a> type (typically 32 or 64 bits),</li>\n<li>the integer <code>w</code> has at least 49 bits,</li>\n<li>the exponent of the float <code>v</code> is the same as the number of bits in <code>w</code>.</li>\n</ul>\n\n<p>And this is exactly what we have for the values in the question:</p>\n\n<pre><code>&gt;&gt;&gt; import math\n&gt;&gt;&gt; math.frexp(562949953420000.7) # gives the float's (significand, exponent) pair\n(0.9999999999976706, 49)\n&gt;&gt;&gt; (562949953421000).bit_length()\n49\n</code></pre>\n\n<p>We see that 49 is both the exponent of the float and the number of bits in the integer. Both numbers are positive and so the four criteria above are met.</p>\n\n<p>Choosing one of the values to be larger (or smaller) can change the number of bits of the integer, or the value of the exponent, and so Python is able to determine the result of the comparison without performing the expensive final check.</p>\n\n<p>This is specific to the CPython implementation of the language.</p>\n\n<hr>\n\n<h3>The comparison in more detail</h3>\n\n<p>The <a href=\"https://hg.python.org/cpython/file/ea33b61cac74/Objects/floatobject.c#l301\"><code>float_richcompare</code></a> function handles the comparison between two values <code>v</code> and <code>w</code>.</p>\n\n<p>Below is a step-by-step description of the checks that the function performs. The comments in the Python source are actually very helpful when trying to understand what the function does, so I've left them in where relevant. I've also summarised these checks in a list at the foot of the answer.</p>\n\n<p>The main idea is to map the Python objects <code>v</code> and <code>w</code> to two appropriate C doubles, <code>i</code> and <code>j</code>, which can then be easily compared to give the correct result. Both Python 2 and Python 3 use the same ideas to do this (the former just handles <code>int</code> and <code>long</code> types separately).</p>\n\n<p>The first thing to do is check that <code>v</code> is definitely a Python float and map it to a C double <code>i</code>. Next the function looks at whether <code>w</code> is also a float and maps it to a C double <code>j</code>. This is the best case scenario for the function as all the other checks can be skipped. The function also checks to see whether <code>v</code> is <code>inf</code> or <code>nan</code>: </p>\n\n<pre class=\"lang-C prettyprint-override\"><code>static PyObject*\nfloat_richcompare(PyObject *v, PyObject *w, int op)\n{\n    double i, j;\n    int r = 0;\n    assert(PyFloat_Check(v));       \n    i = PyFloat_AS_DOUBLE(v);       \n\n    if (PyFloat_Check(w))           \n        j = PyFloat_AS_DOUBLE(w);   \n\n    else if (!Py_IS_FINITE(i)) {\n        if (PyLong_Check(w))\n            j = 0.0;\n        else\n            goto Unimplemented;\n    }\n</code></pre>\n\n<p>Now we know that if <code>w</code> failed these checks, it is not a Python float. Now the function checks if it's a Python integer. If this is the case, the easiest test is to extract the sign of <code>v</code> and the sign of <code>w</code> (return <code>0</code> if zero, <code>-1</code> if negative, <code>1</code> if positive). If the signs are different, this is all the information needed to return the result of the comparison:</p>\n\n<pre class=\"lang-C prettyprint-override\"><code>    else if (PyLong_Check(w)) {\n        int vsign = i == 0.0 ? 0 : i &lt; 0.0 ? -1 : 1;\n        int wsign = _PyLong_Sign(w);\n        size_t nbits;\n        int exponent;\n\n        if (vsign != wsign) {\n            /* Magnitudes are irrelevant -- the signs alone\n             * determine the outcome.\n             */\n            i = (double)vsign;\n            j = (double)wsign;\n            goto Compare;\n        }\n    }   \n</code></pre>\n\n<p>If this check failed, then <code>v</code> and <code>w</code> have the same sign. </p>\n\n<p>The next check counts the number of bits in the integer <code>w</code>. If it has too many bits then it can't possibly be held as a float and so must be larger in magnitude than the float <code>v</code>:</p>\n\n<pre class=\"lang-C prettyprint-override\"><code>    nbits = _PyLong_NumBits(w);\n    if (nbits == (size_t)-1 &amp;&amp; PyErr_Occurred()) {\n        /* This long is so large that size_t isn't big enough\n         * to hold the # of bits.  Replace with little doubles\n         * that give the same outcome -- w is so large that\n         * its magnitude must exceed the magnitude of any\n         * finite float.\n         */\n        PyErr_Clear();\n        i = (double)vsign;\n        assert(wsign != 0);\n        j = wsign * 2.0;\n        goto Compare;\n    }\n</code></pre>\n\n<p>On the other hand, if the integer <code>w</code> has 48 or fewer bits, it can safely turned in a C double <code>j</code> and compared:</p>\n\n<pre class=\"lang-C prettyprint-override\"><code>    if (nbits &lt;= 48) {\n        j = PyLong_AsDouble(w);\n        /* It's impossible that &lt;= 48 bits overflowed. */\n        assert(j != -1.0 || ! PyErr_Occurred());\n        goto Compare;\n    }\n</code></pre>\n\n<p>From this point onwards, we know that <code>w</code> has 49 or more bits. It will be convenient to treat <code>w</code> as a positive integer, so change the sign and the comparison operator as necessary:</p>\n\n<pre class=\"lang-C prettyprint-override\"><code>    if (nbits &lt;= 48) {\n        /* \"Multiply both sides\" by -1; this also swaps the\n         * comparator.\n         */\n        i = -i;\n        op = _Py_SwappedOp[op];\n    }\n</code></pre>\n\n<p>Now the function looks at the exponent of the float. Recall that a float can be written (ignoring sign) as significand * 2<sup>exponent</sup> and that the significand represents a number between 0.5 and 1:</p>\n\n<pre class=\"lang-C prettyprint-override\"><code>    (void) frexp(i, &amp;exponent);\n    if (exponent &lt; 0 || (size_t)exponent &lt; nbits) {\n        i = 1.0;\n        j = 2.0;\n        goto Compare;\n    }\n</code></pre>\n\n<p>This checks two things. If the exponent is less than 0 then the float is smaller than 1 (and so smaller in magnitude than any integer). Or, if the exponent is less than the number of bits in <code>w</code> then we have that <code>v &lt; |w|</code> since significand * 2<sup>exponent</sup> is less than 2<sup>nbits</sup>. </p>\n\n<p>Failing these two checks, the function looks to see whether the exponent is greater than the number of bit in <code>w</code>. This shows that significand * 2<sup>exponent</sup> is greater than 2<sup>nbits</sup> and so <code>v &gt; |w|</code>:</p>\n\n<pre class=\"lang-C prettyprint-override\"><code>    if ((size_t)exponent &gt; nbits) {\n        i = 2.0;\n        j = 1.0;\n        goto Compare;\n    }\n</code></pre>\n\n<p>If this check did not succeed we know that the exponent of the float <code>v</code> is the same as the number of bits in the integer <code>w</code>.</p>\n\n<p>The only way that the two values can be compared now is to construct two new Python integers from <code>v</code> and <code>w</code>. The idea is to discard the fractional part of <code>v</code>, double the integer part, and then add one. <code>w</code> is also doubled and these two new Python objects can be compared to give the correct return value. Using an example with small values, <code>4.65 &lt; 4</code> would be determined by the comparison <code>(2*4)+1 == 9 &lt; 8 == (2*4)</code> (returning false).</p>\n\n<pre class=\"lang-C prettyprint-override\"><code>    {\n        double fracpart;\n        double intpart;\n        PyObject *result = NULL;\n        PyObject *one = NULL;\n        PyObject *vv = NULL;\n        PyObject *ww = w;\n\n        // snip\n\n        fracpart = modf(i, &amp;intpart); // split i (the double that v mapped to)\n        vv = PyLong_FromDouble(intpart);\n\n        // snip\n\n        if (fracpart != 0.0) {\n            /* Shift left, and or a 1 bit into vv\n             * to represent the lost fraction.\n             */\n            PyObject *temp;\n\n            one = PyLong_FromLong(1);\n\n            temp = PyNumber_Lshift(ww, one); // left-shift doubles an integer\n            ww = temp;\n\n            temp = PyNumber_Lshift(vv, one);\n            vv = temp;\n\n            temp = PyNumber_Or(vv, one); // a doubled integer is even, so this adds 1\n            vv = temp;\n        }\n        // snip\n    }\n}\n</code></pre>\n\n<p>For brevity I've left out the additional error-checking and garbage-tracking Python has to do when it creates these new objects. Needless to say, this adds additional overhead and explains why the values highlighted in the question are significantly slower to compare than others.</p>\n\n<hr>\n\n<p>Here is a summary of the checks that are performed by the comparison function.</p>\n\n<p>Let <code>v</code> be a float and cast it as a C double. Now, if <code>w</code> is also a float:</p>\n\n<ul>\n<li><p>Check whether <code>w</code> is <code>nan</code> or <code>inf</code>. If so, handle this special case separately depending on the type of <code>w</code>.</p></li>\n<li><p>If not, compare <code>v</code> and <code>w</code> directly by their representations as C doubles.</p></li>\n</ul>\n\n<p>If <code>w</code> is an integer:</p>\n\n<ul>\n<li><p>Extract the signs of <code>v</code> and <code>w</code>. If they are different then we know <code>v</code> and <code>w</code> are different and which is the greater value.</p></li>\n<li><p>(<em>The signs are the same.</em>) Check whether <code>w</code> has too many bits to be a float (more than <code>size_t</code>). If so, <code>w</code> has greater magnitude than <code>v</code>.</p></li>\n<li><p>Check if <code>w</code> has 48 or fewer bits. If so, it can be safely cast to a C double without losing its precision and compared with <code>v</code>.</p></li>\n<li><p>(<em><code>w</code> has more than 48 bits. We will now treat <code>w</code> as a positive integer having changed the compare op as appropriate.</em>) </p></li>\n<li><p>Consider the exponent of the float <code>v</code>. If the exponent is negative, then <code>v</code> is less than <code>1</code> and therefore less than any positive integer. Else, if the exponent is less than the number of bits in <code>w</code> then it must be less than <code>w</code>.</p></li>\n<li><p>If the exponent of <code>v</code> is greater than the number of bits in <code>w</code> then <code>v</code> is greater than <code>w</code>.</p></li>\n<li><p>(<em>The exponent is the same as the number of bits in <code>w</code>.</em>)</p></li>\n<li><p>The final check. Split <code>v</code> into its integer and fractional parts. Double the integer part and add 1 to compensate for the fractional part. Now double the integer <code>w</code>. Compare these two new integers instead to get the result.</p></li>\n</ul>\n", "title": "Why are some float &lt; integer comparisons four times slower than others?", "answer_id": 30100743, "link": "http://stackoverflow.com/questions/30100725/why-are-some-float-integer-comparisons-four-times-slower-than-others/30100743#30100743", "tags": ["python", "performance", "floating-point", "cpython", "python-internals"]}, {"body": "<p>Using <code>gmpy2</code> with arbitrary precision floats and integers it is possible to get more uniform comparison performance:</p>\n\n<pre><code>~ $ ptipython\nPython 3.5.1 |Anaconda 4.0.0 (64-bit)| (default, Dec  7 2015, 11:16:01) \nType \"copyright\", \"credits\" or \"license\" for more information.\n\nIPython 4.1.2 -- An enhanced Interactive Python.\n?         -&gt; Introduction and overview of IPython's features.\n%quickref -&gt; Quick reference.\nhelp      -&gt; Python's own help system.\nobject?   -&gt; Details about 'object', use 'object??' for extra details.\n\nIn [1]: import gmpy2\n\nIn [2]: from gmpy2 import mpfr\n\nIn [3]: from gmpy2 import mpz\n\nIn [4]: gmpy2.get_context().precision=200\n\nIn [5]: i1=562949953421000\n\nIn [6]: i2=562949953422000\n\nIn [7]: f=562949953420000.7\n\nIn [8]: i11=mpz('562949953421000')\n\nIn [9]: i12=mpz('562949953422000')\n\nIn [10]: f1=mpfr('562949953420000.7')\n\nIn [11]: f&lt;i1\nOut[11]: True\n\nIn [12]: f&lt;i2\nOut[12]: True\n\nIn [13]: f1&lt;i11\nOut[13]: True\n\nIn [14]: f1&lt;i12\nOut[14]: True\n\nIn [15]: %timeit f&lt;i1\nThe slowest run took 10.15 times longer than the fastest. This could mean that an intermediate result is being cached.\n1000000 loops, best of 3: 441 ns per loop\n\nIn [16]: %timeit f&lt;i2\nThe slowest run took 12.55 times longer than the fastest. This could mean that an intermediate result is being cached.\n10000000 loops, best of 3: 152 ns per loop\n\nIn [17]: %timeit f1&lt;i11\nThe slowest run took 32.04 times longer than the fastest. This could mean that an intermediate result is being cached.\n1000000 loops, best of 3: 269 ns per loop\n\nIn [18]: %timeit f1&lt;i12\nThe slowest run took 36.81 times longer than the fastest. This could mean that an intermediate result is being cached.\n1000000 loops, best of 3: 231 ns per loop\n\nIn [19]: %timeit f&lt;i11\nThe slowest run took 78.26 times longer than the fastest. This could mean that an intermediate result is being cached.\n10000000 loops, best of 3: 156 ns per loop\n\nIn [20]: %timeit f&lt;i12\nThe slowest run took 21.24 times longer than the fastest. This could mean that an intermediate result is being cached.\n10000000 loops, best of 3: 194 ns per loop\n\nIn [21]: %timeit f1&lt;i1\nThe slowest run took 37.61 times longer than the fastest. This could mean that an intermediate result is being cached.\n1000000 loops, best of 3: 275 ns per loop\n\nIn [22]: %timeit f1&lt;i2\nThe slowest run took 39.03 times longer than the fastest. This could mean that an intermediate result is being cached.\n1000000 loops, best of 3: 259 ns per loop\n</code></pre>\n", "title": "Why are some float &lt; integer comparisons four times slower than others?", "answer_id": 36638366, "link": "http://stackoverflow.com/questions/30100725/why-are-some-float-integer-comparisons-four-times-slower-than-others/36638366#36638366", "tags": ["python", "performance", "floating-point", "cpython", "python-internals"]}], "question_id": 30100725}, {"body": "<p>In order to turn off linting rule for a particular line in JSHint we use the following rule:</p>\n\n<pre><code>/* jshint ignore:start*/\n$scope.someVar = ConstructorFunction();\n/* jshint ignore:end */\n</code></pre>\n\n<p>I have been trying to locate the equivalent of the above for eslint. \nI didn't find it in eslint docs or by googling it. </p>\n\n<p>I know that turning off the \"capIsNew\" flag will work in my case, but I don't want to turn the option off at project level.</p>\n", "title": "Turning off eslint rule for a specific line", "tags": ["javascript", "jshint", "eslint"], "answer_count": 4, "link": "http://stackoverflow.com/questions/27732209/turning-off-eslint-rule-for-a-specific-line", "answers": [{"body": "<p>You can use the following</p>\n\n<pre><code>/*eslint-disable */\n\n//suppress all warnings between comments\nalert('foo');\n\n/*eslint-enable */\n</code></pre>\n\n<p>Which is slightly buried the \"configuring rules\" section of the <a href=\"http://eslint.org/docs/configuring/\">docs</a>;</p>\n\n<p>To disable a warning for an entire file, you can include a comment at the top of the file e.g. </p>\n\n<pre><code>/*eslint eqeqeq:0*/\n</code></pre>\n\n<h2>Update</h2>\n\n<p>ESlint has now been updated with a better way disable a single line, see @goofballLogic's <a href=\"http://stackoverflow.com/a/29592334/437\">excellent answer</a>.</p>\n", "title": "Turning off eslint rule for a specific line", "answer_id": 27732264, "link": "http://stackoverflow.com/questions/27732209/turning-off-eslint-rule-for-a-specific-line/27732264#27732264", "tags": ["javascript", "jshint", "eslint"]}, {"body": "<p>You can use the single line syntax now:</p>\n\n<pre><code>var thing = new Thing(); // eslint-disable-line no-use-before-define\nthing.sayHello();\n\nfunction Thing() {\n\n     this.sayHello = function() { console.log(\"hello\"); };\n\n}\n</code></pre>\n\n<p>Or if you don't want to have a comment on the same line with the actual code, it is possible to disable next line:</p>\n\n<pre><code>// eslint-disable-next-line no-use-before-define\nvar thing = new Thing();\n</code></pre>\n\n<p>Requested docs link: <a href=\"http://eslint.org/docs/user-guide/configuring.html#configuring-rules\">http://eslint.org/docs/user-guide/configuring.html#configuring-rules</a></p>\n", "title": "Turning off eslint rule for a specific line", "answer_id": 29592334, "link": "http://stackoverflow.com/questions/27732209/turning-off-eslint-rule-for-a-specific-line/29592334#29592334", "tags": ["javascript", "jshint", "eslint"]}, {"body": "<p>You can also disable a <strong>specific rule/rules</strong> (rather than all) by specifying them in the enable (open) and disable (close) blocks:</p>\n\n<pre><code>/*eslint-disable no-alert, no-console */\n\nalert('foo');\nconsole.log('bar');\n\n/*eslint-enable no-alert */\n</code></pre>\n\n<p>via @goofballMagic's link above: <a href=\"http://eslint.org/docs/user-guide/configuring.html#configuring-rules\">http://eslint.org/docs/user-guide/configuring.html#configuring-rules</a></p>\n", "title": "Turning off eslint rule for a specific line", "answer_id": 34678386, "link": "http://stackoverflow.com/questions/27732209/turning-off-eslint-rule-for-a-specific-line/34678386#34678386", "tags": ["javascript", "jshint", "eslint"]}, {"body": "<p>The general end of line comment, <code>// eslint-disable-line</code>, does not need anything after it: no need to look up a code to specify what you wish ES Lint to ignore.</p>\n\n<p>If you need to have any syntax ignored for any reason other than a quick debugging, you have problems: why not update your delint config?</p>\n\n<p>I enjoy <code>// eslint-disable-line</code> to allow me to insert <code>console</code> for a quick inspection of a service, without my development environment holding me back because of the breach of protocol. (I generally ban <code>console</code>, and use a logging class - which sometimes builds upon <code>console</code>.)</p>\n", "title": "Turning off eslint rule for a specific line", "answer_id": 35015622, "link": "http://stackoverflow.com/questions/27732209/turning-off-eslint-rule-for-a-specific-line/35015622#35015622", "tags": ["javascript", "jshint", "eslint"]}], "question_id": 27732209}, {"body": "<p>Embarcadero's Delphi compilers use an LLVM backend to produce native ARM code for Android devices. I have large amounts of Pascal code that I need to compile into Android applications and I would like to know how to make Delphi generate more efficient code. Right now, I'm not even talking about advanced features like automatic SIMD optimizations, just about producing reasonable code. Surely there must be a way to pass parameters to the LLVM side, or somehow affect the result? Usually, any compiler will have many options to affect code compilation and optimization, but Delphi's ARM targets seem to be just \"optimization on/off\" and that's it.</p>\n\n<p>LLVM is supposed to be capable of producing reasonably tight and sensible code, but it seems that Delphi is using its facilities in a weird way. Delphi wants to use the stack very heavily, and it generally only utilizes the processor's registers r0-r3 as temporary variables. Perhaps the craziest of all, it seems to be loading normal 32 bit integers as four 1-byte load operations. How to make Delphi produce better ARM code, and without the byte-by-byte hassle it is making for Android? </p>\n\n<p>At first I thought the byte-by-byte loading was for swapping byte order from big-endian, but that was not the case, it is really just loading a 32 bit number with 4 single-byte loads.*  It might be to load the full 32 bits without doing an unaligned word-sized memory load. (whether it SHOULD avoid that is another thing, which would hint to the whole thing being a compiler bug)*</p>\n\n<p>Let's look at this simple function:</p>\n\n<pre class=\"lang-pascal prettyprint-override\"><code>function ReadInteger(APInteger : PInteger) : Integer;\nbegin\n  Result := APInteger^;\nend;\n</code></pre>\n\n<p>Even with optimizations switched on, Delphi XE7 with update pack 1, as well as XE6, produce the following ARM assembly code for that function:</p>\n\n<pre class=\"lang-asm prettyprint-override\"><code>Disassembly of section .text._ZN16Uarmcodetestform11ReadIntegerEPi:\n\n00000000 &lt;_ZN16Uarmcodetestform11ReadIntegerEPi&gt;:\n   0:   b580        push    {r7, lr}\n   2:   466f        mov r7, sp\n   4:   b083        sub sp, #12\n   6:   9002        str r0, [sp, #8]\n   8:   78c1        ldrb    r1, [r0, #3]\n   a:   7882        ldrb    r2, [r0, #2]\n   c:   ea42 2101   orr.w   r1, r2, r1, lsl #8\n  10:   7842        ldrb    r2, [r0, #1]\n  12:   7803        ldrb    r3, [r0, #0]\n  14:   ea43 2202   orr.w   r2, r3, r2, lsl #8\n  18:   ea42 4101   orr.w   r1, r2, r1, lsl #16\n  1c:   9101        str r1, [sp, #4]\n  1e:   9000        str r0, [sp, #0]\n  20:   4608        mov r0, r1\n  22:   b003        add sp, #12\n  24:   bd80        pop {r7, pc}\n</code></pre>\n\n<p>Just count the number of instructions and memory accesses Delphi needs for that. And constructing a 32 bit integer from 4 single-byte loads... If I change the function a little bit and use a var parameter instead of a pointer, it is slightly less convoluted:</p>\n\n<pre class=\"lang-asm prettyprint-override\"><code>Disassembly of section .text._ZN16Uarmcodetestform14ReadIntegerVarERi:\n\n00000000 &lt;_ZN16Uarmcodetestform14ReadIntegerVarERi&gt;:\n   0:   b580        push    {r7, lr}\n   2:   466f        mov r7, sp\n   4:   b083        sub sp, #12\n   6:   9002        str r0, [sp, #8]\n   8:   6801        ldr r1, [r0, #0]\n   a:   9101        str r1, [sp, #4]\n   c:   9000        str r0, [sp, #0]\n   e:   4608        mov r0, r1\n  10:   b003        add sp, #12\n  12:   bd80        pop {r7, pc}\n</code></pre>\n\n<p>I won't include the disassembly here, but for iOS, Delphi produces identical code for the pointer and var parameter versions, and they are almost but not exactly the same as the Android var parameter version. \n<em>Edit: to clarify, the byte-by-byte loading is only on Android. And only on Android, the pointer and var parameter versions differ from each other. On iOS both versions generate exactly the same code.</em></p>\n\n<p>For comparison, here's what FPC 2.7.1 (SVN trunk version from March 2014) thinks of the function with optimization level -O2. The pointer and var parameter versions are exactly the same.</p>\n\n<pre class=\"lang-asm prettyprint-override\"><code>Disassembly of section .text.n_p$armcodetest_$$_readinteger$pinteger$$longint:\n\n00000000 &lt;P$ARMCODETEST_$$_READINTEGER$PINTEGER$$LONGINT&gt;:\n\n   0:   6800        ldr r0, [r0, #0]\n   2:   46f7        mov pc, lr\n</code></pre>\n\n<p>I also tested an equivalent C function with the C compiler that comes with the Android NDK.</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>int ReadInteger(int *APInteger)\n{\n    return *APInteger;\n}\n</code></pre>\n\n<p>And this compiles into essentially the same thing FPC made:</p>\n\n<pre class=\"lang-asm prettyprint-override\"><code>Disassembly of section .text._Z11ReadIntegerPi:\n\n00000000 &lt;_Z11ReadIntegerPi&gt;:\n   0:   6800        ldr r0, [r0, #0]\n   2:   4770        bx  lr\n</code></pre>\n", "title": "How to affect Delphi XEx code generation for Android/ARM targets?", "tags": ["android", "delphi", "android-ndk", "arm", "llvm"], "answer_count": 1, "link": "http://stackoverflow.com/questions/27946387/how-to-affect-delphi-xex-code-generation-for-android-arm-targets", "answers": [{"body": "<blockquote>\n  <p>We are investigating the issue. In short, it depends on the potential mis-alignment (to 32 boundary) of the Integer referenced by a pointer. Need a little more time to have all of the answers... and a plan to address this.</p>\n  \n  <p><em>Marco Cant\u00f9, moderator on <a href=\"https://plus.google.com/116741183961858352601/posts/aw3Beve3nAu\" rel=\"nofollow\">Delphi Developers</a></em></p>\n</blockquote>\n\n<p>Also reference <a href=\"http://stackoverflow.com/questions/27821277/why-are-the-delphi-zlib-and-zip-libraries-so-slow-under-64-bit\">Why are the Delphi zlib and zip libraries so slow under 64 bit?</a> as Win64 libraries are shipped built without optimizations.</p>\n", "title": "How to affect Delphi XEx code generation for Android/ARM targets?", "answer_id": 38582072, "link": "http://stackoverflow.com/questions/27946387/how-to-affect-delphi-xex-code-generation-for-android-arm-targets/38582072#38582072", "tags": ["android", "delphi", "android-ndk", "arm", "llvm"]}], "question_id": 27946387}, {"body": "<p>Tried to perform REST GET through python requests with the following code and I got error.</p>\n\n<p>Code snip:</p>\n\n<pre><code>import requests\nheader = {'Authorization': 'Bearer...'}\nurl = az_base_url + az_subscription_id + '/resourcegroups/Default-Networking/resources?' + az_api_version\nr = requests.get(url, headers=header)\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>/usr/local/lib/python2.7/dist-packages/requests/packages/urllib3/util/ssl_.py:79: \n          InsecurePlatformWarning: A true SSLContext object is not available. \n          This prevents urllib3 from configuring SSL appropriately and may cause certain SSL connections to fail. \n          For more information, see https://urllib3.readthedocs.org/en/latest/security.html#insecureplatformwarning.\n  InsecurePlatformWarning\n</code></pre>\n\n<p>My python version is 2.7.3. I tried to install urllib3 and requests[security] as some other thread suggests, I still got the same error.</p>\n\n<p>Wonder if anyone can provide some tips?</p>\n", "title": "InsecurePlatformWarning: A true SSLContext object is not available. This prevents urllib3 from configuring SSL appropriately", "tags": ["python", "rest", "ssl"], "answer_count": 2, "link": "http://stackoverflow.com/questions/29134512/insecureplatformwarning-a-true-sslcontext-object-is-not-available-this-prevent", "answers": [{"body": "<p>If you are <strong>not able to upgrade</strong> your Python version to 2.7.9, and want to suppress warnings, </p>\n\n<p>you can <strong>downgrade your 'requests'</strong> version to 2.5.3:</p>\n\n<pre><code>sudo pip install requests==2.5.3\n</code></pre>\n\n<p>About version:\n<a href=\"http://fossies.org/diffs/requests/2.5.3_vs_2.6.0/requests/packages/urllib3/util/ssl_.py-diff.html\">http://fossies.org/diffs/requests/2.5.3_vs_2.6.0/requests/packages/urllib3/util/ssl_.py-diff.html</a></p>\n", "title": "InsecurePlatformWarning: A true SSLContext object is not available. This prevents urllib3 from configuring SSL appropriately", "answer_id": 29154908, "link": "http://stackoverflow.com/questions/29134512/insecureplatformwarning-a-true-sslcontext-object-is-not-available-this-prevent/29154908#29154908", "tags": ["python", "rest", "ssl"]}, {"body": "<p><a href=\"https://urllib3.readthedocs.org/en/latest/security.html#pyopenssl\">The docs give a fair indicator of what's required.</a>, however <code>requests</code> allow us to skip a few steps:</p>\n\n<p>You only need to install the <code>security</code> <a href=\"https://github.com/kennethreitz/requests/blob/5a799dd0f505e6c6c2ff67e227f6a3d25c086342/setup.py#L71\">package extras</a> (thanks @admdrew for pointing it out)</p>\n\n<pre><code>$ pip install requests[security]\n</code></pre>\n\n<p>or, install them directly:</p>\n\n<pre><code>$ pip install pyopenssl ndg-httpsclient pyasn1\n</code></pre>\n\n<p><a href=\"https://github.com/kennethreitz/requests/blob/a57c87a459d51c5b17d20285109e901b8aa95752/requests/__init__.py#L54\">Requests will then automatically inject <code>pyopenssl</code> into <code>urllib3</code></a></p>\n\n<hr>\n\n<p>If you're on ubuntu, you may run into trouble installing  <code>pyopenssl</code>, you'll need these dependencies:</p>\n\n<pre><code>$ apt-get install libffi-dev libssl-dev\n</code></pre>\n", "title": "InsecurePlatformWarning: A true SSLContext object is not available. This prevents urllib3 from configuring SSL appropriately", "answer_id": 29202163, "link": "http://stackoverflow.com/questions/29134512/insecureplatformwarning-a-true-sslcontext-object-is-not-available-this-prevent/29202163#29202163", "tags": ["python", "rest", "ssl"]}], "question_id": 29134512}, {"body": "<p>What is the equivalent of <kbd>Ctrl</kbd> + <kbd>K</kbd> + <kbd>F</kbd> and <kbd>Ctrl</kbd> + <kbd>K</kbd> + <kbd>D</kbd> on Windows in Visual Studio for formatting, or \"beautifying\" code in the Visual Studio Code editor?</p>\n", "title": "How do you format code in Visual Studio Code (VSCode)", "tags": ["code-formatting", "vscode"], "answer_count": 17, "link": "http://stackoverflow.com/questions/29973357/how-do-you-format-code-in-visual-studio-code-vscode", "answers": [{"body": "<p>On Windows, code formatting is available in VSCode through the shortcut <kbd>Shift</kbd> + <kbd>Alt</kbd> + <kbd>F</kbd>.</p>\n\n<p>On Mac, it is available through the shortcut <kbd>Shift</kbd> + <kbd>Option</kbd> + <kbd>F</kbd>.</p>\n\n<p>Alternatively, you can find the shortcut, as well as other shortcuts, through the search functionality provided in the editor with <kbd>Ctrl</kbd> +<kbd>Shift</kbd>+ <kbd>P</kbd> (or <kbd>Command</kbd> + <kbd>Shift</kbd> + <kbd>P</kbd> on Mac), and then searching for <strong><em>format code</strong>.</em></p>\n", "title": "How do you format code in Visual Studio Code (VSCode)", "answer_id": 29973358, "link": "http://stackoverflow.com/questions/29973357/how-do-you-format-code-in-visual-studio-code-vscode/29973358#29973358", "tags": ["code-formatting", "vscode"]}, {"body": "<p>You can add a keybinding in \"Preferences->Keyboard shortcuts\"</p>\n\n<pre><code>{ \"key\": \"cmd+k cmd+d\", \"command\": \"editor.action.format\" }\n</code></pre>\n\n<p>Or Visual Studio like:</p>\n\n<pre><code>{ \"key\": \"ctrl+k ctrl+d\", \"command\": \"editor.action.format\" }\n</code></pre>\n", "title": "How do you format code in Visual Studio Code (VSCode)", "answer_id": 29988116, "link": "http://stackoverflow.com/questions/29973357/how-do-you-format-code-in-visual-studio-code-vscode/29988116#29988116", "tags": ["code-formatting", "vscode"]}, {"body": "<p>Also note that as of today formatting is available for these languages:</p>\n\n<ul>\n<li>xml</li>\n<li>html</li>\n<li>json</li>\n<li>javascript</li>\n<li>typescript</li>\n<li>c#</li>\n</ul>\n", "title": "How do you format code in Visual Studio Code (VSCode)", "answer_id": 30031398, "link": "http://stackoverflow.com/questions/29973357/how-do-you-format-code-in-visual-studio-code-vscode/30031398#30031398", "tags": ["code-formatting", "vscode"]}, {"body": "<p>On Visual Studio Code, \"shift+alt+f\" is doing what \"ctrl+K+D\" is doing on Visual Studio.</p>\n", "title": "How do you format code in Visual Studio Code (VSCode)", "answer_id": 31102205, "link": "http://stackoverflow.com/questions/29973357/how-do-you-format-code-in-visual-studio-code-vscode/31102205#31102205", "tags": ["code-formatting", "vscode"]}, {"body": "<p>The right key combination is  <kbd>shift</kbd>+<kbd>alt</kbd>+<kbd>f</kbd></p>\n", "title": "How do you format code in Visual Studio Code (VSCode)", "answer_id": 31315391, "link": "http://stackoverflow.com/questions/29973357/how-do-you-format-code-in-visual-studio-code-vscode/31315391#31315391", "tags": ["code-formatting", "vscode"]}, {"body": "<p>ctrl+shift+i. The other suggestions don't work. </p>\n", "title": "How do you format code in Visual Studio Code (VSCode)", "answer_id": 32519085, "link": "http://stackoverflow.com/questions/29973357/how-do-you-format-code-in-visual-studio-code-vscode/32519085#32519085", "tags": ["code-formatting", "vscode"]}, {"body": "<p>The format shortcut in <code>C#</code> didn't work for me until i installed <code>Mono</code> for <code>Mac OS X</code>, <code>DNVM</code> and <code>DNX</code>. Before i installed Mono, the auto-format shortcut <code>(shift+alt+f)</code> worked only for the <code>.json</code> files.</p>\n", "title": "How do you format code in Visual Studio Code (VSCode)", "answer_id": 33479730, "link": "http://stackoverflow.com/questions/29973357/how-do-you-format-code-in-visual-studio-code-vscode/33479730#33479730", "tags": ["code-formatting", "vscode"]}, {"body": "<p>On ubuntu it's <code>Ctrl + Shift + i</code></p>\n", "title": "How do you format code in Visual Studio Code (VSCode)", "answer_id": 34248738, "link": "http://stackoverflow.com/questions/29973357/how-do-you-format-code-in-visual-studio-code-vscode/34248738#34248738", "tags": ["code-formatting", "vscode"]}, {"body": "<p>In keybindings, format exists shift+alt+f<br>\nbut for C++, it does not work (as on May 16), so switched to net beans editor for now.</p>\n", "title": "How do you format code in Visual Studio Code (VSCode)", "answer_id": 37245866, "link": "http://stackoverflow.com/questions/29973357/how-do-you-format-code-in-visual-studio-code-vscode/37245866#37245866", "tags": ["code-formatting", "vscode"]}, {"body": "<p>Visual Studio code allows user can customize the default settings. </p>\n\n<p>If you want to auto format your content while saving add this below code snippet in work space settings of visual studio code.  </p>\n\n<p><strong>File --> Preferences --> Workspace Settings</strong> </p>\n\n<pre><code>{\n    // Controls if the editor should automatically format the line after typing\n      \"beautify.onSave\": true\n}\n</code></pre>\n\n<p>Note: It is not support TypeScript, Only Supported JavaScript, HTML, CSS</p>\n", "title": "How do you format code in Visual Studio Code (VSCode)", "answer_id": 37429293, "link": "http://stackoverflow.com/questions/29973357/how-do-you-format-code-in-visual-studio-code-vscode/37429293#37429293", "tags": ["code-formatting", "vscode"]}, {"body": "<p>not this one,use this:\n  <strong>File --> Preferences --> Workspace Settings</strong>\n  \"editor.formatOnType\": true</p>\n", "title": "How do you format code in Visual Studio Code (VSCode)", "answer_id": 38603296, "link": "http://stackoverflow.com/questions/29973357/how-do-you-format-code-in-visual-studio-code-vscode/38603296#38603296", "tags": ["code-formatting", "vscode"]}, {"body": "<p>For Fedora</p>\n\n<ol>\n<li>Click <code>File</code> -> <code>Preferences</code> -> <code>Keyboard shortcuts</code>.</li>\n<li>Under <code>Default Keyboard Shortcuts</code>, search (Ctrl+F) for <code>editor.action.format</code>.</li>\n</ol>\n\n<p>Mine read <code>\"key\": \"ctrl+shift+i\"</code></p>\n\n<p>You can change it as well. Refer to @kblok's answer on how to... or if you are too lazy to scroll up: </p>\n\n<hr>\n\n<blockquote>\n  <p>You can add a keybinding in \"Preferences->Keyboard shortcuts\"</p>\n  \n  <p><code>{ \"key\": \"cmd+k cmd+d\", \"command\": \"editor.action.format\" }</code></p>\n  \n  <p>Or Visual Studio like:</p>\n  \n  <p><code>{ \"key\": \"ctrl+k ctrl+d\", \"command\": \"editor.action.format\" }</code></p>\n</blockquote>\n\n<hr>\n\n<p>Please note: <code>cmd</code> key is only for Macs. For Windows and Fedora (Windows keyboard) use <code>Ctrl</code></p>\n", "title": "How do you format code in Visual Studio Code (VSCode)", "answer_id": 38781680, "link": "http://stackoverflow.com/questions/29973357/how-do-you-format-code-in-visual-studio-code-vscode/38781680#38781680", "tags": ["code-formatting", "vscode"]}, {"body": "<p>in windows os  : <kbd>CTRL</kbd> + <kbd>K</kbd>  <kbd>CTRL</kbd> + <kbd>D</kbd></p>\n", "title": "How do you format code in Visual Studio Code (VSCode)", "answer_id": 38903237, "link": "http://stackoverflow.com/questions/29973357/how-do-you-format-code-in-visual-studio-code-vscode/38903237#38903237", "tags": ["code-formatting", "vscode"]}, {"body": "<p>Use extension..</p>\n\n<p>Enables auto formatting of the code when you save a file. </p>\n\n<p>Launch VS Code Quick Open (Ctrl+P), paste the following command, and press enter.</p>\n\n<blockquote>\n  <p>ext install format-on-save</p>\n</blockquote>\n\n<p><a href=\"https://marketplace.visualstudio.com/items?itemName=gyuha.format-on-save\" rel=\"nofollow\">https://marketplace.visualstudio.com/items?itemName=gyuha.format-on-save</a></p>\n", "title": "How do you format code in Visual Studio Code (VSCode)", "answer_id": 38990850, "link": "http://stackoverflow.com/questions/29973357/how-do-you-format-code-in-visual-studio-code-vscode/38990850#38990850", "tags": ["code-formatting", "vscode"]}, {"body": "<p>For those that want to customize what JavaScript files to format, you can use the any extension on the <code>JSfiles</code> property same applies to HTML.</p>\n\n<pre><code>{\n    \"beautify.onSave\": true,\n    \"beautify.JSfiles\": [\"js\", \"json\", \"jsbeautifyrc\", \"jshintrc\", \"ts\"],\n    \"beautify.HTMLfiles\": [\"htm\", \"html\"]\n}\n</code></pre>\n\n<p>This will enable beautify on save for TypeScript, you can add in XML to the HTML option.</p>\n", "title": "How do you format code in Visual Studio Code (VSCode)", "answer_id": 39311665, "link": "http://stackoverflow.com/questions/29973357/how-do-you-format-code-in-visual-studio-code-vscode/39311665#39311665", "tags": ["code-formatting", "vscode"]}, {"body": "<p>While changing the default behavior for Visual Studio Code requires extension, you may override the default behavior in workspace or user level and works for most of the supported languages (I can guarantee html, javascript, c#)</p>\n\n<h2>Workspace level</h2>\n\n<p><strong>Benefits</strong></p>\n\n<ul>\n<li>Does not requires extension</li>\n<li>Can be shared among team</li>\n</ul>\n\n<p><strong>Outcomes</strong></p>\n\n<ul>\n<li><code>.vscode/settings.json</code> is created in project root folder</li>\n</ul>\n\n<p><strong>How To?</strong></p>\n\n<ol>\n<li><p>Go to: <strong>File --> Preferences --> Workspace Settings</strong></p></li>\n<li><p>Add and save <code>\"editor.formatOnType\": true</code> to settings.json (which overrides default behavior for the project you work on by creating .vscode/settings.json file).\n<a href=\"http://i.stack.imgur.com/q9rnS.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/q9rnS.png\" alt=\"How it looks\"></a></p></li>\n</ol>\n\n<h2>User environment level</h2>\n\n<p><strong>Benefits</strong></p>\n\n<ul>\n<li>Does not requires extension</li>\n<li>Personal development environment tweeking to rule them all (settings:))</li>\n</ul>\n\n<p><strong>Outcomes</strong></p>\n\n<ul>\n<li>User's <code>settings.json</code> is modified (see location by operating system below)</li>\n</ul>\n\n<p><strong>How To?</strong></p>\n\n<ol>\n<li><p>Go to: <strong>File --> Preferences --> User Settings</strong></p></li>\n<li><p>Add or change the value of <code>\"editor.formatOnType\": false</code> to <code>\"editor.formatOnType\": true</code> in the user settings.json</p></li>\n</ol>\n\n<p>Your Visual Studio Code user's <code>settings.json</code> location is:</p>\n\n<blockquote>\n  <p>Settings File Locations Depending on your platform, the user settings\n  file is located here:</p>\n  \n  <p>Windows %APPDATA%\\Code\\User\\settings.json Mac\n  $HOME/Library/Application Support/Code/User/settings.json Linux\n  $HOME/.config/Code/User/settings.json The workspace setting file is\n  located under the .vscode folder in your project.</p>\n</blockquote>\n\n<p>More details may be found <a href=\"https://code.visualstudio.com/docs/customization/userandworkspace#_creating-user-and-workspace-settings\" rel=\"nofollow\">here</a></p>\n", "title": "How do you format code in Visual Studio Code (VSCode)", "answer_id": 39385801, "link": "http://stackoverflow.com/questions/29973357/how-do-you-format-code-in-visual-studio-code-vscode/39385801#39385801", "tags": ["code-formatting", "vscode"]}, {"body": "<p>Have to install the appropriate plug-in first (i.e. XML, C#, etc.). Formatting won't become available until you've installed the relevant plugin, and saved the file with an appropriate extension.</p>\n", "title": "How do you format code in Visual Studio Code (VSCode)", "answer_id": 39399738, "link": "http://stackoverflow.com/questions/29973357/how-do-you-format-code-in-visual-studio-code-vscode/39399738#39399738", "tags": ["code-formatting", "vscode"]}], "question_id": 29973357}, {"body": "<pre><code>&gt;&gt;&gt; timeit.timeit(\"'x' in ('x',)\")\n0.04869917374131205\n&gt;&gt;&gt; timeit.timeit(\"'x' == 'x'\")\n0.06144205736110564\n</code></pre>\n\n<p>Also works for tuples with multiple elements, both versions seem to grow linearly:</p>\n\n<pre><code>&gt;&gt;&gt; timeit.timeit(\"'x' in ('x', 'y')\")\n0.04866674801541748\n&gt;&gt;&gt; timeit.timeit(\"'x' == 'x' or 'x' == 'y'\")\n0.06565782838087131\n&gt;&gt;&gt; timeit.timeit(\"'x' in ('y', 'x')\")\n0.08975995576448526\n&gt;&gt;&gt; timeit.timeit(\"'x' == 'y' or 'x' == 'y'\")\n0.12992391047427532\n</code></pre>\n\n<p>Based on this, I think I should <em>totally</em> start using <code>in</code> everywhere instead of <code>==</code>!</p>\n", "title": "Why is &#39;x&#39; in (&#39;x&#39;,) faster than &#39;x&#39; == &#39;x&#39;?", "tags": ["python", "performance", "python-3.x", "python-internals"], "answer_count": 2, "link": "http://stackoverflow.com/questions/28885132/why-is-x-in-x-faster-than-x-x", "answers": [{"body": "<p>There are three factors at play here which, combined, produce this surprising behavior.</p>\n\n<p>First: the <code>in</code> operator takes a shortcut and checks identity (<code>x is y</code>) before it checks equality (<code>x == y</code>):</p>\n\n<pre><code>&gt;&gt;&gt; n = float('nan')\n&gt;&gt;&gt; n in (n, )\nTrue\n&gt;&gt;&gt; n == n\nFalse\n&gt;&gt;&gt; n is n\nTrue\n</code></pre>\n\n<p>Second: because of Python's string interning, both <code>\"x\"</code>s in <code>\"x\" in (\"x\", )</code> will be identical:</p>\n\n<pre><code>&gt;&gt;&gt; \"x\" is \"x\"\nTrue\n</code></pre>\n\n<p>(big warning: this is implementation-specific behavior! <code>is</code> should <em>never</em> be used to compare strings because it <em>will</em> give surprising answers sometimes; for example <code>\"x\" * 100 is \"x\" * 100 ==&gt; False</code>)</p>\n\n<p>Third: as detailed in <a href=\"http://stackoverflow.com/a/28889838/71522\">Veedrac's fantastic answer</a>, <code>tuple.__contains__</code> (<code>x in (y, )</code> is <em>roughly</em> equivalent to <code>(y, ).__contains__(x)</code>) gets to the point of performing the identity check faster than <code>str.__eq__</code> (again, <code>x == y</code> is <em>roughly</em> equivalent to <code>x.__eq__(y)</code>) does.</p>\n\n<p>You can see evidence for this because <code>x in (y, )</code> is significantly slower than the logically equivalent, <code>x == y</code>:</p>\n\n<pre><code>In [18]: %timeit 'x' in ('x', )\n10000000 loops, best of 3: 65.2 ns per loop\n\nIn [19]: %timeit 'x' == 'x'    \n10000000 loops, best of 3: 68 ns per loop\n\nIn [20]: %timeit 'x' in ('y', ) \n10000000 loops, best of 3: 73.4 ns per loop\n\nIn [21]: %timeit 'x' == 'y'    \n10000000 loops, best of 3: 56.2 ns per loop\n</code></pre>\n\n<p>The <code>x in (y, )</code> case is slower because, after the <code>is</code> comparison fails, the <code>in</code> operator falls back to normal equality checking (i.e., using <code>==</code>), so the comparison takes about the same amount of time as <code>==</code>, rendering the entire operation slower because of the overhead of creating the tuple, walking its members, etc.</p>\n\n<p>Note also that <code>a in (b, )</code> is <em>only</em> faster when <code>a is b</code>:</p>\n\n<pre><code>In [48]: a = 1             \n\nIn [49]: b = 2\n\nIn [50]: %timeit a is a or a == a\n10000000 loops, best of 3: 95.1 ns per loop\n\nIn [51]: %timeit a in (a, )      \n10000000 loops, best of 3: 140 ns per loop\n\nIn [52]: %timeit a is b or a == b\n10000000 loops, best of 3: 177 ns per loop\n\nIn [53]: %timeit a in (b, )      \n10000000 loops, best of 3: 169 ns per loop\n</code></pre>\n\n<p>(why is <code>a in (b, )</code> faster than <code>a is b or a == b</code>? My guess would be fewer virtual machine instructions \u2014\u00a0<code>a in (b, )</code> is only ~3 instructions, where <code>a is b or a == b</code> will be quite a few more VM instructions)</p>\n\n<p>Veedrac's answer \u2014 <a href=\"http://stackoverflow.com/a/28889838/71522\">http://stackoverflow.com/a/28889838/71522</a> \u2014 goes into much more detail on specifically what happens during each of <code>==</code> and <code>in</code> and is well worth the read.</p>\n", "title": "Why is &#39;x&#39; in (&#39;x&#39;,) faster than &#39;x&#39; == &#39;x&#39;?", "answer_id": 28885213, "link": "http://stackoverflow.com/questions/28885132/why-is-x-in-x-faster-than-x-x/28885213#28885213", "tags": ["python", "performance", "python-3.x", "python-internals"]}, {"body": "<p>As I mentioned to David Wolever, there's more to this than meets the eye; both methods dispatch to <code>is</code>; you can prove this by doing</p>\n\n<pre><code>min(Timer(\"x == x\", setup=\"x = 'a' * 1000000\").repeat(10, 10000))\n#&gt;&gt;&gt; 0.00045456900261342525\n\nmin(Timer(\"x == y\", setup=\"x = 'a' * 1000000; y = 'a' * 1000000\").repeat(10, 10000))\n#&gt;&gt;&gt; 0.5256857610074803\n</code></pre>\n\n<p>The first can only be so fast because it checks by identity.</p>\n\n<p>To find out why one would take longer than the other, let's trace through execution.</p>\n\n<p>They both start in <code>ceval.c</code>, from <code>COMPARE_OP</code> since that is the bytecode involved</p>\n\n<pre><code>TARGET(COMPARE_OP) {\n    PyObject *right = POP();\n    PyObject *left = TOP();\n    PyObject *res = cmp_outcome(oparg, left, right);\n    Py_DECREF(left);\n    Py_DECREF(right);\n    SET_TOP(res);\n    if (res == NULL)\n        goto error;\n    PREDICT(POP_JUMP_IF_FALSE);\n    PREDICT(POP_JUMP_IF_TRUE);\n    DISPATCH();\n}\n</code></pre>\n\n<p>This pops the values from the stack (technically it only pops one)</p>\n\n<pre><code>PyObject *right = POP();\nPyObject *left = TOP();\n</code></pre>\n\n<p>and runs the compare:</p>\n\n<pre><code>PyObject *res = cmp_outcome(oparg, left, right);\n</code></pre>\n\n<p><code>cmp_outcome</code> is this:</p>\n\n<pre><code>static PyObject *\ncmp_outcome(int op, PyObject *v, PyObject *w)\n{\n    int res = 0;\n    switch (op) {\n    case PyCmp_IS: ...\n    case PyCmp_IS_NOT: ...\n    case PyCmp_IN:\n        res = PySequence_Contains(w, v);\n        if (res &lt; 0)\n            return NULL;\n        break;\n    case PyCmp_NOT_IN: ...\n    case PyCmp_EXC_MATCH: ...\n    default:\n        return PyObject_RichCompare(v, w, op);\n    }\n    v = res ? Py_True : Py_False;\n    Py_INCREF(v);\n    return v;\n}\n</code></pre>\n\n<p>This is where the paths split. The <code>PyCmp_IN</code> branch does</p>\n\n<pre><code>int\nPySequence_Contains(PyObject *seq, PyObject *ob)\n{\n    Py_ssize_t result;\n    PySequenceMethods *sqm = seq-&gt;ob_type-&gt;tp_as_sequence;\n    if (sqm != NULL &amp;&amp; sqm-&gt;sq_contains != NULL)\n        return (*sqm-&gt;sq_contains)(seq, ob);\n    result = _PySequence_IterSearch(seq, ob, PY_ITERSEARCH_CONTAINS);\n    return Py_SAFE_DOWNCAST(result, Py_ssize_t, int);\n}\n</code></pre>\n\n<p>Note that a tuple is defined as</p>\n\n<pre><code>static PySequenceMethods tuple_as_sequence = {\n    ...\n    (objobjproc)tuplecontains,                  /* sq_contains */\n};\n\nPyTypeObject PyTuple_Type = {\n    ...\n    &amp;tuple_as_sequence,                         /* tp_as_sequence */\n    ...\n};\n</code></pre>\n\n<p>So the branch</p>\n\n<pre><code>if (sqm != NULL &amp;&amp; sqm-&gt;sq_contains != NULL)\n</code></pre>\n\n<p>will be taken and <code>*sqm-&gt;sq_contains</code>, which is the function <code>(objobjproc)tuplecontains</code>, will be taken.</p>\n\n<p>This does</p>\n\n<pre><code>static int\ntuplecontains(PyTupleObject *a, PyObject *el)\n{\n    Py_ssize_t i;\n    int cmp;\n\n    for (i = 0, cmp = 0 ; cmp == 0 &amp;&amp; i &lt; Py_SIZE(a); ++i)\n        cmp = PyObject_RichCompareBool(el, PyTuple_GET_ITEM(a, i),\n                                           Py_EQ);\n    return cmp;\n}\n</code></pre>\n\n<p>...Wait, wasn't that <code>PyObject_RichCompareBool</code> what the other branch took? Nope, that was <code>PyObject_RichCompare</code>.</p>\n\n<p>That code path was short so it likely just comes down to the speed of these two. Let's compare.</p>\n\n<pre><code>int\nPyObject_RichCompareBool(PyObject *v, PyObject *w, int op)\n{\n    PyObject *res;\n    int ok;\n\n    /* Quick result when objects are the same.\n       Guarantees that identity implies equality. */\n    if (v == w) {\n        if (op == Py_EQ)\n            return 1;\n        else if (op == Py_NE)\n            return 0;\n    }\n\n    ...\n}\n</code></pre>\n\n<p>The code path in <code>PyObject_RichCompareBool</code> pretty much immediately terminates. For <code>PyObject_RichCompare</code>, it does</p>\n\n<pre><code>PyObject *\nPyObject_RichCompare(PyObject *v, PyObject *w, int op)\n{\n    PyObject *res;\n\n    assert(Py_LT &lt;= op &amp;&amp; op &lt;= Py_GE);\n    if (v == NULL || w == NULL) { ... }\n    if (Py_EnterRecursiveCall(\" in comparison\"))\n        return NULL;\n    res = do_richcompare(v, w, op);\n    Py_LeaveRecursiveCall();\n    return res;\n}\n</code></pre>\n\n<p>The <code>Py_EnterRecursiveCall</code>/<code>Py_LeaveRecursiveCall</code> combo are not taken in the previous path, but these are relatively quick macros that'll short-circuit after incrementing and decrementing some globals.</p>\n\n<p><code>do_richcompare</code> does:</p>\n\n<pre><code>static PyObject *\ndo_richcompare(PyObject *v, PyObject *w, int op)\n{\n    richcmpfunc f;\n    PyObject *res;\n    int checked_reverse_op = 0;\n\n    if (v-&gt;ob_type != w-&gt;ob_type &amp;&amp; ...) { ... }\n    if ((f = v-&gt;ob_type-&gt;tp_richcompare) != NULL) {\n        res = (*f)(v, w, op);\n        if (res != Py_NotImplemented)\n            return res;\n        ...\n    }\n    ...\n}\n</code></pre>\n\n<p>This does some quick checks to call <code>v-&gt;ob_type-&gt;tp_richcompare</code> which is</p>\n\n<pre><code>PyTypeObject PyUnicode_Type = {\n    ...\n    PyUnicode_RichCompare,      /* tp_richcompare */\n    ...\n};\n</code></pre>\n\n<p>which does</p>\n\n<pre><code>PyObject *\nPyUnicode_RichCompare(PyObject *left, PyObject *right, int op)\n{\n    int result;\n    PyObject *v;\n\n    if (!PyUnicode_Check(left) || !PyUnicode_Check(right))\n        Py_RETURN_NOTIMPLEMENTED;\n\n    if (PyUnicode_READY(left) == -1 ||\n        PyUnicode_READY(right) == -1)\n        return NULL;\n\n    if (left == right) {\n        switch (op) {\n        case Py_EQ:\n        case Py_LE:\n        case Py_GE:\n            /* a string is equal to itself */\n            v = Py_True;\n            break;\n        case Py_NE:\n        case Py_LT:\n        case Py_GT:\n            v = Py_False;\n            break;\n        default:\n            ...\n        }\n    }\n    else if (...) { ... }\n    else { ...}\n    Py_INCREF(v);\n    return v;\n}\n</code></pre>\n\n<p>Namely, this shortcuts on <code>left == right</code>... but only after doing </p>\n\n<pre><code>    if (!PyUnicode_Check(left) || !PyUnicode_Check(right))\n\n    if (PyUnicode_READY(left) == -1 ||\n        PyUnicode_READY(right) == -1)\n</code></pre>\n\n<p>All in all the paths then look something like this (manually recursively inlining, unrolling and pruning known branches)</p>\n\n<pre><code>POP()                           # Stack stuff\nTOP()                           #\n                                #\ncase PyCmp_IN:                  # Dispatch on operation\n                                #\nsqm != NULL                     # Dispatch to builtin op\nsqm-&gt;sq_contains != NULL        #\n*sqm-&gt;sq_contains               #\n                                #\ncmp == 0                        # Do comparison in loop\ni &lt; Py_SIZE(a)                  #\nv == w                          #\nop == Py_EQ                     #\n++i                             # \ncmp == 0                        #\n                                #\nres &lt; 0                         # Convert to Python-space\nres ? Py_True : Py_False        #\nPy_INCREF(v)                    #\n                                #\nPy_DECREF(left)                 # Stack stuff\nPy_DECREF(right)                #\nSET_TOP(res)                    #\nres == NULL                     #\nDISPATCH()                      #\n</code></pre>\n\n<p>vs</p>\n\n<pre><code>POP()                           # Stack stuff\nTOP()                           #\n                                #\ndefault:                        # Dispatch on operation\n                                #\nPy_LT &lt;= op                     # Checking operation\nop &lt;= Py_GE                     #\nv == NULL                       #\nw == NULL                       #\nPy_EnterRecursiveCall(...)      # Recursive check\n                                #\nv-&gt;ob_type != w-&gt;ob_type        # More operation checks\nf = v-&gt;ob_type-&gt;tp_richcompare  # Dispatch to builtin op\nf != NULL                       #\n                                #\n!PyUnicode_Check(left)          # ...More checks\n!PyUnicode_Check(right))        #\nPyUnicode_READY(left) == -1     #\nPyUnicode_READY(right) == -1    #\nleft == right                   # Finally, doing comparison\ncase Py_EQ:                     # Immediately short circuit\nPy_INCREF(v);                   #\n                                #\nres != Py_NotImplemented        #\n                                #\nPy_LeaveRecursiveCall()         # Recursive check\n                                #\nPy_DECREF(left)                 # Stack stuff\nPy_DECREF(right)                #\nSET_TOP(res)                    #\nres == NULL                     #\nDISPATCH()                      #\n</code></pre>\n\n<p>Now, <code>PyUnicode_Check</code> and <code>PyUnicode_READY</code> are pretty cheap since they only check a couple of fields, but it should be obvious that the top one is a smaller code path, it has fewer function calls, only one switch\nstatement and is just a bit thinner.</p>\n\n<h3>TL;DR:</h3>\n\n<p>Both dispatch to <code>if (left_pointer == right_pointer)</code>; the difference is just how much work they do to get there. <code>in</code> just does less.</p>\n", "title": "Why is &#39;x&#39; in (&#39;x&#39;,) faster than &#39;x&#39; == &#39;x&#39;?", "answer_id": 28889838, "link": "http://stackoverflow.com/questions/28885132/why-is-x-in-x-faster-than-x-x/28889838#28889838", "tags": ["python", "performance", "python-3.x", "python-internals"]}], "question_id": 28885132}, {"body": "<p>Using IntelliJ IDE can't compile any projects. Screenshots of settings below:</p>\n\n<p>Used JDK:</p>\n\n<p><a href=\"http://i.stack.imgur.com/cpggk.png\"><img src=\"http://i.stack.imgur.com/cpggk.png\" alt=\"http://gyazo.com/b6e32119af7b04090d890cad04db6373\"></a></p>\n\n<p>Project SDK and Language level:</p>\n\n<p><a href=\"http://i.stack.imgur.com/0gEQl.png\"><img src=\"http://i.stack.imgur.com/0gEQl.png\" alt=\"http://gyazo.com/55a5fc9f7f2bb721a04780ce9d74eeab\"></a></p>\n\n<p>Language Level:</p>\n\n<p><a href=\"http://i.stack.imgur.com/8z6A4.png\"><img src=\"http://i.stack.imgur.com/8z6A4.png\" alt=\"http://gyazo.com/143bffad63fd89cafc231298729df2fc\"></a></p>\n\n<p>Anybody have any ideas?</p>\n", "title": "Error:java: javacTask: source release 8 requires target release 1.8", "tags": ["java", "intellij-idea"], "answer_count": 9, "link": "http://stackoverflow.com/questions/29888592/errorjava-javactask-source-release-8-requires-target-release-1-8", "answers": [{"body": "<p>This looks like the kind of error that Maven generates when you don't have the compiler plugin configured correctly.  Here's an example of a Java 8 compiler config.</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n     xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n\n&lt;!-- ... --&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;!-- ... --&gt;\n\n&lt;/project&gt;\n</code></pre>\n", "title": "Error:java: javacTask: source release 8 requires target release 1.8", "answer_id": 29889811, "link": "http://stackoverflow.com/questions/29888592/errorjava-javactask-source-release-8-requires-target-release-1-8/29889811#29889811", "tags": ["java", "intellij-idea"]}, {"body": "<ol>\n<li><strong>File > Settings > Build, Execution, Deployment > Java Compiler</strong></li>\n<li>Change <strong>Target bytecode version</strong> to <strong>1.8</strong> of the module that you are working for.</li>\n</ol>\n\n<p><strong>If you are using Maven</strong></p>\n\n<p>Add this to <code>pom.xml</code> under the top-level <code>project</code> node:</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>(Hoisted from the comments.)</p>\n", "title": "Error:java: javacTask: source release 8 requires target release 1.8", "answer_id": 30524848, "link": "http://stackoverflow.com/questions/29888592/errorjava-javactask-source-release-8-requires-target-release-1-8/30524848#30524848", "tags": ["java", "intellij-idea"]}, {"body": "<p>You need to go to Settings and set under the Java compiler the following:\n<a href=\"http://i.stack.imgur.com/OW3jL.png\"><img src=\"http://i.stack.imgur.com/OW3jL.png\" alt=\"enter image description here\"></a></p>\n\n<p>also check the Project Settings</p>\n", "title": "Error:java: javacTask: source release 8 requires target release 1.8", "answer_id": 32141090, "link": "http://stackoverflow.com/questions/29888592/errorjava-javactask-source-release-8-requires-target-release-1-8/32141090#32141090", "tags": ["java", "intellij-idea"]}, {"body": "<p>There are two ways to solve this problem:</p>\n\n<ol>\n<li>Set settings <code>(File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Java Compiler)</code>:\n<a href=\"http://i.stack.imgur.com/4b9of.png\"><img src=\"http://i.stack.imgur.com/4b9of.png\" alt=\"enter image description here\"></a></li>\n<li>Add a build section to your <code>pom.xml</code>:\n<a href=\"http://i.stack.imgur.com/T7B1Z.png\"><img src=\"http://i.stack.imgur.com/T7B1Z.png\" alt=\"enter image description here\"></a></li>\n</ol>\n", "title": "Error:java: javacTask: source release 8 requires target release 1.8", "answer_id": 33742637, "link": "http://stackoverflow.com/questions/29888592/errorjava-javactask-source-release-8-requires-target-release-1-8/33742637#33742637", "tags": ["java", "intellij-idea"]}, {"body": "<ul>\n<li>press:<strong>CTRL + SHIFT + A</strong></li>\n<li>type: <strong>java compiler</strong></li>\n<li>press: <strong>ENTER</strong></li>\n</ul>\n\n<p>In the setting window set the Target bytecode to <strong>1.8</strong></p>\n", "title": "Error:java: javacTask: source release 8 requires target release 1.8", "answer_id": 33827082, "link": "http://stackoverflow.com/questions/29888592/errorjava-javactask-source-release-8-requires-target-release-1-8/33827082#33827082", "tags": ["java", "intellij-idea"]}, {"body": "<p>I fixed this by going to <strong>Project Structure</strong> -> <strong>Modules</strong>, find the module in question, click on <strong>Dependencies</strong> tab, change <code>Module SDK</code> to <code>Project SDK</code>.</p>\n", "title": "Error:java: javacTask: source release 8 requires target release 1.8", "answer_id": 34324604, "link": "http://stackoverflow.com/questions/29888592/errorjava-javactask-source-release-8-requires-target-release-1-8/34324604#34324604", "tags": ["java", "intellij-idea"]}, {"body": "<p>I fixed it by modify my POM file. Notice the last comment under the highest voted answer.</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.3.2&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n            &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n        &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>The source must matches the target.</p>\n", "title": "Error:java: javacTask: source release 8 requires target release 1.8", "answer_id": 34650407, "link": "http://stackoverflow.com/questions/29888592/errorjava-javactask-source-release-8-requires-target-release-1-8/34650407#34650407", "tags": ["java", "intellij-idea"]}, {"body": "<p>In my case I fixed this issue by opening <strong>.iml file</strong> of project (it is located in project root folder and have name same as the name of project) and changing line <code>&lt;orderEntry type=\"jdk\" jdkName=\"1.7\" jdkType=\"JavaSDK\" /&gt;</code> to <code>&lt;orderEntry type=\"jdk\" jdkName=\"1.8\" jdkType=\"JavaSDK\" /&gt;</code> </p>\n\n<p>I had everything configured as in others answers here but by some reason Idea updated .iml file incorrectly.</p>\n", "title": "Error:java: javacTask: source release 8 requires target release 1.8", "answer_id": 35061064, "link": "http://stackoverflow.com/questions/29888592/errorjava-javactask-source-release-8-requires-target-release-1-8/35061064#35061064", "tags": ["java", "intellij-idea"]}, {"body": "<p>I fixed it just by changing target compile version to 1.8. Its in:</p>\n\n<p>File >> Settings >> Build, Execution, Deployment >> Compiler >> Java Compiler</p>\n", "title": "Error:java: javacTask: source release 8 requires target release 1.8", "answer_id": 36558227, "link": "http://stackoverflow.com/questions/29888592/errorjava-javactask-source-release-8-requires-target-release-1-8/36558227#36558227", "tags": ["java", "intellij-idea"]}], "question_id": 29888592}, {"body": "<p>Is it possible to get a random number between 1-100 and keep the results mainly within the 40-60 range? I mean, it will go out of that range rarely, but I want it to be mainly within that range... Is it possible with JavaScript/jQuery?</p>\n\n<p>Right now I'm just using the basic <code>Math.random() * 100 + 1</code>.</p>\n", "title": "Get a random number focused on center", "tags": ["javascript", "algorithm", "random", "numbers"], "answer_count": 20, "link": "http://stackoverflow.com/questions/30492259/get-a-random-number-focused-on-center", "answers": [{"body": "<p>Sure it is possible. Make a random 1-100. If the number is &lt;30 then generate number in range 1-100 if not generate in range 40-60. </p>\n", "title": "Get a random number focused on center", "answer_id": 30492333, "link": "http://stackoverflow.com/questions/30492259/get-a-random-number-focused-on-center/30492333#30492333", "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<p>It <em>looks</em> stupid but you can use rand twice:</p>\n\n<pre><code>var choice = Math.random() * 3;\nvar result;\n\nif (choice &lt; 2){\n    result = Math.random() * 20 + 40; //you have 2/3 chance to go there\n}\nelse {\n    result = Math.random() * 100 + 1;\n}\n</code></pre>\n", "title": "Get a random number focused on center", "answer_id": 30492419, "link": "http://stackoverflow.com/questions/30492259/get-a-random-number-focused-on-center/30492419#30492419", "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<p>I might do something like setup a \"chance\" for the number to be allowed to go \"out of bounds\". In this example, a 20% chance the number will be 1-100, otherwise, 40-60:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(function () {\r\n    $('button').click(function () {\r\n        var outOfBoundsChance = .2;\r\n        var num = 0;\r\n        if (Math.random() &lt;= outOfBoundsChance) {\r\n            num = getRandomInt(1, 100);\r\n        } else {\r\n            num = getRandomInt(40, 60);\r\n        }\r\n        $('#out').text(num);\r\n    });\r\n    \r\n    function getRandomInt(min, max) {\r\n        return Math.floor(Math.random() * (max - min + 1)) + min;\r\n    }\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;button&gt;Generate&lt;/button&gt;\r\n&lt;div id=\"out\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>fiddle: <a href=\"http://jsfiddle.net/kbv39s9w/\">http://jsfiddle.net/kbv39s9w/</a></p>\n", "title": "Get a random number focused on center", "answer_id": 30492471, "link": "http://stackoverflow.com/questions/30492259/get-a-random-number-focused-on-center/30492471#30492471", "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<p>What about using something like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var loops = 10;\r\nvar tries = 10;\r\nvar div = $(\"#results\").html(random());\r\nfunction random() {\r\n    var values = \"\";\r\n    for(var i=0; i &lt; loops; i++) {\r\n        var numTries = tries;\r\n        do {\r\n            var num = Math.floor((Math.random() * 100) + 1);\r\n            numTries--;\r\n        }\r\n        while((num &lt; 40 || num &gt;60) &amp;&amp; numTries &gt; 1)\r\n        values += num + \"&lt;br/&gt;\";\r\n    }\r\n    return values;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"results\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The way I've coded it allows you to set a couple of variables:<br/>\n<strong>loops</strong> = number of results<br/>\n<strong>tries</strong> = number of times the function will try to get a number between 40-60 before it stops running through the while loop</p>\n\n<p>Added bonus: It uses do while!!! Awesomeness at its best</p>\n", "title": "Get a random number focused on center", "answer_id": 30492497, "link": "http://stackoverflow.com/questions/30492259/get-a-random-number-focused-on-center/30492497#30492497", "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<pre><code>var randNum;\n// generate random number from 1-5\nvar freq = Math.floor(Math.random() * (6 - 1) + 1);\n// focus on 40-60 if the number is odd (1,3, or 5)\n// this should happen %60 of the time\nif (freq % 2){\n    randNum = Math.floor(Math.random() * (60 - 40) + 40);\n}\nelse {\n    randNum = Math.floor(Math.random() * (100 - 1) + 1);\n}\n</code></pre>\n", "title": "Get a random number focused on center", "answer_id": 30492530, "link": "http://stackoverflow.com/questions/30492259/get-a-random-number-focused-on-center/30492530#30492530", "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<p>Here's a weighted solution at 3/4 40-60 and 1/4 outside that range.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function weighted() {\r\n\r\n  var w = 4;\r\n\r\n  // number 1 to w\r\n  var r = Math.floor(Math.random() * w) + 1;\r\n\r\n  if (r === 1) { // 1/w goes to outside 40-60\r\n    var n = Math.floor(Math.random() * 80) + 1;\r\n    if (n &gt;= 40 &amp;&amp; n &lt;= 60) n += 40;\r\n    return n\r\n  }\r\n  // w-1/w goes to 40-60 range.\r\n  return Math.floor(Math.random() * 21) + 40;\r\n}\r\n\r\nfunction test() {\r\n  var counts = [];\r\n\r\n  for (var i = 0; i &lt; 2000; i++) {\r\n    var n = weighted();\r\n    if (!counts[n]) counts[n] = 0;\r\n    counts[n] ++;\r\n  }\r\n  var output = document.getElementById('output');\r\n  var o = \"\";\r\n  for (var i = 1; i &lt;= 100; i++) {\r\n    o += i + \" - \" + (counts[i] | 0) + \"\\n\";\r\n  }\r\n  output.innerHTML = o;\r\n}\r\n\r\ntest();</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;pre id=\"output\"&gt;&lt;/pre&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "Get a random number focused on center", "answer_id": 30492701, "link": "http://stackoverflow.com/questions/30492259/get-a-random-number-focused-on-center/30492701#30492701", "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<p>Ok, so I decided to add another answer because I felt like my last answer, as well as most answers here, use some sort of half-statistical way of obtaining a bell-curve type result return. The code I provide below works the same way as when you roll a dice. Therefore, it is hardest to get 1 or 99, but easiest to get 50.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var loops = 10; //Number of numbers generated\r\nvar min = 1,\r\n    max = 50;\r\nvar div = $(\"#results\").html(random());\r\n\r\nfunction random() {\r\n    var values = \"\";\r\n    for (var i = 0; i &lt; loops; i++) {\r\n        var one = generate();\r\n        var two = generate();\r\n        var ans = one + two - 1;\r\n        var num = values += ans + \"&lt;br/&gt;\";\r\n    }\r\n    return values;\r\n}\r\n\r\nfunction generate() {\r\n    return Math.floor((Math.random() * (max - min + 1)) + min);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"results\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "Get a random number focused on center", "answer_id": 30492965, "link": "http://stackoverflow.com/questions/30492259/get-a-random-number-focused-on-center/30492965#30492965", "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<p>The simplest way would be to generate two random numbers from 0-50 and add them together.</p>\n\n<p>This gives a distribution biased towards 50, in the same way rolling two dice biases towards 7.</p>\n\n<p>By using different settings (<code>bellFactor</code>) as @Falco suggests, you can easily choose from even distribution or triangle distribution or different bell curves:</p>\n\n<pre><code>function weightedRandom(max, bellFactor) {\n    var num = 0;\n    for (var i = 0; i &lt; bellFactor; i++) {\n        num += Math.random() * (max/bellFactor);\n    }    \n    return num;\n}\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/WskvS.png\" alt=\"Weighted random numbers\"></p>\n\n<p>JSFiddle: <a href=\"http://jsfiddle.net/797qhcza/1/\">http://jsfiddle.net/797qhcza/1/</a></p>\n", "title": "Get a random number focused on center", "answer_id": 30495228, "link": "http://stackoverflow.com/questions/30492259/get-a-random-number-focused-on-center/30495228#30495228", "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<p>I needed to solve this problem a few years ago and my solution was easier than any of the other answers. </p>\n\n<p>I generated 3 randoms between the bounds and averaged them. This pulls the result towards the centre but leaves it completely possible to reach the extremities. </p>\n", "title": "Get a random number focused on center", "answer_id": 30498545, "link": "http://stackoverflow.com/questions/30492259/get-a-random-number-focused-on-center/30498545#30498545", "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<p>Taking arrays of numbers, etc. isn't efficient. You should take a mapping which takes a random number between 0 to 100 and maps to the distribution you need. So in your case, you could take <code>f(x)=-(1/25)x<sup>2</sup>+4x</code> to get a distribution with the most values in the middle of your range.</p>\n\n<p><img src=\"http://i.stack.imgur.com/kCfOL.png\" alt=\"Distribution\"></p>\n", "title": "Get a random number focused on center", "answer_id": 30498855, "link": "http://stackoverflow.com/questions/30492259/get-a-random-number-focused-on-center/30498855#30498855", "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<p>There is a lot of different ways to generate such random numbers. One way to do it is to compute the sum of multiple uniformly random numbers. How many random numbers you sum and what their range is will determine how the final distribution will look.</p>\n\n<p>The more numbers you sum up, the more it will be biased towards the center. Using the <em>sum of 1 random number</em> was already proposed in your question, but as you notice is not biased towards the center of the range. Other answers have propose using the <a href=\"http://stackoverflow.com/a/30495228/3476849\">sum of 2 random numbers</a> or the <a href=\"http://stackoverflow.com/a/30498545/3476849\">sum of 3 random numbers</a>.</p>\n\n<p>You can get even more bias towards the center of the range by taking the sum of more random numbers. At the extreme you could take the sum of 99 random numbers which each were either 0 or 1. That would be a binomial distribution. (Binomial distributions can in some sense be seen as the discrete version of normal distributions). This can still in theory cover the full range, but it has so much bias towards the center that you should never expect to see it reach the endpoints.</p>\n\n<p>This approach means you can tweak just how much bias you want.</p>\n", "title": "Get a random number focused on center", "answer_id": 30504383, "link": "http://stackoverflow.com/questions/30492259/get-a-random-number-focused-on-center/30504383#30504383", "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<p>You can write a function that maps random values between <code>[0, 1)</code> to <code>[1, 100]</code> according to weight. Consider this example:</p>\n\n<p><img src=\"http://i.stack.imgur.com/9VsHy.png\" alt=\"0.0-1.0 to 1-100 by percentage weight\"></p>\n\n<p>Here, the value <code>0.95</code> maps to value between <code>[61, 100]</code>.<br>\nIn fact we have <code>.05 / .1 = 0.5</code>, which, when mapped to <code>[61, 100]</code>, yields <code>81</code>.</p>\n\n<p>Here is the function:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>/*\r\n * Function that returns a function that maps random number to value according to map of probability\r\n */\r\nfunction createDistributionFunction(data) {\r\n  // cache data + some pre-calculations\r\n  var cache = [];\r\n  var i;\r\n  for (i = 0; i &lt; data.length; i++) {\r\n    cache[i] = {};\r\n    cache[i].valueMin = data[i].values[0];\r\n    cache[i].valueMax = data[i].values[1];\r\n    cache[i].rangeMin = i === 0 ? 0 : cache[i - 1].rangeMax;\r\n    cache[i].rangeMax = cache[i].rangeMin + data[i].weight;\r\n  }\r\n  return function(random) {\r\n    var value;\r\n    for (i = 0; i &lt; cache.length; i++) {\r\n      // this maps random number to the bracket and the value inside that bracket\r\n      if (cache[i].rangeMin &lt;= random &amp;&amp; random &lt; cache[i].rangeMax) {\r\n        value = (random - cache[i].rangeMin) / (cache[i].rangeMax - cache[i].rangeMin);\r\n        value *= cache[i].valueMax - cache[i].valueMin + 1;\r\n        value += cache[i].valueMin;\r\n        return Math.floor(value);\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\n/*\r\n * Example usage\r\n */\r\nvar distributionFunction = createDistributionFunction([\r\n  { weight: 0.1, values: [1, 40] },\r\n  { weight: 0.8, values: [41, 60] },\r\n  { weight: 0.1, values: [61, 100] }\r\n]);\r\n\r\n/*\r\n * Test the example and draw results using Google charts API\r\n */\r\nfunction testAndDrawResult() {\r\n  var counts = [];\r\n  var i;\r\n  var value;\r\n  // run the function in a loop and count the number of occurrences of each value\r\n  for (i = 0; i &lt; 10000; i++) {\r\n    value = distributionFunction(Math.random());\r\n    counts[value] = (counts[value] || 0) + 1;\r\n  }\r\n  // convert results to datatable and display\r\n  var data = new google.visualization.DataTable();\r\n  data.addColumn(\"number\", \"Value\");\r\n  data.addColumn(\"number\", \"Count\");\r\n  for (value = 0; value &lt; counts.length; value++) {\r\n    if (counts[value] !== undefined) {\r\n      data.addRow([value, counts[value]]);\r\n    }\r\n  }\r\n  var chart = new google.visualization.ColumnChart(document.getElementById(\"chart\"));\r\n  chart.draw(data);\r\n}\r\ngoogle.load(\"visualization\", \"1\", { packages: [\"corechart\"] });\r\ngoogle.setOnLoadCallback(testAndDrawResult);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://www.google.com/jsapi\"&gt;&lt;/script&gt;\r\n&lt;div id=\"chart\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "Get a random number focused on center", "answer_id": 30506894, "link": "http://stackoverflow.com/questions/30492259/get-a-random-number-focused-on-center/30506894#30506894", "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<p>You have some good answers here that give specific solutions; let me describe for you the general solution.  The problem is:</p>\n\n<ul>\n<li>I have a source of more-or-less <em>uniformly</em> distributed random numbers between 0 and 1.</li>\n<li>I wish to produce a sequence of random numbers that follow a different distribution.</li>\n</ul>\n\n<p>The general solution to this problem is to work out the <em>quantile function</em> of your desired distribution, and then apply the quantile function to the output of your uniform source.</p>\n\n<p>The quantile function is the <em>inverse</em> of the <em>integral</em> of your desired <em>distribution function</em>. The distribution function is the function where the area under a portion of the curve is equal to the probability that the randomly-chosen item will be in that portion.</p>\n\n<p>I give an example of how to do so here:</p>\n\n<p><a href=\"http://ericlippert.com/2012/02/21/generating-random-non-uniform-data/\">http://ericlippert.com/2012/02/21/generating-random-non-uniform-data/</a></p>\n\n<p>The code in there is in C#, but the principles apply to any language; it should be straightforward to adapt the solution to JavaScript.</p>\n", "title": "Get a random number focused on center", "answer_id": 30519350, "link": "http://stackoverflow.com/questions/30492259/get-a-random-number-focused-on-center/30519350#30519350", "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<p>The best solution targeting this very problem is the one proposed by <a href=\"http://stackoverflow.com/a/30495228/2144232\">BlueRaja - Danny Pflughoeft</a> but I think a somewhat faster and more general solution is also worth mentioning.</p>\n\n<hr>\n\n<p>When I have to generate random numbers (strings, coordinate pairs, etc.) satisfying the two requirements of</p>\n\n<ol>\n<li>The result set is quite small. (not larger than 16K numbers)</li>\n<li>The result set is discreet. (like integer numbers only)</li>\n</ol>\n\n<p>I usually start by creating an array of numbers (strings, coordinate pairs, etc.) fulfilling the requirement (In your case: an array of numbers containing the more probable ones multiple times.), then choose a random item of that array. This way, you only have to call the expensive random function once per item.</p>\n", "title": "Get a random number focused on center", "answer_id": 30524667, "link": "http://stackoverflow.com/questions/30492259/get-a-random-number-focused-on-center/30524667#30524667", "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<p>The best way to do that is generating a random number that is distributed equally in a certain set of numbers, and then apply a projection function to the set between 0 and a 100 where the projection is more likely to hit the numbers you want.</p>\n\n<p>Typically the mathematical way of achieving this is plotting a probability function of the numbers you want. We could use the bell curve, but let's for the sake of easier calculation just work with a flipped parabola.</p>\n\n<p>Let's make a parabola such that its roots are at 0 and 100 without skewing it. We get the following equation:</p>\n\n<pre><code>f(x) = -(x-0)(x-100) = -x * (x-100) = -x^2 + 100x\n</code></pre>\n\n<p>Now, all the area under the curve between 0 and 100 is representative of our first set where we want the numbers generated. There, the generation is completely random. So, all we need to do is find the bounds of our first set.</p>\n\n<p>The lower bound is, of course, 0. The upper bound is the integral of our function at 100, which is</p>\n\n<pre><code>F(x) = -x^3/3 + 50x^2\nF(100) = 500,000/3 = 166,666.66666 (let's just use 166,666, because rounding up would make the target out of bounds)\n</code></pre>\n\n<p>So we know that we need to generate a number somewhere between 0 and 166,666. Then, we simply need to take that number and project it to our second set, which is between 0 and 100.</p>\n\n<p>We know that the random number we generated is some integral of our parabola with an input x between 0 and 100. That means that we simply have to assume that the random number is the result of F(x), and solve for x.</p>\n\n<p>In this case, F(x) is a cubic equation, and in the form <code>F(x) = ax^3 + bx^2 + cx + d = 0</code>, the following statements are true:</p>\n\n<pre><code>a = -1/3\nb = 50\nc = 0\nd = -1 * (your random number)\n</code></pre>\n\n<p>Solving this for x yields you the actual random number your are looking for, which is guaranteed to be in the [0, 100] range and a much higher likelihood to be close to the center than the edges.</p>\n", "title": "Get a random number focused on center", "answer_id": 30581754, "link": "http://stackoverflow.com/questions/30492259/get-a-random-number-focused-on-center/30581754#30581754", "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<p>I'd recommend using the <a href=\"http://en.wikipedia.org/wiki/Beta_distribution\">beta distribution</a> to generate a number between 0-1, then scale it up. It's quite flexible and can create many different shapes of distributions.</p>\n\n<p>Here's a quick and dirty sampler:</p>\n\n<pre><code>rbeta = function(alpha, beta) {\n var a = 0   \n for(var i = 0; i &lt; alpha; i++)   \n    a -= Math.log(Math.random())\n\n var b = 0   \n for(var i = 0; i &lt; beta; i++)   \n    b -= Math.log(Math.random())\n\n  return Math.ceil(100 * a / (a+b))\n}\n</code></pre>\n", "title": "Get a random number focused on center", "answer_id": 30607900, "link": "http://stackoverflow.com/questions/30492259/get-a-random-number-focused-on-center/30607900#30607900", "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<p>You can use a helper random number to whether generate random numbers in 40-60 or 1-100:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// 90% of random numbers should be between 40 to 60.\r\nvar weight_percentage = 90;\r\n\r\nvar focuse_on_center = ( (Math.random() * 100) &lt; weight_percentage );\r\n\r\nif(focuse_on_center)\r\n{\r\n\t// generate a random number within the 40-60 range.\r\n\talert (40 + Math.random() * 20 + 1);\r\n}\r\nelse\r\n{\r\n\t// generate a random number within the 1-100 range.\r\n\talert (Math.random() * 100 + 1);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "Get a random number focused on center", "answer_id": 30616868, "link": "http://stackoverflow.com/questions/30492259/get-a-random-number-focused-on-center/30616868#30616868", "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<p>If you can use the <code>gaussian</code> function, use it. This function returns normal number with <code>average 0</code> and <code>sigma 1</code>.</p>\n\n<p>95% of this number are within <code>average +/- 2*sigma</code>. Your <code>average = 50</code>, and <code>sigma = 5</code> so</p>\n\n<pre><code>randomNumber = 50 + 5*gaussian()\n</code></pre>\n", "title": "Get a random number focused on center", "answer_id": 30625160, "link": "http://stackoverflow.com/questions/30492259/get-a-random-number-focused-on-center/30625160#30625160", "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<p><a href=\"http://stackoverflow.com/a/30495228/1237747\">This answer is really good</a>. But I would like to post implementation instructions (I'm not into JavaScript, so I hope you will understand) for different situation.</p>\n\n<hr>\n\n<p>Assume you have ranges and weights for every range:</p>\n\n<pre><code>ranges - [1, 20], [21, 40], [41, 60], [61, 100]\nweights - {1, 2, 100, 5}\n</code></pre>\n\n<hr>\n\n<p>Initial Static Information, could be cached:</p>\n\n<ol>\n<li>Sum of all weights (108 in sample)</li>\n<li>Range selection boundaries. It basically this formula: <code>Boundary[n] = Boundary[n - 1] + weigh[n - 1]</code> and <code>Boundary[0] = 0</code>. Sample has <code>Boundary = {0, 1, 3, 103, 108}</code></li>\n</ol>\n\n<p>Number generation:</p>\n\n<ol>\n<li>Generate random number <code>N</code> from range [0, Sum of all weights).</li>\n<li><code>for (i = 0; i &lt; size(Boundary) &amp;&amp; N &gt; Boundary[i + 1]; ++i)</code></li>\n<li>Take <code>i</code>th range and generate random number in that range.</li>\n</ol>\n\n<hr>\n\n<p>Additional note for performance optimizations. Ranges don't have to be ordered neither ascending nor descending order, so for faster range look-up range that has highest weight should go first and one with lowest weight should go last.</p>\n", "title": "Get a random number focused on center", "answer_id": 30645575, "link": "http://stackoverflow.com/questions/30492259/get-a-random-number-focused-on-center/30645575#30645575", "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<p>Distribution</p>\n\n<pre><code> 5% for [ 0,39]\n90% for [40,59]\n 5% for [60,99]\n</code></pre>\n\n<p>Solution</p>\n\n<pre><code>var f = Math.random();\nif (f &lt; 0.05) return random(0,39);\nelse if (f &lt; 0.95) return random(40,59);\nelse return random(60,99);\n</code></pre>\n\n<p>Generic Solution</p>\n\n<pre><code>random_choose([series(0,39),series(40,59),series(60,99)],[0.05,0.90,0.05]);\n\nfunction random_choose (collections,probabilities)\n{\n    var acc = 0.00;\n    var r1 = Math.random();\n    var r2 = Math.random();\n\n    for (var i = 0; i &lt; probabilities.length; i++)\n    {\n      acc += probabilities[i];\n      if (r1 &lt; acc)\n        return collections[i][Math.floor(r2*collections[i].length)];\n    }\n\n    return (-1);\n}\n\nfunction series(min,max)\n{\n    var i = min; var s = [];\n    while (s[s.length-1] &lt; max) s[s.length]=i++;\n    return s;\n}\n</code></pre>\n", "title": "Get a random number focused on center", "answer_id": 30652696, "link": "http://stackoverflow.com/questions/30492259/get-a-random-number-focused-on-center/30652696#30652696", "tags": ["javascript", "algorithm", "random", "numbers"]}], "question_id": 30492259}, {"body": "<p>I have recently started to learn C and I am taking a class with C as the subject. I'm currently playing around with loops and I'm running into some odd behaviour which I don't know how to explain. </p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint main()\n{\n  int array[10],i;\n\n  for (i = 0; i &lt;=10 ; i++)\n  {\n    array[i]=0; /*code should never terminate*/\n    printf(\"test \\n\");\n\n  }\n  printf(\"%d \\n\", sizeof(array)/sizeof(int));\n  return 0;\n}\n</code></pre>\n\n<p>On my laptop running Ubuntu 14.04, this code does not break. It runs to completion. On my school's computer running CentOS 6.6, it also runs fine. On Windows 8.1, the loop never terminates. </p>\n\n<p>What's even more strange is that when I edit the condition of the <code>for</code> loop to: <code>i &lt;= 11</code>, the code only terminates on my laptop running Ubuntu. It never terminates in CentOS and Windows. </p>\n\n<p>Can anyone explain what's happening in the memory and why the different OSes running the same code give different outcomes? </p>\n\n<p>EDIT: I know the for loop goes out of bounds. I'm doing it intentionally. I just can't figure out how the behaviour can be different across different OSes and computers. </p>\n", "title": "Why does this for loop exit on some platforms and not on others?", "tags": ["c", "debugging", "undefined-behavior", "buffer-overflow"], "answer_count": 14, "link": "http://stackoverflow.com/questions/31016660/why-does-this-for-loop-exit-on-some-platforms-and-not-on-others", "answers": [{"body": "<p>Unlike Java, C doesn't do array boundary check, i.e, there's no <code>ArrayIndexOutOfBoundsException</code>, the job of making sure the array index is valid is left to the programmer. Doing this on purpose leads to undefined behavior, anything could happen.</p>\n\n<hr>\n\n<p>For an array:</p>\n\n<pre><code>int array[10]\n</code></pre>\n\n<p>indexes are only valid in the range <code>0</code> to <code>9</code>. However, you are trying to:</p>\n\n<pre><code>for (i = 0; i &lt;=10 ; i++)\n</code></pre>\n\n<p>access <code>array[10]</code> here, change the condition to <code>i &lt; 10</code></p>\n", "title": "Why does this for loop exit on some platforms and not on others?", "answer_id": 31016691, "link": "http://stackoverflow.com/questions/31016660/why-does-this-for-loop-exit-on-some-platforms-and-not-on-others/31016691#31016691", "tags": ["c", "debugging", "undefined-behavior", "buffer-overflow"]}, {"body": "<p>The bug lies between these pieces of code:</p>\n\n<pre><code>int array[10],i;\n\nfor (i = 0; i &lt;=10 ; i++)\n\narray[i]=0;\n</code></pre>\n\n<p>Since <code>array</code> only has 10 elements, in the last iteration <code>array[10] = 0;</code> is a buffer overflow. Buffer overflows are <strong>UNDEFINED BEHAVIOR</strong>, which means they might format your hard drive or cause demons to fly out of your nose.</p>\n\n<p>It is fairly common for all stack variables to be laid out adjacent to each other. If <code>i</code> is located where <code>array[10]</code> writes to, then the UB will reset <code>i</code> to <code>0</code>, thus leading to the unterminated loop.</p>\n\n<p>To fix, change the loop condition to <code>i &lt; 10</code>.</p>\n", "title": "Why does this for loop exit on some platforms and not on others?", "answer_id": 31016696, "link": "http://stackoverflow.com/questions/31016660/why-does-this-for-loop-exit-on-some-platforms-and-not-on-others/31016696#31016696", "tags": ["c", "debugging", "undefined-behavior", "buffer-overflow"]}, {"body": "<p>Since you created an array of size 10, for loop condition should be as follows:</p>\n\n<pre><code>int array[10],i;\n\nfor (i = 0; i &lt;10 ; i++)\n{\n</code></pre>\n\n<p>Currently you are trying to access the unassigned location from the memory using <code>array[10]</code> and it is causing the <strong>undefined behavior</strong>.  Undefined behavior means your program will behave undetermined fashion, so it can give different outputs in each execution.</p>\n", "title": "Why does this for loop exit on some platforms and not on others?", "answer_id": 31016697, "link": "http://stackoverflow.com/questions/31016660/why-does-this-for-loop-exit-on-some-platforms-and-not-on-others/31016697#31016697", "tags": ["c", "debugging", "undefined-behavior", "buffer-overflow"]}, {"body": "<p>You declare <code>int array[10]</code> means <code>array</code> has index <code>0</code> to <code>9</code> (total <code>10</code> integer elements it can hold). But the following loop,</p>\n\n<pre><code>for (i = 0; i &lt;=10 ; i++)\n</code></pre>\n\n<p>will loop <code>0</code> to <code>10</code> means <code>11</code> time. Hence when <code>i = 10</code> it will overflow the buffer and cause <a href=\"https://en.wikipedia.org/wiki/Undefined_behavior\" rel=\"nofollow\">Undefined Behavior</a>.</p>\n\n<p>So try this:</p>\n\n<pre><code>for (i = 0; i &lt; 10 ; i++)\n</code></pre>\n\n<p>or,</p>\n\n<pre><code>for (i = 0; i &lt;= 9 ; i++)\n</code></pre>\n", "title": "Why does this for loop exit on some platforms and not on others?", "answer_id": 31016711, "link": "http://stackoverflow.com/questions/31016660/why-does-this-for-loop-exit-on-some-platforms-and-not-on-others/31016711#31016711", "tags": ["c", "debugging", "undefined-behavior", "buffer-overflow"]}, {"body": "<p>You have a bounds violation, and on the non-terminating platforms, I believe you are inadvertently setting <code>i</code> to zero at the end of the loop, so that it starts over again.</p>\n\n<p><code>array[10]</code> is invalid; it contains 10 elements, <code>array[0]</code> through <code>array[9]</code>, and <code>array[10]</code> is the 11th.  Your loop should be written to stop <em>before</em> <code>10</code>, as follows:</p>\n\n<pre><code>for (i = 0; i &lt; 10; i++)\n</code></pre>\n\n<p>Where <code>array[10]</code> lands is implementation-defined, and amusingly, on two of your platforms, it lands on <code>i</code>, which those platforms apparently lay out directly after <code>array</code>.  <code>i</code> is set to zero and the loop continues forever.  For your other platforms, <code>i</code> may be located before <code>array</code>, or <code>array</code> may have some padding after it.</p>\n", "title": "Why does this for loop exit on some platforms and not on others?", "answer_id": 31016733, "link": "http://stackoverflow.com/questions/31016660/why-does-this-for-loop-exit-on-some-platforms-and-not-on-others/31016733#31016733", "tags": ["c", "debugging", "undefined-behavior", "buffer-overflow"]}, {"body": "<p>Well, C compiler traditionally does not check for bounds.  You can get a segmentation fault in case you refer to a location that does not \"belong\" to your process.  However, the local variables are allocated on stack and depending on the way the memory is allocated, the area just beyond the array (<code>array[10]</code>) may belong to the process' memory segment.  Thus, no segmentation fault trap is thrown and that is what you seem to experience.  As others have pointed out, this is undefined behavior in C and your code may be considered erratic.  Since you are learning C, you are better off getting into the habit of checking for bounds in your code.</p>\n", "title": "Why does this for loop exit on some platforms and not on others?", "answer_id": 31016782, "link": "http://stackoverflow.com/questions/31016660/why-does-this-for-loop-exit-on-some-platforms-and-not-on-others/31016782#31016782", "tags": ["c", "debugging", "undefined-behavior", "buffer-overflow"]}, {"body": "<blockquote>\n  <p>On my laptop running Ubuntu 14.04, this code does not break it runs to completion. On my school's computer running CentOS 6.6, it also runs fine. On Windows 8.1, the loop never terminates.</p>\n  \n  <p>What is more strange is when I edit the conditional of the <code>for</code> loop to: <code>i &lt;= 11</code>, the code only terminates on my laptop running Ubuntu. CentOS and Windows never terminates. </p>\n</blockquote>\n\n<p>You've just discovered memory stomping.  You can read more about it here: <a href=\"http://stackoverflow.com/questions/13669329/what-is-a-memory-stomp\">What is a \u201cmemory stomp\u201d?</a></p>\n\n<p>When you allocate <code>int array[10],i;</code>, those variables go into memory (specifically, they're allocated on the stack, which is a block of memory associated with the function).  <code>array[]</code> and <code>i</code> are probably adjacent to each other in memory.  It seems that on Windows 8.1, <code>i</code> is located at <code>array[10]</code>.  On CentOS, <code>i</code> is located at <code>array[11]</code>.  And on Ubuntu, it's in neither spot (maybe it's at <code>array[-1]</code>?).</p>\n\n<p>Try adding these debugging statements to your code.  You should notice that on iteration 10 or 11, <code>array[i]</code> points at <code>i</code>.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint main() \n{ \n  int array[10],i; \n\n  printf (\"array: %p, &amp;i: %p\\n\", array, &amp;i); \n  printf (\"i is offset %d from array\\n\", &amp;i - array);\n\n  for (i = 0; i &lt;=11 ; i++) \n  { \n    printf (\"%d: Writing 0 to address %p\\n\", i, &amp;array[i]); \n    array[i]=0; /*code should never terminate*/ \n  } \n  return 0; \n} \n</code></pre>\n", "title": "Why does this for loop exit on some platforms and not on others?", "answer_id": 31016813, "link": "http://stackoverflow.com/questions/31016660/why-does-this-for-loop-exit-on-some-platforms-and-not-on-others/31016813#31016813", "tags": ["c", "debugging", "undefined-behavior", "buffer-overflow"]}, {"body": "<p>There are two things wrong here. The int i is actually an array element, array[10], as seen on the stack. Because you have allowed the indexing to actually make array[10] = 0, the loop index, i, will never exceed 10. Make it <code>for(i=0; i&lt;10; i+=1)</code>.</p>\n\n<p>i++ is, as <a href=\"https://en.wikipedia.org/wiki/The_C_Programming_Language\" rel=\"nofollow\">K&amp;R</a> would call it, 'bad style'. It is incrementing i by the size of i, not 1. i++ is for pointer math and i+=1 is for algebra. While this depends on the compiler, it is not a good convention for portability. </p>\n", "title": "Why does this for loop exit on some platforms and not on others?", "answer_id": 31030444, "link": "http://stackoverflow.com/questions/31016660/why-does-this-for-loop-exit-on-some-platforms-and-not-on-others/31030444#31030444", "tags": ["c", "debugging", "undefined-behavior", "buffer-overflow"]}, {"body": "<p>In what should be the last run of the loop,you write to <code>array[10]</code>, but there are only 10 elements in the array, numbered 0 through 9. The C language specification says that this is \u201cundefined behavior\u201d. What this means in practice is that your program will attempt to write to the <code>int</code>-sized piece of memory that lies immediately after <code>array</code> in memory. What happens then depends on what does, in fact, lie there, and this depends not only on the operating system but more so on the compiler, on the compiler options (such as optimization settings), on the processor architecture, on the surrounding code, etc. It could even vary from execution to execution, e.g. due to <a href=\"https://en.wikipedia.org/wiki/Address_space_layout_randomization\">address space randomization</a> (probably not on this toy example, but it does happen in real life). Some possibilities include:</p>\n\n<ul>\n<li>The location wasn't used. The loop terminates normally.</li>\n<li>The location was used for something which happened to have the value 0. The loop terminates normally.</li>\n<li>The location contained the function's return address. The loop terminates normally, but then the program crashes because it tries to jump to the address 0.</li>\n<li>The location contains the variable <code>i</code>. The loop never terminates because <code>i</code> restarts at 0.</li>\n<li>The location contains some other variable. The loop terminates normally, but then \u201cinteresting\u201d things happen.</li>\n<li>The location is an invalid memory address, e.g. because <code>array</code> is right at the end of a virtual memory page and the next page isn't mapped.</li>\n<li><a href=\"http://catb.org/jargon/html/N/nasal-demons.html\">Demons fly out of your nose</a>. Fortunately most computers lack the requisite hardware.</li>\n</ul>\n\n<p>What you observed on Windows was that the compiler decided to place the variable <code>i</code> immediately after the array in memory, so <code>array[10] = 0</code> ended up assigning to <code>i</code>. On Ubuntu and CentOS, the compiler didn't place <code>i</code> there. Almost all C implementations do group local variables in memory, on a <a href=\"https://en.wikipedia.org/wiki/Stack-based_memory_allocation\">memory stack</a>, with one major exception: some local variables can be placed entirely in <a href=\"https://en.wikipedia.org/wiki/Processor_register\">registers</a>. Even if the variable is on the stack, the order of variables is determined by the compiler, and it may depend not only on the order in the source file but also on their types (to avoid wasting memory to alignment constraints that would leave holes), on their names, on some hash value used in a compiler's internal data structure, etc.</p>\n\n<p>If you want to find out what your compiler decided to do, you can tell it to show you the assembler code. Oh, and learn to decipher assembler (it's easier than writing it). With GCC (and some other compilers, especially in the Unix world), pass the option <code>-S</code> to produce assembler code instead of a binary. For example, here's the assembler snippet for the loop from compiling with GCC on amd64 with the optimization option <code>-O0</code> (no optimization), with comments added manually:</p>\n\n<pre><code>.L3:\n    movl    -52(%rbp), %eax           ; load i to register eax\n    cltq\n    movl    $0, -48(%rbp,%rax,4)      ; set array[i] to 0\n    movl    $.LC0, %edi\n    call    puts                      ; printf of a constant string was optimized to puts\n    addl    $1, -52(%rbp)             ; add 1 to i\n.L2:\n    cmpl    $10, -52(%rbp)            ; compare i to 10\n    jle     .L3\n</code></pre>\n\n<p>Here the variable <code>i</code> is 52 bytes below the top of the stack, while the array starts 48 bytes below the top of the stack. So this compiler happens to have placed <code>i</code> just before the array; you'd overwrite <code>i</code> if you happened to write to <code>array[-1]</code>. If you change <code>array[i]=0</code> to <code>array[9-i]=0</code>, you'll get an infinite loop on this particular platform with these particular compiler options.</p>\n\n<p>Now let's compile your program with <code>gcc -O1</code>.</p>\n\n<pre><code>    movl    $11, %ebx\n.L3:\n    movl    $.LC0, %edi\n    call    puts\n    subl    $1, %ebx\n    jne     .L3\n</code></pre>\n\n<p>That's shorter! The compiler has not only declined to allocate a stack location for <code>i</code> \u2014 it's only ever stored in the register <code>ebx</code> \u2014 but it hasn't bothered to allocate any memory for <code>array</code>, or to generate code to set its elements, because it noticed that none of the elements are ever used.</p>\n\n<p>To make this example more telling, let's ensure that the array assignments are performed by providing the compiler with something it isn't able to optimize away. An easy way to do that is to use the array from another file \u2014\u00a0because of separate compilation, the compiler doesn't know what happens in another file (unless it optimizes at link time, which <code>gcc -O0</code> or <code>gcc -O1</code> doesn't). Create a source file <code>use_array.c</code> containing</p>\n\n<pre><code>void use_array(int *array) {}\n</code></pre>\n\n<p>and change your source code to</p>\n\n<pre><code>#include &lt;stdio.h&gt;\nvoid use_array(int *array);\n\nint main()\n{\n  int array[10],i;\n\n  for (i = 0; i &lt;=10 ; i++)\n  {\n    array[i]=0; /*code should never terminate*/\n    printf(\"test \\n\");\n\n  }\n  printf(\"%zd \\n\", sizeof(array)/sizeof(int));\n  use_array(array);\n  return 0;\n}\n</code></pre>\n\n<p>Compile with</p>\n\n<pre><code>gcc -c use_array.c\ngcc -O1 -S -o with_use_array1.c with_use_array.c use_array.o\n</code></pre>\n\n<p>This time the assembler code looks like this:</p>\n\n<pre><code>    movq    %rsp, %rbx\n    leaq    44(%rsp), %rbp\n.L3:\n    movl    $0, (%rbx)\n    movl    $.LC0, %edi\n    call    puts\n    addq    $4, %rbx\n    cmpq    %rbp, %rbx\n    jne     .L3\n</code></pre>\n\n<p>Now the array is on the stack, 44 bytes from the top. What about <code>i</code>? It doesn't appear anywhere! But the loop counter is kept in the register <code>rbx</code>. It's not exactly <code>i</code>, but the address of the <code>array[i]</code>. The compiler has decided that since the value of <code>i</code> was never used directly, there was no point in performing arithmetic to calculate where to store 0 during each run of the loop. Instead that address is the loop variable, and the arithmetic to determine the boundaries was performed partly at compile time (multiply 11 iterations by 4 bytes per array element to get 44) and partly at run time but once and for all before the loop starts (perform a subtraction to get the initial value).</p>\n\n<p>Even on this very simple example, we've seen how changing compiler options (turn on optimization) or changing something minor (<code>array[i]</code> to <code>array[9-i]</code>) or even changing something apparently unrelated (adding the call to <code>use_array</code>) can make a significant difference to what the executable program generated by the compiler does. <strong>Compiler optimizations can do a lot of things that may appear unintuitive on programs that invoke undefined behavior</strong>. That's why undefined behavior is left completely undefined. When you deviate ever so slightly from the tracks, in real-world programs, it can be very hard to understand the relationship between what the code does and what it should have done, even for experienced programmers.</p>\n", "title": "Why does this for loop exit on some platforms and not on others?", "answer_id": 31030598, "link": "http://stackoverflow.com/questions/31016660/why-does-this-for-loop-exit-on-some-platforms-and-not-on-others/31030598#31030598", "tags": ["c", "debugging", "undefined-behavior", "buffer-overflow"]}, {"body": "<p>Beyond the possibility that memory might be laid out so that an attempt to write to <code>a[10]</code> actually overwrites <code>i</code>, it would also be possible that an optimizing compiler might determine that the loop test cannot be reached with a value of <code>i</code> greater than ten without code having first accessed the non-existent array element <code>a[10]</code>.</p>\n\n<p>Since an attempt to access that element would be undefined behavior, the compiler would have no obligations with regard to what the program might do after that point. More specifically, since the compiler would have no obligation to generate code to check the loop index in any case where it might be greater than ten, it would have no obligation to generate code to check it at all; it could instead assume that the <code>&lt;=10</code> test will always yield true. Note that this would be true even if the code would read <code>a[10]</code> rather than writing it.</p>\n", "title": "Why does this for loop exit on some platforms and not on others?", "answer_id": 31032544, "link": "http://stackoverflow.com/questions/31016660/why-does-this-for-loop-exit-on-some-platforms-and-not-on-others/31032544#31032544", "tags": ["c", "debugging", "undefined-behavior", "buffer-overflow"]}, {"body": "<p>When you iterate past <code>i==9</code> you assign zero to the 'array items' which are actually located <strong>past the array</strong>, so you're overwritnig some other data. Most probably you overwrite the <code>i</code> variable, which is located after <code>a[]</code>. That way you simply <strong>reset the <code>i</code> variable to zero</strong> and thus restart the loop.</p>\n\n<p>You could discover that yourself if you printed <code>i</code> in the loop:  </p>\n\n<pre><code>      printf(\"test i=%d\\n\", i);\n</code></pre>\n\n<p>instead of just</p>\n\n<pre><code>      printf(\"test \\n\");\n</code></pre>\n\n<p>Of course that result strongly depends on the memory allocation for your variables, which in turn depends on a compiler and its settings, so it is generally <strong>Undefined Behavior</strong> \u2014 that's why results on different machines or different operating systems or on different compilers may differ.</p>\n", "title": "Why does this for loop exit on some platforms and not on others?", "answer_id": 31041499, "link": "http://stackoverflow.com/questions/31016660/why-does-this-for-loop-exit-on-some-platforms-and-not-on-others/31041499#31041499", "tags": ["c", "debugging", "undefined-behavior", "buffer-overflow"]}, {"body": "<p>It is undefined at <code>array[10]</code>, and gives <strong>undefined behavior</strong> as described before. Think about it like this:</p>\n\n<p>I have 10 items in my grocery cart. They are:</p>\n\n<p>0: A box of cereal<br>\n1: Bread<br>\n2: Milk<br>\n3: Pie<br>\n4: Eggs<br>\n5: Cake<br>\n6: A 2 liter of soda<br>\n7: Salad<br>\n8: Burgers<br>\n9: Ice cream<br></p>\n\n<p><code>cart[10]</code> is undefined, and may give an out of bounds exception in some compilers. But, a lot apparently don't. The apparent 11th item is an item not <strong>actually in the cart.</strong> The 11th item is pointing to, what I'm going to call, a \"poltergeist item.\" It never existed, but it was there.</p>\n\n<p>Why some compilers give <code>i</code> an index of <code>array[10]</code> or <code>array[11]</code> or even <code>array[-1]</code> is because of your initialization/declaration statement. Some compilers interpret this as:</p>\n\n<ul>\n<li>\"Allocate 10 blocks of <code>int</code>s for <code>array[10]</code> and another <code>int</code> block. <strong>to make it easier,</strong> put them right next to each other.\"</li>\n<li>Same as before, but move it a space or two away, so that <code>array[10]</code> doesn't point to <code>i</code>.</li>\n<li>Do the same as before, but allocate <code>i</code> at <code>array[-1]</code> (because an index of an array can't, or shouldn't, be negative), or allocate it at a completely different spot because the OS can handle it, and it's <strong>safer.</strong></li>\n</ul>\n\n<p>Some compilers want things to go quicker, and some compilers prefer safety. It's all about the context. If I was developing an app for the ancient BREW OS (the OS of a basic phone), for example, it wouldn't care about safety. If I was developing for an iPhone 6, then it could run fast no matter what, so I would need an emphasis on safety. (Seriously, have you read Apple's App Store Guidelines, or read up on the development of Swift and Swift 2.0?)</p>\n", "title": "Why does this for loop exit on some platforms and not on others?", "answer_id": 31088644, "link": "http://stackoverflow.com/questions/31016660/why-does-this-for-loop-exit-on-some-platforms-and-not-on-others/31088644#31088644", "tags": ["c", "debugging", "undefined-behavior", "buffer-overflow"]}, {"body": "<p>the error is in portion array[10] w/c is also address of i (int array[10],i;). \nwhen array[10] is set to 0 then the i would be 0 w/c resets the entire loop and \ncauses the infinite loop. \n    there will be infinite loop if  array[10] is between 0-10.the correct loop should be for (i = 0; i &lt;10 ; i++) {...} \n            int array[10],i;\n            for (i = 0; i &lt;=10 ; i++)\n            array[i]=0;</p>\n", "title": "Why does this for loop exit on some platforms and not on others?", "answer_id": 31543682, "link": "http://stackoverflow.com/questions/31016660/why-does-this-for-loop-exit-on-some-platforms-and-not-on-others/31543682#31543682", "tags": ["c", "debugging", "undefined-behavior", "buffer-overflow"]}, {"body": "<p>I will suggest something that I dint find above:</p>\n\n<p>Try assigning array[i] = 20;</p>\n\n<p>I guess this should terminate the code everywhere.. (given you keep i&lt; =10 or ll)</p>\n\n<p>If this runs you can firmly decide that the answers specified here already are correct [the answer related to memory stomping one for ex.] </p>\n", "title": "Why does this for loop exit on some platforms and not on others?", "answer_id": 31547189, "link": "http://stackoverflow.com/questions/31016660/why-does-this-for-loop-exit-on-some-platforms-and-not-on-others/31547189#31547189", "tags": ["c", "debugging", "undefined-behavior", "buffer-overflow"]}], "question_id": 31016660}, {"body": "<p>I have restructured my code to <a href=\"https://en.wikipedia.org/wiki/Futures_and_promises\">promises</a>, and built a wonderful long <strong>flat promise chain</strong>, consisting of multiple <code>.then()</code> callbacks. In the end I want to return some composite value, and need to access multiple <strong>intermediate promise results</strong>. However the resolution values from the middle of the sequence are not in scope in the last callback, how do I access them?</p>\n\n<pre><code>function getExample() {\n    return promiseA(\u2026).then(function(resultA) {\n        // Some processing\n        return promiseB(\u2026);\n    }).then(function(resultB) {\n        // More processing\n        return // How do I gain access to resultA here?\n    });\n}\n</code></pre>\n", "title": "How do I access previous promise results in a .then() chain?", "tags": ["javascript", "scope", "promise", "bluebird", "es6-promise"], "answer_count": 9, "link": "http://stackoverflow.com/questions/28250680/how-do-i-access-previous-promise-results-in-a-then-chain", "answers": [{"body": "<h1>Nesting (and) closures</h1>\n\n<p>Using closures for maintaining the scope of variables (in our case, the success callback function parameters) is the natural JavaScript solution. With promises, we can arbitrarily <a href=\"http://stackoverflow.com/a/22000931/1048572\">nest and flatten</a> <code>.then()</code> callbacks - they are semantically equivalent, except for the scope of the inner one.</p>\n\n<pre><code>function getExample() {\n    return promiseA(\u2026).then(function(resultA) {\n        // some processing\n        return promiseB(\u2026).then(function(resultB) {\n            // more processing\n            return // something using both resultA and resultB;\n        });\n    });\n}\n</code></pre>\n\n<p>Of course, this is building an indentation pyramid. If indentation is getting too large, you still can apply the old tools to counter the <a href=\"http://callbackhell.com/\">pyramid of doom</a>: modularize, use extra named functions, and flatten the promise chain as soon as you don't need a variable any more.<br>\nIn theory, you can always avoid more than two levels of nesting (by making all closures explicit), in practise use as many as are reasonable.</p>\n\n<pre><code>function getExample() {\n    // preprocessing\n    return promiseA(\u2026).then(makeAhandler(\u2026));\n}\nfunction makeAhandler(\u2026)\n    return function(resultA) {\n        // some processing\n        return promiseB(\u2026).then(makeBhandler(resultA, \u2026));\n    };\n}\nfunction makeBhandler(resultA, \u2026) {\n    return function(resultB) {\n        // more processing\n        return // anything that uses the variables in scope\n    };\n}\n</code></pre>\n\n<p>You can also use helper functions for this kind of <a href=\"https://en.wikipedia.org/wiki/Partial_application\">partial application</a>, like <code>_.partial</code> from <a href=\"http://underscorejs.org/#partial\">Underscore</a>/<a href=\"https://lodash.com/docs#partial\">lodash</a> or the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind\">native <code>.bind()</code> method</a>, to further decrease indentation:</p>\n\n<pre><code>function getExample() {\n    // preprocessing\n    return promiseA(\u2026).then(handlerA);\n}\nfunction handlerA(resultA) {\n    // some processing\n    return promiseB(\u2026).then(handlerB.bind(null, resultA));\n}\nfunction handlerB(resultA, resultB) {\n    // more processing\n    return // anything that uses resultA and resultB\n}\n</code></pre>\n", "title": "How do I access previous promise results in a .then() chain?", "answer_id": 28250687, "link": "http://stackoverflow.com/questions/28250680/how-do-i-access-previous-promise-results-in-a-then-chain/28250687#28250687", "tags": ["javascript", "scope", "promise", "bluebird", "es6-promise"]}, {"body": "<h1>Explicit pass-through</h1>\n\n<p>Similar to nesting the callbacks, this technique relies on closures. Yet, the chain stays flat - instead of passing only the latest result, some state object is passed for every step. These state objects accumulate the results of the previous actions, handing down all values that will be needed later again plus the result of the current task.</p>\n\n<pre><code>function getExample() {\n    return promiseA(\u2026).then(function(resultA) {\n        // some processing\n        return promiseB(\u2026).then(function(b) { return [resultA, b] });\n    }).spread(function(resultA, resultB) {\n        // more processing\n        return // something using both resultA and resultB\n    });\n}\n</code></pre>\n\n<p>Here, that little <code>function(b) { return [resultA, b] }</code> is the function that closes over <code>resultA</code>, and passes an array of both results to the next step.\nThe <code>.spread()</code> method is a nifty helper that is available in many promise libraries (<a href=\"https://github.com/kriskowal/q/wiki/API-Reference#promisespreadonfulfilled-onrejected\">Q</a>, <a href=\"http://bluebirdjs.com/docs/api/spread.html\">Bluebird</a>, <a href=\"https://github.com/cujojs/when/blob/master/docs/api.md#promisespread\">when</a>, \u2026) and breaks the array into multiple function arguments, it will be displaced by destructuring in ES6.</p>\n\n<p>Of course, that closure needed here can be further simplified by some helper functions, e.g.</p>\n\n<pre><code>function addTo(x) {\n    // imagine complex `arguments` fiddling or anything that helps usability\n    // but you get the idea with this simple one:\n    return function(res) { return [x, res]; };\n}\n\n\u2026\nreturn promiseB(\u2026).then(addTo(resultA));\n</code></pre>\n\n<p>Alternatively, you can employ <code>Promise.all</code> to produce the promise for the array:</p>\n\n<pre><code>function getExample() {\n    return promiseA(\u2026).then(function(resultA) {\n        // some processing\n        return Promise.all([resultA, promiseB(\u2026)]); // resultA will implicitly be wrapped\n                                                    // as if passed to Promise.resolve()\n    }).spread(function(resultA, resultB) {\n        // more processing\n        return // something using both resultA and resultB\n    });\n}\n</code></pre>\n\n<p>And you might not only use arrays, but arbitrarily complex objects. For example, with <a href=\"http://underscorejs.org/#extend\"><code>_.extend</code></a> in a different helper function:</p>\n\n<pre><code>function augment(obj, name) {\n    return function (res) { var r = _.extend({}, obj); r[name] = res; return r; };\n}\n\nfunction getExample() {\n    return promiseA(\u2026).then(function(resultA) {\n        // some processing\n        return promiseB(\u2026).then(augment({resultA: resultA}, \"resultB\"));\n    }).then(function(obj) {\n        // more processing\n        return // something using both obj.resultA and obj.resultB\n    });\n}\n</code></pre>\n\n<p>While this pattern guarantees a flat chain and explicit state objects can improve clarity, it will become tedious for a long chain. Especially when you need the state only sporadically, you still have to pass it through every step. With this fixed interface, the single callbacks in the chain are rather tightly coupled and inflexible to change. It makes factoring out single steps harder, and callbacks cannot be supplied directly from other modules - they always need to be wrapped in boilerplate code that cares about the state. Abstract helper functions like the above can ease the pain a bit, but it will always be present.</p>\n", "title": "How do I access previous promise results in a .then() chain?", "answer_id": 28250693, "link": "http://stackoverflow.com/questions/28250680/how-do-i-access-previous-promise-results-in-a-then-chain/28250693#28250693", "tags": ["javascript", "scope", "promise", "bluebird", "es6-promise"]}, {"body": "<h1>ECMAScript Harmony</h1>\n\n<p>Of course, this problem was recognized by the language designers as well. </p>\n\n<p>And they are working on a solution which will probably come with ECMAScript 8: <a href=\"http://tc39.github.io/ecmascript-asyncawait/\">async functions</a>. You won't need a single <code>then</code> invocation or callback function any more, as in an asynchronous function (that returns a promise when being called) you can simply wait for promises to resolve directly. It will also feature arbitrary control structures like conditions, loops and try-catch-clauses, but for the sake of convenience we don't need them here:</p>\n\n<pre><code>async function getExample() {\n    var resultA = await promiseA(\u2026);\n    // some processing\n    var resultB = await promiseB(\u2026);\n    // more processing\n    return // something using both resultA and resultB\n}\n</code></pre>\n\n<h2>ECMAScript 6</h2>\n\n<p>While we are waiting for ES8, we already can use a very similar kind of syntax. ES6 comes with <a href=\"http://davidwalsh.name/es6-generators\">generator functions</a>, which allow to break the execution apart in pieces at arbitrarily placed <code>yield</code> keywords. Those slices can be run after each other, independently, even asynchronously - and that's just what we do when we want to wait for a promise resolution before running the next step.</p>\n\n<p>There are dedicated libraries (like <a href=\"https://github.com/tj/co\">co</a> or <a href=\"http://taskjs.org/\">task.js</a>), but also many promise libraries have helper functions (<a href=\"https://github.com/kriskowal/q/wiki/API-Reference#generators\">Q</a>, <a href=\"http://bluebirdjs.com/docs/api/generators.html\">Bluebird</a>, <a href=\"https://github.com/cujojs/when/blob/master/docs/api.md#es6-generators\">when</a>, \u2026) that do <a href=\"http://stackoverflow.com/a/23554399/1048572\">this async step-by-step execution</a> for you when you give them a generator function that yields promises.</p>\n\n<pre><code>var getExample = Promise.coroutine(function* () {\n//               ^^^^^^^^^^^^^^^^^ Bluebird syntax\n    var resultA = yield promiseA(\u2026);\n    // some processing\n    var resultB = yield promiseB(\u2026);\n    // more processing\n    return // something using both resultA and resultB\n});\n</code></pre>\n\n<p>This already works in Node.js, also a few browsers (or their dev editions) do support generator syntax.</p>\n\n<h2>ECMAScript 5</h2>\n\n<p>However, if you want/need to be backwards-compatible you cannot use those without a transpiler. Both generator functions and async functions are supported by the current tooling, see for example the documentation of Babel on <a href=\"http://babeljs.io/docs/learn-es2015/#generators\">generators</a> (by default) and <a href=\"http://babeljs.io/docs/plugins/#experimental\">async functions</a> (experimental, included in the <a href=\"http://babeljs.io/docs/plugins/preset-stage-3/\">stage-3 preset</a>).</p>\n\n<p>And then, there are also many other <a href=\"https://github.com/jashkenas/coffeescript/wiki/List-of-languages-that-compile-to-JS#synchronous-to-asynchronous-javascript-compilers-cps\">compile-to-JS languages</a>\nthat are dedicated to easing asynchronous programming. They usually use a syntax similar to <code>await</code>, (e.g. <a href=\"http://maxtaco.github.io/coffee-script/\">Iced CoffeeScript</a>), but there are also others that feature a Haskell-like <code>do</code>-notation (e.g. <a href=\"http://lattejs.com/\">LatteJs</a>, <a href=\"https://www.npmjs.com/package/monadic\">monadic</a>, <a href=\"http://www.purescript.org/\">PureScript</a> or <a href=\"http://lispyscript.com/\">LispyScript</a>).</p>\n", "title": "How do I access previous promise results in a .then() chain?", "answer_id": 28250697, "link": "http://stackoverflow.com/questions/28250680/how-do-i-access-previous-promise-results-in-a-then-chain/28250697#28250697", "tags": ["javascript", "scope", "promise", "bluebird", "es6-promise"]}, {"body": "<h1>Mutable contextual state</h1>\n\n<p>The trivial (but inelegant and rather errorprone) solution is to just use higher-scope variables (to which all callbacks in the chain have access) and write result values to them when you get them:</p>\n\n<pre><code>function getExample() {\n    var resultA;\n    return promiseA(\u2026).then(function(_resultA) {\n        resultA = _resultA;\n        // some processing\n        return promiseB(\u2026);\n    }).then(function(resultB) {\n        // more processing\n        return // something using both resultA and resultB\n    });\n}\n</code></pre>\n\n<p>Instead of many variables one might also use an (initially empty) object, on which the results are stored as dynamically created properties.</p>\n\n<p>This solution has several drawbacks:</p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/q/844536/1048572\">Mutable state is ugly</a>, and <a href=\"http://programmers.stackexchange.com/questions/148108/why-is-global-state-so-evil\">global variables are evil</a>.</li>\n<li>This pattern doesn't work across function boundaries, modularising the functions is harder as their declarations must not leave the shared scope</li>\n<li>The scope of the variables does not prevent to access them before they are initialized. This is especially likely for complex promise constructions (loops, branching, excptions) where race conditions might happen. Passing state explicitly, a <a href=\"http://en.wikipedia.org/wiki/Declarative_programming\">declarative design</a> that promises encourage, forces a cleaner coding style which can prevent this.</li>\n<li>One must choose the scope for those shared variables correctly. It needs to be local to the executed function to prevent race conditions between multiple parallel invocations. This fallacy is especially likely when one stores the state of an asynchronous method on the instance.</li>\n</ul>\n\n<p>The Bluebird library encourages the use of an object that is passed along, using <a href=\"http://bluebirdjs.com/docs/api/bind.html\">their <code>bind()</code> method</a> to assign a context object to a promise chain. It will be accessible from each callback function via the otherwise unusable <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this\"><code>this</code> keyword</a>. While object properties are more prone to undetected typos than variables, the pattern is quite clever:</p>\n\n<pre><code>function getExample() {\n    return promiseA(\u2026)\n    .bind({}) // Bluebird only!\n    .then(function(resultA) {\n        this.resultA = resultA;\n        // some processing\n        return promiseB(\u2026);\n    }).then(function(resultB) {\n        // more processing\n        return // something using both this.resultA and resultB\n    }).bind(); // don't forget to unbind the object if you don't want the\n               // caller to access it\n}\n</code></pre>\n\n<p>This approach can be easily simulated in promise libraries that do not support .bind (although in a somewhat more verbose way and cannot be used in an expression):</p>\n\n<pre><code>function getExample() {\n    var ctx = {};\n    return promiseA(\u2026)\n    .then(function(resultA) {\n        this.resultA = resultA;\n        // some processing\n        return promiseB(\u2026);\n    }.bind(ctx)).then(function(resultB) {\n        // more processing\n        return // something using both this.resultA and resultB\n    }.bind(ctx));\n}\n</code></pre>\n", "title": "How do I access previous promise results in a .then() chain?", "answer_id": 28250700, "link": "http://stackoverflow.com/questions/28250680/how-do-i-access-previous-promise-results-in-a-then-chain/28250700#28250700", "tags": ["javascript", "scope", "promise", "bluebird", "es6-promise"]}, {"body": "<h1>Break the chain</h1>\n\n<p>When you need to access the intermediate values in your chain, you should split your chain apart in those single pieces that you need. Instead of attaching one callback and somehow trying to use its parameter multiple times, attach multiple callbacks to the same promise - wherever you need the result value. Don't forget, a <a href=\"http://stackoverflow.com/a/22540276/1048572\">promise just represents (proxies) a future value</a>! Next to deriving one promise from the other in a linear chain, use the promise combinators that are given to you by your library to build the result value.</p>\n\n<p>This will result in a very straightforward control flow, clear composition of functionalities and therefore easy modularisation.</p>\n\n<pre><code>function getExample() {\n    var a = promiseA(\u2026);\n    var b = a.then(function(resultA) {\n        // some processing\n        return promiseB(\u2026);\n    });\n    return Promise.all([a, b]).spread(function(resultA, resultB) {\n        // more processing\n        return // something using both resultA and resultB\n    });\n}\n</code></pre>\n\n<p>Bluebird also features a dedicated <a href=\"http://bluebirdjs.com/docs/api/promise.join.html\"><code>join</code> function</a> to replace that <code>Promise.all</code>+<code>spread</code> combination with a simpler (and more efficient) construct:</p>\n\n<pre><code>\u2026\nreturn Promise.join(a, b, function(resultA, resultB) { \u2026 });\n</code></pre>\n", "title": "How do I access previous promise results in a .then() chain?", "answer_id": 28250704, "link": "http://stackoverflow.com/questions/28250680/how-do-i-access-previous-promise-results-in-a-then-chain/28250704#28250704", "tags": ["javascript", "scope", "promise", "bluebird", "es6-promise"]}, {"body": "<h1>Synchronous inspection</h1>\n\n<p>Assigning promises-for-later-needed-values to variables and then getting their value via synchronous inspection. The example uses bluebird's <code>.value()</code> method but many libraries provide similar method.</p>\n\n<pre><code>function getExample() {\n    var a = promiseA(\u2026);\n\n    return a.then(function() {\n        // some processing\n        return promiseB(\u2026);\n    }).then(function(resultB) {\n        // a is guaranteed to be fulfilled here so we can just retrieve its\n        // value synchronously\n        var aValue = a.value();\n    });\n}\n</code></pre>\n\n<p>This can be used for as many values as you like:</p>\n\n<pre><code>function getExample() {\n    var a = promiseA(\u2026);\n\n    var b = a.then(function() {\n        return promiseB(\u2026)\n    });\n\n    var c = b.then(function() {\n        return promiseC(\u2026);\n    });\n\n    var d = c.then(function() {\n        return promiseD(\u2026);\n    });\n\n    return d.then(function() {\n        return a.value() + b.value() + c.value() + d.value();\n    });\n}\n</code></pre>\n", "title": "How do I access previous promise results in a .then() chain?", "answer_id": 28252015, "link": "http://stackoverflow.com/questions/28250680/how-do-i-access-previous-promise-results-in-a-then-chain/28252015#28252015", "tags": ["javascript", "scope", "promise", "bluebird", "es6-promise"]}, {"body": "<p>I am not going to use this pattern in my own code since I'm not a big fan of using global variables. However, in a pinch it will work.</p>\n\n<p>User is a promisified Mongoose model.</p>\n\n<pre><code>var globalVar = '';\n\nUser.findAsync({}).then(function(users){\n  globalVar = users;\n}).then(function(){\n  console.log(globalVar);\n});\n</code></pre>\n", "title": "How do I access previous promise results in a .then() chain?", "answer_id": 31949478, "link": "http://stackoverflow.com/questions/28250680/how-do-i-access-previous-promise-results-in-a-then-chain/31949478#31949478", "tags": ["javascript", "scope", "promise", "bluebird", "es6-promise"]}, {"body": "<p>Another answer, using <code>babel-node</code> version &lt;6 </p>\n\n<p>Using <code>async - await</code> </p>\n\n<p><code>npm install -g babel@5.6.14</code></p>\n\n<p><code>example.js:</code></p>\n\n<pre><code>async function getExample(){\n\n  let response = await returnPromise();\n\n  let response2 = await returnPromise2();\n\n  console.log(response, response2)\n\n}\n\ngetExample()\n</code></pre>\n\n<p>Then, run <code>babel-node example.js</code> and voila!</p>\n", "title": "How do I access previous promise results in a .then() chain?", "answer_id": 33835112, "link": "http://stackoverflow.com/questions/28250680/how-do-i-access-previous-promise-results-in-a-then-chain/33835112#33835112", "tags": ["javascript", "scope", "promise", "bluebird", "es6-promise"]}, {"body": "<p>When using bluebird, you can use <code>.bind</code> method to share variables in promise chain:</p>\n\n<pre><code>somethingAsync().bind({})\n.spread(function (aValue, bValue) {\n    this.aValue = aValue;\n    this.bValue = bValue;\n    return somethingElseAsync(aValue, bValue);\n})\n.then(function (cValue) {\n    return this.aValue + this.bValue + cValue;\n});\n</code></pre>\n\n<p>please check this link for further information:</p>\n\n<p><a href=\"http://bluebirdjs.com/docs/api/promise.bind.html\" rel=\"nofollow\">http://bluebirdjs.com/docs/api/promise.bind.html</a></p>\n", "title": "How do I access previous promise results in a .then() chain?", "answer_id": 37771394, "link": "http://stackoverflow.com/questions/28250680/how-do-i-access-previous-promise-results-in-a-then-chain/37771394#37771394", "tags": ["javascript", "scope", "promise", "bluebird", "es6-promise"]}], "question_id": 28250680}, {"body": "<p>I'm getting this warning in my project gradle file:</p>\n\n<blockquote>\n  <p>Warning:(16, 5) 'buildTypes' cannot be applied to '(groovy.lang.Closure&lt; com.android.build.gradle.internal.dsl.BuildType>)'</p>\n</blockquote>\n\n<p>My buildTypes section is:</p>\n\n<pre><code>    buildTypes {\n        debug {\n            debuggable true\n        }\n        release {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-project.txt'\n        }\n    }\n</code></pre>\n\n<p>I'm currently using Android Studio 1.1.0, compileSdkVersion 22, buildToolsVersion 22.0.0, and targetSdkVersion 22. I tried backing down to 21 but was still getting the warning.</p>\n\n<p>What causes this warning &amp; how is it fixed?</p>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "tags": ["android-studio", "android-gradle"], "answer_count": 19, "link": "http://stackoverflow.com/questions/29133601/buildtypes-cannot-be-applied-to-groovy-lang-closure", "answers": [{"body": "<p>I had the same problem. I started a new project and it worked, so I just copied the build.gradle file. In my case the only difference was the lack of the compileOptions section. I removed it from my project, synced gradle, re-inserted the compileOptions section and then synced gradle again.</p>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 29192655, "link": "http://stackoverflow.com/questions/29133601/buildtypes-cannot-be-applied-to-groovy-lang-closure/29192655#29192655", "tags": ["android-studio", "android-gradle"]}, {"body": "<p>I had the same issue. Moving the buildTypes as the last entry in the android section worked for me.</p>\n\n<pre><code>android {\n    ...\n    buildTypes {\n    }\n}\n</code></pre>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 29354337, "link": "http://stackoverflow.com/questions/29133601/buildtypes-cannot-be-applied-to-groovy-lang-closure/29354337#29354337", "tags": ["android-studio", "android-gradle"]}, {"body": "<p>Changing distributionUrl=https://services.gradle.org/distributions/gradle-2.1-bin.zip to gradle-2.1-all.zip in gradle-wrapper.properties solved problem for me.</p>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 29472005, "link": "http://stackoverflow.com/questions/29133601/buildtypes-cannot-be-applied-to-groovy-lang-closure/29472005#29472005", "tags": ["android-studio", "android-gradle"]}, {"body": "<p>1 Cut and Paste the \"buildTypes\" at the same position in \"android\" section </p>\n\n<p>2 Re Sync Project</p>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 29495234, "link": "http://stackoverflow.com/questions/29133601/buildtypes-cannot-be-applied-to-groovy-lang-closure/29495234#29495234", "tags": ["android-studio", "android-gradle"]}, {"body": "<p>this worked for me:</p>\n\n<pre><code>buildTypes.debug {\n    ext.enableCrashlytics = false\n}\n\nbuildTypes.release {\n    debuggable false\n    zipAlignEnabled true\n    minifyEnabled false\n    signingConfig signingConfigs.release\n}\n</code></pre>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 30000493, "link": "http://stackoverflow.com/questions/29133601/buildtypes-cannot-be-applied-to-groovy-lang-closure/30000493#30000493", "tags": ["android-studio", "android-gradle"]}, {"body": "<p>For me the problem was not solved by applying the above solution. Instead I had to go to the settings within Android Studio and select \"Use gradle wrapper\":</p>\n\n<p>In Android Studio select:\n<strong>File\\Settings\\Build, Execution, Deployment\\Build tools\\Gradle</strong> </p>\n\n<p>(Mac Users: <strong>Android Studio\\Preferences...\\Build, Execution, Deployment\\Build tools\\Gradle</strong> )</p>\n\n<p>Mark: <strong>Use default gradle wrapper (default)</strong></p>\n\n<p>This removed all 'cannot be applied to '(groovy.lang.Closure') warnings in the build files.</p>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 30828772, "link": "http://stackoverflow.com/questions/29133601/buildtypes-cannot-be-applied-to-groovy-lang-closure/30828772#30828772", "tags": ["android-studio", "android-gradle"]}, {"body": "<p>The easiest way to fix this Gradle issues is recreating the project to let Android Studio reconfigure Gradle.</p>\n\n<p>Simply select \"Open an existing Android Studio project\" and pick your project folder.</p>\n\n<p>More details <a href=\"http://alessio.franceschelli.me/android/fix-gradle-warnings-after-android-studio-1-3-update/\">here</a>.</p>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 30976437, "link": "http://stackoverflow.com/questions/29133601/buildtypes-cannot-be-applied-to-groovy-lang-closure/30976437#30976437", "tags": ["android-studio", "android-gradle"]}, {"body": "<p>To solve this issue, in your Android Studio go to <strong>File -> Settings</strong>.\nIn settings choose <strong>Build, Execution, Deployment -> Build Tools -> Gradle</strong>\nand select <strong>\"Use default gradle wrapper (recommended)\"</strong> option.</p>\n\n<p>After rebuild your <strong>build.gradle</strong> will be totally fine.</p>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 31181127, "link": "http://stackoverflow.com/questions/29133601/buildtypes-cannot-be-applied-to-groovy-lang-closure/31181127#31181127", "tags": ["android-studio", "android-gradle"]}, {"body": "<p>The problem presents when you import a project into your environment and the Gradle plugin is installed in a different location than what it was in the original. You just need to point out where your Gradle installation is.</p>\n\n<p>Moving buildTypes or defaultConfig or whatever between each other is not a complete solution</p>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 31191561, "link": "http://stackoverflow.com/questions/29133601/buildtypes-cannot-be-applied-to-groovy-lang-closure/31191561#31191561", "tags": ["android-studio", "android-gradle"]}, {"body": "<p>EDIT: \nThis how i finally solved this problem...</p>\n\n<ol>\n<li><p>Navigate in Android Studio to:</p>\n\n<p>File | Settings | Build, Execution, Deployment | Build Tools | Gradle</p></li>\n<li><p>Ensure that this is unchecked, despite that it is recommended to keep ...</p>\n\n<p>Use Default Gradle Wrapper (recommended)</p></li>\n<li><p>and that this one is checked ...</p>\n\n<p>Use local gradle distribution</p></li>\n<li><p>and that Gradle Home is set to this, with possibly a later gradle-n.n ...</p>\n\n<p>C:/Program Files/Android/Android Studio1/gradle/gradle-2.4</p></li>\n</ol>\n\n<p>You may have to restart Android Studio, rebuild the project, etc but the problem is solved.</p>\n\n<p>End of EDIT.</p>\n\n<p>I am posting this to advise anyone else new to this problem to ignore it. The project runs perfectly regardless. This is quite simply a bug in the build system, hopefully to be fixed soon. I posted a comment and voted here where it is again an active topic ...</p>\n\n<p><a href=\"https://code.google.com/p/android/issues/detail?can=2&amp;start=0&amp;num=100&amp;q=&amp;colspec=ID%20Type%20Status%20Owner%20Summary%20Stars&amp;groupby=&amp;sort=&amp;id=76719\" rel=\"nofollow\">https://code.google.com/p/android/issues/detail?can=2&amp;start=0&amp;num=100&amp;q=&amp;colspec=ID%20Type%20Status%20Owner%20Summary%20Stars&amp;groupby=&amp;sort=&amp;id=76719</a></p>\n\n<p>After trying, unsuccessfully, the suggestions in the following three threads, i re-made the entire project from scratch. I started a new Android Studio project, copied all of the original libs and main files into it ignoring any files which are generated by the build system and rebuilt the project. Everything was fine except all those \"cannot be applied to '(groovy.lang.Closure)'\" warnings re-appeared with a vengence. Then i went thru these suggestions again just to be certain that i had not overlooked something.</p>\n\n<p>1\n<a href=\"http://stackoverflow.com/questions/29133601/buildtypes-cannot-be-applied-to-groovy-lang-closure\">buildTypes cannot be applied to groovy.lang.Closure</a>\ngo to the settings within Android Studio and select \"Use gradle wrapper\":\nIn Android Studio select: File\\Settings\\Build, Execution, Deployment\\Build tools\\Gradle\nMark: Use default gradle wrapper (default)\nThis removed all 'cannot be applied to '(groovy.lang.Closure') warnings in the build files.</p>\n\n<p>2\n<a href=\"http://stackoverflow.com/questions/29769988/dependencies-cannot-be-applied-to-groovy-lang-closure\">&#39;dependencies&#39; cannot be applied to &#39;(groovy.lang.Closure)&#39;</a>\nOpen and edit file: yourproject/gradle/wrapper/gradle-wrapper.propertie. Edit content as below image then save.\nDelete this folder: yourproject/.gradle.\nClick Sync project with gradle files, then you are good to go.</p>\n\n<p>3\n<a href=\"https://github.com/DrKLO/Telegram/issues/870\" rel=\"nofollow\">https://github.com/DrKLO/Telegram/issues/870</a></p>\n\n<p>My configuration is:\nAndroid Studio 1.3,  compileSdk Version 22, buildTools Version \"22.0.1\"</p>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 31923462, "link": "http://stackoverflow.com/questions/29133601/buildtypes-cannot-be-applied-to-groovy-lang-closure/31923462#31923462", "tags": ["android-studio", "android-gradle"]}, {"body": "<p>In your Android Studio go to File -> Settings. Next choose Build, Execution, Deployment -> Build Tools -> Gradle and select \"Use default gradle wrapper (recommended)\".</p>\n\n<p>Rebuild project.</p>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 32265769, "link": "http://stackoverflow.com/questions/29133601/buildtypes-cannot-be-applied-to-groovy-lang-closure/32265769#32265769", "tags": ["android-studio", "android-gradle"]}, {"body": "<p>If none of the above options work, then do the Following</p>\n\n<ol>\n<li>Change the project to <code>Project</code> perspective in the \"Project Explorer\".</li>\n<li>Delete <code>.gradle</code> and <code>build</code> folders.</li>\n<li>Click <strong>File</strong> -> <strong>Invalidate Caches / Restart...</strong> -> <strong>Invalidate and Restart</strong></li>\n<li>Now its working, happy coding.</li>\n</ol>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 32558132, "link": "http://stackoverflow.com/questions/29133601/buildtypes-cannot-be-applied-to-groovy-lang-closure/32558132#32558132", "tags": ["android-studio", "android-gradle"]}, {"body": "<p>I used to have this warning, after I updated Android Studio. </p>\n\n<p>When I went to <em>Settings>>Build Tools>>Gradle</em> I found Local Gradle path was invalid, since gradle version was updated as well from 2.6 to 2.8.</p>\n\n<p>Fixed the new path and re-sync gradle removed the warning.</p>\n\n<p>Another way is to use <strong><code>gradlewrapper</code></strong>.</p>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 33603883, "link": "http://stackoverflow.com/questions/29133601/buildtypes-cannot-be-applied-to-groovy-lang-closure/33603883#33603883", "tags": ["android-studio", "android-gradle"]}, {"body": "<p>delete gradle folder under the app folder and resync project</p>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 33695796, "link": "http://stackoverflow.com/questions/29133601/buildtypes-cannot-be-applied-to-groovy-lang-closure/33695796#33695796", "tags": ["android-studio", "android-gradle"]}, {"body": "<p>The issue at hand is that your Android Studio settings that you <em>probably</em> imported at upgrade, was still pointing to gradle-2.4 or some other versions than Android Studio 1.5 expects.</p>\n\n<p>To solve this problem, you should open up <strong>Settings</strong> and go to <strong>Build, Execution, Deployment > Build Tools > Gradle</strong> and change your local gradle distribution's home path <strong>or</strong> select the default gradle wrapper.</p>\n\n<p>Apply and re-sync your project.</p>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 33821691, "link": "http://stackoverflow.com/questions/29133601/buildtypes-cannot-be-applied-to-groovy-lang-closure/33821691#33821691", "tags": ["android-studio", "android-gradle"]}, {"body": "<p>I managed to solve my issue by simply doing this:\nClick \"File\" then select \"Invalidate Caches/ Restart</p>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 35961083, "link": "http://stackoverflow.com/questions/29133601/buildtypes-cannot-be-applied-to-groovy-lang-closure/35961083#35961083", "tags": ["android-studio", "android-gradle"]}, {"body": "<p>All I had to do to remove</p>\n\n<pre><code>productFlavors {\n}\n</code></pre>\n\n<p>From</p>\n\n<pre><code>buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    productFlavors {\n    }\n}\n</code></pre>\n\n<p>and the warning went away. </p>\n\n<p>Final look was like this</p>\n\n<pre><code>buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n</code></pre>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 38070892, "link": "http://stackoverflow.com/questions/29133601/buildtypes-cannot-be-applied-to-groovy-lang-closure/38070892#38070892", "tags": ["android-studio", "android-gradle"]}, {"body": "<p>In my case my <code>buildTypes</code> section was above my <code>productFlavors</code> section. Interchanging their positions got rid of the warning:</p>\n\n<p>BEFORE:</p>\n\n<pre><code>buildTypes {\n\n        debug {\n            minifyEnabled false\n            shrinkResources false\n            ...//etc\n        }\n }\n\n productFlavors {\n    demo {\n        ...//etc\n    }\n }\n</code></pre>\n\n<p>AFTER:</p>\n\n<pre><code> productFlavors {\n    demo {\n        ...//etc\n    }\n }    \n\n buildTypes {\n\n        debug {\n            minifyEnabled false\n            shrinkResources false\n            ...//etc\n        }\n }\n</code></pre>\n\n<p>I am using Android Studio 2.1.2 with the following config at the top of my <code>android</code> section:</p>\n\n<pre><code>android {\n    compileSdkVersion 24\n    buildToolsVersion \"23.0.3\"\n\n    defaultConfig {\n        applicationId \"com.xyz.abc\"\n        minSdkVersion 14\n        targetSdkVersion 24\n        //..etc\n</code></pre>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 38090720, "link": "http://stackoverflow.com/questions/29133601/buildtypes-cannot-be-applied-to-groovy-lang-closure/38090720#38090720", "tags": ["android-studio", "android-gradle"]}, {"body": "<p>Changing the <code>buildToolsVersion</code> from</p>\n\n<pre><code>android {\n    compileSdkVersion 24\n    buildToolsVersion \"24.0.2\" \n.. \n}\n</code></pre>\n\n<p>to</p>\n\n<pre><code>android {\n    compileSdkVersion 24\n    buildToolsVersion \"24.0.1\" \n.. \n}\n</code></pre>\n\n<p>worked for me.</p>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 39451905, "link": "http://stackoverflow.com/questions/29133601/buildtypes-cannot-be-applied-to-groovy-lang-closure/39451905#39451905", "tags": ["android-studio", "android-gradle"]}], "question_id": 29133601}, {"body": "<p>I would like to use google web starter kit. I installed node.js v0.12.0, <code>node-sass</code> &amp; <code>gulp</code>.</p>\n\n<p>And then ran:</p>\n\n<pre><code>$ sudo npm install\n</code></pre>\n\n<p>When I typed <code>gulp serve</code> then got this error:</p>\n\n<pre><code>Using gulpfile ~/web-starter-kit/gulpfile.js Starting 'styles'... 'styles' errored after 93 ms \nError: `libsass` bindings not found. Try reinstalling `node-sass`? at getBinding\n</code></pre>\n\n<p>I reinstalled node and gulp but this doesn't help.</p>\n\n<p>What should I do next?</p>\n", "title": "Try reinstalling `node-sass` on node 0.12?", "tags": ["node.js", "sass", "gulp"], "answer_count": 15, "link": "http://stackoverflow.com/questions/28409100/try-reinstalling-node-sass-on-node-0-12", "answers": [{"body": "<p>Downgrading Node to 0.10.36 should do it per this thread on the node-sass github page: <a href=\"https://github.com/sass/node-sass/issues/490#issuecomment-70388754\">https://github.com/sass/node-sass/issues/490#issuecomment-70388754</a></p>\n\n<p>If you have NVM you can just: </p>\n\n<pre><code>nvm install 0.10\n</code></pre>\n\n<p>If you don't, you can find NVM and instructions here: <a href=\"https://www.npmjs.com/package/nvm\">https://www.npmjs.com/package/nvm</a></p>\n", "title": "Try reinstalling `node-sass` on node 0.12?", "answer_id": 28724282, "link": "http://stackoverflow.com/questions/28409100/try-reinstalling-node-sass-on-node-0-12/28724282#28724282", "tags": ["node.js", "sass", "gulp"]}, {"body": "<p>I ran into this error using node <code>0.12.0</code> and it was fixed by deleting the existing <code>/node_modules</code> directory and running <code>npm update</code>.</p>\n", "title": "Try reinstalling `node-sass` on node 0.12?", "answer_id": 28974608, "link": "http://stackoverflow.com/questions/28409100/try-reinstalling-node-sass-on-node-0-12/28974608#28974608", "tags": ["node.js", "sass", "gulp"]}, {"body": "<p>I had the same issue:</p>\n\n<ul>\n<li>installing node-sass</li>\n<li>being told at the end of installation that the installation completed successfully</li>\n<li>then being asked to re-install node-sass.</li>\n</ul>\n\n<p>The solution is to <strong>install node-sass version 2</strong> which supports current versions of node. See <a href=\"https://github.com/sass/node-sass/issues/490#issuecomment-70388754\">https://github.com/sass/node-sass/issues/490#issuecomment-70388754</a></p>\n\n<p>Run:</p>\n\n<pre><code>npm install node-sass@2\n</code></pre>\n\n<p>Then re-test:</p>\n\n<pre><code>$ npm ls node-sass\nmyapp@0.0.0 /var/www/myapp\n\u2514\u2500\u2500 node-sass@2.0.1\n\n$ gulp sass\n[09:48:42] Using gulpfile /var/www/myapp/gulpfile.js\n[09:48:42] Starting 'sass'...\n[09:48:42] Finished 'sass' after 15 ms\n</code></pre>\n", "title": "Try reinstalling `node-sass` on node 0.12?", "answer_id": 29156211, "link": "http://stackoverflow.com/questions/28409100/try-reinstalling-node-sass-on-node-0-12/29156211#29156211", "tags": ["node.js", "sass", "gulp"]}, {"body": "<p>you may also want to <code>npm remove gulp-sass</code> and re-install gulp-sass if you've switched node versions.</p>\n", "title": "Try reinstalling `node-sass` on node 0.12?", "answer_id": 29993193, "link": "http://stackoverflow.com/questions/28409100/try-reinstalling-node-sass-on-node-0-12/29993193#29993193", "tags": ["node.js", "sass", "gulp"]}, {"body": "<p>I found this useful command:</p>\n\n<pre><code>npm rebuild node-sass\n</code></pre>\n\n<p>From the <code>rebuild</code> <a href=\"https://docs.npmjs.com/cli/rebuild\">documentation</a>:</p>\n\n<blockquote>\n  <p>This is useful when you install a new version of node (or switch node\n  versions), and must recompile all your C++ addons with the new node.js\n  binary.</p>\n</blockquote>\n\n<p><a href=\"http://laravel.io/forum/10-29-2014-laravel-elixir-sass-error\">http://laravel.io/forum/10-29-2014-laravel-elixir-sass-error</a></p>\n", "title": "Try reinstalling `node-sass` on node 0.12?", "answer_id": 30067395, "link": "http://stackoverflow.com/questions/28409100/try-reinstalling-node-sass-on-node-0-12/30067395#30067395", "tags": ["node.js", "sass", "gulp"]}, {"body": "<p>If you use Gulp then try:</p>\n\n<p><code>npm install gulp-sass</code></p>\n\n<p>I had the same problem and the <code>gulp-sass</code> package was the problem.</p>\n", "title": "Try reinstalling `node-sass` on node 0.12?", "answer_id": 30079399, "link": "http://stackoverflow.com/questions/28409100/try-reinstalling-node-sass-on-node-0-12/30079399#30079399", "tags": ["node.js", "sass", "gulp"]}, {"body": "<p>For me, this issue was caused in my build system (Travis CI) by doing something kind of dumb in my <code>.travis.yml</code> file. In effect, I was calling <code>npm install</code> <em>before</em> <code>nvm use 0.12</code>, and this was causing <code>node-sass</code> to be built for <code>0.10</code> instead of <code>0.12</code>. My solution was simply moving <code>nvm use</code> out of the <code>.travis.yml</code> file\u2019s <code>before_script</code> section to before the <code>npm install</code> command, which was in the <code>before_install</code> section.</p>\n\n<p>In your case, it is likely that whatever process you are starting with <code>gulp</code> is using a different version of <code>node</code> (than what you would expect).</p>\n", "title": "Try reinstalling `node-sass` on node 0.12?", "answer_id": 31816317, "link": "http://stackoverflow.com/questions/28409100/try-reinstalling-node-sass-on-node-0-12/31816317#31816317", "tags": ["node.js", "sass", "gulp"]}, {"body": "<p>This answer is a bit orthogonal to the the OP, but --</p>\n\n<p>libsass bindings don't install properly with the node-sass wrapper on Node v4.0.0. I got the same error message as in the question (<code>Error: 'libsass' bindings not found. Try reinstalling 'node-sass')</code> but I ended up uninstalling Node v4.0.0 and installing v0.12.7 using nvm, via this script:</p>\n\n<p><a href=\"https://gist.github.com/brock/5b1b70590e1171c4ab54\" rel=\"nofollow\">https://gist.github.com/brock/5b1b70590e1171c4ab54</a></p>\n\n<p>and now libsass and node-sass are behaving properly.</p>\n", "title": "Try reinstalling `node-sass` on node 0.12?", "answer_id": 32490619, "link": "http://stackoverflow.com/questions/28409100/try-reinstalling-node-sass-on-node-0-12/32490619#32490619", "tags": ["node.js", "sass", "gulp"]}, {"body": "<p><code>npm rebuild node-sass</code> was giving me errors (Ubuntu) and <code>npm install gulp-sass</code> didn't make the error go away.</p>\n\n<p>Saw a solution on GitHub which worked for me:</p>\n\n<p><code>npm uninstall --save-dev gulp-sass</code></p>\n\n<p><code>npm install --save-dev gulp-sass</code></p>\n", "title": "Try reinstalling `node-sass` on node 0.12?", "answer_id": 32593065, "link": "http://stackoverflow.com/questions/28409100/try-reinstalling-node-sass-on-node-0-12/32593065#32593065", "tags": ["node.js", "sass", "gulp"]}, {"body": "<p>If your node version is 4 and you are using gulp-sass, then try</p>\n\n<pre><code>npm uninstall --save-dev gulp-sass\n\nnpm install --save-dev gulp-sass@2\n</code></pre>\n", "title": "Try reinstalling `node-sass` on node 0.12?", "answer_id": 32666240, "link": "http://stackoverflow.com/questions/28409100/try-reinstalling-node-sass-on-node-0-12/32666240#32666240", "tags": ["node.js", "sass", "gulp"]}, {"body": "<p>I have same issue when gulp-sass version is 1.3.0, and fix it after upgrading to 2.1.0.</p>\n", "title": "Try reinstalling `node-sass` on node 0.12?", "answer_id": 33675923, "link": "http://stackoverflow.com/questions/28409100/try-reinstalling-node-sass-on-node-0-12/33675923#33675923", "tags": ["node.js", "sass", "gulp"]}, {"body": "<p>I had the same issue as @Kos had, only for some reason I had to modify the gulp-sass package from the old <code>package.json</code> file I had. It then installed the dependencies currently and now it finally works!</p>\n", "title": "Try reinstalling `node-sass` on node 0.12?", "answer_id": 33743626, "link": "http://stackoverflow.com/questions/28409100/try-reinstalling-node-sass-on-node-0-12/33743626#33743626", "tags": ["node.js", "sass", "gulp"]}, {"body": "<p>If you came here because you upgraded nodejs systemwide &amp; suddenly your emberjs ^1.13 app is failing with this message, make sure you're not using an outdated version of <code>ember-cli-sass</code>. You'll need to <code>rm -rf node_modules bower_components dist tmp</code> within the Ember app, then update your <code>package.json</code> with the appropriate <code>ember-cli-sass</code> version, and finally <code>npm install --save-dev</code>. This fixed it for me, without having to rebuild or change any other dependencies.</p>\n", "title": "Try reinstalling `node-sass` on node 0.12?", "answer_id": 34884024, "link": "http://stackoverflow.com/questions/28409100/try-reinstalling-node-sass-on-node-0-12/34884024#34884024", "tags": ["node.js", "sass", "gulp"]}, {"body": "<p>My issue was that I was on a machine with <code>node version 0.12.2</code>, but that had an old <code>1.x.x</code> version of <code>npm</code>. Be sure to update your version of npm: <code>sudo npm install -g npm</code> Once that is done, remove any existing <code>node-sass</code> and reinstall it via npm.</p>\n", "title": "Try reinstalling `node-sass` on node 0.12?", "answer_id": 36038605, "link": "http://stackoverflow.com/questions/28409100/try-reinstalling-node-sass-on-node-0-12/36038605#36038605", "tags": ["node.js", "sass", "gulp"]}, {"body": "<p>I removed all the <code>/node_modules</code> folder then ran <code>npm install</code> and it worked.</p>\n\n<p>I have node v5.5.0, npm 3.3.12</p>\n", "title": "Try reinstalling `node-sass` on node 0.12?", "answer_id": 36180873, "link": "http://stackoverflow.com/questions/28409100/try-reinstalling-node-sass-on-node-0-12/36180873#36180873", "tags": ["node.js", "sass", "gulp"]}], "question_id": 28409100}, {"body": "<p>I have two iphone devices( 4s and 5 ) connected to my computer and i am trying to install an application in both the devices. It installs pretty well in iphone 5 but it gives an error '<code>The application could not be verified</code>.' when attempted to install in the iphone 4s device. </p>\n\n<p>The UDIDs of both the devices have been added in the provisioning profile generated for the application. </p>\n\n<p>Also, to add a note, I have just updated my iphone version to 8.1.3 in my 4s device. I am not sure though if the error has anything to do with it. </p>\n\n<p>Any help on this would be much appreciated. I have been stuck on this for some time now. </p>\n\n<p>EDIT: </p>\n\n<p>I just connected this to another iPhone device and the issue seems to be there again. Basically this means that the app, for some reason, installs only in the phone which I have been using for some time now and not in any other phone. Once again, I am pretty sure that the provisioning profile contains the UDIDs of all these 3 devices. </p>\n", "title": "iOS app &#39;The application could not be verified&#39; only on one device", "tags": ["ios", "iphone", "xcode", "xcode6.1"], "answer_count": 12, "link": "http://stackoverflow.com/questions/28231338/ios-app-the-application-could-not-be-verified-only-on-one-device", "answers": [{"body": "<p>I had something similar happen to me just recently.  I updated my iPhone to 8.1.3, and started getting the 'application could not be verified' error message from Xcode on an app that installed just fine on the same iOS device from the same Mac just a few days ago.</p>\n\n<p>I deleted the app from the device, restarted Xcode, and the app subsequently installed on the device just fine without any error message.  Not sure if deleting the app was the fix, or the problem was due to \"the phase of the moon\".</p>\n", "title": "iOS app &#39;The application could not be verified&#39; only on one device", "answer_id": 28232381, "link": "http://stackoverflow.com/questions/28231338/ios-app-the-application-could-not-be-verified-only-on-one-device/28232381#28232381", "tags": ["ios", "iphone", "xcode", "xcode6.1"]}, {"body": "<p>just delete the app and try again, it happens to me when i try to launch over a device that has the same app but generated by an ipa file.</p>\n", "title": "iOS app &#39;The application could not be verified&#39; only on one device", "answer_id": 28372719, "link": "http://stackoverflow.com/questions/28231338/ios-app-the-application-could-not-be-verified-only-on-one-device/28372719#28372719", "tags": ["ios", "iphone", "xcode", "xcode6.1"]}, {"body": "<p>Might have figured it out... Deleting the app from the device worked for me, as others mentioned before (thanks!).  </p>\n\n<p>I think the reason is that the app on the device was actually signed with a separate provisioning profile, specifically a distribution profile in my case.</p>\n", "title": "iOS app &#39;The application could not be verified&#39; only on one device", "answer_id": 28639945, "link": "http://stackoverflow.com/questions/28231338/ios-app-the-application-could-not-be-verified-only-on-one-device/28639945#28639945", "tags": ["ios", "iphone", "xcode", "xcode6.1"]}, {"body": "<p>Had the same issue on my iPad running 8.1.3 Deleting the app and installing again fixed the issue. I use two different provisioning profiles on two different machines and that could have caused this issue.</p>\n", "title": "iOS app &#39;The application could not be verified&#39; only on one device", "answer_id": 28683289, "link": "http://stackoverflow.com/questions/28231338/ios-app-the-application-could-not-be-verified-only-on-one-device/28683289#28683289", "tags": ["ios", "iphone", "xcode", "xcode6.1"]}, {"body": "<p>I faced this issue a lot. I am not sure if this is the issue, but I think, when xCode saw that there is an app with the same bundle identifier as of the app, I am trying to install, it didn't allow me. So, I had to delete the older one and attempted to install and it worked. However sometimes for testing purpose, I needed multiple version of the same app and in that case, I would change the bundle identifier and try to install. It only works if, I am using an wildcard provisioning profile.</p>\n", "title": "iOS app &#39;The application could not be verified&#39; only on one device", "answer_id": 28722017, "link": "http://stackoverflow.com/questions/28231338/ios-app-the-application-could-not-be-verified-only-on-one-device/28722017#28722017", "tags": ["ios", "iphone", "xcode", "xcode6.1"]}, {"body": "<p>You probably used the \"Fix Issue\" option in Xcode when plugging in a new device. Old question but I believe this is the actual answer to <strong>WHY</strong> this is happening. When you install an app on a device it is signed with a specific development provisioning profile. If, for instance, you plug in another device that is not registered on your developer account Xcode will ask you to \"fix the issue\". When you press that the device is added and another provisioning profile is created/modified. If you try to overwrite an existing app you'll receive that error. Deleting the app and reinstalling it works since the profile has been altered. I find this often happens when a Team is set and a member plugs in a new device then Xcode \"Fixes\" the problem. </p>\n", "title": "iOS app &#39;The application could not be verified&#39; only on one device", "answer_id": 28774448, "link": "http://stackoverflow.com/questions/28231338/ios-app-the-application-could-not-be-verified-only-on-one-device/28774448#28774448", "tags": ["ios", "iphone", "xcode", "xcode6.1"]}, {"body": "<p>To others not using RubyMotion and don't think that deleting the app is acceptable (as in, you want to do upgrade testing). Check out the bottom of these docs from Apple:</p>\n\n<p><a href=\"https://developer.apple.com/library/ios/technotes/tn2319/_index.html\">https://developer.apple.com/library/ios/technotes/tn2319/_index.html</a></p>\n\n<p>It looks like they changed something in 8.1.3 to check for this new rule.</p>\n\n<p><strong>The Fix</strong></p>\n\n<p>\"[Add] the installed application\u2019s application-identifier value, as logged in the second parentheses, to the previous-application-identifiers entitlement\u2019s array value for the app being installed (by resigning it or re-building it) and requesting new special provisioning profiles as shown below.\"</p>\n\n<pre><code>&lt;key&gt;previous-application-identifiers&lt;/key&gt;\n&lt;array&gt;\n    &lt;string&gt;{Your Old App ID Prefix}.YourApp.Bundle.ID&lt;/string&gt;\n&lt;/array&gt;\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>In order to do this, you need special provisioning profiles. You can request these from Apple:\n\"To enable signing with the previous-application-identifiers entitlement new special provisioning profiles are required that can be obtained by going to the Contact US page and requesting them.\" (from the docs linked above).</p>\n", "title": "iOS app &#39;The application could not be verified&#39; only on one device", "answer_id": 29376108, "link": "http://stackoverflow.com/questions/28231338/ios-app-the-application-could-not-be-verified-only-on-one-device/29376108#29376108", "tags": ["ios", "iphone", "xcode", "xcode6.1"]}, {"body": "<p>I also encountered the same issue. Deleting the app didn't work, but when I tried deleting another app which was the current one's 'parent'(I copied the whole project from the previous app, modified some urls and images, then I clicked 'Run' and saw the unhappy 'could not be verified' dialog). Seems the issue is related to provisioning and code signing and/or some configurations of the project. Very tricky.</p>\n", "title": "iOS app &#39;The application could not be verified&#39; only on one device", "answer_id": 29425517, "link": "http://stackoverflow.com/questions/28231338/ios-app-the-application-could-not-be-verified-only-on-one-device/29425517#29425517", "tags": ["ios", "iphone", "xcode", "xcode6.1"]}, {"body": "<p>As I notice <strong>The application could not be verified.</strong> raise up because in your device there is already an app installed with the same bundle identifier.</p>\n\n<p>I got this issue because in my device there is my app that download from App store. and i test its update Version from Xcode. And i used same identifier that is live app and my development testing app. So i just remove app-store Live app from my device and this error going to be fix.</p>\n", "title": "iOS app &#39;The application could not be verified&#39; only on one device", "answer_id": 30076687, "link": "http://stackoverflow.com/questions/28231338/ios-app-the-application-could-not-be-verified-only-on-one-device/30076687#30076687", "tags": ["ios", "iphone", "xcode", "xcode6.1"]}, {"body": "<p>Working &amp; tested solution, <strong>which does not require to delete application:</strong></p>\n\n<p>It looks like <strong>AppStore Distribution Provisioning Profile</strong> or just iOS Distribution certificate have special permissions and <em>\"Could not be verified...\"</em> problem does not apply to them. They <strong>will always override previous certificate</strong>.</p>\n\n<p>In other words: AppStore release will install successfully, even if already installed (testing, adhoc or enterprise) app has been signed by the certificate from different team.</p>\n\n<p>If you are lucky and have previously uploaded app to the AppStore account owned by the same team as in certificate you have a problem with - then things are very simple: just download &amp; install app from AppStore.</p>\n\n<p>When it installs - app certificate will be the same as the one you want to test with and problem goes away.</p>\n\n<p><strong>If your app is not on the AppStore yet - iTunesConnect beta comes to the rescue</strong>:</p>\n\n<p><strong><em>Disclaimer</em></strong>: I did not tested this but since cert an prev are the same as AppStore release, I bet it works:</p>\n\n<ol>\n<li>Archive your app with AppStore provisioning profile (iOS Distribution cert) and upload to iTunesConnect (to the account owned by the same developer team as included in the provisioning profile not you want to run).</li>\n<li>Invite person with the device you want to run on (yourself?) to beta test.</li>\n<li>Download &amp; install the app from iTunes connect beta.</li>\n<li>Now you are able to install your testing version.</li>\n</ol>\n", "title": "iOS app &#39;The application could not be verified&#39; only on one device", "answer_id": 30617406, "link": "http://stackoverflow.com/questions/28231338/ios-app-the-application-could-not-be-verified-only-on-one-device/30617406#30617406", "tags": ["ios", "iphone", "xcode", "xcode6.1"]}, {"body": "<p>TL;DR answer - There is no real solution besides \"delete app and reinstall\".</p>\n\n<p>This answer is not satisfactory for many situations, when you have an existing database that needs to not get deleted within the app.</p>\n\n<p>Lukasz and plivesey are the only ones with solutions that don't require delete, but neither worked for me.</p>\n", "title": "iOS app &#39;The application could not be verified&#39; only on one device", "answer_id": 33576215, "link": "http://stackoverflow.com/questions/28231338/ios-app-the-application-could-not-be-verified-only-on-one-device/33576215#33576215", "tags": ["ios", "iphone", "xcode", "xcode6.1"]}, {"body": "<p>The application could not be verified\" , in your device there could be already an app installed with the same bundle identifier.</p>\n\n<p>So Simple solution Just delete the App  &amp; try again..\n....</p>\n", "title": "iOS app &#39;The application could not be verified&#39; only on one device", "answer_id": 38086765, "link": "http://stackoverflow.com/questions/28231338/ios-app-the-application-could-not-be-verified-only-on-one-device/38086765#38086765", "tags": ["ios", "iphone", "xcode", "xcode6.1"]}], "question_id": 28231338}, {"body": "<p><strong>Question 1:</strong></p>\n\n<p>Why does the following code compile without having a return statement?</p>\n\n<pre><code>public int a() \n{\n    while(true);\n}\n</code></pre>\n\n<p>Notice: If I add return after the while then I get an <code>Unreachable Code Error</code>.</p>\n\n<p><strong>Question 2:</strong> </p>\n\n<p>On the other hand, why does the following code compile,</p>\n\n<pre><code>public int a() \n{\n    while(0 == 0);\n}\n</code></pre>\n\n<p>even though the following does not.</p>\n\n<pre><code>public int a(int b)\n{\n    while(b == b);\n}\n</code></pre>\n", "title": "Java method with return type compiles without return statement", "tags": ["java", "syntax", "while-loop", "compilation", "return"], "answer_count": 3, "link": "http://stackoverflow.com/questions/31050114/java-method-with-return-type-compiles-without-return-statement", "answers": [{"body": "<blockquote>\n  <p><strong>Question 1:</strong></p>\n  \n  <p>Why does the following code compile without having a return statement?</p>\n\n<pre><code>public int a() \n{\n    while(true);\n}\n</code></pre>\n</blockquote>\n\n<p>This is covered by <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4.7\">JLS\u00a78.4.7</a>:</p>\n\n<blockquote>\n  <p>If a method is declared to have a return type (\u00a78.4.5), then a compile-time error occurs if the body of the method can complete normally (\u00a714.1).</p>\n  \n  <p>In other words, a method with a return type must return only by using a return statement that provides a value return; the method is not allowed to \"drop off the end of its body\". See \u00a714.17 for the precise rules about return statements in a method body.</p>\n  \n  <p>It is possible for a method to have a return type and yet contain no return statements. Here is one example:</p>\n\n<pre><code>class DizzyDean {\n    int pitch() { throw new RuntimeException(\"90 mph?!\"); }\n}\n</code></pre>\n</blockquote>\n\n<p>Since the compiler knows that the loop will never terminate (<code>true</code> is always true, of course), it knows the function cannot \"return normally\" (drop off the end of its body), and thus it's okay that there's no <code>return</code>.</p>\n\n<blockquote>\n  <p><strong>Question 2:</strong></p>\n  \n  <p>On the other hand, why does the following code compile,</p>\n\n<pre><code>public int a() \n{\n    while(0 == 0);\n}\n</code></pre>\n  \n  <p>even though the following does not.</p>\n\n<pre><code>public int a(int b)\n{\n    while(b == b);\n}\n</code></pre>\n</blockquote>\n\n<p>In the <code>0 == 0</code> case, the compiler knows that the loop will never terminate (that <code>0 == 0</code> will always be true). But it <strong>doesn't</strong> know that for <code>b == b</code>.</p>\n\n<p>Why not?</p>\n\n<p>The compiler understands <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.28\">constant expressions (\u00a715.28)</a>. Quoting <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.2\">\u00a715.2 - Forms of Expressions</a> <em>(because oddly this sentence isn't in \u00a715.28)</em>:</p>\n\n<blockquote>\n  <p>Some expressions have a value that can be determined at compile time. These are <em>constant expressions</em> (\u00a715.28).</p>\n</blockquote>\n\n<p>In your <code>b == b</code> example, because there is a variable involved, it isn't a constant expression and isn't specified to be determined at compilation time. <strong>We</strong> can see that it's always going to be true in this case (although if <code>b</code> were a <code>double</code>, as QBrute <a href=\"http://stackoverflow.com/questions/31050114/java-method-with-return-type-compiles-without-actually-returning-anything/31050290#comment50126058_31050290\">pointed out</a>, we could easily be fooled by <code>Double.NaN</code>, which is <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.2.3\">not <code>==</code> itself</a>), but the JLS only specifies that constant expressions are determined at compile time, it doesn't allow the compiler to try to evaluate non-constant expressions. bayou.io <a href=\"http://stackoverflow.com/questions/31050114/java-method-with-return-type-compiles-without-actually-returning-anything#comment50122240_31050290\">raised a good point</a> for why not: If you start going down the road of trying to determine expressions involving variables at compilation time, where do you stop? <code>b == b</code> is obvious (er, for non-<code>NaN</code> values), but what about <code>a + b == b + a</code>? Or <code>(a + b) * 2 == a * 2 + b * 2</code>? Drawing the line at constants makes sense.</p>\n\n<p>So since it doesn't \"determine\" the expression, the compiler doesn't know that the loop will never terminate, so it thinks the method can return normally&nbsp;&mdash; which it's not allowed to do, because it's required to use <code>return</code>. So it complains about the lack of a <code>return</code>.</p>\n", "title": "Java method with return type compiles without return statement", "answer_id": 31050290, "link": "http://stackoverflow.com/questions/31050114/java-method-with-return-type-compiles-without-return-statement/31050290#31050290", "tags": ["java", "syntax", "while-loop", "compilation", "return"]}, {"body": "<p>It can be interesting to think of the method return type not as a promise to return a value of the specified type, but as a promise not to return a value that is <em>not</em> of the specified type. Thus, if you never return anything, you are not breaking the promise, and so any of the following are legal:</p>\n\n<ol>\n<li><p>Looping forever:</p>\n\n<pre><code>X foo() {\n    for (;;);\n}\n</code></pre></li>\n<li><p>Recursing forever:</p>\n\n<pre><code>X foo() {\n    return foo();\n}\n</code></pre></li>\n<li><p>Throwing an exception:</p>\n\n<pre><code>X foo() {\n    throw new Error();\n}\n</code></pre></li>\n</ol>\n\n<p>(Since these methods never actually return a value, the type of <code>X</code> is unimportant.)</p>\n", "title": "Java method with return type compiles without return statement", "answer_id": 31057507, "link": "http://stackoverflow.com/questions/31050114/java-method-with-return-type-compiles-without-return-statement/31057507#31057507", "tags": ["java", "syntax", "while-loop", "compilation", "return"]}, {"body": "<p>Looking at the byte code, if what is being returned does not match the definition, you will receive a compile error.  </p>\n\n<p><strong>Example:</strong></p>\n\n<p><code>for(;;)</code> will show the bytecodes:</p>\n\n<pre><code>L0\n    LINENUMBER 6 L0\n    FRAME SAME\n    GOTO L0\n</code></pre>\n\n<p><strong>Note the lack of any return bytecode</strong></p>\n\n<p>This does not ever hit a return, and thus does not return the wrong type.</p>\n\n<p>For comparison, a method like:</p>\n\n<pre><code>public String getBar() { \n    return bar; \n}\n</code></pre>\n\n<p>Will return the following bytecodes:</p>\n\n<pre><code>public java.lang.String getBar();\n    Code:\n      0:   aload_0\n      1:   getfield        #2; //Field bar:Ljava/lang/String;\n      4:   areturn\n</code></pre>\n\n<p>Note the \"areturn\" which means \"return a reference\"</p>\n\n<p>Now if we do the following:</p>\n\n<pre><code>public String getBar() { \n    return 1; \n}\n</code></pre>\n\n<p>Will return the following bytecodes:</p>\n\n<pre><code>public String getBar();\n  Code:\n   0:   iconst_1\n   1:   ireturn\n</code></pre>\n\n<p>Now we can see that the type in the definition does not match the return type of ireturn, which means return int.</p>\n\n<p>So really what it comes down to is that if the method has a return path, that path must match the return type.  But there are instances in the bytecode where no return path is generated at all, and thus no breaking of the rule.</p>\n", "title": "Java method with return type compiles without return statement", "answer_id": 31080894, "link": "http://stackoverflow.com/questions/31050114/java-method-with-return-type-compiles-without-return-statement/31080894#31080894", "tags": ["java", "syntax", "while-loop", "compilation", "return"]}], "question_id": 31050114}, {"body": "<p>Today I uploaded my first build of first app successfully to App Store for beta testing. After making a few changes, when I tried to submit the new archive again Xcode crashed, and still crashes.</p>\n\n<p>It's the log:</p>\n\n<pre><code>Process:               Xcode [36810]\nPath:                  /Applications/Xcode.app/Contents/MacOS/Xcode\nIdentifier:            com.apple.dt.Xcode\nVersion:               6.3.2 (7718)\nBuild Info:            IDEFrameworks-7718000000000000~2\nApp Item ID:           497799835\nApp External ID:       812404257\nCode Type:             X86-64 (Native)\nParent Process:        ??? [1]\nResponsible:           Xcode [36810]\nUser ID:               501\n\nDate/Time:             2015-06-17 21:59:26.432 +0430\nOS Version:            Mac OS X 10.10.3 (14D136)\nReport Version:        11\nAnonymous UUID:        A70B5585-6ADF-B647-C184-94420293DB9F\n\nSleep/Wake UUID:       536542A5-38C8-405F-8A5E-28DBE775C033\n\nTime Awake Since Boot: 110000 seconds\nTime Since Wake:       18000 seconds\n\nCrashed Thread:        14  Dispatch queue: NSOperationQueue 0x7fdb9771af00 :: NSOperation 0x7fdb97679160 (QOS: USER_INITIATED)\n\nException Type:        EXC_CRASH (SIGABRT)\nException Codes:       0x0000000000000000, 0x0000000000000000\n\nApplication Specific Information:\nProductBuildVersion: 6D2105\nASSERTION FAILURE in /SourceCache/IDEFrameworks/IDEFrameworks-7718/IDEFoundation/Issues/IDEIssueManager.m:457\nDetails:  This method must only be called on the main thread\nObject:   &lt;IDEIssueManager&gt;\nMethod:   +_issueProviderInfo\nThread:   &lt;NSThread: 0x7fdb971db920&gt;{number = 80, name = (null)}\nHints:   None\nBacktrace:\n  0  0x0000000102e28b6a -[IDEAssertionHandler handleFailureInMethod:object:fileName:lineNumber:assertionSignature:messageFormat:arguments:] (in IDEKit)\n  1  0x0000000101b765df _DVTAssertionHandler (in DVTFoundation)\n  2  0x0000000101b768ce _DVTAssertionFailureHandler (in DVTFoundation)\n  3  0x00000001024f248e +[IDEIssueManager _issueProviderInfo] (in IDEFoundation)\n  4  0x00000001024f1b0d -[IDEIssueManager _updateIssueProviders] (in IDEFoundation)\n  5  0x0000000101b893de __73-[DVTObservingBlockToken observeValueForKeyPath:ofObject:change:context:]_block_invoke (in DVTFoundation)\n  6  0x0000000101afed5c DVTInvokeWithStrongOwnership (in DVTFoundation)\n  7  0x00000001019b03e4 -[DVTObservingBlockToken observeValueForKeyPath:ofObject:change:context:] (in DVTFoundation)\n  8  0x00007fff8a8af0f3 NSKeyValueNotifyObserver (in Foundation)\n  9  0x00007fff8a8bbd68 NSKeyValueDidChange (in Foundation)\n 10  0x00007fff8a87497d -[NSObject(NSKeyValueObserverNotification) didChangeValueForKey:] (in Foundation)\n 11  0x00007fff8befddaf doSetValuesInSourceWithKVO (in CoreFoundation)\n 12  0x00007fff8befdc46 _CFXPreferencesReplaceValuesInNamedVolatileSource (in CoreFoundation)\n 13  0x00007fff8aa4b027 -[NSUserDefaults(NSUserDefaults) setVolatileDomain:forName:] (in Foundation)\n 14  0x0000000119e34a13 -[NSUserDefaults(ITunesConnectFoundationExtensions) REPLACEMENT_setVolatileDomain:forName:] (in ITunesConnectFoundation)\n 15  0x0000000119e34f87 -[NSUserDefaults(ITunesConnectFoundationExtensions) synchronizeRegistrationDomains] (in ITunesConnectFoundation)\n 16  0x0000000119e34d5d -[NSUserDefaults(ITunesConnectFoundationExtensions) registerPriorityDefaults:] (in ITunesConnectFoundation)\n 17  0x0000000119e2669e -[MZJSONServiceClient processApplicationSettings:] (in ITunesConnectFoundation)\n 18  0x0000000119e26d7d -[MZJSONServiceClient connectionDidFinishLoading:] (in ITunesConnectFoundation)\n 19  0x00007fff8846d24d __65-[NSURLConnectionInternal _withConnectionAndDelegate:onlyActive:]_block_invoke (in CFNetwork)\n 20  0x00007fff8846d0b1 -[NSURLConnectionInternal _withConnectionAndDelegate:onlyActive:] (in CFNetwork)\n 21  0x00007fff8846cfb7 -[NSURLConnectionInternal _withActiveConnectionAndDelegate:] (in CFNetwork)\n 22  0x00007fff8846df74 ___ZN27URLConnectionClient_Classic26_delegate_didFinishLoadingEU13block_pointerFvvE_block_invoke (in CFNetwork)\n 23  0x00007fff88521703 ___ZN27URLConnectionClient_Classic18_withDelegateAsyncEPKcU13block_pointerFvP16_CFURLConnectionPK33CFURLConnectionClientCurrent_VMaxE_block_invoke_2 (in CFNetwork)\n 24  0x00007fff883c2cec RunloopBlockContext::_invoke_block(void const*, void*) (in CFNetwork)\n 25  0x00007fff8bf0e664 CFArrayApplyFunction (in CoreFoundation)\n 26  0x00007fff883c2bad RunloopBlockContext::perform() (in CFNetwork)\n 27  0x00007fff883c2998 MultiplexerSource::perform() (in CFNetwork)\n 28  0x00007fff883c27ba MultiplexerSource::_perform(void*) (in CFNetwork)\n 29  0x00007fff8bf42a01 __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE0_PERFORM_FUNCTION__ (in CoreFoundation)\n 30  0x00007fff8bf34b8d __CFRunLoopDoSources0 (in CoreFoundation)\n 31  0x00007fff8bf341bf __CFRunLoopRun (in CoreFoundation)\n 32  0x00007fff8bf33bd8 CFRunLoopRunSpecific (in CoreFoundation)\n 33  0x00007fff8a8fda59 -[NSRunLoop(NSRunLoop) runMode:beforeDate:] (in Foundation)\n 34  0x00007fff8a91bcce -[NSRunLoop(NSRunLoop) runUntilDate:] (in Foundation)\n 35  0x0000000119e25d00 -[MZJSONServiceClient getResultDictionary] (in ITunesConnectFoundation)\n 36  0x0000000119e28eb3 -[MZLabelServiceClient invokeSOAPCall] (in ITunesConnectFoundation)\n 37  0x0000000119e3097d -[MZWebServiceOperationWorker execute] (in ITunesConnectFoundation)\n 38  0x0000000119e30e11 -[MZWebServiceWorker run] (in ITunesConnectFoundation)\n 39  0x0000000119df854d -[MZWorkItem main] (in ITunesConnectFoundation)\n 40  0x00007fff8a8c6a6c -[__NSOperationInternal _start:] (in Foundation)\n 41  0x00007fff8a8c6543 __NSOQSchedule_f (in Foundation)\n 42  0x00007fff89468c13 _dispatch_client_callout (in libdispatch.dylib)\n 43  0x00007fff8946c365 _dispatch_queue_drain (in libdispatch.dylib)\n 44  0x00007fff8946decc _dispatch_queue_invoke (in libdispatch.dylib)\n 45  0x00007fff8946b6b7 _dispatch_root_queue_drain (in libdispatch.dylib)\n 46  0x00007fff89479fe4 _dispatch_worker_thread3 (in libdispatch.dylib)\n 47  0x00007fff86f91637 _pthread_wqthread (in libsystem_pthread.dylib)\n 48  0x00007fff86f8f40d start_wqthread (in libsystem_pthread.dylib)\n</code></pre>\n\n<p><strong>Note:</strong> I can validate the Archive without error. </p>\n\n<p>Will re-installing XCode help me to fix it?</p>\n", "title": "Xcode 6 crashes on submitting Archive", "tags": ["xcode", "xcode6"], "answer_count": 13, "link": "http://stackoverflow.com/questions/30898566/xcode-6-crashes-on-submitting-archive", "answers": [{"body": "<p>You might need to accept some new user agreements, try going to <a href=\"https://developer.apple.com/membercenter/\" rel=\"nofollow\">Apple Developer Member Center</a> and see if they're any new agreements you need to accept.</p>\n\n<p>If that doesn't work try this: open Xcode and go to [ Preferences ] -> [ Accounts ], select your Apple ID and click on [ View Details... ]. Once you do that click on the refresh icon at the bottom left. If you're missing anything it will let you know.</p>\n\n<p>If both of those don't work go back to the archive window in XCode and click on export on the right-hand side underneath the submit button. Save it where ever you want but remember the location. Once exported go back to XCode and go to [ Open Developer Tools ] -> [ Application Loader ]. You can submit your new version of your app through that.</p>\n\n<p>If none of those work then I have no idea, maybe someone else knows.</p>\n", "title": "Xcode 6 crashes on submitting Archive", "answer_id": 30899563, "link": "http://stackoverflow.com/questions/30898566/xcode-6-crashes-on-submitting-archive/30899563#30899563", "tags": ["xcode", "xcode6"]}, {"body": "<p>Just got this problem. Seems to work if you close all other Xcode windows but keep the organizer window open.</p>\n", "title": "Xcode 6 crashes on submitting Archive", "answer_id": 30900770, "link": "http://stackoverflow.com/questions/30898566/xcode-6-crashes-on-submitting-archive/30900770#30900770", "tags": ["xcode", "xcode6"]}, {"body": "<p>Had the same problem - uploaded my .ipa through the Application Loader.</p>\n", "title": "Xcode 6 crashes on submitting Archive", "answer_id": 30900814, "link": "http://stackoverflow.com/questions/30898566/xcode-6-crashes-on-submitting-archive/30900814#30900814", "tags": ["xcode", "xcode6"]}, {"body": "<p>Close any projects or workspace windows you have open in Xcode but leave Organizer window open and re-submit worked for me.</p>\n", "title": "Xcode 6 crashes on submitting Archive", "answer_id": 30901172, "link": "http://stackoverflow.com/questions/30898566/xcode-6-crashes-on-submitting-archive/30901172#30901172", "tags": ["xcode", "xcode6"]}, {"body": "<p>Had the same problem today. Problem turned out I still had the Reveal Framework included in my project. Make sure you don't have any non-public API usage in your archive. </p>\n", "title": "Xcode 6 crashes on submitting Archive", "answer_id": 30903313, "link": "http://stackoverflow.com/questions/30898566/xcode-6-crashes-on-submitting-archive/30903313#30903313", "tags": ["xcode", "xcode6"]}, {"body": "<p>The original question is: \"Will re-installing XCode help me to fix it?\" \nThe answer is: \"No.\" Re-installation does not help the problem. The bug is pretty serious though, since submitting an app is central to app development. A fix should be in the App Store asap. Hence updating later may help. </p>\n", "title": "Xcode 6 crashes on submitting Archive", "answer_id": 30907272, "link": "http://stackoverflow.com/questions/30898566/xcode-6-crashes-on-submitting-archive/30907272#30907272", "tags": ["xcode", "xcode6"]}, {"body": "<p>If that doesn't work, than it could also be that the used Certificate has expired. So check if your Certificate is still valid.</p>\n", "title": "Xcode 6 crashes on submitting Archive", "answer_id": 30912815, "link": "http://stackoverflow.com/questions/30898566/xcode-6-crashes-on-submitting-archive/30912815#30912815", "tags": ["xcode", "xcode6"]}, {"body": "<p>I created an .ipa file using the Export utility in Organizer, then ran Application Loader. Selected the 'Deliver Your App' button. Choose the new created ipa file and the file appeared in iTuneConnect under the pre-release tab as expected for TestFlight distribution.</p>\n", "title": "Xcode 6 crashes on submitting Archive", "answer_id": 30917074, "link": "http://stackoverflow.com/questions/30898566/xcode-6-crashes-on-submitting-archive/30917074#30917074", "tags": ["xcode", "xcode6"]}, {"body": "<p>Following steps worked for me:</p>\n\n<ol>\n<li>Archive the project.</li>\n<li>Open Organizer</li>\n<li>Press the top-left cross button of XCode which will close all projects without quiting XCode and Organiser will be opened</li>\n<li>Now resubmit the archive from organiser.</li>\n</ol>\n", "title": "Xcode 6 crashes on submitting Archive", "answer_id": 30921442, "link": "http://stackoverflow.com/questions/30898566/xcode-6-crashes-on-submitting-archive/30921442#30921442", "tags": ["xcode", "xcode6"]}, {"body": "<p>Had this problem today. I was only able to successfully upload the Archive when the organizer window was open and all Xcode projects were closed.</p>\n", "title": "Xcode 6 crashes on submitting Archive", "answer_id": 30945004, "link": "http://stackoverflow.com/questions/30898566/xcode-6-crashes-on-submitting-archive/30945004#30945004", "tags": ["xcode", "xcode6"]}, {"body": "<p>I had the same issue at June 17 night. I reinstalled my Xcode, and had the same issue. Looks like Apple updated something at that day, since I noticed the website of Member Center, the MAC certificate is also there. (YES!!! apple only charge once for iPhone and Mac)</p>\n", "title": "Xcode 6 crashes on submitting Archive", "answer_id": 30967271, "link": "http://stackoverflow.com/questions/30898566/xcode-6-crashes-on-submitting-archive/30967271#30967271", "tags": ["xcode", "xcode6"]}, {"body": "<p>I encountered similar situation. However, my solution was somehow different.</p>\n\n<p>Noticing that you are trying to submit next build, please make sure your previous build is excluded from App Store submit form before uploading new build.</p>\n\n<p>I'm not sure why this has to be an issue, but it seems like that the submit form should be cleared before receiving new build.</p>\n", "title": "Xcode 6 crashes on submitting Archive", "answer_id": 31015892, "link": "http://stackoverflow.com/questions/30898566/xcode-6-crashes-on-submitting-archive/31015892#31015892", "tags": ["xcode", "xcode6"]}, {"body": "<p>Archive using Xcode 6.4, submit using Xcode 7. Submission successful</p>\n", "title": "Xcode 6 crashes on submitting Archive", "answer_id": 31721544, "link": "http://stackoverflow.com/questions/30898566/xcode-6-crashes-on-submitting-archive/31721544#31721544", "tags": ["xcode", "xcode6"]}], "question_id": 30898566}, {"body": "<p>How do I create a shape like this to display on a webpage?  </p>\n\n<p>I don't want to use <strong>images</strong> since they would get blurry on scaling  </p>\n\n<p><img src=\"http://i.stack.imgur.com/3dFQ5.png\" alt=\"Teardrop shape I need to make with HTML, CSS or SVG\"></p>\n\n<p>I tried with <em>CSS</em>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.tear {\r\n  display: inline-block;\r\n  transform: rotate(-30deg);\r\n  border: 5px solid green;\r\n  width: 50px;\r\n  height: 100px;\r\n  border-top-left-radius: 50%;\r\n  border-bottom-left-radius: 50%;\r\n  border-bottom-right-radius: 50%;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"tear\"&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>That turned out really screwed.</p>\n\n<p>And then I tried with SVG:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;svg viewBox=\"0 100 100\"&gt;\r\n  &lt;polygon points=\"50,0 100,70 50,100 0,70\"/&gt;\r\n&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>It did get the shape, but the bottom part wasn't curved.</p>\n\n<p>Is there a way to create this shape so it can be used in an HTML page?</p>\n", "title": "How do I create a teardrop in HTML?", "tags": ["html", "css", "css3", "svg", "css-shapes"], "answer_count": 11, "link": "http://stackoverflow.com/questions/30711203/how-do-i-create-a-teardrop-in-html", "answers": [{"body": "<h2>Basic Border-Radius</h2>\n\n<p>You can do this within CSS relatively easily using border-radius' and transforms. Your CSS was just a little bit out.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.tear {\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 0 50% 50% 50%;\r\n  border: 3px solid black;\r\n  transform: rotate(45deg);\r\n  margin-top: 20px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"tear\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<h2>Advanced Border-Radius</h2>\n\n<p>This will be very similar to above but gives it a bit more shape.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.tear {\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 80% 0 55% 50% / 55% 0 80% 50%;\r\n  border: 3px solid black;\r\n  transform: rotate(-45deg);\r\n  margin-top: 20px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"tear\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How do I create a teardrop in HTML?", "answer_id": 30711303, "link": "http://stackoverflow.com/questions/30711203/how-do-i-create-a-teardrop-in-html/30711303#30711303", "tags": ["html", "css", "css3", "svg", "css-shapes"]}, {"body": "<p>Your main issue with your CSS code was: </p>\n\n<ol>\n<li>You used a different height than width</li>\n<li>You haven't rotated the correct angle size</li>\n</ol>\n\n<p>So, by 'fixing' these issues, you would generate:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.tear {\r\n  display: inline-block;\r\n  transform: rotate(-45deg);\r\n  border: 5px solid green;\r\n  width: 100px;\r\n  height: 100px;\r\n  border-top-left-radius: 50%;\r\n  border-bottom-left-radius: 50%;\r\n  border-bottom-right-radius: 50%;\r\n}\r\n/***for demo only***/\r\n\r\n.tear {\r\n  margin: 50px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"tear\"&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><em>Please also note to save on CSS length, you could re-write your border-radius properties to:</em></p>\n\n<pre><code>border-radius: 50% 0 50% 50%;\n</code></pre>\n\n<hr>\n\n<p>this could be enhanced with pseudo elements <a href=\"http://jsfiddle.net/jbutler483/h96rnho2/1/\"><strong>as shown in this fiddle</strong></a></p>\n\n<h1>Alternatives</h1>\n\n<p>I found <a href=\"http://codepen.io/VinayChalluru/pen/LKphA\">this</a> by <strong>Vinay Challuru</strong> on codepen.</p>\n\n<p>Please note that with the logic here, I was able to create the <strong>SVG</strong> to nearly any possible build shape/etc. For example, a quick output was:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;svg viewBox='0 0 400 400'&gt;\r\n  &lt;path fill=\"none\" stroke=\"#333\" stroke-width=\"5\" d=\"M200,40 C200,115 280,180 280,240 A80,80,0 0,1,120,240 C120,180 200,115 200,40\" stroke-linejoin='miter'&gt;&lt;/path&gt;\r\n&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>It's using an SVG and allows you to alter the shape in multiple ways, having the ability to alter its shape to the desired result:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var SVG = function() {\r\n  this.element = document.getElementsByTagName(\"svg\")[0];\r\n  this.namespace = \"http://www.w3.org/2000/svg\";\r\n  this.width = 400;\r\n  this.height = 400;\r\n}\r\n\r\n/****Let's initialise our SVG ready to draw our shape****/\r\nvar svg = new SVG();\r\n\r\n/****This sets up the user interface - we've included the script for this as an external library for the codepen****/\r\nvar gui = new dat.GUI();\r\n\r\n/****Here's where the code to create the shape begins!****/\r\nvar Teardrop = function() {\r\n  this.x = svg.width * 0.5;\r\n  this.y = svg.height * 0.1;\r\n  this.width = svg.width * 0.4;\r\n  this.triangleHeight = svg.height * 0.5;\r\n  this.yCP1 = svg.height * 0.2;\r\n  this.yCP2 = svg.height * 0.45;\r\n  this.element = null;\r\n  this.ctrlPoints = [];\r\n  this.anchors = [];\r\n  this.fill = \"none\";\r\n  this.stroke = \"#333\";\r\n  this.strokeWidth = 2;\r\n  this.showCtrlPoints = true;\r\n  this.init();\r\n}\r\n\r\nTeardrop.prototype.init = function() {\r\n  this.element = document.createElementNS(svg.namespace, \"path\");\r\n  svg.element.appendChild(this.element);\r\n  this.element.setAttribute(\"fill\", this.fill);\r\n  this.element.setAttribute(\"stroke\", this.stroke);\r\n  this.element.setAttribute(\"stroke-width\", this.strokeWidth);\r\n\r\n  for (var i = 0; i &lt; 3; i++) {\r\n    this.ctrlPoints.push(document.createElementNS(svg.namespace, \"circle\"));\r\n    svg.element.appendChild(this.ctrlPoints[i]);\r\n\r\n    this.ctrlPoints[i].setAttribute(\"fill\", this.fill);\r\n    this.ctrlPoints[i].setAttribute(\"stroke\", 'red');\r\n    this.ctrlPoints[i].setAttribute(\"stroke-width\", 1);\r\n\r\n\r\n    this.anchors.push(document.createElementNS(svg.namespace, \"line\"));\r\n    svg.element.appendChild(this.anchors[i]);\r\n\r\n    this.anchors[i].setAttribute(\"stroke-width\", 1);\r\n    this.anchors[i].setAttribute(\"stroke\", this.stroke);\r\n    this.anchors[i].setAttribute(\"stroke-dasharray\", \"3,2\");\r\n  }\r\n\r\n  this.draw();\r\n}\r\n\r\nTeardrop.prototype.draw = function() {\r\n  this.radius = this.width / 2;\r\n  path = [\r\n    \"M\", this.x, \",\", this.y,\r\n    \"C\", this.x, \",\", this.yCP1, \" \", this.x + this.width / 2, \",\", this.yCP2, \" \", this.x + this.width / 2, \",\", this.y + this.triangleHeight,\r\n    \"A\", this.radius, \",\", this.radius, \",\", \"0 0,1,\", this.x - this.width / 2, \",\", this.y + this.triangleHeight,\r\n    \"C\", this.x - this.width / 2, \",\", this.yCP2, \" \", this.x, \",\", this.yCP1, \" \", this.x, \",\", this.y\r\n  ];\r\n  this.element.setAttribute(\"d\", path.join(\"\"));\r\n\r\n  cpCoords = [];\r\n  cpCoords[0] = [this.x, this.yCP1];\r\n  cpCoords[1] = [this.x - this.width / 2, this.yCP2];\r\n  cpCoords[2] = [this.x + this.width / 2, this.yCP2];\r\n\r\n  anchorCoords = [];\r\n  anchorCoords[0] = [this.x, this.y];\r\n  anchorCoords[1] = [this.x - this.width / 2, this.y + this.triangleHeight];\r\n  anchorCoords[2] = [this.x + this.width / 2, this.y + this.triangleHeight];\r\n\r\n  for (var i = 0; i &lt; 3; i++) {\r\n    this.ctrlPoints[i].setAttribute(\"cx\", cpCoords[i][0]);\r\n    this.ctrlPoints[i].setAttribute(\"cy\", cpCoords[i][1]);\r\n\r\n    this.anchors[i].setAttribute(\"x1\", cpCoords[i][0]);\r\n    this.anchors[i].setAttribute(\"x2\", anchorCoords[i][0]);\r\n    this.anchors[i].setAttribute(\"y1\", cpCoords[i][1]);\r\n    this.anchors[i].setAttribute(\"y2\", anchorCoords[i][1]);\r\n\r\n    if (this.showCtrlPoints) {\r\n      this.ctrlPoints[i].setAttribute(\"r\", 2);\r\n      this.anchors[i].setAttribute(\"stroke-width\", 1);\r\n    } else {\r\n      this.ctrlPoints[i].setAttribute(\"r\", 0);\r\n      this.anchors[i].setAttribute(\"stroke-width\", 0);\r\n    }\r\n  }\r\n}\r\n\r\nvar teardrop = new Teardrop();\r\n\r\ngui.add(teardrop, 'triangleHeight', 0, svg.height * 0.75);\r\ngui.add(teardrop, 'width', 0, 200);\r\ngui.add(teardrop, 'yCP1', 0, svg.height);\r\ngui.add(teardrop, 'yCP2', 0, svg.height);\r\ngui.add(teardrop, 'showCtrlPoints', 0, svg.height);\r\n\r\nfor (var i in gui.__controllers) {\r\n  gui.__controllers[i].onChange(function() {\r\n    teardrop.draw();\r\n  });\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>html,\r\nbody {\r\n  height: 100%;\r\n}\r\nsvg {\r\n  display: block;\r\n  margin: 0 auto;\r\n  background: url('http://unitedshapes.com/images/graph-paper/graph-paper.png');\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"//cdnjs.cloudflare.com/ajax/libs/dat-gui/0.5/dat.gui.min.js\"&gt;&lt;/script&gt;\r\n&lt;svg width='400px' height='400px'&gt;&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<blockquote>\n  <p><strong>Disclaimer</strong> I did not write the above pen, only sourced it.</p>\n</blockquote>\n\n<hr>\n\n<h1>CSS Version</h1>\n\n<p>Although this is far from complete, you may also be able to generate this shape using CSS.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.tear{\r\n    height:200px;\r\n    width:200px;\r\n    background: linear-gradient(to bottom, rgba(0,0,0,0) 0%,rgba(0,0,0,0) 29%,rgba(0,0,0,1) 30%,rgba(0,0,0,1) 100%);\r\n    border-radius:50%;\r\n    margin:120px;\r\n    position:relative;\r\n}\r\n.tear:before{\r\n    content:\"\";\r\n    position:absolute;\r\n    top:-70%;left:0%;\r\n    height:100%;width:50%;\r\n    background: radial-gradient(ellipse at -50% -50%, rgba(0,0,0,0) 0%,rgba(0,0,0,0) 75%,rgba(0,0,0,1) 76%,rgba(0,0,0,1) 100%);\r\n}\r\n.tear:after{\r\n    content:\"\";\r\n    position:absolute;\r\n    top:-70%;left:50%;\r\n    height:100%;width:50%;\r\n    background: radial-gradient(ellipse at 150% -50%, rgba(0,0,0,0) 0%,rgba(0,0,0,0) 75%,rgba(0,0,0,1) 76%,rgba(0,0,0,1) 100%);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"tear\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<h1>SVG Version</h1>\n\n<p>I should know that SVG should be at the top of this answer, however, I like a challenge and so here is an attempt with SVG.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>svg {\r\n  height: 300px;\r\n}\r\nsvg path {\r\n  fill: tomato;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" viewBox=\"0 0 100 100\"&gt;\r\n\r\n  &lt;path d=\"M49.015,0.803\r\n    c-0.133-1.071-1.896-1.071-2.029,0\r\n    C42.57,36.344,20,43.666,20,68.367   \r\n    C20,83.627,32.816,96,48,96\r\n    s28-12.373,28-27.633\r\n    C76,43.666,53.43,36.344,49.015,0.803z \r\n    M44.751,40.09   \r\n    c-0.297,1.095-0.615,2.223-0.942,3.386\r\n    c-2.007,7.123-4.281,15.195-4.281,24.537\r\n    c0,5.055-2.988,6.854-5.784,6.854   \r\n    c-3.189,0-5.782-2.616-5.782-5.831\r\n    c0-11.034,5.315-18.243,10.005-24.604\r\n    c1.469-1.991,2.855-3.873,3.983-5.749   \r\n    c0.516-0.856,1.903-0.82,2.533,0.029\r\n    C44.781,39.116,44.879,39.619,44.751,40.09z\"/&gt;\r\n\r\n\r\n&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Altering the <code>path</code> values, you would be able to alter the shape of your teardrop design. </p>\n", "title": "How do I create a teardrop in HTML?", "answer_id": 30711437, "link": "http://stackoverflow.com/questions/30711203/how-do-i-create-a-teardrop-in-html/30711437#30711437", "tags": ["html", "css", "css3", "svg", "css-shapes"]}, {"body": "<p>I'd personally use an SVG for this. You can create SVGs in most vector graphics software. I'd recommend:</p>\n\n<ul>\n<li><a href=\"https://inkscape.org/\">Inkscape</a></li>\n<li><a href=\"http://bohemiancoding.com/sketch/\">Sketch</a></li>\n<li>Adobe Illustrator</li>\n</ul>\n\n<p>I have made one below that is a tracing of your shape in Illustrator.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"223.14px\" height=\"319.008px\" viewBox=\"0 0 223.14 319.008\" enable-background=\"new 0 0 223.14 319.008\" xml:space=\"preserve\"&gt;\r\n  &lt;path fill=\"none\" stroke=\"#000000\" stroke-width=\"12\" stroke-miterlimit=\"10\" d=\"M111.57,13.291c0,0,57.179,86.984,72.719,108.819\r\n    \tc30.359,42.66,41.005,114.694,1.626,154.074c-20.464,20.463-47.533,30.293-74.344,29.488h-0.002\r\n    \tc-26.811,0.805-53.88-9.025-74.344-29.488C-2.154,236.804,8.492,164.77,38.851,122.11C54.391,100.275,111.57,13.291,111.57,13.291z\" /&gt;\r\n&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How do I create a teardrop in HTML?", "answer_id": 30711446, "link": "http://stackoverflow.com/questions/30711203/how-do-i-create-a-teardrop-in-html/30711446#30711446", "tags": ["html", "css", "css3", "svg", "css-shapes"]}, {"body": "<p>It is quite easy to do this with SVG by just using an image conversion resource such as <a href=\"http://image.online-convert.com/convert-to-svg\">http://image.online-convert.com/convert-to-svg</a>, which was used to create the following:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" standalone=\"no\"?&gt;\r\n&lt;!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 20010904//EN\"\r\n \"http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd\"&gt;\r\n&lt;svg version=\"1.0\" xmlns=\"http://www.w3.org/2000/svg\"\r\n width=\"213.000000pt\" height=\"300.000000pt\" viewBox=\"0 0 213.000000 300.000000\"\r\n preserveAspectRatio=\"xMidYMid meet\"&gt;\r\n&lt;metadata&gt;\r\nCreated by potrace 1.12, written by Peter Selinger 2001-2015\r\n&lt;/metadata&gt;\r\n&lt;g transform=\"translate(0.000000,300.000000) scale(0.100000,-0.100000)\"\r\nfill=\"#000000\" stroke=\"none\"&gt;\r\n&lt;path d=\"M1035 2944 c-143 -250 -231 -380 -508 -752 -347 -465 -432 -616 -493\r\n-882 -91 -394 10 -753 285 -1013 508 -479 1334 -361 1677 240 126 221 165 494\r\n105 726 -66 254 -178 452 -609 1076 -96 140 -226 335 -288 435 -155 249 -135\r\n229 -169 170z m85 -212 c40 -69 192 -298 543 -818 268 -396 354 -593 364 -835\r\n12 -281 -82 -509 -296 -714 -103 -99 -236 -173 -396 -221 -82 -25 -105 -27\r\n-260 -28 -148 -1 -181 2 -255 22 -348 96 -611 357 -691 689 -41 167 -25 392\r\n41 587 62 185 154 334 444 716 177 235 320 444 402 592 27 49 51 88 54 88 3 0\r\n25 -35 50 -78z\"/&gt;\r\n&lt;/g&gt;\r\n&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How do I create a teardrop in HTML?", "answer_id": 30711460, "link": "http://stackoverflow.com/questions/30711203/how-do-i-create-a-teardrop-in-html/30711460#30711460", "tags": ["html", "css", "css3", "svg", "css-shapes"]}, {"body": "<p>I also found <a href=\"http://codepen.io/thebabydino/pen/wshza\">this</a> on <a href=\"http://codepen.io/\">Codepen</a> made by user <a href=\"http://codepen.io/thebabydino/\">Ana Tudor</a> using CSS and the <code>box-shadow</code> style and parametric equations. Very simple, very little code. And many <a href=\"http://caniuse.com/#feat=css-boxshadow\">browsers</a> support the CSS3 Box-shadow style:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n  background-color: black;\r\n}\r\n.tear {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  margin: -0.125em;\r\n  width: 0.25em;\r\n  height: 0.25em;\r\n  border-radius: 50%;\r\n  box-shadow: 0em -5em red, 0.00118em -4.97592em #ff1800, 0.00937em -4.90393em #ff3000, 0.03125em -4.7847em #ff4800, 0.07283em -4.6194em #ff6000, 0.13915em -4.40961em #ff7800, 0.23408em -4.15735em #ff8f00, 0.36em -3.86505em #ffa700, 0.51777em -3.53553em #ffbf00, 0.70654em -3.17197em gold, 0.92382em -2.77785em #ffef00, 1.16547em -2.35698em #f7ff00, 1.42582em -1.91342em #dfff00, 1.69789em -1.45142em #c7ff00, 1.97361em -0.97545em #afff00, 2.2441em -0.49009em #97ff00, 2.5em 0.0em #80ff00, 2.73182em 0.49009em #68ff00, 2.93032em 0.97545em #50ff00, 3.08681em 1.45142em #38ff00, 3.19358em 1.91342em #20ff00, 3.24414em 2.35698em #08ff00, 3.23352em 2.77785em #00ff10, 3.15851em 3.17197em #00ff28, 3.01777em 3.53553em #00ff40, 2.81196em 3.86505em #00ff58, 2.54377em 4.15735em #00ff70, 2.21783em 4.40961em #00ff87, 1.84059em 4.6194em #00ff9f, 1.42017em 4.7847em #00ffb7, 0.96608em 4.90393em #00ffcf, 0.48891em 4.97592em #00ffe7, 0.0em 5em cyan, -0.48891em 4.97592em #00e7ff, -0.96608em 4.90393em #00cfff, -1.42017em 4.7847em #00b7ff, -1.84059em 4.6194em #009fff, -2.21783em 4.40961em #0087ff, -2.54377em 4.15735em #0070ff, -2.81196em 3.86505em #0058ff, -3.01777em 3.53553em #0040ff, -3.15851em 3.17197em #0028ff, -3.23352em 2.77785em #0010ff, -3.24414em 2.35698em #0800ff, -3.19358em 1.91342em #2000ff, -3.08681em 1.45142em #3800ff, -2.93032em 0.97545em #5000ff, -2.73182em 0.49009em #6800ff, -2.5em 0.0em #7f00ff, -2.2441em -0.49009em #9700ff, -1.97361em -0.97545em #af00ff, -1.69789em -1.45142em #c700ff, -1.42582em -1.91342em #df00ff, -1.16547em -2.35698em #f700ff, -0.92382em -2.77785em #ff00ef, -0.70654em -3.17197em #ff00d7, -0.51777em -3.53553em #ff00bf, -0.36em -3.86505em #ff00a7, -0.23408em -4.15735em #ff008f, -0.13915em -4.40961em #ff0078, -0.07283em -4.6194em #ff0060, -0.03125em -4.7847em #ff0048, -0.00937em -4.90393em #ff0030, -0.00118em -4.97592em #ff0018;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"tear\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How do I create a teardrop in HTML?", "answer_id": 30711533, "link": "http://stackoverflow.com/questions/30711203/how-do-i-create-a-teardrop-in-html/30711533#30711533", "tags": ["html", "css", "css3", "svg", "css-shapes"]}, {"body": "<p>If you do choose to use SVG you should read up on paths. I would also suggest an SVG editor.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:svg=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"100%\" height=\"100%\" viewBox=\"-0.05 0 1195.1 703\" preserveAspectRatio=\"xMidYMid meet\" zoomAndPan=\"disable\" transform=\"\"&gt;\r\n    &lt;defs id=\"svgEditorDefs\"&gt;\r\n        &lt;line id=\"svgEditorLineDefs\" stroke=\"black\" style=\"fill: none; vector-effect: non-scaling-stroke; stroke-width: 1px;\"/&gt;\r\n    &lt;/defs&gt;\r\n    &lt;rect id=\"svgEditorBackground\" x=\"0\" y=\"0\" width=\"1195\" height=\"703\" style=\"fill: none; stroke: none;\"/&gt;\r\n    &lt;path stroke=\"black\" id=\"e1_circleArc\" style=\"fill: none; stroke-width: 1px; vector-effect: non-scaling-stroke;\" d=\"M 198 207 a 117.969 117.969 0 1 0 213 8\" transform=\"\"/&gt;\r\n    &lt;path stroke=\"black\" id=\"e4_circleArc\" style=\"fill: none; stroke-width: 1px; vector-effect: non-scaling-stroke;\" transform=\"\" d=\"M 411.348 215.696 a 349.677 349.677 0 0 0 -110.37 -131.718\"/&gt;\r\n    &lt;path stroke=\"black\" style=\"fill: none; stroke-width: 1px; vector-effect: non-scaling-stroke;\" transform=\"matrix(-0.182706 -0.983168 0.983168 -0.182706 157.664 417.408)\" id=\"e6_circleArc\" d=\"M 301.799 202.299 a 329.763 329.763 0 0 0 -102.951 -124.781\"/&gt;\r\n&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How do I create a teardrop in HTML?", "answer_id": 30711726, "link": "http://stackoverflow.com/questions/30711203/how-do-i-create-a-teardrop-in-html/30711726#30711726", "tags": ["html", "css", "css3", "svg", "css-shapes"]}, {"body": "<h2>SVG approach:</h2>\n\n<p>You can achieve the double curve easily with an <strong>inline SVG</strong> and the <code>&lt;path/&gt;</code> element instead of the <code>&lt;polygon/&gt;</code> element which doesn't allow curved shapes.</p>\n\n<p>The following example uses the <code>&lt;path/&gt;</code> element with:</p>\n\n<ul>\n<li>2 <a href=\"https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Paths#Bezier_Curves\">quadratic bezier curve commands</a> for the 2 top curves (lines beginning with <code>Q</code>)</li>\n<li>1 <a href=\"https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Paths#Arcs\">arc command</a> for the big bottom one (line beginning with <code>A</code>)</li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;svg width=\"30%\" viewbox=\"0 0 30 42\"&gt;\r\n  &lt;path fill=\"transparent\" stroke=\"#000\" stroke-width=\"1.5\"\r\n        d=\"M15 3\r\n           Q16.5 6.8 25 18\r\n           A12.8 12.8 0 1 1 5 18\r\n           Q13.5 6.8 15 3z\" /&gt;\r\n&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>SVG is a great tool to make this kind of shapes with double curves. You can check this <a href=\"http://stackoverflow.com/questions/28986125/double-curved-shape\">post about double curves</a> with an SVG/CSS comparison. Some of the advantages of using SVG in this case are:</p>\n\n<ul>\n<li>Curve control</li>\n<li>Fill control (opacity, color)</li>\n<li>Stroke control (width, opacity, color)</li>\n<li>Amount of code</li>\n<li>Time to build and maintain the shape</li>\n<li>Scalable</li>\n<li>No HTTP request (if used inline like in the example)</li>\n</ul>\n\n<hr>\n\n<p><strong>Browser support</strong> for inline SVG goes back to Internet Explorer 9. See <a href=\"http://caniuse.com/#feat=svg-html5\">canIuse</a> for more information.</p>\n", "title": "How do I create a teardrop in HTML?", "answer_id": 30712432, "link": "http://stackoverflow.com/questions/30711203/how-do-i-create-a-teardrop-in-html/30712432#30712432", "tags": ["html", "css", "css3", "svg", "css-shapes"]}, {"body": "<p>Or if your viewers' font supports it, use the Unicode characters</p>\n\n<h1>DROPLET: \ud83d\udca7 (<code>&amp;#128167;</code>)</h1>\n\n<p>or</p>\n\n<h1>BLACK DROPLET: \ud83c\udf22 (<code>&amp;#127778;</code>)</h1>\n\n<p>Scale accordingly!</p>\n", "title": "How do I create a teardrop in HTML?", "answer_id": 30716604, "link": "http://stackoverflow.com/questions/30711203/how-do-i-create-a-teardrop-in-html/30716604#30716604", "tags": ["html", "css", "css3", "svg", "css-shapes"]}, {"body": "<p>IMO this shape requires <strong>smooth curve-to</strong> beziers to ensure continuity of the curve.</p>\n\n<h2>The Drop in question :</h2>\n\n<p>For the drop in question, </p>\n\n<ul>\n<li>smooth curves can't be used, as control points wont be of same length. But we still need to make the control points lie exactly opposite (180 deg) to the previous control points, <strong>to ensure full continuity of curve</strong> The picture given below illustrates this point :</li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/37Xqa.png\" alt=\"enter image description here\"><br>\n<strong>Note</strong>: Red and blue curves are two different quadratic curves.</p>\n\n<ul>\n<li><p><code>stroke-linejoin=\"miter\"</code>, for the pointed top part.</p></li>\n<li><p>AS this shape only uses successive <strong><code>c</code></strong> commands, we can omit it.</p></li>\n</ul>\n\n<p><strong>Here's the final snippet:</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;svg height=\"300px\" width=\"300px\" viewBox=\"0 0 12 16\"&gt;\r\n  &lt;path fill=\"#FFF\" stroke=\"black\" stroke-width=\"0.5\" stroke-linejoin=\"miter\" \r\n        d=\"M 6 1 c -2 3 -5 5 -5 9\r\n           0 7 10 7 10 0 \r\n           0 -4 -3 -6 -5 -9z\" /&gt;\r\n&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>TBH though</strong>, accepted answer's curves are not quite continuous.</p>\n\n<hr />\n\n<h2>For IE 5-8 (VML)</h2>\n\n<p>Only works in IE 5-8. <strong>VML</strong> uses different commands than <strong>SVG</strong>. Eg. it uses <strong>v for relative cubic beziers</strong>.</p>\n\n<p><strong>Note:</strong> This snippet won't run in IE 5-8 too. You need to create an html file and run it directly in the browser.</p>\n\n<pre><code>&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\"&gt;\n&lt;html xmlns:v=\"urn:schemas-microsoft-com:vml\"&gt;\n&lt;head&gt;\n    &lt;style&gt; v\\:* { behavior: url(#default#VML); }\n\n    &lt;/style &gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div style=\"width:240; height:320;\"&gt;\n        &lt;v:shape coordorigin=\"0 0\" coordsize=\"12 16\" fillcolor=\"white\" strokecolor=\"black\" strokewidth=\"1\"\n            strokeweight=\"5\" style=\"width:240; height:320\" \n            path=\"M 6 1 v -2 3 -5 5 -5 9\n           0 7 10 7 10 0 \n           0 -4 -3 -6 -5 -9 x e\"&gt;\n        &lt;/v:shape&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n", "title": "How do I create a teardrop in HTML?", "answer_id": 30723637, "link": "http://stackoverflow.com/questions/30711203/how-do-i-create-a-teardrop-in-html/30723637#30723637", "tags": ["html", "css", "css3", "svg", "css-shapes"]}, {"body": "<h2>HTML Canvas</h2>\n\n<p>This is an option uncovered in this thread so far. The commands used for Canvas drawings are very similar to SVG (and web-tiki deserves the credits for the base idea used in this answer). </p>\n\n<p>The shape in question can be created either using canvas' own curve commands (Quadratic or Bezier) or the Path API. The answer contains examples for all three methods.</p>\n\n<p>The browser support for Canvas is <a href=\"http://caniuse.com/#search=canvas\" rel=\"nofollow\">quite good</a>.</p>\n\n<hr>\n\n<h3>Using Quadratic Curves</h3>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>window.onload = function() {\r\n  var canvas = document.getElementById('canvas');\r\n  if (canvas.getContext) {\r\n    var ctx = canvas.getContext('2d');\r\n\r\n    ctx.beginPath();\r\n    ctx.lineJoin = 'miter';\r\n    ctx.moveTo(120, 20);\r\n    ctx.quadraticCurveTo(117.5, 30, 148, 68);\r\n    ctx.arc(120, 88, 34.5, 5.75, 3.66, false);\r\n    ctx.quadraticCurveTo(117.5, 35, 120, 20);\r\n    ctx.closePath();\r\n    ctx.strokeStyle = '#000';\r\n    ctx.lineWidth = 2;\r\n    ctx.fillStyle = '#77CCEE'\r\n    ctx.stroke();\r\n    ctx.fill();\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>canvas {\r\n  margin: 50px;\r\n  height: 100px;\r\n  width: 200px;\r\n  transform: scale(1.5);\r\n}\r\n\r\nbody{\r\n  background-image: radial-gradient(circle, #3F9CBA 0%, #153346 100%);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id='canvas'&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Below is an <strong>advanced version</strong> with gradient fill and shadows. I have also included a <code>hover</code> effect on the shape to illustrate one drawback of Canvas when compared to SVG. Canvas is raster (pixel) based and hence would look blurred/pixelated when scaled beyond a certain point. The only solution to that would be to repaint the shape on every browser resize which is an overhead.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>window.onload = function() {\r\n  var canvas = document.getElementById('canvas');\r\n  if (canvas.getContext) {\r\n    var ctx = canvas.getContext('2d');\r\n    var lineargradient = ctx.createRadialGradient(135, 95, 1, 135, 95, 10);\r\n    lineargradient.addColorStop(0, 'white');\r\n    lineargradient.addColorStop(1, '#77CCEE');      \r\n    ctx.beginPath();\r\n    ctx.lineJoin = 'miter';\r\n    ctx.moveTo(120, 20);\r\n    ctx.quadraticCurveTo(117.5, 30, 148, 68);\r\n    ctx.arc(120, 88, 34.5, 5.75, 3.66, false);\r\n    ctx.quadraticCurveTo(117.5, 35, 120, 20);\r\n    ctx.closePath();\r\n    ctx.strokeStyle = '#333';\r\n    ctx.lineWidth = 3;\r\n    ctx.fillStyle = lineargradient;\r\n    ctx.shadowOffsetX = 2;\r\n    ctx.shadowOffsetY = 2;\r\n    ctx.shadowBlur = 2;\r\n    ctx.shadowColor = \"rgba(50, 50, 50, 0.5)\";      \r\n    ctx.stroke();\r\n    ctx.fill();\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>canvas {\r\n  margin: 50px;\r\n  height: 100px;\r\n  width: 200px;\r\n  transform: scale(1.5);\r\n}\r\n\r\n\r\n/* Just for demo */\r\n\r\nbody{\r\n  background-image: radial-gradient(circle, #3F9CBA 0%, #153346 100%);\r\n}\r\n\r\ncanvas{\r\n  transition: all 1s;\r\n}\r\n\r\ncanvas:hover{\r\n  transform: scale(2);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id='canvas'&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<hr>\n\n<h3>Using Bezier Curves</h3>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>window.onload = function() {\r\n  var canvas = document.getElementById('canvas');\r\n  if (canvas.getContext) {\r\n    var ctx = canvas.getContext('2d');\r\n    var lineargradient = ctx.createRadialGradient(135, 95, 1, 135, 95, 10);\r\n    lineargradient.addColorStop(0, 'white');\r\n    lineargradient.addColorStop(1, '#77CCEE');\r\n    ctx.beginPath();\r\n    ctx.lineJoin = 'miter';\r\n    ctx.arc(120, 88, 35, 5.74, 3.66, false);\r\n    ctx.bezierCurveTo(100, 55, 122, 27.5, 120, 20);\r\n    ctx.bezierCurveTo(122, 27.5, 121, 31.5, 150, 70);\r\n    ctx.closePath();\r\n    ctx.strokeStyle = 'rgba(109,195,250,0.2)';\r\n    ctx.lineWidth = 1;\r\n    ctx.fillStyle = lineargradient;\r\n    ctx.shadowOffsetX = 2;\r\n    ctx.shadowOffsetY = 2;\r\n    ctx.shadowBlur = 2;\r\n    ctx.shadowColor = \"rgba(50, 50, 50, 0.5)\";\r\n    ctx.stroke();\r\n    ctx.fill();\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>canvas {\r\n  margin: 75px;\r\n  height: 300px;\r\n  width: 300px;\r\n  transform: scale(1.5);\r\n}\r\nbody {\r\n  background-image: radial-gradient(circle, #3F9CBA 0%, #153346 100%);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id='canvas' height='300' width='300'&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<h3>Using Path API</h3>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>window.onload = function() {\r\n  var canvas = document.getElementById('canvas');\r\n  if (canvas.getContext) {\r\n    var ctx = canvas.getContext('2d');\r\n\r\n    ctx.lineJoin = 'miter';\r\n    var p = new Path2D(\"M120 20 Q117.5 30 146 68 A34 34 0 1 1 92 68 Q117.5 35 120 20z\");\r\n    ctx.strokeStyle = '#000';\r\n    ctx.lineWidth = 2;\r\n    ctx.fillStyle = '#77CCEE'\r\n    ctx.stroke(p);\r\n    ctx.fill(p);\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>canvas {\r\n  margin: 50px;\r\n  height: 100px;\r\n  width: 200px;\r\n  transform: scale(1.5);\r\n}\r\n\r\nbody {\r\n  background-image: radial-gradient(circle, #3F9CBA 0%, #153346 100%);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id='canvas'&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><sup><strong>Note:</strong> As mentioned in my answere <a href=\"http://stackoverflow.com/questions/9458239/draw-path-in-canvas-with-svg-path-data-svg-paths-to-canvas-paths/30830108#30830108\">here</a>, the Path API is not yet supported by IE and Safari.</sup></p>\n\n<hr>\n\n<p><strong>Further reading:</strong></p>\n\n<ul>\n<li><a href=\"http://www.sitepoint.com/7-reasons-to-consider-svgs-instead-of-canvas/\" rel=\"nofollow\">7 Reasons to Consider SVGs Instead of Canvas</a></li>\n<li><a href=\"http://www.htmlgoodies.com/html5/other/html5-canvas-vs.-svg-choose-the-best-tool-for-the-job.html\" rel=\"nofollow\">HTML5 Canvas vs. SVG: Choose the Best Tool for the Job</a></li>\n<li><a href=\"http://stackoverflow.com/questions/4996374/what-is-the-difference-between-svg-and-html5-canvas\">What is the difference between SVG and HTML5 Canvas?</a></li>\n</ul>\n", "title": "How do I create a teardrop in HTML?", "answer_id": 30749323, "link": "http://stackoverflow.com/questions/30711203/how-do-i-create-a-teardrop-in-html/30749323#30749323", "tags": ["html", "css", "css3", "svg", "css-shapes"]}, {"body": "<h2>CSS Version</h2>\n\n<p>As there are a fair few answers here I thought why not add to it with another method. This is using both <strong>HTML</strong> and <strong>CSS</strong> to create the teardrop.</p>\n\n<p>This will allow you to change the colour of the border and background of the teardrop and also re-size the top part of it.</p>\n\n<p>Using a single <code>div</code> we can create a circle with <code>border</code> and <code>border-radius</code>. Then using pseudo elements (<code>:before</code> &amp; <code>:after</code>) we create a <a href=\"http://codepen.io/chriscoyier/pen/lotjh\" rel=\"nofollow\">CSS triangle</a> <sup><a href=\"https://css-tricks.com/snippets/css/css-triangle/\" rel=\"nofollow\">more here</a></sup>, this will act as the tip of the teardrop. Using the <code>:before</code> as the border we place <code>:after</code> on top with a smaller size and the desired background colour.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>div {\r\n  width: 100px;\r\n  height: 100px;\r\n  border-radius: 50%;\r\n  border: 4px solid;\r\n  margin: 80px auto;\r\n  position: relative;\r\n}\r\ndiv:before,\r\ndiv:after {\r\n  content: \"\";\r\n  display: block;\r\n  position: absolute;\r\n  width: 0;\r\n  height: 0;\r\n}\r\ndiv:before {\r\n  border-left: 50px solid transparent;\r\n  border-right: 50px solid transparent;\r\n  border-bottom: 104px solid black;\r\n  top: -75px;\r\n}\r\ndiv:after {\r\n  border-left: 46px solid transparent;\r\n  border-right: 46px solid transparent;\r\n  border-bottom: 96px solid #fff;\r\n  top: -66px;\r\n  left: 0;\r\n  right: 0;\r\n  margin: auto;\r\n  z-index: 1;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<hr>\n\n<p>Here is a demo of the teardrop with a background colour</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>div {\r\n  width: 100px;\r\n  height: 100px;\r\n  border-radius: 50%;\r\n  border: 4px solid;\r\n  background: red;\r\n  margin: 80px;\r\n  position: relative;\r\n}\r\ndiv:before,\r\ndiv:after {\r\n  content: \"\";\r\n  display: block;\r\n  position: absolute;\r\n  width: 0;\r\n  height: 0;\r\n}\r\ndiv:before {\r\n  border-left: 50px solid transparent;\r\n  border-right: 50px solid transparent;\r\n  border-bottom: 100px solid black;\r\n  top: -70px;\r\n}\r\ndiv:after {\r\n  border-left: 46px solid transparent;\r\n  border-right: 46px solid transparent;\r\n  border-bottom: 96px solid red;\r\n  top: -66px;\r\n  left: 0;\r\n  right: 0;\r\n  margin: auto;\r\n  z-index: 1;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>It is as simple as putting a background colour onto the <code>div</code> and changing <code>:after</code> <code>bottom-border</code> colour to the same. To change the border you will need to change <code>div</code> border colour and <code>:before</code> background colour too. </p>\n", "title": "How do I create a teardrop in HTML?", "answer_id": 30750542, "link": "http://stackoverflow.com/questions/30711203/how-do-i-create-a-teardrop-in-html/30750542#30750542", "tags": ["html", "css", "css3", "svg", "css-shapes"]}], "question_id": 30711203}, {"body": "<p>I want to have a web page which has one centered word. </p>\n\n<p>I want this word to be drawn with an animation, such that the page \"writes\" the word out the same way that we would, i.e. it starts at one point and draws lines and curves over time such that the end result is a glyph. </p>\n\n<p>I do not care if this is done with <code>&lt;canvas&gt;</code> or the DOM, and I don't care whether it's done with JavaScript or CSS. The absence of jQuery would be nice, but not required.</p>\n\n<p>How can I do this? I've searched <em>exhaustively</em> with no luck.</p>\n", "title": "How can I animate the drawing of text on a web page?", "tags": ["javascript", "css", "canvas", "html5-canvas", "css-shapes"], "answer_count": 2, "link": "http://stackoverflow.com/questions/29911143/how-can-i-animate-the-drawing-of-text-on-a-web-page", "answers": [{"body": "<p>You can do something like this using svg's <code>stroke-dasharray</code> </p>\n\n<p><strong>EDIT</strong> The new hottie </p>\n\n<p>This can also be done by wrapping each letter with a tspan element manually</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var s = Snap('svg');\r\nvar text = 'Some Long Texts'\r\nvar len = text.length;\r\nvar array = [];\r\nfor (var x = 0; x &lt; len; x++) {\r\n  var t = text[x]\r\n  array.push(t);\r\n}\r\nvar txt = s.text(50, 50, array)\r\n$('tspan').css({\r\n  'font-size': 50,\r\n  fill: 'none',\r\n  stroke: 'red',\r\n  'stroke-dasharray': 300,\r\n  'stroke-dashoffset': 300\r\n})\r\n\r\n$('tspan').each(function(index) {\r\n  $(this).stop(true, true).delay(800 * index).animate({\r\n    'stroke-dashoffset': 0,\r\n  }, 800, function() {\r\n    $(this).css('fill', 'red')\r\n  })\r\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/snap.svg/0.3.0/snap.svg-min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;svg width=\"500\" height=\"500\"&gt;\r\n&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>text {\r\n  stroke-dasharray: 1000;\r\n  stroke-dashoffset: 1000;\r\n  -webkit-animation: draw 8s forwards;\r\n}\r\n@-webkit-keyframes draw {\r\n  100% {\r\n    stroke-dashoffset: 0;\r\n  }\r\n}\r\ntext {\r\n  stroke-dasharray: 1000;\r\n  stroke-dashoffset: 1000;\r\n  -webkit-animation: draw 8s forwards;\r\n  -moz-animation: draw 8s forwards;\r\n  -o-animation: draw 8s forwards;\r\n  -ms-animation: draw 8s forwards;\r\n  animation: draw 8s forwards;\r\n}\r\n@-webkit-keyframes draw {\r\n  100% {\r\n    stroke-dashoffset: 0;\r\n  }\r\n}\r\n@-moz-keyframes draw {\r\n  100% {\r\n    stroke-dashoffset: 0;\r\n  }\r\n}\r\n@-o-keyframes draw {\r\n  100% {\r\n    stroke-dashoffset: 0;\r\n  }\r\n}\r\n@-ms-keyframes draw {\r\n  100% {\r\n    stroke-dashoffset: 0;\r\n  }\r\n}\r\n@keyframes draw {\r\n  100% {\r\n    stroke-dashoffset: 0;\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;svg width=\"500\" height=\"500\"&gt;\r\n  &lt;text x=\"100\" y=\"80\" fill=\"none\" stroke=\"black\" stroke-width=\"1\" font-size=\"50\"&gt;Some text&lt;/text&gt;\r\n&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Without <code>keyframes</code> animation you can do something like this</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;svg width=\"500\" height=\"500\"&gt;\r\n  &lt;text x=\"100\" y=\"80\" fill=\"none\" stroke=\"black\" stroke-width=\"5\" font-size=\"50\"  stroke-dasharray=\"1000\"\r\n  stroke-dashoffset=\"1000\"&gt;Some text\r\n  &lt;animate attributeName=\"stroke-dashoffset\"\r\n    from=\"1000\"\r\n    to=\"0\" \r\n    dur=\"8s\"\r\n      fill=\"freeze\"&gt;\r\n          \r\n      &lt;/animate&gt; &lt;/text&gt;\r\n&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And for IE support you can use jquery/javascript </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('text').animate({\r\n    'stroke-dashoffset':'0'\r\n},8000)</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>text {\r\n  stroke-dasharray: 1000;\r\n  stroke-dashoffset: 1000;\r\n  }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;svg width=\"500\" height=\"500\"&gt;\r\n  &lt;text x=\"100\" y=\"80\" fill=\"none\" stroke=\"black\" stroke-width=\"1\" font-size=\"50\" \r\n &gt;Some text\r\n  &lt;/text&gt;\r\n&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How can I animate the drawing of text on a web page?", "answer_id": 29911203, "link": "http://stackoverflow.com/questions/29911143/how-can-i-animate-the-drawing-of-text-on-a-web-page/29911203#29911203", "tags": ["javascript", "css", "canvas", "html5-canvas", "css-shapes"]}, {"body": "<blockquote>\n  <p>I want this word to be drawn with an animation, such that the page\n  \"writes\" the word out the same way that we would</p>\n</blockquote>\n\n<h2>Canvas version</h2>\n\n<p>This will draw single chars more like one would write by hand. It uses a long dash-pattern where the on/off order is swapped over time per char. It also has a speed parameter.</p>\n\n<p><img src=\"http://i.stack.imgur.com/XWQe1.gif\" alt=\"Snapshot\"><br>\n<sup><em>Example animation (see demo below)</em></sup></p>\n\n<p>To increase realism and the organic feel, I added random letter-spacing, an y delta offset, transparency, a very subtle rotation and finally using an already \"handwritten\" font. These can be wrapped up as dynamic parameters to provide a broad range of \"writing styles\".</p>\n\n<p>For a even more realistic look the path data would be required which it isn't by default. But this is a short and efficient piece of code which approximates hand-written behavior, and easy to implement.</p>\n\n<h2>How it works</h2>\n\n<p>By defining a dash pattern we can create marching ants, dotted lines and so forth. Taking advantage of this by defining a very long dot for the \"off\" dot and gradually increase the \"on\" dot, it will give the illusion of drawing the line on when stroked while animating the dot length. </p>\n\n<p>Since the off dot is so long the repeating pattern won't be visible (the length will vary with the size and characteristics of the typeface being used). The path of the letter will have a length so we need to make sure we are having each dot at least covering this length.</p>\n\n<p>For letters that consists of more than one path (f.ex. O, R, P etc.) as one is for the outline, one is for the hollow part, the lines will appear to be drawn simultaneously. We can't do much about that with this technique as it would require access to each path segment to be stroked separately.</p>\n\n<h2>Compatibility</h2>\n\n<p>For browsers that don't support the canvas element an alternative way to show the text can be placed between the tags, for example a styled text:</p>\n\n<pre><code>&lt;canvas ...&gt;\n    &lt;div class=\"txtStyle\"&gt;STROKE-ON CANVAS&lt;/div&gt;\n&lt;/canvas&gt;\n</code></pre>\n\n<h2>Demo</h2>\n\n<p>This produces the live animated stroke-on (<strong>no dependencies</strong>) -</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var ctx = document.querySelector(\"canvas\").getContext(\"2d\"),\r\n    dashLen = 220, dashOffset = dashLen, speed = 5,\r\n    txt = \"STROKE-ON CANVAS\", x = 30, i = 0;\r\n\r\nctx.font = \"50px Comic Sans MS, cursive, TSCu_Comic, sans-serif\"; \r\nctx.lineWidth = 5; ctx.lineJoin = \"round\"; ctx.globalAlpha = 2/3;\r\nctx.strokeStyle = ctx.fillStyle = \"#1f2f90\";\r\n\r\n(function loop() {\r\n  ctx.clearRect(x, 0, 60, 150);\r\n  ctx.setLineDash([dashLen - dashOffset, dashOffset - speed]); // create a long dash mask\r\n  dashOffset -= speed;                                         // reduce dash length\r\n  ctx.strokeText(txt[i], x, 90);                               // stroke letter\r\n\r\n  if (dashOffset &gt; 0) requestAnimationFrame(loop);             // animate\r\n  else {\r\n    ctx.fillText(txt[i], x, 90);                               // fill final letter\r\n    dashOffset = dashLen;                                      // prep next char\r\n    x += ctx.measureText(txt[i++]).width + ctx.lineWidth * Math.random();\r\n    ctx.setTransform(1, 0, 0, 1, 0, 3 * Math.random());        // random y-delta\r\n    ctx.rotate(Math.random() * 0.005);                         // random rotation\r\n    if (i &lt; txt.length) requestAnimationFrame(loop);\r\n  }\r\n})();</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>canvas {background:url(http://i.imgur.com/5RIXWIE.png)}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas width=630&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How can I animate the drawing of text on a web page?", "answer_id": 29912925, "link": "http://stackoverflow.com/questions/29911143/how-can-i-animate-the-drawing-of-text-on-a-web-page/29912925#29912925", "tags": ["javascript", "css", "canvas", "html5-canvas", "css-shapes"]}], "question_id": 29911143}, {"body": "<p>I used Xcode 6.1.1 to upload a new version of a prerelease app to iTunes Connect so I could distribute it to my external beta testers. I've done this with two versions of the same app previously and it worked fine.</p>\n\n<p>But this time, the upload was stuck in \"Processing\" state for over a week. I tried again (same version, new build number) and it's now been over 24 hours with no change.</p>\n\n<p>The app passed validation fine.</p>\n\n<p>What gives?</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "tags": ["ios", "xcode6", "itunesconnect", "testflight"], "answer_count": 28, "link": "http://stackoverflow.com/questions/27928471/my-prerelease-app-has-been-processing-for-over-a-week-in-itunes-connect-what", "answers": [{"body": "<p>Go to \"Resources &amp; Help\" in iTunes Connect. Select \"Contact Us\" and follow the wizard. I don't think anyone other than Apple can answer this. And this is what we have done in a similar situation in the past.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 27928539, "link": "http://stackoverflow.com/questions/27928471/my-prerelease-app-has-been-processing-for-over-a-week-in-itunes-connect-what/27928539#27928539", "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>We had a similar issue. Uploaded builds were queueing up and it simply said \"Processing\" with the popup help, \u201cAfter builds are uploaded they will go through a processing state before they can be used.\u201d Days passed.</p>\n\n<p>Selecting \"Internal Testers,\" making a change, and saving seemed to immediately clear the queue: The latest build was now active and available for testing. I've done this twice with two different apps now.</p>\n\n<p><strong>Update:</strong> At this point, all bets are off. It seems \"processing\" happens when Apple quietly upgrades iTunes Connect and there's nothing you can do about it.</p>\n\n<p>On September 23, 2015 iTunes Connect didn't accept any uploads for nearly 24 hours. The \"Internal Testers\" trick didn't work. <strong>Eventually bumping the version number (to avoid \"duplicate binary\" error) and re-submitting worked.</strong> </p>\n\n<p>The next day, Surprise! iTunes Connect was completely changed. I guess we were all looking at a dead site while they brought up the new version in the background :(</p>\n\n<p>In our case we can still see dozens of \"failed\" uploads still sitting in the \"processing\" state. Oh well.</p>\n\n<p>Some people report using <a href=\"https://itunesconnect.apple.com/apploader/ApplicationLoader_3.1.dmg\" rel=\"nofollow\">Application Loader</a> works better than Xcode for submitting builds to iTunes Connect. You can find it inside Xcode now, under the Xcode menu \"Open Developer Tool\" item.</p>\n\n<p>Sometimes this works. Sometimes it doesn't. Your milage may vary \u00af\\_(\u30c4)_/\u00af </p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 29013502, "link": "http://stackoverflow.com/questions/27928471/my-prerelease-app-has-been-processing-for-over-a-week-in-itunes-connect-what/29013502#29013502", "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>I had the same issue. I tried making changes to \"Internal Testers.\" No effect. I uploaded a new build using the Application Loader. Once the upload completed, the previous build changed from \"Processing\" to being available.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 31166629, "link": "http://stackoverflow.com/questions/27928471/my-prerelease-app-has-been-processing-for-over-a-week-in-itunes-connect-what/31166629#31166629", "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>I tried changing the Internal Testers option, tried changing other items on the app details page, and tried uploading several new binaries (with the same code, only changing the build number) over a 2-day period to no effect. I also contacted Apple through the iTunes Connect support link; they replied in less than 24 hours, but only to ask for more info (most of which I had already provided).</p>\n\n<p>Finally, the fifth build I uploaded, two days later, went through in the normal few minutes and I was finally able to submit my app for review.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 31522092, "link": "http://stackoverflow.com/questions/27928471/my-prerelease-app-has-been-processing-for-over-a-week-in-itunes-connect-what/31522092#31522092", "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>The reason for that is that your build is missing something that apple servers is unable to determine.</p>\n\n<p>to solve this, make sure you have included all possible configuration needed for your app, and make sure you have added at least one of the launch images for every possible resolution, that was my case, I add an launch image for every device and did works.</p>\n\n<p>so, carefully check if you project is missing one of those settings or an image, and try.\nthanks</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 31574175, "link": "http://stackoverflow.com/questions/27928471/my-prerelease-app-has-been-processing-for-over-a-week-in-itunes-connect-what/31574175#31574175", "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>I have been having this same problem for a few days and many uploads, seemed to work when I logged out of apple developer portal on my PC (which I use instead of my Mac to view the portal) upload the new version via my Mac and log into the developer portal on the Mac I was using to upload the ipa, seemed to work straight away after that, guess apple just really hates Windows or being logged in from a different computer is a problem.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 31584029, "link": "http://stackoverflow.com/questions/27928471/my-prerelease-app-has-been-processing-for-over-a-week-in-itunes-connect-what/31584029#31584029", "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>The solution (as suggested by Apple Support in their response to a request for assistance) is to upload a new binary. I did this via XCode (same revision 1.4, but incremented the Build number from 1 to 2) and it processed almost immediately.</p>\n\n<p>If you get stuck in \"Processing\" purgatory, increment the Build number in XCode, Archive and Submit to the App Store again. If it doesn't process within 15 minutes, try again.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 31867981, "link": "http://stackoverflow.com/questions/27928471/my-prerelease-app-has-been-processing-for-over-a-week-in-itunes-connect-what/31867981#31867981", "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>Had the same problem using XCode 7 betta-5. Fixed by unchecking \"Include bitcode\" checkbox during archive uploading:</p>\n\n<p><a href=\"http://i.stack.imgur.com/z7HVm.png\"><img src=\"http://i.stack.imgur.com/z7HVm.png\" alt=\"enter image description here\"></a></p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 32166626, "link": "http://stackoverflow.com/questions/27928471/my-prerelease-app-has-been-processing-for-over-a-week-in-itunes-connect-what/32166626#32166626", "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>I was facing this issue. It solved when I logged in into iTunes Connect in Chrome browser than Safari. My app was in processed state already.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 32623432, "link": "http://stackoverflow.com/questions/27928471/my-prerelease-app-has-been-processing-for-over-a-week-in-itunes-connect-what/32623432#32623432", "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>Cocoapods (<code>0.39.0.beta.4</code>) was the issue for me so I moved to Carthage.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 32640427, "link": "http://stackoverflow.com/questions/27928471/my-prerelease-app-has-been-processing-for-over-a-week-in-itunes-connect-what/32640427#32640427", "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>I also had this issue - However it was for a completely different reason then any I have seen online. I realized that my app did not have the proper iOS Provisioning profile associated for app store release. I simply changed the build number, validated and resubmitted. Within 15 minutes, the new version was ready to be added as a current build. The previous two versions I tried to upload are both still processing.</p>\n\n<p>I am not sure why Apple does not tell you that there is an incorrect provisioning profile for the build to be uploaded, but this was my cure!</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 32706448, "link": "http://stackoverflow.com/questions/27928471/my-prerelease-app-has-been-processing-for-over-a-week-in-itunes-connect-what/32706448#32706448", "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>I had a similar issue.</p>\n\n<p>Yesterday, I submitted an app build (1.03) using Xcode, it was around 6 PM and this morning it was still \"Processing\", in fact it is still \"Processing\".</p>\n\n<p>This morning around 10:30 AM I submitted a second build (1.04) using Xcode but that one also took too much time to change its status, so I submitted a third build (1.05) using Application Loader around noon, application loader gave me a warning about the app being too large to validate its API usage (the build is around 12.5 MB), it was just a warning so I submitted it and I'm still waiting to for it to change status (2:16 PM).</p>\n\n<p>Of course, each time I bumped up the Build number. All the builds had Enable Bitcode set to NO.</p>\n\n<p><strong>UPDATE (1:52 PM):</strong></p>\n\n<p>The second build (1.0.4) just became available for TestFlight.</p>\n\n<p><strong>UPDATE (4:43 PM):</strong></p>\n\n<p>The third build (1.0.5), the one submitted with Application Loader just became available for TestFlight.</p>\n\n<p>My conclusion is that their servers are slower than before... maybe the volume of apps that are being processed has increased and the load of their systems is higher because there are new things to check for (bitcode, watch os stuff, etc).</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 32723581, "link": "http://stackoverflow.com/questions/27928471/my-prerelease-app-has-been-processing-for-over-a-week-in-itunes-connect-what/32723581#32723581", "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>Uploading the build with the Application Loader did the trick for me. If your current build is stuck in Processing, just create a new one with an incremented build number, and submit it via the Application Loader.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 32740614, "link": "http://stackoverflow.com/questions/27928471/my-prerelease-app-has-been-processing-for-over-a-week-in-itunes-connect-what/32740614#32740614", "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>There is another question which duplicates this one. I posted an answer how I solved this problem. Maybe it helps someone else too:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/32745568/anyone-elses-build-for-itunes-connect-taking-longer-times-to-process/32746175#32746175\">Anyone else&#39;s build for iTunes Connect taking longer times to process?</a></p>\n\n<p>In a nutshell: Build and upload with XCode 6.4 instead of XCode 7.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 32746467, "link": "http://stackoverflow.com/questions/27928471/my-prerelease-app-has-been-processing-for-over-a-week-in-itunes-connect-what/32746467#32746467", "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>I ran into this issue yesterday. I submitted multiple builds with a variety of different settings. What finally worked for me was <strong>submitting through Application Loader with no bitcode</strong>.</p>\n\n<p>I hope this helps someone avoid the headache I went through. Its been 24 hours and the apps submitted through Xcode are all still \"processing\", the one submitted through Application Loader was available within an hour or so.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 32751933, "link": "http://stackoverflow.com/questions/27928471/my-prerelease-app-has-been-processing-for-over-a-week-in-itunes-connect-what/32751933#32751933", "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>If you run into this issue now, it's an Apple issue. They are releasing a new version of iTunesConnect. A bunch of my builds had been getting stuck in Processing these past few days. Today, they were getting stuck on Uploaded. Multiple phone calls and different answers later, the new site was <em>just</em> released and my builds are showing as Processing or available for submission. Though, they all have a yellow warning icon next to them. Not sure what that is.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 32769980, "link": "http://stackoverflow.com/questions/27928471/my-prerelease-app-has-been-processing-for-over-a-week-in-itunes-connect-what/32769980#32769980", "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>I faced same issue, I uploaded ipa via Xcode7 and it get stuck for 48hrs.\nNumber of times I mail to apple support but it won't work\nso I uploaded ipa multiple times, but no use\nthen I made change in version number e.g. 2.2(33) to 2.3(1)\nand it works for me. So try at your side may be this will help you.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 32787759, "link": "http://stackoverflow.com/questions/27928471/my-prerelease-app-has-been-processing-for-over-a-week-in-itunes-connect-what/32787759#32787759", "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>OSX: Disabling include app symbols to symbolicate crash report did the trick for me. I will store the dsym and symbolicate manually rather then waiting for them to solve their \"NEW\" itunesconnect release.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 32874594, "link": "http://stackoverflow.com/questions/27928471/my-prerelease-app-has-been-processing-for-over-a-week-in-itunes-connect-what/32874594#32874594", "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>Actually it is the issue related to the app store. I have upload many build some time it takes time depend upon the size of the ipa and at which time you are uploading it to the App Store. Please use <a href=\"https://itunespartner.apple.com/en/apps/tools\" rel=\"nofollow\" title=\"Application Loader 3.0\">Application Loader 3.0</a> or higher to upload the build.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 32962699, "link": "http://stackoverflow.com/questions/27928471/my-prerelease-app-has-been-processing-for-over-a-week-in-itunes-connect-what/32962699#32962699", "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>I submitted a new version of my app via Xcode 7.1 successfully. Then noticed the build was stuck in \"Processing\" longer than usual.</p>\n\n<p>I followed Scotch's suggestion by increasing the build number, while keeping the same version, and submitted again from Xcode. This time the new build became available for testing within 5 minutes.</p>\n\n<p>I was then able to select that build and clicked on Start testing. My internal testers received the notification emails and were able to test the new version via the Testflight app.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 33413751, "link": "http://stackoverflow.com/questions/27928471/my-prerelease-app-has-been-processing-for-over-a-week-in-itunes-connect-what/33413751#33413751", "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>Solution is Wait for some hours Approximately 24 Hours. Your issue will be fixed at once.\nApple is having bad times now a days. I hope they will soon fix everything</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 33530851, "link": "http://stackoverflow.com/questions/27928471/my-prerelease-app-has-been-processing-for-over-a-week-in-itunes-connect-what/33530851#33530851", "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>I know its a bit late for answer but this is the first link appearing in google, and none of the above solutions were working for me. </p>\n\n<p>I was having the same problem i.e after uploading build from application loader it stuck in processing. This happened many times, after hours of head banging I found that as soon as I close the application loader on my Mac, build status was changed :)</p>\n\n<p>I hope this answer will help many.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 33795584, "link": "http://stackoverflow.com/questions/27928471/my-prerelease-app-has-been-processing-for-over-a-week-in-itunes-connect-what/33795584#33795584", "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>I have a theory on this bug, which happened to me a few times as well.</p>\n\n<p>What I think happens: if you are logged into iTunesConnect, then the web page will query the database for available builds. This querying could possibly interfere with the creation of new builds.</p>\n\n<p>What I did was:\nLog off from iTunesConnect on all your web browsers.\nIncrease the build nr in Xcode, make an Archive, and upload it.</p>\n\n<p>Then: resist the temptations to log into iTunesConnect to check on the status. Wait at least an hr before logging on.</p>\n\n<p>When I did finally log on to iTunesConnect, I found my binaries sitting there, and waiting for me.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 34168299, "link": "http://stackoverflow.com/questions/27928471/my-prerelease-app-has-been-processing-for-over-a-week-in-itunes-connect-what/34168299#34168299", "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>I had the same problem with one of my apps, which is how I ended up finding this.  In my case, I uploaded two of my apps at the same time, using Xcode 7.1.  One of the apps passed through processing within an hour.  The other one was still in processing almost 24 hours later.  To get past this issue, I created a new archive with an incremented build number, and uploaded it using the application loader.  I did not turn off bitcode.  The version that I uploaded using the application loader took less than 20 minutes to get through processing, and I've been able to submit my app for review.  The version I submitted prior to this is still stuck in processing.</p>\n\n<p>At least in the case of my app, using application loader appears to have solved the issue.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 34568880, "link": "http://stackoverflow.com/questions/27928471/my-prerelease-app-has-been-processing-for-over-a-week-in-itunes-connect-what/34568880#34568880", "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>I got this message from App Store Developer Support (2016-01-02):</p>\n\n<blockquote>\n  <p>Be aware that it can take up to 24 hours for a build to fully process\n  through our system and become available for use. If a build does not\n  finish processing in 24 hours, this can typically be resolved by\n  submitting the build again with a higher build number.</p>\n</blockquote>\n\n<p>Not much of an answer (nothing about why it takes so long time), but it's the answer Apple is giving us.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 34571939, "link": "http://stackoverflow.com/questions/27928471/my-prerelease-app-has-been-processing-for-over-a-week-in-itunes-connect-what/34571939#34571939", "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>I'm using xcode, my app usually took 1 - 2 minutes to be processed but today I waited for 15 minutes. What I did was increase the build, keep the version same and archive it again. And it went thru within 2 minutes while the previous build still stuck after an hour. </p>\n\n<p>My advise is don't wait for Apple, just increase build and upload again. Apple is too noble to admit their system has bug or mistake. Time is money.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 36613125, "link": "http://stackoverflow.com/questions/27928471/my-prerelease-app-has-been-processing-for-over-a-week-in-itunes-connect-what/36613125#36613125", "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>I'm loathe to add another answer to this already overcrowded question, but it might be of use to someone.</p>\n\n<p>I found that if a \"release\" already had a build assigned when I uploaded a new one, clearing the existing build and attempting to select the new one always showed it as \"processing\".</p>\n\n<p>However, if I removed the old build and saved then refreshed the page, the new build could be selected.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 38872332, "link": "http://stackoverflow.com/questions/27928471/my-prerelease-app-has-been-processing-for-over-a-week-in-itunes-connect-what/38872332#38872332", "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>Same issue for me...\nUpload app archives from Xcode (7.3.1). Connect to iTunesCo with both Chrome and Safari...</p>\n\n<ul>\n<li>20 august: v0.1.3 | b0.0.1 -> upload done -> never appeared on iTunesCo</li>\n<li>23 august: v0.1.4 | b0.0.1 -> upload done -> processing on iTunesCo</li>\n<li>23 august: v0.1.4 | b0.0.2 -> upload done -> processing on iTunesCo</li>\n<li>23 august: v0.1.4 | b0.0.3 -> upload done -> never appeared on iTunesCo</li>\n<li>24 august: v0.1.5 | b0.0.1 -> upload done -> <strong>available 5min later</strong></li>\n</ul>\n\n<p>The way it works has no logic... So I agree with @teapen:</p>\n\n<blockquote>\n  <p>...don't wait for Apple, just increase build and upload again...</p>\n</blockquote>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 39125666, "link": "http://stackoverflow.com/questions/27928471/my-prerelease-app-has-been-processing-for-over-a-week-in-itunes-connect-what/39125666#39125666", "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}], "question_id": 27928471}, {"body": "<p>I would like to store the motion capture data from kinect 2 as a bvh file. I found code which does so for kinect 1 which can be found <a href=\"https://bitbucket.org/nguyenivan/kinect2bvh.v2/src/d19ccd4e76318e86241351adada6b7752aa9e1b5?at=master\">here</a>. I went through the code and found several things that I can not understand.\nFor example, in the mentioned code I've tried to understand what exactly the Skeleton <strong>skel</strong> object, found in several places in the code, actually is. If not, are there any known application of what I'm trying to accomplish available?</p>\n\n<p>EDIT: I tried to change Skeleton skel to Body skel which I think is the correspondant object for kinect SDK 2.0. However I've got an error when I try to get the position of the body:</p>\n\n<pre><code>tempMotionVektor[0] = -Math.Round( skel.Position.X * 100,2);\ntempMotionVektor[1] = Math.Round( skel.Position.Y * 100,2) + 120;\ntempMotionVektor[2] = 300 - Math.Round( skel.Position.Z * 100,2);\n</code></pre>\n\n<p>I've gotten errors when calling the function Position for the Body skel. How can I retrieve the X, Y, Z of the skeleton in sdk 2.0?? I tried to change the above three lines to:</p>\n\n<pre><code>tempMotionVektor[0] = -Math.Round(skel.Joints[0].Position.X * 100, 2);\ntempMotionVektor[1] = Math.Round(skel.Joints[0].Position.Y * 100, 2) + 120;\ntempMotionVektor[2] = 300 - Math.Round(skel.Joints[0].Position.Z * 100, 2);\n</code></pre>\n\n<p>EDIT: Basically I managed to store the a bvh file after combining bodyBasicsWPF and kinect2bvh. However, it seems that the skeleton I am storing is not efficient. There are strange movements in the elbows. I am trying to understand if I have to change something in the file <a href=\"https://bitbucket.org/nguyenivan/kinect2bvh.v2/src/d19ccd4e76318e86241351adada6b7752aa9e1b5/erstesKinectProjekt/KinectSkeletonBVH.cs?at=master\">kinectSkeletonBVH.cp</a>. More specifically, what are the changes in the joint axis orientation for the kinect 2 version. How can I change the following line: <code>skel.BoneOrientations[JointType.ShoulderCenter].AbsoluteRotation.Quaternion;</code>  I tried to change that line with <code>skel.JointOrientations[JointType.ShoulderCenter].Orientation</code>. Am I right? I am using the following code to add the joint to BVHBone objects:</p>\n\n<pre><code>BVHBone hipCenter = new BVHBone(null, JointType.SpineBase.ToString(), 6, TransAxis.None, true);\nBVHBone hipCenter2 = new BVHBone(hipCenter, \"HipCenter2\", 3, TransAxis.Y, false);\nBVHBone spine = new BVHBone(hipCenter2, JointType.SpineMid.ToString(), 3, TransAxis.Y, true);\nBVHBone shoulderCenter = new BVHBone(spine, JointType.SpineShoulder.ToString(), 3, TransAxis.Y, true);\n\nBVHBone collarLeft = new BVHBone(shoulderCenter, \"CollarLeft\", 3, TransAxis.X, false);\nBVHBone shoulderLeft = new BVHBone(collarLeft, JointType.ShoulderLeft.ToString(), 3, TransAxis.X, true);\nBVHBone elbowLeft = new BVHBone(shoulderLeft, JointType.ElbowLeft.ToString(), 3, TransAxis.X, true);\nBVHBone wristLeft = new BVHBone(elbowLeft, JointType.WristLeft.ToString(), 3, TransAxis.X, true);\nBVHBone handLeft = new BVHBone(wristLeft, JointType.HandLeft.ToString(), 0, TransAxis.X, true);\n\nBVHBone neck = new BVHBone(shoulderCenter, \"Neck\", 3, TransAxis.Y, false);\nBVHBone head = new BVHBone(neck, JointType.Head.ToString(), 3, TransAxis.Y, true);\nBVHBone headtop = new BVHBone(head, \"Headtop\", 0, TransAxis.None, false);\n</code></pre>\n\n<p>I can't understand where inside the code calculate the axis for every Joint.</p>\n", "title": "Storing kinect&#39;s v2.0 motion to BVH file", "tags": ["c#", "kinect", "motion-detection"], "answer_count": 0, "link": "http://stackoverflow.com/questions/30453656/storing-kinects-v2-0-motion-to-bvh-file", "question_id": 30453656}, {"body": "<p>When browsing the source code of Guava, I came across the following piece of code (part of the implementation of <code>hashCode</code> for the inner class <code>CartesianSet</code>):</p>\n\n<pre><code>int adjust = size() - 1;\nfor (int i = 0; i &lt; axes.size(); i++) {\n    adjust *= 31;\n    adjust = ~~adjust;\n    // in GWT, we have to deal with integer overflow carefully\n}\nint hash = 1;\nfor (Set&lt;E&gt; axis : axes) {\n    hash = 31 * hash + (size() / axis.size() * axis.hashCode());\n\n    hash = ~~hash;\n}\nhash += adjust;\nreturn ~~hash;\n</code></pre>\n\n<p>Both of <code>adjust</code> and <code>hash</code> are <code>int</code>s. From what I know about Java, <code>~</code> means bitwise negation, so <code>adjust = ~~adjust</code> and <code>hash = ~~hash</code> should leave the variables unchanged. Running the small test (with assertions enabled, of course),</p>\n\n<pre><code>for (int i = Integer.MIN_VALUE; i &lt; Integer.MAX_VALUE; i++) {\n    assert i == ~~i;\n}\n</code></pre>\n\n<p>confirms this. Assuming that the Guava guys know what they are doing, there must be a reason for them to do this. The question is what?</p>\n\n<p><strong>EDIT</strong> As pointed out in the comments, the test above doesn't include the case where <code>i</code> equals <code>Integer.MAX_VALUE</code>. Since <code>i &lt;= Integer.MAX_VALUE</code> is always true, we will need to check that case outside the loop to prevent it from looping forever. However, the line</p>\n\n<pre><code>assert Integer.MAX_VALUE == ~~Integer.MAX_VALUE;\n</code></pre>\n\n<p>yields the compiler warning \"Comparing identical expressions\", which pretty much nails it.</p>\n", "title": "What is the meaning of double tilde (~~) in Java?", "tags": ["java", "gwt", "bit-manipulation", "bitwise-operators"], "answer_count": 1, "link": "http://stackoverflow.com/questions/29736952/what-is-the-meaning-of-double-tilde-in-java", "answers": [{"body": "<p>In Java, it means nothing.</p>\n\n<p>But that comment says that the line is specifically for GWT, which is a way to compile Java to JavaScript.</p>\n\n<p>In JavaScript, integers are kind of like doubles-that-act-as-integers. They have a max value of 2^53, for instance. But <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators\">bitwise operators</a> treat numbers as if they're 32-bit, which is exactly what you want in this code. In other words, <code>~~hash</code> says \"treat <code>hash</code> as a 32-bit number\" in JavaScript. Specifically, it discards all but the bottom 32 bits (since the bitwise <code>~</code> operators only looks at the bottom 32 bits), which is identical to how Java's overflow works.</p>\n\n<p>If you didn't have that, the hash code of the object would be different depending on whether it's evaluated in Java-land or in JavaScript land (via a GWT compilation).</p>\n", "title": "What is the meaning of double tilde (~~) in Java?", "answer_id": 29736998, "link": "http://stackoverflow.com/questions/29736952/what-is-the-meaning-of-double-tilde-in-java/29736998#29736998", "tags": ["java", "gwt", "bit-manipulation", "bitwise-operators"]}], "question_id": 29736952}, {"body": "<p>Just installed El Capitan and can't install gem <code>eventmachine</code> <code>1.0.7</code>. <code>openssl</code> is at <code>1.0.2a-1</code>. Tried to use <code>--with-ssl-dir</code> but it seems ignored.</p>\n\n<p>Reported it to their <a href=\"https://github.com/eventmachine/eventmachine/issues/602\">github repo</a> as well.</p>\n\n<p>Any suggestions are really appreciated. Thanks.</p>\n\n<pre><code>$ ls /usr/local/Cellar/openssl/1.0.2a-1/include/openssl/ssl.h\n/usr/local/Cellar/openssl/1.0.2a-1/include/openssl/ssl.h\n\n$ gem install eventmachine -v '1.0.7' -- --with-ssl-dir=/usr/local/Cellar/openssl/1.0.2a-1/include\n/Users/pain/.rbenv/versions/2.1.2/bin/ruby -r ./siteconf20150612-56154-1hsjz2n.rb extconf.rb --with-ssl-dir=/usr/local/Cellar/openssl/1.0.2a-1/include\nchecking for rb_trap_immediate in ruby.h,rubysig.h... no\nchecking for rb_thread_blocking_region()... yes\nchecking for ruby/thread.h... yes\nchecking for rb_thread_call_without_gvl() in ruby/thread.h... yes\nchecking for inotify_init() in sys/inotify.h... no\nchecking for __NR_inotify_init in sys/syscall.h... no\nchecking for writev() in sys/uio.h... yes\nchecking for rb_thread_fd_select()... yes\nchecking for rb_fdset_t in ruby/intern.h... yes\nchecking for rb_wait_for_single_fd()... yes\nchecking for rb_enable_interrupt()... no\nchecking for rb_time_new()... yes\nchecking for sys/event.h... yes\nchecking for sys/queue... yes\nchecking for clock_gettime()... no\nchecking for gethrtime()... no\ncreating Makefile\n\nmake \"DESTDIR=\" clean\n\nmake \"DESTDIR=\"\ncompiling binder.cpp\nIn file included from binder.cpp:20:\n./project.h:116:10: fatal error: 'openssl/ssl.h' file not found\n#include &lt;openssl/ssl.h&gt;\n         ^\n1 error generated.\nmake: *** [binder.o] Error 1\n\nmake failed, exit code 2\n</code></pre>\n", "title": "gem eventmachine fatal error: &#39;openssl/ssl.h&#39; file not found", "tags": ["ruby", "osx", "openssl", "homebrew", "eventmachine"], "answer_count": 6, "link": "http://stackoverflow.com/questions/30818391/gem-eventmachine-fatal-error-openssl-ssl-h-file-not-found", "answers": [{"body": "<pre><code>$ gem install eventmachine -- --with-cppflags=-I/usr/local/opt/openssl/include                                                                                                             \nBuilding native extensions with: '--with-cppflags=-I/usr/local/opt/openssl/include'\nThis could take a while...\nSuccessfully installed eventmachine-1.0.8\n1 gem installed\n</code></pre>\n\n<p>You can also set up bundler like this but I think that is superficial</p>\n\n<pre><code>bundle config build.eventmachine --with-cppflags=-I/usr/local/opt/openssl/include\n</code></pre>\n", "title": "gem eventmachine fatal error: &#39;openssl/ssl.h&#39; file not found", "answer_id": 30836309, "link": "http://stackoverflow.com/questions/30818391/gem-eventmachine-fatal-error-openssl-ssl-h-file-not-found/30836309#30836309", "tags": ["ruby", "osx", "openssl", "homebrew", "eventmachine"]}, {"body": "<p>When using bundler and homebrew:</p>\n\n<pre><code>$ bundle config build.eventmachine --with-cppflags=-I$(brew --prefix openssl)/include\n$ bundle install\n</code></pre>\n", "title": "gem eventmachine fatal error: &#39;openssl/ssl.h&#39; file not found", "answer_id": 31516586, "link": "http://stackoverflow.com/questions/30818391/gem-eventmachine-fatal-error-openssl-ssl-h-file-not-found/31516586#31516586", "tags": ["ruby", "osx", "openssl", "homebrew", "eventmachine"]}, {"body": "<pre><code>brew link --force openssl\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>gem install eventmachine\n</code></pre>\n\n<p>It also fixes:</p>\n\n<ul>\n<li>gem install taks </li>\n<li>bundle install </li>\n<li>rake and rails tasks</li>\n</ul>\n\n<p>P.S. Probably you'll need to remove and run <code>brew install openssl</code> again</p>\n\n<p>The issue happends because Apple had removed openssl from OSX (in El Captain build)</p>\n", "title": "gem eventmachine fatal error: &#39;openssl/ssl.h&#39; file not found", "answer_id": 33956405, "link": "http://stackoverflow.com/questions/30818391/gem-eventmachine-fatal-error-openssl-ssl-h-file-not-found/33956405#33956405", "tags": ["ruby", "osx", "openssl", "homebrew", "eventmachine"]}, {"body": "<p>If you're installing EventMachine as a dependency of another gem, be sure to specify the correct version when you manually install the gem:</p>\n\n<pre><code>gem install eventmachine -v 1.0.5 -- --with-cppflags=-I$(brew --prefix openssl)/include\n</code></pre>\n\n<p>Then you can install the gem that you were originally trying to install:</p>\n\n<pre><code>gem install mailcatcher\n</code></pre>\n", "title": "gem eventmachine fatal error: &#39;openssl/ssl.h&#39; file not found", "answer_id": 34164079, "link": "http://stackoverflow.com/questions/30818391/gem-eventmachine-fatal-error-openssl-ssl-h-file-not-found/34164079#34164079", "tags": ["ruby", "osx", "openssl", "homebrew", "eventmachine"]}, {"body": "<p>One alternative is to add a bundler config entry for your whole user profile, like this:</p>\n\n<pre><code>cd ~\nbundle config build.eventmachine --with-cppflags=-I$(brew --prefix openssl)/include\n</code></pre>\n\n<p>it'll create a .bundle/config file in your home directory, which is then used in all your projects when you run <code>bundle install</code>.</p>\n", "title": "gem eventmachine fatal error: &#39;openssl/ssl.h&#39; file not found", "answer_id": 34463956, "link": "http://stackoverflow.com/questions/30818391/gem-eventmachine-fatal-error-openssl-ssl-h-file-not-found/34463956#34463956", "tags": ["ruby", "osx", "openssl", "homebrew", "eventmachine"]}, {"body": "<pre><code>gem pristine eventmachine -- --with-cppflags=-I/usr/local/opt/openssl/include\n</code></pre>\n\n<p>pristine removes the old gem and recompiles it.</p>\n\n<p>The cpp flags option allows the compiler to find the openssl headers.</p>\n\n<p>You can also add the version if you like:</p>\n\n<pre><code>gem pristine eventmachine -v '1.0.4' -- --with-cppflags=-I/usr/local/opt/openssl/include\n</code></pre>\n", "title": "gem eventmachine fatal error: &#39;openssl/ssl.h&#39; file not found", "answer_id": 34799128, "link": "http://stackoverflow.com/questions/30818391/gem-eventmachine-fatal-error-openssl-ssl-h-file-not-found/34799128#34799128", "tags": ["ruby", "osx", "openssl", "homebrew", "eventmachine"]}], "question_id": 30818391}, {"body": "<h2>Findings:</h2>\n\n<ol>\n<li>Difference between <a href=\"http://stackoverflow.com/q/19995007/1083093\"><strong><em>Picasso v/s ImageLoader here\n...</em></strong></a></li>\n<li>Info about the library <a href=\"https://github.com/bumptech/glide\"><strong><em>GLIDE here ...</em></strong></a></li>\n<li>Now recently Facebook released new image library called\n<a href=\"https://github.com/facebook/fresco\"><strong><em>Fresco</em></strong></a></li>\n</ol>\n\n<hr>\n\n<h2>Questions:</h2>\n\n<ol>\n<li>What is the difference between Picasso v/s Imageloader v/s Fresco</li>\n<li>When can we use Glide</li>\n<li>Which is the best library to use.</li>\n<li>If Each libraries have their own significance, what are they ?</li>\n</ol>\n", "title": "Picasso v/s Imageloader v/s Fresco vs Glide", "tags": ["android", "universal-image-loader", "picasso", "fresco", "android-glide"], "answer_count": 6, "link": "http://stackoverflow.com/questions/29363321/picasso-v-s-imageloader-v-s-fresco-vs-glide", "answers": [{"body": "<p>These answers are totally my opinion</p>\n\n<h2>Answers</h2>\n\n<ol>\n<li><p>Picasso is an easy to use image loader, same goes for Imageloader. Fresco uses a different approach to image loading, i haven't used it yet but it looks too me more like a solution for getting image from network and caching them then showing the images. then the other way around like Picasso/Imageloader/Glide which to me are more Showing image on screen that also does getting images from network and caching them.</p></li>\n<li><p>Glide tries to be somewhat interchangeable with Picasso.I think when they were created Picasso's mind set was follow HTTP spec's and let the server decide the caching policies and cache full sized and resize on demand. Glide is the same with following the HTTP spec but tries to have a smaller memory footprint by making some different assumptions like cache the resized images instead of the fullsized images, and show images with RGB_565 instead of RGB_8888. Both libraries offer full customization of the default settings.</p></li>\n<li><p>As to which library is the best to use is really hard to say. Picasso, Glide and Imageloader are well respected and well tested libraries which all are easy to use with the default settings. Both Picasso and Glide require only 1 line of code to load an image and have a placeholder and error image. Customizing the behaviour also doesn't require that much work. Same goes for Imageloader which is also an older library then Picasso and Glide, however I haven't used it so can't say much about performance/memory usage/customizations but looking at the readme on github gives me the impression that it is also relatively easy to use and setup. So in choosing any of these 3 libraries you can't make the wrong decision, its more a matter of personal taste. For fresco my opinion is that its another facebook library so we have to see how that is going to work out for them, so far there track record isn't that good. <strike>Like the facebook SDK is  still isn't officially released on mavenCentral</strike> I have not used to facebook sdk since sept 2014 and it seems they have put the first version online on mavenCentral in oct 2014. So it will take some time before we can get any good opinion about it.</p></li>\n<li><p>between the 3 big name libraries I think there are no significant differences. The only one that stand out is fresco but that is because it has a different approach and is new and not battle tested.</p></li>\n</ol>\n", "title": "Picasso v/s Imageloader v/s Fresco vs Glide", "answer_id": 29558169, "link": "http://stackoverflow.com/questions/29363321/picasso-v-s-imageloader-v-s-fresco-vs-glide/29558169#29558169", "tags": ["android", "universal-image-loader", "picasso", "fresco", "android-glide"]}, {"body": "<p>I am one of the engineers on the Fresco project. So obviously I'm biased.</p>\n\n<p>But you don't have to take my word for it. We've released a sample app that allows you to compare the performance of five libraries - Fresco, Picasso, UIL, Glide, and Volley Image Loader - side by side. You can get it at our GitHub repo.</p>\n\n<p>I should also point out that Fresco is available on Maven Central, as <code>com.facebook.fresco:fresco</code>.</p>\n\n<p>Fresco offers features that Picasso, UIL, and Glide do not yet have:</p>\n\n<ol>\n<li>Images aren't stored in the Java heap, but in the ashmem heap. Intermediate byte buffers are also stored in the native heap. This leaves a lot more memory available for applications to use. It reduces the risk of OutOfMemoryErrors. It also reduces the amount of garbage collection apps have to do, leading to better performance.</li>\n<li>Progressive JPEG images can be streamed, just like in a web browser.</li>\n<li>Images can be cropped around any point, not just the centre.</li>\n<li>JPEG images can be resized natively. This avoid the problem of OOMing while trying to downsize an image.</li>\n</ol>\n\n<p>There are many others (see our documentation), but these are the most important.</p>\n", "title": "Picasso v/s Imageloader v/s Fresco vs Glide", "answer_id": 29567946, "link": "http://stackoverflow.com/questions/29363321/picasso-v-s-imageloader-v-s-fresco-vs-glide/29567946#29567946", "tags": ["android", "universal-image-loader", "picasso", "fresco", "android-glide"]}, {"body": "<p>Mind you that this is a highly opinion based question, so I stopped making fjords and made a quick table </p>\n\n<p><img src=\"http://i.stack.imgur.com/TdLCr.png\" alt=\"enter image description here\"></p>\n\n<p>Now library comparison is hard because on many parameters, all the four pretty much do the same thing, except possibly for Fresco because there is a whole bunch of new memory level optimizations in it.So let me know if certain parameters you'd like to see a comparison for based on my experience.</p>\n\n<p>Having used Fresco the least, the answer might evolve as I continue to use and understand it for current exploits. The <code>used personally</code> is having used the library atleast once in a completed app. </p>\n\n<p>*Note - Fresco now supports GIF as well as WebP animations</p>\n", "title": "Picasso v/s Imageloader v/s Fresco vs Glide", "answer_id": 29677374, "link": "http://stackoverflow.com/questions/29363321/picasso-v-s-imageloader-v-s-fresco-vs-glide/29677374#29677374", "tags": ["android", "universal-image-loader", "picasso", "fresco", "android-glide"]}, {"body": "<p>Neither Glide nor Picasso is perfect. The way Glide loads an image to memory and do the caching is better than Picasso which let an image loaded far faster. In addition, it also helps preventing an app from popular OutOfMemoryError. GIF Animation loading is a killing feature provided by Glide. Anyway Picasso decodes an image with better quality than Glide.</p>\n\n<p>Which one do I prefer? Although I use Picasso for such a very long time, I must admit that I now prefer Glide. But I would recommend you to change Bitmap Format to ARGB_8888 and let Glide cache both full-size image and resized one first. The rest would do your job great!</p>\n\n<ul>\n<li>Method count of Picasso and Glide are at 840 and 2678 respectively.</li>\n<li>Picasso (v2.5.1)'s size is around 118KB while Glide (v3.5.2)'s is around 430KB.</li>\n<li>Glide creates cached images per size while Picasso saves the full image and process it, so on load it shows faster with Glide but uses more memory.</li>\n<li>Glide use less memory by default with <code>RGB_565</code>.</li>\n</ul>\n\n<p>+1 For Picasso <a href=\"https://github.com/florent37/PicassoPalette\">Palette Helper</a>.</p>\n\n<p>There is a post that talk a lot about Picasso vs Glide <a href=\"http://inthecheesefactory.com/blog/get-to-know-glide-recommended-by-google/en\">post</a></p>\n", "title": "Picasso v/s Imageloader v/s Fresco vs Glide", "answer_id": 29720230, "link": "http://stackoverflow.com/questions/29363321/picasso-v-s-imageloader-v-s-fresco-vs-glide/29720230#29720230", "tags": ["android", "universal-image-loader", "picasso", "fresco", "android-glide"]}, {"body": "<p><strong>Fresco</strong> <em><a href=\"https://github.com/facebook/fresco\">link</a></em>\n<br>(-)<br>\n - Huge size of library<br>\n - App freeze while loading big images from internet into ListView<br>\n - Huge size of cache<br>\n(+)<br>\n - Pretty fast image loader (for small &amp;&amp; medium images)<br>\n - A lot of functionality<br></p>\n\n<p><br><strong>Picasso</strong> <em><a href=\"https://github.com/square/picasso\">link</a></em>\n<br>(-)<br>\n - Slow loading big images from internet into ListView<br>\n(+)<br>\n - Tinny size of library<br>\n - Small size of cache<br>\n - Simple in use<br>\n - UI is not freeze<br></p>\n\n<p><br><strong>Glide</strong> <em><a href=\"https://github.com/bumptech/glide\">link</a></em>\n<br>(-)<br>\n - ...<br>\n(+)<br>\n - Small size of library<br>\n - Tinny size of cache<br>\n - Simple in use<br>\n - GIF (animated image) support<br>\n - Fast loading big images from internet into ListView<br>\n - UI is not freeze<br></p>\n\n<p><br>\nTested by me on SGS2 (Android 4.1) (WiFi 8.43 Mbps)<br><br>\n<em>For now I am using Glide.</em><br>\n<em>Read more <a href=\"http://inthecheesefactory.com/blog/get-to-know-glide-recommended-by-google/en\">here</a>.</em></p>\n\n<hr>\n\n<p><em>You can <a href=\"http://stackoverflow.com/questions/34253434/glide-cache-to-external-storage-sd-card\">write cache to External Storage (SD Card)</a> with Glide.</em></p>\n", "title": "Picasso v/s Imageloader v/s Fresco vs Glide", "answer_id": 33210679, "link": "http://stackoverflow.com/questions/29363321/picasso-v-s-imageloader-v-s-fresco-vs-glide/33210679#33210679", "tags": ["android", "universal-image-loader", "picasso", "fresco", "android-glide"]}, {"body": "<p>I want to share with you a <strong>benchmark</strong> I have done among <strong>Picasso, Universal Image Loader and Glide</strong>: <a href=\"https://bit.ly/1kQs3QN\">https://bit.ly/1kQs3QN</a></p>\n\n<p>Fresco was out of the benchmark because for the project I was running the test, we didn't want to refactor our layouts (because of the Drawee view).</p>\n\n<p>What I recommend is <strong>Universal Image Loader</strong> because of its customization, memory consumption and balance between size and methods.</p>\n\n<p>If you have a <strong>small project, I would go for Glide</strong> (or give Fresco a try).</p>\n", "title": "Picasso v/s Imageloader v/s Fresco vs Glide", "answer_id": 33683762, "link": "http://stackoverflow.com/questions/29363321/picasso-v-s-imageloader-v-s-fresco-vs-glide/33683762#33683762", "tags": ["android", "universal-image-loader", "picasso", "fresco", "android-glide"]}], "question_id": 29363321}, {"body": "<p>has anyone with the iOS 9 beta 1 had this issue?  </p>\n\n<p>I use standard NSURLConnection to connect to a webservice and as soon as a call is made to the webservice i get the below error.  This is currently working in iOS 8.3</p>\n\n<p>Possible beta bug? any ideas or thoughts would be great ! I know its very early in iOS 9 development</p>\n\n<p>Here is the full error:</p>\n\n<blockquote>\n  <p>CFNetwork SSLHandshake failed (-9824)\n  NSURLSession/NSURLConnection HTTP load failed (kCFStreamErrorDomainSSL, -9824)</p>\n</blockquote>\n\n<pre><code> NSURLRequest * urlRequest = [NSURLRequest requestWithURL:[NSURL URLWithString:@\"https://mywebserviceurl\"]];\n        NSURLResponse * response = nil;\n        NSError * error = nil;\n        NSData * data = [NSURLConnection sendSynchronousRequest:urlRequest\n                                                  returningResponse:&amp;response\n                                                              error:&amp;error];\n</code></pre>\n", "title": "CFNetwork SSLHandshake failed iOS 9", "tags": ["ios", "ssl", "nsurlconnection", "ios9"], "answer_count": 11, "link": "http://stackoverflow.com/questions/30720813/cfnetwork-sslhandshake-failed-ios-9", "answers": [{"body": "<p>iOS 9 and OSX 10.11 require TLSv1.2 SSL for all hosts you plan to request data from unless you specify exception domains in your app's Info.plist file.</p>\n\n<p>The syntax for the Info.plist configuration looks like this:</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n  &lt;key&gt;NSExceptionDomains&lt;/key&gt;\n  &lt;dict&gt;\n    &lt;key&gt;yourserver.com&lt;/key&gt;\n    &lt;dict&gt;\n      &lt;!--Include to allow subdomains--&gt;\n      &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;\n      &lt;true/&gt;\n      &lt;!--Include to allow insecure HTTP requests--&gt;\n      &lt;key&gt;NSExceptionAllowsInsecureHTTPLoads&lt;/key&gt;\n      &lt;true/&gt;\n      &lt;!--Include to specify minimum TLS version--&gt;\n      &lt;key&gt;NSExceptionMinimumTLSVersion&lt;/key&gt;\n      &lt;string&gt;TLSv1.1&lt;/string&gt;\n    &lt;/dict&gt;\n  &lt;/dict&gt;\n&lt;/dict&gt;\n</code></pre>\n\n<p>If your application (a third-party web browser, for instance) needs to connect to arbitrary hosts, you can configure it like this:</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;!--Connect to anything (this is probably BAD)--&gt;\n    &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n    &lt;true/&gt;\n&lt;/dict&gt;\n</code></pre>\n\n<p>If you're having to do this, it's probably best to update your servers to use TLSv1.2 and SSL, if they're not already doing so. This should be considered a temporary workaround.</p>\n\n<p>As of today, the prerelease documentation makes no mention of any of these configuration options in any specific way. Once it does, I'll update the answer to link to the relevant documentation.</p>\n", "title": "CFNetwork SSLHandshake failed iOS 9", "answer_id": 30720929, "link": "http://stackoverflow.com/questions/30720813/cfnetwork-sslhandshake-failed-ios-9/30720929#30720929", "tags": ["ios", "ssl", "nsurlconnection", "ios9"]}, {"body": "<p>**IMPORTANT NOTE FOR iOS 10 BETA: **</p>\n\n<p>In iOS 10, the TLS string MUST be of the form \"TLSv1.0\". It can't just be \"1.0\". Yes, this is incredibly stupid and app-breaking. Welcome to iOS development.</p>\n\n<hr>\n\n<p>The following combination of the above advice works.</p>\n\n<p>Let's say you are trying to connect to a host (YOUR_HOST.COM) that only has TLS 1.0.</p>\n\n<p>Add these to your app's Info.plist</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;NSExceptionDomains&lt;/key&gt;\n    &lt;dict&gt;\n        &lt;key&gt;YOUR_HOST.COM&lt;/key&gt;\n        &lt;dict&gt;\n            &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;\n            &lt;true/&gt;\n            &lt;key&gt;NSTemporaryExceptionAllowsInsecureHTTPLoads&lt;/key&gt;\n            &lt;true/&gt;\n            &lt;key&gt;NSTemporaryExceptionMinimumTLSVersion&lt;/key&gt;\n            &lt;string&gt;TLSv1.0&lt;/string&gt;\n            &lt;key&gt;NSTemporaryExceptionRequiresForwardSecrecy&lt;/key&gt;\n            &lt;false/&gt;\n        &lt;/dict&gt;\n    &lt;/dict&gt;\n&lt;/dict&gt;\n</code></pre>\n", "title": "CFNetwork SSLHandshake failed iOS 9", "answer_id": 30882037, "link": "http://stackoverflow.com/questions/30720813/cfnetwork-sslhandshake-failed-ios-9/30882037#30882037", "tags": ["ios", "ssl", "nsurlconnection", "ios9"]}, {"body": "<p>For more info <a href=\"http://ste.vn/2015/06/10/configuring-app-transport-security-ios-9-osx-10-11/\">Configuring App Transport Security Exceptions in iOS 9 and OSX 10.11</a></p>\n\n<blockquote>\n  <p>Curiously, you\u2019ll notice that the connection attempts to change the\n  http protocol to https to protect against mistakes in your code where\n  you may have accidentally misconfigured the URL. In some cases, this\n  might actually work, but it\u2019s also confusing.</p>\n</blockquote>\n\n<p>This <a href=\"http://timekl.com/blog/2015/08/21/shipping-an-app-with-app-transport-security/\">Shipping an App With App Transport Security</a> covers some good debugging tips</p>\n\n<p><strong>ATS Failure</strong></p>\n\n<blockquote>\n  <p>Most ATS failures will present as CFErrors with a code in the -9800\n  series. These are defined in the Security/SecureTransport.h header</p>\n</blockquote>\n\n<pre><code>2015-08-23 06:34:42.700 SelfSignedServerATSTest[3792:683731] NSURLSession/NSURLConnection HTTP load failed (kCFStreamErrorDomainSSL, -9813)\n</code></pre>\n\n<p><strong>CFNETWORK_DIAGNOSTICS</strong></p>\n\n<blockquote>\n  <p>Set the environment variable CFNETWORK_DIAGNOSTICS to 1 in order to\n  get more information on the console about the failure</p>\n</blockquote>\n\n<p><strong>nscurl</strong></p>\n\n<blockquote>\n  <p>The tool will run through several different combinations of ATS\n  exceptions, trying a secure connection to the given host under each\n  ATS configuration and reporting the result.</p>\n</blockquote>\n\n<pre><code>nscurl --ats-diagnostics https://example.com\n</code></pre>\n", "title": "CFNetwork SSLHandshake failed iOS 9", "answer_id": 32046052, "link": "http://stackoverflow.com/questions/30720813/cfnetwork-sslhandshake-failed-ios-9/32046052#32046052", "tags": ["ios", "ssl", "nsurlconnection", "ios9"]}, {"body": "<p>If your backend uses a secure connection ant you get using NSURLSession</p>\n\n<pre><code>CFNetwork SSLHandshake failed (-9801)\nNSURLSession/NSURLConnection HTTP load failed (kCFStreamErrorDomainSSL, -9801)\n</code></pre>\n\n<p>you need to check your server configuration especially to get ATS version and SSL certificate Info:</p>\n\n<p>Instead of just <strong>Allowing Insecure Connection</strong> by setting <code>NSExceptionAllowsInsecureHTTPLoads = YES</code> , instead you need to <strong>Allow Lowered Security</strong> in case your server do not meet the min requirement (v1.2) for ATS (or better to fix server side). </p>\n\n<p><strong>Allowing Lowered Security to a Single Server</strong></p>\n\n<pre><code>&lt;key&gt;NSExceptionDomains&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;api.yourDomaine.com&lt;/key&gt;\n    &lt;dict&gt;\n        &lt;key&gt;NSExceptionMinimumTLSVersion&lt;/key&gt;\n        &lt;string&gt;TLSv1.0&lt;/string&gt;\n        &lt;key&gt;NSExceptionRequiresForwardSecrecy&lt;/key&gt;\n        &lt;false/&gt;\n    &lt;/dict&gt;\n&lt;/dict&gt;\n</code></pre>\n\n<p>use openssl client to investigate certificate and get your server configuration using openssl client :</p>\n\n<pre><code>openssl s_client  -connect api.yourDomaine.com:port //(you may need to specify port or  to try with https://... or www.)\n</code></pre>\n\n<p>..find at the end</p>\n\n<pre><code>SSL-Session:\n    Protocol  : TLSv1\n    Cipher    : AES256-SHA\n    Session-ID: //\n    Session-ID-ctx: \n    Master-Key: //\n    Key-Arg   : None\n    Start Time: 1449693038\n    Timeout   : 300 (sec)\n    Verify return code: 0 (ok)\n</code></pre>\n\n<p>App Transport Security (ATS) require Transport Layer Security (TLS) protocol version 1.2.</p>\n\n<p><a href=\"https://developer.apple.com/library/prerelease/ios/documentation/General/Reference/InfoPlistKeyReference/Articles/CocoaKeys.html#//apple_ref/doc/uid/TP40009251-SW33\" rel=\"nofollow\">Requirements for Connecting Using ATS:</a></p>\n\n<blockquote>\n  <p>The requirements for a web service connection to use App Transport Security (ATS) involve the server, connection ciphers, and certificates, as follows:</p>\n  \n  <p>Certificates must be signed with one of the following types of keys:</p>\n  \n  <ul>\n  <li>Secure Hash Algorithm 2 (SHA-2) key with a digest length of at least    256 (that is, SHA-256 or greater)</li>\n  <li><p>Elliptic-Curve Cryptography (ECC) key with a size of at least 256    bits</p></li>\n  <li><p>Rivest-Shamir-Adleman (RSA) key with a length of at least 2048 bits An\n  invalid certificate results in a hard failure and no connection.</p></li>\n  </ul>\n  \n  <p>The following connection ciphers support forward secrecy (FS) and work\n  with ATS:</p>\n  \n  <p>TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384\n  TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256\n  TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384\n  TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA\n  TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\n  TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA\n  TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384\n  TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\n  TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384\n  TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\n  TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA</p>\n</blockquote>\n\n<p><strong>Update: it turns out that openssl only provide the minimal protocol version Protocol  : TLSv1   <a href=\"https://www.google.ca/#q=minimal+protocol+version+TLS+openssl\" rel=\"nofollow\">links</a></strong> </p>\n", "title": "CFNetwork SSLHandshake failed iOS 9", "answer_id": 34189511, "link": "http://stackoverflow.com/questions/30720813/cfnetwork-sslhandshake-failed-ios-9/34189511#34189511", "tags": ["ios", "ssl", "nsurlconnection", "ios9"]}, {"body": "<p>info.plist as below or just copy &amp; past that work for me up to iOS 9.2</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\"&gt;\n&lt;plist version=\"1.0\"&gt;\n    &lt;dict&gt;\n        &lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n        &lt;dict&gt;\n            &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n            &lt;true/&gt;\n        &lt;/dict&gt;\n\n    &lt;key&gt;CFBundleDevelopmentRegion&lt;/key&gt;\n    &lt;string&gt;en&lt;/string&gt;\n    &lt;key&gt;CFBundleExecutable&lt;/key&gt;\n    &lt;string&gt;$(EXECUTABLE_NAME)&lt;/string&gt;\n    &lt;key&gt;CFBundleIdentifier&lt;/key&gt;\n    &lt;string&gt;$(PRODUCT_BUNDLE_IDENTIFIER)&lt;/string&gt;\n    &lt;key&gt;CFBundleInfoDictionaryVersion&lt;/key&gt;\n    &lt;string&gt;6.0&lt;/string&gt;\n    &lt;key&gt;CFBundleName&lt;/key&gt;\n    &lt;string&gt;$(PRODUCT_NAME)&lt;/string&gt;\n    &lt;key&gt;CFBundlePackageType&lt;/key&gt;\n    &lt;string&gt;APPL&lt;/string&gt;\n    &lt;key&gt;CFBundleShortVersionString&lt;/key&gt;\n    &lt;string&gt;1.0&lt;/string&gt;\n    &lt;key&gt;CFBundleSignature&lt;/key&gt;\n    &lt;string&gt;????&lt;/string&gt;\n    &lt;key&gt;CFBundleVersion&lt;/key&gt;\n    &lt;string&gt;1.0&lt;/string&gt;\n    &lt;key&gt;LSRequiresIPhoneOS&lt;/key&gt;\n    &lt;true/&gt;\n    &lt;key&gt;UILaunchStoryboardName&lt;/key&gt;\n    &lt;string&gt;LaunchScreen&lt;/string&gt;\n    &lt;key&gt;UIMainStoryboardFile&lt;/key&gt;\n    &lt;string&gt;Main&lt;/string&gt;\n    &lt;key&gt;UIRequiredDeviceCapabilities&lt;/key&gt;\n    &lt;array&gt;\n        &lt;string&gt;armv7&lt;/string&gt;\n    &lt;/array&gt;\n    &lt;key&gt;UISupportedInterfaceOrientations&lt;/key&gt;\n    &lt;array&gt;\n        &lt;string&gt;UIInterfaceOrientationPortrait&lt;/string&gt;\n        &lt;string&gt;UIInterfaceOrientationLandscapeLeft&lt;/string&gt;\n        &lt;string&gt;UIInterfaceOrientationLandscapeRight&lt;/string&gt;\n    &lt;/array&gt;\n    &lt;key&gt;UISupportedInterfaceOrientations~ipad&lt;/key&gt;\n    &lt;array&gt;\n        &lt;string&gt;UIInterfaceOrientationPortrait&lt;/string&gt;\n        &lt;string&gt;UIInterfaceOrientationPortraitUpsideDown&lt;/string&gt;\n        &lt;string&gt;UIInterfaceOrientationLandscapeLeft&lt;/string&gt;\n        &lt;string&gt;UIInterfaceOrientationLandscapeRight&lt;/string&gt;\n    &lt;/array&gt;\n&lt;/dict&gt;\n&lt;/plist&gt;\n</code></pre>\n", "title": "CFNetwork SSLHandshake failed iOS 9", "answer_id": 35450626, "link": "http://stackoverflow.com/questions/30720813/cfnetwork-sslhandshake-failed-ios-9/35450626#35450626", "tags": ["ios", "ssl", "nsurlconnection", "ios9"]}, {"body": "<p>This error was showing up in the logs sometimes when I was using a buggy/crashy Cordova iOS version. It went away when I upgraded or downgraded cordova iOS.</p>\n\n<p>The server I was connecting to was using TLSv1.2 SSL so I knew that was not the problem.</p>\n", "title": "CFNetwork SSLHandshake failed iOS 9", "answer_id": 35948240, "link": "http://stackoverflow.com/questions/30720813/cfnetwork-sslhandshake-failed-ios-9/35948240#35948240", "tags": ["ios", "ssl", "nsurlconnection", "ios9"]}, {"body": "<p>In your project  <code>.plist</code> file in add this permission :</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;!--Connect to anything (this is probably BAD)--&gt;\n    &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n    &lt;true/&gt;\n&lt;/dict&gt;\n</code></pre>\n", "title": "CFNetwork SSLHandshake failed iOS 9", "answer_id": 36306832, "link": "http://stackoverflow.com/questions/30720813/cfnetwork-sslhandshake-failed-ios-9/36306832#36306832", "tags": ["ios", "ssl", "nsurlconnection", "ios9"]}, {"body": "<p>The syntax for the Info.plist configuration</p>\n\n<pre><code>   &lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n   &lt;dict&gt;\n   &lt;key&gt;NSExceptionDomains&lt;/key&gt;\n    &lt;dict&gt;\n    &lt;key&gt;yourserver.com&lt;/key&gt;\n   &lt;dict&gt;\n  &lt;!--Include to allow subdomains--&gt;\n  &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;\n  &lt;true/&gt;\n  &lt;!--Include to allow insecure HTTP requests--&gt;\n  &lt;key&gt;NSExceptionAllowsInsecureHTTPLoads&lt;/key&gt;\n  &lt;true/&gt;\n  &lt;!--Include to specify minimum TLS version--&gt;\n  &lt;key&gt;NSExceptionMinimumTLSVersion&lt;/key&gt;\n  &lt;string&gt;TLSv1.1&lt;/string&gt;\n   &lt;/dict&gt;\n &lt;/dict&gt;\n</code></pre>\n\n<p></p>\n", "title": "CFNetwork SSLHandshake failed iOS 9", "answer_id": 37612372, "link": "http://stackoverflow.com/questions/30720813/cfnetwork-sslhandshake-failed-ios-9/37612372#37612372", "tags": ["ios", "ssl", "nsurlconnection", "ios9"]}, {"body": "<p><strong>Updated Answer (post-WWDC 2016):</strong></p>\n\n<blockquote>\n  <p>iOS apps will require secure HTTPS connections by the end of\n  2016. Trying  turn ATS off may get your app rejected in the future.</p>\n</blockquote>\n\n<p>App Transport Security, or ATS, is a feature that Apple introduced in iOS 9. When ATS is enabled, it forces an app to connect to web services over an HTTPS connection rather than non secure HTTP.</p>\n\n<p>However, developers can still switch ATS off and allow their apps to send data over an HTTP connection as mentioned in above answers. At the end of 2016, Apple will make <strong>ATS mandatory</strong> for all developers who hope to submit their apps to the App Store. link</p>\n", "title": "CFNetwork SSLHandshake failed iOS 9", "answer_id": 37833080, "link": "http://stackoverflow.com/questions/30720813/cfnetwork-sslhandshake-failed-ios-9/37833080#37833080", "tags": ["ios", "ssl", "nsurlconnection", "ios9"]}, {"body": "<p>Another useful tool is nmap (brew install nmap)</p>\n\n<pre><code>nmap --script ssl-enum-ciphers -p 443 google.com\n</code></pre>\n\n<p>Gives output </p>\n\n<pre><code>Starting Nmap 7.12 ( https://nmap.org ) at 2016-08-11 17:25 IDT\nNmap scan report for google.com (172.217.23.46)\nHost is up (0.061s latency).\nOther addresses for google.com (not scanned): 2a00:1450:4009:80a::200e\nPORT    STATE SERVICE\n443/tcp open  https\n| ssl-enum-ciphers: \n|   TLSv1.0: \n|     ciphers: \n|       TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA (secp256r1) - A\n|       TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA (secp256r1) - A\n|       TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA (secp256r1) - A\n|       TLS_RSA_WITH_AES_128_CBC_SHA (rsa 2048) - A\n|       TLS_RSA_WITH_3DES_EDE_CBC_SHA (rsa 2048) - C\n|       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA (secp256r1) - A\n|       TLS_RSA_WITH_AES_256_CBC_SHA (rsa 2048) - A\n|     compressors: \n|       NULL\n|     cipher preference: server\n|   TLSv1.1: \n|     ciphers: \n|       TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA (secp256r1) - A\n|       TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA (secp256r1) - A\n|       TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA (secp256r1) - A\n|       TLS_RSA_WITH_AES_128_CBC_SHA (rsa 2048) - A\n|       TLS_RSA_WITH_3DES_EDE_CBC_SHA (rsa 2048) - C\n|       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA (secp256r1) - A\n|       TLS_RSA_WITH_AES_256_CBC_SHA (rsa 2048) - A\n|     compressors: \n|       NULL\n|     cipher preference: server\n|   TLSv1.2: \n|     ciphers: \n|       TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA (secp256r1) - A\n|       TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256 (secp256r1) - A\n|       TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256 (secp256r1) - A\n|       TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA (secp256r1) - A\n|       TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384 (secp256r1) - A\n|       TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384 (secp256r1) - A\n|       TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256 (secp256r1) - A\n|       TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA (secp256r1) - A\n|       TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256 (secp256r1) - A\n|       TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 (secp256r1) - A\n|       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA (secp256r1) - A\n|       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 (secp256r1) - A\n|       TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 (secp256r1) - A\n|       TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256 (secp256r1) - A\n|       TLS_RSA_WITH_3DES_EDE_CBC_SHA (rsa 2048) - C\n|       TLS_RSA_WITH_AES_128_CBC_SHA (rsa 2048) - A\n|       TLS_RSA_WITH_AES_128_CBC_SHA256 (rsa 2048) - A\n|       TLS_RSA_WITH_AES_128_GCM_SHA256 (rsa 2048) - A\n|       TLS_RSA_WITH_AES_256_CBC_SHA (rsa 2048) - A\n|       TLS_RSA_WITH_AES_256_CBC_SHA256 (rsa 2048) - A\n|       TLS_RSA_WITH_AES_256_GCM_SHA384 (rsa 2048) - A\n|     compressors: \n|       NULL\n|     cipher preference: client\n|_  least strength: C\n\nNmap done: 1 IP address (1 host up) scanned in 5.48 seconds\n</code></pre>\n", "title": "CFNetwork SSLHandshake failed iOS 9", "answer_id": 38899180, "link": "http://stackoverflow.com/questions/30720813/cfnetwork-sslhandshake-failed-ios-9/38899180#38899180", "tags": ["ios", "ssl", "nsurlconnection", "ios9"]}, {"body": "<p>Why makes it too complicated- </p>\n\n<p><strong>Just set iOS Development Target - 8.0</strong></p>\n\n<p><a href=\"http://i.stack.imgur.com/HX25T.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/HX25T.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"http://i.stack.imgur.com/ee8k7.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/ee8k7.png\" alt=\"enter image description here\"></a></p>\n\n<p>And <strong>Cmd+Shift+K</strong></p>\n", "title": "CFNetwork SSLHandshake failed iOS 9", "answer_id": 39166214, "link": "http://stackoverflow.com/questions/30720813/cfnetwork-sslhandshake-failed-ios-9/39166214#39166214", "tags": ["ios", "ssl", "nsurlconnection", "ios9"]}], "question_id": 30720813}, {"body": "<p>Keep getting an error in the set-up wizard while trying to install android studio on Ubuntu.</p>\n\n<pre><code>\"Unable to run mksdcard SDK tool.\"\n</code></pre>\n\n<p>Also, in the terminal I get this:</p>\n\n<pre><code>[ 115528]  ERROR - tRunWizard$SetupProgressStep$1 - Android Studio 1.1.0  Build #AI-135.1740770 \n[ 115531]  ERROR - tRunWizard$SetupProgressStep$1 - JDK: 1.8.0_40 \n[ 115531]  ERROR - tRunWizard$SetupProgressStep$1 - VM: Java HotSpot(TM) 64-Bit Server VM \n[ 115531]  ERROR - tRunWizard$SetupProgressStep$1 - Vendor: Oracle Corporation \n[ 115531]  ERROR - tRunWizard$SetupProgressStep$1 - OS: Linux \n[ 115532]  ERROR - tRunWizard$SetupProgressStep$1 - Last Action:  \n</code></pre>\n", "title": "Error: Unable to run mksdcard SDK tool", "tags": ["java", "android", "android-studio"], "answer_count": 10, "link": "http://stackoverflow.com/questions/29241640/error-unable-to-run-mksdcard-sdk-tool", "answers": [{"body": "<p>This really needs to be added to the documentation, which is why I filed <a href=\"https://code.google.com/p/android/issues/detail?id=82711\">an issue about it</a> a few months ago...</p>\n\n<p>You need some 32-bit binaries, and you have a 64-bit OS version (apparently). Try:</p>\n\n<pre><code>sudo apt-get install lib32z1 lib32ncurses5 lib32bz2-1.0 lib32stdc++6\n</code></pre>\n\n<p>That worked for me on Ubuntu 14.10.</p>\n", "title": "Error: Unable to run mksdcard SDK tool", "answer_id": 29242123, "link": "http://stackoverflow.com/questions/29241640/error-unable-to-run-mksdcard-sdk-tool/29242123#29242123", "tags": ["java", "android", "android-studio"]}, {"body": "<p>This workaround also works with 15.04 (64bit). Since there isn't (yet?)\nlib32bz2-1.0 for vivid:</p>\n\n<p><a href=\"http://packages.ubuntu.com/search?keywords=lib32bz2-1.0\" rel=\"nofollow\">http://packages.ubuntu.com/search?keywords=lib32bz2-1.0</a></p>\n\n<p>I installed the one from Utopic.</p>\n", "title": "Error: Unable to run mksdcard SDK tool", "answer_id": 29513010, "link": "http://stackoverflow.com/questions/29241640/error-unable-to-run-mksdcard-sdk-tool/29513010#29513010", "tags": ["java", "android", "android-studio"]}, {"body": "<p>For <strong>UBUNTU 15.04,15.10 &amp; 16.04 LTS</strong> Try this command: </p>\n\n<pre><code>sudo apt-get install lib32stdc++6\n</code></pre>\n", "title": "Error: Unable to run mksdcard SDK tool", "answer_id": 31088492, "link": "http://stackoverflow.com/questions/29241640/error-unable-to-run-mksdcard-sdk-tool/31088492#31088492", "tags": ["java", "android", "android-studio"]}, {"body": "<p>For Ubuntu, you can try:</p>\n\n<pre><code>sudo apt-get install lib32z1 lib32ncurses5 lib32bz2-1.0 lib32stdc++6\n</code></pre>\n\n<p>For Cent OS/RHEL try :</p>\n\n<pre><code>sudo yum install zlib.i686 ncurses-libs.i686 bzip2-libs.i686 \n</code></pre>\n\n<p>Then, re-install the Android Studio and get success.</p>\n", "title": "Error: Unable to run mksdcard SDK tool", "answer_id": 31271734, "link": "http://stackoverflow.com/questions/29241640/error-unable-to-run-mksdcard-sdk-tool/31271734#31271734", "tags": ["java", "android", "android-studio"]}, {"body": "<p>This worked for me on Ubuntu 15.04</p>\n\n<p><code>sudo aptitude install lib32stdc++6</code></p>\n\n<p>Firstly, I installed aptitude, which helps in installing other dependencies too.</p>\n", "title": "Error: Unable to run mksdcard SDK tool", "answer_id": 33279983, "link": "http://stackoverflow.com/questions/29241640/error-unable-to-run-mksdcard-sdk-tool/33279983#33279983", "tags": ["java", "android", "android-studio"]}, {"body": "<p>In case of <strong>lubuntu</strong> 14.04 use</p>\n\n<blockquote>\n  <p>sudo apt-get install lib32z1 lib32ncurses5 lib32bz2-1.0 lib32stdc++6</p>\n</blockquote>\n\n<p>P.S-no need to restart the system.</p>\n", "title": "Error: Unable to run mksdcard SDK tool", "answer_id": 34476547, "link": "http://stackoverflow.com/questions/29241640/error-unable-to-run-mksdcard-sdk-tool/34476547#34476547", "tags": ["java", "android", "android-studio"]}, {"body": "<p>if you do this: \n<code>sudo apt-get install lib32z1 lib32ncurses5 lib32bz2-1.0 lib32stdc++6</code>. \nYou may get this error:</p>\n\n<pre><code>E: Unable to locate package lib32bz2-1.0\n\nE: Couldn't find any package by glob 'lib32bz2-1.0'\n\nE: Couldn't find any package by regex 'lib32bz2-1.0'\n</code></pre>\n\n<p>So i suggest just doing this:</p>\n\n<p><code>sudo apt-get install lib32stdc++6</code></p>\n\n<p>And also, the AOSP should look for how while installing Android-Studio, that is installed too.</p>\n", "title": "Error: Unable to run mksdcard SDK tool", "answer_id": 37074357, "link": "http://stackoverflow.com/questions/29241640/error-unable-to-run-mksdcard-sdk-tool/37074357#37074357", "tags": ["java", "android", "android-studio"]}, {"body": "<p>Here's what you need to do to fix the issue on Arch Linux :</p>\n\n<ol>\n<li><p>Enable the <code>multilib</code> repository on your system if you have not already done so by uncommenting the <code>[multilib]</code> section in <code>/etc/pacman.conf</code> :</p>\n\n<pre><code>[multilib]\nInclude = /etc/pacman.d/mirrorlist\n</code></pre></li>\n<li><p>Update pacman :</p>\n\n<pre><code># pacman -Suy\n</code></pre></li>\n<li><p>Install the 32 bit version of libstdc++5 :</p>\n\n<pre><code># pacman -S lib32-libstdc++5\n</code></pre></li>\n</ol>\n", "title": "Error: Unable to run mksdcard SDK tool", "answer_id": 37197045, "link": "http://stackoverflow.com/questions/29241640/error-unable-to-run-mksdcard-sdk-tool/37197045#37197045", "tags": ["java", "android", "android-studio"]}, {"body": "<p>This is what worked for me </p>\n\n<p>When I tried the Accepted ans my Android Studio hangs on start-up</p>\n\n<p>This is the link </p>\n\n<blockquote>\n  <p><a href=\"http://tools.android.com/tech-docs/linux-32-bit-libraries\" rel=\"nofollow\">http://tools.android.com/tech-docs/linux-32-bit-libraries</a></p>\n</blockquote>\n\n<p>and This is the Command </p>\n\n<pre><code>$ sudo apt-get install libc6:i386 libncurses5:i386 libstdc++6:i386 lib32z1\n</code></pre>\n", "title": "Error: Unable to run mksdcard SDK tool", "answer_id": 39218943, "link": "http://stackoverflow.com/questions/29241640/error-unable-to-run-mksdcard-sdk-tool/39218943#39218943", "tags": ["java", "android", "android-studio"]}, {"body": "<p>Just to say 16.04, I'm running </p>\n\n<pre><code>sudo apt-get install lib32z1 lib32ncurses5 libbz2-1.0:i386 lib32stdc++6\n</code></pre>\n\n<p>seems to work on a vanilla install after installing oracle-jdk-8</p>\n", "title": "Error: Unable to run mksdcard SDK tool", "answer_id": 39275780, "link": "http://stackoverflow.com/questions/29241640/error-unable-to-run-mksdcard-sdk-tool/39275780#39275780", "tags": ["java", "android", "android-studio"]}], "question_id": 29241640}, {"body": "<p>I would like my C++ code to stop running if a certain condition is met, but I'm not sure how to do that. So just at any point if an <code>if</code> statement is true terminate the code like this:</p>\n\n<pre><code>if (x==1)\n{\n    kill code;\n}\n</code></pre>\n", "title": "How to end C++ code", "tags": ["c++"], "answer_count": 13, "link": "http://stackoverflow.com/questions/30250934/how-to-end-c-code", "answers": [{"body": "<p>Call the <a href=\"http://en.cppreference.com/w/cpp/utility/program/exit\"><code>std::exit</code></a> function. &nbsp;&nbsp;</p>\n", "title": "How to end C++ code", "answer_id": 1116494, "link": "http://stackoverflow.com/questions/30250934/how-to-end-c-code/1116494#1116494", "tags": ["c++"]}, {"body": "<p>Either return a value from your <code>main</code> or use the <code>exit</code> function.  Both take an int.  It doesn't really matter what value you return unless you have an external process watching for the return value.</p>\n", "title": "How to end C++ code", "answer_id": 1116498, "link": "http://stackoverflow.com/questions/30250934/how-to-end-c-code/1116498#1116498", "tags": ["c++"]}, {"body": "<p>Generally you would use the <code>exit()</code> method with an appropriate <a href=\"http://www.gnu.org/s/libc/manual/html_node/Exit-Status.html\">exit status</a>. </p>\n\n<p>Zero would mean a successful run. A non-zero status indicates some sort of problem has occurred. This exit code is used by parent processes (e.g. shell scripts) to determine if a process has run successfully.</p>\n", "title": "How to end C++ code", "answer_id": 1116507, "link": "http://stackoverflow.com/questions/30250934/how-to-end-c-code/1116507#1116507", "tags": ["c++"]}, {"body": "<p>The program will terminate when the execution flow reaches the end of the main function.</p>\n\n<p>To terminate it before then, you can use the exit(int status) function, where status is a value returned to whatever started the program. 0 normally indicates a non-error state</p>\n", "title": "How to end C++ code", "answer_id": 1116511, "link": "http://stackoverflow.com/questions/30250934/how-to-end-c-code/1116511#1116511", "tags": ["c++"]}, {"body": "<p>As Martin York mentioned, exit doesn't perform necessary clean-up like return does.</p>\n\n<p>It's always better to use return in the place of exit.\nIn case if you are not in main, wherever you would like to exit the program, return to main first.</p>\n\n<p>Consider the below example.\nWith the following program, a file will be created with the content mentioned.\nBut if return is commented &amp; uncommented exit(0), the compiler doesn't assure you that the file will have the required text.</p>\n\n<pre><code>int main()\n{\n    ofstream os(\"out.txt\");\n    os &lt;&lt; \"Hello, Can you see me!\\n\";\n    return(0);\n    //exit(0);\n}\n</code></pre>\n\n<p>Not just this, Having multiple exit points in a program will make debugging harder.\nUse exit only when it can be justified.</p>\n", "title": "How to end C++ code", "answer_id": 1118826, "link": "http://stackoverflow.com/questions/30250934/how-to-end-c-code/1118826#1118826", "tags": ["c++"]}, {"body": "<p>If you have an error somewhere deep in the code, then either throw an exception or set the error code. It's always better to throw an exception instead of setting error codes.</p>\n", "title": "How to end C++ code", "answer_id": 1123843, "link": "http://stackoverflow.com/questions/30250934/how-to-end-c-code/1123843#1123843", "tags": ["c++"]}, {"body": "<p>People are saying \"call exit(return code),\" but this is bad form. In small programs it is fine, but there are a number of issues with this:</p>\n\n<ol>\n<li>You will end up having multiple exit points from the program</li>\n<li>It makes code more convoluted (like using goto)</li>\n<li>It cannot release memory allocated at runtime</li>\n</ol>\n\n<p>Really, the only time you should exit the problem is with this line in main.cpp:</p>\n\n<pre><code>return 0;\n</code></pre>\n\n<p>If you are using exit() to handle errors, you should learn about exceptions (and nesting exceptions), as a much more elegant and safe method. </p>\n", "title": "How to end C++ code", "answer_id": 1123870, "link": "http://stackoverflow.com/questions/30250934/how-to-end-c-code/1123870#1123870", "tags": ["c++"]}, {"body": "<p>Beyond calling exit(error_code) - which calls atexit handlers, but not RAII destructors, etc.\n- more and more I am using exceptions.</p>\n\n<p>More and more my main program looks like</p>\n\n<pre><code>int main(int argc, char** argv) \n{\n    try {\n        exit( secondary_main(argc, argv );\n    }\n    catch(...) {\n        // optionally, print something like \"unexpected or unknown exception caught by main\"\n        exit(1);\n    }\n}\n</code></pre>\n\n<p>where secondary_main\nin where all the stuff that was originally is put --\ni.e. the original main is renamed secondary_main, and the stub main above is added.\nThis is just a nicety, so that there isn't too much code between the tray and catch in main.</p>\n\n<p>If you want, catch other exception types.<br>\nI quite like catching string error types, like std::string or char*, and printing those \nin the catch handler in main.</p>\n\n<p>Using exceptions like this at least allows RAII destructors to be called, so that they can do cleanup.  Which can be pleasant and useful.</p>\n\n<p>Overall, C error handling - exit and signals - and C++ error handling - try/catch/throw exceptions - play together inconsistently at best.</p>\n\n<p>Then, where you detect an error</p>\n\n<pre><code>throw \"error message\"\n</code></pre>\n\n<p>or some more specific exception type.</p>\n", "title": "How to end C++ code", "answer_id": 15168486, "link": "http://stackoverflow.com/questions/30250934/how-to-end-c-code/15168486#15168486", "tags": ["c++"]}, {"body": "<p>There are several ways, but first you need to understand why object cleanup is important, and hence the reason <a href=\"http://en.cppreference.com/w/cpp/utility/program/exit\"><code>std::exit</code></a> is marginalized among C++ programmers.</p>\n\n<h2>RAII and Stack Unwinding</h2>\n\n<p>C++ makes use of a idiom called <a href=\"http://en.cppreference.com/w/cpp/language/raii\">RAII</a>, which in simple terms means objects should perform initialization in the constructor and cleanup in the destructor. For instance the <a href=\"http://en.cppreference.com/w/cpp/io/basic_ofstream\"><code>std::ofstream</code></a> class [may] open the file during the constructor, then the user performs output operations on it, and finally at the end of its life cycle, usually determined by its scope, the destructor is called that essentially closes the file and flushes any written content into the disk.</p>\n\n<p>What happens if you don't get to the destructor to flush and close the file? <em>Who knows!</em> But possibly it won't write all the data it was supposed to write into the file.</p>\n\n<p>For instance consider this code</p>\n\n<pre><code>#include &lt;fstream&gt;\n#include &lt;exception&gt;\n#include &lt;memory&gt;\n\nvoid inner_mad()\n{\n    throw std::exception();\n}\n\nvoid mad()\n{\n    std::unique_ptr&lt;int&gt; ptr(new int);\n    inner_mad();\n}\n\nint main()\n{\n    std::ofstream os(\"file.txt\");\n    os &lt;&lt; \"Content!!!\";\n\n    int possibility = /* either 1, 2, 3 or 4 */;\n\n    if(possibility == 1)\n        return 0;\n    else if(possibility == 2)\n        throw std::exception();\n    else if(possibility == 3)\n        mad();\n    else if(possibility == 4)\n        exit(0);\n}\n</code></pre>\n\n<p>What happens in each possibility is:</p>\n\n<ul>\n<li><strong>Possibility 1:</strong> Return essentially leaves the current function scope, so it knows about the end of the life cycle of <code>os</code> thus calling its destructor and doing proper cleanup by closing and flushing the file to disk.</li>\n<li><strong>Possibility 2:</strong> Throwing a exception also takes care of the life cycle of the objects in the current scope, thus doing proper cleanup...</li>\n<li><strong>Possibility 3:</strong> Here stack unwinding enters in action! Even though the exception is thrown at <code>inner_mad</code>, the unwinder will go though the stack of <code>mad</code> and <code>main</code> to perform proper cleanup, all the objects are going to be destructed properly, including <code>ptr</code> and <code>os</code>.</li>\n<li><strong>Possibility 4:</strong> Well, here? <a href=\"http://en.cppreference.com/w/cpp/utility/program/exit\"><code>exit</code></a> is a C function and it's not aware nor compatible with the C++ idioms. It <strong>does not</strong> perform cleanup on your objects, including <code>os</code> in the very same scope. So your file won't be closed properly and for this reason the content might never get written into it!</li>\n<li><strong>Other Possibilities:</strong> It'll just leave main scope, by performing a implicit <code>return 0</code> and thus having the same effect as possibility 1, i.e. proper cleanup.</li>\n</ul>\n\n<p>But don't be so certain about what I just told you (mainly possibilities 2 and 3); continue reading and we'll find out how to perform a proper exception based cleanup.</p>\n\n<h2>Possible Ways To <em>End</em></h2>\n\n<h3>Return from main!</h3>\n\n<p>You should do this whenever possible; always prefer to return from your program by returning a proper exit status from main.</p>\n\n<p>The caller of your program, and possibly the operating system, might want to know whether what your program was supposed to do was done successfully or not. For this same reason you should return either zero or <a href=\"http://en.cppreference.com/w/cpp/utility/program/EXIT_status\"><code>EXIT_SUCCESS</code></a> to signal that the program successfully terminated and <a href=\"http://en.cppreference.com/w/cpp/utility/program/EXIT_status\"><code>EXIT_FAILURE</code></a> to signal the program terminated unsuccessfully, any other form of return value is implementation-defined (<em>\u00a718.5/8</em>).</p>\n\n<p>However you may be very deep in the call stack, and returning all of it may be painful...</p>\n\n<h3>[Do not] throw a exception</h3>\n\n<p>Throwing a exception will perform proper object cleanup using stack unwinding, by calling the destructor of every object in any previous scope.</p>\n\n<p>But here's <strong>the catch</strong>! It's implementation-defined whether stack unwinding is performed when a thrown exception is not handled <em>(by the catch(...) clause)</em> or even if you have a <a href=\"http://en.cppreference.com/w/cpp/language/noexcept_spec\"><code>noexcept</code></a> function in the middle of the call stack. This is stated in <em>\u00a715.5.1 [except.terminate]</em>:</p>\n\n<blockquote>\n  <ol>\n  <li><p>In some situations exception handling must be abandoned for less subtle error handling techniques. [Note: These situations are:</p>\n  \n  <blockquote>\n    <p>[...]</p>\n    \n    <p>\u2014  <strong>when the exception handling mechanism cannot find a handler for a thrown exception (15.3), or when the search for a handler (15.3) encounters the outermost block of a function with a <code>noexcept</code>-specification</strong> that does not allow the exception (15.4), or [...]</p>\n    \n    <p>[...]</p>\n  </blockquote></li>\n  <li><p><strong>In such cases, std::terminate() is called (18.8.3). In the situation where no matching handler is found, it is implementation-defined whether or not the stack is unwound before std::terminate() is called</strong> [...]</p></li>\n  </ol>\n</blockquote>\n\n<p>So we have to catch it!</p>\n\n<h3>Do throw a exception and catch it at main!</h3>\n\n<p>Since uncaught exceptions may not perform stack unwinding <em>(and consequently won't perform proper cleanup)</em>, we should catch the exception in main and then return a exit status (<a href=\"http://en.cppreference.com/w/cpp/utility/program/EXIT_status\"><code>EXIT_SUCCESS</code></a> or <a href=\"http://en.cppreference.com/w/cpp/utility/program/EXIT_status\"><code>EXIT_FAILURE</code></a>).</p>\n\n<p>So a possibly good setup would be:</p>\n\n<pre><code>int main()\n{\n    /* ... */\n    try\n    {\n        // Insert code that will return by throwing a exception.\n    }\n    catch(const std::exception&amp;)  // Consider using a custom exception type for intentional\n    {                             // throws. A good idea might be a `return_exception`.\n        return EXIT_FAILURE;\n    }\n    /* ... */\n}\n</code></pre>\n\n<h3>[Do not] std::exit</h3>\n\n<p>This does not perform any sort of stack unwinding, and no alive object on the stack will call its respective destructor to perform cleanup.</p>\n\n<p>This is enforced in <em>\u00a73.6.1/4 [basic.start.init]</em>:</p>\n\n<blockquote>\n  <p><strong>Terminating the program without leaving the current block (e.g., by calling the function std::exit(int) (18.5)) does not destroy any objects with automatic storage duration (12.4)</strong>. If std::exit is called to end a program during the destruction of an object with static or thread storage duration, the program has undefined behavior.</p>\n</blockquote>\n\n<p>Think about it now, why would you do such a thing? How many objects have you painfully damaged?</p>\n\n<h2>Other [as bad] alternatives</h2>\n\n<p>There are other ways to terminate a program <em>(other than crashing)</em>, but they aren't recommended. Just for the sake of clarification they are going to be presented here. Notice how <em>normal program termination</em> <strong>does not</strong> mean stack unwinding but an <em>okay</em> state for the operating system.</p>\n\n<ul>\n<li><a href=\"http://en.cppreference.com/w/cpp/utility/program/_Exit\"><code>std::_Exit</code></a> causes a normal program termination, and that's it.</li>\n<li><a href=\"http://en.cppreference.com/w/cpp/utility/program/quick_exit\"><code>std::quick_exit</code></a> causes a normal program termination and calls <a href=\"http://en.cppreference.com/w/cpp/utility/program/at_quick_exit\"><code>std::at_quick_exit</code></a> handlers, no other cleanup is performed.</li>\n<li><a href=\"http://en.cppreference.com/w/cpp/utility/program/exit\"><code>std::exit</code></a> causes a normal program termination and then calls <a href=\"http://en.cppreference.com/w/cpp/utility/program/atexit\"><code>std::atexit</code></a> handlers. Other sorts of cleanups are performed such as calling static objects destructors.</li>\n<li><a href=\"http://en.cppreference.com/w/cpp/utility/program/abort\"><code>std::abort</code></a> causes an abnormal program termination, no cleanup is performed. This should be called if the program terminated in a really, really unexpected way. It'll do nothing but signal the OS about the abnormal termination. Some systems perform a core dump in this case.</li>\n<li><a href=\"http://en.cppreference.com/w/cpp/error/terminate\"><code>std::terminate</code></a> calls the <a href=\"http://en.cppreference.com/w/cpp/error/terminate_handler\"><code>std::terminate_handler</code></a> which calls <a href=\"http://en.cppreference.com/w/cpp/utility/program/abort\"><code>std::abort</code></a> by default.</li>\n</ul>\n", "title": "How to end C++ code", "answer_id": 30251056, "link": "http://stackoverflow.com/questions/30250934/how-to-end-c-code/30251056#30251056", "tags": ["c++"]}, {"body": "<p><code>return 0;</code> put that wherever you want within <code>int main()</code> and the program will immediately close. </p>\n", "title": "How to end C++ code", "answer_id": 30251133, "link": "http://stackoverflow.com/questions/30250934/how-to-end-c-code/30251133#30251133", "tags": ["c++"]}, {"body": "<p>Dude... <code>exit()</code> function is defined under stdlib.h</p>\n\n<p>So you need to add a preprocessor. </p>\n\n<p>Put <code>include stdlib.h</code> in the header section   </p>\n\n<p>Then use <code>exit();</code> wherever you like but remember to put an interger number in the parenthesis of exit. </p>\n\n<p>for example: </p>\n\n<pre><code>exit(0);\n</code></pre>\n", "title": "How to end C++ code", "answer_id": 35924988, "link": "http://stackoverflow.com/questions/30250934/how-to-end-c-code/35924988#35924988", "tags": ["c++"]}, {"body": "<p>If the condition I'm testing for is really bad news, I do this:</p>\n\n<pre><code>*(int*) NULL= 0;\n</code></pre>\n\n<p>This gives me a nice coredump from where I can examine the situation.</p>\n", "title": "How to end C++ code", "answer_id": 38337905, "link": "http://stackoverflow.com/questions/30250934/how-to-end-c-code/38337905#38337905", "tags": ["c++"]}, {"body": "<p>If your if statement is in Loop You can use </p>\n\n<pre><code>break; \n</code></pre>\n\n<p>If you want to  escape some code &amp; continue to loop  Use : </p>\n\n<pre><code>continue;\n</code></pre>\n\n<p>If your if statement not in Loop You can use :</p>\n\n<pre><code>return 0;\n\nOr \n\n\nexit();\n</code></pre>\n", "title": "How to end C++ code", "answer_id": 39291288, "link": "http://stackoverflow.com/questions/30250934/how-to-end-c-code/39291288#39291288", "tags": ["c++"]}], "question_id": 30250934}, {"body": "<p>I am trying to register my application for local notifications this way:</p>\n\n<pre><code>UIApplication.sharedApplication().registerUserNotificationSettings(UIUserNotificationSettings(forTypes: UIUserNotificationType.Alert | UIUserNotificationType.Badge, categories: nil))\n</code></pre>\n\n<p>In Xcode 7 and Swift 2.0 - I get error <code>Binary Operator \"|\" cannot be applied to two UIUserNotificationType operands</code>. Please help me.</p>\n", "title": "Swift 2.0 - Binary Operator &quot;|&quot; cannot be applied to two UIUserNotificationType operands", "tags": ["ios", "swift", "swift2"], "answer_count": 3, "link": "http://stackoverflow.com/questions/30761996/swift-2-0-binary-operator-cannot-be-applied-to-two-uiusernotificationtype", "answers": [{"body": "<p>In Swift 2, many types that you would typically do this for have been updated to conform to the OptionSetType protocol. This allows for array like syntax for usage, and In your case, you can use the following.</p>\n\n<pre><code>let settings = UIUserNotificationSettings(forTypes: [.Alert, .Badge], categories: nil)\nUIApplication.sharedApplication().registerUserNotificationSettings(settings)\n</code></pre>\n\n<p>And on a related note, if you want to check if an option set contains a specific option, you no longer need to use bitwise AND and a nil check. You can simply ask the option set if it contains a specific value in the same way that you would check if an array contained a value.</p>\n\n<pre><code>let settings = UIUserNotificationSettings(forTypes: [.Alert, .Badge], categories: nil)\n\nif settings.types.contains(.Alert) {\n    // stuff\n}\n</code></pre>\n", "title": "Swift 2.0 - Binary Operator &quot;|&quot; cannot be applied to two UIUserNotificationType operands", "answer_id": 30763344, "link": "http://stackoverflow.com/questions/30761996/swift-2-0-binary-operator-cannot-be-applied-to-two-uiusernotificationtype/30763344#30763344", "tags": ["ios", "swift", "swift2"]}, {"body": "<p>You can write the following:</p>\n\n<pre><code>let settings = UIUserNotificationType.Alert.union(UIUserNotificationType.Badge)\n</code></pre>\n", "title": "Swift 2.0 - Binary Operator &quot;|&quot; cannot be applied to two UIUserNotificationType operands", "answer_id": 31304682, "link": "http://stackoverflow.com/questions/30761996/swift-2-0-binary-operator-cannot-be-applied-to-two-uiusernotificationtype/31304682#31304682", "tags": ["ios", "swift", "swift2"]}, {"body": "<p>What worked for me was </p>\n\n<pre><code>//This worked\nvar settings = UIUserNotificationSettings(forTypes: UIUserNotificationType([.Alert, .Badge, .Sound]), categories: nil)\n</code></pre>\n", "title": "Swift 2.0 - Binary Operator &quot;|&quot; cannot be applied to two UIUserNotificationType operands", "answer_id": 32834485, "link": "http://stackoverflow.com/questions/30761996/swift-2-0-binary-operator-cannot-be-applied-to-two-uiusernotificationtype/32834485#32834485", "tags": ["ios", "swift", "swift2"]}], "question_id": 30761996}, {"body": "<p>I created a sample project, with C#6.0 goodies - null propagation and properties initialization as an example, set target version .NET 4.0 and it... works.</p>\n\n<pre><code>public class Cat\n{\n    public int TailLength { get; set; } = 4;\n\n    public Cat Friend { get; set; }\n\n    public string Mew() { return \"Mew!\"; }\n}\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        var cat = new Cat {Friend = new Cat()};\n        Console.WriteLine(cat?.Friend.Mew());\n        Console.WriteLine(cat?.Friend?.Friend?.Mew() ?? \"Null\");\n        Console.WriteLine(cat?.Friend?.Friend?.TailLength ?? 0);\n    }\n}\n</code></pre>\n\n<ul>\n<li><a href=\"http://en.wikipedia.org/wiki/C_Sharp_%28programming_language%29\">Wikipedia says</a> .NET framework for C# 6.0 is 4.6.</li>\n<li><a href=\"http://stackoverflow.com/questions/23605210/what-clr-is-needed-for-c-sharp-6\">This question</a> (and <a href=\"http://en.wikipedia.org/wiki/Microsoft_Visual_Studio#Visual_Studio_2015\">Visual&nbsp;Studio&nbsp;2015</a> CTP test) says CLR version is 4.0.30319.0.</li>\n<li><a href=\"https://msdn.microsoft.com/en-us/library/8bs2ecf4\">This MSDN page</a> says that .NET 4, 4.5, 4.5.2 uses CLR 4. There isn't any information about .NET 4.6.</li>\n</ul>\n\n<p>Does it mean that I can use C# 6.0 features for my software that targets .NET 4.0? Are there any limitations or drawbacks?</p>\n", "title": "Does C# 6.0 work for .NET 4.0?", "tags": ["c#", ".net", "c#-6.0"], "answer_count": 4, "link": "http://stackoverflow.com/questions/28921701/does-c-6-0-work-for-net-4-0", "answers": [{"body": "<p>Yes, you can use newer compilers for older frameworks and get access to the new compiler features (as long as those features do not require new types introduced in .NET 4.6).</p>\n\n<p>Other examples of this are methods with default parameters was introduced with C# 4.0 (.NET 4.0) but you are able to use them in .NET 2.0 (C# 2.0) and .NET 3.5 (C# 3.0) projects.</p>\n\n<p>You are also able to use Extension Methods (introduced in C# 3.0) in .NET 2.0 or .NET 3.0 <a href=\"http://stackoverflow.com/questions/11346554/can-i-use-extension-methods-and-linq-in-net-2-0-or-3-0\">if you do one small workaround</a> to make the compiler happy so it can find a attribute that was introduced in .NET 3.5.</p>\n", "title": "Does C# 6.0 work for .NET 4.0?", "answer_id": 28921747, "link": "http://stackoverflow.com/questions/28921701/does-c-6-0-work-for-net-4-0/28921747#28921747", "tags": ["c#", ".net", "c#-6.0"]}, {"body": "<p>Yes (mostly). C# 6.0 requires the new Roslyn compiler, but the new compiler can compile targeting older framework versions. That's only limited to new features that <strong>don't require support from the framework</strong>.</p>\n\n<p>For example, while you can use the string interpolation feature in C# 6.0 with earlier versions of .Net (as it results in a call to <code>string.Format</code>):</p>\n\n<pre><code>int i = 3;\nstring s = $\"{i}\";\n</code></pre>\n\n<p>You need .Net 4.6 to use it with <code>IFormattable</code> as only the new framework version adds <code>System.FormattableString</code>:</p>\n\n<pre><code>int i = 3;\nIFormattable s = $\"{i}\";\n</code></pre>\n\n<p>The cases you mentioned don't need types from the framework to work. So the compiler is fully capable of supporting these features for old framework versions.</p>\n", "title": "Does C# 6.0 work for .NET 4.0?", "answer_id": 28921749, "link": "http://stackoverflow.com/questions/28921701/does-c-6-0-work-for-net-4-0/28921749#28921749", "tags": ["c#", ".net", "c#-6.0"]}, {"body": "<p>Just want to focus on how to understand Wikipedia and other links.</p>\n\n<p>When Wikipedia says C# 6.0 is with .NET Framework 4.6, it simply means the production version of the compiler (msc.exe) will be part of the .NET Framework 4.6 release. Via <a href=\"https://msdn.microsoft.com/en-us/library/bb398197.aspx?f=255&amp;MSPPError=-2147217396\">multi-targeting</a>, such compilers can support lower versions of .NET Framework releases. Of course, since Roslyn became an open source project, the compiler is now completely an individual component.</p>\n\n<p>When something refers the CLR version of 4.0.30319(.0), it actually can be .NET Framework 4.* (4.0, 4.0.*, 4.5, 4.5.*, 4.6), as they all implement the CLR version 4 specification. Not to mention Xamarin/Mono also implement the same CLR specification. </p>\n\n<p>The MSDN page is not yet fully updated, but <a href=\"https://msdn.microsoft.com/en-us/library/vstudio/system.object(v=vs.110).aspx\">some page</a> already has .NET Framework 4.6 listed in Version Information section.</p>\n\n<p>In all, language specs (as well as C# compiler), CLR specs, and .NET Framework releases are not tightly coupled with each other. It does give developers enough flexibility to utilize new compilers to target older CLRs and .NET Frameworks.</p>\n", "title": "Does C# 6.0 work for .NET 4.0?", "answer_id": 28922956, "link": "http://stackoverflow.com/questions/28921701/does-c-6-0-work-for-net-4-0/28922956#28922956", "tags": ["c#", ".net", "c#-6.0"]}, {"body": "<p>I used IFormattable feature of c# 6.0 in .net 4.0 without installing anything and it's working:</p>\n\n<pre><code>int i = 3;\nstring s = $\"This is just a test number {i}\";\n</code></pre>\n", "title": "Does C# 6.0 work for .NET 4.0?", "answer_id": 38457810, "link": "http://stackoverflow.com/questions/28921701/does-c-6-0-work-for-net-4-0/38457810#38457810", "tags": ["c#", ".net", "c#-6.0"]}], "question_id": 28921701}, {"body": "<p>Im using Python 2.7.3 and Requests. I installed Requests via pip. I believe it's the latest version. I'm running on Debian Wheezy.</p>\n\n<p>I've used Requests lots of times in the past and never faced this issue, but it seems that when making https requests with <code>Requests</code> I get an <code>InsecurePlatform</code> exception.</p>\n\n<p>The error mentions <code>urllib3</code>, but I don't have that installed. I did install it to check if it resolved the error, but it didn't.</p>\n\n<pre><code>/usr/local/lib/python2.7/dist-packages/requests/packages/urllib3\n/util/ssl_.py:79: InsecurePlatformWarning: A true SSLContext object is not\navailable. This prevents urllib3 from configuring SSL appropriately and \nmay cause certain SSL connections to fail. For more information, see \nhttps://urllib3.readthedocs.org/en/latest  \n/security.html#insecureplatformwarning.\n</code></pre>\n\n<p>Any ideas as to why I'm getting this? I've checked the docs, as specified in the error message, but the docs are saying to import urllib3 and either disable the warning, or provide a certificate.</p>\n", "title": "SSL InsecurePlatform error when using Requests package", "tags": ["python", "ssl", "python-requests"], "answer_count": 6, "link": "http://stackoverflow.com/questions/29099404/ssl-insecureplatform-error-when-using-requests-package", "answers": [{"body": "<p>Use the somewhat hidden <strong>security</strong> feature:</p>\n\n<p><code>pip install 'requests[security]'</code>\nor\n<code>pip install pyOpenSSL ndg-httpsclient pyasn1</code> </p>\n\n<p>Both commands install following extra packages:</p>\n\n<ul>\n<li>pyOpenSSL</li>\n<li>ndg-httpsclient</li>\n<li>pyasn1</li>\n</ul>\n\n<p>Please note that this is not required for <a href=\"http://docs.python-requests.org/en/master/community/faq/#what-are-hostname-doesn-t-match-errors\" rel=\"nofollow\">python-2.7.9+</a>.</p>\n\n<p>If <code>pip install</code> fails with errors, check whether you have required development packages for <code>libffi</code>, <code>libssl</code> and <code>python</code> installed in your system <strong>using distribution's package manager</strong>:</p>\n\n<ul>\n<li><p><strong>Debian</strong>/<strong>Ubuntu</strong> - <code>python-dev</code> <code>libffi-dev</code> <code>libssl-dev</code> packages.</p></li>\n<li><p><strong>Fedora</strong> - <code>openssl-devel</code> <code>python-devel</code> <code>libffi-devel</code> packages.</p></li>\n</ul>\n\n<p><em>Distro list above is incomplete.</em></p>\n\n<p><strong>Workaround</strong> (<a href=\"http://stackoverflow.com/a/31946125/157176\">see the original answer by @TomDotTom</a>)<strong>:</strong></p>\n\n<p>In case you cannot install some of the required development packages, there's also an option to disable that warning:</p>\n\n<pre><code>import requests.packages.urllib3\nrequests.packages.urllib3.disable_warnings()\n</code></pre>\n", "title": "SSL InsecurePlatform error when using Requests package", "answer_id": 29099439, "link": "http://stackoverflow.com/questions/29099404/ssl-insecureplatform-error-when-using-requests-package/29099439#29099439", "tags": ["python", "ssl", "python-requests"]}, {"body": "<p>If you are <strong>not able to upgrade</strong> your Python version to 2.7.9, and want to suppress warnings, </p>\n\n<p>you can <strong>downgrade your 'requests'</strong> version to 2.5.3:</p>\n\n<pre><code>sudo pip install requests==2.5.3\n</code></pre>\n\n<p>About version:\n<a href=\"http://fossies.org/diffs/requests/2.5.3_vs_2.6.0/requests/packages/urllib3/util/ssl_.py-diff.html\">http://fossies.org/diffs/requests/2.5.3_vs_2.6.0/requests/packages/urllib3/util/ssl_.py-diff.html</a></p>\n", "title": "SSL InsecurePlatform error when using Requests package", "answer_id": 29154960, "link": "http://stackoverflow.com/questions/29099404/ssl-insecureplatform-error-when-using-requests-package/29154960#29154960", "tags": ["python", "ssl", "python-requests"]}, {"body": "<p>Requests 2.6 introduced this warning for users of python prior to 2.7.9 with only stock SSL modules available.</p>\n\n<p>Assuming you can't upgrade to a newer version of python, this will install more up-to-date python SSL libraries:</p>\n\n<pre><code>pip install --upgrade ndg-httpsclient \n</code></pre>\n\n<p>HOWEVER, this may fail on some systems without the build-dependencies for pyOpenSSL. On debian systems, running this before the pip command above should be enough for pyOpenSSL to build:</p>\n\n<pre><code>apt-get install python-dev libffi-dev libssl-dev\n</code></pre>\n", "title": "SSL InsecurePlatform error when using Requests package", "answer_id": 29501899, "link": "http://stackoverflow.com/questions/29099404/ssl-insecureplatform-error-when-using-requests-package/29501899#29501899", "tags": ["python", "ssl", "python-requests"]}, {"body": "<p>In fact, you can try this.</p>\n\n<p><code>requests.post(\"https://www.google.com\", verify=False)</code></p>\n\n<p>you can read the code for requests. </p>\n\n<p><code>\"C:\\Python27\\Lib\\site-packages\\requests\\sessions.py\"</code></p>\n\n<pre><code>class Session(SessionRedirectMixin):\n......\n def request(self, method, url,\n    params=None,\n    data=None,\n    headers=None,\n    cookies=None,\n    files=None,\n    auth=None,\n    timeout=None,\n    allow_redirects=True,\n    proxies=None,\n    hooks=None,\n    stream=None,\n    verify=None,  # &lt;========\n    cert=None):\n    \"\"\"\n    ...\n    :param verify: (optional) if True, the SSL cert will be verified.\n         A CA_BUNDLE path can also be provided.\n    ...\n    \"\"\"\n</code></pre>\n", "title": "SSL InsecurePlatform error when using Requests package", "answer_id": 30253542, "link": "http://stackoverflow.com/questions/29099404/ssl-insecureplatform-error-when-using-requests-package/30253542#30253542", "tags": ["python", "ssl", "python-requests"]}, {"body": "<p>I don't use this in production, just some test runners. And to reiterate the <a href=\"https://urllib3.readthedocs.org/en/latest/security.html#insecurerequestwarning\" rel=\"nofollow\">urllib3 documentation</a> </p>\n\n<blockquote>\n  <p>If you know what you are doing and would like to disable this and\n  other warnings</p>\n</blockquote>\n\n<pre><code>import requests.packages.urllib3\nrequests.packages.urllib3.disable_warnings()\n</code></pre>\n\n<p>Edit / Update:</p>\n\n<p>The following should also work:</p>\n\n<pre><code>import logging\nimport requests\n\n# turn down requests log verbosity\nlogging.getLogger('requests').setLevel(logging.CRITICAL)\n</code></pre>\n", "title": "SSL InsecurePlatform error when using Requests package", "answer_id": 31946125, "link": "http://stackoverflow.com/questions/29099404/ssl-insecureplatform-error-when-using-requests-package/31946125#31946125", "tags": ["python", "ssl", "python-requests"]}, {"body": "<p>This answer is unrelated, but if you  wanted to <strong>get rid of warning</strong> and get following warning from requests:</p>\n\n<p><code>InsecurePlatformWarning\n/usr/local/lib/python2.7/dist-packages/requests/packages/urllib3/util/ssl_.py:79: InsecurePlatformWarning: A true SSLContext object is not available. This prevents urllib3 from configuring SSL appropriately and may cause certain SSL connections to fail. For more information, see https://urllib3.readthedocs.org/en/latest/security.html#insecureplatformwarning.</code></p>\n\n<p>You can <strong>disable</strong> it by adding the following line to your python code:</p>\n\n<p><code>requests.packages.urllib3.disable_warnings()</code></p>\n", "title": "SSL InsecurePlatform error when using Requests package", "answer_id": 33824416, "link": "http://stackoverflow.com/questions/29099404/ssl-insecureplatform-error-when-using-requests-package/33824416#33824416", "tags": ["python", "ssl", "python-requests"]}], "question_id": 29099404}, {"body": "<p>What are the actual uses of the <code>WeakMap</code> data structure introduced in ECMAScript 6?</p>\n\n<p>Since a key of a weak map creates a strong reference to its corresponding value, ensuring that a value which has been inserted into a weak map will <em>never</em> disappear as long as its key is still alive, it can't be used for memo tables, caches or anything else that you would normally use weak references, maps with weak values, etc. for.</p>\n\n<p>It seems to me that this:</p>\n\n<pre><code>weakmap.set(key, value);\n</code></pre>\n\n<p>...is just a roundabout way of saying this:</p>\n\n<pre><code>key.value = value;\n</code></pre>\n\n<p>What concrete use cases am I missing?</p>\n", "title": "What are the actual uses of ES6 WeakMap?", "tags": ["javascript", "ecmascript-6", "weakmap"], "answer_count": 2, "link": "http://stackoverflow.com/questions/29413222/what-are-the-actual-uses-of-es6-weakmap", "answers": [{"body": "<p>A use case could be to use it as a dictionary for listeners, I have a coworker who did that. It is very helpful because any listener is directly targetted with this way of doing things. Goodbye <code>listener.on</code>.</p>\n\n<p>But from a more abstract point of view, <code>WeakMap</code> is especially powerful to dematerialize access to basically anything, you don't need a namespace to isolate its members since it is already implied by the nature of this structure. I'm pretty sure you could do some major memory improvements by replacing awkwards redundant object keys (even though deconstructing does the work for you).</p>\n\n<hr>\n\n<h2>Before reading what is next</h2>\n\n<p>I do now realize my emphasize is not exactly the best way to tackle the problem and as <a href=\"http://stackoverflow.com/users/1348195/benjamin-gruenbaum\">Benjamin Gruenbaum</a> pointed out (check out his answer, if it's not already above mine :p), this problem could not have been solved with a regular <code>Map</code>, since it would have leaked, thus the main strength of <code>WeakMap</code> is that it does not interfere with garbage collection given that they do not keep a reference.</p>\n\n<hr>\n\n<p>Here is the actual code of my coworker (thanks to <a href=\"http://stackoverflow.com/users/1147293/hugeen\">him</a> for sharing)</p>\n\n<p><a href=\"https://github.com/hugeen/burst/blob/master/core/event.js\" rel=\"nofollow\">Full source here</a>, it's about listeners management I talked about above (you can also take a look at the <a href=\"https://github.com/hugeen/burst/blob/master/test/core/event_spec.js\" rel=\"nofollow\">specs</a>)</p>\n\n<pre><code>var listenableMap = new WeakMap();\n\n\nexport function getListenable (object) {\n    if (!listenableMap.has(object)) {\n        listenableMap.set(object, {});\n    }\n\n    return listenableMap.get(object);\n}\n\n\nexport function getListeners (object, identifier) {\n    var listenable = getListenable(object);\n    listenable[identifier] = listenable[identifier] || [];\n\n    return listenable[identifier];\n}\n\n\nexport function on (object, identifier, listener) {\n    var listeners = getListeners(object, identifier);\n\n    listeners.push(listener);\n}\n\n\nexport function removeListener (object, identifier, listener) {\n    var listeners = getListeners(object, identifier);\n\n    var index = listeners.indexOf(listener);\n    if(index !== -1) {\n        listeners.splice(index, 1);\n    }\n}\n\n\nexport function emit (object, identifier, ...args) {\n    var listeners = getListeners(object, identifier);\n\n    for (var listener of listeners) {\n        listener.apply(object, args);\n    }\n}\n</code></pre>\n", "title": "What are the actual uses of ES6 WeakMap?", "answer_id": 29413402, "link": "http://stackoverflow.com/questions/29413222/what-are-the-actual-uses-of-es6-weakmap/29413402#29413402", "tags": ["javascript", "ecmascript-6", "weakmap"]}, {"body": "<h2>Fundamentally</h2>\n\n<p><strong>WeakMaps provide a way to extend objects from the outside without interfering with garbage collection.</strong> Whenever you want to extend an object but can't because it is sealed - or from an external source - a WeakMap can be applied.</p>\n\n<p>A WeakMap is a map (dictionary) where the <strong>keys</strong> are weak - that is, if all references to the <em>key</em> are lost and there are no more references to the value - the <em>value</em> can be garbage collected. Let's show this first through examples, then explain it a bit and finally finish with a real use.</p>\n\n<p>Let's say I'm using an API that gives me a certain object:</p>\n\n<pre><code>var obj = getObjectFromLibrary();\n</code></pre>\n\n<p>Now, I have a method that uses the object:</p>\n\n<pre><code>function useObj(obj){\n   doSomethingWith(obj);\n}\n</code></pre>\n\n<p>I want to keep track of how many times the method was called with a certain object and report if it happens more than N times. Naively one would think to use a Map:</p>\n\n<pre><code>var map = new Map(); // maps can have object keys\nfunction useObj(obj){\n    doSomethingWith(obj);\n    var called = map.get(obj) || 0;\n    called++; // called one more time\n    if(called &gt; 10) report(); // Report called more than 10 times\n    map.set(obj, called);\n}\n</code></pre>\n\n<p>This works, but it has a memory leak - we now keep track of every single library object passed to the function which keeps the library objects from ever being garbage collected. Instead - we can use a <code>WeakMap</code>:</p>\n\n<pre><code>var map = new WeakMap(); // create a weak map\nfunction useObj(obj){\n    doSomethingWith(obj);\n    var called = map.get(obj) || 0;\n    called++; // called one more time\n    if(called &gt; 10) report(); // Report called more than 10 times\n    map.set(obj, called);\n}\n</code></pre>\n\n<p>And the memory leak is gone. </p>\n\n<h2>Use cases</h2>\n\n<p>Some use cases that would otherwise cause a memory leak and are enabled by <code>WeakMap</code>s include:</p>\n\n<ul>\n<li>Keeping private data about a specific object and only giving access to it to people with a reference to the Map. A more ad-hoc approach is coming with the private-symbols proposal but that's a long time from now.</li>\n<li>Keeping data about library objects without changing them or incurring overhead. </li>\n<li>Keeping data about a small set of objects where many objects of the type exists to not incur problems with hidden classes JS engines use for objects of the same type.</li>\n<li>Keeping data about host objects like DOM nodes in the browser.</li>\n<li>Adding a capability to an object from the outside (like the event emitter example in the other answer).</li>\n</ul>\n\n<h2>Let's look at a real use</h2>\n\n<p>It can be used to extend an object from the outside. Let's give a practical (adapted, sort of real - to make a point) example from the real world of io.js.</p>\n\n<p>Let's say you're NodeJS and you have <code>Promise</code> objects - now you want to keep track of all the currently rejected promises - however you do <em>not</em> want to keep them from being garbage collected in case no references exist to them. </p>\n\n<p>Now, you <em>don't</em> want to add properties to native objects for obvious reasons - so you're stuck. If you keep references to the promises you're causing a memory leak since no garbage collection can happen - if you don't keep references you can't save additional information about individual promises. Any scheme that involves saving the ID of a promise inherently means you need a reference to it.</p>\n\n<h3>Enter WeakMaps</h3>\n\n<p>WeakMaps mean that the <strong>keys</strong> are weak. There are no ways to enumerate a weak map or to get all its values. In a weak map you can store the data based on a key and when the key gets garbage collected so do the values.</p>\n\n<p>This means that given a promise you can store state about it - and that object can still be garbage collected. Later on if you get a reference to an object you can check if you have any state relating to it and report it.</p>\n\n<p>This was used to implement <a href=\"https://github.com/iojs/io.js/issues/256\">unhandled rejection hooks</a> by Petka Antonov as <a href=\"https://iojs.org/api/process.html#process_event_unhandledrejection\">this</a>:</p>\n\n<pre><code>process.on('unhandledRejection', function(reason, p) {\n    console.log(\"Unhandled Rejection at: Promise \", p, \" reason: \", reason);\n    // application specific logging, throwing an error, or other logic here\n});\n</code></pre>\n\n<p>We keep information about promises in a map and can know when a rejected promise was handled.</p>\n", "title": "What are the actual uses of ES6 WeakMap?", "answer_id": 29416340, "link": "http://stackoverflow.com/questions/29413222/what-are-the-actual-uses-of-es6-weakmap/29416340#29416340", "tags": ["javascript", "ecmascript-6", "weakmap"]}], "question_id": 29413222}, {"body": "<p>With <code>react-router</code> I can use the <code>Link</code> element to create links that are natively handled by react router. </p>\n\n<p>I see internally it calls <code>this.context.transitionTo(...)</code>.</p>\n\n<p>I want to do a navigation, but not from a link, from a dropdown selection for example. How can I do this in code? What is <code>this.context</code>? </p>\n\n<p>I saw the <code>Navigation</code> mixin, but can I do this without mixins?</p>\n", "title": "Programmatically navigate using react router", "tags": ["reactjs", "react-router"], "answer_count": 8, "link": "http://stackoverflow.com/questions/31079081/programmatically-navigate-using-react-router", "answers": [{"body": "<blockquote>\n  <p><strong>React-Router 2.4.0+</strong> Answer</p>\n</blockquote>\n\n<p>In 2.4 and above, use a higher order component to get the router as a prop of your component.</p>\n\n<pre><code>import { withRouter } from 'react-router'\n\nclass Example extends React.Component {\n   // use `this.props.router.push('/some/path')` here\n};\n\n// Export the decorated class\nvar DecoratedExample = withRouter(Example);\n\n// PropTypes\nExample.propTypes = {\n  router: React.PropTypes.shape({\n    push: React.PropTypes.func.isRequired\n  }).isRequired\n};\n</code></pre>\n\n<blockquote>\n  <p><strong>React-Router 2.0.0+</strong> Answer</p>\n</blockquote>\n\n<p>This version is backwards compatible with 1.x so there's no need to an Upgrade Guide. Just going through the examples should be good enough.</p>\n\n<p>That said, if you wish to switch to the new pattern, there's a browserHistory module inside the router that you can access with</p>\n\n<p><code>import { browserHistory } from 'react-router'</code></p>\n\n<p>Now you have access to your browser history, so you can do things like push, replace, etc... Like:</p>\n\n<p><code>browserHistory.push('/some/path')</code></p>\n\n<p>Further reading:\n<a href=\"https://github.com/reactjs/react-router/blob/latest/docs/guides/Histories.md\">Histories</a> and\n<a href=\"https://github.com/reactjs/react-router/blob/latest/docs/guides/NavigatingOutsideOfComponents.md\">Navigation</a></p>\n\n<hr>\n\n<blockquote>\n  <p><strong>React-Router 1.x.x</strong> Answer</p>\n</blockquote>\n\n<p>I will not go into upgrading details. You can read about that in the <a href=\"https://github.com/rackt/react-router/blob/master/upgrade-guides/v1.0.0.md\">Upgrade Guide</a></p>\n\n<p>The main change about the question here is the change from Navigation mixin to History. Now it's using the browser historyAPI to change route so we will use <code>pushState()</code> from now on.</p>\n\n<p>Here's an exemple using Mixin:</p>\n\n<pre><code>var Example = React.createClass({\n  mixins: [ History ],\n  navigateToHelpPage () {\n    this.history.pushState(null, `/help`);\n  }\n})\n</code></pre>\n\n<p>Note that this <code>History</code> comes from <a href=\"https://github.com/rackt/history\">rackt/history</a> project. Not from React-Router itself.</p>\n\n<p>If you dont want to use Mixin for some reasonn (maybe because of ES6 class), then you can access the history that you get from the router from <code>this.props.history</code>. It will be only accessible for the components rendered by your Router. So, if you want to use it in any child components it needs to be passed down as an attribute via <code>props</code>.</p>\n\n<p>You can read more about the new release at their <a href=\"https://github.com/rackt/react-router/tree/1.0.x/docs\">1.0.x documentation</a></p>\n\n<p>Here is <a href=\"https://github.com/rackt/react-router/blob/1.0.x/docs/guides/advanced/NavigatingOutsideOfComponents.md\">a help page specifically about navigating outside your component</a></p>\n\n<p>It recommends grabbing a reference <code>history = createHistory()</code> and calling <code>replaceState</code> on that.</p>\n\n<blockquote>\n  <p><strong>React-Router 0.13.x</strong> Answer</p>\n</blockquote>\n\n<p>I got into the same problem and could only find the solution with the Navigation mixin that comes with react-router.</p>\n\n<p>Here's how I did it</p>\n\n<pre><code>import React from 'react';\nimport {Navigation} from 'react-router';\n\nlet Authentication = React.createClass({\n  mixins: [Navigation],\n\n  handleClick(e) {\n    e.preventDefault();\n\n    this.transitionTo('/');\n  },\n\n  render(){\n    return (&lt;div onClick={this.handleClick}&gt;Click me!&lt;/div&gt;);\n  }\n});\n</code></pre>\n\n<p>I was able to call <code>transitionTo()</code> without the need to access <code>.context</code></p>\n\n<p>Or you could try the fancy ES6 <code>class</code></p>\n\n<pre><code>import React from 'react';\n\nexport default class Authentication extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick(e) {\n    e.preventDefault();\n\n    this.context.router.transitionTo('/');\n  }\n\n  render(){\n    return (&lt;div onClick={this.handleClick}&gt;Click me!&lt;/div&gt;);\n  }\n}\n\nAuthentication.contextTypes = {\n  router: React.PropTypes.func.isRequired\n};\n</code></pre>\n\n<blockquote>\n  <p>Note that if you're using <strong>Redux</strong> there is another project called\n  <a href=\"https://github.com/reactjs/react-router-redux\">React-Router-Redux</a> that gives you\n  redux bindings for ReactRouter. Somewhat the same approach that\n  <a href=\"https://github.com/rackt/react-redux\">React-Redux</a> does</p>\n</blockquote>\n", "title": "Programmatically navigate using react router", "answer_id": 31079244, "link": "http://stackoverflow.com/questions/31079081/programmatically-navigate-using-react-router/31079244#31079244", "tags": ["reactjs", "react-router"]}, {"body": "<blockquote>\n  <p><strong>Warning:</strong> this answer covers only ReactRouter versions before 1.0</p>\n  \n  <p>I will update this answer with 1.0.0-rc1 use cases after!</p>\n</blockquote>\n\n<p>You can do this without mixins too.</p>\n\n<pre><code>let Authentication = React.createClass({\n  contextTypes: {\n    router: React.PropTypes.func\n  },\n  handleClick(e) {\n    e.preventDefault();\n    this.context.router.transitionTo('/');\n  },\n  render(){\n    return (&lt;div onClick={this.handleClick}&gt;Click me!&lt;/div&gt;);\n  }\n});\n</code></pre>\n\n<p>The gotcha with contexts is that it is not accessible unless you define the <code>contextTypes</code> on the class.</p>\n\n<p>As for what is context, it is an object, like props, that are passed down from parent to child, but it is passed down implicitly, without having to redeclare props each time. See <a href=\"https://www.tildedave.com/2014/11/15/introduction-to-contexts-in-react-js.html\">https://www.tildedave.com/2014/11/15/introduction-to-contexts-in-react-js.html</a></p>\n", "title": "Programmatically navigate using react router", "answer_id": 31130888, "link": "http://stackoverflow.com/questions/31079081/programmatically-navigate-using-react-router/31130888#31130888", "tags": ["reactjs", "react-router"]}, {"body": "<p>for the most recent release (<code>v2.0.0-rc5</code>), the recommended navigation method is by directly pushing onto the history singleton. You can see that in action <a href=\"https://github.com/rackt/react-router/blob/master/docs/guides/NavigatingOutsideOfComponents.md\">here</a>. Relevant excerpt:</p>\n\n<pre><code>import { browserHistory } from './react-router'\nbrowserHistory.push('/some/path')\n</code></pre>\n\n<p>If using the newer react-router API, you need to make use of the <code>history</code> from <code>this.props</code> when inside of components so:</p>\n\n<pre><code>this.props.history.push('/some/path');\n</code></pre>\n\n<p>It also offers <code>pushState</code> but that is deprecated per logged warnings.</p>\n\n<p>If using <code>react-router-redux</code>, it offers a <code>push</code> function you can dispatch like so:</p>\n\n<pre><code>import { push } from 'react-router-redux';\nthis.props.dispatch(push('/some/path'));\n</code></pre>\n\n<p>However this may be only to change the URL not actually navigate to the page.</p>\n", "title": "Programmatically navigate using react router", "answer_id": 34863577, "link": "http://stackoverflow.com/questions/31079081/programmatically-navigate-using-react-router/34863577#34863577", "tags": ["reactjs", "react-router"]}, {"body": "<p>Here's how you do this with <a href=\"https://github.com/rackt/react-router/blob/master/upgrade-guides/v2.0.0.md\"><code>react-router v2.0.0</code></a> with <a href=\"http://babeljs.io/blog/2015/06/07/react-on-es6-plus/\">ES6</a>. <code>react-router</code> has moved away from mixins.</p>\n\n<pre><code>import React from 'react';\n\nexport default class MyComponent extends React.Component {\n  navigateToPage = () =&gt; {\n    this.context.router.push('/my-route')\n  };\n\n  render() {\n    return (\n      &lt;button onClick={this.navigateToPage}&gt;Go!&lt;/button&gt;\n    );\n  }\n}\n\nMyComponent.contextTypes = {\n  router: React.PropTypes.object.isRequired\n}\n</code></pre>\n", "title": "Programmatically navigate using react router", "answer_id": 34955668, "link": "http://stackoverflow.com/questions/31079081/programmatically-navigate-using-react-router/34955668#34955668", "tags": ["reactjs", "react-router"]}, {"body": "<p>For this one, who does not control the server side and because of this is using hash router v2:</p>\n\n<p>Place your <a href=\"https://github.com/reactjs/react-router/issues/1967\">history</a> into separate file (e.g. app_history.js ES6):</p>\n\n<pre><code>import { useRouterHistory } from 'react-router'\nimport { createHashHistory } from 'history'\nconst appHistory = useRouterHistory(createHashHistory)({ queryKey: false });\n\nexport default appHistory;\n</code></pre>\n\n<p>And use it everywhere!</p>\n\n<p>Your entry point for react-router (app.js ES6):</p>\n\n<pre><code>import React from 'react'\nimport { render } from 'react-dom'\nimport { Router, Route, Redirect } from 'react-router'\nimport appHistory from './app_history'\n...\nconst render((\n  &lt;Router history={appHistory}&gt;\n  ...\n  &lt;/Router&gt;\n), document.querySelector('[data-role=\"app\"]'));\n</code></pre>\n\n<p>Your navigation inside any component (ES6):</p>\n\n<pre><code>import appHistory from '../app_history'\n...\najaxLogin('/login', (err, data) =&gt; {\n  if (err) {\n    console.error(err); // login failed\n  } else {\n    // logged in\n    appHistory.replace('/dashboard'); // or .push() if you don't need .replace()\n  }\n})\n</code></pre>\n", "title": "Programmatically navigate using react router", "answer_id": 36102045, "link": "http://stackoverflow.com/questions/31079081/programmatically-navigate-using-react-router/36102045#36102045", "tags": ["reactjs", "react-router"]}, {"body": "<p>You can use </p>\n\n<pre><code>document.location.hash = 'path'\n</code></pre>\n\n<p>Notes:</p>\n\n<ul>\n<li>This is a static string path. </li>\n<li>The history is appended properly with this.</li>\n</ul>\n", "title": "Programmatically navigate using react router", "answer_id": 38152282, "link": "http://stackoverflow.com/questions/31079081/programmatically-navigate-using-react-router/38152282#38152282", "tags": ["reactjs", "react-router"]}, {"body": "<pre><code>For ES6 + React components, the following solution worked for me\nI followed Felippe skinner, but adding end to end solution to help beginners like me.\nBelow are the versions i used\n\"react-router\": \"^2.7.0\"\n\"react\": \"^15.3.1\"\n\n Below is my react component where i used programmatic navigation using react-router\n\nimport React from 'react';\n\nclass loginComp extends React.Component {\n   constructor( context) {\n    super(context);\n    this.state = {\n      uname: '',\n      pwd: ''\n    };\n  }\n\n  redirectToMainPage(){\n        this.context.router.replace('/home');\n  }\n\n  render(){\n    return &lt;div&gt;\n           // skipping html code \n             &lt;button onClick={this.redirectToMainPage.bind(this)}&gt;Redirect&lt;/button&gt;\n    &lt;/div&gt;;\n  }\n};\n\n loginComp.contextTypes = {\n    router: React.PropTypes.object.isRequired\n }\n\n module.exports = loginComp;\n\n **Below is the configuration for my router.**\n import { Router, Route, IndexRedirect, browserHistory } from 'react-router'\n\n render(&lt;Router history={browserHistory}&gt;\n          &lt;Route path='/' component={ParentComp}&gt;\n            &lt;IndexRedirect to = \"/login\"/&gt;\n            &lt;Route path='/login' component={LoginComp}/&gt;\n            &lt;Route path='/home' component={HomeComp}/&gt;\n            &lt;Route path='/repair' component={RepairJobComp} /&gt;\n            &lt;Route path='/service' component={ServiceJobComp} /&gt;\n          &lt;/Route&gt;\n        &lt;/Router&gt;, document.getElementById('root'));\n</code></pre>\n", "title": "Programmatically navigate using react router", "answer_id": 39459438, "link": "http://stackoverflow.com/questions/31079081/programmatically-navigate-using-react-router/39459438#39459438", "tags": ["reactjs", "react-router"]}, {"body": "<p>with React-Router v4 on the horizon, there is now a new way of doing this.</p>\n\n<pre><code>import { MemoryRouter, BrowserRouter } from 'react-router';\n\nconst navigator = global &amp;&amp; global.navigator &amp;&amp; global.navigator.userAgent;\nconst hasWindow = typeof window !== 'undefined';\nconst isBrowser = typeof navigator !== 'undefined' &amp;&amp; navigator.indexOf('Node.js') === -1;\nconst Router = isBrowser ? BrowserRouter : MemoryRouter;\n\n&lt;Rooter location=\"/page-to-go-to\"/&gt;\n</code></pre>\n\n<p><a href=\"https://github.com/peter-mouland/react-lego\" rel=\"nofollow\">react-lego</a> is an example app that shows <a href=\"https://github.com/peter-mouland/react-lego/compare/react-router-4\" rel=\"nofollow\">how to use/update react-router</a> and it includes example functional tests which navigate the app.</p>\n", "title": "Programmatically navigate using react router", "answer_id": 39505911, "link": "http://stackoverflow.com/questions/31079081/programmatically-navigate-using-react-router/39505911#39505911", "tags": ["reactjs", "react-router"]}], "question_id": 31079081}, {"body": "<p>I have problem with embedded bitcode term.<br>\nWhat is embedded bitcode?<br>\nWhen to enable, <code>ENABLE_BITCODE</code> in new Xcode?<br>\nWhat happens to the binary when enabled, <code>ENABLE_BITCODE</code> in Xcode 7 ?  </p>\n", "title": "What does ENABLE_BITCODE do in xcode 7?", "tags": ["ios", "iphone", "xcode7", "bitcode"], "answer_count": 6, "link": "http://stackoverflow.com/questions/30722606/what-does-enable-bitcode-do-in-xcode-7", "answers": [{"body": "<p><strong>Bitcode</strong> refers to to the type of code: \"LLVM Bitcode\" that is sent to iTunes Connect. This allows Apple to use certain calculations to re-optimize apps further (e.g: possibly downsize executable sizes). If Apple needs to alter your executable then they can do this without a new build being uploaded.</p>\n\n<p>This differs from:\n<strong>Slicing</strong> which is the process of Apple optimizing your app for a user's device based on the device's resolution and architecture. Slicing does not require Bitcode. (Ex: only including @2x images on a 5s)</p>\n\n<p><strong>App Thinning</strong> is the combination of slicing, bitcode, and on-demand resources</p>\n\n<blockquote>\n  <p>Bitcode is an intermediate representation of a compiled program. Apps\n  you upload to iTunes Connect that contain bitcode will be compiled and\n  linked on the App Store. Including bitcode will allow Apple to\n  re-optimize your app binary in the future without the need to submit a\n  new version of your app to the store.</p>\n</blockquote>\n\n<p><a href=\"https://developer.apple.com/library/prerelease/ios/documentation/IDEs/Conceptual/AppDistributionGuide/AppThinning/AppThinning.html\" rel=\"nofollow\">Apple Documentation on App Thinning</a></p>\n", "title": "What does ENABLE_BITCODE do in xcode 7?", "answer_id": 30722686, "link": "http://stackoverflow.com/questions/30722606/what-does-enable-bitcode-do-in-xcode-7/30722686#30722686", "tags": ["ios", "iphone", "xcode7", "bitcode"]}, {"body": "<blockquote>\n  <p>Bitcode (iOS, watchOS)<br></p>\n  \n  <p>Bitcode is an intermediate representation of a compiled program. Apps you upload to iTunes Connect that contain bitcode will be compiled and linked on the App Store. Including bitcode will allow Apple to re-optimize your app binary in the future without the need to submit a new version of your app to the store.</p>\n</blockquote>\n\n<p><br></p>\n\n<p>Basically this concept is somewhat similar to java where byte code is run on different JVM's and in this case the bitcode is placed on iTune store and instead of giving the intermediate code to different platforms(devices) it provides the compiled code which don't need any virtual machine to run.</p>\n\n<p>Thus we need to create the bitcode once and it will be available for existing or coming devices. It's the Apple's headache to compile an make it compatible with each platform they have.</p>\n\n<p><em>Devs don't have to make changes and submit the app again to support new platforms.</em></p>\n\n<p><strong>Let's take the example</strong> of iPhone 5s when apple introduced <code>x64</code> chip in it. Although <code>x86</code> apps were totally compatible with <code>x64</code> architecture but to fully utilise the <code>x64</code> platform the developer has to change the architecture or some code. Once s/he's done the app is submitted to the app store for the review. </p>\n\n<p>If this bitcode concept was launched earlier then we the developers doesn't have to make any changes to support the <code>x64</code> bit architecture.</p>\n", "title": "What does ENABLE_BITCODE do in xcode 7?", "answer_id": 30733899, "link": "http://stackoverflow.com/questions/30722606/what-does-enable-bitcode-do-in-xcode-7/30733899#30733899", "tags": ["ios", "iphone", "xcode7", "bitcode"]}, {"body": "<h3>What is embedded bitcode?</h3>\n\n<p>According to <a href=\"https://developer.apple.com/library/prerelease/watchos/documentation/IDEs/Conceptual/AppDistributionGuide/AppThinning/AppThinning.html\">docs</a>:</p>\n\n<blockquote>\n  <p>Bitcode is an intermediate representation of a compiled program. Apps you upload to iTunes Connect that contain bitcode will be compiled and linked on the App Store. Including bitcode will allow Apple to re-optimize your app binary in the future without the need to submit a new version of your app to the store.</p>\n</blockquote>\n\n<p><em>Bitcode</em> allows other <em>App Thinning</em> component called <em>Slicing</em> to generate app bundle variants with particular executables for particular architectures, e.g. iPhone 5S variant will include only arm64 executable, iPad Mini armv7 and so on. From <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/DeveloperTools/Conceptual/WhatsNewXcode/Articles/xcode_7_0.html\">\"New Features in Xcode 7\"</a>: </p>\n\n<blockquote>\n  <p>When you archive for submission to the App Store, Xcode will compile your app into an intermediate representation. The App Store will then compile the bitcode down into the 64 or 32 bit executables as necessary.</p>\n</blockquote>\n\n<h3>When to enable ENABLE_BITCODE in new Xcode?</h3>\n\n<blockquote>\n  <p>For iOS apps, bitcode is the default, but optional. If you provide bitcode, all apps and frameworks in the app bundle need to include bitcode. For watchOS and tvOS apps, bitcode is required.</p>\n</blockquote>\n\n<h3>What happens to the binary when ENABLE_BITCODE is enabled in the new Xcode?</h3>\n\n<p>From Xcode 7 reference: </p>\n\n<blockquote>\n  <p>Activating this setting indicates that the target or project should generate bitcode during compilation for platforms and architectures which support it.  For Archive builds, bitcode will be generated in the linked binary for submission to the app store.  For other builds, the compiler and linker will check whether the code complies with the requirements for bitcode generation, but will not generate actual bitcode. </p>\n</blockquote>\n\n<p>Here's a couple of links that will help in deeper understanding of <em>Bitcode</em>:</p>\n\n<ul>\n<li><a href=\"http://lowlevelbits.org/bitcode-demystified/\">Bitcode Demystified</a></li>\n<li><a href=\"https://medium.com/@FredericJacobs/why-i-m-not-enabling-bitcode-f35cd8fbfcc5\">Why I'm not enabling Bitcode</a></li>\n</ul>\n", "title": "What does ENABLE_BITCODE do in xcode 7?", "answer_id": 30831010, "link": "http://stackoverflow.com/questions/30722606/what-does-enable-bitcode-do-in-xcode-7/30831010#30831010", "tags": ["ios", "iphone", "xcode7", "bitcode"]}, {"body": "<p>Since the exact question is \"what does enable bitcode do\", I'd like to give a few thin technical details I've figured out thus far. Most of this is practically impossible to figure out with 100% certainty until Apple releases the source code for this compiler</p>\n\n<p>First, Apple's bitcode does not <em>appear</em> to be the same thing as LLVM bytecode. At least, I've not been able to figure out any resemblance between them. It appears to have a proprietary header (always starts with \"xar!\") and probably some link-time reference magic that prevents data duplications. If you write out a hardcoded string, this string will only be put into the data once, rather than twice as would be expected if it was normal LLVM bytecode. </p>\n\n<p>Second, bitcode is not really shipped in the binary archive as a separate architecture as might be expected. It is not shipped in the same way as say x86 and ARM are put into one binary (FAT archive). Instead, they use a special section in the architecture specific MachO binary named \"__LLVM\" which is shipped with every architecture supported (ie, duplicated). I assume this is a short coming with their compiler system and may be fixed in the future to avoid the duplication. </p>\n\n<p>C code (compiled with <code>clang -fembed-bitcode hi.c -S -emit-llvm</code>):</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint main() {\n    printf(\"hi there!\");\n    return 0;\n}\n</code></pre>\n\n<p>LLVM IR output: </p>\n\n<pre><code>; ModuleID = '/var/folders/rd/sv6v2_f50nzbrn4f64gnd4gh0000gq/T/hi-a8c16c.bc'\ntarget datalayout = \"e-m:o-i64:64-f80:128-n8:16:32:64-S128\"\ntarget triple = \"x86_64-apple-macosx10.10.0\"\n\n@.str = private unnamed_addr constant [10 x i8] c\"hi there!\\00\", align 1\n@llvm.embedded.module = appending constant [1600 x i8] c\"\\DE\\C0\\17\\0B\\00\\00\\00\\00\\14\\00\\00\\00$\\06\\00\\00\\07\\00\\00\\01BC\\C0\\DE!\\0C\\00\\00\\86\\01\\00\\00\\0B\\82 \\00\\02\\00\\00\\00\\12\\00\\00\\00\\07\\81#\\91A\\C8\\04I\\06\\1029\\92\\01\\84\\0C%\\05\\08\\19\\1E\\04\\8Bb\\80\\10E\\02B\\92\\0BB\\84\\102\\148\\08\\18I\\0A2D$H\\0A\\90!#\\C4R\\80\\0C\\19!r$\\07\\C8\\08\\11b\\A8\\A0\\A8@\\C6\\F0\\01\\00\\00\\00Q\\18\\00\\00\\C7\\00\\00\\00\\1Bp$\\F8\\FF\\FF\\FF\\FF\\01\\90\\00\\0D\\08\\03\\82\\1D\\CAa\\1E\\E6\\A1\\0D\\E0A\\1E\\CAa\\1C\\D2a\\1E\\CA\\A1\\0D\\CC\\01\\1E\\DA!\\1C\\C8\\010\\87p`\\87y(\\07\\80p\\87wh\\03s\\90\\87ph\\87rh\\03xx\\87tp\\07z(\\07yh\\83r`\\87th\\07\\80\\1E\\E4\\A1\\1E\\CA\\01\\18\\DC\\E1\\1D\\DA\\C0\\1C\\E4!\\1C\\DA\\A1\\1C\\DA\\00\\1E\\DE!\\1D\\DC\\81\\1E\\CAA\\1E\\DA\\A0\\1C\\D8!\\1D\\DA\\A1\\0D\\DC\\E1\\1D\\DC\\A1\\0D\\D8\\A1\\1C\\C2\\C1\\1C\\00\\C2\\1D\\DE\\A1\\0D\\D2\\C1\\1D\\CCa\\1E\\DA\\C0\\1C\\E0\\A1\\0D\\DA!\\1C\\E8\\01\\1D\\00s\\08\\07v\\98\\87r\\00\\08wx\\876p\\87pp\\87yh\\03s\\80\\876h\\87p\\A0\\07t\\00\\CC!\\1C\\D8a\\1E\\CA\\01 \\E6\\81\\1E\\C2a\\1C\\D6\\A1\\0D\\E0A\\1E\\DE\\81\\1E\\CAa\\1C\\E8\\E1\\1D\\E4\\A1\\0D\\C4\\A1\\1E\\CC\\C1\\1C\\CAA\\1E\\DA`\\1E\\D2A\\1F\\CA\\01\\C0\\03\\80\\A0\\87p\\90\\87s(\\07zh\\83q\\80\\87z\\00\\C6\\E1\\1D\\E4\\A1\\1C\\E4\\00 \\E8!\\1C\\E4\\E1\\1C\\CA\\81\\1E\\DA\\C0\\1C\\CA!\\1C\\E8\\A1\\1E\\E4\\A1\\1C\\E6\\01X\\83y\\98\\87y(\\879`\\835\\18\\07|\\88\\03;`\\835\\98\\87y(\\076X\\83y\\98\\87r\\90\\036X\\83y\\98\\87r\\98\\03\\80\\A8\\07w\\98\\87p0\\87rh\\03s\\80\\876h\\87p\\A0\\07t\\00\\CC!\\1C\\D8a\\1E\\CA\\01 \\EAa\\1E\\CA\\A1\\0D\\E6\\E1\\1D\\CC\\81\\1E\\DA\\C0\\1C\\D8\\E1\\1D\\C2\\81\\1E\\00s\\08\\07v\\98\\87r\\006\\C8\\88\\F0\\FF\\FF\\FF\\FF\\03\\C1\\0E\\E50\\0F\\F3\\D0\\06\\F0 \\0F\\E50\\0E\\E90\\0F\\E5\\D0\\06\\E6\\00\\0F\\ED\\10\\0E\\E4\\00\\98C8\\B0\\C3&lt;\\94\\03@\\B8\\C3;\\B4\\819\\C8C8\\B4C9\\B4\\01&lt;\\BCC:\\B8\\03=\\94\\83&lt;\\B4A9\\B0C:\\B4\\03@\\0F\\F2P\\0F\\E5\\00\\0C\\EE\\F0\\0Em`\\0E\\F2\\10\\0E\\EDP\\0Em\\00\\0F\\EF\\90\\0E\\EE@\\0F\\E5 \\0FmP\\0E\\EC\\90\\0E\\ED\\D0\\06\\EE\\F0\\0E\\EE\\D0\\06\\ECP\\0E\\E1`\\0E\\00\\E1\\0E\\EF\\D0\\06\\E9\\E0\\0E\\E60\\0Fm`\\0E\\F0\\D0\\06\\ED\\10\\0E\\F4\\80\\0E\\809\\84\\03;\\CCC9\\00\\84;\\BCC\\1B\\B8C8\\B8\\C3&lt;\\B4\\819\\C0C\\1B\\B4C8\\D0\\03:\\00\\E6\\10\\0E\\EC0\\0F\\E5\\00\\10\\F3@\\0F\\E10\\0E\\EB\\D0\\06\\F0 \\0F\\EF@\\0F\\E50\\0E\\F4\\F0\\0E\\F2\\D0\\06\\E2P\\0F\\E6`\\0E\\E5 \\0Fm0\\0F\\E9\\A0\\0F\\E5\\00\\E0\\01@\\D0C8\\C8\\C39\\94\\03=\\B4\\C18\\C0C=\\00\\E3\\F0\\0E\\F2P\\0Er\\00\\10\\F4\\10\\0E\\F2p\\0E\\E5@\\0Fm`\\0E\\E5\\10\\0E\\F4P\\0F\\F2P\\0E\\F3\\00\\AC\\C1&lt;\\CC\\C3&lt;\\94\\C3\\1C\\B0\\C1\\1A\\8C\\03&gt;\\C4\\81\\1D\\B0\\C1\\1A\\CC\\C3&lt;\\94\\03\\1B\\AC\\C1&lt;\\CCC9\\C8\\01\\1B\\AC\\C1&lt;\\CCC9\\CC\\01@\\D4\\83;\\CCC8\\98C9\\B4\\819\\C0C\\1B\\B4C8\\D0\\03:\\00\\E6\\10\\0E\\EC0\\0F\\E5\\00\\10\\F50\\0F\\E5\\D0\\06\\F3\\F0\\0E\\E6@\\0Fm`\\0E\\EC\\F0\\0E\\E1@\\0F\\809\\84\\03;\\CCC9\\00\\00I\\18\\00\\00\\02\\00\\00\\00\\13\\82`B \\00\\00\\00\\89 \\00\\00\\0D\\00\\00\\002\\22\\08\\09 d\\85\\04\\13\\22\\A4\\84\\04\\13\\22\\E3\\84\\A1\\90\\14\\12L\\88\\8C\\0B\\84\\84L\\100s\\04H*\\00\\C5\\1C\\01\\18\\94`\\88\\08\\AA0F7\\10@3\\02\\00\\134|\\C0\\03;\\F8\\05;\\A0\\836\\08\\07x\\80\\07v(\\876h\\87p\\18\\87w\\98\\07|\\88\\038p\\838\\80\\037\\80\\83\\0DeP\\0Em\\D0\\0Ez\\F0\\0Em\\90\\0Ev@\\07z`\\07t\\D0\\06\\E6\\80\\07p\\A0\\07q \\07x\\D0\\06\\EE\\80\\07z\\10\\07v\\A0\\07s \\07z`\\07t\\D0\\06\\B3\\10\\07r\\80\\07:\\0FDH #EB\\80\\1D\\8C\\10\\18I\\00\\00@\\00\\00\\C0\\10\\A7\\00\\00 \\00\\00\\00\\00\\00\\00\\00\\868\\08\\10\\00\\02\\00\\00\\00\\00\\00\\00\\90\\05\\02\\00\\00\\08\\00\\00\\002\\1E\\98\\0C\\19\\11L\\90\\8C\\09&amp;G\\C6\\04C\\9A\\22(\\01\\0AM\\D0i\\10\\1D]\\96\\97C\\00\\00\\00y\\18\\00\\00\\1C\\00\\00\\00\\1A\\03L\\90F\\02\\134A\\18\\08&amp;PIC Level\\13\\84a\\D80\\04\\C2\\C05\\08\\82\\83c+\\03ab\\B2j\\02\\B1+\\93\\9BK{s\\03\\B9q\\81q\\81\\01A\\19c\\0Bs;k\\B9\\81\\81q\\81q\\A9\\99q\\99I\\D9\\10\\14\\8D\\D8\\D8\\EC\\DA\\5C\\DA\\DE\\C8\\EA\\D8\\CA\\5C\\CC\\D8\\C2\\CE\\E6\\A6\\04C\\1566\\BB6\\974\\B227\\BA)A\\01\\00y\\18\\00\\002\\00\\00\\003\\08\\80\\1C\\C4\\E1\\1Cf\\14\\01=\\88C8\\84\\C3\\8CB\\80\\07yx\\07s\\98q\\0C\\E6\\00\\0F\\ED\\10\\0E\\F4\\80\\0E3\\0CB\\1E\\C2\\C1\\1D\\CE\\A1\\1Cf0\\05=\\88C8\\84\\83\\1B\\CC\\03=\\C8C=\\8C\\03=\\CCx\\8Ctp\\07{\\08\\07yH\\87pp\\07zp\\03vx\\87p \\87\\19\\CC\\11\\0E\\EC\\90\\0E\\E10\\0Fn0\\0F\\E3\\F0\\0E\\F0P\\0E3\\10\\C4\\1D\\DE!\\1C\\D8!\\1D\\C2a\\1Ef0\\89;\\BC\\83;\\D0C9\\B4\\03&lt;\\BC\\83&lt;\\84\\03;\\CC\\F0\\14v`\\07{h\\077h\\87rh\\077\\80\\87p\\90\\87p`\\07v(\\07v\\F8\\05vx\\87w\\80\\87_\\08\\87q\\18\\87r\\98\\87y\\98\\81,\\EE\\F0\\0E\\EE\\E0\\0E\\F5\\C0\\0E\\EC\\00q \\00\\00\\05\\00\\00\\00&amp;`&lt;\\11\\D2L\\85\\05\\10\\0C\\804\\06@\\F8\\D2\\14\\01\\00\\00a \\00\\00\\0B\\00\\00\\00\\13\\04A,\\10\\00\\00\\00\\03\\00\\00\\004#\\00dC\\19\\020\\18\\83\\01\\003\\11\\CA@\\0C\\83\\11\\C1\\00\\00#\\06\\04\\00\\1CB\\12\\00\\00\\00\\00\\00\\00\\00\\00\\00\\00\\00\\00\\00\\00\\00\", section \"__LLVM,__bitcode\"\n@llvm.cmdline = appending constant [67 x i8] c\"-triple\\00x86_64-apple-macosx10.10.0\\00-emit-llvm\\00-disable-llvm-optzns\\00\", section \"__LLVM,__cmdline\"\n\n; Function Attrs: nounwind ssp uwtable\ndefine i32 @main() #0 {\n  %1 = alloca i32, align 4\n  store i32 0, i32* %1\n  %2 = call i32 (i8*, ...)* @printf(i8* getelementptr inbounds ([10 x i8]* @.str, i32 0, i32 0))\n  ret i32 0\n}\n\ndeclare i32 @printf(i8*, ...) #1\n\nattributes #0 = { nounwind ssp uwtable \"less-precise-fpmad\"=\"false\" \"no-frame-pointer-elim\"=\"true\" \"no-frame-pointer-elim-non-leaf\" \"no-infs-fp-math\"=\"false\" \"no-nans-fp-math\"=\"false\" \"stack-protector-buffer-size\"=\"8\" \"target-cpu\"=\"core2\" \"target-features\"=\"+ssse3,+cx16,+sse,+sse2,+sse3\" \"unsafe-fp-math\"=\"false\" \"use-soft-float\"=\"false\" }\nattributes #1 = { \"less-precise-fpmad\"=\"false\" \"no-frame-pointer-elim\"=\"true\" \"no-frame-pointer-elim-non-leaf\" \"no-infs-fp-math\"=\"false\" \"no-nans-fp-math\"=\"false\" \"stack-protector-buffer-size\"=\"8\" \"target-cpu\"=\"core2\" \"target-features\"=\"+ssse3,+cx16,+sse,+sse2,+sse3\" \"unsafe-fp-math\"=\"false\" \"use-soft-float\"=\"false\" }\n\n!llvm.module.flags = !{!0}\n!llvm.ident = !{!1}\n\n!0 = !{i32 1, !\"PIC Level\", i32 2}\n!1 = !{!\"Apple LLVM version 7.0.0 (clang-700.0.53.3)\"}\n</code></pre>\n\n<p>The data array that is in the IR also changes depending on the optimization and other code generation settings of clang. It's completely unknown to me what format or anything that this is in.</p>\n\n<p>EDIT:</p>\n\n<p>Following the hint on Twitter, I decided to revisit this and to confirm it. I followed <a href=\"http://lowlevelbits.org/bitcode-demystified/\">this blog post</a> and used his bitcode extractor tool to get the Apple Archive binary out of the MachO executable. And after extracting the Apple Archive with the xar utility, I got this (converted to text with llvm-dis of course)</p>\n\n<pre><code>; ModuleID = '1'\ntarget datalayout = \"e-m:o-i64:64-f80:128-n8:16:32:64-S128\"\ntarget triple = \"x86_64-apple-macosx10.10.0\"\n\n@.str = private unnamed_addr constant [10 x i8] c\"hi there!\\00\", align 1\n\n; Function Attrs: nounwind ssp uwtable\ndefine i32 @main() #0 {\n  %1 = alloca i32, align 4\n  store i32 0, i32* %1\n  %2 = call i32 (i8*, ...) @printf(i8* getelementptr inbounds ([10 x i8], [10 x i8]* @.str, i32 0, i32 0))\n  ret i32 0\n}\n\ndeclare i32 @printf(i8*, ...) #1\n\nattributes #0 = { nounwind ssp uwtable \"less-precise-fpmad\"=\"false\" \"no-frame-pointer-elim\"=\"true\" \"no-frame-pointer-elim-non-leaf\" \"no-infs-fp-math\"=\"false\" \"no-nans-fp-math\"=\"false\" \"stack-protector-buffer-size\"=\"8\" \"target-cpu\"=\"core2\" \"target-features\"=\"+ssse3,+cx16,+sse,+sse2,+sse3\" \"unsafe-fp-math\"=\"false\" \"use-soft-float\"=\"false\" }\nattributes #1 = { \"less-precise-fpmad\"=\"false\" \"no-frame-pointer-elim\"=\"true\" \"no-frame-pointer-elim-non-leaf\" \"no-infs-fp-math\"=\"false\" \"no-nans-fp-math\"=\"false\" \"stack-protector-buffer-size\"=\"8\" \"target-cpu\"=\"core2\" \"target-features\"=\"+ssse3,+cx16,+sse,+sse2,+sse3\" \"unsafe-fp-math\"=\"false\" \"use-soft-float\"=\"false\" }\n\n!llvm.module.flags = !{!0}\n!llvm.ident = !{!1}\n\n!0 = !{i32 1, !\"PIC Level\", i32 2}\n!1 = !{!\"Apple LLVM version 7.0.0 (clang-700.1.76)\"}\n</code></pre>\n\n<p>The only notable difference really between the non-bitcode IR and the bitcode IR is that filenames have been stripped to just 1, 2, etc for each architecture. </p>\n\n<p>I also confirmed that the bitcode embedded in a binary is generated after optimizations. If you compile with -O3 and extract out the bitcode, it'll be different than if you compile with -O0. </p>\n\n<p>And just to get extra credit, I also confirmed that Apple does not ship bitcode to devices when you download an iOS 9 app. They include a number of other strange sections that I don't recognized like __LINKEDIT, but they do not include __LLVM.__bundle, and thus do not appear to include bitcode in the final binary that runs on a device. Oddly enough, Apple still ships fat binaries with separate 32/64bit code to iOS 8 devices though. </p>\n", "title": "What does ENABLE_BITCODE do in xcode 7?", "answer_id": 31030741, "link": "http://stackoverflow.com/questions/30722606/what-does-enable-bitcode-do-in-xcode-7/31030741#31030741", "tags": ["ios", "iphone", "xcode7", "bitcode"]}, {"body": "<p><strong>Update</strong></p>\n\n<p><a href=\"https://developer.apple.com/library/tvos/documentation/IDEs/Conceptual/AppDistributionGuide/AppThinning/AppThinning.html\" rel=\"nofollow\">Apple has clarified</a> that slicing occurs independent of enabling bitcode. I've observed this in practice as well where a non-bitcode enabled app will only be downloaded as the architecture appropriate for the target device.</p>\n\n<p><strong>Original</strong></p>\n\n<p><a href=\"https://developer.apple.com/library/prerelease/ios/releasenotes/General/WhatsNewIniOS/Articles/iOS9.html#//apple_ref/doc/uid/TP40016198-DontLinkElementID_10\" rel=\"nofollow\">More specifically</a>:</p>\n\n<blockquote>\n  <p>Bitcode. Archive your app for submission to the App Store in an\n  intermediate representation, which is compiled into 64- or 32-bit\n  executables for the target devices when delivered.</p>\n  \n  <p>Slicing. Artwork incorporated into the Asset Catalog and tagged for a\n  platform allows the App Store to deliver only what is needed for\n  installation.</p>\n</blockquote>\n\n<p>The way I read this, if you support bitcode, downloaders of your app will only get the compiled architecture needed for their own device.</p>\n", "title": "What does ENABLE_BITCODE do in xcode 7?", "answer_id": 31798041, "link": "http://stackoverflow.com/questions/30722606/what-does-enable-bitcode-do-in-xcode-7/31798041#31798041", "tags": ["ios", "iphone", "xcode7", "bitcode"]}, {"body": "<p>As far as Bit code and enabling bit code is concerned, the first thing which is required to understand is the story from where all this started.</p>\n\n<p>So, basically if I talk of <strong>ENABLE_BITCODE</strong> which is introduced in iOS 9, is a part of App Thinning process.</p>\n\n<p>And it is a part of problem which answers \"<strong>How did Apple manage to reduce the storage size of  iOS 9 to 1GB from 5 GB in iOS 8?</strong>\"</p>\n\n<p>This is due to a new technology called 'App Thinning'</p>\n\n<p>&amp; what exactly is App Thinning ?</p>\n\n<p>App Thinning brings down the iOS 9 OTA update from 4.6GB to 1.3GB, a 71% size reduction. Not only will this help with future OTA updates, but the technology will be available for developers to reduce the storage required by third party apps.</p>\n\n<p>App thinning has basically three components namely- slicing, bitcode, and on-demand resources.</p>\n\n<p><strong>App Slicing</strong>: iOS apps are developed to run on a variety of devices, so they come with code to support all them, whether or not your particular device requires it. App Slicing will allow your device to download only those files required by our device. Example: you don't need the 3x iPhone 6 Plus assets if you're running a 4-inch model.</p>\n\n<p><strong>On-Demand Resources (ODRs)</strong>: It works on the idea that an app probably doesn't need its entire library of resources at any given time, so parts of it can be downloaded or deleted as needed. Developers will be able to specify what code is needed at what times by tagging sections of code as ODRs. These portions will be automatically downloaded from the App Store when they are required and deleted when they won't be needed again.</p>\n\n<p><strong>Bitcode</strong>: It refers to an \"intermediate representation\" of an app that developers will upload to the App Store rather than a pre-compiled binary. This works hand-in-hand with App Slicing, allowing the bitcode to be compiled on demand as 32-bit or 64-bit, depending on the downloading device. This will also allow any compiler improvements made by Apple to be implemented automatically, rather than having developers resubmit their apps.</p>\n\n<p><a href=\"http://i.stack.imgur.com/vjDJW.png\"><img src=\"http://i.stack.imgur.com/vjDJW.png\" alt=\"enter image description here\"></a></p>\n", "title": "What does ENABLE_BITCODE do in xcode 7?", "answer_id": 32588238, "link": "http://stackoverflow.com/questions/30722606/what-does-enable-bitcode-do-in-xcode-7/32588238#32588238", "tags": ["ios", "iphone", "xcode7", "bitcode"]}], "question_id": 30722606}, {"body": "<p>After reading <a href=\"http://stackoverflow.com/a/4176333/2411320\">this answer</a> about undefined behavior and sequence points, I wrote a small program:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint main(void) {\n  int i = 5;\n  i = (i, ++i, 1) + 1;\n  printf(\"%d\\n\", i);\n  return 0;\n}\n</code></pre>\n\n<p>The output is <code>2</code>. Oh God, I didn't see the decrement coming! What is happening here?</p>\n\n<p>Also, while compiling the above code, I got a warning saying:</p>\n\n<blockquote>\n  <p>px.c:5:8: warning: left-hand operand of comma expression has no effect<br></p>\n\n<pre><code>  [-Wunused-value]   i = (i, ++i, 1) + 1;\n                        ^\n</code></pre>\n</blockquote>\n\n<p>Why? But probably it will be automatically answered by the answer of my first question.</p>\n", "title": "What does i = (i, ++i, 1) + 1; do?", "tags": ["c", "operators", "expression", "compiler-warnings", "comma-operator"], "answer_count": 7, "link": "http://stackoverflow.com/questions/30614396/what-does-i-i-i-1-1-do", "answers": [{"body": "<p>The outcome of </p>\n\n<pre><code>(i, ++i, 1)\n</code></pre>\n\n<p>is</p>\n\n<pre><code>1\n</code></pre>\n\n<p>For</p>\n\n<pre><code>(i,++i,1) \n</code></pre>\n\n<p>the evaluation happens such that the <code>,</code> operator discards the evaluated value and will retain just the right most value which is <code>1</code></p>\n\n<p>So </p>\n\n<pre><code>i = 1 + 1 = 2\n</code></pre>\n", "title": "What does i = (i, ++i, 1) + 1; do?", "answer_id": 30614429, "link": "http://stackoverflow.com/questions/30614396/what-does-i-i-i-1-1-do/30614429#30614429", "tags": ["c", "operators", "expression", "compiler-warnings", "comma-operator"]}, {"body": "<p>In the expression <code>(i, ++i, 1)</code>, the comma used is the <a href=\"http://en.wikipedia.org/wiki/Comma_operator\">comma operator</a>  </p>\n\n<blockquote>\n  <p>the comma operator (represented by the token <code>,</code>) is a binary operator that evaluates its first operand and discards the result, and then evaluates the second operand and returns this value (and type).  </p>\n</blockquote>\n\n<p>Because it discards its first operand, it is generally <strong>only useful where the first operand has desirable side effects</strong>. If the side effect to the first operand does not takes place, then the compiler may generate warning about the expression with no effect.       </p>\n\n<p>So, in the above expression, the leftmost <code>i</code> will be evaluated and its value will be discarded. Then <code>++i</code> will be evaluated and will increment <code>i</code> by 1 and again the value of the expression <code>++i</code> will be discarded, <em>but the side effect to <code>i</code> is permanent</em>. Then <code>1</code> will be evaluated and the value of the expression will be <code>1</code>.   </p>\n\n<p>It is equivalent to  </p>\n\n<pre><code>i;          // Evaluate i and discard its value. This has no effect.\n++i;        // Evaluate i and increment it by 1 and discard the value of expression ++i\ni = 1 + 1;  \n</code></pre>\n\n<p>Note that <strong>the above expression is perfectly valid and does not invoke undefined behavior</strong> because there is a <a href=\"http://en.wikipedia.org/wiki/Sequence_point\">sequence point</a> between the evaluation of the left and right operands of the comma operator.</p>\n", "title": "What does i = (i, ++i, 1) + 1; do?", "answer_id": 30614442, "link": "http://stackoverflow.com/questions/30614396/what-does-i-i-i-1-1-do/30614442#30614442", "tags": ["c", "operators", "expression", "compiler-warnings", "comma-operator"]}, {"body": "<p>You'll find some good reading on the wiki page for the <a href=\"http://en.wikipedia.org/wiki/Comma_operator\">Comma operator</a>.</p>\n\n<p>Basically, it</p>\n\n<blockquote>\n  <p>... evaluates its first operand and discards the result, and then evaluates the second operand and returns this value (and type).</p>\n</blockquote>\n\n<p>This means that </p>\n\n<pre><code>(i, i++, 1)\n</code></pre>\n\n<p>will, in turn, evaluate <code>i</code>, discard the result, evaluate <code>i++</code>, discard the result, and then evaluate and return <code>1</code>.</p>\n", "title": "What does i = (i, ++i, 1) + 1; do?", "answer_id": 30614470, "link": "http://stackoverflow.com/questions/30614396/what-does-i-i-i-1-1-do/30614470#30614470", "tags": ["c", "operators", "expression", "compiler-warnings", "comma-operator"]}, {"body": "<p>Quoting from <code>C11</code>, chapter <code>6.5.17</code>, <a href=\"https://en.wikipedia.org/wiki/Comma_operator\"><em>Comma operator</em></a></p>\n\n<blockquote>\n  <p>The left operand of a comma operator is evaluated as a void expression; there is a\n  sequence point between its evaluation and that of the right operand. Then the right\n  operand is evaluated; the result has its type and value.</p>\n</blockquote>\n\n<p>So, in your case, </p>\n\n<pre><code>(i, ++i, 1)\n</code></pre>\n\n<p>is evaluated as</p>\n\n<ol>\n<li><code>i</code>, gets evaluated as a void expression, value discarded</li>\n<li><code>++i</code>, gets evaluated as a void expression, value discarded</li>\n<li>finally, <code>1</code>, value returned.</li>\n</ol>\n\n<p>So, the final statement looks like</p>\n\n<pre><code>i = 1 + 1;\n</code></pre>\n\n<p>and <code>i</code> gets to <code>2</code>. I guess this answers both of your questions,</p>\n\n<ul>\n<li>How <code>i</code> gets a value 2?</li>\n<li>Why there is a warning message?</li>\n</ul>\n\n<p>Note: FWIW, as there is a <strong>sequence point</strong> present after the evaluation of the left hand operand, an expression like <code>(i, ++i, 1)</code> won't invoke UB, as one <em>may</em> generally think by mistake.</p>\n", "title": "What does i = (i, ++i, 1) + 1; do?", "answer_id": 30614485, "link": "http://stackoverflow.com/questions/30614396/what-does-i-i-i-1-1-do/30614485#30614485", "tags": ["c", "operators", "expression", "compiler-warnings", "comma-operator"]}, {"body": "<pre><code>i = (i, ++i, 1) + 1;\n</code></pre>\n\n<p>Let's analyse it step by step.</p>\n\n<pre><code>(i,   // is evaluated but ignored, there are other expressions after comma\n++i,  // i is updated but the resulting value is ignored too\n1)    // this value is finally used\n+ 1   // 1 is added to the previous value 1\n</code></pre>\n\n<p>So we obtain 2. And the final assignment now:</p>\n\n<pre><code>i = 2;\n</code></pre>\n\n<p>Whatever was in <em>i</em> before it's overwritten now.</p>\n", "title": "What does i = (i, ++i, 1) + 1; do?", "answer_id": 30614511, "link": "http://stackoverflow.com/questions/30614396/what-does-i-i-i-1-1-do/30614511#30614511", "tags": ["c", "operators", "expression", "compiler-warnings", "comma-operator"]}, {"body": "<p>You need to know what the comma operator is doing here:</p>\n\n<p>Your expression:</p>\n\n<pre><code>(i, ++i, 1)\n</code></pre>\n\n<p>The first expression, <code>i</code>, is evaluated, the second expression, <code>++i</code>, is evaluated, and the third expression, <code>1</code>, is returned for the whole expression.</p>\n\n<p>So the result is: <code>i = 1 + 1</code>.</p>\n\n<p>For your bonus question, as you see, the first expression <code>i</code> has no effect at all, so the compiler complains.</p>\n", "title": "What does i = (i, ++i, 1) + 1; do?", "answer_id": 30614512, "link": "http://stackoverflow.com/questions/30614396/what-does-i-i-i-1-1-do/30614512#30614512", "tags": ["c", "operators", "expression", "compiler-warnings", "comma-operator"]}, {"body": "<p>Comma has an 'inverse' precedence. This is what you will get from old books and C manuals from IBM (70s/80s). So the last 'command' is what is used in parent expression.</p>\n\n<p>In modern C its use is strange but is very interesting in old C (ANSI):</p>\n\n<pre><code>do { \n    /* bla bla bla, consider conditional flow with several continue */\n} while ( prepAnything(), doSomething(), last operation);\n</code></pre>\n\n<p>While all operations (functions) are called from left to right, only the last expression will be used as a result to conditional 'while'.\nThis avoid handling of 'goto's to keep a unique block of commands to run before condition check.</p>\n\n<p>EDIT: This avoid also a call to a handling function which could take care of all logic at left operands and so return the logical result. Remember that, we had not inline function in the past of C. So, this could avoid a call overhead.</p>\n", "title": "What does i = (i, ++i, 1) + 1; do?", "answer_id": 30772139, "link": "http://stackoverflow.com/questions/30614396/what-does-i-i-i-1-1-do/30772139#30772139", "tags": ["c", "operators", "expression", "compiler-warnings", "comma-operator"]}], "question_id": 30614396}, {"body": "<p>In a custom library I saw an implementation:</p>\n\n<pre><code>inline int is_upper_alpha(char chValue)\n{\n    if (((chValue &gt;= 'A') &amp;&amp; (chValue &lt;= 'I')) ||\n        ((chValue &gt;= 'J') &amp;&amp; (chValue &lt;= 'R')) ||\n        ((chValue &gt;= 'S') &amp;&amp; (chValue &lt;= 'Z')))\n        return 1;\n    return 0;\n}\n</code></pre>\n\n<p>Is that an <a href=\"https://en.wikipedia.org/wiki/Easter_egg_%28media%29\">Easter egg</a> or what are the advantages vs standard C/C++ method?</p>\n\n<pre><code>inline int is_upper_alpha(char chValue)\n{\n    return ((chValue &gt;= 'A') &amp;&amp; (chValue &lt;= 'Z'));\n}\n</code></pre>\n", "title": "Why is the alphabet split into multiple ranges in this C code?", "tags": ["c++", "c", "character", "toupper"], "answer_count": 2, "link": "http://stackoverflow.com/questions/30049962/why-is-the-alphabet-split-into-multiple-ranges-in-this-c-code", "answers": [{"body": "<p>The author of this code presumably had to support <a href=\"https://en.wikipedia.org/wiki/EBCDIC\">EBCDIC</a> at some point, where the numeric values of the letters are non-contiguous (gaps exist between <code>I</code>, <code>J</code> and <code>R</code>, <code>S</code>, as you may have guessed).</p>\n\n<p>It is worth noting that the C and C++ standards only guarantee that the characters <code>0</code> to <code>9</code> have contiguous numeric values for precisely this reason, so neither of these methods is strictly standard-conforming.</p>\n", "title": "Why is the alphabet split into multiple ranges in this C code?", "answer_id": 30050055, "link": "http://stackoverflow.com/questions/30049962/why-is-the-alphabet-split-into-multiple-ranges-in-this-c-code/30050055#30050055", "tags": ["c++", "c", "character", "toupper"]}, {"body": "<p>Looks like it attempts to cover both EBCDIC and ASCII. Your alternative method doesn't work for EBCDIC (it has false positives, but no false negatives)</p>\n\n<p>C and C++ <em>do</em> require that <code>'0'-'9'</code> are contiguous.</p>\n\n<p>Note that the standard library calls <em>do</em> know whether they run on ASCII, EBCDIC or other systems, so they're more portable and possibly more efficient.</p>\n", "title": "Why is the alphabet split into multiple ranges in this C code?", "answer_id": 30050059, "link": "http://stackoverflow.com/questions/30049962/why-is-the-alphabet-split-into-multiple-ranges-in-this-c-code/30050059#30050059", "tags": ["c++", "c", "character", "toupper"]}], "question_id": 30049962}, {"body": "<p>I'm implementing the new Google Cloud Messaging following the guides from the Google Developers page <a href=\"https://developers.google.com/cloud-messaging/android/client\">here</a></p>\n\n<p>I've successfully run and test it. But my problem now is I have different productFlavors with different applicationId/packageName and different GCM Project Id. The <code>google-services.json</code> have to be put at the <code>/app/google-services.json</code> not the flavors folder.</p>\n\n<p>Is there any way to make the <code>google-services.json</code> config different for many flavors?</p>\n", "title": "google-services.json for different productFlavors", "tags": ["android", "google-cloud-messaging", "google-play-services"], "answer_count": 19, "link": "http://stackoverflow.com/questions/30772201/google-services-json-for-different-productflavors", "answers": [{"body": "<p>For Maven, we've implemented something similar using maven profiles and separate property files for every profile</p>\n", "title": "google-services.json for different productFlavors", "answer_id": 31021415, "link": "http://stackoverflow.com/questions/30772201/google-services-json-for-different-productflavors/31021415#31021415", "tags": ["android", "google-cloud-messaging", "google-play-services"]}, {"body": "<p>I'm currently using two GCM Project Id in the same app package. I put the google-service.json of my first GCM project but I switch from the first to the second one only changing the SENDER_ID:</p>\n\n<pre><code>    String token = instanceID.getToken(SENDER_ID,GoogleCloudMessaging.INSTANCE_ID_SCOPE, null);\n</code></pre>\n\n<p>(At this point I think that the google-services.json isn't mandatory  )</p>\n", "title": "google-services.json for different productFlavors", "answer_id": 31031620, "link": "http://stackoverflow.com/questions/30772201/google-services-json-for-different-productflavors/31031620#31031620", "tags": ["android", "google-cloud-messaging", "google-play-services"]}, {"body": "<p>For a different flavor assign a different package name in Gradle as described <a href=\"http://ruenzuo.github.io/continuous-delivery-on-android-part-ii/\" rel=\"nofollow\">here</a>.   </p>\n\n<p>Then from <a href=\"https://developers.google.com/mobile/add?platform=android&amp;cntapi=gcm&amp;cnturl=https:%2F%2Fdevelopers.google.com%2Fcloud-messaging%2Fandroid%2Fclient&amp;cntlbl=Continue%20Adding%20GCM%20Support&amp;%3Fconfigured%3Dtrue\" rel=\"nofollow\">this</a> link get a specific config file for the same app yet respective packages.  </p>\n\n<p>And in your Build hierarchy refer that particular config file for the respective package that you just got.  </p>\n\n<p>Let me know if this works.  </p>\n", "title": "google-services.json for different productFlavors", "answer_id": 31083784, "link": "http://stackoverflow.com/questions/30772201/google-services-json-for-different-productflavors/31083784#31083784", "tags": ["android", "google-cloud-messaging", "google-play-services"]}, {"body": "<p>You have many flavor, so it mean you will have many difference package id, right? So, just go to the page where you setup/generate your json file and config for each package name. All of it will add to json file.</p>\n\n<p>I'm verry lazy to post picture now, but basically:</p>\n\n<ul>\n<li>go to <a href=\"https://developers.google.com/mobile/add\" rel=\"nofollow\">https://developers.google.com/mobile/add</a></li>\n<li>select platform</li>\n<li>select your app</li>\n<li><strong>IMPORTANT</strong>: type your flavor package name to field \"android package name\"</li>\n<li>... continue to get your configuration file. Download it!</li>\n</ul>\n\n<p>When config the file, you can see that google show you the Server API Key + Sender ID. And it is same for all package (flavors)</p>\n\n<p>At the end, you just need only one json file for all flavors.</p>\n\n<p>One more question here that you have to test when you register to get Registration Token, check if is difference for each flavor. I don't touch on it but it think it should be difference. Too late now and i so sleepy :) Hope it help!</p>\n", "title": "google-services.json for different productFlavors", "answer_id": 31411932, "link": "http://stackoverflow.com/questions/30772201/google-services-json-for-different-productflavors/31411932#31411932", "tags": ["android", "google-cloud-messaging", "google-play-services"]}, {"body": "<p>Well I am running into the same problem and couldn't get any perfect solution. It's just a workaround.\nI am wondering how Google didn't think about flavors...? And i hope they will propose soon a better solution.</p>\n\n<p>What I am doing:</p>\n\n<p>I have two flavors, in each one I put the corresponding google-services.json : <code>src/flavor1/google-services.json</code> and <code>src/flavor2/google-services.json</code> .</p>\n\n<p>Then in build gradle I copy the file depending on the flavor to the <code>app/</code> directory:</p>\n\n<pre><code>android {\n\n// set build flavor here to get the right gcm configuration.\n//def myFlavor = \"flavor1\"\ndef myFlavor = \"flavor2\"\n\nif (myFlavor.equals(\"flavor1\")) {\n    println \"--&gt; flavor1 copy!\"\n    copy {\n        from 'src/flavor1/'\n        include '*.json'\n        into '.'\n    }\n} else {\n    println \"--&gt; flavor2 copy!\"\n    copy {\n        from 'src/flavor2/'\n        include '*.json'\n        into '.'\n    }\n}\n\n// other stuff\n}\n</code></pre>\n\n<p><strong>Limitation:</strong> you will have to change <code>myFlavor</code> <em>manually</em> in gradle each time you want to run for a different flavor (because it's hardcoded).</p>\n\n<p>I tried many ways to get the current build flavor like <code>afterEvaluate</code> close... couldn't get any better solution until now.</p>\n\n<p><strong>Update, Another solution: one google-services.json for all the flavors:</strong></p>\n\n<p>You can also, have different package names for each flavor and then in the <a href=\"https://console.developers.google.com/project\">google developer console</a> you don't have to create two different apps for each flavor, but just two different clients in the same app.\nThen you will have only one <code>google-services.json</code> that contains your both clients.\nOf course, this depends on how you're implementing the backend of your flavors. If they're not separated then this solution will not help you.</p>\n", "title": "google-services.json for different productFlavors", "answer_id": 31895542, "link": "http://stackoverflow.com/questions/30772201/google-services-json-for-different-productflavors/31895542#31895542", "tags": ["android", "google-cloud-messaging", "google-play-services"]}, {"body": "<p>According to <a href=\"http://stackoverflow.com/users/3014036/ahmed-khan-89\">ahmed_khan_89</a>'s answer, you can put you \"copy code\" inside product flavors.</p>\n\n<pre><code>productFlavors {\n    staging {\n        applicationId = \"com.demo.staging\"\n\n        println \"Using Staging google-service.json\"\n        copy {\n            from 'src/staging/'\n            include '*.json'\n            into '.'\n        }\n    }\n    production {\n        applicationId = \"com.demo.production\"\n\n        println \"Using Production google-service.json\"\n        copy {\n            from 'src/production/'\n            include '*.json'\n            into '.'\n        }\n    }\n}\n</code></pre>\n\n<p>Then you don't have to switch settings manually.</p>\n", "title": "google-services.json for different productFlavors", "answer_id": 32004650, "link": "http://stackoverflow.com/questions/30772201/google-services-json-for-different-productflavors/32004650#32004650", "tags": ["android", "google-cloud-messaging", "google-play-services"]}, {"body": "<p>Wrote a <a href=\"https://medium.com/@ZakTaccardi/automatic-per-variant-google-services-json-configurations-with-gradle-d3d3e40abc0e\">Medium post</a> on this issue.</p>\n\n<p>Had the a similar problem (using BuildTypes instead of Flavors), and fixed it like so. </p>\n\n<p>Take advantage of Gradle's dependency management system. I created two tasks, <code>switchToDebug</code> and <code>switchToRelease</code>. Require that any time <code>assembleRelease</code> is run, that <code>switchToRelease</code> is also run. Same for debug.</p>\n\n<pre><code>def appModuleRootFolder = '.'\ndef srcDir = 'src'\ndef googleServicesJson = 'google-services.json'\n\ntask switchToDebug(type: Copy) {\n    def buildType = 'debug'\n    description = 'Switches to DEBUG google-services.json'\n    from \"${srcDir}/${buildType}\"\n    include \"$googleServicesJson\"\n    into \"$appModuleRootFolder\"\n}\n\ntask switchToRelease(type: Copy) {\n    def buildType = 'release'\n    description = 'Switches to RELEASE google-services.json'\n    from \"${srcDir}/${buildType}/\"\n    include \"$googleServicesJson\"\n    into \"$appModuleRootFolder\"\n}\n\nafterEvaluate {\n    processDebugGoogleServices.dependsOn switchToDebug\n    processReleaseGoogleServices.dependsOn switchToRelease\n}\n</code></pre>\n\n<p><strong>EDIT:</strong> use <code>processDebugFlavorGoogleServices</code>/<code>processReleaseFlavorGoogleServices</code> task to modify it at a per-flavor level.</p>\n", "title": "google-services.json for different productFlavors", "answer_id": 32083671, "link": "http://stackoverflow.com/questions/30772201/google-services-json-for-different-productflavors/32083671#32083671", "tags": ["android", "google-cloud-messaging", "google-play-services"]}, {"body": "<p>Based on @ZakTaccardi's answer, and assuming you don't want a single project for both flavors, add this to the end of your <code>build.gradle</code> file:</p>\n\n<pre><code>def appModuleRootFolder = '.'\ndef srcDir = 'src'\ndef googleServicesJson = 'google-services.json'\n\ntask switchToStaging(type: Copy) {\n    outputs.upToDateWhen { false }\n    def flavor = 'staging'\n    description = \"Switches to $flavor $googleServicesJson\"\n    delete \"$appModuleRootFolder/$googleServicesJson\"\n    from \"${srcDir}/$flavor/\"\n    include \"$googleServicesJson\"\n    into \"$appModuleRootFolder\"\n}\n\ntask switchToProduction(type: Copy) {\n    outputs.upToDateWhen { false }\n    def flavor = 'production'\n    description = \"Switches to $flavor $googleServicesJson\"\n    from \"${srcDir}/$flavor/\"\n    include \"$googleServicesJson\"\n    into \"$appModuleRootFolder\"\n}\n\nafterEvaluate {\n    processStagingDebugGoogleServices.dependsOn switchToStaging\n    processStagingReleaseGoogleServices.dependsOn switchToStaging\n    processProductionDebugGoogleServices.dependsOn switchToProduction\n    processProductionReleaseGoogleServices.dependsOn switchToProduction\n}\n</code></pre>\n\n<p>You need to have the files <code>src/staging/google-services.json</code> and <code>src/production/google-services.json</code>. Replace the flavor names for the ones you use.</p>\n", "title": "google-services.json for different productFlavors", "answer_id": 32440429, "link": "http://stackoverflow.com/questions/30772201/google-services-json-for-different-productflavors/32440429#32440429", "tags": ["android", "google-cloud-messaging", "google-play-services"]}, {"body": "<p>I have found that the <strong>google-services</strong> plugin is quite useless for projects that want to add GCM. It only generates the following file which simply adds your project ID as a string resource:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n    &lt;!-- Your API key would be on the following line --&gt;\n    &lt;string name=\"gcm_defaultSenderId\"&gt;111111111111&lt;/string&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>It appears that you only need it if you copied the sample code verbatim directly from the <a href=\"https://developers.google.com/cloud-messaging/android/start\" rel=\"nofollow\">Cloud Messaging for Android</a> guide. Here is the example line:</p>\n\n<pre><code>String token = instanceID.getToken(getString(R.string.gcm_defaultSenderId),              GoogleCloudMessaging.INSTANCE_ID_SCOPE, null);\n</code></pre>\n\n<h2>Solution</h2>\n\n<p>If you want to be able to switch API projects for different build types or product flavors you can just define your own constants and choose the appropriate one when calling the <code>getToken()</code> API.</p>\n\n<pre><code>private static final String SENDER_ID = \"111111111111\";\nprivate static final String SANDBOX_SENDER_ID = \"222222222222\";\n\nString token = instanceID.getToken(\n        BuildConfig.DEBUG ? SENDER_ID : SANDBOX_SENDER_ID,\n        GoogleCloudMessaging.INSTANCE_ID_SCOPE,\n        null);\n</code></pre>\n\n<p><strong>For Product Flavors</strong></p>\n\n<p>The above code works for switching between debug and release builds. For product flavors you would define different API keys in a java source file and place the files in their corresponding product flavor directory. For reference: <a href=\"https://developer.android.com/tools/building/configuring-gradle.html#workBuildVariants\" rel=\"nofollow\">Gradle Build Variants</a></p>\n", "title": "google-services.json for different productFlavors", "answer_id": 32768905, "link": "http://stackoverflow.com/questions/30772201/google-services-json-for-different-productflavors/32768905#32768905", "tags": ["android", "google-cloud-messaging", "google-play-services"]}, {"body": "<p>The point of the google-services plugin is to simplify integration of Google features.</p>\n\n<p>Since it only generates android-resources from the google-services.json file, over-complicated gradle-logic negates this point, I think.</p>\n\n<p>So if the Google-docs don\u2019t say which resources are needed for specific Google-features, I would suggest to generate the JSON-file for each relevant buildtype/flavor, see what resources get generated by the plugin and then put those resources manually into their respective src/buildtypeORflavor/res directories.</p>\n\n<p>Delete the references to google-services plugin and the JSON-file after that, and you are done.</p>\n\n<p>For detailed information about the inner workings of google-services gradle-plugin see my other answer:</p>\n\n<p><a href=\"http://stackoverflow.com/a/33083898/433421\">http://stackoverflow.com/a/33083898/433421</a></p>\n", "title": "google-services.json for different productFlavors", "answer_id": 33084246, "link": "http://stackoverflow.com/questions/30772201/google-services-json-for-different-productflavors/33084246#33084246", "tags": ["android", "google-cloud-messaging", "google-play-services"]}, {"body": "<p>Inspired by @ahmed_khan_89 answer above. We can directly keep like this in gradle file.</p>\n\n<pre><code>android{\n\n// set build flavor here to get the right Google-services configuration(Google Analytics).\n    def currentFlavor = \"free\" //This should match with Build Variant selection. free/paidFull/paidBasic\n\n    println \"--&gt; $currentFlavor copy!\"\n    copy {\n        from \"src/$currentFlavor/\"\n        include 'google-services.json'\n        into '.'\n    }\n//other stuff\n}\n</code></pre>\n", "title": "google-services.json for different productFlavors", "answer_id": 33263033, "link": "http://stackoverflow.com/questions/30772201/google-services-json-for-different-productflavors/33263033#33263033", "tags": ["android", "google-cloud-messaging", "google-play-services"]}, {"body": "<p>No need for any additional gradle scripting.</p>\n\n<p>Google started adding different package name in the name of 'android_client_info'. It looks like below in google-services.json</p>\n\n<pre><code>\"android_client_info\": {\n      \"package_name\": \"com.android.app.companion.dev\"\n    }\n</code></pre>\n\n<p>so, following steps are enough to have different google-services.json selection.</p>\n\n<ol>\n<li>Have 2 flavours</li>\n<li>Add a new dev flavour's package to google analystics configuration page and download google-services.json.</li>\n<li>Notice in the new configuration file, both of your flavour's package ids are there</li>\n<li>Prepare any of your flavour build.</li>\n</ol>\n\n<p>That is it!..</p>\n", "title": "google-services.json for different productFlavors", "answer_id": 33365617, "link": "http://stackoverflow.com/questions/30772201/google-services-json-for-different-productflavors/33365617#33365617", "tags": ["android", "google-cloud-messaging", "google-play-services"]}, {"body": "<p>google-services.json file is unnecessary to receive notifications. Just add a variable for each flavour in your build.gradle file:</p>\n\n<pre><code>buildConfigField \"String\", \"GCM_SENDER_ID\", \"\\\"111111111111\\\"\"\n</code></pre>\n\n<p>Use this variable BuildConfig.GCM_SENDER_ID instead of getString(R.string.gcm_defaultSenderId) while registering:</p>\n\n<pre><code>instanceID.getToken(BuildConfig.GCM_SENDER_ID, GoogleCloudMessaging.INSTANCE_ID_SCOPE, null);\n</code></pre>\n", "title": "google-services.json for different productFlavors", "answer_id": 33632427, "link": "http://stackoverflow.com/questions/30772201/google-services-json-for-different-productflavors/33632427#33632427", "tags": ["android", "google-cloud-messaging", "google-play-services"]}, {"body": "<p>Google just included support for flavors on version 2.0 of the play services plugin. Since this version of the <code>gradle plugin com.google.gms:google-services:2.0.0-alpha3</code></p>\n\n<p>you can do this</p>\n\n<pre><code>app/src/\n    flavor1/google-services.json\n    flavor2/google-services.json\n</code></pre>\n\n<p>Version 3.0.0 of the plugin will search for the json file in these locations (considering you have a <code>flavor</code> flavor1 and a build type <code>debug</code>):</p>\n\n<pre><code>/app/src/flavor1/google-services.json\n/app/src/flavor1/debug/google-services.json\n/app/src/debug/google-services.json\n/app/src/debug/flavor1/google-services.json\n/app/google-services.json\n</code></pre>\n\n<p>This worked for me even using flavorDimensions. I have free &amp; paid in one dimension and Mock &amp; Prod in the other dimension. I also have 3 buildTypes: debug, release and staging. This is how it looks in my project for the FreeProd flavor:</p>\n\n<p><a href=\"http://i.stack.imgur.com/yekEo.png\"><img src=\"http://i.stack.imgur.com/yekEo.png\" alt=\"enter image description here\"></a></p>\n\n<p>How many google-services.json files will depend on your project's characteristics, but you will need at least one json file for every Google  project.</p>\n\n<p>If you want more details about what this plugin does with these json files, here it is:\n<a href=\"https://github.com/googlesamples/google-services/issues/54#issuecomment-165824720\">https://github.com/googlesamples/google-services/issues/54#issuecomment-165824720</a></p>\n\n<p>Link to the official docs:\n<a href=\"https://developers.google.com/android/guides/google-services-plugin\">https://developers.google.com/android/guides/google-services-plugin</a></p>\n\n<p>And go here to check the latest version of this plugin: <a href=\"https://bintray.com/android/android-tools/com.google.gms.google-services/view\">https://bintray.com/android/android-tools/com.google.gms.google-services/view</a></p>\n", "title": "google-services.json for different productFlavors", "answer_id": 34364376, "link": "http://stackoverflow.com/questions/30772201/google-services-json-for-different-productflavors/34364376#34364376", "tags": ["android", "google-cloud-messaging", "google-play-services"]}, {"body": "<p>I'm using the google-services.json file, created from here: <a href=\"https://developers.google.com/mobile/add?platform=android&amp;cntapi=gcm&amp;cnturl=https:%2F%2Fdevelopers.google.com%2Fcloud-messaging%2Fandroid%2Fclient&amp;cntlbl=Continue%20Adding%20GCM%20Support&amp;%3Fconfigured%3Dtrue\" rel=\"nofollow\">https://developers.google.com/mobile/add?platform=android&amp;cntapi=gcm&amp;cnturl=https:%2F%2Fdevelopers.google.com%2Fcloud-messaging%2Fandroid%2Fclient&amp;cntlbl=Continue%20Adding%20GCM%20Support&amp;%3Fconfigured%3Dtrue</a></p>\n\n<p>In the JSON-structure there is a JSON-array called clients. If you have multiple flavors, just add the different properties here.</p>\n\n<pre><code>{\n  \"project_info\": {\n    \"project_id\": \"PRODJECT-ID\",\n    \"project_number\": \"PROJECT-NUMBER\",\n    \"name\": \"APPLICATION-NAME\"\n  },\n  \"client\": [\n    {\n      \"client_info\": {\n        \"mobilesdk_app_id\": \"1:PROJECT-NUMBER:android:HASH-FOR-FLAVOR1\",\n        \"client_id\": \"android:PACKAGE-NAME-1\",\n        \"client_type\": 1,\n        \"android_client_info\": {\n          \"package_name\": \"PACKAGE-NAME-1\"\n        }\n      },\n      \"oauth_client\": [],\n      \"api_key\": [],\n      \"services\": {\n        \"analytics_service\": {\n          \"status\": 1\n        },\n        \"cloud_messaging_service\": {\n          \"status\": 2,\n          \"apns_config\": []\n        },\n        \"appinvite_service\": {\n          \"status\": 1,\n          \"other_platform_oauth_client\": []\n        },\n        \"google_signin_service\": {\n          \"status\": 1\n        },\n        \"ads_service\": {\n          \"status\": 1\n        }\n      }\n    },\n    {\n      \"client_info\": {\n        \"mobilesdk_app_id\": \"1:PROJECT-NUMBER:android:HASH-FOR-FLAVOR2\",\n        \"client_id\": \"android:PACKAGE-NAME-2\",\n        \"client_type\": 1,\n        \"android_client_info\": {\n          \"package_name\": \"PACKAGE-NAME-2\"\n        }\n      },\n      \"oauth_client\": [],\n      \"api_key\": [],\n      \"services\": {\n        \"analytics_service\": {\n          \"status\": 1\n        },\n        \"cloud_messaging_service\": {\n          \"status\": 2,\n          \"apns_config\": []\n        },\n        \"appinvite_service\": {\n          \"status\": 1,\n          \"other_platform_oauth_client\": []\n        },\n        \"google_signin_service\": {\n          \"status\": 1\n        },\n        \"ads_service\": {\n          \"status\": 1\n        }\n      }\n    }\n  ],\n  \"client_info\": [],\n  \"ARTIFACT_VERSION\": \"1\"\n}\n</code></pre>\n\n<p>In my project I'm using the same project-id and when I'm adding the second package-name in the above url, google provides me with a file containing multiple clients in the json-data.</p>\n\n<p>Sorry for the compact JSON-data. I couldn't get it formatted correctly...</p>\n", "title": "google-services.json for different productFlavors", "answer_id": 34926984, "link": "http://stackoverflow.com/questions/30772201/google-services-json-for-different-productflavors/34926984#34926984", "tags": ["android", "google-cloud-messaging", "google-play-services"]}, {"body": "<p>We have a different package name for debug builds (*.debug) so I wanted something that works based on flavor and buildType, without having to write anything flavor-related in the pattern of <code>processDebugFlavorGoogleServices</code>. </p>\n\n<p>I created a folder named \"google-services\" in each flavor, containing both the debug version and the release version of the json file : </p>\n\n<p><a href=\"http://i.stack.imgur.com/o8sRo.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/o8sRo.png\" alt=\"enter image description here\"></a></p>\n\n<p>In the buildTypes section of your gradle file, add this  :</p>\n\n<pre><code>    applicationVariants.all { variant -&gt;\n            def buildTypeName = variant.buildType.name\n            def flavorName = variant.productFlavors[0].name;\n\n            def googleServicesJson = 'google-services.json'\n            def originalPath = \"src/$flavorName/google-services/$buildTypeName/$googleServicesJson\"\n            def destPath = \".\"\n\n            copy {\n                if (flavorName.equals(getCurrentFlavor()) &amp;&amp; buildTypeName.equals(getCurrentBuildType())) {\n                    println originalPath\n                    from originalPath\n                    println destPath\n                    into destPath\n                }\n            }\n    }\n</code></pre>\n\n<p>It will copy the right json file at the root of your app module automatically when you'll switch build variant.</p>\n\n<p>Add the two methods called to get the current flavor and current build type at the root of your build.gradle </p>\n\n<pre><code>def getCurrentFlavor() {\n    Gradle gradle = getGradle()\n    String  tskReqStr = gradle.getStartParameter().getTaskRequests().toString()\n\n    Pattern pattern;\n\n    if( tskReqStr.contains( \"assemble\" ) )\n        pattern = Pattern.compile(\"assemble(\\\\w+)(Release|Debug)\")\n    else\n        pattern = Pattern.compile(\"generate(\\\\w+)(Release|Debug)\")\n\n    Matcher matcher = pattern.matcher( tskReqStr )\n\n    if( matcher.find() ) {\n        println matcher.group(1).toLowerCase()\n        return matcher.group(1).toLowerCase()\n    }\n    else\n    {\n        println \"NO MATCH FOUND\"\n        return \"\";\n    }\n}\n\ndef getCurrentBuildType() {\n    Gradle gradle = getGradle()\n    String  tskReqStr = gradle.getStartParameter().getTaskRequests().toString()\n\n        if (tskReqStr.contains(\"Release\")) {\n            println \"getCurrentBuildType release\"\n            return \"release\"\n        }\n        else if (tskReqStr.contains(\"Debug\")) {\n            println \"getCurrentBuildType debug\"\n            return \"debug\"\n        }\n\n    println \"NO MATCH FOUND\"\n    return \"\";\n}\n</code></pre>\n\n<p>That's it, you don't have to worry about removing/adding/modifying flavors from your gradle file, and it get the debug or the release google-services.json automatically.</p>\n", "title": "google-services.json for different productFlavors", "answer_id": 35159638, "link": "http://stackoverflow.com/questions/30772201/google-services-json-for-different-productflavors/35159638#35159638", "tags": ["android", "google-cloud-messaging", "google-play-services"]}, {"body": "<p>As of <strong>Google Services 3.0</strong> and using <strong>Firebase</strong> it's not necessary to create different files for different flavours. Creating different files for different flavours can be not clear or straightforward in case you have productFlavours and Build types which compose with each other.</p>\n\n<p>In the same file you'll have the all the configurations you need for all your build types and flavours.</p>\n\n<p>In the Firebase console you need to add one app per package name. Imagine that you have 2 flavours (dev and live) and 2 build types (debug and release). Depending on your config but it's likely that you have 4 different package names like:</p>\n\n<ul>\n<li>com.stackoverflow.example (live - release)</li>\n<li>com.stackoverflow.example.dev (live - dev)</li>\n<li>com.stackoverflow.example.debug (debug - release)</li>\n<li>com.stackoverflow.example.dev.debug (debug - dev)</li>\n</ul>\n\n<p>You need 4 different Android Apps in the Firebase Console. (On each one you need to add the SHA-1 for debug and live for each computer you are using)</p>\n\n<p>When you download the google-services.json file, actually it doesn't really matter from what app you download it, all of them contain the same info related to all your apps.</p>\n\n<p>Now you need to locate this file in app level (app/).</p>\n\n<p><a href=\"http://i.stack.imgur.com/zTTGg.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/zTTGg.png\" alt=\"enter image description here\"></a></p>\n\n<p>If you open that file you'll see that if contains all the information for all your package names.</p>\n\n<p>A pain point use to be the plugin. In order to get it working you need to locate the plugin at the bottom of your file. So this line..</p>\n\n<pre><code>apply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>...needs to be on the bottom of your app build.gradle file.</p>\n\n<p>For most of the said here, it applies to previous versions as well. I've never had different files for different configs, but now with the Firebase console is easier because they provide one single file with everything you need for all you configs.</p>\n\n<ul>\n<li><a href=\"https://firebase.google.com/docs/\" rel=\"nofollow\">Firebase Docs</a></li>\n<li><a href=\"https://firebase.google.com/docs/cloud-messaging/\" rel=\"nofollow\">Firebase Cloud Messaging</a></li>\n<li><a href=\"https://console.firebase.google.com\" rel=\"nofollow\">Firebase Console</a></li>\n</ul>\n", "title": "google-services.json for different productFlavors", "answer_id": 38479169, "link": "http://stackoverflow.com/questions/30772201/google-services-json-for-different-productflavors/38479169#38479169", "tags": ["android", "google-cloud-messaging", "google-play-services"]}, {"body": "<p>Simplifying what @Scotti said. You need to create Multiples apps with different package name for a particular Project depending on the product flavor.</p>\n\n<p>Suppose your Project is ABC having different product flavors X,Y where X has a package name com.x and Y has a package name com.y then in the firebase console you need to create a project ABC in which you need to create 2 apps with the package names com.x and com.y. Then you need to download the google-services.json file in which there will be 2 client-info objects which will contain those pacakges and you will be good to go.</p>\n\n<p>Snippet of the json would be something like this</p>\n\n<pre><code>{\n  \"client\": [\n    {\n      \"client_info\": {\n        \"android_client_info\": {\n          \"package_name\": \"com.x\"\n        }\n\n    {\n      \"client_info\": {\n        \"android_client_info\": {\n          \"package_name\": \"com.y\"\n        }\n      ]\n\n    }\n</code></pre>\n", "title": "google-services.json for different productFlavors", "answer_id": 39266285, "link": "http://stackoverflow.com/questions/30772201/google-services-json-for-different-productflavors/39266285#39266285", "tags": ["android", "google-cloud-messaging", "google-play-services"]}, {"body": "<p>Hey Friends also looks for name use only lowercase then u don't get this error</p>\n", "title": "google-services.json for different productFlavors", "answer_id": 39489550, "link": "http://stackoverflow.com/questions/30772201/google-services-json-for-different-productflavors/39489550#39489550", "tags": ["android", "google-cloud-messaging", "google-play-services"]}], "question_id": 30772201}, {"body": "<p>Today I updated <a href=\"http://fortawesome.github.io/Font-Awesome/\">Font Awesome</a> package to 4.3.0 and noticed that <strong>woff2</strong> font was added. That file is linked in CSS so I need to configure nginx to serve woff2 files properly.</p>\n\n<p>Currently I have this block in nginx config for fonts:</p>\n\n<pre><code>location ~* \\.(otf|eot|woff|ttf)$ {\n    types     {font/opentype otf;}\n    types     {application/vnd.ms-fontobject eot;}\n    types     {font/truetype ttf;}\n    types     {application/font-woff woff;}\n}\n</code></pre>\n\n<p>What is proper mime type for woff2 fonts?</p>\n", "title": "Proper MIME type for .woff2 fonts", "tags": ["fonts", "mime-types", "woff", "woff2"], "answer_count": 4, "link": "http://stackoverflow.com/questions/28235550/proper-mime-type-for-woff2-fonts", "answers": [{"body": "<p>The mime type (sometime written as mimetype) for WOFF2 fonts has been <strong>proposed</strong> as <code>application/font-woff2</code>.</p>\n\n<p>Also, if you refer to the spec (<a href=\"http://dev.w3.org/webfonts/WOFF2/spec/\">http://dev.w3.org/webfonts/WOFF2/spec/</a>) you will see that <code>font/woff2</code> is being discussed. I suspect that the filal mime type for all fonts will eventually be the more logical <code>font/*</code> (<code>font/ttf</code>, <code>font/woff2</code> etc)...</p>\n\n<p>N.B. WOFF2 is still in 'Working Draft' status -- not yet adopted officially.</p>\n", "title": "Proper MIME type for .woff2 fonts", "answer_id": 28251873, "link": "http://stackoverflow.com/questions/28235550/proper-mime-type-for-woff2-fonts/28251873#28251873", "tags": ["fonts", "mime-types", "woff", "woff2"]}, {"body": "<p>In IIS you can declare the mime type for WOFF2 font files by adding the following to your project's web.config:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;system.webServer&gt;\n  &lt;staticContent&gt;\n    &lt;remove fileExtension=\".woff2\" /&gt;\n    &lt;mimeMap fileExtension=\".woff2\" mimeType=\"font/woff2\" /&gt;\n  &lt;/staticContent&gt;\n&lt;/system.webServer&gt;\n</code></pre>\n\n<p><strong>Update</strong>:\nThe mime type may be changing according to the latest <em>W3C Editor's Draft WOFF2 spec</em>. See <a href=\"https://dev.w3.org/webfonts/WOFF2/spec/#IMT\">Appendix A: Internet Media Type Registration</a> section <strong>6.5. WOFF 2.0</strong> which states the latest <strong><em>proposed</em></strong> format is <code>font/woff2</code></p>\n", "title": "Proper MIME type for .woff2 fonts", "answer_id": 28955302, "link": "http://stackoverflow.com/questions/28235550/proper-mime-type-for-woff2-fonts/28955302#28955302", "tags": ["fonts", "mime-types", "woff", "woff2"]}, {"body": "<p><a href=\"http://dev.w3.org/webfonts/WOFF2/spec/#IMT\">http://dev.w3.org/webfonts/WOFF2/spec/#IMT</a></p>\n\n<p>It seem that w3c switched it to <code>font/woff2</code></p>\n\n<p>I see there is some discussion about the proper mime type.\nIn the link we read: </p>\n\n<blockquote>\n  <p>This document defines a <strong>top-level</strong> MIME type \"font\" ...</p>\n  \n  <p>... the officially defined IANA subtypes such as \"application/font-woff\" ...</p>\n  \n  <p>The members of the W3C WebFonts WG believe the use of \"application\" top-level type is not ideal.</p>\n</blockquote>\n\n<p>and later</p>\n\n<pre><code>6.5. WOFF 2.0\n\n    Type name:\n\n        font\n    Subtype name:\n\n        woff2\n</code></pre>\n\n<p>So proposition from W3C differs from IANA.</p>\n\n<p>We can see that it also differs from woff type:\n<a href=\"http://dev.w3.org/webfonts/WOFF/spec/#IMT\">http://dev.w3.org/webfonts/WOFF/spec/#IMT</a>\nwhere we read:</p>\n\n<pre><code>Type name:\n\n    application\nSubtype name:\n\n    font-woff\n</code></pre>\n\n<p>which is</p>\n\n<pre><code>application/font-woff\n</code></pre>\n\n<p><a href=\"http://www.w3.org/TR/WOFF/#appendix-b\">http://www.w3.org/TR/WOFF/#appendix-b</a></p>\n", "title": "Proper MIME type for .woff2 fonts", "answer_id": 29888838, "link": "http://stackoverflow.com/questions/28235550/proper-mime-type-for-woff2-fonts/29888838#29888838", "tags": ["fonts", "mime-types", "woff", "woff2"]}, {"body": "<h1>Apache</h1>\n\n<p>In Apache, you can add the <code>woff2</code> mime type via your <code>.htaccess</code> file as stated by <a href=\"https://gist.github.com/sergejmueller/cf6b4f2133bcb3e2f64a\" rel=\"nofollow\">this link</a>.</p>\n\n<pre><code>AddType  application/font-woff2  .woff2\n</code></pre>\n\n<hr>\n\n<h1>IIS</h1>\n\n<p>In IIS, simply add the following <code>mimeMap</code> tag into your <code>web.config</code> file inside the <code>staticContent</code> tag.</p>\n\n<pre><code>&lt;configuration&gt;\n  &lt;system.webServer&gt;\n    &lt;staticContent&gt;\n      &lt;mimeMap fileExtension=\".woff2\" mimeType=\"application/font-woff2\" /&gt;\n</code></pre>\n", "title": "Proper MIME type for .woff2 fonts", "answer_id": 31151786, "link": "http://stackoverflow.com/questions/28235550/proper-mime-type-for-woff2-fonts/31151786#31151786", "tags": ["fonts", "mime-types", "woff", "woff2"]}], "question_id": 28235550}, {"body": "<p>I'm using Ubuntu Gnome 14.04, and I have Java 8 installed (both the JDK and the JRE).</p>\n\n<p>When I was installing Android Studio everything worked, but a message appeared saying:</p>\n\n<blockquote>\n  <p>Unable to run mksdcard SDK tool</p>\n</blockquote>\n\n<p>How can I install Android Studio correctly, or how do I fix this ?</p>\n", "title": "Unable to install Android Studio in Ubuntu", "tags": ["java", "android", "ubuntu", "android-studio", "64bit"], "answer_count": 10, "link": "http://stackoverflow.com/questions/28847151/unable-to-install-android-studio-in-ubuntu", "answers": [{"body": "<p>Presuming that you are running the 64bit Ubuntu, the fix suggested for \"Issue <a href=\"https://code.google.com/p/android/issues/detail?id=82711\">82711</a>\" should solve your problem.</p>\n\n<p><code>sudo apt-get install lib32z1 lib32ncurses5 lib32bz2-1.0 lib32stdc++6</code></p>\n", "title": "Unable to install Android Studio in Ubuntu", "answer_id": 28847280, "link": "http://stackoverflow.com/questions/28847151/unable-to-install-android-studio-in-ubuntu/28847280#28847280", "tags": ["java", "android", "ubuntu", "android-studio", "64bit"]}, {"body": "<p>@warsong is right. Installing only <code>lib32stdc++6</code> solved the problem.</p>\n\n<p>For next uses I rewrite @warsongs comment in answer area.</p>\n\n<pre><code>sudo apt-get install lib32stdc++6\n</code></pre>\n", "title": "Unable to install Android Studio in Ubuntu", "answer_id": 30067060, "link": "http://stackoverflow.com/questions/28847151/unable-to-install-android-studio-in-ubuntu/30067060#30067060", "tags": ["java", "android", "ubuntu", "android-studio", "64bit"]}, {"body": "<p><a href=\"http://developer.android.com/sdk/installing/index.html?pkg=tools\" rel=\"nofollow\">Checkout this page</a></p>\n\n<blockquote>\n  <p>If you are running a 64-bit distribution on your development machine, you need to install additional packages first. For Ubuntu 13.10 (Saucy Salamander) and above, install the <code>libncurses5:i386</code>, <code>libstdc++6:i386</code>, and <code>zlib1g:i386</code> packages using <code>apt-get</code>:</p>\n</blockquote>\n\n<pre><code>sudo dpkg --add-architecture i386\nsudo apt-get update\nsudo apt-get install libncurses5:i386 libstdc++6:i386 zlib1g:i386\n</code></pre>\n", "title": "Unable to install Android Studio in Ubuntu", "answer_id": 33326703, "link": "http://stackoverflow.com/questions/28847151/unable-to-install-android-studio-in-ubuntu/33326703#33326703", "tags": ["java", "android", "ubuntu", "android-studio", "64bit"]}, {"body": "<p>I understand the question is regarding UBUNTU, but I had similar problem in Debian Jessie 64bit and warsongs suggestion worked for it also.<br>\nWhen I ran studio.sh android studio would start, but when I tried to configure the android SDK I got the error<br>\n<code>Unable to run mksdcard SDK tool</code><br>\nWHen I tried<br>\n<code>sudo apt-get install lib32z1 lib32ncurses5 lib32bz2-1.0 lib32stdc++6</code><br>\nGot error<br>\n<code>E: Package 'lib32bz2-1.0' has no installation candidate</code><br>\nSo took warsongs suggestion and only tried to install lib32stdc++6.<br>\n<code>sudo apt-get install  lib32stdc++6</code><br>\nAfter this was able to add the Android SDK into Android Studio. </p>\n", "title": "Unable to install Android Studio in Ubuntu", "answer_id": 33656958, "link": "http://stackoverflow.com/questions/28847151/unable-to-install-android-studio-in-ubuntu/33656958#33656958", "tags": ["java", "android", "ubuntu", "android-studio", "64bit"]}, {"body": "<p>For Linux Mint run</p>\n\n<pre><code>sudo apt-get install lib32z1 lib32ncurses5 libbz2-1.0 lib32stdc++6\n</code></pre>\n", "title": "Unable to install Android Studio in Ubuntu", "answer_id": 34401540, "link": "http://stackoverflow.com/questions/28847151/unable-to-install-android-studio-in-ubuntu/34401540#34401540", "tags": ["java", "android", "ubuntu", "android-studio", "64bit"]}, {"body": "<p>For Fedora (tested for Fedora 23) run</p>\n\n<pre><code>dnf install compat-libstdc++-296 compat-libstdc++-33 glibc libgcc nss-softokn-freebl libstdc++ ncurses-libs zlib-devel.i686 ncurses-devel.i686 ant\n</code></pre>\n", "title": "Unable to install Android Studio in Ubuntu", "answer_id": 34568682, "link": "http://stackoverflow.com/questions/28847151/unable-to-install-android-studio-in-ubuntu/34568682#34568682", "tags": ["java", "android", "ubuntu", "android-studio", "64bit"]}, {"body": "<p>The Problem is caused by mksdcard not being installed correctly.</p>\n\n<p>if you are running 64 bit, do this to fix the mksdcard problem.</p>\n\n<pre><code>    sudo dpkg --add-architecture amd64\n    sudo apt-get update\n    sudo apt-get install libncurses5:amd64 libstdc++6:amd64 zlib1g:amd64\n</code></pre>\n\n<p>and 32 bit:</p>\n\n<pre><code>    sudo dpkg --add-architecture i386\n    sudo apt-get update\n    sudo apt-get install libncurses5:i386 libstdc++6:i386 zlib1g:i386\n</code></pre>\n\n<p>In SDK 6.0, the error message is different but means the same thing.</p>\n\n<pre><code>    Unable to run mksdcard\n</code></pre>\n", "title": "Unable to install Android Studio in Ubuntu", "answer_id": 35215312, "link": "http://stackoverflow.com/questions/28847151/unable-to-install-android-studio-in-ubuntu/35215312#35215312", "tags": ["java", "android", "ubuntu", "android-studio", "64bit"]}, {"body": "<p>None of these options worked for me on Ubuntu 12.10 (yeah, I need to upgrade).  However, I found an easy solution.  Download the source from here: <a href=\"https://github.com/miracle2k/android-platform_sdk/blob/master/emulator/mksdcard/mksdcard.c\" rel=\"nofollow\">https://github.com/miracle2k/android-platform_sdk/blob/master/emulator/mksdcard/mksdcard.c</a>.  Then simply compile with \"gcc mksdcard.c -o mksdcard\". Backup mksdcard in the SDK tools subfolder and replace with the newly compiled one.  Android Studio will now be happy with your SDK.</p>\n", "title": "Unable to install Android Studio in Ubuntu", "answer_id": 35355819, "link": "http://stackoverflow.com/questions/28847151/unable-to-install-android-studio-in-ubuntu/35355819#35355819", "tags": ["java", "android", "ubuntu", "android-studio", "64bit"]}, {"body": "<p>If you run <code>sudo apt-get install lib32z1 lib32ncurses5 libbz2-1.0 lib32stdc++6</code>\nand got a message like: \"<code>The following packages have unmet dependencies: lib32stdc++6 : Depends: lib32gcc1 (&gt;= 1:4.1.1)</code>\".</p>\n\n<p>You can do something like this tut: <a href=\"http://askubuntu.com/questions/671791/lib32stdc6-package-depends-on-gcc-base-but-my-installed-version-is-newer\">http://askubuntu.com/questions/671791/lib32stdc6-package-depends-on-gcc-base-but-my-installed-version-is-newer</a></p>\n", "title": "Unable to install Android Studio in Ubuntu", "answer_id": 36879410, "link": "http://stackoverflow.com/questions/28847151/unable-to-install-android-studio-in-ubuntu/36879410#36879410", "tags": ["java", "android", "ubuntu", "android-studio", "64bit"]}, {"body": "<p>This issue arises when your 64 bit os tries to install the Android SDK which in turns tries to install some 32 bit binaries and thus is the issue of compatibility. </p>\n\n<p>Open an additional terminal and type</p>\n\n<pre><code>sudo apt-get install lib32z1 lib32ncurses5 lib32bz2-1.0 lib32stdc++6 \n</code></pre>\n\n<p>would help to install all the required binaries. After this, start the afresh the Android SDK installation process.</p>\n", "title": "Unable to install Android Studio in Ubuntu", "answer_id": 37498509, "link": "http://stackoverflow.com/questions/28847151/unable-to-install-android-studio-in-ubuntu/37498509#37498509", "tags": ["java", "android", "ubuntu", "android-studio", "64bit"]}], "question_id": 28847151}, {"body": "<p>Google Chrome does not refresh accessibility elements (<a href=\"https://msdn.microsoft.com/library/system.windows.automation.automationelement%28v=vs.110%29.aspx\">AutomationElement</a>) when a user scrolls down in the browser. </p>\n\n<p>To reproduce it: </p>\n\n<ol>\n<li>Enable renderer accessibility with :  <code>\"chrome --force-render-accessibility\"</code> or by setting on Global Accessibility at <code>\"chrome://accessibility\"</code>.</li>\n<li>Go to <a href=\"http://en.wikipedia.org/wiki/Google\">http://en.wikipedia.org/wiki/Google</a></li>\n<li>Open <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/dd318521%28v=vs.85%29.aspx\">inspect.exe</a> in UI Automation Mode (from Windows Kits), look for \"Links to related articles\" element. </li>\n<li>Come back to Chrome, Scroll down until \"Links to related articles\" at the bottom is visible</li>\n<li>\"Links to related articles\" element is marked off screen</li>\n</ol>\n\n<hr>\n\n<p>I found some manual solutions that can force Chrome to refresh it: </p>\n\n<ol>\n<li>Set Zoom to 90% then set it back to 100 % (very very ugly way)</li>\n<li>Switch accessibility off then switch on in <code>chrome://accessibility/</code></li>\n</ol>\n\n<p><strong>What I'm looking for is the ability to do one of these operations programatically, or any operation that can make Chrome refresh its cache tree.</strong></p>\n\n<hr>\n\n<p>What I've tried:</p>\n\n<ul>\n<li>Resize window with <code>PInvoke/MoveWindow</code></li>\n<li>Redraw Window with <code>PInvoke/Redrawwindow</code></li>\n<li>Build a chrome extension and force zoom to 100% on demand: <code>chrome.tabs.setZoom(null, 0);</code> (working but blink and slow down the window)</li>\n</ul>\n\n<p>None of these are working properly.</p>\n\n<p><strong>EDIT</strong>: Tested with Google Chrome 40.XX, 41.XX, 42.XX, 43.XX, 44.XX, 45.XX, 46.XX, 47.XX.Dev, 48.XX.Dev under Windows 7.</p>\n", "title": "Google Chrome accessible tree cache issue with UI Automation", "tags": ["c#", "google-chrome", "pinvoke", "accessibility", "ui-automation"], "answer_count": 2, "link": "http://stackoverflow.com/questions/30434961/google-chrome-accessible-tree-cache-issue-with-ui-automation", "answers": [{"body": "<p>Chrome's multi-process architecture is different from that of any other browser. For security, the main browser UI is in one process, and web pages are run in separate renderer processes (typically one per tab). The Renderer processes are the only ones with a representation of the webpage's DOM and therefore all of the accessibility information, but the renderer processes are specifically not allowed to interact with the operating system (sending or receiving events or messages) - in particular, the renderer processes cannot send or receive accessibility events.</p>\n", "title": "Google Chrome accessible tree cache issue with UI Automation", "answer_id": 33887731, "link": "http://stackoverflow.com/questions/30434961/google-chrome-accessible-tree-cache-issue-with-ui-automation/33887731#33887731", "tags": ["c#", "google-chrome", "pinvoke", "accessibility", "ui-automation"]}, {"body": "<p>Scrolling in simple pages is optimized to not require computation from the renderer. Only the compositor and the GPU are needed to scroll therefore the render tree which is only updated from the renderer is still the same.</p>\n\n<p>Requiring the renderer to traverse the DOM and update the Accessibility tree during a scroll runs contrary with the several years effort of having smooth scrolling, specially for touch devices so I don't think you are going to get traction on a bug fix.</p>\n\n<p>Your idea of an extension I think is the best (although ugly) compromise. But rather that changing zoom, doing a small mutation of the page (or DOM) might be a better solution. Try for example adding a invisible (or nearly so) element with a low z-order. You will also need to rate control the mutation so it only happens 1 times per second or even less often.</p>\n", "title": "Google Chrome accessible tree cache issue with UI Automation", "answer_id": 34914247, "link": "http://stackoverflow.com/questions/30434961/google-chrome-accessible-tree-cache-issue-with-ui-automation/34914247#34914247", "tags": ["c#", "google-chrome", "pinvoke", "accessibility", "ui-automation"]}], "question_id": 30434961}, {"body": "<p>A new stable release of Node.js (0.12) has landed recently with an upgraded Google's v8 JavaScript engine, <em>v3.28.73</em>.</p>\n\n<h2>What ECMAScript 6 features are currently present in Node.js, without using the <code>--harmony</code> flag?</h2>\n\n<p>I have checked several sites claiming to list the ES 6 features but all of them seem out of date - most prominently, <a href=\"http://kangax.github.io/compat-table/es6/#node\" rel=\"nofollow\">this table</a> (<strong>Update:</strong> <em>now updated with current Node.js status as of 0.12</em>), because several of the features are listed as requiring the <code>--harmony</code> flag while I found some of them being enabled by default (Maps, Sets, Symbols, to name a few). <strong>Update</strong>: <a href=\"http://node.green/\" rel=\"nofollow\">Node specific tables</a> have since been made available</p>\n\n<p>Also, trying to google this information purely for the v8 engine gives too up-to-date information - current v8 release is <em>4.2.*</em>, which is quite ahead of what Node.js uses.</p>\n\n<p>My hopes are that this question (and its answers) will become a comprehensive summary on what ES 6 features are now available to Node.js developers.</p>\n\n<h2>ES 6 features enabled in Node.js 0.12 I currently know of:</h2>\n\n<ul>\n<li>Maps, Sets / WeakMaps, WeakSets</li>\n<li>Symbols</li>\n<li>Object.observe</li>\n<li>Promises</li>\n<li>Number\n\n<ul>\n<li>.isInteger</li>\n<li>.isSafeInteger</li>\n<li>.isNaN</li>\n<li>.EPSILON</li>\n<li>.MIN_SAFE_INTEGER</li>\n<li>.MAX_SAFE_INTEGER</li>\n</ul></li>\n<li>Math\n\n<ul>\n<li>.clz32</li>\n<li>.imul</li>\n<li>.sign</li>\n<li>.log10</li>\n<li>.log2</li>\n<li>.log1p</li>\n<li>.expm1</li>\n<li>.cosh</li>\n<li>.sinh</li>\n<li>.tanh</li>\n<li>.acosh</li>\n<li>.asinh</li>\n<li>.atanh</li>\n<li>.trunc</li>\n<li>.fround</li>\n<li>.cbrt</li>\n<li>.hypot</li>\n</ul></li>\n</ul>\n", "title": "ECMAScript 6 features available in Node.js 0.12", "tags": ["javascript", "node.js", "v8", "ecmascript-6"], "answer_count": 2, "link": "http://stackoverflow.com/questions/28388885/ecmascript-6-features-available-in-node-js-0-12", "answers": [{"body": "<p><strong>Features without <code>--harmony</code> flag:</strong></p>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of\">\"for-of\" loop</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map\">Map</a>, <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set\">Set</a>, <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap\">WeakMap</a>, <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet\">WeakSet</a> (already specified in question)</li>\n<li><a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Symbol\">Symbol</a> (already specified in question)</li>\n<li><a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Promise\">Promise</a> (already specified in question)</li>\n<li>Array methods: \n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/keys\">.keys()</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/values\">.values()</a> </li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/entries\">.entries()</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/@@iterator\">[Symbol.iterator]</a></li>\n</ul></li>\n<li>Object:\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/observe\">.observe()</a> (initially was <a href=\"http://bocoup.com/weblog/javascript-object-observe/\">planned for ES7</a>, but was <a href=\"https://esdiscuss.org/topic/an-update-on-object-observe\">removed from the spec entirely</a> on November 2, 2015)</li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\">.is()</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf\">.setPrototypeOf()</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertySymbols\">.getOwnPropertySymbols()</a></li>\n<li>.getNotifier() (not es6, example <a href=\"http://bocoup.com/weblog/javascript-object-observe/\">here</a>)</li>\n<li>.apply() and .call() (not es6, same purpose as Funciton.prototype.call and Function.prototype.apply)</li>\n</ul></li>\n<li>Number properties and methods (already specified in question)\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger\">.isInteger()</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isSafeInteger\">.isSafeInteger()</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isNaN\">.isNaN()</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isFinite\">.isFinite()</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/EPSILON\">EPSILON</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/MIN_SAFE_INTEGER\">MIN_SAFE_INTEGER</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_SAFE_INTEGER\">MAX_SAFE_INTEGER</a></li>\n</ul></li>\n<li>Math methods (<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math\">a lot of them</a>) (already specified in question)</li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/const\">constants</a></li>\n</ul>\n\n<p>I thinks that's all that we have without <code>--harmony</code> flag.</p>\n\n<p><strong>Features with <code>--harmony</code> flag:</strong></p>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function*\">generators</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\">arrow functions</a> (without need of <code>--harmony_arrow_functions</code> flag in contrast to <code>io.js</code>)</li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/let\">let variables</a> - only in <code>strict mode</code></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Lexical_grammar\">Binary and octal literals</a></li>\n<li><p>String methods:</p>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\">.contains()</a> (was replaced by <code>includes()</code> in actual ES6 specification)</li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\">.startsWith()</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\">.endsWith()</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/codePointAt\">.codePointAt()</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/repeat\">.repeat()</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize\">.normalize()</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/fromCodePoint\">String.fromCodePoint</a></li>\n</ul></li>\n<li><p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy\">Proxy</a> (behind the <code>--harmony-proxies</code> flag)</p></li>\n</ul>\n\n<p>I think that's all. Maybe if I forgot something - I'll add it later to the list.</p>\n", "title": "ECMAScript 6 features available in Node.js 0.12", "answer_id": 28389178, "link": "http://stackoverflow.com/questions/28388885/ecmascript-6-features-available-in-node-js-0-12/28389178#28389178", "tags": ["javascript", "node.js", "v8", "ecmascript-6"]}, {"body": "<p>ES6 features trickle down to Node in phases. Node uses Google's V8 as the JavaScript engine. A feature being supported in Node means it first has to be implemented in V8 and then Node team has to incorporate it in Node.js. </p>\n\n<p>The team at Google releases a new version of V8 roughly every six weeks, and then it's up to the Node team to take it into use.</p>\n\n<p>Manually curated lists of language features are nice but can become outdated quickly. Node 0.12 is not that in flux anymore, but typically manually curated list becomse obsolete as soon as a new version of Node is rolled out.</p>\n\n<p>Here are two alternate ways to check what features a Node version supports, without relying on a static list. For further reading and more detailed examples of using these, you can check <a href=\"http://bytearcher.com/articles/how-to-check-if-node-implements-es6-language-feature/\" rel=\"nofollow\">\"How to check if Node.js supports ES 6 language feature\"</a> </p>\n\n<h3>#1 Easy - compatibility table</h3>\n\n<p>A dynamically generated list that relies on small tests to confirm the presence of a language feature stays better up to date. One such popular list is kangax.github.io/compat-table/es6/. We are interested only in Node features, so you can use </p>\n\n<p><a href=\"http://node.green\" rel=\"nofollow\">http://node.green</a> </p>\n\n<p>that leverages the same data as the kangax site.</p>\n\n<h3>#2 Hard - backtrack V8 version</h3>\n\n<p>Node uses V8 engine, so determining which version of V8 is included in Node tells us what ES6 language features are supported. You can find out which version of V8 was bundled in Node with <code>node -p process.versions.v8</code>. </p>\n\n<pre><code>$ node -p process.versions.v8\n4.6.85.31\n</code></pre>\n\n<p>Then using Google's V8 project resources you can find which features are implemented in each version. The V8 project keeps an <a href=\"https://bugs.chromium.org/p/v8/issues/list?can=1&amp;q=label%3Aharmony\" rel=\"nofollow\">issue tracker</a> where you can find ES6+beyond features marked with the <em>harmony</em> label.</p>\n", "title": "ECMAScript 6 features available in Node.js 0.12", "answer_id": 36131064, "link": "http://stackoverflow.com/questions/28388885/ecmascript-6-features-available-in-node-js-0-12/36131064#36131064", "tags": ["javascript", "node.js", "v8", "ecmascript-6"]}], "question_id": 28388885}, {"body": "<p>I'm installing openshift client tools as described: <a href=\"https://developers.openshift.com/en/getting-started-windows.html#client-tools\">https://developers.openshift.com/en/getting-started-windows.html#client-tools</a>.\nOn step 'Setting up Your Machine' I got error:</p>\n\n<blockquote>\n  <p>rhc setup\n  C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n  : cannot load such file -- dl/import (LoadError)</p>\n</blockquote>\n\n<p>Full stack trace:</p>\n\n<pre><code>C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require': cannot load such file -- dl/import (LoadError)\n        from C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/net-ssh-2.9.2/lib/net/ssh/authentication/pageant.rb:1:in `&lt;top (required)&gt;'\n        from C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/net-ssh-2.9.2/lib/net/ssh/authentication/agent/socket.rb:5:in `&lt;top (required)&gt;'\n        from C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/net-ssh-2.9.2/lib/net/ssh/authentication/agent.rb:22:in `&lt;top (required)&gt;'\n        from C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/net-ssh-2.9.2/lib/net/ssh/authentication/key_manager.rb:4:in `&lt;top (required)&gt;'\n        from C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/net-ssh-2.9.2/lib/net/ssh/authentication/session.rb:4:in `&lt;top (required)&gt;'\n        from C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/net-ssh-2.9.2/lib/net/ssh.rb:11:in `&lt;top (required)&gt;'\n        from C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/rhc-1.35.1/lib/rhc/ssh_helpers.rb:18:in `&lt;top (required)&gt;'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/rhc-1.35.1/lib/rhc/wizard.rb:77:in `&lt;class:Wizard&gt;'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/rhc-1.35.1/lib/rhc/wizard.rb:7:in `&lt;module:RHC&gt;'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/rhc-1.35.1/lib/rhc/wizard.rb:6:in `&lt;top (required)&gt;'\n        from C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/rhc-1.35.1/lib/rhc/commands/base.rb:4:in `&lt;top (required)&gt;'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/rhc-1.35.1/lib/rhc/commands/account.rb:2:in `&lt;module:Commands&gt;'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/rhc-1.35.1/lib/rhc/commands/account.rb:1:in `&lt;top (required)&gt;'\n        from C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/rhc-1.35.1/lib/rhc/commands.rb:189:in `block in load'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/rhc-1.35.1/lib/rhc/commands.rb:188:in `each'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/rhc-1.35.1/lib/rhc/commands.rb:188:in `load'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/rhc-1.35.1/lib/rhc/cli.rb:36:in `start'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/rhc-1.35.1/bin/rhc:20:in `&lt;top (required)&gt;'\n        from C:/Ruby22-x64/bin/rhc:23:in `load'\n        from C:/Ruby22-x64/bin/rhc:23:in `&lt;main&gt;'\n</code></pre>\n\n<p>I found same problem: <a href=\"https://groups.google.com/forum/#!topic/supmua/hPyTTamhTyc\">https://groups.google.com/forum/#!topic/supmua/hPyTTamhTyc</a>\nIt's suggest to replace DL with Fiddle. </p>\n\n<p>How I can get working rhc?</p>\n", "title": "rhc setup gives error `no such file dl/import`", "tags": ["ruby", "openshift"], "answer_count": 7, "link": "http://stackoverflow.com/questions/28896733/rhc-setup-gives-error-no-such-file-dl-import", "answers": [{"body": "<p>Updating net-ssh to 2.9.3.beta1, as <a href=\"http://stackoverflow.com/users/4231385/cremno\">cremno</a> suggested in <a href=\"http://stackoverflow.com/questions/28896733/rhc-setup-gives-error-no-such-file-dl-import#comment46054598_28896733\">this comment</a>, resolved my problem.</p>\n\n<pre><code>gem install net-ssh -v 2.9.3.beta1\n</code></pre>\n\n<p>Before that, I tried <code>gem install net-ssh</code>, but it didn't help.</p>\n", "title": "rhc setup gives error `no such file dl/import`", "answer_id": 28900142, "link": "http://stackoverflow.com/questions/28896733/rhc-setup-gives-error-no-such-file-dl-import/28900142#28900142", "tags": ["ruby", "openshift"]}, {"body": "<p>I ran into this problem when I used the latest version of Ruby (currently 2.2.1) as stated on the OpenShift setup instructions. I fixed it by:</p>\n\n<ol>\n<li>Installing Ruby 1.9.3</li>\n<li>Re-running \"gem install rhc\"</li>\n</ol>\n\n<p>After that, I was able to run \"rhc setup\" without any issue.</p>\n", "title": "rhc setup gives error `no such file dl/import`", "answer_id": 28959533, "link": "http://stackoverflow.com/questions/28896733/rhc-setup-gives-error-no-such-file-dl-import/28959533#28959533", "tags": ["ruby", "openshift"]}, {"body": "<p>Use the <strong>RHC tested</strong> Ruby version instead of the latest. As of today it is <a href=\"http://rubyinstaller.org/downloads/archives\">1.9.3-p194</a></p>\n", "title": "rhc setup gives error `no such file dl/import`", "answer_id": 33687958, "link": "http://stackoverflow.com/questions/28896733/rhc-setup-gives-error-no-such-file-dl-import/33687958#33687958", "tags": ["ruby", "openshift"]}, {"body": "<p>Try using/installing a lower version of ruby after uninstalling the 2,2,0 because some windows version conflict with ruby version you are using. I tried 2.2.3 and then lowered to 2.2.0 and it worked for me.</p>\n", "title": "rhc setup gives error `no such file dl/import`", "answer_id": 34373994, "link": "http://stackoverflow.com/questions/28896733/rhc-setup-gives-error-no-such-file-dl-import/34373994#34373994", "tags": ["ruby", "openshift"]}, {"body": "<p>If you are running <strong>Windows 10</strong> Pro x64, try installing <code>Ruby</code> <a href=\"http://rubyinstaller.org/downloads/\">2.1.8 (x64)</a> with <a href=\"http://www.git-scm.com/download/win\">Git Version 2.7.0</a>. This will surely allow you to run <code>rhc setup</code> as it did happened with me. Earlier I had a problem running &amp; installing latest version of <code>Ruby 2.2.4 (x64)</code> but when I downgraded to ruby version <code>2.1.8 (x64)</code> I was able to run <code>rhc setup</code> and configure <code>OpenShift client tools</code>on Windows. See the image for Ruby version I'm using - <code>ruby 2.1.8p440 (2015-12-16 revision 53160) [x64-mingw32]</code></p>\n\n<p><a href=\"http://i.stack.imgur.com/FnfRV.png\"><img src=\"http://i.stack.imgur.com/FnfRV.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://developers.openshift.com/en/getting-started-windows.html#client-tools\">Read here</a> for getting started to <code>OpenShift client tools</code> on windows.</p>\n", "title": "rhc setup gives error `no such file dl/import`", "answer_id": 35231025, "link": "http://stackoverflow.com/questions/28896733/rhc-setup-gives-error-no-such-file-dl-import/35231025#35231025", "tags": ["ruby", "openshift"]}, {"body": "<p>I ran into this same error, and none of the solutions worked for me. In a last attempt, I installed the Ruby 1.9.3-p551 version and the rhc setup went smoothly. I use a Windows 10 machine.</p>\n", "title": "rhc setup gives error `no such file dl/import`", "answer_id": 35392329, "link": "http://stackoverflow.com/questions/28896733/rhc-setup-gives-error-no-such-file-dl-import/35392329#35392329", "tags": ["ruby", "openshift"]}, {"body": "<p>I am running Windows 10 Pro x64. I installed Ruby 2.1.8 (x64) with Git Version 2.7.2. Rhc was installed successfully. However, \"rhc snapshot save ...\" command had problem with net-ssh. However, after restarting windows 10 the errors was gone. </p>\n\n<p>Remember to try reboot your windows. </p>\n", "title": "rhc setup gives error `no such file dl/import`", "answer_id": 35842848, "link": "http://stackoverflow.com/questions/28896733/rhc-setup-gives-error-no-such-file-dl-import/35842848#35842848", "tags": ["ruby", "openshift"]}], "question_id": 28896733}, {"body": "<p>I am starting to learn Swift, and have been following the very good Stanford University video lectures on YouTube. Here is a link if you are interested or it helps (although it isn't required to understand my problem):</p>\n\n<p><a href=\"https://itunes.apple.com/ca/course/2.-more-xcode-and-swift-mvc/id961180099?i=333886879&amp;mt=2\">Developing iOS 8 Apps with Swift - 2. More Xcode and Swift, MVC</a></p>\n\n<p>While following the lectures I got to a point where (as far as I could tell) my code was identical to the code in the video but on my system I got a compiler error. After a lot of trial and error I have managed to reduce my code to two examples, one of which generates an error, the other or which doesn't, but I have no idea what is actually causing the error or how to resolve it.</p>\n\n<p>The code which creates the error is:</p>\n\n<pre><code>import UIKit\n\nclass BugViewController: UIViewController\n{\n    func perform(operation: (Double) -&gt; Double) {\n    }\n\n    func perform(operation: (Double, Double) -&gt; Double) {\n    }\n}\n</code></pre>\n\n<p>This creates the following compiler error:</p>\n\n<blockquote>\n  <p>Method 'perform' with Objective-C selector 'perform: ' conflicts with previous declaration with the same Objective-C selector</p>\n</blockquote>\n\n<p>By simply removing the sub-classing of UIViewController the code compiles:</p>\n\n<pre><code>import UIKit\n\nclass BugViewController\n{\n    func perform(operation: (Double) -&gt; Double) {\n    }\n\n    func perform(operation: (Double, Double) -&gt; Double) {\n    }\n}\n</code></pre>\n\n<p>Some other information which may or may not be relevant:</p>\n\n<ul>\n<li>I have recently upgraded to Yosemite.</li>\n<li>When I installed Xcode, I ended up with a Beta version (Version 6.3 (6D543q)) because (if I remember correctly) this was the version I needed to run on my version of OS X.</li>\n</ul>\n\n<p>I am half hoping this is a bug in the compiler because otherwise this doesn't make any sense to me. Any help very gratefully received!</p>\n", "title": "Compiler error: Method with Objective-C selector conflicts with previous declaration with the same Objective-C selector", "tags": ["swift"], "answer_count": 6, "link": "http://stackoverflow.com/questions/29457720/compiler-error-method-with-objective-c-selector-conflicts-with-previous-declara", "answers": [{"body": "<p>Objective-C does not support method overloading, you have to use a different method name. When you inherited UIViewController you inherited NSObject and made the class interopable to Obj-C. Swift on the other hand does support overloading, that's why it works when you remove the inheritance.</p>\n", "title": "Compiler error: Method with Objective-C selector conflicts with previous declaration with the same Objective-C selector", "answer_id": 29457777, "link": "http://stackoverflow.com/questions/29457720/compiler-error-method-with-objective-c-selector-conflicts-with-previous-declara/29457777#29457777", "tags": ["swift"]}, {"body": "<p>The problem is <code>UIViewController</code> is an <code>@objc</code> class. When inheriting from <code>UIViewController</code>, <code>BugViewController</code> is also a <code>@objc</code> class.</p>\n\n<p>This means it must conform to the rules of Objective-C selectors (the name of a method). The methods <code>func perform(operation: (Double) -&gt; Double)</code> and <code>func perform(operation: (Double, Double) -&gt; Double)</code> both have the same selector <code>@selector(perform:)</code>. This is not allowed.</p>\n\n<p>To resolve this, use different names: like <code>func perform1(operation: (Double) -&gt; Double)</code> and <code>func perform2(operation: (Double, Double) -&gt; Double)</code>.</p>\n\n<hr>\n\n<p>I think the best way to handle this is to give your <code>perform()</code> methods more descriptive names. What do these methods do? How do they change the state of the view controller? Look at the other <code>UIViewController</code> methods to get a feel for the style of method naming, or read <a href=\"https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/Conventions/Conventions.html\">Method Names Should Be Expressive and Unique Within a Class</a></p>\n", "title": "Compiler error: Method with Objective-C selector conflicts with previous declaration with the same Objective-C selector", "answer_id": 29457787, "link": "http://stackoverflow.com/questions/29457720/compiler-error-method-with-objective-c-selector-conflicts-with-previous-declara/29457787#29457787", "tags": ["swift"]}, {"body": "<p>I myself am also taking the Standford course and I got stuck here for a long time too, but after some searching, I found something from here: <a href=\"https://developer.apple.com/library/ios/releasenotes/DeveloperTools/RN-Xcode/Chapters/Introduction.html\">Xcode release notes</a> and it mentioned something below: </p>\n\n<blockquote>\n  <p>Swift 1.2 is strict about checking type-based overloading of @objc\n  methods and initializers, something not supported by Objective-C.</p>\n\n<pre><code>// Has the Objective-C selector \"performOperation:\".\nfunc performOperation(op: NSOperation) { /* do something */ }\n// Also has the selector \"performOperation:\".\nfunc performOperation(fn: () -&gt; Void) {\n    self.performOperation(NSBlockOperation(block: fn))\n}\n</code></pre>\n  \n  <p>This code would work when invoked from Swift, but could easily crash\n  if invoked from Objective-C. To solve this problem, use a type that is\n  not supported by Objective-C to prevent the Swift compiler from\n  exposing the member to the Objective-C runtime:</p>\n  \n  <ul>\n  <li>If it makes sense, mark the member as private to disable inference of @objc. </li>\n  <li>Otherwise, use a dummy parameter with a default value, for\n  example: _ nonobjc: () = (). (19826275) </li>\n  </ul>\n  \n  <p>Overrides of methods exposed\n  to Objective-C in private subclasses are not inferred to be @objc,\n  causing the Swift compiler to crash. Explicitly add the @objc\n  attribute to any such overriding methods. (19935352)</p>\n  \n  <p>Symbols from SDKs are not available when using Open Quickly in a\n  project or workspace that uses Swift. (20349540)</p>\n</blockquote>\n\n<p>what i did was just adding \"private\" in front of the override method like this:</p>\n\n<pre><code>    private func performOperation(operation: Double -&gt; Double) {\n    if operandStack.count &gt;= 1 {\n        displayValue = operation(operandStack.removeLast())\n        enter()\n    }\n}\n</code></pre>\n", "title": "Compiler error: Method with Objective-C selector conflicts with previous declaration with the same Objective-C selector", "answer_id": 29670644, "link": "http://stackoverflow.com/questions/29457720/compiler-error-method-with-objective-c-selector-conflicts-with-previous-declara/29670644#29670644", "tags": ["swift"]}, {"body": "<p>From <a href=\"https://developer.apple.com/library/ios/releasenotes/DeveloperTools/RN-Xcode/Chapters/xc6_release_notes.html\" rel=\"nofollow\">https://developer.apple.com/library/ios/releasenotes/DeveloperTools/RN-Xcode/Chapters/xc6_release_notes.html</a> under \"Xcode 6.3 Release Notes\" -> \"Swift Language Changes\" you find</p>\n\n<blockquote>\n  <p>Swift now detects discrepancies between overloading and overriding in the Swift type system and the effective behavior seen via the Objective-C runtime.</p>\n</blockquote>\n", "title": "Compiler error: Method with Objective-C selector conflicts with previous declaration with the same Objective-C selector", "answer_id": 29686419, "link": "http://stackoverflow.com/questions/29457720/compiler-error-method-with-objective-c-selector-conflicts-with-previous-declara/29686419#29686419", "tags": ["swift"]}, {"body": "<p>As it has already been answered, ObjC doesn't support method overloading (two methods with the same name) and In swift 2 under Xcode 7 there are two options to solve this kind of problems. One option is to rename the method using the attribute: <code>@objc(newNameMethod:)</code> </p>\n\n<pre><code>func methodOne(par1, par2) {...}\n\n@objc(methodTow:)\nfunc methodOne(par1) {...}\n</code></pre>\n\n<p>another option to solve this kind of problems in Xcode7 is by applying  <code>@nonobjc</code> attribute to any method, subscript or initialiser </p>\n\n<pre><code>func methodOne() {...}\n\n@nonobjc\nfunc methodOne() {...}\n</code></pre>\n", "title": "Compiler error: Method with Objective-C selector conflicts with previous declaration with the same Objective-C selector", "answer_id": 31500740, "link": "http://stackoverflow.com/questions/29457720/compiler-error-method-with-objective-c-selector-conflicts-with-previous-declara/31500740#31500740", "tags": ["swift"]}, {"body": "<p>I got the same error due to having having two methods with the same Obj-C signature:</p>\n\n<pre><code>static func prepareForUpSyncing(obj : NSManagedObject!) -&gt; Bool\nstatic func prepareForUpSyncing(objs : [NSManagedObject]!) -&gt; Bool\n</code></pre>\n\n<p>I didn't want to mark one of them as @nonobjc due to possibility of unforseen consequences at runtime. (Someone can correct me if there is no possibility)</p>\n\n<p>Resolved it by using Swift's external parameter name feature (I made external name same as local name) to the second method, which effectively changes the Obj-c method signature:</p>\n\n<pre><code>static func prepareForUpSyncing(objs objs : [NSManagedObject]!) -&gt; Bool {\n</code></pre>\n", "title": "Compiler error: Method with Objective-C selector conflicts with previous declaration with the same Objective-C selector", "answer_id": 38619170, "link": "http://stackoverflow.com/questions/29457720/compiler-error-method-with-objective-c-selector-conflicts-with-previous-declara/38619170#38619170", "tags": ["swift"]}], "question_id": 29457720}, {"body": "<p>Been encountering this error a lot in my OS X using swift: \"This application is modifying the autolayout engine from a background thread, which can lead to engine corruption and weird crashes.  This will cause an exception in a future release.\"</p>\n\n<p>I have a my NSWindow and I'm swapping in views to the contentView of the window. I get the error when I try and do a NSApp.beginSheet on the window, or when I add a subview to the window. Tried disabling autoresize stuff, and I don't have anything using auto layout. Any thoughts?</p>\n\n<p>Sometimes it's fine and nothing happens, other times it totally breaks my UI and nothing loads</p>\n", "title": "Getting a &quot;This application is modifying the autolayout engine&quot; error?", "tags": ["osx", "swift", "autolayout"], "answer_count": 12, "link": "http://stackoverflow.com/questions/28302019/getting-a-this-application-is-modifying-the-autolayout-engine-error", "answers": [{"body": "<p>Okay - found the answer. It needs to be placed inside a different thread that allows the UI to update:</p>\n\n<h2>Swift Version</h2>\n\n<pre><code>dispatch_async(dispatch_get_main_queue(), {\n    // code here\n})\n</code></pre>\n\n<h2>Objective-C Version</h2>\n\n<pre><code>dispatch_async(dispatch_get_main_queue(), ^{\n    // code here\n});\n</code></pre>\n", "title": "Getting a &quot;This application is modifying the autolayout engine&quot; error?", "answer_id": 28321213, "link": "http://stackoverflow.com/questions/28302019/getting-a-this-application-is-modifying-the-autolayout-engine-error/28321213#28321213", "tags": ["osx", "swift", "autolayout"]}, {"body": "<p>Had the same problem\u00a0because I was using <code>performSelectorInBackground</code>.</p>\n", "title": "Getting a &quot;This application is modifying the autolayout engine&quot; error?", "answer_id": 31630070, "link": "http://stackoverflow.com/questions/28302019/getting-a-this-application-is-modifying-the-autolayout-engine-error/31630070#31630070", "tags": ["osx", "swift", "autolayout"]}, {"body": "<p>I had this problem since updating to the iOS 9 SDK when I was calling a block that did UI updates within an NSURLConnection async request completion handler. Putting the block call in a dispatch_async using dispatch_main_queue solved the issue.</p>\n\n<p>It worked fine in iOS 8.</p>\n", "title": "Getting a &quot;This application is modifying the autolayout engine&quot; error?", "answer_id": 32702273, "link": "http://stackoverflow.com/questions/28302019/getting-a-this-application-is-modifying-the-autolayout-engine-error/32702273#32702273", "tags": ["osx", "swift", "autolayout"]}, {"body": "<p>I had this issue when I was using TouchID if that helps anyone else, wrap your success logic which likely does something with the UI in the main queue. </p>\n", "title": "Getting a &quot;This application is modifying the autolayout engine&quot; error?", "answer_id": 33445522, "link": "http://stackoverflow.com/questions/28302019/getting-a-this-application-is-modifying-the-autolayout-engine-error/33445522#33445522", "tags": ["osx", "swift", "autolayout"]}, {"body": "<p>I kept getting similar message/error too while debugging with some print statements without using 'dispatch_async'</p>\n\n<p>So when you get that error message, its time to use </p>\n\n<pre><code> dispatch_async(dispatch_get_main_queue()){\n   //code                            \n}\n</code></pre>\n", "title": "Getting a &quot;This application is modifying the autolayout engine&quot; error?", "answer_id": 34008856, "link": "http://stackoverflow.com/questions/28302019/getting-a-this-application-is-modifying-the-autolayout-engine-error/34008856#34008856", "tags": ["osx", "swift", "autolayout"]}, {"body": "<p>When you try to update a text field value or adding a subview inside a background thread, you can get this problem. For that reason, you should put this kind of code in the main thread.</p>\n\n<p>You need to wrap methods that call UI updates with dispatch_asynch to get the main  queue. For example:</p>\n\n<pre><code>dispatch_async(dispatch_get_main_queue(), { () -&gt; Void in\n   self.friendLabel.text = \"You are following \\(friendCount) accounts\"\n})\n</code></pre>\n", "title": "Getting a &quot;This application is modifying the autolayout engine&quot; error?", "answer_id": 34335568, "link": "http://stackoverflow.com/questions/28302019/getting-a-this-application-is-modifying-the-autolayout-engine-error/34335568#34335568", "tags": ["osx", "swift", "autolayout"]}, {"body": "<p>I had the same problem.  Turns out I was using <code>UIAlerts</code> that needed the main queue. But, they've been <em>deprecated</em>.<br>\nWhen I changed the <code>UIAlerts</code> to the <code>UIAlertController</code>, I no longer had the problem and did not have to use any <code>dispatch_async</code> code. The lesson - pay attention to warnings. They help even when you don't expect it.</p>\n", "title": "Getting a &quot;This application is modifying the autolayout engine&quot; error?", "answer_id": 35044523, "link": "http://stackoverflow.com/questions/28302019/getting-a-this-application-is-modifying-the-autolayout-engine-error/35044523#35044523", "tags": ["osx", "swift", "autolayout"]}, {"body": "<p>You must not change the UI offside the main thread! UIKit is not thread safe, so that above problem and also some other weird problems will arise if you do that. The app can even crash.</p>\n\n<p>So, to do the UIKit operations, you need to define block and let it be executed on the main queue: such as,</p>\n\n<pre><code>NSOperationQueue.mainQueue().addOperationWithBlock {\n\n}\n</code></pre>\n", "title": "Getting a &quot;This application is modifying the autolayout engine&quot; error?", "answer_id": 35215778, "link": "http://stackoverflow.com/questions/28302019/getting-a-this-application-is-modifying-the-autolayout-engine-error/35215778#35215778", "tags": ["osx", "swift", "autolayout"]}, {"body": "<p>It could be something as simple as setting a text field / label value or adding a subview inside a background thread, which may cause a field's layout to change. Make sure anything you do with the interface only happens in the main thread.</p>\n\n<p>Check this link: <a href=\"https://forums.developer.apple.com/thread/7399\" rel=\"nofollow\">https://forums.developer.apple.com/thread/7399</a></p>\n", "title": "Getting a &quot;This application is modifying the autolayout engine&quot; error?", "answer_id": 36814491, "link": "http://stackoverflow.com/questions/28302019/getting-a-this-application-is-modifying-the-autolayout-engine-error/36814491#36814491", "tags": ["osx", "swift", "autolayout"]}, {"body": "<p>For me, this error message originated from a banner from Admob SDK. </p>\n\n<p>I was able to track the origin to \"WebThread\" by setting a conditional breakpoint.</p>\n\n<p><a href=\"http://i.stack.imgur.com/bYqev.png\"><img src=\"http://i.stack.imgur.com/bYqev.png\" alt=\"conditional breakpoint to find who is updating ui from background thread\"></a></p>\n\n<p>Then I was able to get rid of the issue by encapsulating the Banner creation with:</p>\n\n<pre><code>dispatch_async(dispatch_get_main_queue(), ^{\n   _bannerForTableFooter = [[GADBannerView alloc] initWithAdSize:kGADAdSizeSmartBannerPortrait];\n   ...\n}\n</code></pre>\n\n<p>I don't know why this helped as I cannot see how this code was called from a non-main-thread.</p>\n\n<p>Hope it can help anyone.</p>\n", "title": "Getting a &quot;This application is modifying the autolayout engine&quot; error?", "answer_id": 37421595, "link": "http://stackoverflow.com/questions/28302019/getting-a-this-application-is-modifying-the-autolayout-engine-error/37421595#37421595", "tags": ["osx", "swift", "autolayout"]}, {"body": "<p>You already have the correct code answer from @Mark but, just to share my findings:\nThe issue is that you are requesting a change in the view and assuming that it will happen instantly. In reality, the loading of a view depends on the available resources. If everything loads quickly enough and there are no delays then you don't notice anything. In scenarios, where there is any delay due to the process thread being busy etc, the application runs into a situation where it is supposed to display something even though its not ready yet. Hence, it is advisable to dispatch these requests in a asynchronous queues so, they get executed based on the load. </p>\n", "title": "Getting a &quot;This application is modifying the autolayout engine&quot; error?", "answer_id": 38818238, "link": "http://stackoverflow.com/questions/28302019/getting-a-this-application-is-modifying-the-autolayout-engine-error/38818238#38818238", "tags": ["osx", "swift", "autolayout"]}, {"body": "<p>I had this issue while reloading data in UITableView. Simply dispatching reload as follows fixed the issue for me.</p>\n\n<pre><code>    dispatch_async(dispatch_get_main_queue(), { () -&gt; Void in\n        self.tableView.reloadData()\n    })\n</code></pre>\n", "title": "Getting a &quot;This application is modifying the autolayout engine&quot; error?", "answer_id": 39504569, "link": "http://stackoverflow.com/questions/28302019/getting-a-this-application-is-modifying-the-autolayout-engine-error/39504569#39504569", "tags": ["osx", "swift", "autolayout"]}], "question_id": 28302019}, {"body": "<p>I am trying to understand what is the motivation behind using Python's library functions for executing OS-specific tasks such as creating files/directories, changing file attributes, etc. instead of just executing those commands via <code>os.system()</code> or <code>subprocess.call()</code>?</p>\n\n<p>For example, why would I want to use <code>os.chmod</code> instead of doing <code>os.system(\"chmod...\")</code>? </p>\n\n<p>I understand that it is more \"pythonic\" to use Python's available library methods as much as possible instead of just executing shell commands directly. But, is there any other motivation behind doing this from a functionality point of view? </p>\n\n<p>I am only talking about executing simple one-line shell commands here. When we need more control over the execution of the task, I understand that using <code>subprocess</code> module makes more sense, for example.</p>\n", "title": "Why use Python&#39;s os module methods instead of executing shell commands directly?", "tags": ["python", "linux", "operating-system"], "answer_count": 6, "link": "http://stackoverflow.com/questions/28572833/why-use-pythons-os-module-methods-instead-of-executing-shell-commands-directly", "answers": [{"body": "<p>There are four strong cases for preferring Python's more-specific methods in the <a href=\"https://docs.python.org/2/library/os.html\"><code>os</code></a> module over using <a href=\"https://docs.python.org/2/library/os.html#os.system\"><code>os.system</code></a> or the <a href=\"https://docs.python.org/2/library/subprocess.html\"><code>subprocess</code></a> module when executing a command:</p>\n\n<ul>\n<li><strong>Redundancy</strong> - spawning another process is redundant and wastes time and resources.</li>\n<li><strong>Portability</strong> - Many of the methods in the <code>os</code> module are available in multiple platforms while many shell commands are os-specific.</li>\n<li><strong>Understanding the results</strong> - Spawning a process to execute arbitrary commands forces you to parse the results from the output and understand <strong>if</strong> and <strong>why</strong> a command has done something wrong.</li>\n<li><strong>Safety</strong> - A process can potentially execute any command it's given. This is a weak design and it can be avoided by using specific methods in the <code>os</code> module.</li>\n</ul>\n\n<h2>Redundancy (see <a href=\"http://en.wikipedia.org/wiki/Redundant_code\"><em>redundant code</em></a>):</h2>\n\n<p>You're actually executing a redundant \"middle-man\" on your way to the eventual system calls (<code>chmod</code> in your example). This middle man is a new process or sub-shell.</p>\n\n<p>From <a href=\"https://docs.python.org/2/library/os.html#os.system\"><code>os.system</code></a>:</p>\n\n<blockquote>\n  <p>Execute the command (a string) in a subshell ...</p>\n</blockquote>\n\n<p>And <a href=\"https://docs.python.org/2/library/subprocess.html\"><code>subprocess</code></a> is just a module to spawn new processes.</p>\n\n<p>You can do what you need without spawning these processes.</p>\n\n<h2>Portability (see <a href=\"http://en.wikipedia.org/wiki/Software_portability#Source_code_portability\"><em>source code portability</em></a>):</h2>\n\n<p>The <a href=\"https://docs.python.org/2/library/os.html\"><code>os</code></a> module's aim is to provide generic operating-system services and it's description starts with:</p>\n\n<blockquote>\n  <p>This module provides a portable way of using operating system dependent functionality.</p>\n</blockquote>\n\n<p>You can use <a href=\"https://docs.python.org/2/library/os.html#os.listdir\"><code>os.listdir</code></a> on both windows and unix. Trying to use <code>os.system</code> / <code>subprocess</code> for this functionality will force you to maintain two calls (for <code>ls</code> / <code>dir</code>) and check what operating system you're on. This is not as portable and <strong>will</strong> cause even more frustration later on (see <strong>Handling Output</strong>).</p>\n\n<h2>Understanding the command's results:</h2>\n\n<p>Suppose you want to list the files in a directory.</p>\n\n<p>If you're using <code>os.system(\"ls\")</code> / <code>subprocess.call(['ls'])</code>, you can only get the process's output back, which is basically a big string with the file names.</p>\n\n<p>How can you tell a file with a space in it's name from two files?</p>\n\n<p>What if you have no permission to list the files?</p>\n\n<p>How should you map the data to python objects?</p>\n\n<p>These are only off the top of my head, and while there are solutions to these problems - why solve again a problem that was solved for you?</p>\n\n<p>This is an example of following the <a href=\"http://en.wikipedia.org/wiki/Don&#39;t_repeat_yourself\">Don't Repeat Yourself</a> principle (Often reffered to as \"DRY\") by <strong>not</strong> repeating an implementation that already exists and is freely available for you.</p>\n\n<h2>Safety:</h2>\n\n<p><code>os.system</code> and <code>subprocess</code> are powerful. It's good when you need this power, but it's dangerous when you don't. When you use <code>os.listdir</code>, you <strong>know</strong> it can not do anything else other then list files or raise an error. When you use <code>os.system</code> or <code>subprocess</code> to achieve the same behaviour you can potentially end up doing something you did not mean to do.</p>\n\n<p><strong>Injection Safety (see <a href=\"http://en.wikipedia.org/wiki/Code_injection#Shell_injection\"><em>shell injection examples</em></a>)</strong>:</p>\n\n<p>If you use input from the user as a new command you've basically given him a shell. This is much like SQL injection providing a shell in the DB for the user.</p>\n\n<p>An example would be a command of the form:</p>\n\n<pre><code># ... read some user input\nos.system(user_input + \" some continutation\")\n</code></pre>\n\n<p>This can be easily exploited to run <strong>any</strong> arbitrary code using the input: <code>NASTY COMMAND;#</code> to create the eventual:</p>\n\n<pre><code>os.system(\"NASTY COMMAND; # some continuation\")\n</code></pre>\n\n<p>There are many such commands that can put your system at risk.</p>\n", "title": "Why use Python&#39;s os module methods instead of executing shell commands directly?", "answer_id": 28572898, "link": "http://stackoverflow.com/questions/28572833/why-use-pythons-os-module-methods-instead-of-executing-shell-commands-directly/28572898#28572898", "tags": ["python", "linux", "operating-system"]}, {"body": "<p>For a simple reason  - when you call a shell function, it creates a sub-shell which is destroyed after your command exists, so if you change directory in a shell - it does not affect your environment in Python.</p>\n\n<p>Besides, creating sub-shell is time consuming, so using OS commands directly will impact your performance</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I had some timing tests running:</p>\n\n<pre><code>In [379]: %timeit os.chmod('Documents/recipes.txt', 0755)\n10000 loops, best of 3: 215 us per loop\n\nIn [380]: %timeit os.system('chmod 0755 Documents/recipes.txt')\n100 loops, best of 3: 2.47 ms per loop\n\nIn [382]: %timeit call(['chmod', '0755', 'Documents/recipes.txt'])\n100 loops, best of 3: 2.93 ms per loop\n</code></pre>\n\n<p>Internal function runs more than 10 time faster</p>\n\n<p><strong>EDIT2</strong></p>\n\n<p>There may be cases when invoking external executable may yield better results than Python packages - I just remembered a mail sent by a colleague of mine that  performance of <em>gzip</em> called through subprocess was much higher than the performance of a Python package he used. But certainly not when we are talking about standard OS packages emulating standard OS commands</p>\n", "title": "Why use Python&#39;s os module methods instead of executing shell commands directly?", "answer_id": 28572958, "link": "http://stackoverflow.com/questions/28572833/why-use-pythons-os-module-methods-instead-of-executing-shell-commands-directly/28572958#28572958", "tags": ["python", "linux", "operating-system"]}, {"body": "<p>It is safer. To give you an idea here is an example script</p>\n\n<pre><code>import os\nfile = raw_input(\"Please enter a file: \")\nos.system(\"chmod 777 \" + file)\n</code></pre>\n\n<p>If the input from the user was <code>test; rm -rf ~</code> this would then delete the home directory. </p>\n\n<p>This is why it is safer to use the built in function. </p>\n\n<p>Hence why you should use subprocess instead of system too. </p>\n", "title": "Why use Python&#39;s os module methods instead of executing shell commands directly?", "answer_id": 28572983, "link": "http://stackoverflow.com/questions/28572833/why-use-pythons-os-module-methods-instead-of-executing-shell-commands-directly/28572983#28572983", "tags": ["python", "linux", "operating-system"]}, {"body": "<p>Shell call are OS specific whereas Python os module functions are not, in most of the case. And it avoid spawning a subprocess.</p>\n", "title": "Why use Python&#39;s os module methods instead of executing shell commands directly?", "answer_id": 28573425, "link": "http://stackoverflow.com/questions/28572833/why-use-pythons-os-module-methods-instead-of-executing-shell-commands-directly/28573425#28573425", "tags": ["python", "linux", "operating-system"]}, {"body": "<p>It's far more efficient. The \"shell\" is just another OS binary which contains a lot of system calls. Why incur the overhead of creating the whole shell process just for that single system call?</p>\n\n<p>The situation is even worse when you use <code>os.system</code> for something that's not a shell built-in. You start a shell process which in turn starts an executable which then (two processes away) makes the system call. At least <code>subprocess</code> would have removed the need for a shell intermediary process.</p>\n\n<p>It's not specific to Python, this. <code>systemd</code> is such an improvement to Linux startup times for the same reason: it makes the necessary system calls itself instead of spawning a thousand shells.</p>\n", "title": "Why use Python&#39;s os module methods instead of executing shell commands directly?", "answer_id": 28582402, "link": "http://stackoverflow.com/questions/28572833/why-use-pythons-os-module-methods-instead-of-executing-shell-commands-directly/28582402#28582402", "tags": ["python", "linux", "operating-system"]}, {"body": "<ol>\n<li><p>It's <strong>faster</strong>, <code>os.system</code> and <code>subprocess.call</code> create new processes which is unnecessary for something this simple. In fact, <code>os.system</code> and <code>subprocess.call</code> with the <code>shell</code> argument usually create at least two new processes: the first one being the shell, and the second one being the command that you're running (if it's not a shell built-in like <code>test</code>).</p></li>\n<li><p>Some commands are <strong>useless in a separate process</strong>. For example, if you run <code>os.spawn(\"cd dir/\")</code>, it will change the current working directory of the child process, but not of the Python process. You need to use <code>os.chdir</code> for that.</p></li>\n<li><p>You don't have to worry about special <strong>characters interpreted</strong> by the shell. <code>os.chmod(path, mode)</code> will work no matter what the filename is, whereas <code>os.spawn(\"chmod 777 \" + path)</code> will fail horribly if the filename is something like <code>; rm -rf ~</code>. (Note that you can work around this if you use <code>subprocess.call</code> without the <code>shell</code> argument.)</p></li>\n<li><p>You don't have to worry about <strong>filenames that begin with a dash</strong>. <code>os.chmod(\"--quiet\", mode)</code> will change the permissions of the file named <code>--quiet</code>, but <code>os.spawn(\"chmod 777 --quiet\")</code> will fail, as <code>--quiet</code> is interpreted as an argument. This is true even for <code>subprocess.call([\"chmod\", \"777\", \"--quiet\"])</code>.</p></li>\n<li><p>You have fewer <strong>cross-platform</strong> and cross-shell concerns, as Python's standard library is supposed to deal with that for you. Does your system have <code>chmod</code> command? Is it installed? Does it support the parameters that you expect it to support? The <code>os</code> module will try to be as cross-platform as possible and documents when that it's not possible.</p></li>\n<li><p>If the command you're running has <strong>output</strong> that you care about, you need to parse it, which is trickier than it sounds, as you may forget about corner-cases (filenames with spaces, tabs and newlines in them), even when you don't care about portability.</p></li>\n</ol>\n", "title": "Why use Python&#39;s os module methods instead of executing shell commands directly?", "answer_id": 28583621, "link": "http://stackoverflow.com/questions/28572833/why-use-pythons-os-module-methods-instead-of-executing-shell-commands-directly/28583621#28583621", "tags": ["python", "linux", "operating-system"]}], "question_id": 28572833}, {"body": "<p>today I just imported a sample app from Android SDK as a module in my project (analytics) and suddenly I got this gradle error when I try to sync it: <code>Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE envrinment variable to...</code></p>\n\n<p>This is my app <code>gradle</code> file:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 22\n    buildToolsVersion \"22.0.0\"\n    defaultConfig {\n        applicationId \"xxx.xxxxxx.xxxxx\"\n        versionCode 1\n        versionName '1'\n        minSdkVersion 9\n        targetSdkVersion 22\n        versionCode 1\n        versionName '1'\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n\n    dependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    compile 'com.android.support:appcompat-v7:22.0.0'\n    compile 'com.google.android.gms:play-services:6.5.87'\n    compile 'com.android.support:recyclerview-v7:21.0.0'\n    compile 'com.android.support:cardview-v7:21.0.0'\n    compile 'com.facebook.android:facebook-android-sdk:3.21.1'\n    testCompile 'junit:junit:4.12'\n    compile project(':volley')\n}\n</code></pre>\n\n<p>Do you have any idea of which may be the cause (I'm using the plugin version 1.1.0-rc1 and the <code>gradle</code> version 2.2 and <code>Android Studio</code> version 1.1.0)?</p>\n\n<p>EDIT:</p>\n\n<p>This is my top <code>build.gradle</code>:</p>\n\n<pre><code>buildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:1.1.0-rc1'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n    }\n}\n</code></pre>\n", "title": "Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE environment variable to", "tags": ["android", "android-studio", "gradle", "android-gradle"], "answer_count": 16, "link": "http://stackoverflow.com/questions/29063968/plugin-is-too-old-please-update-to-a-more-recent-version-or-set-android-daily", "answers": [{"body": "<p>Just like CommonsWare suggested, make sure you have Gradle 2.2.1+ (the latest is 2.3).</p>\n\n<p>Make sure you upgrade your Android Studio but here are the \"plugins\" that need to \nbe updated:</p>\n\n<p><strong>Top <code>build.gradle</code>:</strong></p>\n\n<p>Change:</p>\n\n<pre><code>classpath 'com.android.tools.build:gradle:1.1.0-rc1'\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>classpath 'com.android.tools.build:gradle:1.1.3' // latest 1.5.0\n</code></pre>\n\n<p><strong>App <code>build.gradle</code>:</strong></p>\n\n<p>Change:</p>\n\n<pre><code>compile 'com.android.support:recyclerview-v7:21.0.0'\ncompile 'com.android.support:cardview-v7:21.0.0'\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>compile 'com.android.support:recyclerview-v7:22.0.0' // latest 23.1.1\ncompile 'com.android.support:cardview-v7:22.0.0' // latest 23.1.1\n</code></pre>\n\n<p>Gradle: <a href=\"https://gradle.org/downloads\">https://gradle.org/downloads</a></p>\n\n<p>Always check the Android SDK Manager for the latest revisions:</p>\n\n<p>Android Build Tools Plugin: <a href=\"http://tools.android.com/tech-docs/new-build-system\">http://tools.android.com/tech-docs/new-build-system</a></p>\n\n<p>Android Support Libraries: <a href=\"http://developer.android.com/tools/support-library/features.html\">http://developer.android.com/tools/support-library/features.html</a></p>\n\n<p>To view the latest plugin releases, view the Bintray Jcenter page directly: <a href=\"https://bintray.com/android/android-tools/com.android.tools.build.gradle/view\">https://bintray.com/android/android-tools/com.android.tools.build.gradle/view</a>.</p>\n", "title": "Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE environment variable to", "answer_id": 29064084, "link": "http://stackoverflow.com/questions/29063968/plugin-is-too-old-please-update-to-a-more-recent-version-or-set-android-daily/29064084#29064084", "tags": ["android", "android-studio", "gradle", "android-gradle"]}, {"body": "<p>As a side note, I have been getting the same error in completely unrelated situation - after my system clock year setting has been changed (i.e. 2015 -> 2016); changing the clock back to the correct one solved the issue. </p>\n\n<p><sub>Note 1: using</sub></p>\n\n<pre><code>classpath 'com.android.tools.build:gradle:+'\n</code></pre>\n\n<p><sub>can make the plugin version default to newest one. Note that your build may break on API changes, so use this only if you're constantly updating the version anyway.</sub></p>\n\n<p><sub>Note 2: I'm posting this mainly because I had the exactly same error message, but the working solution proven to be different than just updating the plugin's version (as posted by <code>Jared Burrows</code>).</sub></p>\n", "title": "Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE environment variable to", "answer_id": 29459402, "link": "http://stackoverflow.com/questions/29063968/plugin-is-too-old-please-update-to-a-more-recent-version-or-set-android-daily/29459402#29459402", "tags": ["android", "android-studio", "gradle", "android-gradle"]}, {"body": "<p>I'm using <a href=\"https://developer.android.com/tools/data-binding/guide.html\" rel=\"nofollow\">Android Data Binding</a> and I have the same problem today.</p>\n\n<p>To solve it, change: </p>\n\n<pre><code>classpath \"com.android.databinding:dataBinder:1.0-rc0\"\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>classpath \"com.android.databinding:dataBinder:1.0-rc1\"\n</code></pre>\n\n<p>1.0-rc0 still could be found on <a href=\"https://bintray.com/android/android-tools/com.android.databinding.dataBinder/1.0-rc0/view\" rel=\"nofollow\">jcenter</a> now, I don't know why it couldn't be use.</p>\n", "title": "Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE environment variable to", "answer_id": 31553911, "link": "http://stackoverflow.com/questions/29063968/plugin-is-too-old-please-update-to-a-more-recent-version-or-set-android-daily/31553911#31553911", "tags": ["android", "android-studio", "gradle", "android-gradle"]}, {"body": "<p>set Environment variable\nANDROID_DAILY_OVERRIDE  to same value Example - b9471da4f76e0d1a88d41a072922b1e0c257745c</p>\n\n<p>this works for me.</p>\n", "title": "Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE environment variable to", "answer_id": 31583209, "link": "http://stackoverflow.com/questions/29063968/plugin-is-too-old-please-update-to-a-more-recent-version-or-set-android-daily/31583209#31583209", "tags": ["android", "android-studio", "gradle", "android-gradle"]}, {"body": "<p>Just in case someone is struggling with this, in my case I'm using Gradle 1.4 beta 1 and I NEED to keep it. So in order to make Android Studio works go to the terminal and run this:</p>\n\n<p><code>launchctl setenv ANDROID_DAILY_OVERRIDE &lt;your-value-on-error-message&gt;</code></p>\n\n<p>Restart Android Studio and the project will build again.</p>\n\n<p>Kudos to UPDATE 2 here: <a href=\"https://emmanuelbernard.com/blog/2012/05/09/setting-global-variables-intellij/\">https://emmanuelbernard.com/blog/2012/05/09/setting-global-variables-intellij/</a></p>\n", "title": "Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE environment variable to", "answer_id": 33271002, "link": "http://stackoverflow.com/questions/29063968/plugin-is-too-old-please-update-to-a-more-recent-version-or-set-android-daily/33271002#33271002", "tags": ["android", "android-studio", "gradle", "android-gradle"]}, {"body": "<p><strong>Solution (Updated: 24-may-2016):</strong>\nChange build.gradle (project)</p>\n\n<pre><code>buildscript {\nrepositories {\n    jcenter()\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:X.X.X-lastVersionGradle'\n    classpath 'com.google.gms:google-services:X.X.X-lastVersionGServices' // If use google-services\n\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n}\n</code></pre>\n\n<p><a href=\"https://bintray.com/android/android-tools/com.android.tools.build.gradle/view\">X.X.X-lastVersionGradle</a>: For example: <strong>2.1.0</strong></p>\n\n<p><a href=\"https://bintray.com/android/android-tools/com.google.gms.google-services/view\">X.X.X-lastVersionGServices</a>: For example: <strong>3.0.0</strong> (support Firebase Analytics)</p>\n\n<p>Note: if you're using the google-services plugin has to be the same version (if there)</p>\n\n<blockquote>\n  <p>Warning!! -> <strong>2.2.0-alpha</strong>  throws Unsupported major.minor version 52.0 if you don't use java <a href=\"http://www.oracle.com/technetwork/articles/javase/jdk-netbeans-jsp-142931.html\">JDK 8u91 and NetBeans 8.1</a></p>\n</blockquote>\n", "title": "Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE environment variable to", "answer_id": 33511287, "link": "http://stackoverflow.com/questions/29063968/plugin-is-too-old-please-update-to-a-more-recent-version-or-set-android-daily/33511287#33511287", "tags": ["android", "android-studio", "gradle", "android-gradle"]}, {"body": "<p>This issue occurs because of the Gradle version changes, since your application uses old version of gradle, you need to update to new version. </p>\n\n<p>This changes needs to be done in build.gradle file, have look at this link <a href=\"http://www.feelzdroid.com/2015/11/android-plugin-too-old-update-recent-version.html\" rel=\"nofollow\">http://www.feelzdroid.com/2015/11/android-plugin-too-old-update-recent-version.html</a>. to know how to update the gradle and detailed steps are provided. there.</p>\n\n<p>Thans</p>\n", "title": "Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE environment variable to", "answer_id": 33975026, "link": "http://stackoverflow.com/questions/29063968/plugin-is-too-old-please-update-to-a-more-recent-version-or-set-android-daily/33975026#33975026", "tags": ["android", "android-studio", "gradle", "android-gradle"]}, {"body": "<p>You should upgrade the version of gradle. for example: com.android.build.gradle 1.3.0</p>\n\n<p>this issue occurs when version of the gradle is changed.</p>\n", "title": "Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE environment variable to", "answer_id": 34586959, "link": "http://stackoverflow.com/questions/29063968/plugin-is-too-old-please-update-to-a-more-recent-version-or-set-android-daily/34586959#34586959", "tags": ["android", "android-studio", "gradle", "android-gradle"]}, {"body": "<p>Replace your class path with something ambiguous like this. Its a solution and it works but it may not be a good solution.</p>\n\n<p><strong>classpath 'com.android.tools.build:gradle:+'</strong></p>\n\n<p>The best way is replacing the + with the latest version of gradle </p>\n", "title": "Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE environment variable to", "answer_id": 34996447, "link": "http://stackoverflow.com/questions/29063968/plugin-is-too-old-please-update-to-a-more-recent-version-or-set-android-daily/34996447#34996447", "tags": ["android", "android-studio", "gradle", "android-gradle"]}, {"body": "<p>I got a way which finally resolve this\n1. check your calsspath in the top build.gradle,e.g mine is \nclasspath 'com.android.tools.build:gradle:2.1.0-alpha3'\nthen go to \n<a href=\"https://jcenter.bintray.com/com/android/tools/build/gradle/\" rel=\"nofollow\">https://jcenter.bintray.com/com/android/tools/build/gradle/</a>\nfind a release which is newer than yours,here I choose 2.1.0-beta3\nchange classpath to below, then launch the build.\nclasspath 'com.android.tools.build:gradle:2.1.0-beta3'</p>\n", "title": "Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE environment variable to", "answer_id": 36865240, "link": "http://stackoverflow.com/questions/29063968/plugin-is-too-old-please-update-to-a-more-recent-version-or-set-android-daily/36865240#36865240", "tags": ["android", "android-studio", "gradle", "android-gradle"]}, {"body": "<p>The solution of removing the '-rcX' part works.  I wanted to provide some more detail on why the error is happening.  The issue is with <a href=\"https://android.googlesource.com/platform/tools/base/+/master/build-system/gradle/src/main/groovy/com/android/build/gradle/BasePlugin.java#230\" rel=\"nofollow\">https://android.googlesource.com/platform/tools/base/+/master/build-system/gradle/src/main/groovy/com/android/build/gradle/BasePlugin.java#230</a></p>\n\n<p>There is a default 40 days 'retirement age' for plugins that don't have a version or contain 'rc', 'alpha', or 'beta'.</p>\n", "title": "Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE environment variable to", "answer_id": 37599037, "link": "http://stackoverflow.com/questions/29063968/plugin-is-too-old-please-update-to-a-more-recent-version-or-set-android-daily/37599037#37599037", "tags": ["android", "android-studio", "gradle", "android-gradle"]}, {"body": "<p>Check the latest version of Gradle Plugin Here: \n<br></p>\n\n<p><a href=\"https://bintray.com/android/android-tools/com.android.tools.build.gradle/_latestVersion\" rel=\"nofollow\"> <img src=\"https://api.bintray.com/packages/android/android-tools/com.android.tools.build.gradle/images/download.svg\" alt=\"Download\"> </a></p>\n\n<p>You should change this in <strong>dependencies of app settings</strong></p>\n\n<pre><code>buildscript {\nrepositories {\n    jcenter()\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:[PLACE VERSION CODE HERE]'\n\n}\n</code></pre>\n\n<p>}</p>\n", "title": "Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE environment variable to", "answer_id": 38309603, "link": "http://stackoverflow.com/questions/29063968/plugin-is-too-old-please-update-to-a-more-recent-version-or-set-android-daily/38309603#38309603", "tags": ["android", "android-studio", "gradle", "android-gradle"]}, {"body": "<p>In the past months, I used a \"preview\" version of Android Studio. I tried to switch back to the \"stable\" releases for the software updates but it wasn't enough and I got this famous error you talk of.</p>\n\n<p>Uninstalling my Android Studio 2.2.preview and installing latest <strong>stable</strong> Android Studio (2.1) fixed it for me :)</p>\n", "title": "Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE environment variable to", "answer_id": 38458307, "link": "http://stackoverflow.com/questions/29063968/plugin-is-too-old-please-update-to-a-more-recent-version-or-set-android-daily/38458307#38458307", "tags": ["android", "android-studio", "gradle", "android-gradle"]}, {"body": "<p>You can always check the latest gradle plugin version here:\n<a href=\"https://bintray.com/android/android-tools/com.android.tools.build.gradle\" rel=\"nofollow\">https://bintray.com/android/android-tools/com.android.tools.build.gradle</a></p>\n\n<p>So as of today you should use: </p>\n\n<p><code>classpath 'com.android.tools.build:gradle:2.2.0-beta2'</code> </p>\n\n<p>accordingly.</p>\n", "title": "Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE environment variable to", "answer_id": 38482453, "link": "http://stackoverflow.com/questions/29063968/plugin-is-too-old-please-update-to-a-more-recent-version-or-set-android-daily/38482453#38482453", "tags": ["android", "android-studio", "gradle", "android-gradle"]}, {"body": "<p>Go for stable version or gradle in app level gradle file\nin my case it was<br>\nclasspath 'com.android.tools.build:gradle:2.2.0-alpha3'</p>\n\n<p>I changed it with </p>\n\n<p>classpath 'com.android.tools.build:gradle:2.1.2'</p>\n", "title": "Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE environment variable to", "answer_id": 38564538, "link": "http://stackoverflow.com/questions/29063968/plugin-is-too-old-please-update-to-a-more-recent-version-or-set-android-daily/38564538#38564538", "tags": ["android", "android-studio", "gradle", "android-gradle"]}, {"body": "<p>If you want to continue to use the newest development versions then this problem can reoccur each time your version is far enough out of date.</p>\n\n<p>I've been keeping an up-to-date list of the most current development versions as well as the stable version on my answer to this similar question, so that I can fix it each time I get a new warning:</p>\n\n<p><strong><a href=\"http://stackoverflow.com/a/35627431/984830\">Android Studio 2.0 - Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE</a></strong></p>\n", "title": "Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE environment variable to", "answer_id": 38830411, "link": "http://stackoverflow.com/questions/29063968/plugin-is-too-old-please-update-to-a-more-recent-version-or-set-android-daily/38830411#38830411", "tags": ["android", "android-studio", "gradle", "android-gradle"]}], "question_id": 29063968}, {"body": "<p>I have by pure chance discovered that the C# compiler turns this method:</p>\n\n<pre><code>static bool IsNotNull(object obj)\n{\n    return obj != null;\n}\n</code></pre>\n\n<p>\u2026into this <a href=\"http://en.wikipedia.org/wiki/Common_Intermediate_Language\">CIL</a>:</p>\n\n<pre><code>.method private hidebysig static bool IsNotNull(object obj) cil managed\n{\n    ldarg.0   // obj\n    ldnull\n    cgt.un\n    ret\n}\n</code></pre>\n\n<p>\u2026or, if you prefer looking at decompiled C# code:</p>\n\n<pre><code>static bool IsNotNull(object obj)\n{\n    return obj &gt; null;   // (note: this is not a valid C# expression)\n}\n</code></pre>\n\n<p>How come that the <code>!=</code> gets translated as a \"<code>&gt;</code>\"?</p>\n", "title": "Why does the C# compiler translate this != comparison as if it were a &gt; comparison?", "tags": ["c#", "cil", "il", "notnull", "binary-operators"], "answer_count": 1, "link": "http://stackoverflow.com/questions/28781839/why-does-the-c-compiler-translate-this-comparison-as-if-it-were-a-comparis", "answers": [{"body": "<h3>Short answer:</h3>\n\n<p>There is no \"compare-not-equal\" instruction in IL, so the C# <code>!=</code> operator has no exact correspondence and cannot be translated literally.</p>\n\n<p>There is however a \"compare-equal\" instruction (<code>ceq</code>, a direct correspondence to the <code>==</code> operator), so in the general case, <code>x != y</code> gets translated like its slightly longer equivalent <code>(x == y) == false</code>.</p>\n\n<p>There is <em>also</em> a \"compare-greater-than\" instruction in IL (<code>cgt</code>) which allows the compiler to take certain shortcuts (i.e. generate shorter IL code), one being that inequality comparisons of objects against null, <code>obj != null</code>, get translated as if they were \"<code>obj &gt; null</code>\".</p>\n\n<hr>\n\n<h3>Let's go into some more detail.</h3>\n\n<p>If there is no \"compare-not-equal\" instruction in IL, then how will the following method get translated by the compiler?</p>\n\n<pre><code>static bool IsNotEqual(int x, int y)\n{\n    return x != y;\n}\n</code></pre>\n\n<p>As already said above, the compiler will turn the <code>x != y</code> into <code>(x == y) == false</code>:</p>\n\n<pre><code>.method private hidebysig static bool IsNotEqual(int32 x, int32 y) cil managed \n{\n    ldarg.0   // x\n    ldarg.1   // y\n    ceq\n    ldc.i4.0  // false\n    ceq       // (note: two comparisons in total)\n    ret\n}\n</code></pre>\n\n<p>It turns out that the compiler does not always produce this fairly long-winded pattern. Let's see what happens when we replace <code>y</code> with the constant 0:</p>\n\n<pre><code>static bool IsNotZero(int x)\n{\n    return x != 0;\n}\n</code></pre>\n\n<p>The IL produced is somewhat shorter than in the general case:</p>\n\n<pre><code>.method private hidebysig static bool IsNotZero(int32 x) cil managed \n{\n    ldarg.0    // x\n    ldc.i4.0   // 0\n    cgt.un     // (note: just one comparison)\n    ret\n}\n</code></pre>\n\n<p>The compiler can take advantage of the fact that signed integers are stored in <a href=\"http://en.wikipedia.org/wiki/Two%27s_complement\">two's complement</a> (where, if the resulting bit patterns are interpreted as unsigned integers &mdash; that's what the <code>.un</code> means &mdash; 0 has the smallest possible value), so it translates <code>x == 0</code> as if it were <code>unchecked((uint)x) &gt; 0</code>.</p>\n\n<p>It turns out the compiler can do just the same for inequality checks against <code>null</code>:</p>\n\n<pre><code>static bool IsNotNull(object obj)\n{\n    return obj != null;\n}\n</code></pre>\n\n<p>The compiler produces almost the same IL as for <code>IsNotZero</code>:</p>\n\n<pre><code>.method private hidebysig static bool IsNotNull(object obj) cil managed \n{\n    ldarg.0\n    ldnull   // (note: this is the only difference)\n    cgt.un\n    ret\n}\n</code></pre>\n\n<p>Apparently, the compiler is allowed to assume that the bit pattern of the <code>null</code> reference is the smallest bit pattern possible for any object reference.</p>\n\n<p>This shortcut is explicitly mentioned in the <a href=\"http://rads.stackoverflow.com/amzn/click/0321154932\">Common Language Infrastructure Annotated Standard (1st edition from Oct 2003)</a> (on page 491, as a footnote of Table 6-4, \"Binary Comparisons or Branch Operations\"):</p>\n\n<blockquote>\n  <p><em>\"<code>cgt.un</code> is allowed and verifiable on ObjectRefs (O). This is commonly used when comparing an ObjectRef with null (there is no \"compare-not-equal\" instruction, which would otherwise be a more obvious solution).\"</em></p>\n</blockquote>\n", "title": "Why does the C# compiler translate this != comparison as if it were a &gt; comparison?", "answer_id": 28781840, "link": "http://stackoverflow.com/questions/28781839/why-does-the-c-compiler-translate-this-comparison-as-if-it-were-a-comparis/28781840#28781840", "tags": ["c#", "cil", "il", "notnull", "binary-operators"]}], "question_id": 28781839}, {"body": "<p>When visiting Microsoft <a href=\"https://www.visualstudio.com/en-us/downloads/visual-studio-2015-downloads-vs.aspx\">website to download VS2015</a> you can download a file of a few MB in size to install Visual Studio. When you open the file it acquires the files necessary from internet, but you can not choose where these files are stored. How can I download the entire installation of Visual Studio 2015 to perform an offline installation? For example, for multiple machines.</p>\n", "title": "How to install VS2015 Community Edition offline", "tags": ["installation", "offline", "visual-studio-2015"], "answer_count": 11, "link": "http://stackoverflow.com/questions/30070584/how-to-install-vs2015-community-edition-offline", "answers": [{"body": "<p>Download the file of website and start it with the commandline switch \"/layout\" (see msdn to <a href=\"https://msdn.microsoft.com/en-us/library/e2h7fzkw(v=vs.140).aspx#bkmk_offline\">download visual studio 2015 installer for offline installation</a>). So <code>C:\\vs_community.exe /layout</code> for example. It asks for a location and the download begins.</p>\n\n<p>EDIT:\nWith the ISO version you still need internet connection to be able to install ALL the features. As pointed out by Augusto Barreto.\n<a href=\"http://i.stack.imgur.com/LXaYi.png\"><img src=\"http://i.stack.imgur.com/LXaYi.png\" alt=\"enter image description here\"></a></p>\n", "title": "How to install VS2015 Community Edition offline", "answer_id": 30070585, "link": "http://stackoverflow.com/questions/30070584/how-to-install-vs2015-community-edition-offline/30070585#30070585", "tags": ["installation", "offline", "visual-studio-2015"]}, {"body": "<p>You can download ISO images from <a href=\"https://www.visualstudio.com/en-us/downloads/visual-studio-2015-downloads-vs.aspx\">here</a>.</p>\n\n<p>Select <code>Visual Studio 2015</code> -> <code>Visual Studio Community Edition RC 2015</code> and choose ISO as download format.</p>\n\n<p><img src=\"http://i.stack.imgur.com/Op4d9.png\" alt=\"enter image description here\"></p>\n", "title": "How to install VS2015 Community Edition offline", "answer_id": 30077959, "link": "http://stackoverflow.com/questions/30070584/how-to-install-vs2015-community-edition-offline/30077959#30077959", "tags": ["installation", "offline", "visual-studio-2015"]}, {"body": "<p>You can get the detailed instruction of how to get offline installer of Visual Studio 2015 RC on below link.</p>\n\n<p><a href=\"http://www.codewithasp.net/2015/05/download-visual-studio-2015-offline-installer-iso.html\" rel=\"nofollow\">http://www.codewithasp.net/2015/05/download-visual-studio-2015-offline-installer-iso.html</a></p>\n\n<p>This page also contains option to download stand alone installer if you do not want to follow these steps to get offline installer.</p>\n", "title": "How to install VS2015 Community Edition offline", "answer_id": 30245123, "link": "http://stackoverflow.com/questions/30070584/how-to-install-vs2015-community-edition-offline/30245123#30245123", "tags": ["installation", "offline", "visual-studio-2015"]}, {"body": "<p>I was unable to find the direct download detailed in davidnr's post. You can download the ISO directly from the Microsoft Download Center here: <a href=\"https://www.microsoft.com/en-us/download/details.aspx?id=46872\" rel=\"nofollow\">https://www.microsoft.com/en-us/download/details.aspx?id=46872</a>. Click the download button and select the ISO. </p>\n", "title": "How to install VS2015 Community Edition offline", "answer_id": 31090892, "link": "http://stackoverflow.com/questions/30070584/how-to-install-vs2015-community-edition-offline/31090892#31090892", "tags": ["installation", "offline", "visual-studio-2015"]}, {"body": "<p>I found this link online. I dint get the web interfaces as mentioned by the chosen answer. This link will help others to download visual studio 2015 community edition.\n<a href=\"https://www.microsoft.com/en-us/download/confirmation.aspx?id=46872\" rel=\"nofollow\">https://www.microsoft.com/en-us/download/confirmation.aspx?id=46872</a></p>\n", "title": "How to install VS2015 Community Edition offline", "answer_id": 31363031, "link": "http://stackoverflow.com/questions/30070584/how-to-install-vs2015-community-edition-offline/31363031#31363031", "tags": ["installation", "offline", "visual-studio-2015"]}, {"body": "<p>For the <a href=\"https://www.visualstudio.com/downloads/download-visual-studio-vs\">Visual Studio Community 2015 with Update 2</a> you will have to click on <strong>Visual Studio 2015</strong> on the left panel first, in order to display the Download options.</p>\n\n<p><a href=\"http://i.stack.imgur.com/clfrR.png\"><img src=\"http://i.stack.imgur.com/clfrR.png\" alt=\"Visual Studio Community 2015 with Update 2\"></a></p>\n\n<p>The SHA-1 values, in order to verify the integrity of the downloaded file, can be found <a href=\"https://www.visualstudio.com/en-us/downloads/visual-studio-2015-iso-sha1-vs.aspx\">here</a>.</p>\n\n<p>For the record, Microsoft Download Center has the ISO images for both <a href=\"http://www.microsoft.com/en-us/download/details.aspx?id=48146\">Visual Studio Community 2015</a> and <a href=\"https://www.microsoft.com/en-us/download/details.aspx?id=49988\">Visual Studio Community 2015 with Update 1</a>.</p>\n", "title": "How to install VS2015 Community Edition offline", "answer_id": 31740211, "link": "http://stackoverflow.com/questions/30070584/how-to-install-vs2015-community-edition-offline/31740211#31740211", "tags": ["installation", "offline", "visual-studio-2015"]}, {"body": "<p>I think the ISO version is smaller than the Layout method because the ISO version is just in English or whatever language it is that you choose, however the \"Layout\" version is ALL of the languages available, So for example if the \"Layout\" version downloads a 3gb file(English Version) it will download the same 3gb file in another language that you will not ever use wasting your downloads, time and all that other good stuff.</p>\n", "title": "How to install VS2015 Community Edition offline", "answer_id": 31756666, "link": "http://stackoverflow.com/questions/30070584/how-to-install-vs2015-community-edition-offline/31756666#31756666", "tags": ["installation", "offline", "visual-studio-2015"]}, {"body": "<p>Even if you download the ISO files there will be lots of stuff not included in the installer which requires connection to internet when installing, for example:</p>\n\n<ul>\n<li>Emulators for Windows Mobile</li>\n<li>Windows 10 SDK</li>\n<li>Tools for Windows 10 Universal Apps</li>\n<li>GitHub Extension for Visual Studio and Git CLI</li>\n<li>C#/.NET Xamarin</li>\n<li>Visual C++ Mobile Development (iOS support) </li>\n<li>Joyent Node.js</li>\n<li>Java SE Development Kit</li>\n<li>Android SDK, NDK, and emulator</li>\n</ul>\n\n<p>Perhaps some of them are not possible to include but it is annoying nonetheless.</p>\n", "title": "How to install VS2015 Community Edition offline", "answer_id": 31824058, "link": "http://stackoverflow.com/questions/30070584/how-to-install-vs2015-community-edition-offline/31824058#31824058", "tags": ["installation", "offline", "visual-studio-2015"]}, {"body": "<p>Go to <a href=\"https://www.visualstudio.com/en-us/downloads/download-visual-studio-vs.aspx\" rel=\"nofollow\">https://www.visualstudio.com/en-us/downloads/download-visual-studio-vs.aspx</a></p>\n\n<p>Navigate to \"Visual studio downloads\", select \"Visual studio 2015\"</p>\n\n<p><a href=\"http://i.stack.imgur.com/ErTq2.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/ErTq2.png\" alt=\"enter image description here\"></a></p>\n\n<p>Next, choose format \"ISO\"</p>\n\n<p><a href=\"http://i.stack.imgur.com/ThI8V.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/ThI8V.png\" alt=\"enter image description here\"></a></p>\n", "title": "How to install VS2015 Community Edition offline", "answer_id": 36458134, "link": "http://stackoverflow.com/questions/30070584/how-to-install-vs2015-community-edition-offline/36458134#36458134", "tags": ["installation", "offline", "visual-studio-2015"]}, {"body": "<p>It seems there are direct links and anyone could get it with a download manager. </p>\n\n<p><a href=\"http://download.microsoft.com/download/1/6/d/16dc7044-cd36-49b4-bdba-30166e07c786/vs2015.2.com_deu.iso\">http://download.microsoft.com/download/1/6/d/16dc7044-cd36-49b4-bdba-30166e07c786/vs2015.2.com_deu.iso</a></p>\n\n<p><a href=\"http://download.microsoft.com/download/f/d/c/fdce5d40-87d3-4bd6-9139-2a7638b96174/vs2015.2.com_enu.iso\">http://download.microsoft.com/download/f/d/c/fdce5d40-87d3-4bd6-9139-2a7638b96174/vs2015.2.com_enu.iso</a></p>\n\n<p><a href=\"http://download.microsoft.com/download/4/1/5/415ec933-31ee-443d-8bd6-55268d472331/vs2015.2.com_esn.iso\">http://download.microsoft.com/download/4/1/5/415ec933-31ee-443d-8bd6-55268d472331/vs2015.2.com_esn.iso</a></p>\n\n<p><a href=\"http://download.microsoft.com/download/7/7/4/77471e13-cfac-43c2-b76e-459238142bd5/vs2015.2.com_fra.iso\">http://download.microsoft.com/download/7/7/4/77471e13-cfac-43c2-b76e-459238142bd5/vs2015.2.com_fra.iso</a></p>\n\n<p><a href=\"http://download.microsoft.com/download/5/9/9/5991bfbe-21d0-430a-ad1c-2aa8328a2d3e/vs2015.2.com_ita.iso\">http://download.microsoft.com/download/5/9/9/5991bfbe-21d0-430a-ad1c-2aa8328a2d3e/vs2015.2.com_ita.iso</a></p>\n\n<p><a href=\"http://download.microsoft.com/download/c/a/1/ca188bdc-fead-4933-a699-4da31a4b04db/vs2015.2.com_rus.iso\">http://download.microsoft.com/download/c/a/1/ca188bdc-fead-4933-a699-4da31a4b04db/vs2015.2.com_rus.iso</a></p>\n\n<p><a href=\"http://download.microsoft.com/download/3/4/a/34a0480a-effd-4e12-878b-d243bdbb4d2c/vs2015.2.com_kor.iso\">http://download.microsoft.com/download/3/4/a/34a0480a-effd-4e12-878b-d243bdbb4d2c/vs2015.2.com_kor.iso</a></p>\n\n<p><a href=\"http://download.microsoft.com/download/0/f/8/0f89c8af-9430-4c13-bf6a-d75b7513ac29/vs2015.2.com_chs.iso\">http://download.microsoft.com/download/0/f/8/0f89c8af-9430-4c13-bf6a-d75b7513ac29/vs2015.2.com_chs.iso</a></p>\n\n<p><a href=\"http://download.microsoft.com/download/1/2/c/12c9f1b7-71e2-46fc-a07b-e53b2a954c4c/vs2015.2.com_jpn.iso\">http://download.microsoft.com/download/1/2/c/12c9f1b7-71e2-46fc-a07b-e53b2a954c4c/vs2015.2.com_jpn.iso</a></p>\n\n<p><a href=\"http://download.microsoft.com/download/7/1/8/7186591d-7877-4461-9b49-7e236846f526/vs2015.2.com_cht.iso\">http://download.microsoft.com/download/7/1/8/7186591d-7877-4461-9b49-7e236846f526/vs2015.2.com_cht.iso</a></p>\n\n<p>References from <a href=\"https://gist.github.com/CHEF-KOCH/8078b39e1aad71ef6c317a3c0edb6ec9\">here</a></p>\n", "title": "How to install VS2015 Community Edition offline", "answer_id": 37680722, "link": "http://stackoverflow.com/questions/30070584/how-to-install-vs2015-community-edition-offline/37680722#37680722", "tags": ["installation", "offline", "visual-studio-2015"]}, {"body": "<p>You can download the ISO from <a href=\"https://beta.visualstudio.com/downloads/\" rel=\"nofollow\">https://beta.visualstudio.com/downloads/</a> (even if it has \"beta\" in the URL you'll have the latest stable version. Currently update 3)</p>\n\n<p><a href=\"http://i.stack.imgur.com/WeD4K.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/WeD4K.png\" alt=\"VS2015 Community download\"></a></p>\n", "title": "How to install VS2015 Community Edition offline", "answer_id": 39161563, "link": "http://stackoverflow.com/questions/30070584/how-to-install-vs2015-community-edition-offline/39161563#39161563", "tags": ["installation", "offline", "visual-studio-2015"]}], "question_id": 30070584}, {"body": "<p>I found both <code>long int long</code> and <code>int long long</code> can compile for a variable type. Is there any difference between <code>long int long</code>, <code>int long long</code> , <code>long long</code> and <code>long long int</code>?</p>\n\n<p>In general, is the type identical if it has the same number of <code>long</code>?</p>\n\n<p><strong>1 long:</strong></p>\n\n<pre><code>long l;\nint long il;\nlong int li;\n</code></pre>\n\n<p><strong>2 long:</strong></p>\n\n<pre><code>long long ll;\nint long long ill;\nlong int long lil;\nlong long int lli;\n</code></pre>\n\n<p>Also if above is right, are the following declarations also identical?</p>\n\n<pre><code>long long* llp;\nint long long* illp;\nlong int long* lilp;\nlong long int* llip;\n</code></pre>\n", "title": "Is &quot;long long&quot; = &quot;long long int&quot; = &quot;long int long&quot; = &quot;int long long&quot;?", "tags": ["c++", "syntax", "long-integer"], "answer_count": 4, "link": "http://stackoverflow.com/questions/30726423/is-long-long-long-long-int-long-int-long-int-long-long", "answers": [{"body": "<blockquote>\n  <p>Is the type identical...</p>\n</blockquote>\n\n<p>Yes.</p>\n\n<p>C++11 \u00a77.1.6.2/3</p>\n\n<blockquote>\n  <p><strong>&rdquo;</strong> When multiple <em>simple-type-specifier</em>s are allowed, they can be freely intermixed with other <em>decl-specifiers</em> in\n  any order.</p>\n</blockquote>\n", "title": "Is &quot;long long&quot; = &quot;long long int&quot; = &quot;long int long&quot; = &quot;int long long&quot;?", "answer_id": 30726614, "link": "http://stackoverflow.com/questions/30726423/is-long-long-long-long-int-long-int-long-int-long-long/30726614#30726614", "tags": ["c++", "syntax", "long-integer"]}, {"body": "<p>According to the C++ Standard (7.1.6.2 Simple type specifiers)</p>\n\n<blockquote>\n  <p>3 When multiple simple-type-specifiers are allowed, they can be freely\n  intermixed with other decl-specifiers in any order.</p>\n</blockquote>\n\n<p>So for example the following declaration is valid</p>\n\n<pre><code>long static long const int x = 10;\n</code></pre>\n\n<p>You may even use <code>constexpr</code> specifier along with <code>const</code> qualifier. For example</p>\n\n<pre><code>constexpr long static long const int x = 10;\n</code></pre>\n\n<p>By the way, we forgot about specifier <code>signed</code>! Let's add it for example before declarator <code>x</code></p>\n\n<pre><code>constexpr long static long const int signed x = 10;\n</code></pre>\n\n<p>In C you may also use several type qualifiers in the same declare specifier sequence. According to the C Standard (6.7.3 Type qualifiers)</p>\n\n<blockquote>\n  <p>5 If the same qualifier appears more than once in the same\n  specifier-qualifier-list, either directly or via one or more typedefs,\n  the behavior is the same as if it appeared only once....</p>\n</blockquote>\n\n<p>So for example in C the following declaration is also valid</p>\n\n<pre><code>const long const long static const int const signed x = 10;\n</code></pre>\n\n<p>So if you are paid according to the number of symbols typed in the program then I advise you to use such declarations. :)</p>\n", "title": "Is &quot;long long&quot; = &quot;long long int&quot; = &quot;long int long&quot; = &quot;int long long&quot;?", "answer_id": 30726896, "link": "http://stackoverflow.com/questions/30726423/is-long-long-long-long-int-long-int-long-int-long-long/30726896#30726896", "tags": ["c++", "syntax", "long-integer"]}, {"body": "<blockquote>\n  <p>Is \u201clong long\u201d = \u201clong long int\u201d = \u201clong int long\u201d = \u201cint long long\u201d?  </p>\n</blockquote>\n\n<p>All other answers here talked about the second part of your question. For the first part: <em>Is \u201clong long\u201d = \u201clong long int\u201d ?</em>, answer is <strong>yes</strong>.     </p>\n\n<h3>C++11 7.1.6.2 Simple type specifiers (table 10)</h3>\n\n<pre><code>Specifier(s)            Type\n...                     ...\nlong long int           \u201clong long int\u201d\nlong long               \u201clong long int\u201d\nlong int                \u201clong int\u201d\nlong                    \u201clong int\u201d  \n...                     ...  \n</code></pre>\n\n<p>For the second part of your question: <em>Is \u201clong int long\u201d = \u201cint long long\u201d?</em>, answer is yes again.  </p>\n\n<p>The type-specifiers <strong>may occur in any order and can be intermixed</strong> with the other declaration specifiers. Therefore, all of the following  </p>\n\n<pre><code>long long  \nlong long int  \nlong int long  \nint long long  \n</code></pre>\n\n<p>are valid and equivalent.</p>\n", "title": "Is &quot;long long&quot; = &quot;long long int&quot; = &quot;long int long&quot; = &quot;int long long&quot;?", "answer_id": 30729298, "link": "http://stackoverflow.com/questions/30726423/is-long-long-long-long-int-long-int-long-int-long-long/30729298#30729298", "tags": ["c++", "syntax", "long-integer"]}, {"body": "<p>Yes, but please <em>don't</em>. Just as English and German have conventional word orders for adjectives and adverbs (e.g. time - manner - place), so do C and C++. Varying from the conventional order won't confuse the compiler, but it will confuse your fellow developers. I would suggest that the conventional order is roughly along the lines of</p>\n\n<ol>\n<li><code>static</code>/<code>extern</code> (linkage)</li>\n<li><code>const</code>/<code>volatile</code> (modification)</li>\n<li><code>signed</code>/<code>unsigned</code> (signedness)</li>\n<li><code>short</code>/<code>long</code> (length)</li>\n<li>Basic type (head noun)</li>\n</ol>\n\n<p>although there's certainly some wiggle room.</p>\n", "title": "Is &quot;long long&quot; = &quot;long long int&quot; = &quot;long int long&quot; = &quot;int long long&quot;?", "answer_id": 30739478, "link": "http://stackoverflow.com/questions/30726423/is-long-long-long-long-int-long-int-long-int-long-long/30739478#30739478", "tags": ["c++", "syntax", "long-integer"]}], "question_id": 30726423}, {"body": "<pre><code>int func(char* str)\n{\n   char buffer[100];\n   unsigned short len = strlen(str);\n\n   if(len &gt;= 100)\n   {\n        return (-1);\n   }\n\n   strncpy(buffer,str,strlen(str));\n   return 0;\n}\n</code></pre>\n\n<p>This code is vulnerable to a buffer overflow attack, and I'm trying to figure out why. I'm thinking it has to do with <code>len</code> being declared a <code>short</code> instead of an <code>int</code>, but I'm not really sure.</p>\n\n<p><strong>Any ideas?</strong></p>\n", "title": "Why is this code vulnerable to buffer overflow attacks?", "tags": ["c", "security", "buffer-overflow"], "answer_count": 5, "link": "http://stackoverflow.com/questions/29910520/why-is-this-code-vulnerable-to-buffer-overflow-attacks", "answers": [{"body": "<p>On most compilers the maximum value of an <code>unsigned short</code> is 65535.</p>\n\n<p>Any value above that gets wrapped around, so 65536 becomes 0, and 65600 becomes 65.</p>\n\n<p>This means that long strings of the right length (e.g. 65600) will pass the check, and overflow the buffer.</p>\n\n<hr>\n\n<p>Use <code>size_t</code> to store the result of <code>strlen()</code>, not <code>unsigned short</code>, and compare <code>len</code> to an expression that directly encodes the size of <code>buffer</code>. So for example:</p>\n\n<pre><code>char buffer[100];\nsize_t len = strlen(str);\nif (len &gt;= sizeof(buffer) / sizeof(buffer[0]))  return -1;\nmemcpy(buffer, str, len + 1);\n</code></pre>\n", "title": "Why is this code vulnerable to buffer overflow attacks?", "answer_id": 29910563, "link": "http://stackoverflow.com/questions/29910520/why-is-this-code-vulnerable-to-buffer-overflow-attacks/29910563#29910563", "tags": ["c", "security", "buffer-overflow"]}, {"body": "<p>Even though you're using <code>strncpy</code>, the length of the cutoff is still dependent on the passed string pointer. You have no idea how long that string is (the location of the null terminator relative to the pointer, that is). So calling <code>strlen</code> alone opens you up to vulnerability. If you want to be more secure, use <code>strnlen(str, 100)</code>.</p>\n\n<p>Full code corrected would be:</p>\n\n<pre><code>int func(char *str) {\n   char buffer[100];\n   unsigned short len = strnlen(str, 100); // sizeof buffer\n\n   if (len &gt;= 100) {\n     return -1;\n   }\n\n   strcpy(buffer, str); // this is safe since null terminator is less than 100th index\n   return 0;\n}\n</code></pre>\n", "title": "Why is this code vulnerable to buffer overflow attacks?", "answer_id": 29910570, "link": "http://stackoverflow.com/questions/29910520/why-is-this-code-vulnerable-to-buffer-overflow-attacks/29910570#29910570", "tags": ["c", "security", "buffer-overflow"]}, {"body": "<p>The problem is here:</p>\n\n<pre><code>strncpy(buffer,str,strlen(str));\n                   ^^^^^^^^^^^\n</code></pre>\n\n<p>If the string is greater than the length of the target buffer, strncpy will still copy it over.  You are basing the number of characters of the string as the number to copy instead of the size of the buffer.  The correct way to do this is as follows:</p>\n\n<pre><code>strncpy(buffer,str, sizeof(buff) - 1);\nbuffer[sizeof(buff) - 1] = '\\0';\n</code></pre>\n\n<p>What this does is limit the amount of data copied to the actual size of the buffer minus one for the null terminating character.  Then we set the last byte in the buffer to the null character as an added safeguard.  The reason for this is because strncpy will copy upto n bytes, including the terminating null, if strlen(str) &lt; len - 1.  If not, then the null is not copied and you have a crash scenario because now your buffer has a unterminated string.</p>\n\n<p>Hope this helps.</p>\n\n<p>EDIT: Upon further examination and input from others, a possible coding for the function follows:</p>\n\n<pre><code>int func (char *str)\n  {\n    char buffer[100];\n    unsigned short size = sizeof(buffer);\n    unsigned short len = strlen(str);\n\n    if (len &gt; size - 1) return(-1);\n    memcpy(buffer, str, len + 1);\n    buffer[size - 1] = '\\0';\n    return(0);\n  }\n</code></pre>\n\n<p>Since we already know the length of the string, we can use memcpy to copy the string from the location that is referenced by str into the buffer.  Note that per the manual page for strlen(3) (on a FreeBSD 9.3 system), the following is stated:</p>\n\n<blockquote>\n<pre><code> The strlen() function returns the number of characters that precede the\n terminating NUL character.  The strnlen() function returns either the\n same result as strlen() or maxlen, whichever is smaller.\n</code></pre>\n</blockquote>\n\n<p>Which I interpret to be that the length of the string does not include the null.  That is why I copy len + 1 bytes to include the null, and the test checks to make sure that the length &lt; size of buffer - 2.  Minus one because the buffer starts at position 0, and minus another one to make sure there's room for the null.</p>\n\n<p>EDIT: Turns out, the size of something starts with 1 while access starts with 0, so the -2 before was incorrect because it would return an error for anything > 98 bytes but it should be > 99 bytes.</p>\n\n<p>EDIT: Although the answer about a unsigned short is generally correct as the maximum length that can be represented is 65,535 characters, it doesn't really matter because if the string is longer than that, the value will wrap around.  It's like taking 75,231 (which is 0x000125DF) and masking off the top 16 bits giving you 9695 (0x000025DF).  The only problem that I see with this is the first 100 chars past 65,535 as the length check will allow the copy, <strong>but it will only copy up to the first 100 characters of the string in all cases and null terminate the string</strong>.  So even with the wraparound issue, the buffer still will not be overflowed.</p>\n\n<p>This may or may not in itself pose a security risk depending on the content of the string and what you are using it for.  If it's just straight text that is human readable, then there is generally no problem.  You just get a truncated string.  However, if it's something like a URL or even a SQL command sequence, you could have a problem.</p>\n", "title": "Why is this code vulnerable to buffer overflow attacks?", "answer_id": 29910655, "link": "http://stackoverflow.com/questions/29910520/why-is-this-code-vulnerable-to-buffer-overflow-attacks/29910655#29910655", "tags": ["c", "security", "buffer-overflow"]}, {"body": "<p>The answer with the wrapping is right. But there is a problem I think was not mentioned\nif(len >= 100)</p>\n\n<p>Well if Len would be 100 we'd copy 100 elements an we'd not have trailing \\0. That clearly would mean any other function depending on  proper ended string would walk way beyond the original array.</p>\n\n<p>The string problematic from C is IMHO unsolvable. You'd alway better have some limits before the call, but even that won't help. There is no bounds checking and so buffer overflows always can and unfortunately will happen....</p>\n", "title": "Why is this code vulnerable to buffer overflow attacks?", "answer_id": 29911029, "link": "http://stackoverflow.com/questions/29910520/why-is-this-code-vulnerable-to-buffer-overflow-attacks/29911029#29911029", "tags": ["c", "security", "buffer-overflow"]}, {"body": "<p>Beyond the security issues involved with calling <code>strlen</code> more than once, one should generally not use string methods on strings whose length is precisely known [for most string functions, there's only a really narrow case where they should be used--on strings for which a maximum length can be guaranteed, but the precise length isn't known].  Once the length of the input string is known and the length of the output buffer is known, one should figure out how big a region should be copied and then use <code>memcpy()</code> to actually perform the copy in question.  Although it's possible that <code>strcpy</code> might outperform <code>memcpy()</code> when copying a string of only 1-3 bytes or so, on many platforms <code>memcpy()</code> is likely to be more than twice as fast when dealing with larger strings.</p>\n\n<p>Although there are some situations where security would come at the cost of performance, this is a situation where the secure approach is <em>also</em> the faster one.  In some cases, it may be reasonable to write code which is not secure against weirdly-behaving inputs, if code supplying the inputs can ensure they will be well-behaved, and if guarding against ill-behaved inputs would impede performance.  Ensuring that string lengths are only checked once improves <em>both</em> performance and security, though one extra thing can be done to help guard security even when tracking string length manually: for every string which is expected to have a trailing null, write the trailing null explicitly rather than expecting the source string to have it.  Thus, if one were writing an <code>strdup</code> equivalent:</p>\n\n<pre><code>char *strdupe(char const *src)\n{\n  size_t len = strlen(src);\n  char *dest = malloc(len+1);\n  // Calculation can't wrap if string is in valid-size memory block\n  if (!dest) return (OUT_OF_MEMORY(),(char*)0); \n  // OUT_OF_MEMORY is expected to halt; the return guards if it doesn't\n  memcpy(dest, src, len);      \n  dest[len]=0;\n  return dest;\n}\n</code></pre>\n\n<p>Note that the last statement could generally be omitted if the memcpy had processed <code>len+1</code> bytes, but it another thread were to modify the source string the result could be a non-NUL-terminated destination string.</p>\n", "title": "Why is this code vulnerable to buffer overflow attacks?", "answer_id": 29926367, "link": "http://stackoverflow.com/questions/29910520/why-is-this-code-vulnerable-to-buffer-overflow-attacks/29926367#29926367", "tags": ["c", "security", "buffer-overflow"]}], "question_id": 29910520}, {"body": "<p>Been trying for hours to change Material's Floating Action Button color, but without success.</p>\n\n<pre><code>&lt;android.support.design.widget.FloatingActionButton\n    android:id=\"@+id/profile_edit_fab\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_gravity=\"end|bottom\"\n    android:layout_margin=\"16dp\"\n    android:clickable=\"true\"\n    android:src=\"@drawable/ic_mode_edit_white_24dp\" /&gt;\n</code></pre>\n\n<p>I have tried to add</p>\n\n<pre><code>android:background=\"@color/mycolor\"\n</code></pre>\n\n<p>or via code</p>\n\n<pre><code>FloatingActionButton fab = (FloatingActionButton) rootView.findViewById(R.id.profile_edit_fab);\nfab.setBackgroundColor(Color.parseColor(\"#mycolor\"));\n</code></pre>\n\n<p>or</p>\n\n<pre><code>fab.setBackgroundDrawable(new ColorDrawable(Color.parseColor(\"#mycolor\")));\n</code></pre>\n\n<p>But none of the above worked. I have also tried the solutions in the <em>\"duplicate question\"</em>, but none of them works, button remained green and also became a square.</p>\n\n<p>I'd like a detailed answer, thanks.</p>\n\n<p>P.S. It would be also nice to know how to add ripple effect, couldn't understand that either.</p>\n", "title": "Android changing Floating Action Button color", "tags": ["java", "android", "android-5.0-lollipop", "floating-action-button"], "answer_count": 14, "link": "http://stackoverflow.com/questions/30969455/android-changing-floating-action-button-color", "answers": [{"body": "<p>The FAB is colored based on your <code>colorAccent</code>.</p>\n\n<pre><code>&lt;style name=\"AppTheme\" parent=\"Base.Theme.AppCompat.Light\"&gt;\n    &lt;item name=\"colorAccent\"&gt;@color/accent&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n", "title": "Android changing Floating Action Button color", "answer_id": 30969713, "link": "http://stackoverflow.com/questions/30969455/android-changing-floating-action-button-color/30969713#30969713", "tags": ["java", "android", "android-5.0-lollipop", "floating-action-button"]}, {"body": "<p>The document suggests that it takes the @color/accent by default. But we can override it on code by using</p>\n\n<pre><code>fab.setBackgroundTintList(ColorStateList)\n</code></pre>\n\n<p>Also remember, </p>\n\n<p>The minimum API version to use this library is 15 so you need to update it! if you dont want to do it then you need to define a custom drawable and decorate it!</p>\n", "title": "Android changing Floating Action Button color", "answer_id": 31033840, "link": "http://stackoverflow.com/questions/30969455/android-changing-floating-action-button-color/31033840#31033840", "tags": ["java", "android", "android-5.0-lollipop", "floating-action-button"]}, {"body": "<p>As described in the <a href=\"http://developer.android.com/reference/android/support/design/widget/FloatingActionButton.html?utm_campaign=io15&amp;utm_source=dac&amp;utm_medium=blog\">documentation</a>, by default it takes the color set in <strong>styles.xml</strong> attribute <strong>colorAccent</strong>.</p>\n\n<blockquote>\n  <p>The background color of this view defaults to the your theme's colorAccent. If you wish to change this at runtime then you can do so via setBackgroundTintList(ColorStateList).</p>\n</blockquote>\n\n<p>If you wish to change the color</p>\n\n<ul>\n<li>in XML with attribute <strong>app:backgroundTint</strong></li>\n</ul>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;android.support.design.widget.FloatingActionButton\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:src=\"@drawable/ic_add\"\n    app:backgroundTint=\"@color/orange\"\n    app:borderWidth=\"0dp\"\n    app:elevation=\"6dp\"\n    app:fabSize=\"normal\" &gt;\n</code></pre>\n\n<ul>\n<li>in code with <strong>.setBackgroundTintList</strong> (answer below by <a href=\"http://stackoverflow.com/questions/30969455/android-changing-floating-action-button-color/32031019#32031019\">ywwynm</a>)</li>\n</ul>\n\n<p>As @Dantalian mentioned in the comments, if you wish to change the icon color, you can use</p>\n\n<pre><code>android:tint=\"@color/white\"     \n</code></pre>\n", "title": "Android changing Floating Action Button color", "answer_id": 31179286, "link": "http://stackoverflow.com/questions/30969455/android-changing-floating-action-button-color/31179286#31179286", "tags": ["java", "android", "android-5.0-lollipop", "floating-action-button"]}, {"body": "<p>You can change this line in file: FloatingActionButton.java</p>\n\n<pre><code>mColor = a.getColor(R.styleable.FloatingActionButton_colortemp, Color.WHITE);\n</code></pre>\n\n<p>to</p>\n\n<pre><code>mColor = a.getColor(R.styleable.FloatingActionButton_colortemp, Color.RED);\n</code></pre>\n", "title": "Android changing Floating Action Button color", "answer_id": 31236054, "link": "http://stackoverflow.com/questions/30969455/android-changing-floating-action-button-color/31236054#31236054", "tags": ["java", "android", "android-5.0-lollipop", "floating-action-button"]}, {"body": "<p>Vijet Badigannavar's answer is correct but using <code>ColorStateList</code> is usually complicated and he didn't tell us how to do it. Since we often focus on changing <code>View</code>'s color in normal and pressed state, I'm going to add more details:</p>\n\n<ol>\n<li><p>If you want to change <code>FAB</code>'s color in normal state, you can just write</p>\n\n<pre><code>mFab.setBackgroundTintList(ColorStateList.valueOf(your color in int));\n</code></pre></li>\n<li><p>If you want to change <code>FAB</code>'s color in pressed state, thanks for Design Support Library <strong>22.2.1</strong>, you can just write</p>\n\n<pre><code>mFab.setRippleColor(your color in int);\n</code></pre>\n\n<p>By setting this attribute, when you long-pressed the <code>FAB</code>, a ripple with your color will appear at your touch point and reveal into whole surface of <code>FAB</code>. Please notice that it won't change <code>FAB</code>'s color in normal state. Below API 21(Lollipop), there is no ripple effect but <code>FAB</code>'s color will still change when you're pressing it.</p></li>\n</ol>\n\n<p>Finally, if you want to implement more complex effect for states, then you should dig deeply into <code>ColorStateList</code>, here is a SO question discussing it: <a href=\"http://stackoverflow.com/questions/15543186/colorstatelist-android-programatically\">ColorStateList Android Programatically</a>.</p>\n\n<p><strong>UPDATE:</strong>\nThanks for @Kaitlyn's comment. To remove stroke of FAB using backgroundTint as its color, you can set <code>app:borderWidth=\"0dp\"</code> in your xml.</p>\n", "title": "Android changing Floating Action Button color", "answer_id": 32031019, "link": "http://stackoverflow.com/questions/30969455/android-changing-floating-action-button-color/32031019#32031019", "tags": ["java", "android", "android-5.0-lollipop", "floating-action-button"]}, {"body": "<p>if you try to change color of FAB by using app, there some problem.\nframe of button have different color, so what you must to do:</p>\n\n<pre><code>app:backgroundTint=\"@android:color/transparent\"\n</code></pre>\n\n<p>and in code set the color:</p>\n\n<pre><code>actionButton.setBackgroundTintList(ColorStateList.valueOf(getResources().getColor(R.color.white)));\n</code></pre>\n", "title": "Android changing Floating Action Button color", "answer_id": 32610953, "link": "http://stackoverflow.com/questions/30969455/android-changing-floating-action-button-color/32610953#32610953", "tags": ["java", "android", "android-5.0-lollipop", "floating-action-button"]}, {"body": "<p>Thanks to autocomplete. I got lucky after a few hit and trials:</p>\n\n<pre><code>    xmlns:card_view=\"http://schemas.android.com/apk/res-auto\"\n    card_view:backgroundTint=\"@color/whicheverColorYouLike\"\n</code></pre>\n\n<p>-- or -- (both are basically the same thing)</p>\n\n<pre><code>    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    app:backgroundTint=\"@color/whicheverColorYouLike\"\n</code></pre>\n\n<p>This worked for me on API Version 17 with design library 23.1.0.</p>\n", "title": "Android changing Floating Action Button color", "answer_id": 33732067, "link": "http://stackoverflow.com/questions/30969455/android-changing-floating-action-button-color/33732067#33732067", "tags": ["java", "android", "android-5.0-lollipop", "floating-action-button"]}, {"body": "<p>Other solutions may work. This is the 10 pound gorilla approach that has the advantage of being broadly applicable in this and similar cases:</p>\n\n<p>Styles.xml:</p>\n\n<pre><code>&lt;style name=\"AppTheme.FloatingAccentButtonOverlay\" &gt;\n    &lt;item name=\"colorAccent\"&gt;@color/colorFloatingActionBarAccent&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>your layout xml:</p>\n\n<pre><code>&lt;android.support.design.widget.FloatingActionButton\n       android:theme=\"AppTheme.FloatingAccentButtonOverlay\"\n       ...\n &lt;/android.support.design.widget.FloatingActionButton&gt;\n</code></pre>\n", "title": "Android changing Floating Action Button color", "answer_id": 33844940, "link": "http://stackoverflow.com/questions/30969455/android-changing-floating-action-button-color/33844940#33844940", "tags": ["java", "android", "android-5.0-lollipop", "floating-action-button"]}, {"body": "<p>As <a href=\"http://stackoverflow.com/users/1683466/vasil-valchev\">Vasil Valchev</a> noted in a comment it is simpler than it looks, but there is a subtle difference that I wasn't noticing in my XML. </p>\n\n<pre><code>&lt;android.support.design.widget.FloatingActionButton\n    android:id=\"@+id/profile_edit_fab\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_gravity=\"end|bottom\"\n    android:layout_margin=\"16dp\"\n    android:clickable=\"true\"\n    android:src=\"@drawable/ic_mode_edit_white_24dp\"\n    app:backgroundTint=\"@android:color/white\"/&gt;\n</code></pre>\n\n<p>Notice it is:</p>\n\n<pre><code>app:backgroundTint=\"@android:color/white\n</code></pre>\n\n<p>and <strong>not</strong> </p>\n\n<pre><code>android:backgroundTint=\"@android:color/white\"\n</code></pre>\n", "title": "Android changing Floating Action Button color", "answer_id": 35361111, "link": "http://stackoverflow.com/questions/30969455/android-changing-floating-action-button-color/35361111#35361111", "tags": ["java", "android", "android-5.0-lollipop", "floating-action-button"]}, {"body": "<p>just use,</p>\n\n<pre><code>app:backgroundTint=\"@color/colorPrimary\"\n</code></pre>\n\n<p>dont use,</p>\n\n<pre><code>android:backgroundTint=\"@color/colorPrimary\"\n</code></pre>\n", "title": "Android changing Floating Action Button color", "answer_id": 35863009, "link": "http://stackoverflow.com/questions/30969455/android-changing-floating-action-button-color/35863009#35863009", "tags": ["java", "android", "android-5.0-lollipop", "floating-action-button"]}, {"body": "<p>I got the same problem and its all snatching my hair. Thanks for this\n <a href=\"http://stackoverflow.com/a/35697105/5228412\">http://stackoverflow.com/a/35697105/5228412</a></p>\n\n<p>What we can do..</p>\n\n<pre><code> favourite_fab.setImageDrawable(ContextCompat.getDrawable(getBaseContext(), R.drawable.favourite_selected));\n</code></pre>\n\n<p>it works fine for me and wish for others who'll reach here.</p>\n", "title": "Android changing Floating Action Button color", "answer_id": 36161605, "link": "http://stackoverflow.com/questions/30969455/android-changing-floating-action-button-color/36161605#36161605", "tags": ["java", "android", "android-5.0-lollipop", "floating-action-button"]}, {"body": "<p>The point we are missing is that before you set the color on the button, it's important to work on the value you want for this color. So you can go to values > color. You will find the default ones, but you can also create colors by copping and pasting them, changing the colors and names. Then... when you go to change the color of the floating button (in activity_main),  you can choose the one you have created </p>\n\n<p>Exemple - code on values > colors with default colors + 3 more colors I've created:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n    &lt;color name=\"colorPrimary\"&gt;#3F51B5&lt;/color&gt;\n    &lt;color name=\"colorPrimaryDark\"&gt;#303F9F&lt;/color&gt;\n    &lt;color name=\"colorAccent\"&gt;#FF4081&lt;/color&gt;\n\n    &lt;color name=\"corBotaoFoto\"&gt;#f52411&lt;/color&gt;\n    &lt;color name=\"corPar\"&gt;#8e8f93&lt;/color&gt;\n    &lt;color name=\"corImpar\"&gt;#494848&lt;/color&gt;\n\n&lt;/resources&gt;\n</code></pre>\n\n<p>Now my Floating Action Button with the color I've created and named \"corPar\":</p>\n\n<pre><code>&lt;android.support.design.widget.FloatingActionButton\n        android:id=\"@+id/fab\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_gravity=\"bottom|end\"\n        android:layout_margin=\"@dimen/fab_margin\"\n        android:src=\"@android:drawable/ic_input_add\"\n        android:tint=\"#ffffff\"\n        app:backgroundTint=\"@color/corPar\"/&gt;\n</code></pre>\n\n<p>It worked for me. Good Luck!</p>\n", "title": "Android changing Floating Action Button color", "answer_id": 36653188, "link": "http://stackoverflow.com/questions/30969455/android-changing-floating-action-button-color/36653188#36653188", "tags": ["java", "android", "android-5.0-lollipop", "floating-action-button"]}, {"body": "<pre><code> &lt;android.support.design.widget.FloatingActionButton\n    android:id=\"@+id/fab\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_gravity=\"bottom|end\"\n    app:elevation=\"6dp\"\n    app:backgroundTint=\"@color/colorAccent\"\n    app:pressedTranslationZ=\"12dp\"\n    android:layout_margin=\"@dimen/fab_margin\"\n    android:src=\"@drawable/add\"/&gt;\n</code></pre>\n\n<p>Note that you add colors  in res/values/color.xml\nand include the attribute in your fab </p>\n\n<pre><code>   app:backgroundTint=\"@color/addedColor\"\n</code></pre>\n", "title": "Android changing Floating Action Button color", "answer_id": 37937677, "link": "http://stackoverflow.com/questions/30969455/android-changing-floating-action-button-color/37937677#37937677", "tags": ["java", "android", "android-5.0-lollipop", "floating-action-button"]}, {"body": "<p>If you are use <strong><em>Xamarin</em></strong> for android app development then use below code for changing floating button color. </p>\n\n<pre><code>FloatingActionButton fa = root.FindViewById&lt;FloatingActionButton&gt;(Resource.Id.fabback);\n            Android.Content.Res.ColorStateList csl = new Android.Content.Res.ColorStateList(new int[][] { new int[0] }, new int[]{Android.Graphics.Color.ParseColor(\"#000000\") });\n            fab.BackgroundTintList= csl;\n</code></pre>\n\n<p>\"#000000\" used for black color you can changed according to your requriments. </p>\n", "title": "Android changing Floating Action Button color", "answer_id": 39240915, "link": "http://stackoverflow.com/questions/30969455/android-changing-floating-action-button-color/39240915#39240915", "tags": ["java", "android", "android-5.0-lollipop", "floating-action-button"]}], "question_id": 30969455}, {"body": "<p>I have an app showing custom notifications. The problem is that when running in Android 5 the small icon in the Notification bar shows white. How can I fix this?</p>\n", "title": "Notification bar icon turns white in Android 5 Lollipop", "tags": ["android", "notifications", "android-5.0-lollipop"], "answer_count": 12, "link": "http://stackoverflow.com/questions/28387602/notification-bar-icon-turns-white-in-android-5-lollipop", "answers": [{"body": "<p>This is the code Android uses to display notification icons: </p>\n\n<pre><code>// android_frameworks_base/packages/SystemUI/src/com/android/systemui/\n//   statusbar/BaseStatusBar.java\n\nif (entry.targetSdk &gt;= Build.VERSION_CODES.LOLLIPOP) {\n    entry.icon.setColorFilter(mContext.getResources().getColor(android.R.color.white));\n} else {\n    entry.icon.setColorFilter(null);\n}\n</code></pre>\n\n<p>So you need to set the target sdk version to something <code>&lt;21</code> and the icons will stay colored. This is an ugly workaround but it does what it is expected to do. <strong>Anyway, I really suggest following Google's <a href=\"http://developer.android.com/design/style/iconography.html\">Design Guidelines</a>:</strong> <em>\"Notification icons must be entirely white.\"</em></p>\n\n<p><strong>Here is how you can implement it:</strong></p>\n\n<p>If you are using Gradle/Android Studio to build your apps, use <code>build.gradle</code>:</p>\n\n<pre><code>defaultConfig {\n    targetSdkVersion 20\n}\n</code></pre>\n\n<p>Otherwise (Eclipse etc) use <code>AndroidManifest.xml</code>:</p>\n\n<pre><code>&lt;uses-sdk android:minSdkVersion=\"...\" android:targetSdkVersion=\"20\" /&gt;\n</code></pre>\n", "title": "Notification bar icon turns white in Android 5 Lollipop", "answer_id": 28387744, "link": "http://stackoverflow.com/questions/28387602/notification-bar-icon-turns-white-in-android-5-lollipop/28387744#28387744", "tags": ["android", "notifications", "android-5.0-lollipop"]}, {"body": "<p><code>android:targetSdkVersion=\"20\"</code> it should be &lt; <code>21</code>.</p>\n", "title": "Notification bar icon turns white in Android 5 Lollipop", "answer_id": 28584527, "link": "http://stackoverflow.com/questions/28387602/notification-bar-icon-turns-white-in-android-5-lollipop/28584527#28584527", "tags": ["android", "notifications", "android-5.0-lollipop"]}, {"body": "<p>The accepted answer is not (entirely) correct. Sure, it makes notification icons show in color, but does so with a BIG drawback - by setting the target SDK to lower than Android Lollipop!</p>\n\n<p>If you solve your white icon problem by setting your target SDK to 20, as suggested, your app will not target Android Lollipop, which means that you cannot use Lollipop-specific features.</p>\n\n<p>Have a look at <a href=\"http://developer.android.com/design/style/iconography.html\">http://developer.android.com/design/style/iconography.html</a>, and you'll see that the white style is how notifications are meant to be displayed in Android Lollipop.</p>\n\n<p>In Lollipop, Google also suggest that you use a color that will be displayed behind the (white) notification icon - <a href=\"https://developer.android.com/about/versions/android-5.0-changes.html\">https://developer.android.com/about/versions/android-5.0-changes.html</a></p>\n\n<p>So, I think that a better solution is to add a silhouette icon to the app and use it if the device is running Android Lollipop.</p>\n\n<p>For instance:</p>\n\n<pre><code>Notification notification = new Notification.Builder(context)\n            .setAutoCancel(true)\n            .setContentTitle(\"My notification\")\n            .setContentText(\"Look, white in Lollipop, else color!\")\n            .setSmallIcon(getNotificationIcon())\n            .build();\n\n    return notification;\n</code></pre>\n\n<p>And, in the getNotificationIcon method:</p>\n\n<pre><code>private int getNotificationIcon() {\n    boolean useWhiteIcon = (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.LOLLIPOP);\n    return useWhiteIcon ? R.drawable.icon_silhouette : R.drawable.ic_launcher;\n}\n</code></pre>\n", "title": "Notification bar icon turns white in Android 5 Lollipop", "answer_id": 29207365, "link": "http://stackoverflow.com/questions/28387602/notification-bar-icon-turns-white-in-android-5-lollipop/29207365#29207365", "tags": ["android", "notifications", "android-5.0-lollipop"]}, {"body": "<p>Completely agree with user Daniel Saidi. In Order to have <code>Color</code> for <code>NotificationIcon</code> I'm writing this answer.</p>\n\n<p>For that you've to make icon like <code>Silhouette</code> and make some section <code>Transparent</code> wherever you wants to add your <code>Colors</code>. i.e,</p>\n\n<p><img src=\"http://i.stack.imgur.com/ptpPg.png\" alt=\"enter image description here\"></p>\n\n<p>You can add your color using </p>\n\n<p><code>.setColor(your_color_resource_here)</code></p>\n\n<p>NOTE : <code>setColor</code> is only available in <code>Lollipop</code> so, you've to check <code>OSVersion</code></p>\n\n<pre><code>if (android.os.Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.LOLLIPOP) {\n    Notification notification = new Notification.Builder(context)\n    ...\n} else {\n    // Lollipop specific setColor method goes here.\n    Notification notification = new Notification.Builder(context)\n    ...\n    notification.setColor(your_color)\n    ...            \n}\n</code></pre>\n\n<p>You can also achieve this using <code>Lollipop</code> as the target <code>SDK</code>.</p>\n\n<p>All instruction regarding <code>NotificationIcon</code> given at <a href=\"http://developer.android.com/design/patterns/notifications.html#guidelines\">Google Developer Console Notification Guide Lines</a>.</p>\n\n<p>Preferred Notification Icon Size 24x24dp</p>\n\n<pre><code>mdpi    @ 24.00dp   = 24.00px\nhdpi    @ 24.00dp   = 36.00px\nxhdpi   @ 24.00dp   = 48.00px\n</code></pre>\n\n<p>And also refer this link for <a href=\"http://developer.android.com/design/style/iconography.html#notification\">Notification Icon Sizes</a> for more info.</p>\n", "title": "Notification bar icon turns white in Android 5 Lollipop", "answer_id": 29432203, "link": "http://stackoverflow.com/questions/28387602/notification-bar-icon-turns-white-in-android-5-lollipop/29432203#29432203", "tags": ["android", "notifications", "android-5.0-lollipop"]}, {"body": "<p>I was facing same issue and it was because of my app notification icon was not flat. For android version lollipop or even below lollipop your app notification icon should be flat, don't use icon with shadows etc.</p>\n\n<p>Below is the code that worked perfectly fine on all android versions.</p>\n\n<pre><code>private void sendNotification(String msg) {\n\n    NotificationManager mNotificationManager = (NotificationManager) this.getSystemService(Context.NOTIFICATION_SERVICE);\n\n    Intent intent = new Intent(this, CheckOutActivity.class);\n\n    PendingIntent contentIntent = PendingIntent.getActivity(this, 0, intent, 0);\n\n    NotificationCompat.Builder mBuilder = new NotificationCompat.Builder(\n            this).setSmallIcon(R.drawable.ic_notification)\n            .setContentTitle(getString(R.string.app_name))\n            .setStyle(new NotificationCompat.BigTextStyle().bigText(msg))\n            .setContentText(msg).setLights(Color.GREEN, 300, 300)\n            .setVibrate(new long[] { 100, 250 })\n            .setDefaults(Notification.DEFAULT_SOUND).setAutoCancel(true);\n\n    mBuilder.setContentIntent(contentIntent);\n    mNotificationManager.notify(new Random().nextInt(), mBuilder.build());\n}\n</code></pre>\n\n<p>Wrong icon<br>\n<img src=\"http://i.stack.imgur.com/1SQd7.png\" alt=\"enter image description here\"></p>\n\n<p>Right Icon</p>\n\n<p><img src=\"http://i.stack.imgur.com/sBjMd.png\" alt=\"enter image description here\"></p>\n", "title": "Notification bar icon turns white in Android 5 Lollipop", "answer_id": 29494245, "link": "http://stackoverflow.com/questions/28387602/notification-bar-icon-turns-white-in-android-5-lollipop/29494245#29494245", "tags": ["android", "notifications", "android-5.0-lollipop"]}, {"body": "<p>remove the <code>android:targetSdkVersion=\"21\"</code> from manifest.xml. it will work!\nand from this there is no prob at all in your apk it just a trick i apply this and i found colorful icon in notification</p>\n", "title": "Notification bar icon turns white in Android 5 Lollipop", "answer_id": 31431718, "link": "http://stackoverflow.com/questions/28387602/notification-bar-icon-turns-white-in-android-5-lollipop/31431718#31431718", "tags": ["android", "notifications", "android-5.0-lollipop"]}, {"body": "<p>To avoid Notification icons to turn white, use \"Silhouette\" icons for them, ie. white-on-transparent background images.\nYou may use <a href=\"http://www.irfanview.com/\">Irfanview</a> to build them:</p>\n\n<ul>\n<li>choose a picture, open in <code>IrfanView</code>, press F12 for the painting tools, clean picture if necessary (remove unwanted parts, smooth and polish)</li>\n<li><code>Image / Decrease Color Depth</code> to 2  (for a black &amp; white picture)</li>\n<li><code>Image / Negative</code>                   (for a white on black picture)</li>\n<li><code>Image / Resize/Resample</code> to 144 x 144 (use Size Method \"Resize\" not \"Resample\", otherwise picture is increased to 24 color bits per pixel (24 BPP) again</li>\n<li><code>File / Save as PNG</code>, check <code>Show option dialog</code>, check <code>Save Transparent Color</code>, click <code>Save</code>, then click on the black color in the image to set the transparent color</li>\n</ul>\n\n<p>Android seems to be using the drawable-xxhdpi picture resolution (144 x 144) only, so copy your resulting <code>ic_notification.png</code> file to <code>\\AndroidStudio\\Projects\\...\\app\\src\\main\\res\\drawable-xxhdpi</code>. Use <code>.setSmallIcon(R.drawable.ic_notification)</code> in your code, or use <code>getNotificationIcon()</code> as Daniel Saidi suggested above.</p>\n\n<p>You may also use <a href=\"http://romannurik.github.io/AndroidAssetStudio/icons-notification.html\">Roman Nurik's Android Asset Studio</a>.</p>\n", "title": "Notification bar icon turns white in Android 5 Lollipop", "answer_id": 31461811, "link": "http://stackoverflow.com/questions/28387602/notification-bar-icon-turns-white-in-android-5-lollipop/31461811#31461811", "tags": ["android", "notifications", "android-5.0-lollipop"]}, {"body": "<p><strong>alpha-channel</strong> is the only data of the image that Android uses for notification icons:</p>\n\n<ul>\n<li><code>alpha == 1</code>: pixels show white</li>\n<li><code>alpha == 0</code>: pixels show as the color you chose at <code>Notification.Builder#setColor(int)</code></li>\n</ul>\n\n<p>This is mentioned at <a href=\"https://developer.android.com/about/versions/android-5.0-changes.html\" rel=\"nofollow\">https://developer.android.com/about/versions/android-5.0-changes.html</a> :</p>\n\n<blockquote>\n  <p>The system ignores all non-alpha channels in action icons and in the main notification icon. You should assume that these icons will be alpha-only.</p>\n</blockquote>\n\n<p>Almost all <a href=\"http://developer.android.com/reference/android/R.drawable.html\" rel=\"nofollow\">built-in drawables</a> seem to be suitable alpha images for this, so you might use something like:</p>\n\n<pre><code>Notification.Builder.setColor(Color.RED)\n                    .setSmallIcon(android.R.drawable.star_on)\n</code></pre>\n\n<p>but I'm still looking for the <a href=\"http://developer.android.com/reference/packages.html\" rel=\"nofollow\">API doc</a> that officially confirms that.</p>\n\n<p>Tested on Android 22.</p>\n", "title": "Notification bar icon turns white in Android 5 Lollipop", "answer_id": 35278871, "link": "http://stackoverflow.com/questions/28387602/notification-bar-icon-turns-white-in-android-5-lollipop/35278871#35278871", "tags": ["android", "notifications", "android-5.0-lollipop"]}, {"body": "<p>Another option is to take advantage of version-specific drawable (mipmap) directories to supply different graphics for Lollipop and above. </p>\n\n<p>In my app, the \"v21\" directories contain icons with transparent text while the other directories contain non-transparent version (for versions of Android older than Lollipop).</p>\n\n<p><a href=\"http://i.stack.imgur.com/2i8J3.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/2i8J3.png\" alt=\"File system\"></a></p>\n\n<p>Which should look something like this:</p>\n\n<p><a href=\"http://i.stack.imgur.com/mEAGo.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/mEAGo.png\" alt=\"Android Studio\"></a></p>\n\n<p>This way, you don't need to check for version numbers in code, e.g.</p>\n\n<pre><code>PendingIntent pendingIntent = PendingIntent.getActivity(this, 0 /* Request code */, intent,\n            PendingIntent.FLAG_ONE_SHOT);\n\nUri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\nNotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this)\n        .setSmallIcon(R.mipmap.ic_notification)\n        .setContentTitle(title)\n        .setContentText(message)\n        .setAutoCancel(true)\n        .setSound(defaultSoundUri)\n            .setContentIntent(pendingIntent);\n</code></pre>\n\n<p>Likewise, you can reference \"ic_notification\" (or whatever you choose to call it) in your GCM payload if you use the \"icon\" attribute.</p>\n\n<p><a href=\"https://developers.google.com/cloud-messaging/http-server-ref#notification-payload-support\" rel=\"nofollow\">https://developers.google.com/cloud-messaging/http-server-ref#notification-payload-support</a></p>\n", "title": "Notification bar icon turns white in Android 5 Lollipop", "answer_id": 36185106, "link": "http://stackoverflow.com/questions/28387602/notification-bar-icon-turns-white-in-android-5-lollipop/36185106#36185106", "tags": ["android", "notifications", "android-5.0-lollipop"]}, {"body": "<p>Post android Lollipop release android has changed the guidelines for displaying notification icons in the Notification bar.\nThe official documentation says \"Update or remove assets that involve color. The system ignores all non-alpha channels in action icons and in the main notification icon. You should assume that these icons will be alpha-only. The system draws notification icons in white and action icons in dark gray.\u201d\nNow what that means in lay man terms is \"Convert all parts of the image that you don\u2019t want to show to transparent pixels. All colors and non transparent pixels are displayed in white\"</p>\n\n<p>You can see how to do this in detail with screenshots here\n<a href=\"https://blog.clevertap.com/fixing-notification-icon-for-android-lollipop-and-above/\" rel=\"nofollow\">https://blog.clevertap.com/fixing-notification-icon-for-android-lollipop-and-above/</a></p>\n\n<p>Hope that helps</p>\n", "title": "Notification bar icon turns white in Android 5 Lollipop", "answer_id": 36640715, "link": "http://stackoverflow.com/questions/28387602/notification-bar-icon-turns-white-in-android-5-lollipop/36640715#36640715", "tags": ["android", "notifications", "android-5.0-lollipop"]}, {"body": "<p>If you're using GoogleFireBaseMessaging, you can set \"icon id\" in the \"notification\" payload (it helps me to solve the white bar icon problem):</p>\n\n<pre><code>{\n\"to\":\"&lt;fb_id&gt;\",\n\"priority\" : \"high\",\n\"notification\" : \n{\n    \"title\" : \"title\",\n    \"body\" : \"body\" ,\n    \"sound\" : \"default\",\n    \"icon\" : \"ic_notification\"\n}\n</code></pre>\n\n<p>}</p>\n\n<p>set <strong>ic_notification</strong> to your own id from R.drawable.</p>\n", "title": "Notification bar icon turns white in Android 5 Lollipop", "answer_id": 38389307, "link": "http://stackoverflow.com/questions/28387602/notification-bar-icon-turns-white-in-android-5-lollipop/38389307#38389307", "tags": ["android", "notifications", "android-5.0-lollipop"]}, {"body": "<p>According to the Android design guidelines you must use a silhouette for <code>builder.setSmallIcon(R.drawable.some_notification_icon);</code> But if you still wants to show a colorful icon as a notification icon here is the trick for lollipop and above use below code. The largeIcon will act as a primary notification icon and you also need to provide a silhouette for smallIcon as it will be shown over the bottom right of the largeIcon.</p>\n\n<pre><code>if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP)\n        {\n            builder.setColor(context.getResources().getColor(R.color.red));\n            builder.setSmallIcon(R.drawable.some_notification_icon);\n            builder.setLargeIcon(BitmapFactory.decodeResource(context.getResources(), R.mipmap.ic_launcher));\n        }\n</code></pre>\n\n<p>And pre-lollipop use only <code>.setSmallIcon(R.mipmap.ic_launcher)</code> with your builder.</p>\n", "title": "Notification bar icon turns white in Android 5 Lollipop", "answer_id": 39142981, "link": "http://stackoverflow.com/questions/28387602/notification-bar-icon-turns-white-in-android-5-lollipop/39142981#39142981", "tags": ["android", "notifications", "android-5.0-lollipop"]}], "question_id": 28387602}, {"body": "<p>Yesterday I recognized a ton of warnings regarding the parse.com library: </p>\n\n<blockquote>\n  <p>URGENT: all bitcode will be dropped because '[path]/Parse.framework/Parse(PFAnalytics.o)' was built without bitcode. You must rebuild it with bitcode enabled (Xcode setting ENABLE_BITCODE), obtain an updated library from the vendor, or disable bitcode for this target. Note: This will be an error in the future.</p>\n</blockquote>\n\n<p>I am aware of the fact that I can remove those warning with <a href=\"http://stackoverflow.com/a/30856364/2442804\">this answer</a> but am now wondering if it will have any negative impact in regards to AppStore submission and / or actual performance of my app.</p>\n\n<p>Xcode informs you regarding bitcode</p>\n\n<blockquote>\n  <p>Activating this setting indicates that the target or project should generate bitcode during compilation for platforms and architectures which support it.  For Archive builds, bitcode will be generated in the linked binary for submission to the app store.  For other builds, the compiler and linker will check whether the code complies with the requirements for bitcode generation, but will not generate actual bitcode. [ENABLE_BITCODE]</p>\n</blockquote>\n\n<p>But I am not getting any really useful information out of this text.</p>\n\n<ul>\n<li>Can I use the linked answer to circumvent the issue without any negative impact and without compromising a future AppStore submission? </li>\n<li>What does the <code>ENABLE_BITCODE</code> actually do, will it be a non-optional requirement in the future?</li>\n<li>Are there any performance impacts if I enable / disable it?</li>\n</ul>\n", "title": "Impact of Xcode build options &quot;Enable bitcode&quot; Yes/No", "tags": ["ios", "xcode", "parse.com", "bitcode"], "answer_count": 6, "link": "http://stackoverflow.com/questions/31088618/impact-of-xcode-build-options-enable-bitcode-yes-no", "answers": [{"body": "<p>Bitcode is a new feature of <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/IDEs/Conceptual/AppDistributionGuide/AppThinning/AppThinning.html\">iOS 9</a></p>\n\n<blockquote>\n  <p>Bitcode is an intermediate representation of a compiled program. Apps you upload to iTunes Connect that contain bitcode will be compiled and linked on the App Store. Including bitcode will allow Apple to re-optimize your app binary in the future without the need to submit a new version of your app to the store.</p>\n  \n  <p>Note: For iOS apps, bitcode is the default, but optional. If you provide bitcode, all apps and frameworks in the app bundle need to include bitcode. For watchOS apps, bitcode is required</p>\n</blockquote>\n\n<p>So you should disabled bitcode until all the frameworks of your app have bitcode enabled.</p>\n", "title": "Impact of Xcode build options &quot;Enable bitcode&quot; Yes/No", "answer_id": 31088744, "link": "http://stackoverflow.com/questions/31088618/impact-of-xcode-build-options-enable-bitcode-yes-no/31088744#31088744", "tags": ["ios", "xcode", "parse.com", "bitcode"]}, {"body": "<p>From the <a href=\"https://developer.apple.com/library/prerelease/watchos/documentation/IDEs/Conceptual/AppDistributionGuide/AppThinning/AppThinning.html#//apple_ref/doc/uid/TP40012582-CH35-SW2\" rel=\"nofollow\" title=\"docs\">docs</a></p>\n\n<ul>\n<li>can I use the above method without any negative impact and without compromising a future appstore submission?</li>\n</ul>\n\n<p>Bitcode will allow apple to optimise the app without you having to submit another build. But, you can only enable this feature if all frameworks and apps in the app bundle have this feature enabled.\nHaving it helps, but not having it should not have any negative impact.</p>\n\n<ul>\n<li>What does the ENABLE_BITCODE actually do, will it be a non-optional requirement in the future?</li>\n</ul>\n\n<blockquote>\n  <p>For iOS apps, bitcode is the default, but optional. If you provide\n  bitcode, all apps and frameworks in the app bundle need to include\n  bitcode. For watchOS apps, bitcode is required.</p>\n</blockquote>\n\n<ul>\n<li>Are there any performance impacts if I enable / disable it?</li>\n</ul>\n\n<blockquote>\n  <p>The App Store and operating system optimize the installation of iOS\n  and watchOS apps by tailoring app delivery to the capabilities of the\n  user\u2019s particular device, with minimal footprint. This optimization,\n  called app thinning, lets you create apps that use the most device\n  features, occupy minimum disk space, and accommodate future updates\n  that can be applied by Apple. Faster downloads and more space for\n  other apps and content provides a better user experience.</p>\n</blockquote>\n\n<p>There should not be any performance impacts.</p>\n", "title": "Impact of Xcode build options &quot;Enable bitcode&quot; Yes/No", "answer_id": 31206065, "link": "http://stackoverflow.com/questions/31088618/impact-of-xcode-build-options-enable-bitcode-yes-no/31206065#31206065", "tags": ["ios", "xcode", "parse.com", "bitcode"]}, {"body": "<blockquote>\n  <ul>\n  <li>What does the ENABLE_BITCODE actually do, will it be a non-optional requirement in the future?</li>\n  </ul>\n</blockquote>\n\n<p>I'm not sure at what level you are looking for an answer at, so let's take a little trip. Some of this you may already know.</p>\n\n<p>When you build your project, Xcode invokes <code>clang</code> for Objective-C targets and <code>swift</code>/<code>swiftc</code> for Swift targets. Both of these compilers compile the app to an <a href=\"https://en.wikipedia.org/wiki/LLVM#LLVM_Intermediate_Representation\">intermediate representation</a> (IR), one of these IRs is bitcode. From this IR, a program called LLVM takes over and creates the binaries needed for x86 32 and 64 bit modes (for the simulator) and arm6/arm7/arm7s/arm64 (for the device). Normally, all of these different binaries are lumped together in a single file called a <a href=\"https://en.wikipedia.org/wiki/Fat_binary#Apple.27s_Universal_binary\">fat binary</a>.</p>\n\n<p>The ENABLE_BITCODE option cuts out this final step. It creates a version of the app with an IR bitcode binary. This has a number of nice features, but one giant drawback: it can't run anywhere. In order to get an app with a bitcode binary to run, the bitcode needs to be recompiled (<em>maybe assembled or transcoded\u2026 I'm not sure of the correct verb</em>) into an x86 or ARM binary.</p>\n\n<p>When a bitcode app is submitted to the App Store, Apple will do this final step and create the finished binaries.</p>\n\n<p>Right now, bitcode apps are optional, but history has shown Apple turns optional things into requirements (like 64 bit support). This usually takes a few years, so third party developers (like Parse) have time to update.</p>\n\n<blockquote>\n  <ul>\n  <li>can I use the above method without any negative impact and without compromising a future appstore submission?</li>\n  </ul>\n</blockquote>\n\n<p>Yes, you can turn off ENABLE_BITCODE and everything will work just like before. Until Apple makes bitcode apps a requirement for the App Store, you will be fine.</p>\n\n<blockquote>\n  <ul>\n  <li>Are there any performance impacts if I enable / disable it?</li>\n  </ul>\n</blockquote>\n\n<p>There will never be negative performance impacts for enabling it, but internal distribution of an app for testing may get more complicated.</p>\n\n<p>As for positive impacts\u2026 well that's complicated.</p>\n\n<p>For distribution in the App Store, Apple will create separate versions of your app for each machine architecture (arm6/arm7/arm7s/arm64) instead of one app with a fat binary. This means the app installed on iOS devices will be smaller.</p>\n\n<p>In addition, when bitcode is recompiled (<em>maybe assembled or transcoded\u2026 again, I'm not sure of the correct verb</em>), it is optimized. LLVM is always working on creating new a better optimizations. In theory, the App Store could recreate the separate version of the app in the App Store with each new release of LLVM, so your app could be re-optimized with the latest LLVM technology.</p>\n", "title": "Impact of Xcode build options &quot;Enable bitcode&quot; Yes/No", "answer_id": 31207170, "link": "http://stackoverflow.com/questions/31088618/impact-of-xcode-build-options-enable-bitcode-yes-no/31207170#31207170", "tags": ["ios", "xcode", "parse.com", "bitcode"]}, {"body": "<p>Make sure to select \"All\" to find the enable bitcode build settings:</p>\n\n<p><a href=\"http://i.stack.imgur.com/GR5If.png\"><img src=\"http://i.stack.imgur.com/GR5If.png\" alt=\"Build settings\"></a></p>\n", "title": "Impact of Xcode build options &quot;Enable bitcode&quot; Yes/No", "answer_id": 32508368, "link": "http://stackoverflow.com/questions/31088618/impact-of-xcode-build-options-enable-bitcode-yes-no/32508368#32508368", "tags": ["ios", "xcode", "parse.com", "bitcode"]}, {"body": "<p><strong>Bitcode makes crash reporting harder</strong>. Here is a quote from <a href=\"http://support.hockeyapp.net/kb/client-integration-ios-mac-os-x/how-to-solve-symbolication-problems#bitcode\">HockeyApp</a> (which also true for <em>any other</em> crash reporting solutions):</p>\n\n<blockquote>\n  <p>When uploading an app to the App Store and leaving the \"Bitcode\" checkbox enabled, Apple will use that Bitcode build and re-compile it on their end before distributing it to devices. This will result in the binary getting a new UUID and there is an option to download a corresponding dSYM through Xcode.</p>\n</blockquote>\n\n<p><em>Note: the answer was edited on Jan 2016 to reflect most recent changes</em></p>\n", "title": "Impact of Xcode build options &quot;Enable bitcode&quot; Yes/No", "answer_id": 32731718, "link": "http://stackoverflow.com/questions/31088618/impact-of-xcode-build-options-enable-bitcode-yes-no/32731718#32731718", "tags": ["ios", "xcode", "parse.com", "bitcode"]}, {"body": "<p>@vj9 thx. I update to xcode 7 . It show me the same error. Build well after set \"NO\"</p>\n\n<p><a href=\"http://i.stack.imgur.com/SMmd6.png\"><img src=\"http://i.stack.imgur.com/SMmd6.png\" alt=\"enter image description here\"></a></p>\n\n<p>set \"NO\" it works well.</p>\n\n<p><a href=\"http://i.stack.imgur.com/yvzTl.png\"><img src=\"http://i.stack.imgur.com/yvzTl.png\" alt=\"enter image description here\"></a></p>\n", "title": "Impact of Xcode build options &quot;Enable bitcode&quot; Yes/No", "answer_id": 32753202, "link": "http://stackoverflow.com/questions/31088618/impact-of-xcode-build-options-enable-bitcode-yes-no/32753202#32753202", "tags": ["ios", "xcode", "parse.com", "bitcode"]}], "question_id": 31088618}, {"body": "<p>There's a <a href=\"http://stackoverflow.com/questions/15435366/vs2012-enable-nuget-package-restore-disappears-missing\">similar post</a> on stack but it doesn't help with my issue possibly because I am using Visual Studio 2015.</p>\n\n<p>How do I get the \"Enable NuGet Package Restore\" option to appear in VS2015?</p>\n\n<p>I chose File > New Project and created an <strong>empty ASP.NET Web Application</strong>. I'm looking for this menu option.</p>\n\n<p><img src=\"http://i.stack.imgur.com/uedbb.png\" alt=\"enter image description here\"></p>\n\n<p>I should mention that I have looked for any pre-existing nuGet files in my project folder and there are none.</p>\n", "title": "How do I Enable NuGet Package Restore in Visual Studio 2015", "tags": ["c#", "asp.net", "nuget", "visual-studio-2015", "nuget-package-restore"], "answer_count": 12, "link": "http://stackoverflow.com/questions/27895504/how-do-i-enable-nuget-package-restore-in-visual-studio-2015", "answers": [{"body": "<p>I suppose that for asp.net 4 project we're moving to automatic restore, so there is no need for this. For older projects I think a bit of work to convert is needed.</p>\n\n<p><a href=\"http://docs.nuget.org/docs/workflows/migrating-to-automatic-package-restore\" rel=\"nofollow\">http://docs.nuget.org/docs/workflows/migrating-to-automatic-package-restore</a></p>\n", "title": "How do I Enable NuGet Package Restore in Visual Studio 2015", "answer_id": 27896756, "link": "http://stackoverflow.com/questions/27895504/how-do-i-enable-nuget-package-restore-in-visual-studio-2015/27896756#27896756", "tags": ["c#", "asp.net", "nuget", "visual-studio-2015", "nuget-package-restore"]}, {"body": "<p>If you have any problems or are missing any packages you can simply right-click in your project and select \"<strong>Manage NuGet Packages for Solution...</strong>\". After clicking on this a screen will open where you see a menu bar saying \"Restore\":\n<img src=\"http://i.imgur.com/cbXbpMx.png\" alt=\"Restore\"/></p>\n\n<p>Click on it and the required packages will be installed automatically.<br />\nI believe this is what you're looking for, this solved my problems.</p>\n", "title": "How do I Enable NuGet Package Restore in Visual Studio 2015", "answer_id": 29093942, "link": "http://stackoverflow.com/questions/27895504/how-do-i-enable-nuget-package-restore-in-visual-studio-2015/29093942#29093942", "tags": ["c#", "asp.net", "nuget", "visual-studio-2015", "nuget-package-restore"]}, {"body": "<p>It took far too long but I finally found this document on <a href=\"http://docs.nuget.org/consume/package-restore/migrating-to-automatic-package-restore\">Migrating MSBuild-Integrated solutions to Automatic Package Restore</a> and I was able to resolve the issue using the methods described here. </p>\n\n<ol>\n<li>Remove the <code>'.nuget'</code> solution directory along from the solution </li>\n<li>Remove all references to <code>nuget.targets</code> from your <code>.csproj</code> or <code>.vbproj</code> files. Though not officially supported, the document links to a <a href=\"https://github.com/owen2/AutomaticPackageRestoreMigrationScript\">PowerShell script</a> if you have a lot of projects which need to be cleaned up. I manually edited mine by hand so I can't give any feedback regarding my experience with it.</li>\n</ol>\n\n<p>When editing your files by hand, here's what you'll be looking for:</p>\n\n<p><strong>Solution File (.sln)</strong></p>\n\n<pre><code>Project(\"{2150E333-8FDC-42A3-9474-1A3956D46DE8}\") = \".nuget\", \".nuget\", \"{F4AEBB8B-A367-424E-8B14-F611C9667A85}\"\nProjectSection(SolutionItems) = preProject\n    .nuget\\NuGet.Config = .nuget\\NuGet.Config\n    .nuget\\NuGet.exe = .nuget\\NuGet.exe\n    .nuget\\NuGet.targets = .nuget\\NuGet.targets\nEndProjectSection\nEndProject\n</code></pre>\n\n<p><strong>Project File (.csproj / .vbproj)</strong></p>\n\n<pre><code>  &lt;Import Project=\"$(SolutionDir)\\.nuget\\NuGet.targets\" Condition=\"Exists('$(SolutionDir)\\.nuget\\NuGet.targets')\" /&gt;\n  &lt;Target Name=\"EnsureNuGetPackageBuildImports\" BeforeTargets=\"PrepareForBuild\"&gt;\n    &lt;PropertyGroup&gt;\n      &lt;ErrorText&gt;This project references NuGet package(s) that are missing on this computer. Enable NuGet Package Restore to download them.  For more information, see http://go.microsoft.com/fwlink/?LinkID=322105. The missing file is {0}.&lt;/ErrorText&gt;\n    &lt;/PropertyGroup&gt;\n    &lt;Error Condition=\"!Exists('$(SolutionDir)\\.nuget\\NuGet.targets')\" Text=\"$([System.String]::Format('$(ErrorText)', '$(SolutionDir)\\.nuget\\NuGet.targets'))\" /&gt;\n  &lt;/Target&gt;\n</code></pre>\n", "title": "How do I Enable NuGet Package Restore in Visual Studio 2015", "answer_id": 30270034, "link": "http://stackoverflow.com/questions/27895504/how-do-i-enable-nuget-package-restore-in-visual-studio-2015/30270034#30270034", "tags": ["c#", "asp.net", "nuget", "visual-studio-2015", "nuget-package-restore"]}, {"body": "<p>Optionally you can remove all folders from \"packages\" folder and select \"Manage NuGet Packages for Solution...\". In this case \"Restore\" button appears on NuGet Packages Windows. </p>\n", "title": "How do I Enable NuGet Package Restore in Visual Studio 2015", "answer_id": 31071226, "link": "http://stackoverflow.com/questions/27895504/how-do-i-enable-nuget-package-restore-in-visual-studio-2015/31071226#31071226", "tags": ["c#", "asp.net", "nuget", "visual-studio-2015", "nuget-package-restore"]}, {"body": "<p>Microsoft has dropped support for the 'Enable NuGet Package Restore' in VS2015 and you need to do some manual changes to either migrate old solutions or add the feature to new solutions.  The new feature is described pretty well in <a href=\"http://docs.nuget.org/consume/package-restore\">NuGet Package Restore</a>.</p>\n\n<p>There is also a migration guide for existing projects (as previously mentioned) here: <a href=\"http://docs.nuget.org/consume/package-restore/migrating-to-automatic-package-restore\">NuGet Migration Guide</a></p>\n\n<p><strong>When upgrading:</strong></p>\n\n<ol>\n<li>do not delete the .nuget directory.</li>\n<li>Delete the nuget.exe and nuget.targets files.</li>\n<li>Leave the nuget.config.</li>\n<li>Purge each of the project files of any reference to the NuGet targets by hand.  The powershell script mentioned seemed to do more damage than good.</li>\n</ol>\n\n<p><strong>When creating a new project:</strong></p>\n\n<ol>\n<li>In you Visual Studio 2015 solution, create a Solution Directory called .nuget.</li>\n<li>Create an actual directory off the solution directory (where the .sln file lives) and call it .nuget (note that the solution directory is not the same as the actual file system directory even though they have the same name).</li>\n<li><p>Create a file in the .nuget directory called nuget.config.</p></li>\n<li><p>Add the 'nuget.config' to the solution directory created in step #2.</p></li>\n<li><p>Place the following text in the nuget.config file:</p>\n\n<p><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n &lt;configuration&gt;\n  &lt;config&gt;\n    &lt;add key=\"repositorypath\" value=\"$\\..\\..\\..\\..\\Packages\" /&gt;\n  &lt;/config&gt;\n  &lt;solution&gt;\n    &lt;add key=\"disableSourceControlIntegration\" value=\"true\" /&gt;\n  &lt;/solution&gt;\n&lt;/configuration&gt;</code></p></li>\n</ol>\n\n<p>This configuration file will allow you to consolidate all your packages in a single place so you don't have 20 different copies of the same package floating around on your file system.  The relative path will change depending on your solution directory architecture but it should point to a directory common to all your solutions.</p>\n\n<p>You need to restart visual studio after doing step 5. Nuget won't recognize the changes until you do so.</p>\n\n<p>Finally, you may have to use the 'Nuget Package Manager for Solutions' to uninstall and then re-install the packages.  I don't know if this was a side-effect of the powershell script I ran or just a method to kick NuGet back into gear.  Once I did all these steps, my complicated build architecture worked flawlessly at bringing down new packages when I checked projects out of TFVC.</p>\n", "title": "How do I Enable NuGet Package Restore in Visual Studio 2015", "answer_id": 31811461, "link": "http://stackoverflow.com/questions/27895504/how-do-i-enable-nuget-package-restore-in-visual-studio-2015/31811461#31811461", "tags": ["c#", "asp.net", "nuget", "visual-studio-2015", "nuget-package-restore"]}, {"body": "<p>When upgrading projects with nuget packages from Vx20XX to VS2015, you might have a problem with nuget packages. </p>\n\n<p>Example of error message:\nThis project references NuGet package(s) that are missing on this computer. Enable NuGet Package Restore to download them. </p>\n\n<p>Update 2016-02-06: I had a link to the information but it does not work anymore. I suspect that a recent path has solved the problem ???</p>\n\n<p>I fixed my problem writing a little program that do <a href=\"http://docs.nuget.org/Consume/Package-Restore/Migrating-to-Automatic-Package-Restore\" rel=\"nofollow\">MSBuild-Integrated package restore vs. Automatic Package Restore</a></p>\n\n<p>You can download executable of the tool <a href=\"http://www.ericouellet.com/dl/FixNuGetProblemsInVs2015.exe\" rel=\"nofollow\">here</a>.</p>\n\n<p>Please let me know the result :-) !</p>\n\n<p><a href=\"http://i.stack.imgur.com/c7Nqh.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/c7Nqh.png\" alt=\"enter image description here\"></a></p>\n\n<p>Code as reference:</p>\n\n<pre><code>&lt;Window x:Class=\"FixNuGetProblemsInVs2015.MainWindow\"\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n        xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n        xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n        xmlns:local=\"clr-namespace:FixNuGetProblemsInVs2015\"\n        mc:Ignorable=\"d\"\n        Title=\"Fix NuGet Packages problems in Visual Studio 2015 (By Eric Ouellet)\" Height=\"350\" Width=\"525\"&gt;\n    &lt;Grid&gt;\n        &lt;Grid.RowDefinitions&gt;\n            &lt;RowDefinition Height=\"Auto\"&gt;&lt;/RowDefinition&gt;\n            &lt;RowDefinition Height=\"Auto\"&gt;&lt;/RowDefinition&gt;\n            &lt;RowDefinition Height=\"*\"&gt;&lt;/RowDefinition&gt;\n            &lt;RowDefinition Height=\"Auto\"&gt;&lt;/RowDefinition&gt;\n        &lt;/Grid.RowDefinitions&gt;\n\n        &lt;Grid.ColumnDefinitions&gt;\n            &lt;ColumnDefinition Width=\"Auto\"&gt;&lt;/ColumnDefinition&gt;\n            &lt;ColumnDefinition Width=\"10\"&gt;&lt;/ColumnDefinition&gt;\n            &lt;ColumnDefinition&gt;&lt;/ColumnDefinition&gt;\n        &lt;/Grid.ColumnDefinitions&gt;\n\n        &lt;TextBlock Grid.Row=\"0\" Grid.Column=\"0\"&gt;Root directory of projects&lt;/TextBlock&gt;\n        &lt;Grid Grid.Row=\"0\" Grid.Column=\"2\"&gt;\n            &lt;Grid.ColumnDefinitions&gt;\n                &lt;ColumnDefinition&gt;&lt;/ColumnDefinition&gt;\n                &lt;ColumnDefinition Width=\"Auto\"&gt;&lt;/ColumnDefinition&gt;\n            &lt;/Grid.ColumnDefinitions&gt;\n\n            &lt;TextBox Grid.Column=\"0\" Name=\"DirProjects\"&gt;&lt;/TextBox&gt;\n            &lt;Button Grid.Column=\"1\" VerticalAlignment=\"Bottom\" Name=\"BrowseDirProjects\" Click=\"BrowseDirProjectsOnClick\"&gt;Browse...&lt;/Button&gt;\n        &lt;/Grid&gt;\n\n        &lt;!--&lt;TextBlock Grid.Row=\"1\" Grid.Column=\"0\"&gt;Directory of NuGet Packages&lt;/TextBlock&gt;\n        &lt;Grid Grid.Row=\"1\" Grid.Column=\"2\"&gt;\n            &lt;Grid.ColumnDefinitions&gt;\n                &lt;ColumnDefinition&gt;&lt;/ColumnDefinition&gt;\n                &lt;ColumnDefinition Width=\"Auto\"&gt;&lt;/ColumnDefinition&gt;\n            &lt;/Grid.ColumnDefinitions&gt;\n\n            &lt;TextBox Grid.Column=\"0\" Name=\"DirPackages\"&gt;&lt;/TextBox&gt;\n            &lt;Button Grid.Column=\"1\"  Name=\"BrowseDirPackages\" Click=\"BrowseDirPackagesOnClick\"&gt;Browse...&lt;/Button&gt;\n        &lt;/Grid&gt;--&gt;\n\n        &lt;TextBox Grid.Row=\"2\" Grid.Column=\"0\" Grid.ColumnSpan=\"3\" Name=\"TxtLog\" IsReadOnly=\"True\"&gt;&lt;/TextBox&gt;\n\n        &lt;Button Grid.Row=\"3\" Grid.Column=\"0\" Click=\"ButtonRevertOnClick\"&gt;Revert back&lt;/Button&gt;\n        &lt;Button Grid.Row=\"3\" Grid.Column=\"2\" Click=\"ButtonFixOnClick\"&gt;Fix&lt;/Button&gt;\n    &lt;/Grid&gt;\n&lt;/Window&gt;\n\n\nusing System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Diagnostics;\nusing System.IO;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows;\nusing System.Windows.Controls;\nusing System.Windows.Data;\nusing System.Windows.Documents;\nusing System.Windows.Forms;\nusing System.Windows.Input;\nusing System.Windows.Media;\nusing System.Windows.Media.Imaging;\nusing System.Windows.Navigation;\nusing System.Windows.Shapes;\nusing System.Xml;\nusing System.Xml.Linq;\nusing Application = System.Windows.Application;\nusing MessageBox = System.Windows.MessageBox;\n\n/// &lt;summary&gt;\n/// Applying recommanded modifications in section : \"MSBuild-Integrated package restore vs. Automatic Package Restore\"\n/// of : http://docs.nuget.org/Consume/Package-Restore/Migrating-to-Automatic-Package-Restore\n/// &lt;/summary&gt;\n\nnamespace FixNuGetProblemsInVs2015\n{\n    /// &lt;summary&gt;\n    /// Interaction logic for MainWindow.xaml\n    /// &lt;/summary&gt;\n    public partial class MainWindow : Window\n    {\n        public MainWindow()\n        {\n            InitializeComponent();\n\n            DirProjects.Text = @\"c:\\prj\";\n            // DirPackages.Text = @\"C:\\PRJ\\NuGetPackages\";\n        }\n\n        private void BrowseDirProjectsOnClick(object sender, RoutedEventArgs e)\n        {\n            FolderBrowserDialog dlg = new FolderBrowserDialog();\n            dlg.SelectedPath = DirProjects.Text;\n            if (dlg.ShowDialog() == System.Windows.Forms.DialogResult.OK)\n            {\n                DirProjects.Text = dlg.SelectedPath;\n            }\n        }\n\n        //private void BrowseDirPackagesOnClick(object sender, RoutedEventArgs e)\n        //{\n        //  FolderBrowserDialog dlg = new FolderBrowserDialog();\n        //  dlg.SelectedPath = DirPackages.Text;\n        //  if (dlg.ShowDialog() == System.Windows.Forms.DialogResult.OK)\n        //  {\n        //      DirPackages.Text = dlg.SelectedPath;\n        //  }\n        //}\n\n        // private string _dirPackages;\n\n        private void ButtonFixOnClick(object sender, RoutedEventArgs e)\n        {\n            DoJob(false);\n        }\n\n        private void ButtonRevertOnClick(object sender, RoutedEventArgs e)\n        {\n            DoJob(true);\n        }\n\n        private void DoJob(bool revert = false)\n        {\n            TxtLog.Text = \"\";\n\n            string dirProjects = DirProjects.Text;\n            // _dirPackages = DirPackages.Text;\n\n            if (!Directory.Exists(dirProjects))\n            {\n                MessageBox.Show(\"Projects directory does not exists: \" + dirProjects);\n                return;\n            }\n\n            //if (!Directory.Exists(_dirPackages))\n            //{\n            //  MessageBox.Show(\"Packages directory does not exists: \" + _dirPackages);\n            //  return;\n            //}\n\n            RecurseFolder(dirProjects, revert);\n        }\n\n        private void RecurseFolder(string dirProjects, bool revert = false)\n        {\n            if (revert)\n            {\n                Revert(dirProjects);\n            }\n            else\n            {\n                FixFolder(dirProjects);\n            }\n\n            foreach (string subfolder in Directory.EnumerateDirectories(dirProjects))\n            {\n                RecurseFolder(subfolder, revert);\n            }\n        }\n\n        private const string BackupSuffix = \".fix_nuget_backup\";\n\n        private void Revert(string dirProject)\n        {\n            foreach (string filename in Directory.EnumerateFiles(dirProject))\n            {\n                if (filename.ToLower().EndsWith(BackupSuffix))\n                {\n                    string original = filename.Substring(0, filename.Length - BackupSuffix.Length);\n                    if (File.Exists(original))\n                    {\n                        File.Delete(original);                                          \n                    }\n                    File.Move(filename, original);\n                    Log(\"File reverted: \" + filename + \" ==&gt; \" + original);\n                }\n            }\n        }\n\n        private void FixFolder(string dirProject)\n        {\n            BackupFile(System.IO.Path.Combine(dirProject, \"nuget.targets\"));\n            BackupFile(System.IO.Path.Combine(dirProject, \"nuget.exe\"));\n\n            foreach (string filename in Directory.EnumerateFiles(dirProject))\n            {\n                if (filename.ToLower().EndsWith(\".csproj\"))\n                {\n                    FromProjectFileRemoveNugetTargets(filename);\n                }\n            }\n        }\n\n        private void BackupFile(string path)\n        {\n            if (File.Exists(path))\n            {\n                string backup = path + BackupSuffix;\n                if (!File.Exists(backup))\n                {\n                    File.Move(path, backup);\n                    Log(\"File backup: \" + backup);\n                }\n                else\n                {\n                    Log(\"Project has already a backup: \" + backup);\n                }\n            }\n        }\n\n        private void FromProjectFileRemoveNugetTargets(string prjFilename)\n        {\n            XDocument xml = XDocument.Load(prjFilename);\n\n            List&lt;XElement&gt; elementsToRemove = new List&lt;XElement&gt;();\n\n            foreach (XElement element in xml.Descendants())\n            {\n                if (element.Name.LocalName == \"Import\")\n                {\n                    var att = element.Attribute(\"Project\");\n                    if (att != null)\n                    {\n                        if (att.Value.Contains(\"NuGet.targets\"))\n                        {\n                            elementsToRemove.Add(element);\n                        }\n                    }\n                }\n\n                if (element.Name.LocalName == \"Target\")\n                {\n                    var att = element.Attribute(\"Name\");\n                    if (att != null &amp;&amp; att.Value == \"EnsureNuGetPackageBuildImports\")\n                    {\n                        elementsToRemove.Add(element);\n                    }\n                }\n            }\n\n            if (elementsToRemove.Count &gt; 0)\n            {\n                elementsToRemove.ForEach(element =&gt; element.Remove());\n                BackupFile(prjFilename);\n                xml.Save(prjFilename);\n                Log(\"Project updated: \" + prjFilename);\n            }\n        }\n\n        private void Log(string msg)\n        {\n            TxtLog.Text += msg + \"\\r\\n\";\n        }\n\n    }\n}\n</code></pre>\n", "title": "How do I Enable NuGet Package Restore in Visual Studio 2015", "answer_id": 33287897, "link": "http://stackoverflow.com/questions/27895504/how-do-i-enable-nuget-package-restore-in-visual-studio-2015/33287897#33287897", "tags": ["c#", "asp.net", "nuget", "visual-studio-2015", "nuget-package-restore"]}, {"body": "<p><strong>Ivan Branets</strong> 's solution is essential what fixed this for me, but some more details could be shared.</p>\n\n<p>In my case, I was in <strong>VS 2015</strong> using <strong>Auto Package restore</strong> and <strong>TFS</strong>.  This is all pretty default stuff.</p>\n\n<p>The problem was that when another developer tried to get a solution from TFS, some packages were not fully getting restored.  (Why, that I'm not quite sure yet.)  But the packages folder contained a folder for the reference, and the nuget package, but it wasn't getting expanded (say a lib folder containing a .dll was missing.)  This half there, but not really quite right concept was preventing the package from being restored.</p>\n\n<p>You'll recognize this because the reference will have a yellow exclamation point about not being resolved.</p>\n\n<p>So, the <strong>solution</strong> of <strong>deleting the folder within packages</strong> removes the package restore blocking issue.  Then you can <strong>right click at the top solution level</strong> to get the option to <strong>restore packages</strong>, and now it should work.</p>\n", "title": "How do I Enable NuGet Package Restore in Visual Studio 2015", "answer_id": 33548607, "link": "http://stackoverflow.com/questions/27895504/how-do-i-enable-nuget-package-restore-in-visual-studio-2015/33548607#33548607", "tags": ["c#", "asp.net", "nuget", "visual-studio-2015", "nuget-package-restore"]}, {"body": "<p>Install nuget.exe so that you will get an option \"Restore Nuget Packages\"</p>\n", "title": "How do I Enable NuGet Package Restore in Visual Studio 2015", "answer_id": 33953172, "link": "http://stackoverflow.com/questions/27895504/how-do-i-enable-nuget-package-restore-in-visual-studio-2015/33953172#33953172", "tags": ["c#", "asp.net", "nuget", "visual-studio-2015", "nuget-package-restore"]}, {"body": "<p>Even simpler, add a .nuget folder to your solution and the 'Restore Nuget Packages' will appear (not sure whether nuget.exe needs to be present for it to work). </p>\n", "title": "How do I Enable NuGet Package Restore in Visual Studio 2015", "answer_id": 34124378, "link": "http://stackoverflow.com/questions/27895504/how-do-i-enable-nuget-package-restore-in-visual-studio-2015/34124378#34124378", "tags": ["c#", "asp.net", "nuget", "visual-studio-2015", "nuget-package-restore"]}, {"body": "<p>Go at References in visual studio and look at which packages are missing.\nNow right click on Solution in Visual and click on open folder in file explorer.\nNow open packages folder and delete missing packages folder.\nOpen visual studio and just build the solution. all the missing packages will be restore.\nPlease mark this as answer if I helped.</p>\n", "title": "How do I Enable NuGet Package Restore in Visual Studio 2015", "answer_id": 37237627, "link": "http://stackoverflow.com/questions/27895504/how-do-i-enable-nuget-package-restore-in-visual-studio-2015/37237627#37237627", "tags": ["c#", "asp.net", "nuget", "visual-studio-2015", "nuget-package-restore"]}, {"body": "<p>This approach worked for me: </p>\n\n<ul>\n<li>Close VS2015</li>\n<li>Open the solution temporarily in VS2013 and enable <em>nuget package restore</em> by right clicking on the solution (i also did a rebuild, but I suspect that is not needed). </li>\n<li>Close VS2013</li>\n<li>Reopen the solution in VS2015</li>\n</ul>\n\n<p>You have now enabled <em>nuget package restore</em> in VS2015 as well.</p>\n", "title": "How do I Enable NuGet Package Restore in Visual Studio 2015", "answer_id": 38902267, "link": "http://stackoverflow.com/questions/27895504/how-do-i-enable-nuget-package-restore-in-visual-studio-2015/38902267#38902267", "tags": ["c#", "asp.net", "nuget", "visual-studio-2015", "nuget-package-restore"]}, {"body": "<p>I faced the same issue while trying to build sample project <a href=\"https://github.com/googleplus/gplus-quickstart-csharp\" rel=\"nofollow\">gplus-quickstart-csharp-master</a>.</p>\n\n<p>I looked closely error message and found a workaround from overcoming this error, hopefully, this will help.</p>\n\n<ul>\n<li>Right click on solution file and open in windows explorer. </li>\n<li>Copy <strong>.nuget</strong> folder with <strong>NuGet.Config, NuGet.exe,  NuGet.targets</strong> (download <a href=\"https://docs.nuget.org/create/creating-and-publishing-a-package\" rel=\"nofollow\">link</a> or simply copy from other project and replaced)</li>\n<li>Try to rebuild solution.</li>\n</ul>\n\n<p>Enjoy !!</p>\n", "title": "How do I Enable NuGet Package Restore in Visual Studio 2015", "answer_id": 39369168, "link": "http://stackoverflow.com/questions/27895504/how-do-i-enable-nuget-package-restore-in-visual-studio-2015/39369168#39369168", "tags": ["c#", "asp.net", "nuget", "visual-studio-2015", "nuget-package-restore"]}], "question_id": 27895504}, {"body": "<p>My daily job is client developer using AngularJS. We are evaluating if we want to go with TypeScript. I did some research on typescript and almost every JavaScript package I need must have definition type files. I found that is not very convenient, especially if I would like to try something new and they don't have the definition for it. Its really frustrating. (The current jQuery definition even give me some problem if I want to use typescript 1.5 beta). I started looking at ES6 and it looks similar to TypeScript. Should I just use ES6 instead? Also, I heard angular 2 will have full support for TypeScript, will that be one reason I should stay with it?</p>\n", "title": "Should I use typescript? or I can just use ES6?", "tags": ["angularjs", "typescript", "ecmascript-6"], "answer_count": 2, "link": "http://stackoverflow.com/questions/30807612/should-i-use-typescript-or-i-can-just-use-es6", "answers": [{"body": "<p>I've been using Typescript in my current angular project for about a year and a half and while there are a few issues with definitions every now and then the <a href=\"https://github.com/borisyankov/DefinitelyTyped\">DefinitelyTyped</a> project does an amazing job at keeping up with the latest versions of most popular libraries.</p>\n\n<p>Having said that there is a definite learning curve when transition from vanilla JavaScript to TS and you should take into account the ability of you and your team to make that transition. Also if you are going to be using angular 1.x most of the examples you will find online will require you to translate them from JS to TS and overall there are not a lot of resources on using TS and angular 1.x together right now.</p>\n\n<p>If you plan on using angular 2 there are a lot of examples using TS and I think the team will continue to provide most of the documentation in TS, but you certainly don't have to use TS to use angular 2. </p>\n\n<p>ES6 does have some nice features and I personally plan on getting more familiar with it but I would not consider it a production ready language at this point. Mainly due to a lack of support by current browsers. See <a href=\"http://stackoverflow.com/a/13355617/2725843\">this</a> SO answer for more details. Of course you can write you code and ES6 and use a transpiler to get it to ES5, which seems to be the popular thing to do right now.</p>\n\n<p>Overall I think the answer would come down to what you and your team are comfortable learning. I personally think both TS and ES6 will have good support and long futures, I prefer TS though because you tend to get language features quicker and right now the tooling support(in my opinion) is a little better.</p>\n", "title": "Should I use typescript? or I can just use ES6?", "answer_id": 30807922, "link": "http://stackoverflow.com/questions/30807612/should-i-use-typescript-or-i-can-just-use-es6/30807922#30807922", "tags": ["angularjs", "typescript", "ecmascript-6"]}, {"body": "<p>Decision tree between ES5, ES6 and TypeScript</p>\n\n<blockquote>\n  <p>Do you mind having a build step?</p>\n</blockquote>\n\n<ul>\n<li>Yes - <strong>Use ES5</strong></li>\n<li>No - keep going</li>\n</ul>\n\n<blockquote>\n  <p>Do you want to use types?</p>\n</blockquote>\n\n<ul>\n<li>Yes - <strong>Use TypeScript</strong></li>\n<li>No - <strong>Use ES6</strong></li>\n</ul>\n\n<h2>More Details</h2>\n\n<p><strong>ES5</strong> is the JavaScript you know and use in the browser today it is what it is and does not require a build step to transform it into something that will run in today's browsers</p>\n\n<p><strong>ES6</strong> is the next iteration of JavaScript, but it does not run in today's browsers. There are quite a few transpilers that will export ES5 for running in browsers. It is still a dynamic (read: untyped) language.</p>\n\n<p><strong>TypeScript</strong> provides an optional typing system while pulling in features from future versions of JavaScript (ES6 and ES7).</p>\n\n<p>Note: a lot of the transpilers out there (i.e. babel, TypeScript) will allow you to use features from future versions of JavaScript today and exporting code that will still run in today's browsers.</p>\n", "title": "Should I use typescript? or I can just use ES6?", "answer_id": 30808797, "link": "http://stackoverflow.com/questions/30807612/should-i-use-typescript-or-i-can-just-use-es6/30808797#30808797", "tags": ["angularjs", "typescript", "ecmascript-6"]}], "question_id": 30807612}, {"body": "<p>In the process of answering <a href=\"http://stackoverflow.com/q/28266382/3959454\">another question</a> I stumbled upon slightly different wordings for <code>std::vector::erase()</code> and <code>std::deque::erase()</code>. </p>\n\n<p>This is what C++14 says about <code>std::deque::erase</code> (<code>[deque.modifiers]/4-6</code>, emphasis mine):</p>\n\n<blockquote>\n  <p><em>Effects:</em> ...</p>\n  \n  <p><em>Complexity:</em> The number of calls to the destructor is the same as the number of elements erased, but\n  The number of calls to the <strong>assignment operator</strong> is no more than the lesser of the number of elements\n  Before the erased elements and the number of elements after the erased elements.</p>\n  \n  <p><em>Throws:</em> Nothing unless an exception is thrown by the copy constructor, move constructor, assignment operator, or move assignment operator of <code>T</code>.</p>\n</blockquote>\n\n<p>And here is what it says about <code>std::vector::erase</code> (<code>[vector.modifiers]/3-5</code>):</p>\n\n<blockquote>\n  <p><em>Effects:</em> ...</p>\n  \n  <p><em>Complexity:</em> The destructor of <code>T</code> is called the number of times equal to the number of the elements erased, but the <strong>move assignment operator</strong> of <code>T</code> is called the number of times equal to the number of elements in the vector after the erased elements.</p>\n  \n  <p><em>Throws:</em> Nothing unless an exception is thrown by the copy constructor, move constructor, assignment operator, or move assignment operator of <code>T</code>.</p>\n</blockquote>\n\n<p>As you can see, the exception specifications for both of them are the same, but for <code>std::vector</code> it's explicitly mentioned that move assignment operator is called.</p>\n\n<p>There's also requirement for <code>T</code> to be <code>MoveAssignable</code> for <code>erase()</code> to work with both <code>std::vector</code> and <code>std::deque</code> (Table 100), but this doesn't imply the presence of the move assignment operator: one can define a copy assignment operator, and not define move assignment operator, and this class will be <code>MoveAssignable</code>.</p>\n\n<p>Just in case, I checked with GCC and Clang, and indeed <code>std::vector::erase()</code> calls copy assignment operator if there's no move assignment operator, and <code>std::deque::erase()</code> does the same (<a href=\"http://coliru.stacked-crooked.com/a/c9377a2ee408fa16\">DEMO</a>).</p>\n\n<p>So the question is: did I miss something, or this is an (editorial) issue in the standard?</p>\n\n<p><strong>Update:</strong>\nI've submitted an <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/lwg-active.html#2477\">LWG issue #2477</a>.</p>\n", "title": "Copy/move assignment in std::vector::erase() and std::deque::erase()", "tags": ["c++", "language-lawyer", "c++14"], "answer_count": 1, "link": "http://stackoverflow.com/questions/28277982/copy-move-assignment-in-stdvectorerase-and-stddequeerase", "answers": [{"body": "<p>At Lenexa meeting the issue <a href=\"http://cplusplus.github.io/LWG/lwg-active.html#2477\">got Immediate status</a> with proposed resolution:</p>\n\n<blockquote>\n  <p>This wording is relative to N4296.</p>\n  \n  <p>Change 23.3.3.4 [deque.modifiers]/5 to:</p>\n  \n  <p>-5- <em>Complexity</em>: The number of calls to the destructor <strong>of <code>T</code></strong> is the same as the number of elements erased, but the number of calls to the assignment operator <strong>of <code>T</code></strong> is no more than the lesser of the number of elements before the erased elements and the number of elements after the erased elements.</p>\n  \n  <p>Change 23.3.6.5 [vector.modifiers]/4 to:</p>\n  \n  <p>-4- <em>Complexity</em>: The destructor of <code>T</code> is called the number of times equal to the number of the elements erased, but the <s>move</s> assignment operator of <code>T</code> is called the number of times equal to the number of elements in the vector after the erased elements.</p>\n</blockquote>\n\n<p>That is, if the resolution is accepted there will be no special mention of the move assignment for <code>std::vector::erase</code>, and also the wording for <code>std::deque::erase</code> will be\nclarified a bit.</p>\n", "title": "Copy/move assignment in std::vector::erase() and std::deque::erase()", "answer_id": 30244945, "link": "http://stackoverflow.com/questions/28277982/copy-move-assignment-in-stdvectorerase-and-stddequeerase/30244945#30244945", "tags": ["c++", "language-lawyer", "c++14"]}], "question_id": 28277982}, {"body": "<p>Android Docs say:</p>\n\n<blockquote>\n  <p>The RecyclerView widget is a more advanced and flexible version of\n  ListView. This widget is a container for displaying large data sets\n  that can be scrolled very efficiently by maintaining a limited number\n  of views. Use the RecyclerView widget when you have data collections\n  whose elements change at runtime based on user action or network\n  events</p>\n</blockquote>\n\n<p>Actually <code>ListView</code> can do all of the above if efficiency doesn't matter, and we have found many issues when we use <code>RecyclerView</code> to replace <code>ListView</code>:</p>\n\n<ol>\n<li><p>There is no onItemClickListener() for list item selection - <a href=\"http://stackoverflow.com/questions/24885223/why-doesnt-recyclerview-have-onitemclicklistener-and-how-recyclerview-is-dif\">solution</a></p></li>\n<li><p>No divider between list items - <a href=\"http://stackoverflow.com/questions/24618829/how-to-add-dividers-and-spaces-between-items-in-recyclerview\">solution</a></p></li>\n<li><p>No built-in overlap selector, there is no visual feedback when you click list item - <a href=\"http://blog.stylingandroid.com/material-part-5/\">solution</a></p></li>\n<li><p>No <strong>addHeaderView</strong> for list header - <a href=\"http://stackoverflow.com/questions/26530685/is-there-an-addheaderview-equivalent-for-recyclerview\">solution</a></p></li>\n</ol>\n\n<p>Maybe more issues ...</p>\n\n<p>So when we use <code>RecyclerView</code> to replace <code>ListView</code>, we have to do much extra coding to reach the same effect as <code>ListView</code>.</p>\n\n<p><br> </p>\n\n<p><strong>QUESTION:</strong></p>\n\n<blockquote>\n  <ul>\n  <li>Is it worth that we replace <code>ListView</code> with <code>RecyclerView</code> totally ?   </li>\n  <li>if not then in which case should we better use <code>RecyclerView</code> instead <code>ListView</code>, and vice versa ? </li>\n  </ul>\n</blockquote>\n\n<p>Thanks for your attention and any idea!</p>\n", "title": "Should we use RecyclerView to replace ListView?", "tags": ["android", "listview", "recyclerview"], "answer_count": 4, "link": "http://stackoverflow.com/questions/28392554/should-we-use-recyclerview-to-replace-listview", "answers": [{"body": "<p><strong>1</strong> You can use an interface to provide a click listener. I use this technique with ListViews, too.<br>\n<strong>2</strong> No divider: Simply add in your row a View with a width of <strong>match_parent</strong> and a height of <strong>1dp</strong> and give it a <strong>background color</strong>.<br>\n<strong>3</strong> Simply use a StateList selector for the row background.<br>\n<strong>4</strong>  addHeaderView can be avoided in ListViews, too: simply put the Header <strong>outside</strong> the View.</p>\n\n<p>So, if efficiency is your concern, then <strong>yes</strong>, it's a good idea to replace a ListView with a RecyclerView.</p>\n", "title": "Should we use RecyclerView to replace ListView?", "answer_id": 28392901, "link": "http://stackoverflow.com/questions/28392554/should-we-use-recyclerview-to-replace-listview/28392901#28392901", "tags": ["android", "listview", "recyclerview"]}, {"body": "<p>If ListView works for you, there is no reason to migrate.\nIf you are writing a new UI, you might be better off with RecyclerView.</p>\n\n<p>RecyclerView is powerful when you need to customize your list or you want better animations. Those convenience methods in ListView caused a lot of trouble to people which is why RecyclerView provides a more flexible solution to them.</p>\n\n<p>The major change you need to make for migration is in your adapter. If you want to keep calling <code>notifyDataSetChanged</code>, you lose most of the animation &amp; binding benefits. But if you can change your adapter to dispatch detailed notify events (added/removed/moved/updated), then you get much better animations and performance. These events let RecyclerView choose correct animations and it also helps it avoid unnecessary <code>onBind</code> calls. You'll get a huge benefit if your item views are complex. Also, going forward, there will be more components around RecyclerView.</p>\n", "title": "Should we use RecyclerView to replace ListView?", "answer_id": 28398488, "link": "http://stackoverflow.com/questions/28392554/should-we-use-recyclerview-to-replace-listview/28398488#28398488", "tags": ["android", "listview", "recyclerview"]}, {"body": "<p>The only case when it's still fine to use ListView is when the list is not dynamic or affected by network events. For example: navigation.   </p>\n\n<p>For any other uses, RecyclerView eclipses ListView. Since RecyclerView only cares about recycling it will be easier to do visual related things that were tightly coupled in ListView, like changing position / rearrangement, animation (in fact it comes with RecyclerView.ItemAnimator), custom layouts (the stock has StaggeredGrid in addition to the old list or grid style but there's also this <a href=\"https://github.com/lucasr/twoway-view\" rel=\"nofollow\">library</a> which extends it even more).</p>\n\n<p>Also if you want to use CardView I believe it's the only way to go (some <a href=\"http://www.google.com/design/spec/components/cards.html#cards-usage\" rel=\"nofollow\">good reading</a> when to use card or list).</p>\n", "title": "Should we use RecyclerView to replace ListView?", "answer_id": 29523766, "link": "http://stackoverflow.com/questions/28392554/should-we-use-recyclerview-to-replace-listview/29523766#29523766", "tags": ["android", "listview", "recyclerview"]}, {"body": "<p>According to me, if ListView fulfills all the current needs of your app and satisfies all use-cases then there is no need to replace it with a RecyclerView.</p>\n\n<p>The RecyclerView gives huge power to its developers at the cost of increasing the complexity for the developers. There are certain things which could be done easily in a ListView can now take a lot of unnecessary effort. </p>\n\n<p>But yes, there are many things that a ListView can never do, like the amazing LayoutManager feature which can allow you to dynamically change the layout to horizontal, vertical, grid, or staggered grid seamlessly.</p>\n\n<p>I wrote a detailed answer on this topic <a href=\"http://stackoverflow.com/a/31199564/2858654\">here</a>.</p>\n", "title": "Should we use RecyclerView to replace ListView?", "answer_id": 31199704, "link": "http://stackoverflow.com/questions/28392554/should-we-use-recyclerview-to-replace-listview/31199704#31199704", "tags": ["android", "listview", "recyclerview"]}], "question_id": 28392554}, {"body": "<p>I was hoping to embed a Haskell interpreter using <code>hint</code> so that I could write plugins in Haskell to use with my program. I don't want to have to ship the damn Haskell platform for my executables. Normally, Haskell executables are pretty self-contained. For example, erasing the <code>PATH</code> does not cause a problem:</p>\n\n<pre><code>$ PATH=. Hello\nHello world\n</code></pre>\n\n<p>However, a simple test program using <code>runInterpreter</code> bombs if I erase the <code>PATH</code>:</p>\n\n<pre><code>$ PATH=. TryHint\nGhcException \"panic! (the 'impossible' happened)\\n  (GHC version 7.8.3 for x86_64-apple-darwin):\\n\\tDynamic linker not initialised\\n\\nPlease report this as a GHC bug:  http://www.haskell.org/ghc/reportabug\\n\"\n</code></pre>\n\n<p><strong>What libraries or executables have to be available in the environment for it to work?</strong></p>\n\n<p><code>otool</code> doesn't give much guidance:</p>\n\n<pre><code>otool -L TryHint\nTryHint:\n    /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1213.0.0)\n    /usr/lib/libiconv.2.dylib (compatibility version 7.0.0, current version 7.0.0)\n    /usr/local/lib/libgmp.10.dylib (compatibility version 13.0.0, current version 13.0.0)\n</code></pre>\n\n<p>The test code for <code>TryHint</code> does not do much:</p>\n\n<pre><code>import Control.Monad\nimport Language.Haskell.Interpreter\n\nmain = do\n  f &lt;- runInterpreter $ loadModules [\"Test\"] &gt;&gt; setTopLevelModules [\"Test\"] &gt;&gt; interpret \"f\" (as :: Int -&gt; Int)\n  case f of\n    Left e -&gt; print e\n    Right r -&gt; mapM_ (print . r) [1..10]\n</code></pre>\n\n<p>It just binds <code>f</code> to a function in <code>Test.hs</code> to be interpreted at run-time. <code>Test.hs</code> looks like this:</p>\n\n<pre><code>module Test where\nf :: Int -&gt; Int\nf x = x + 1\n</code></pre>\n", "title": "How to ship an executable with Language.Haskell.Interpreter?", "tags": ["haskell"], "answer_count": 1, "link": "http://stackoverflow.com/questions/28204973/how-to-ship-an-executable-with-language-haskell-interpreter", "answers": [{"body": "<p>Shipping an executable with <code>Language.Haskell.Interpreter</code> seems to go perfect with the way you have shown. You have to set your <code>PATH</code> to the script you want to execute.</p>\n\n<p>And as of side note, as mentioned by @bennofs in comments, Statically linking the GHC API doesn't work with the new dynamic linker introduced in GHC 7.8, (interactive code execution now requires dynamic libraries).</p>\n", "title": "How to ship an executable with Language.Haskell.Interpreter?", "answer_id": 30992842, "link": "http://stackoverflow.com/questions/28204973/how-to-ship-an-executable-with-language-haskell-interpreter/30992842#30992842", "tags": ["haskell"]}], "question_id": 28204973}, {"body": "<p>I have found a function that calculates square of a number:</p>\n\n<pre><code>int p(int n) {\n    int a[n]; //works on C99 and above\n    return (&amp;a)[n] - a;\n}\n</code></pre>\n\n<p>It returns value of n<sup>2</sup>. Question is, how does it do that? After a little testing, I found that between <code>(&amp;a)[k]</code> and <code>(&amp;a)[k+1]</code> is <code>sizeof(a)</code>/<code>sizeof(int)</code>. Why is that?</p>\n", "title": "Can&#39;t understand this way to calculate the square of a number", "tags": ["c", "arrays", "pointers", "c99", "variable-length-array"], "answer_count": 5, "link": "http://stackoverflow.com/questions/27828822/cant-understand-this-way-to-calculate-the-square-of-a-number", "answers": [{"body": "<p><code>a</code> is a (variable) array of <code>n</code> <code>int</code>.</p>\n\n<p><code>&amp;a</code> is a pointer to a (variable) array of <code>n</code> <code>int</code>.</p>\n\n<p><code>(&amp;a)[1]</code> is a pointer of <code>int</code> one <code>int</code> past the last array element. This pointer is <code>n</code> <code>int</code> elements after <code>&amp;a[0]</code>.</p>\n\n<p><code>(&amp;a)[2]</code> is a pointer of <code>int</code> one <code>int</code> past the last array element of two arrays. This pointer is <code>2 * n</code> <code>int</code> elements after <code>&amp;a[0]</code>.</p>\n\n<p><code>(&amp;a)[n]</code> is a pointer of <code>int</code> one <code>int</code> past the last array element of <code>n</code> arrays. This pointer is <code>n * n</code> <code>int</code> elements after <code>&amp;a[0]</code>. Just subtract <code>&amp;a[0]</code> or <code>a</code> and you have <code>n</code>.</p>\n\n<p>Of course this is technically undefined behavior even if it works on your machine as <code>(&amp;a)[n]</code> does not point inside the array or one past the last array element (as required by the C rules of pointer arithmetic).</p>\n", "title": "Can&#39;t understand this way to calculate the square of a number", "answer_id": 27828960, "link": "http://stackoverflow.com/questions/27828822/cant-understand-this-way-to-calculate-the-square-of-a-number/27828960#27828960", "tags": ["c", "arrays", "pointers", "c99", "variable-length-array"]}, {"body": "<p>Obviously a hack... but a way of squaring a number without using the <code>*</code> operator (this was a coding contest requirement). </p>\n\n<pre><code>(&amp;a)[n] \n</code></pre>\n\n<p>is equivalent to a pointer to <code>int</code> at location</p>\n\n<pre><code>(a + sizeof(a[n])*n)\n</code></pre>\n\n<p>and thus the entire expression is</p>\n\n<pre><code>  (&amp;a)[n] -a \n\n= (a + sizeof(a[n])*n -a) /sizeof(int)\n\n= sizeof(a[n])*n / sizeof(int)\n= sizeof(int) * n * n / sizeof(int)\n= n * n\n</code></pre>\n", "title": "Can&#39;t understand this way to calculate the square of a number", "answer_id": 27828983, "link": "http://stackoverflow.com/questions/27828822/cant-understand-this-way-to-calculate-the-square-of-a-number/27828983#27828983", "tags": ["c", "arrays", "pointers", "c99", "variable-length-array"]}, {"body": "<p>If you have two pointers that point to two elements of the same array then its difference will yield the number of elements between these pointers. For example this code snippet will output 2.</p>\n\n<pre><code>int a[10];\n\nint *p1 = &amp;a[1];\nint *p2 = &amp;a[3];\n\nprintf( \"%d\\n\", p2 - p1 ); \n</code></pre>\n\n<p>Now let consider expression</p>\n\n<pre><code>(&amp;a)[n] - a;\n</code></pre>\n\n<p>In this expression <code>a</code> has type <code>int *</code> and points to its first element.</p>\n\n<p>Expression <code>&amp;a</code> has type <code>int ( * )[n]</code> and points to the first row of imaged two dimensional array. Its value matches the value of <code>a</code> though types are different.</p>\n\n<pre><code>( &amp;a )[n]\n</code></pre>\n\n<p>is n-th element of this imaged two dimensional array and has type <code>int[n]</code> That is it is n-th row of the imaged array. In expression <code>(&amp;a)[n] - a</code> it is converted to the address of its first element and has type `int *.</p>\n\n<p>So between  <code>(&amp;a)[n]</code> and <code>a</code> there are n rows of n elements. So the difference will be equal to <code>n * n</code>.</p>\n", "title": "Can&#39;t understand this way to calculate the square of a number", "answer_id": 27829061, "link": "http://stackoverflow.com/questions/27828822/cant-understand-this-way-to-calculate-the-square-of-a-number/27829061#27829061", "tags": ["c", "arrays", "pointers", "c99", "variable-length-array"]}, {"body": "<p>To understand this hack, first you need to understand the pointer difference, i.e, what happens when two pointers pointing to elements of <em>same array</em> are subtracted?  </p>\n\n<p>When one pointer is subtracted from another, the result is the distance (measured in array elements) between the pointers. So, if <code>p</code> points to <code>a[i]</code> and <code>q</code> points to <code>a[j]</code>, then <strong><code>p - q</code> is equal to <code>i - j</code></strong>.   </p>\n\n<h3>C11: 6.5.6 Additive operators (p9):</h3>\n\n<blockquote>\n  <p><strong>When two pointers are subtracted</strong>, both shall point to elements of the same array object, or one past the last element of the array object; <strong>the result is the difference of the subscripts of the two array elements</strong>. [...].<br>\n  In other words, if the expressions <code>P</code> and <code>Q</code> point to, respectively, the <code>i</code>-th and <code>j</code>-th elements of an array object, <strong>the expression <code>(P)-(Q)</code> has the value <code>i\u2212j</code></strong> provided the value fits in an object of type <code>ptrdiff_t</code>. </p>\n</blockquote>\n\n<p>Now I am expecting that you are aware of array name conversion to pointer, <code>a</code> converts to pointer to first element of array <code>a</code>. <code>&amp;a</code> is address of the entire memory block, i.e it is an address of array <code>a</code>. The figure below will help you to understand (<sub>read <a href=\"http://stackoverflow.com/a/24468853/2455888\">this answer</a> for detailed explanation</sub>):    </p>\n\n<p><img src=\"http://i.stack.imgur.com/rjnjc.png\" alt=\"enter image description here\"></p>\n\n<p>This will help you to understand that why <code>a</code> and <code>&amp;a</code> has the same address and how <code>(&amp;a)[i]</code> is the address of i<sup>th</sup> array (of same size as that of <code>a</code>).  </p>\n\n<p>So, the statement   </p>\n\n<pre><code>return (&amp;a)[n] - a; \n</code></pre>\n\n<p>is equivalent to  </p>\n\n<pre><code>return (&amp;a)[n] - (&amp;a)[0];  \n</code></pre>\n\n<p>and this difference will give the number of elements between the pointers <code>(&amp;a)[n]</code> and <code>(&amp;a)[0]</code>, which are <code>n</code> arrays each of <code>n</code> <code>int</code> elements. Therefore, total array elements are <code>n*n</code> = <code>n</code><sup>2</sup>.  </p>\n\n<hr>\n\n<p><strong>NOTE:</strong>  </p>\n\n<h3>C11: 6.5.6 Additive operators (p9):</h3>\n\n<blockquote>\n  <p>When two pointers are subtracted, <strong>both shall point to elements of the same array object,\n  or one past the last element of the array object</strong>; the result is the difference of the\n  subscripts of the two array elements. <em>The size of the result is implementation-defined</em>,\n  and its type (a signed integer type) is <code>ptrdiff_t</code> defined in the <code>&lt;stddef.h&gt;</code> header.\n  If the result is not representable in an object of that type, the behavior is undefined.  </p>\n</blockquote>\n\n<p>Since <code>(&amp;a)[n]</code> neither points to elements of the same array object nor one past the last element of the array object, <code>(&amp;a)[n] - a</code> will invoke <strong>undefined behavior</strong>.</p>\n\n<p>Also note that, better to change the return type of function <code>p</code> to <code>ptrdiff_t</code>.  </p>\n", "title": "Can&#39;t understand this way to calculate the square of a number", "answer_id": 27830842, "link": "http://stackoverflow.com/questions/27828822/cant-understand-this-way-to-calculate-the-square-of-a-number/27830842#27830842", "tags": ["c", "arrays", "pointers", "c99", "variable-length-array"]}, {"body": "<pre><code>Expression     | Value                | Explanation\na              | a                    | point to array of int elements\na[n]           | a + n*sizeof(int)    | refer to n-th element in array of int elements\n-------------------------------------------------------------------------------------------------\n&amp;a             | a                    | point to array of (n int elements array)\n(&amp;a)[n]        | a + n*sizeof(int[n]) | refer to n-th element in array of (n int elements array)\n-------------------------------------------------------------------------------------------------\nsizeof(int[n]) | n * sizeof(int)      | int[n] is a type of n-int-element array\n</code></pre>\n\n<p>Thus,</p>\n\n<ol>\n<li>type of <code>(&amp;a)[n]</code> is <code>int[n]</code> pointer</li>\n<li>type of <code>a</code> is <code>int</code> pointer</li>\n</ol>\n\n<p>Now the expression <code>(&amp;a)[n]-a</code> performs a pointer substraction:</p>\n\n<pre><code>  (&amp;a)[n]-a\n= ((a + n*sizeof(int[n])) - a) / sizeof(int)\n= (n * sizeof(int[n])) / sizeof(int)\n= (n * n * sizeof(int)) / sizeof(int)\n= n * n\n</code></pre>\n", "title": "Can&#39;t understand this way to calculate the square of a number", "answer_id": 27935288, "link": "http://stackoverflow.com/questions/27828822/cant-understand-this-way-to-calculate-the-square-of-a-number/27935288#27935288", "tags": ["c", "arrays", "pointers", "c99", "variable-length-array"]}], "question_id": 27828822}, {"body": "<p>I would like to have an alternative to a standard checkbox - basically I'd like to use images and when the user clicks the image, fade it out and overlay a tick box.</p>\n\n<p>In essence, I want to do something like Recaptcha 2 does when it gets you to click images that meet a certain criteria. You can <a href=\"https://www.google.com/recaptcha/api2/demo\">see a Recaptcha demo here</a> but it might sometimes get you to solve text questions, as opposed to the image selection. So here's a screenshot:</p>\n\n<p><img src=\"http://i.stack.imgur.com/d0yEE.png\" alt=\"Google Recaptcha screenshot\"></p>\n\n<p>When you click one of the images (in this case, containing a picture of steak), the image you click shrinks in size and the blue tick appears, indicating that you've ticked it.</p>\n\n<p>Let's say I want to reproduce this exact example.</p>\n\n<p>I realise I can have 9 hidden checkboxes, and attach some jQuery so that when I click the image, it selects/deselects the hidden checkbox. But what about the shrinking of the image/overlaying the tick?</p>\n", "title": "Use images like checkboxes", "tags": ["jquery", "css", "html5"], "answer_count": 7, "link": "http://stackoverflow.com/questions/30663562/use-images-like-checkboxes", "answers": [{"body": "<h1>Pure semantic HTML/CSS solution</h1>\n\n<p>This is easy to implement on your own, no pre-made solution necessary. Also it will teach you alot as you don't seem too easy with CSS. </p>\n\n<h2>This is what you need to do:</h2>\n\n<p>Your checkboxes need to have distinct <code>id</code> attributes. This allows you to connect a <code>&lt;label&gt;</code> to it, using the label's <code>for</code>-attribute.</p>\n\n<p>Example:</p>\n\n<pre><code>&lt;input type=\"checkbox\" id=\"myCheckbox1\" /&gt;\n&lt;label for=\"myCheckbox1\"&gt;&lt;img src=\"http://someurl\" /&gt;&lt;/label&gt;\n</code></pre>\n\n<p>Attaching the label to the checkbox will trigger a browser behaviour: Whenever someone clicks the label (or the image inside it), the checkbox will be toggled.</p>\n\n<p>Next, you hide the checkbox by applying for example <code>display: none;</code> to it.</p>\n\n<p>Now all that is left to do is set the style you want for your label:before pseudo element (the checkbox replacement elements):</p>\n\n<pre><code>label:before {\n    background-image: url(../path/to/unchecked.png);\n}\n</code></pre>\n\n<p>In a last tricky step, you make use of CSS' <code>:checked</code> selector to change the image when the checkbox is checked:</p>\n\n<pre><code>:checked + label:before {\n    background-image: url(../path/to/checked.png);\n}\n</code></pre>\n\n<p>The <code>+</code> (<em>adjacent sibling selector</em>) makes sure you only change labels that directly follow the hidden checkbox in the markup.</p>\n\n<p>You can optimize that by putting both images in a spritemap and only applying a change in <code>background-position</code> instead of swapping the image.</p>\n\n<p>Of course you need to position the label correctly and apply <code>display: block;</code> and set correct <code>width</code> and <code>height</code>.</p>\n\n<h2>Edit:</h2>\n\n<p>The codepen example and snippet, which I created after these instructions, use the same technique, <strong>but instead of using images for the checkboxes, the checkbox replacements are done purely with CSS</strong>, creating a <code>:before</code> on the label that, once checked, has <code>content: \"\u2713\";</code>. Add some rounded borders and sweet transitions and the result is really likable!</p>\n\n<p>Here is a working codepen that showcases the technique and doesn't require images for the checkbox:</p>\n\n<blockquote>\n  <p><a href=\"http://codepen.io/anon/pen/wadwpx\">http://codepen.io/anon/pen/wadwpx</a></p>\n</blockquote>\n\n<p>Here is the same code in a snippet:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>ul {\r\n  list-style-type: none;\r\n}\r\n\r\nli {\r\n  display: inline-block;\r\n}\r\n\r\ninput[type=\"checkbox\"][id^=\"cb\"] {\r\n  display: none;\r\n}\r\n\r\nlabel {\r\n  border: 1px solid #fff;\r\n  padding: 10px;\r\n  display: block;\r\n  position: relative;\r\n  margin: 10px;\r\n  cursor: pointer;\r\n}\r\n\r\nlabel:before {\r\n  background-color: white;\r\n  color: white;\r\n  content: \" \";\r\n  display: block;\r\n  border-radius: 50%;\r\n  border: 1px solid grey;\r\n  position: absolute;\r\n  top: -5px;\r\n  left: -5px;\r\n  width: 25px;\r\n  height: 25px;\r\n  text-align: center;\r\n  line-height: 28px;\r\n  transition-duration: 0.4s;\r\n  transform: scale(0);\r\n}\r\n\r\nlabel img {\r\n  height: 100px;\r\n  width: 100px;\r\n  transition-duration: 0.2s;\r\n  transform-origin: 50% 50%;\r\n}\r\n\r\n:checked + label {\r\n  border-color: #ddd;\r\n}\r\n\r\n:checked + label:before {\r\n  content: \"\u2713\";\r\n  background-color: grey;\r\n  transform: scale(1);\r\n}\r\n\r\n:checked + label img {\r\n  transform: scale(0.9);\r\n  box-shadow: 0 0 5px #333;\r\n  z-index: -1;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;ul&gt;\r\n  &lt;li&gt;&lt;input type=\"checkbox\" id=\"cb1\" /&gt;\r\n    &lt;label for=\"cb1\"&gt;&lt;img src=\"http://lorempixel.com/100/100\" /&gt;&lt;/label&gt;\r\n  &lt;/li&gt;\r\n  &lt;li&gt;&lt;input type=\"checkbox\" id=\"cb2\" /&gt;\r\n    &lt;label for=\"cb2\"&gt;&lt;img src=\"http://lorempixel.com/101/101\" /&gt;&lt;/label&gt;\r\n  &lt;/li&gt;\r\n  &lt;li&gt;&lt;input type=\"checkbox\" id=\"cb3\" /&gt;\r\n    &lt;label for=\"cb3\"&gt;&lt;img src=\"http://lorempixel.com/102/102\" /&gt;&lt;/label&gt;\r\n  &lt;/li&gt;\r\n  &lt;li&gt;&lt;input type=\"checkbox\" id=\"cb4\" /&gt;\r\n    &lt;label for=\"cb4\"&gt;&lt;img src=\"http://lorempixel.com/103/103\" /&gt;&lt;/label&gt;\r\n  &lt;/li&gt;\r\n&lt;/ul&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "Use images like checkboxes", "answer_id": 30663705, "link": "http://stackoverflow.com/questions/30663562/use-images-like-checkboxes/30663705#30663705", "tags": ["jquery", "css", "html5"]}, {"body": "<p>I would append an extra div with <code>position: relative;</code> and <code>class=\"checked\"</code> which has the same width/height as the image has and than position in <code>left: 0; top: 0;</code> containing the icon. It starts with <code>display: none;</code>.</p>\n\n<p>Now you can listen to the <code>click</code>-event:</p>\n\n<pre><code>$( '.captcha_images' ).click( function() {\n    $(this + '.checked').css( 'display', 'block' );\n    $(this).animate( { width: '70%', height: '70%' } );\n});\n</code></pre>\n\n<p>This way you can get the icon and also resize the image to a smaller way.</p>\n\n<p>Notice: Just wanted to show you the \"logic\" behind my thoughts, this example might not work or has some bugs in it.</p>\n", "title": "Use images like checkboxes", "answer_id": 30663870, "link": "http://stackoverflow.com/questions/30663562/use-images-like-checkboxes/30663870#30663870", "tags": ["jquery", "css", "html5"]}, {"body": "<h1>Pure CSS Solution</h1>\n\n<p>There are three neat devices invoked:</p>\n\n<ol>\n<li>The <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/:checked\" rel=\"nofollow\"><code>:checked</code></a> selector</li>\n<li>The <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/::before\" rel=\"nofollow\"><code>::before</code></a> pseudo-selector</li>\n<li>The css <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/content\" rel=\"nofollow\"><code>content</code></a> property.</li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>label:before {\r\n  content: url(\"https://cdn1.iconfinder.com/data/icons/windows8_icons_iconpharm/26/unchecked_checkbox.png\");\r\n  position: absolute;\r\n  z-index: 100;\r\n}\r\n:checked+label:before {\r\n  content: url(\"https://cdn1.iconfinder.com/data/icons/windows8_icons_iconpharm/26/checked_checkbox.png\");\r\n}\r\ninput[type=checkbox] {\r\n  display: none;\r\n}\r\n/*pure cosmetics:*/\r\nimg {\r\n  width: 150px;\r\n  height: 150px;\r\n}\r\nlabel {\r\n  margin: 10px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"checkbox\" id=\"myCheckbox1\" /&gt;\r\n&lt;label for=\"myCheckbox1\"&gt;\r\n  &lt;img src=\"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcR0LkgDZRDTgnDrzhnXGDFRSItAzGCBEWEnkLMdnA_zkIH5Zg6oag\"&gt;\r\n&lt;/label&gt;\r\n&lt;input type=\"checkbox\" id=\"myCheckbox2\" /&gt;\r\n&lt;label for=\"myCheckbox2\"&gt;\r\n  &lt;img src=\"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcRhJjGB3mQxjhI5lfS9SwXou06-2qT_0MjNAr0atu75trXIaR2d\"&gt;\r\n&lt;/label&gt;\r\n&lt;input type=\"checkbox\" id=\"myCheckbox3\" /&gt;\r\n&lt;label for=\"myCheckbox3\"&gt;\r\n  &lt;img src=\"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQuwWbUXC-lgzQHp-j1iw56PIgl_2eALrEENUP-ld72gq3s8cVo\"&gt;\r\n&lt;/label&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "Use images like checkboxes", "answer_id": 30663999, "link": "http://stackoverflow.com/questions/30663562/use-images-like-checkboxes/30663999#30663999", "tags": ["jquery", "css", "html5"]}, {"body": "<p>Here a quick example of selecting an image like a checkbox</p>\n\n<p><strong>Updated Example using Knockout.js:</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var imageModel = function() {\r\n    this.chk = ko.observableArray();\r\n};\r\nko.applyBindings(new imageModel());</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>    input[type=checkbox] {\r\n        display:none;\r\n      }\r\n \r\n  input[type=checkbox] + label\r\n   {\r\n       display:inline-block;\r\n        width:150px;\r\n        height:150px;\r\n        background:#FBDFDA;\r\n        border:none;\r\n   }\r\n   \r\n   input[type=checkbox]:checked + label\r\n    {\r\n        background:#CFCFCF;\r\n        border:none;\r\n        position:relative;\r\n        width:100px;\r\n        height:100px;\r\n        padding: 20px;\r\n    }\r\n\r\n   input[type=checkbox]:checked + label:after\r\n    {\r\n        content: '\\2713';\r\n        position:absolute;\r\n        top:-10px;\r\n        right:-10px;\r\n        border-radius: 10px;\r\n        width: 25px;\r\n        height: 25px;\r\n        border-color: white;\r\n        background-color: blue;\r\n    }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/knockout/3.0.0/knockout-min.js\"&gt;&lt;/script&gt;\r\n&lt;input type='checkbox' name='image1' value='image1' id=\"image1\" data-bind=\"checked: chk\"/&gt;&lt;label for=\"image1\"&gt;&lt;/label&gt;&lt;label for=\"image1\"&gt;&lt;img class='testbtn'/&gt;&lt;/label&gt;\r\n\r\n&lt;div data-bind=\"html: chk\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "Use images like checkboxes", "answer_id": 30664019, "link": "http://stackoverflow.com/questions/30663562/use-images-like-checkboxes/30664019#30664019", "tags": ["jquery", "css", "html5"]}, {"body": "<p><strong>See this jQuery plugin: <a href=\"https://jcuenod.github.io/imgCheckbox/\" rel=\"nofollow\">imgCheckbox</a></strong> (on <strong><a href=\"https://www.npmjs.com/package/imgcheckbox\" rel=\"nofollow\">npm</a></strong> and <strong><a href=\"http://bower.io/search/?q=imgcheckbox\" rel=\"nofollow\">bower</a></strong>)</p>\n\n<p><strong>Disclaimer:</strong> No javascript is necessary to solve this problem.\u00a0The tension is between maintainability and efficiency of code. While there's no need for a plugin (or any javascript), it sure does make it faster to build and often easier to change.</p>\n\n<h1>Barebones Solution:</h1>\n\n<p>With very <strong>simple HTML</strong> (none of the mess with checkboxes and labels etc.):</p>\n\n<pre><code>&lt;img class=\"checkable\" src=\"http://lorempixel.com/100/100\" /&gt;\n</code></pre>\n\n<p>You can use jQuery's <strong>toggleClass</strong> to turn on/off a <code>selected</code> or <code>checked</code> class on the <code>click</code> event:</p>\n\n<pre><code>$(\"img.checkable\").click(function () {\n    $(this).toggleClass(\"checked\");\n});\n</code></pre>\n\n<p>Checked items are fetched with</p>\n\n<pre><code>$(\".checked\")\n</code></pre>\n\n<h1>Plus Coolness:</h1>\n\n<p>You can style the images based off of this but a big problem is that without other DOM\u00a0elements you can't even use <code>::before</code> and <code>::after</code> to add stuff like check marks. The solution is to wrap your images with another element (and it makes sense to attach the click listener to the wrapped element as well).</p>\n\n<pre><code>$(\"img.checkable\").wrap(\"&lt;span class='fancychecks'&gt;\")\n</code></pre>\n\n<p>This leaves your html really clean and your js incredibly readable. Take a look at the snippet...</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>/* Note that this js actually responds\r\n   to a click event on the wrapped element!\r\n   (not the image) */\r\n$(\"img.checkable\").wrap(\"&lt;span class='fancychecks'&gt;\")\r\n  .parent().click(function() {\r\n    $(this).toggleClass(\"checked\");\r\n  });</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>/* style the images */\r\nspan.fancychecks img {\r\n  display: block;\r\n  margin: 0;\r\n  padding: 0;\r\n  transition-duration: 300ms;\r\n  transform: scale(1);\r\n  filter: none;\r\n  -webkit-filter: grayscale(0);\r\n}\r\nspan.fancychecks.checked img {\r\n  transform: scale(0.8);\r\n  filter: gray;\r\n  filter: grayscale(1);\r\n  -webkit-filter: grayscale(1);\r\n}\r\n\r\n/* style the parent spans */\r\nspan.fancychecks {\r\n  padding: 0;\r\n  margin: 5px;\r\n  display: inline-block;\r\n  border: 1px solid transparent;\r\n  transition-duration: 300ms;\r\n}\r\nspan.fancychecks.checked {\r\n  border-color: #ccc;\r\n}\r\n\r\n/* Using conexo's fantastic CSS, make the checkmarks */\r\nspan.fancychecks::before {\r\n  background-color: rgba(50, 200, 50, 0.7);\r\n  color: white;\r\n  content: \"\u2713\";\r\n  font-weight: bold;\r\n  border-radius: 50%;\r\n  position: absolute;\r\n  margin: 2px;\r\n  top: 1;\r\n  left: 1;\r\n  z-index: 1;\r\n  width: 25px;\r\n  height: 25px;\r\n  text-align: center;\r\n  line-height: 28px;\r\n  transform: scale(0);\r\n  transition-duration: 300ms;\r\n}\r\nspan.fancychecks.checked::before {\r\n  transform: scale(1);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;img class=\"checkable\" src=\"http://lorempixel.com/100/100/city/1\" /&gt;\r\n&lt;img class=\"checkable\" src=\"http://lorempixel.com/100/100/city/2\" /&gt;\r\n&lt;img class=\"checkable\" src=\"http://lorempixel.com/100/100/city/3\" /&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<h1>Using the <a href=\"http://jcuenod.github.io/imgCheckbox/\" rel=\"nofollow\">imgCheckbox</a> jQuery Plugin:</h1>\n\n<p>Inspired by the solution above, I have built a plugin which can be used as easily as:</p>\n\n<pre><code>$(\"img\").imgCheckbox();\n</code></pre>\n\n<ul>\n<li>Injects the data for checked images into your form</li>\n<li>Supports custom check marks</li>\n<li>Supports customised CSS</li>\n<li>Supports preselected elements</li>\n<li>Supports radio groups instead of simple toggling of images</li>\n<li>Has event callbacks</li>\n<li>Sensible defaults</li>\n<li>Lightweight and super easy to use</li>\n</ul>\n\n<p>See it <strong><a href=\"http://jcuenod.github.io/imgCheckbox/\" rel=\"nofollow\">in action</a></strong> (and <a href=\"https://github.com/jcuenod/imgCheckbox\" rel=\"nofollow\">see the source</a>)</p>\n", "title": "Use images like checkboxes", "answer_id": 30735985, "link": "http://stackoverflow.com/questions/30663562/use-images-like-checkboxes/30735985#30735985", "tags": ["jquery", "css", "html5"]}, {"body": "<p>I've noticed other answers either don't use <code>&lt;label&gt;</code> (why not?), or require matching <code>for</code> and <code>id</code> attributes. This means if you have clashing IDs, your code won't work, and you must remember to make unique IDs each time.</p>\n\n<p>Also, if you hide the <code>input</code> with <code>display:none</code> or <code>visibility:hidden</code>, the browser will not focus on it.</p>\n\n<p>A checkbox and its text (or in this case, image) can be wrapped in a label:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.fancy-checkbox-label &gt; input[type=checkbox] {\r\n  position: absolute;\r\n  opacity: 0;\r\n  cursor: inherit;\r\n}\r\n.fancy-checkbox-label {\r\n  font-weight: normal;\r\n  cursor: pointer;\r\n}\r\n.fancy-checkbox:before {\r\n  font-family: FontAwesome;\r\n  content: \"\\f00c\";\r\n  background: #fff;\r\n  color: transparent;\r\n  border: 3px solid #ddd;\r\n  border-radius: 3px;\r\n  z-index: 1;\r\n}\r\n.fancy-checkbox-label:hover &gt; .fancy-checkbox:before,\r\ninput:focus + .fancy-checkbox:before {\r\n  border-color: #bdbdff;\r\n}\r\n.fancy-checkbox-label:hover &gt; input:not(:checked) + .fancy-checkbox:before {\r\n  color: #eee;\r\n}\r\ninput:checked + .fancy-checkbox:before {\r\n  color: #fff;\r\n  background: #bdbdff;\r\n  border-color: #bdbdff;\r\n}\r\n.fancy-checkbox-img:before {\r\n  position: absolute;\r\n  margin: 3px;\r\n  line-height: normal;\r\n}\r\ninput:checked + .fancy-checkbox-img + img {\r\n  transform: scale(0.9);\r\n  box-shadow: 0 0 5px #bdbdff;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link href=\"https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css\" rel=\"stylesheet\" integrity=\"sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1\" crossorigin=\"anonymous\"&gt;\r\n&lt;p&gt;\r\n  &lt;label class=\"fancy-checkbox-label\"&gt;\r\n    &lt;input type=\"checkbox\"&gt;\r\n    &lt;span class=\"fancy-checkbox\"&gt;&lt;/span&gt;\r\n    A normal checkbox\r\n  &lt;/label&gt;\r\n&lt;/p&gt;\r\n&lt;p&gt;\r\n  &lt;label class=\"fancy-checkbox-label\"&gt;\r\n    &lt;input type=\"checkbox\"&gt;\r\n    &lt;span class=\"fancy-checkbox fancy-checkbox-img\"&gt;&lt;/span&gt;\r\n    &lt;img src=\"http://placehold.it/150x150\"&gt;\r\n  &lt;/label&gt;\r\n&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "Use images like checkboxes", "answer_id": 37640820, "link": "http://stackoverflow.com/questions/30663562/use-images-like-checkboxes/37640820#37640820", "tags": ["jquery", "css", "html5"]}, {"body": "<p>To expand on the accepted answer for anyone using WordPress &amp; GravityForms to generate their forms and wish to automatically populate checkbox fields with a list of posts and their associated Featured Thumbnail </p>\n\n<pre><code>// Change '2' to your form ID\nadd_filter( 'gform_pre_render_2', 'populate_checkbox' );\nadd_filter( 'gform_pre_validation_2', 'populate_checkbox' );\nadd_filter( 'gform_pre_submission_filter_2', 'populate_checkbox' );\nadd_filter( 'gform_admin_pre_render_2', 'populate_checkbox' );\n\nfunction populate_checkbox( $form ) {\n\n    foreach( $form['fields'] as &amp;$field )  {\n\n        // Change '41' to your checkbox field ID\n        $field_id = 41;\n        if ( $field-&gt;id != $field_id ) {\n            continue;\n        }\n\n        // Adjust $args for your post type\n        $args = array(\n                'post_type' =&gt; 'pet',\n                'post_status' =&gt; 'publish',\n                'posts_per_page' =&gt; -1,\n                'tax_query' =&gt; array(\n                        array(\n                                'taxonomy' =&gt; 'pet_category',\n                                'field' =&gt; 'slug',\n                                'terms' =&gt; 'cat'\n                        )\n                )\n        );\n\n        $posts = get_posts( $args );\n\n        $input_id = 1;\n\n        foreach( $posts as $post ) {\n\n            $feat_image_url = wp_get_attachment_image( get_post_thumbnail_id( $post-&gt;ID ), 'thumbnail' );\n            $feat_image_url .= '&lt;br /&gt;' . $post-&gt;post_title;\n\n            if ( $input_id % 10 == 0 ) {\n                $input_id++;\n            }\n\n            $choices[] = array( 'text' =&gt; $feat_image_url, 'value' =&gt; $post-&gt;post_title );\n            $inputs[] = array( 'label' =&gt; $post-&gt;post_title, 'id' =&gt; \"{$field_id}.{$input_id}\" );\n\n            $input_id++;\n        }\n\n        $field-&gt;choices = $choices;\n        $field-&gt;inputs = $inputs;\n\n    }\n\n    return $form;\n}\n</code></pre>\n\n<p>And the CSS:</p>\n\n<pre><code>.gform_wrapper .gfield_checkbox li[class^=\"gchoice_2_41_\"] {\n    display: inline-block;\n}\n\n.gform_wrapper .gfield_checkbox li input[type=\"checkbox\"][id^=\"choice_2_41_\"] {\n    display: none;\n}\n\n\n.gform_wrapper .gfield_checkbox li label[id^=\"label_2_41_\"] {\n    border: 1px solid #fff;\n    padding: 10px;\n    display: block;\n    position: relative;\n    margin: 10px;\n    cursor: pointer;\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n}\n\nlabel[id^=\"label_2_41_\"]:before {\n    font-family: \"font-icons\";\n    font-size: 32px;\n    color: #1abc9c;\n    content: \" \";\n    display: block;\n    background-color: transparent;\n    position: absolute;\n    top: -5px;\n    left: -5px;\n    width: 25px;\n    height: 25px;\n    text-align: center;\n    line-height: 28px;\n    transition-duration: 0.4s;\n    transform: scale(0);\n}\n\nlabel[id^=\"label_2_41_\"] img {\n    transition-duration: 0.2s;\n    transform-origin: 50% 50%;\n}\n\n:checked + label[id^=\"label_2_41_\"] {\n    border-color: #ddd;\n}\n\n/* FontAwesome tick */\n:checked + label[id^=\"label_2_41_\"]:before {\n    content: \"\\e6c8\";\n    background-color: transparent;\n    transform: scale(1);\n}\n\n:checked + label[id^=\"label_2_41_\"] img {\n    transform: scale(0.9);\n    box-shadow: 0 0 5px #333;\n    z-index: 0;\n}\n</code></pre>\n", "title": "Use images like checkboxes", "answer_id": 38740134, "link": "http://stackoverflow.com/questions/30663562/use-images-like-checkboxes/38740134#38740134", "tags": ["jquery", "css", "html5"]}], "question_id": 30663562}, {"body": "<p>Since the Apple \"Users &amp; Roles\" update to iTunesConnect end of november 2015 some people have been experiencing an error message \"iTunes Store operation Failed\" and \"You are not authorized to use this service\". </p>\n\n<p>This happens when using XCode 6 and 7</p>\n\n<p><img src=\"http://i.stack.imgur.com/BF4qy.png\" alt=\"enter image description here\"></p>\n\n<p>Previously i was able to upload app using the same iTunes account. </p>\n", "title": "You are not authorised to use this service iTunes app upload error", "tags": ["ios", "iphone", "xcode", "xcode6", "itunesconnect"], "answer_count": 12, "link": "http://stackoverflow.com/questions/28248496/you-are-not-authorised-to-use-this-service-itunes-app-upload-error", "answers": [{"body": "<p>I had the same issue today. What I did is mentioned below.</p>\n\n<pre><code>Go to XCode -&gt; Preferences -&gt; Accounts -&gt; Apple Ids\n</code></pre>\n\n<p>From that select your Apple ID, remove it, and then add it again. Quit Xcode, open it again, and then clean and archive the project.</p>\n\n<p>It worked for me.</p>\n\n<p>Hope it works for someone else also.</p>\n\n<hr>\n\n<p><strong>EDIT</strong></p>\n\n<p>If your Apple ID is already there you can also try with refresh button for all provisioning profiles and certificates.</p>\n\n<p>Then restart Xcode, clean and build the project. You'll be good to go!</p>\n", "title": "You are not authorised to use this service iTunes app upload error", "answer_id": 28279036, "link": "http://stackoverflow.com/questions/28248496/you-are-not-authorised-to-use-this-service-itunes-app-upload-error/28279036#28279036", "tags": ["ios", "iphone", "xcode", "xcode6", "itunesconnect"]}, {"body": "<p>Delete your Apple ID from xocde and add it again, make sure you quite beta Xcode if you have opened, then open it again, clean, archive, validate, it works for me </p>\n", "title": "You are not authorised to use this service iTunes app upload error", "answer_id": 28468679, "link": "http://stackoverflow.com/questions/28248496/you-are-not-authorised-to-use-this-service-itunes-app-upload-error/28468679#28468679", "tags": ["ios", "iphone", "xcode", "xcode6", "itunesconnect"]}, {"body": "<p>Finally i am able to upload the ipa to the iTunes store.</p>\n\n<p>First of all i create ipa using Xcode 6, Export for iOS App Store Submission. Save on my mac. </p>\n\n<p>And upload ipa using Application Loader version 2.9.1. And it was successfully uploaded to iTunes.</p>\n\n<p>May be It will help someone.</p>\n", "title": "You are not authorised to use this service iTunes app upload error", "answer_id": 28689056, "link": "http://stackoverflow.com/questions/28248496/you-are-not-authorised-to-use-this-service-itunes-app-upload-error/28689056#28689056", "tags": ["ios", "iphone", "xcode", "xcode6", "itunesconnect"]}, {"body": "<p>I know it is an old question, but maybe I noticed something that it might help you.</p>\n\n<p>Today when I try to login to <strong>Itunes Connect</strong> via browser, Apple returns me a message \"<em>Your Apple ID or password was entered incorrectly.</em>\" , but I'm sure that my id and pass was correct . It seems apple side problem, not ours.</p>\n\n<p>I think that there is something that it doesn't work in Apple, and it is <strong>not</strong> an Xcode bug.</p>\n\n<p>I don't know why they don't warn anyone about that.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Now <em>Apple</em> updated its <a href=\"https://developer.apple.com/system-status/\">System Status - Apple Developer</a>.</p>\n", "title": "You are not authorised to use this service iTunes app upload error", "answer_id": 28983609, "link": "http://stackoverflow.com/questions/28248496/you-are-not-authorised-to-use-this-service-itunes-app-upload-error/28983609#28983609", "tags": ["ios", "iphone", "xcode", "xcode6", "itunesconnect"]}, {"body": "<p>I was also experiencing this issue last week. But that was due to iTunesConnect outage but now apple solved that issue and server working fine so you will not experience this issue. Please check and hope that will work now.</p>\n", "title": "You are not authorised to use this service iTunes app upload error", "answer_id": 29180055, "link": "http://stackoverflow.com/questions/28248496/you-are-not-authorised-to-use-this-service-itunes-app-upload-error/29180055#29180055", "tags": ["ios", "iphone", "xcode", "xcode6", "itunesconnect"]}, {"body": "<p>Log out of the application loader, then sign back in. </p>\n\n<p>Happened to me and was banging my head against the wall for hours with different combinations of signing...</p>\n", "title": "You are not authorised to use this service iTunes app upload error", "answer_id": 29266781, "link": "http://stackoverflow.com/questions/28248496/you-are-not-authorised-to-use-this-service-itunes-app-upload-error/29266781#29266781", "tags": ["ios", "iphone", "xcode", "xcode6", "itunesconnect"]}, {"body": "<ol>\n<li>Delete your account on Xcode Preferences Accounts</li>\n<li>Close Xcode</li>\n<li>Add Your account again</li>\n<li>Archive</li>\n<li>Submit</li>\n</ol>\n", "title": "You are not authorised to use this service iTunes app upload error", "answer_id": 29547474, "link": "http://stackoverflow.com/questions/28248496/you-are-not-authorised-to-use-this-service-itunes-app-upload-error/29547474#29547474", "tags": ["ios", "iphone", "xcode", "xcode6", "itunesconnect"]}, {"body": "<p>I got this error today when trying to upload from Xcode 6. The app I tried to upload was developed for another customer, but I was admin on their account. But, now my personal Apple Developer Subscription has expired. I'm still admin on the clients account, so I could login, validate builds, download provitioning profiles, etc, but when I tried to submit I got the error described above.</p>\n\n<p>My solution was to remove my own Apple Id and instead login using my clients Apple Id directly. </p>\n", "title": "You are not authorised to use this service iTunes app upload error", "answer_id": 30201193, "link": "http://stackoverflow.com/questions/28248496/you-are-not-authorised-to-use-this-service-itunes-app-upload-error/30201193#30201193", "tags": ["ios", "iphone", "xcode", "xcode6", "itunesconnect"]}, {"body": "<p>You selected developer account which don't have rights to publish. Make sure that you selecting correct one.</p>\n\n<p>On the picture:<br>\n1. Is the agent account.<br>\n2. Member account without rights to publish.</p>\n\n<p><a href=\"http://i.stack.imgur.com/7YLDm.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/7YLDm.png\" alt=\"enter image description here\"></a></p>\n", "title": "You are not authorised to use this service iTunes app upload error", "answer_id": 31766563, "link": "http://stackoverflow.com/questions/28248496/you-are-not-authorised-to-use-this-service-itunes-app-upload-error/31766563#31766563", "tags": ["ios", "iphone", "xcode", "xcode6", "itunesconnect"]}, {"body": "<p>I experienced the same error when I was working from overseas and had a very slow internet connection (upload speed).  In my case it had nothing to do with the credentials or refreshing of the profiles.  It was just the upload speed.  I had an upload speed of less that 1Mbps.  I attempted multiple times without success.  Then I went to a restaurant where the upload speed was 11Mbps and it worked perfectly.</p>\n", "title": "You are not authorised to use this service iTunes app upload error", "answer_id": 33111680, "link": "http://stackoverflow.com/questions/28248496/you-are-not-authorised-to-use-this-service-itunes-app-upload-error/33111680#33111680", "tags": ["ios", "iphone", "xcode", "xcode6", "itunesconnect"]}, {"body": "<p>On Xcode 7.1 I disabled <strong>bitcode</strong> during the submission and it uploaded perfectly.\n<a href=\"http://i.stack.imgur.com/LJA39.jpg\"><img src=\"http://i.stack.imgur.com/LJA39.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>EDIT: You can also export your app archive (iOS App Store Submission) and use Application Loader (press choose button and locate your export file). There is no \"Include bitcode\" option, so my Guess is it's off by default in Application Loader.</p>\n", "title": "You are not authorised to use this service iTunes app upload error", "answer_id": 33274405, "link": "http://stackoverflow.com/questions/28248496/you-are-not-authorised-to-use-this-service-itunes-app-upload-error/33274405#33274405", "tags": ["ios", "iphone", "xcode", "xcode6", "itunesconnect"]}, {"body": "<p>I was using a wrong provisioning profile (old one) when hitting this error.</p>\n\n<p>Just go member center and download current provisioning profile for AppStore distribution. Double-click to install and make sure that this profile is used when building the app.</p>\n\n<p><a href=\"http://i.stack.imgur.com/Vzd50.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/Vzd50.png\" alt=\"enter image description here\"></a></p>\n", "title": "You are not authorised to use this service iTunes app upload error", "answer_id": 33282845, "link": "http://stackoverflow.com/questions/28248496/you-are-not-authorised-to-use-this-service-itunes-app-upload-error/33282845#33282845", "tags": ["ios", "iphone", "xcode", "xcode6", "itunesconnect"]}], "question_id": 28248496}, {"body": "<p>Is it possible to get division by 0 (or infinity) in the following example? </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public double calculation(double a, double b)\n{\n     if (a == b)\n     {\n         return 0;\n     }\n     else\n     {\n         return 2 / (a - b);\n     }\n}\n</code></pre>\n\n<p>In normal cases it will not, of course. But what if <code>a</code> and <code>b</code> are very close, can <code>(a-b)</code> result in being <code>0</code> due to precision of the calculation?</p>\n\n<p>Note that this question is for Java, but I think it will apply to most programming languages.</p>\n", "title": "Is it possible to get 0 by subtracting two unequal floating point numbers?", "tags": ["floating-point", "double", "floating-accuracy", "ieee-754"], "answer_count": 12, "link": "http://stackoverflow.com/questions/28474339/is-it-possible-to-get-0-by-subtracting-two-unequal-floating-point-numbers", "answers": [{"body": "<p>You wouldn't get a division by zero regardless of the value of <code>a - b</code>, since floating point division by 0 doesn't throw an exception. It returns infinity.</p>\n\n<p>Now, the only way <code>a == b</code> would return true is if <code>a</code> and <code>b</code> contain the exact same bits. If they differ by just the least significant bit, the difference between them will not be 0.</p>\n\n<p>EDIT :</p>\n\n<p>As Bathsheba correctly commented, there are some exceptions:</p>\n\n<ol>\n<li><p>\"Not a number compares\" false with itself but will have identical bit patterns.</p></li>\n<li><p>-0.0 is defined to compare true with +0.0, and their bit patterns are different.</p></li>\n</ol>\n\n<p>So if both <code>a</code> and <code>b</code> are <code>Double.NaN</code>, you will reach the else clause, but since <code>NaN - NaN</code> also returns <code>NaN</code>, you will not be dividing by zero.</p>\n", "title": "Is it possible to get 0 by subtracting two unequal floating point numbers?", "answer_id": 28474418, "link": "http://stackoverflow.com/questions/28474339/is-it-possible-to-get-0-by-subtracting-two-unequal-floating-point-numbers/28474418#28474418", "tags": ["floating-point", "double", "floating-accuracy", "ieee-754"]}, {"body": "<p>You shouldn't ever compare floats or doubles for equality; because, you can't really guarantee that the number you assign to the float or double is exact.</p>\n\n<p>To compare floats for equality sanely, you need to check if the value is \"close enough\" to the same value:</p>\n\n<pre><code>if ((first &gt;= second - error) || (first &lt;= second + error)\n</code></pre>\n", "title": "Is it possible to get 0 by subtracting two unequal floating point numbers?", "answer_id": 28474435, "link": "http://stackoverflow.com/questions/28474339/is-it-possible-to-get-0-by-subtracting-two-unequal-floating-point-numbers/28474435#28474435", "tags": ["floating-point", "double", "floating-accuracy", "ieee-754"]}, {"body": "<p>In Java, <code>a - b</code> is never equal to <code>0</code> if <code>a != b</code>. This is because Java mandates IEEE 754 floating point operations which support denormalized numbers. From the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.2.4\">spec</a>:</p>\n\n<blockquote>\n  <p>In particular, the Java programming language requires support of IEEE 754 denormalized floating-point numbers and gradual underflow, which make it easier to prove desirable properties of particular numerical algorithms. Floating-point operations do not \"flush to zero\" if the calculated result is a denormalized number.</p>\n</blockquote>\n\n<p>If an <a href=\"http://en.wikipedia.org/wiki/Floating-point_unit\">FPU</a> works with <a href=\"http://en.wikipedia.org/wiki/Denormal_number\">denormalized numbers</a>, subtracting unequal numbers can never produce zero (unlike multiplication), also see <a href=\"http://stackoverflow.com/questions/19053681/causing-underflow-in-ieee-754-floating-point-format-using-subtraction\">this question</a>.</p>\n\n<p>For other languages, it depends. In C or C++, for example, IEEE 754 support is optional.</p>\n\n<p>That said, <a href=\"https://ideone.com/fXdwW3\">it is possible</a> for the expression <code>2 / (a - b)</code> to overflow, for example with <code>a = 5e-308</code> and <code>b = 4e-308</code>.</p>\n", "title": "Is it possible to get 0 by subtracting two unequal floating point numbers?", "answer_id": 28475383, "link": "http://stackoverflow.com/questions/28474339/is-it-possible-to-get-0-by-subtracting-two-unequal-floating-point-numbers/28475383#28475383", "tags": ["floating-point", "double", "floating-accuracy", "ieee-754"]}, {"body": "<p>As a workaround, what about the following?</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public double calculation(double a, double b) {\n     double c = a - b;\n     if (c == 0)\n     {\n         return 0;\n     }\n     else\n     {\n         return 2 / c;\n     }\n}\n</code></pre>\n\n<p>That way you don't depend on IEEE support in any language.</p>\n", "title": "Is it possible to get 0 by subtracting two unequal floating point numbers?", "answer_id": 28478026, "link": "http://stackoverflow.com/questions/28474339/is-it-possible-to-get-0-by-subtracting-two-unequal-floating-point-numbers/28478026#28478026", "tags": ["floating-point", "double", "floating-accuracy", "ieee-754"]}, {"body": "<p>There is no case where a division by zero can happen here.</p>\n\n<p>The <a href=\"http://en.wikipedia.org/wiki/Satisfiability_Modulo_Theories\">SMT Solver</a> <a href=\"http://z3.codeplex.com/\">Z3</a> supports precise IEEE floating point arithmetic. Let's ask Z3 to find numbers <code>a</code> and <code>b</code> such that <code>a != b &amp;&amp; (a - b) == 0</code>:</p>\n\n<pre><code>(set-info :status unknown)\n(set-logic QF_FP)\n(declare-fun b () (FloatingPoint 8 24))\n(declare-fun a () (FloatingPoint 8 24))\n(declare-fun rm () RoundingMode)\n(assert\n(and (not (fp.eq a b)) (fp.eq (fp.sub rm a b) +zero) true))\n(check-sat)\n</code></pre>\n\n<p>The result is <code>UNSAT</code>. There are no such numbers.</p>\n\n<p>The above SMTLIB string also allows Z3 to pick an arbitrary rounding mode (<code>rm</code>). This means that the result holds for all possible rounding modes (of which there are five). The result also includes the possibility that any of the variables in play might be <code>NaN</code> or infinity.</p>\n\n<p><code>a == b</code> is implemented as <code>fp.eq</code> quality so that <code>+0f</code> and <code>-0f</code> compare equal. The comparison with zero is implemented using <code>fp.eq</code> as well. Since the question is aimed at avoiding a division by zero this is the appropriate comparison.</p>\n\n<p>If the equality test was implemented using bitwise equality, <code>+0f</code> and <code>-0f</code> would have been a way to make <code>a - b</code> zero. An incorrect previous version of this answer contains mode details about that case for the curious.</p>\n\n<p><a href=\"http://rise4fun.com/z3\">Z3 Online</a> does not yet support the FPA theory. This result was obtained using the latest unstable branch. It can be reproduced using the .NET bindings as follows:</p>\n\n<pre><code>var fpSort = context.MkFPSort32();\nvar aExpr = (FPExpr)context.MkConst(\"a\", fpSort);\nvar bExpr = (FPExpr)context.MkConst(\"b\", fpSort);\nvar rmExpr = (FPRMExpr)context.MkConst(\"rm\", context.MkFPRoundingModeSort());\nvar fpZero = context.MkFP(0f, fpSort);\nvar subExpr = context.MkFPSub(rmExpr, aExpr, bExpr);\nvar constraintExpr = context.MkAnd(\n        context.MkNot(context.MkFPEq(aExpr, bExpr)),\n        context.MkFPEq(subExpr, fpZero),\n        context.MkTrue()\n    );\n\nvar smtlibString = context.BenchmarkToSMTString(null, \"QF_FP\", null, null, new BoolExpr[0], constraintExpr);\n\nvar solver = context.MkSimpleSolver();\nsolver.Assert(constraintExpr);\n\nvar status = solver.Check();\nConsole.WriteLine(status);\n</code></pre>\n\n<p>Using Z3 to answer IEEE float questions is nice because it is hard to overlook cases (such as <code>NaN</code>, <code>-0f</code>, <code>+-inf</code>) and you can ask arbitrary questions. No need to interpret and cite specifications. You can even ask mixed float and integer questions such as \"is this particular <code>int log2(float)</code> algorithm correct?\".</p>\n", "title": "Is it possible to get 0 by subtracting two unequal floating point numbers?", "answer_id": 28479020, "link": "http://stackoverflow.com/questions/28474339/is-it-possible-to-get-0-by-subtracting-two-unequal-floating-point-numbers/28479020#28479020", "tags": ["floating-point", "double", "floating-accuracy", "ieee-754"]}, {"body": "<p>I can think of a case where you <em>might</em> be able to cause this to happen.  Here's an analogous sample in base 10 - really, this would happen in base 2, of course.</p>\n\n<p>Floating point numbers are stored more or less in scientific notation - that is, instead of seeing 35.2, the number being stored would be more like 3.52e2.</p>\n\n<p>Imagine for the sake of convenience that we have a floating point unit that operates in base 10 and has 3 digits of accuracy.  What happens when you subtract 9.99 from 10.0?</p>\n\n<p>1.00e2-9.99e1</p>\n\n<p>Shift to give each value the same exponent</p>\n\n<p>1.00e2-0.999e2</p>\n\n<p>Round to 3 digits</p>\n\n<p>1.00e2-1.00e2</p>\n\n<p>Uh oh!</p>\n\n<p>Whether this can happen ultimately depends on the FPU design.  Since the range of exponents for a double is very large, the hardware has to round internally at some point, but in the case above, just 1 extra digit internally will prevent any problem.</p>\n", "title": "Is it possible to get 0 by subtracting two unequal floating point numbers?", "answer_id": 28480168, "link": "http://stackoverflow.com/questions/28474339/is-it-possible-to-get-0-by-subtracting-two-unequal-floating-point-numbers/28480168#28480168", "tags": ["floating-point", "double", "floating-accuracy", "ieee-754"]}, {"body": "<p>In a floating-point implementation that conforms to IEEE-754, each floating-point type can hold numbers in two formats.  One (\"normalized\") is used for most floating-point values, but the second-smallest number it can represent is only a tiny bit larger than the smallest, and so the difference between them is not representable in that same format.  The other (\"denormalized\") format is used only for very small numbers that are not representable in the first format.</p>\n\n<p>Circuitry to handle the denormalized floating-point format efficiently is expensive, and not all processors include it.  Some processors offer a choice between either having operations on really small numbers be <em>much</em> slower than operations on other values, or having the processor simply regard numbers which are too small for normalized format as zero.</p>\n\n<p>The Java specifications imply that implementations should support denormalized format, even on machines where doing so would make code run more slowly.  On the other hand, it's possible that some implementations might offer options to allow code to run faster in exchange for slightly sloppy handling of values which would for most purposes be way too small to matter (in cases where values are too small to matter, it can be annoying having calculations with them take ten times as long as calculations that do matter, so in many practical situations flush-to-zero is more useful than slow-but-accurate arithmetic).</p>\n", "title": "Is it possible to get 0 by subtracting two unequal floating point numbers?", "answer_id": 28483344, "link": "http://stackoverflow.com/questions/28474339/is-it-possible-to-get-0-by-subtracting-two-unequal-floating-point-numbers/28483344#28483344", "tags": ["floating-point", "double", "floating-accuracy", "ieee-754"]}, {"body": "<p>The supplied function can indeed return infinity:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n    public static double calculation(double a, double b)\n    {\n         if (a == b)\n         {\n             return 0;\n         }\n         else\n         {\n             return 2 / (a - b);\n         }\n    }    \n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        double d1 = Double.MIN_VALUE;\n        double d2 = 2.0 * Double.MIN_VALUE;\n        System.out.println(\"Result: \" + calculation(d1, d2)); \n    }\n}\n</code></pre>\n\n<p>The output is <code>Result: -Infinity</code>.</p>\n\n<p>When the result of the division is to big to be stored in a double, infinity is returned even if the denominator is non-zero.</p>\n", "title": "Is it possible to get 0 by subtracting two unequal floating point numbers?", "answer_id": 28483553, "link": "http://stackoverflow.com/questions/28474339/is-it-possible-to-get-0-by-subtracting-two-unequal-floating-point-numbers/28483553#28483553", "tags": ["floating-point", "double", "floating-accuracy", "ieee-754"]}, {"body": "<p>Based on @malarres response and @Taemyr comment, here is my little contribution:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public double calculation(double a, double b)\n{\n     double c = 2 / (a - b);\n\n     // Should not have a big cost.\n     if (isnan(c) || isinf(c))\n     {\n         return 0; // A 'whatever' value.\n     }\n     else\n     {\n         return c;\n     }\n}\n</code></pre>\n\n<p>My point is to says: the easyest way to know if the result of the division is nan or inf is actualy to perform the division.</p>\n", "title": "Is it possible to get 0 by subtracting two unequal floating point numbers?", "answer_id": 28518820, "link": "http://stackoverflow.com/questions/28474339/is-it-possible-to-get-0-by-subtracting-two-unequal-floating-point-numbers/28518820#28518820", "tags": ["floating-point", "double", "floating-accuracy", "ieee-754"]}, {"body": "<p>In olden times before IEEE 754, it was quite possible that a != b didn't imply a-b != 0 and vice versa. That was one of the reasons to create IEEE 754 in the first place. </p>\n\n<p>With IEEE 754 it is <em>almost</em> guaranteed. C or C++ compilers are allowed to do an operation with higher precision than needed. So if a and b are not variables but expressions, then (a + b) != c doesn't imply (a + b) - c != 0, because a + b could be calculated once with higher precision, and once without higher precision. </p>\n\n<p>Many FPUs can be switched to a mode where they don't return denormalized numbers but replace them with 0. In that mode, if a and b are tiny normalised numbers where the difference is smaller than the smallest normalised number but greater than 0, a != b also doesn't guarantee a == b. </p>\n\n<p>\"Never compare floating-point numbers\" is cargo cult programming. Among the people who have the mantra \"you need an epsilon\", most have no idea how to choose that epsilon properly. </p>\n", "title": "Is it possible to get 0 by subtracting two unequal floating point numbers?", "answer_id": 28519233, "link": "http://stackoverflow.com/questions/28474339/is-it-possible-to-get-0-by-subtracting-two-unequal-floating-point-numbers/28519233#28519233", "tags": ["floating-point", "double", "floating-accuracy", "ieee-754"]}, {"body": "<p>Division by zero is undefined, since the limit from positive numbers tend to infinity, the limited from negative numbers tend to negative infinity.</p>\n\n<p>Not sure if this is C++ or Java since there is no language tag.</p>\n\n<pre><code>double calculation(double a, double b)\n{\n     if (a == b)\n     {\n         return nan(\"\"); // C++\n\n         return Double.NaN; // Java\n     }\n     else\n     {\n         return 2 / (a - b);\n     }\n}\n</code></pre>\n", "title": "Is it possible to get 0 by subtracting two unequal floating point numbers?", "answer_id": 28576185, "link": "http://stackoverflow.com/questions/28474339/is-it-possible-to-get-0-by-subtracting-two-unequal-floating-point-numbers/28576185#28576185", "tags": ["floating-point", "double", "floating-accuracy", "ieee-754"]}, {"body": "<p>The core problem is that computer representation of a double (aka float, or real number in mathematical language) is wrong when you have \"too much\" decimal, for instance when you deal with double that can't be written as a numerical value (pi or the result of 1/3).  </p>\n\n<p>So a==b can't be done with any double value of a and b, how to you deal with a==b when a=0.333 and b=1/3 ? Depending of your OS vs FPU vs number vs language versus count of 3 after 0, you will have true or false.  </p>\n\n<p>Anyway if you do \"double value calculation\" on a computer, you have to deal with accuracy, so instead of doing <code>a==b</code>, you have to do <code>absolute_value(a-b)&lt;epsilon</code>, and epsilon is relative to what you are modeling at that time in your algorithm. You can't have an epsilon value for all of your double comparison.</p>\n\n<p>In brief, when you type a==b, you have a mathemical expression that can't be translated on a computer (for any floating point number).</p>\n\n<p>PS: hum, everything I answer here is yet more or less  in others responses and comments.</p>\n", "title": "Is it possible to get 0 by subtracting two unequal floating point numbers?", "answer_id": 28590895, "link": "http://stackoverflow.com/questions/28474339/is-it-possible-to-get-0-by-subtracting-two-unequal-floating-point-numbers/28590895#28590895", "tags": ["floating-point", "double", "floating-accuracy", "ieee-754"]}], "question_id": 28474339}, {"body": "<p>Today i'm trying to set <code>ViewPager.setOnPageChangeListener</code> what i've found that it is deprecated.</p>\n\n<p>please help!</p>\n", "title": "viewpager setonpagechangelistener deprecated", "tags": ["android", "android-viewpager"], "answer_count": 4, "link": "http://stackoverflow.com/questions/30867852/viewpager-setonpagechangelistener-deprecated", "answers": [{"body": "<p>Found answer on my own just wanted to share it.i.e,</p>\n\n<p><code>ViewPager.setOnPageChangeListener</code> is deprecated now. Need to use <code>ViewPager.addOnPageChangeListener</code> instead.</p>\n\n<p><em>for example,</em></p>\n\n<pre><code>ViewPager.addOnPageChangeListener(new ViewPager.OnPageChangeListener() {\n        @Override\n        public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\n\n        }\n\n        @Override\n        public void onPageSelected(int position) {\n\n        }\n\n        @Override\n        public void onPageScrollStateChanged(int state) {\n\n        }\n    });\n</code></pre>\n\n<p>You can find this at <a href=\"http://developer.android.com/reference/android/support/v4/view/ViewPager.html#addOnPageChangeListener(android.support.v4.view.ViewPager.OnPageChangeListener)\">Google Developer site.</a></p>\n", "title": "viewpager setonpagechangelistener deprecated", "answer_id": 30867886, "link": "http://stackoverflow.com/questions/30867852/viewpager-setonpagechangelistener-deprecated/30867886#30867886", "tags": ["android", "android-viewpager"]}, {"body": "<p>You can achieve via <code>SimpleOnPageChangeListener</code>\nBelow is the Code: </p>\n\n<pre><code>private Fragment page = null;\n/** Defining a listener for pageChange */\n        ViewPager.SimpleOnPageChangeListener pageChangeListener = new ViewPager.SimpleOnPageChangeListener(){\n            @Override\n            public void onPageSelected(int position) {\n                super.onPageSelected(position);\n\n                page = getSupportFragmentManager().findFragmentByTag(\"android:switcher:\" + R.id.pager_selectPhotos + \":\" + position);\n\n                System.out.println(page);\n                switch (position) {\n                case 0:\n\n                    break;\n                case 1:\n\n                    break;\n\n                default:\n                    break;\n                }\n            }\n        };\n        /** Setting the pageChange listener to the viewPager */\n        _pager.setOnPageChangeListener(pageChangeListener);\n</code></pre>\n", "title": "viewpager setonpagechangelistener deprecated", "answer_id": 30867914, "link": "http://stackoverflow.com/questions/30867852/viewpager-setonpagechangelistener-deprecated/30867914#30867914", "tags": ["android", "android-viewpager"]}, {"body": "<p>Use <strong>ViewPager.addOnPageChangeListener</strong> instead of <strong>ViewPager.setOnPageChangeListener</strong>.</p>\n", "title": "viewpager setonpagechangelistener deprecated", "answer_id": 34562637, "link": "http://stackoverflow.com/questions/30867852/viewpager-setonpagechangelistener-deprecated/34562637#34562637", "tags": ["android", "android-viewpager"]}, {"body": "<p>this worked for me:</p>\n\n<pre><code>viewPager.addOnPageChangeListener(new ViewPager.OnPageChangeListener(){\n\n    @Override\n    public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {       \n        conterchange.setText(\"\"+(1+position));\n    }\n\n    @Override\n    public void onPageSelected(int position) {\n    }\n\n    @Override\n    public void onPageScrollStateChanged(int state) {\n    }\n});\n</code></pre>\n", "title": "viewpager setonpagechangelistener deprecated", "answer_id": 37737202, "link": "http://stackoverflow.com/questions/30867852/viewpager-setonpagechangelistener-deprecated/37737202#37737202", "tags": ["android", "android-viewpager"]}], "question_id": 30867852}, {"body": "<p>If I create a bool within my class, just something like <code>bool check</code>, it defaults to false. </p>\n\n<p>When I create the same bool within my method, <code>bool check</code>(instead of within the class), i get an error \"use of unassigned local variable check\". Why?</p>\n", "title": "Why do local variables require initialization, but fields do not?", "tags": ["c#", "language-design", "local-variables"], "answer_count": 4, "link": "http://stackoverflow.com/questions/30816496/why-do-local-variables-require-initialization-but-fields-do-not", "answers": [{"body": "<blockquote>\n  <p>Why do local variables require initialization, but fields do not?</p>\n</blockquote>\n\n<p>The short answer is that code accessing uninitialised local variables can be detected by the compiler in a reliable way, using static analysis. Whereas this isn't the case of fields. So the compiler enforces the first case, but not the second.</p>\n\n<blockquote>\n  <p>Why do local variables require initialization?</p>\n</blockquote>\n\n<p>This is no more than a design decision of the C# language, as <a href=\"http://blogs.msdn.com/b/ericlippert/archive/2012/03/05/why-are-local-variables-definitely-assigned-in-unreachable-statements.aspx\">explained by Eric Lippert</a>. The CLR and the .NET environment do not require it. VB.NET, for example, will compile just fine with uninitialised local variables, and in reality the CLR initialises all uninitialised variables to default values. </p>\n\n<p>The same could occur with C#, but the language designers chose not to. The reason is that initialised variables are a huge source of bugs and so, by mandating initialisation, the compiler helps to cut down on accidental mistakes.</p>\n\n<blockquote>\n  <p>Why don't fields require initialization?</p>\n</blockquote>\n\n<p>So why doesn't this compulsory explicit initialisation happen with fields within a class? Simply because that explicit initialisation could occur during construction, through a property being called by an object initializer, or even by a method being called long after the event. The compiler cannot use static analysis to determine if every possible path through the code leads to the variable being explicitly initialised before us. Getting it wrong would be annoying, as the developer could be left with valid code that won't compile. So C# doesn't enforce it at all and the CLR is left to automatically initialise fields to a default value if not explicitly set.</p>\n\n<blockquote>\n  <p>What about collection types?</p>\n</blockquote>\n\n<p>C#'s enforcement of local variable initialisation is limited, which often catches developers out. Consider the following four lines of code:</p>\n\n<pre><code>string str;\nvar len1 = str.Length;\nvar array = new string[10];\nvar len2 = array[0].Length;\n</code></pre>\n\n<p>The second line of code won't compile, as it's trying to read an uninitialised string variable. The fourth line of code compiles just fine though, as <code>array</code> has been initialised, but only with default values. Since the default value of a string is null, we get an exception at run-time. Anyone who's spent time here on Stack Overflow will know that this explicit/implicit initialisation inconsistency leads to a great many \"Why am I getting a \u201cObject reference not set to an instance of an object\u201d error?\" questions.</p>\n", "title": "Why do local variables require initialization, but fields do not?", "answer_id": 30816660, "link": "http://stackoverflow.com/questions/30816496/why-do-local-variables-require-initialization-but-fields-do-not/30816660#30816660", "tags": ["c#", "language-design", "local-variables"]}, {"body": "<blockquote>\n  <p>When I create the same bool within my method, bool check(instead of\n  within the class), i get an error \"use of unassigned local variable\n  check\". Why?</p>\n</blockquote>\n\n<p>Because the compiler is trying to prevent you from making a mistake.</p>\n\n<p>Does initializing your variable to <code>false</code> change anything in this particular path of execution? Probably not, considering <code>default(bool)</code> is false anyway, but it is forcing you to be <em>aware</em> that this is happening. The .NET environment prevents you from accessing \"garbage memory\", since it will initialize any value to their default. But still, imagine this was a reference type, and you'd pass an uninitialized (null) value to a method expecting a non-null, and get a NRE at runtime. The compiler is simply trying to prevent that, accepting the fact that this may sometimes result in <code>bool b = false</code> statements.</p>\n\n<p>Eric Lippert talks about this <a href=\"http://blogs.msdn.com/b/ericlippert/archive/2012/03/05/why-are-local-variables-definitely-assigned-in-unreachable-statements.aspx\">in a blog post</a>:</p>\n\n<blockquote>\n  <p>The reason why we want to make this illegal is not, as many people\n  believe, because the local variable is going to be initialized to\n  garbage and we want to protect you from garbage. We do in fact\n  automatically initialize locals to their default values. (Though the C\n  and C++ programming languages do not, and will cheerfully allow you to\n  read garbage from an uninitialized local.) Rather, <strong>it is because the\n  existence of such a code path is probably a bug, and we want to throw\n  you in the pit of quality; you should have to work hard to write that\n  bug.</strong></p>\n</blockquote>\n\n<p>Why doesn't this apply to a class field? Well, I assume the line had to be drawn somewhere, and local variables initialization are a lot easier to diagnose and get right, as opposed to class fields. The compiler <em>could</em> do this, but think of all the possible checks it would need to be making (where some of them are independent of the class code itself) in order to evaluate if each field in a class is initialized. I am no compiler designer, but I am sure it would be definitely <em>harder</em> as there are plenty of cases that are taken into account, and has to be done in a <em>timely fashion</em> as well. For every feature you have to design, write, test and deploy and the value of implementing this as opposed to the effort put in would be non-worthy and complicated.</p>\n", "title": "Why do local variables require initialization, but fields do not?", "answer_id": 30816696, "link": "http://stackoverflow.com/questions/30816496/why-do-local-variables-require-initialization-but-fields-do-not/30816696#30816696", "tags": ["c#", "language-design", "local-variables"]}, {"body": "<p>Yuval and David's answers are basically correct; summing up:</p>\n\n<ul>\n<li>Use of an unassigned local variable is a likely bug, and this can be detected by the compiler at low cost.</li>\n<li>Use of an unassigned field or array element is less likely a bug, and it is harder to detect the condition in the compiler. Therefore the compiler makes no attempt to detect the use of an uninitialized variable for fields, and instead relies upon the initialization to the default value in order to make the program behavior deterministic.</li>\n</ul>\n\n<p>A commenter to David's answer asks why it is impossible to detect the use of an unassigned field via static analysis; this is the point I want to expand upon in this answer.</p>\n\n<p>First off, for any variable, local or otherwise, it is in practice impossible to determine <em>exactly</em> whether a variable is assigned or unassigned. Consider:</p>\n\n<pre><code>bool x;\nif (M()) x = true;\nConsole.WriteLine(x);\n</code></pre>\n\n<p>The question \"is x assigned?\" is equivalent to \"does M() return true?\"  Now, suppose M() returns true if Fermat's Last Theorem is true for all integers less than eleventy gajillion, and false otherwise. In order to determine whether x is definitely assigned, the compiler must essentially produce a proof of Fermat's Last Theorem.  The compiler is not that smart.</p>\n\n<p>So what the compiler does instead for locals is implements an algorithm which is <em>fast</em>, and <em>overestimates</em> when a local is not definitely assigned. That is, it has some false positives, where it says \"I can't prove that this local is assigned\" even though you and I know it is.  For example:</p>\n\n<pre><code>bool x;\nif (N() * 0 == 0) x = true;\nConsole.WriteLine(x);\n</code></pre>\n\n<p>Suppose N() returns an integer. You and I know that N() * 0 will be 0, but the compiler does not know that.  (Note: the C# 2.0 compiler <em>did</em> know that, but I removed that optimization, as the specification does not <em>say</em> that the compiler knows that.)</p>\n\n<p>All right, so what do we know so far?  It is impractical for locals to get an exact answer, but we can overestimate not-assigned-ness cheaply and get a pretty good result that errs on the side of \"make you fix your unclear program\". That's good. Why not do the same thing for fields? That is, make a definite assignment checker that overestimates cheaply?</p>\n\n<p>Well, how many ways are there for a local to be initialized?  It can be assigned within the text of the method. It can be assigned within a lambda in the text of the method; that lambda might never be invoked, so those assignments are not relevant. Or it can be passed as \"out\" to anothe method, at which point we can assume it is assigned when the method returns normally. Those are very clear points at which the local is assigned, and they are <em>right there in the same method that the local is declared</em>. Determining definite assignment for locals requires only <em>local analysis</em>. Methods tend to be short -- far less than a million lines of code in a method -- and so analyzing the entire method is quite quick.</p>\n\n<p>Now what about fields?  Fields can be initialized in a constructor of course. Or a field initializer. Or the constructor can call an instance method that initializes the fields. Or the constructor can call a <em>virtual</em> method that initailizes the fields. Or the constructor can call a method <em>in another class</em>, which might be <em>in a library</em>, that initializes the fields. Static fields can be initialized in static constructors. Static fields can be initialized by <em>other</em> static constructors. </p>\n\n<p>Essentially the initializer for a field could be <em>anywhere in the entire program</em>, including inside <em>virtual methods that will be declared in libraries that haven't been written yet</em>:</p>\n\n<pre><code>// Library written by BarCorp\npublic abstract class Bar\n{\n    // Derived class is responsible for initializing x.\n    protected int x;\n    protected abstract void InitializeX(); \n    public void M() \n    { \n       InitializeX();\n       Console.WriteLine(x); \n    }\n}\n</code></pre>\n\n<p>Is it an error to compile this library?  If yes, how is BarCorp supposed to fix the bug? By assigning a default value to x? But that's what the compiler does already.</p>\n\n<p>Suppose this library is legal. If FooCorp writes</p>\n\n<pre><code>public class Foo : Bar\n{\n    protected override void InitializeX() { } \n}\n</code></pre>\n\n<p>is <em>that</em> an error? <strong>How is the compiler supposed to figure that out?</strong> The only way is to do a <em>whole program analysis</em> that tracks the initialization static of <em>every field</em> on <em>every possible path through the program</em>, including paths that involve <em>choice of virtual methods at runtime</em>. This problem can be <em>arbitrarily hard</em>; it can involve simulated execution of millions of control paths. Analyzing local control flows takes microseconds and depends on the size of the method. Analyzing global control flows can take hours because it depends on the complexity of <em>every method in the program and all the libraries</em>.</p>\n\n<p>So why not do a cheaper analysis that doesn't have to analyze the whole program, and just overestimates even more severely?  Well, propose an algorithm that works that doesn't make it too hard to write a correct program that actually compiles, and the design team can consider it. I don't know of any such algorithm.</p>\n\n<p>Now, the commenter suggests \"require that a constructor initialize all fields\".  That's not a bad idea. In fact, it is such a not-bad idea that <strong>C# already has that feature for structs</strong>.  A struct constructor is required to definitely-assign all fields by the time the ctor returns normally; the default constructor initializes all the fields to their default values.</p>\n\n<p>What about classes?  Well, <strong>how do you know that a constructor has initialized a field</strong>?  The ctor could call a <em>virtual method</em> to initialize the fields, and now we are back in the same position we were in before. Structs don't have derived classes; classes might. Is a library containing an abstract class required to contain a constructor that initializes all its fields?  How does the abstract class know what values the fields should be initialized to?  </p>\n\n<p>John suggests simply prohibiting calling methods in a ctor before the fields are initialized.  So, summing up, our options are:</p>\n\n<ul>\n<li>Make common, safe, frequently used programming idioms illegal.</li>\n<li>Do an expensive whole-program analysis that makes the compilation take hours in order to look for bugs that probably aren't there.</li>\n<li>Rely upon automatic initialization to default values.</li>\n</ul>\n\n<p>The design team chose the third option.</p>\n", "title": "Why do local variables require initialization, but fields do not?", "answer_id": 30820127, "link": "http://stackoverflow.com/questions/30816496/why-do-local-variables-require-initialization-but-fields-do-not/30820127#30820127", "tags": ["c#", "language-design", "local-variables"]}, {"body": "<p>Good answers above, but I thought I'd post a much simpler/shorter answer for people to lazy to read a long one (like myself).</p>\n\n<h2>Class</h2>\n\n<pre><code>class Foo {\n    private string Boo;\n    public Foo() { /** bla bla bla **/ }\n    public string DoSomething() { return Boo; }\n}\n</code></pre>\n\n<p>Property <code>Boo</code> may or may <em>not</em> have been initialized in the constructor. So when it finds <code>return Boo;</code> it doesn't <em>assume</em> that it's been initialized. It simply <em>suppresses</em> the error.</p>\n\n<h2>Function</h2>\n\n<pre><code>public string Foo() {\n   string Boo;\n   return Boo; // triggers error\n}\n</code></pre>\n\n<p>The <code>{ }</code> characters define the scope of a block of code. The compiler walks the branches of these <code>{ }</code> blocks keeping track of stuff. It can <em>easily</em> tell that <code>Boo</code> was not initialized. The error is then triggered.</p>\n\n<h2>Why does the error exist?</h2>\n\n<p>The error was introduced to reduce the number of lines of code required to make source code safe. Without the error the above would look like this.</p>\n\n<pre><code>public string Foo() {\n   string Boo;\n   /* bla bla bla */\n   if(Boo == null) {\n      return \"\";\n   }\n   return Boo;\n}\n</code></pre>\n\n<p>From the manual:</p>\n\n<blockquote>\n  <p>The C# compiler does not allow the use of uninitialized variables. If the compiler detects the use of a variable that might not have been initialized, it generates compiler error CS0165. For more information, see Fields (C# Programming Guide). Note that this error is generated when the compiler encounters a construct that might result in the use of an unassigned variable, even if your particular code does not. <strong>This avoids the necessity of overly-complex rules for definite assignment.</strong></p>\n</blockquote>\n\n<p>Reference: <a href=\"https://msdn.microsoft.com/en-us/library/4y7h161d.aspx\">https://msdn.microsoft.com/en-us/library/4y7h161d.aspx</a></p>\n", "title": "Why do local variables require initialization, but fields do not?", "answer_id": 30985060, "link": "http://stackoverflow.com/questions/30816496/why-do-local-variables-require-initialization-but-fields-do-not/30985060#30985060", "tags": ["c#", "language-design", "local-variables"]}], "question_id": 30816496}, {"body": "<p>I have two structs with arrays of bytes and booleans:</p>\n\n<pre><code>using System.Runtime.InteropServices;\n\n[StructLayout(LayoutKind.Sequential, Pack = 4)]\nstruct struct1\n{\n    [MarshalAs(UnmanagedType.ByValArray, SizeConst = 3)]\n    public byte[] values;\n}\n\n[StructLayout(LayoutKind.Sequential, Pack = 4)]\nstruct struct2\n{\n    [MarshalAs(UnmanagedType.ByValArray, SizeConst = 3)]\n    public bool[] values;\n}\n</code></pre>\n\n<p>And the following code:</p>\n\n<pre><code>class main\n{\n    public static void Main()\n    {\n        Console.WriteLine(\"sizeof array of bytes: \"+Marshal.SizeOf(typeof(struct1)));\n        Console.WriteLine(\"sizeof array of bools: \" + Marshal.SizeOf(typeof(struct2)));\n        Console.ReadKey();\n    }\n}\n</code></pre>\n\n<p>That gives me the following output:</p>\n\n<pre><code>sizeof array of bytes: 3\nsizeof array of bools: 12\n</code></pre>\n\n<p>It seems to be that a <code>boolean</code> takes 4 bytes of storage. Ideally a <code>boolean</code>  would only take one bit (<code>false</code> or <code>true</code>, <code>0</code> or <code>1</code>, etc..).</p>\n\n<p>What is happening here? Is the <code>boolean</code> type really so inefficient?</p>\n", "title": "What is the size of a boolean In C#? Does it really take 4-bytes?", "tags": ["c#", "interop"], "answer_count": 2, "link": "http://stackoverflow.com/questions/28514373/what-is-the-size-of-a-boolean-in-c-does-it-really-take-4-bytes", "answers": [{"body": "<p>Firstly, this is <em>only</em> the size for interop. It doesn't represent the size in managed code of the array. That's 1 byte per <code>bool</code> - at least on my machine. You can test it for yourself with this code:</p>\n\n<pre><code>using System;\nclass Program \n{ \n    static void Main(string[] args) \n    { \n        int size = 10000000;\n        object array = null;\n        long before = GC.GetTotalMemory(true); \n        array = new bool[size];\n        long after = GC.GetTotalMemory(true); \n\n        double diff = after - before; \n\n        Console.WriteLine(\"Per value: \" + diff / size);\n\n        // Stop the GC from messing up our measurements \n        GC.KeepAlive(array); \n    } \n}\n</code></pre>\n\n<p>Now, for marshalling arrays by value, as you are, the <a href=\"https://msdn.microsoft.com/en-us/library/system.runtime.interopservices.unmanagedtype\">documentation</a> says:</p>\n\n<blockquote>\n  <p>When the MarshalAsAttribute.Value property is set to <code>ByValArray</code>, the SizeConst field must be set to indicate the number of elements in the array. The <code>ArraySubType</code> field can optionally contain the <code>UnmanagedType</code> of the array elements when it is necessary to differentiate among string types. You can use this <code>UnmanagedType</code> only on an array that whose elements appear as fields in a structure.</p>\n</blockquote>\n\n<p>So we look at <a href=\"https://msdn.microsoft.com/en-us/library/system.runtime.interopservices.marshalasattribute.arraysubtype\"><code>ArraySubType</code></a>, and that has documentation of:</p>\n\n<blockquote>\n  <p>You can set this parameter to a value from the <code>UnmanagedType</code> enumeration to specify the type of the array's elements. If a type is not specified, the default unmanaged type corresponding to the managed array's element type is used. </p>\n</blockquote>\n\n<p>Now looking at <a href=\"https://msdn.microsoft.com/en-us/library/system.runtime.interopservices.unmanagedtype\"><code>UnmanagedType</code></a>, there's:</p>\n\n<blockquote>\n  <p><strong>Bool</strong><br>\n  A 4-byte Boolean value (true != 0, false = 0). This is the Win32 BOOL type.</p>\n</blockquote>\n\n<p>So that's the default for <code>bool</code>, and it's 4 bytes because that corresponds to the Win32 BOOL type - so if you're interoperating with code expecting a <code>BOOL</code> array, it does exactly what you want.</p>\n\n<p>Now you can specify the <code>ArraySubType</code> as <code>I1</code> instead, which is documented as:</p>\n\n<blockquote>\n  <p>A 1-byte signed integer. You can use this member to transform a Boolean value into a 1-byte, C-style bool (true = 1, false = 0).</p>\n</blockquote>\n\n<p>So if the code you're interoperating with expects 1 byte per value, just use:</p>\n\n<pre><code>[MarshalAs(UnmanagedType.ByValArray, SizeConst = 3, ArraySubType = UnmanagedType.I1)]\npublic bool[] values;\n</code></pre>\n\n<p>Your code will then show that as taking up 1 byte per value, as expected.</p>\n", "title": "What is the size of a boolean In C#? Does it really take 4-bytes?", "answer_id": 28514434, "link": "http://stackoverflow.com/questions/28514373/what-is-the-size-of-a-boolean-in-c-does-it-really-take-4-bytes/28514434#28514434", "tags": ["c#", "interop"]}, {"body": "<p>The <em>bool</em> type has a checkered history with many incompatible choices between language runtimes.  This started with an historical design-choice made by Dennis Ritchie, the guy that invented the C language.  It did not have a <em>bool</em> type, the alternative was <em>int</em> where a value of 0 represents <em>false</em> and any other value was considered <em>true</em>.</p>\n\n<p>This choice was carried forward in the Winapi, the primary reason to use pinvoke, it has a typedef for <code>BOOL</code> which is an alias for the C compiler's <em>int</em> keyword.  If you don't apply an explicit [MarshalAs] attribute then a C# <em>bool</em> is converted to a BOOL, thus producing a field that is 4 bytes long.</p>\n\n<p>Whatever you do, your struct declaration needs to be a match with the runtime choice made in the language you interop with.  As noted, BOOL for the winapi but most C++ implementations chose <em>byte</em>, most COM Automation interop uses VARIANT_BOOL which is a <em>short</em>.</p>\n\n<p>The <em>actual</em> size of a C# <code>bool</code> is one byte.  A strong design-goal of the CLR is that you cannot find out.  Layout is an implementation detail that depends on the processor too much.  Processors are very picky about variable types and alignment, wrong choices can significantly affect performance and cause runtime errors.  By making the layout undiscoverable, .NET can provide a universal type system that does not depend on the actual runtime implementation.</p>\n\n<p>In other words, you always have to marshal a structure at runtime to nail down the layout.  At which time the conversion from the <em>internal</em> layout to the interop layout is made.  That can be very fast if the layout is identical, slow when fields need to be re-arranged since that always requires creating a copy of the struct. The technical term for this is <em>blittable</em>, passing a blittable struct to native code is fast because the pinvoke marshaller can simply pass a pointer.</p>\n\n<p>Performance is also the core reason why a <em>bool</em> is not a single bit.  There are few processors that make a bit directly addressable, the smallest unit is a byte.  An <em>extra</em> instruction is required to fish the bit out of the byte, that doesn't come for free.  And it is never atomic.</p>\n\n<p>The C# compiler isn't otherwise shy about telling you that it takes 1 byte, use <code>sizeof(bool)</code>.  This is still not a fantastic predictor for how many bytes a field takes at runtime, the CLR also needs to implement the .NET memory model and it promises that simple variable updates are <em>atomic</em>.  That requires variables to be properly aligned in memory so the processor can update it with a single memory-bus cycle.  Pretty often, a <em>bool</em> actually requires 4 or 8 bytes in memory because of this.  Extra padding that was added to ensure that the <em>next</em> member is aligned properly.</p>\n\n<p>The CLR actually takes advantage of layout being undiscoverable, it can optimize the layout of a class and re-arrange the fields so the padding is minimized.  So, say, if you have a class with a bool + int + bool member then it would take 1 + (3) + 4 + 1 + (3) bytes of memory, (3) is the padding, for a total of 12 bytes.  50% waste.  Automatic layout rearranges to 1 + 1 + (2) + 4 = 8 bytes.  Only a class has automatic layout, structs have sequential layout by default.</p>\n\n<p>More bleakly, a <em>bool</em> can require as many as 32 bytes in a C++ program compiled with a modern C++ compiler that supports the AVX instruction set.  Which imposes a 32-byte alignment requirement, the bool variable may end up with 31 bytes of padding.  Also the core reason why a .NET jitter does not emit SIMD instructions, unless explicitly wrapped, it can't get the alignment guarantee.</p>\n", "title": "What is the size of a boolean In C#? Does it really take 4-bytes?", "answer_id": 28515361, "link": "http://stackoverflow.com/questions/28514373/what-is-the-size-of-a-boolean-in-c-does-it-really-take-4-bytes/28515361#28515361", "tags": ["c#", "interop"]}], "question_id": 28514373}, {"body": "<p>Recently I found that there is, possibly, a new way of commenting in HTML5.</p>\n\n<p>Instead of the typical <code>&lt;!-- --&gt;</code> multi-line commenting I've read about,  I <em>thought</em> I noticed that my IDE made a regular <code>&lt;!div &gt;</code> commented out. So I tested it out, and to my surprise Chrome had commented out that tag. It <em>only</em> commented out the tag and not the contents of the div, so I had to comment out the closer <code>&lt;!/div&gt;</code> to avoid closing other divs.</p>\n\n<p>I tested another and it appears that generally putting an exclamation marker in front of the opening of any tag, this symbol <code>&lt;</code>, makes that tag commented out. </p>\n\n<p>Is this actually new? Is it bad practice? It is actually very convenient, but is it practical yet(if not new)? </p>\n\n<p><strong>Edit extra details:</strong>\nAlthough a syntax error or misinterpretations of this particular syntax is a good reason, how come Chrome <em>actually</em> renders them as full comments? </p>\n\n<p><strong>The code is written as</strong>:</p>\n\n<pre><code>&lt;!div displayed&gt; some text here that is still displayed &lt;!/div&gt;\n</code></pre>\n\n<p><strong>And then it is rendered as</strong>:</p>\n\n<pre><code>&lt;!--div displayed--&gt; some text here that is still displayed &lt;!--/div--&gt;\n</code></pre>\n", "title": "Is there a new standard for HTML commenting?", "tags": ["html", "html5", "comments"], "answer_count": 2, "link": "http://stackoverflow.com/questions/29405858/is-there-a-new-standard-for-html-commenting", "answers": [{"body": "<p>I don't think this is a good habit to take since <code>&lt;!</code> stands for markup declarations like <code>&lt;!DOCTYPE</code>. Thus you think it's commented (well... browser will try to interpret it). </p>\n\n<p>Even if it doesn't appear, this seems not to be the correct syntax for commenting HTML code.</p>\n", "title": "Is there a new standard for HTML commenting?", "answer_id": 29406086, "link": "http://stackoverflow.com/questions/29405858/is-there-a-new-standard-for-html-commenting/29406086#29406086", "tags": ["html", "html5", "comments"]}, {"body": "<p>There is no new standard for comments in HTML5. The only valid comment syntax is still <code>&lt;!-- --&gt;</code>. From <a href=\"http://www.w3.org/TR/html5/syntax.html#comments\">section 8.1.6 of W3C HTML5</a>:</p>\n\n<blockquote>\n  <p><strong>Comments</strong> must start with the four character sequence U+003C LESS-THAN SIGN, U+0021 EXCLAMATION MARK, U+002D HYPHEN-MINUS, U+002D HYPHEN-MINUS (<code>&lt;!--</code>).</p>\n</blockquote>\n\n<p>The <code>&lt;!</code> syntax originates in SGML DTD markup, which is not part of HTML5. In HTML5, it is reserved for comments, CDATA sections, and the DOCTYPE declaration. Therefore whether this alternative is bad practice depends on whether you consider the use of (or worse, the dependence on) obsolete markup to be bad practice.</p>\n\n<p>Validator.nu calls what you have a \"Bogus comment.\" \u2014 which means that it's treated like a comment even though it's not a valid comment. This is presumably for backward compatibility with pre-HTML5, which was SGML-based, and had markup declarations that took the form <code>&lt;!FOO&gt;</code>, so I wouldn't call this new. The reason they're treated <em>like</em> comments is because SGML markup declarations were special declarations not meant to be rendered, but since they are meaningless in HTML5 (with the above exceptions), as far as the HTML5 DOM is concerned they <em>are</em> nothing more than comments.</p>\n\n<p>The following steps within <a href=\"http://www.w3.org/TR/html5/syntax.html#tokenization\">section 8.2.4</a> lead to this conclusion, which Chrome appears to be following to the letter:</p>\n\n<ol>\n<li><p><a href=\"http://www.w3.org/TR/html5/syntax.html#data-state\">8.2.4.1 Data state</a>:</p>\n\n<blockquote>\n  <p>Consume the next input character:</p>\n  \n  <p><strong>\"&lt;\" (U+003C)</strong><br>\n  Switch to the tag open state.</p>\n</blockquote></li>\n<li><p><a href=\"http://www.w3.org/TR/html5/syntax.html#tag-open-state\">8.2.4.8 Tag open state</a>:</p>\n\n<blockquote>\n  <p>Consume the next input character:</p>\n  \n  <p><strong>\"!\" (U+0021)</strong><br>\n  Switch to the markup declaration open state.</p>\n</blockquote></li>\n<li><p><a href=\"http://www.w3.org/TR/html5/syntax.html#markup-declaration-open-state\">8.2.4.45 Markup declaration open state</a>:</p>\n\n<blockquote>\n  <p><strong>If the next two characters are both \"-\" (U+002D) characters, consume those two characters, create a comment token whose data is the empty string, and switch to the comment start state.</strong></p>\n  \n  <p>Otherwise, if the next seven characters are an ASCII case-insensitive match for the word \"DOCTYPE\", then consume those characters and switch to the DOCTYPE state.</p>\n  \n  <p>Otherwise, if there is an adjusted current node and it is not an element in the HTML namespace and the next seven characters are a case-sensitive match for the string \"[CDATA[\" (the five uppercase letters \"CDATA\" with a U+005B LEFT SQUARE BRACKET character before and after), then consume those characters and switch to the CDATA section state.</p>\n  \n  <p><strong>Otherwise, this is a parse error. Switch to the bogus comment state. The next character that is consumed, if any, is the first character that will be in the comment.</strong></p>\n</blockquote>\n\n<p>Notice that it says to switch to the comment start state only if the sequence of characters encountered is <code>&lt;!--</code>, otherwise it's a bogus comment. This reflects what is stated in section 8.1.6 above.</p></li>\n<li><p><a href=\"http://www.w3.org/TR/html5/syntax.html#bogus-comment-state\">8.2.4.44 Bogus comment state</a>:</p>\n\n<blockquote>\n  <p>Consume every character up to and including the first \">\" (U+003E) character or the end of the file (EOF), whichever comes first. Emit a comment token whose data is the concatenation of all the characters starting from and including the character that caused the state machine to switch into the bogus comment state, up to and including the character immediately before the last consumed character (i.e. up to the character just before the U+003E or EOF character), but with any U+0000 NULL characters replaced by U+FFFD REPLACEMENT CHARACTER characters. (If the comment was started by the end of the file (EOF), the token is empty. Similarly, the token is empty if it was generated by the string \"<code>&lt;!&gt;</code>\".)</p>\n</blockquote>\n\n<p>In plain English, this turns <code>&lt;!div displayed&gt;</code> into <code>&lt;!--div displayed--&gt;</code> and <code>&lt;!/div&gt;</code> into <code>&lt;!--/div--&gt;</code>, exactly as described in the question.</p></li>\n</ol>\n\n<p>On a final note, you can probably expect other HTML5-compliant parsers to behave the same as Chrome.</p>\n", "title": "Is there a new standard for HTML commenting?", "answer_id": 29406176, "link": "http://stackoverflow.com/questions/29405858/is-there-a-new-standard-for-html-commenting/29406176#29406176", "tags": ["html", "html5", "comments"]}], "question_id": 29405858}, {"body": "<p>I am writing an explanation for some code for a course, and have been accidentally using the words <code>method</code> and <code>function</code> interchangeably. I decided to go back over and fix the wording, but ran into a hole in my understanding.</p>\n\n<p>From what I understand, a subroutine is a <code>function</code> if it doesn't act on a instance of a class (its effect is restricted to its explicit input/output), and is a <code>method</code> if it operates on an instance of a class (it may carry out side effects on the instance that make it impure).</p>\n\n<p>There's a <a href=\"http://stackoverflow.com/questions/155609/difference-between-a-method-and-a-function\">good discussion here</a> on the topic. Note that by the accepted answer's definitions, a static <code>method</code> should actually be a function because an instance is never implicitly passed, and it doesn't have access to any instance's members.</p>\n\n<p>With this is mind though, shouldn't static <code>methods</code> actually be functions?</p>\n\n<p>By their definition they don't act on particular instances of a class; they're only \"tied\" to the class because of relation. I've seen a few good looking sites that refer to static subroutines as \"methods\" though (<a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html\">Oracle</a>, <a href=\"http://www.fredosaurus.com/notes-java/flow/methods/50static-methods.html\">Fredosaurus</a>, <a href=\"http://www.programmingsimplified.com/java/source-code/java-static-method-program\">ProgrammingSimplified</a>), so either they're all overlooking the terminology, or I'm missing something (my guess is the latter).</p>\n\n<p>I'd like to make sure I am using the correct wording.<br>\n<strong><em>Can anybody clear this up?</em></strong></p>\n", "title": "Why is a static method considered a method?", "tags": ["java", "methods", "static", "terminology"], "answer_count": 9, "link": "http://stackoverflow.com/questions/30402169/why-is-a-static-method-considered-a-method", "answers": [{"body": "<p>The simple answer is that when Java decided to call everything a \"method\", they didn't care about the distinction between a function and a method in theoretical computer science.</p>\n", "title": "Why is a static method considered a method?", "answer_id": 30402328, "link": "http://stackoverflow.com/questions/30402169/why-is-a-static-method-considered-a-method/30402328#30402328", "tags": ["java", "methods", "static", "terminology"]}, {"body": "<p>In computer science <strong>function</strong> clearly maps to a static method. But \"method\" of a class is a bit generic, like \"member\" (field member, method member). There are wordings like</p>\n\n<blockquote>\n  <p>Data members and method members have two separate name spaces: .x and .x() can coexist.</p>\n</blockquote>\n\n<p>So the reason is, that as the philosoph Ludwig Wittgenstein said, Language is a tool with different contexts. \"Method\" is a nice moniker in the citation above to categorize a \"member\".</p>\n", "title": "Why is a static method considered a method?", "answer_id": 30402345, "link": "http://stackoverflow.com/questions/30402169/why-is-a-static-method-considered-a-method/30402345#30402345", "tags": ["java", "methods", "static", "terminology"]}, {"body": "<p>This quote from <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4.3.2\">8.4.3.2</a> may help:</p>\n\n<blockquote>\n  <p>A method that is declared <code>static</code> is called a <em>class method</em>.</p>\n  \n  <p>A method that is not declared <code>static</code> is called an <em>instance method</em> [...].</p>\n</blockquote>\n\n<ul>\n<li>Class methods: associated with a class.</li>\n<li>Instance methods: associated with an instance.</li>\n</ul>\n\n<p>Java just wants you to \"think object-oriented\". Also, static methods have access to a surrounding scope which may include state. In a way, the class is like an object itself.</p>\n", "title": "Why is a static method considered a method?", "answer_id": 30402356, "link": "http://stackoverflow.com/questions/30402169/why-is-a-static-method-considered-a-method/30402356#30402356", "tags": ["java", "methods", "static", "terminology"]}, {"body": "<p>In Java, a user-defined class is actually an instance of a subclass of java.lang.Class.  </p>\n\n<p>In this sense, static methods <em>are</em> attached to an instance of a conceptual class: they are attached to an instance of a subclass of java.lang.Class.</p>\n\n<p>With this in mind, the term \"class method\" (an alternate name for Java's static methods) begins to make sense.  And the term \"class method\" can be found in many places:  Objective C, Smalltalk, and the JLS -- to name just a few.</p>\n", "title": "Why is a static method considered a method?", "answer_id": 30402498, "link": "http://stackoverflow.com/questions/30402169/why-is-a-static-method-considered-a-method/30402498#30402498", "tags": ["java", "methods", "static", "terminology"]}, {"body": "<p>Static methods are not exactly functions, the difference is subtle, but important.</p>\n\n<p>A static method using only given input parameters <em>is</em> essentially a function.</p>\n\n<p>But static methods may access static variables and other static functions (also using static variables) so static methods may have a <em>state</em> which is fundamentally different to a function which are by definition <em>stateless</em>.\n(ADDENDUM: While programmers are often not so strict with using \"function\" as definition, a strict function in computer science can access only input parameters). So defining this case of accessing static fields it is not valid to say that static methods are always functions.</p>\n\n<p>Another difference which justifies the usage of \"static method\" is that you can define in C derivates global functions and global variables which can be accessed everywhere. If you cannot access the class which contain static methods, the methods are inaccessible, too. So \"static methods\" are limited in their scope by design in contrast to global functions.</p>\n", "title": "Why is a static method considered a method?", "answer_id": 30405846, "link": "http://stackoverflow.com/questions/30402169/why-is-a-static-method-considered-a-method/30405846#30405846", "tags": ["java", "methods", "static", "terminology"]}, {"body": "<p>Here is another take on the terminology, using <a href=\"http://en.wikipedia.org/wiki/Scala_%28programming_language%29\">Scala</a> as a mnemonic:<br>\nIn Scala you have <code>object</code>s, which are singleton instances of an implicitly defined class <a href=\"http://stackoverflow.com/a/1755521/3041008\"><a href=\"http://en.wikipedia.org/wiki/Scala_%28programming_language%29\">1</a></a>.</p>\n\n<p>Per your definition, we can call these subroutines belonging to the <code>object</code> <strong>methods</strong>, as they operate on a single instance of the class.<br>\nAdditionally the object <em>will also define class A, and create all of the methods in object A as static methods on class A (for interfacing with Java)</em> <a href=\"http://stackoverflow.com/questions/1755345/difference-between-object-and-class-in-scala#comment1665301_1755521\">[2]</a>.</p>\n\n<p>Therefore we can say that the static methods of Java class A access the same members as the Scala singleton instance, which per your definition then deserve to be called (static) <strong>methods</strong> of class A.</p>\n", "title": "Why is a static method considered a method?", "answer_id": 30407597, "link": "http://stackoverflow.com/questions/30402169/why-is-a-static-method-considered-a-method/30407597#30407597", "tags": ["java", "methods", "static", "terminology"]}, {"body": "<p>Your thinking is right and it makes sense. It's just not established terminology in the Java community. Let me explain some internals that can help understand why the terminology subsists.</p>\n\n<p>Java is a class based object oriented language. A method is always member of a class or instance (This is a general statement valid for other programming languages too). We think of class and instance being both objects.</p>\n\n<h2>Instance method (dynamic)</h2>\n\n<p>You cannot invoke this method from a class directly, you have to create an instance. Each instance references that method. You can overwrite a method definition with the exact same method signature (when subclassing), i.e. the reference points to a different method (which has the same signature, but can have a different method body). The method is dynamic.</p>\n\n<h2>Class method (static)</h2>\n\n<p>You only can invoke this method from the class directly, i.e. you don't need to create an instance of that class. There is only one global definition of that method in the whole program. You cannot overwrite the exact same method signature when the method is declared static, because there is only one definition valid for the whole program. Note that the method is member of the class object itself, the instances have all the same unique (and fix) reference to that method.</p>\n", "title": "Why is a static method considered a method?", "answer_id": 30419685, "link": "http://stackoverflow.com/questions/30402169/why-is-a-static-method-considered-a-method/30419685#30419685", "tags": ["java", "methods", "static", "terminology"]}, {"body": "<p>Of course, the main difference is - method can use static fields, not only method parameters.\nBut there is additional one - polymorphism! \nResults of evaluation Class A.doTheSameStaticMethod() and ClassB.doTheSameStaticMehod() will be depends of class. In this case function is impotent.</p>\n", "title": "Why is a static method considered a method?", "answer_id": 30486215, "link": "http://stackoverflow.com/questions/30402169/why-is-a-static-method-considered-a-method/30486215#30486215", "tags": ["java", "methods", "static", "terminology"]}, {"body": "<p>Each class has an object to represent it that is an instance of a subclass of the <code>Class</code> class. Static methods are really instance methods on these objects that are instances of a subclass of Class. They have access to state in the form of static fields, so they are not restricted to being just (stateless) functions. They are methods.</p>\n", "title": "Why is a static method considered a method?", "answer_id": 30511194, "link": "http://stackoverflow.com/questions/30402169/why-is-a-static-method-considered-a-method/30511194#30511194", "tags": ["java", "methods", "static", "terminology"]}], "question_id": 30402169}, {"body": "<p>What is the difference between these two lines of code:</p>\n\n<pre><code>if not x == 'val':\n</code></pre>\n\n<p>and </p>\n\n<pre><code>if x != 'val':\n</code></pre>\n\n<p>Is one more efficient than the other?</p>\n\n<p>Would it be better to use</p>\n\n<pre><code>if x == 'val':\n    pass\nelse:\n</code></pre>\n", "title": "Python if not == vs if !=", "tags": ["python", "if-statement", "equality"], "answer_count": 7, "link": "http://stackoverflow.com/questions/31026754/python-if-not-vs-if", "answers": [{"body": "<p>In the first one Python has to execute one more operations than necessary(instead of just checking not equal to it has to check if it is not true that it is equal, thus one more operation). It would be impossible to tell the difference from one execution, but if run many times, the second would be more efficient. Overall I would use the second one, but mathematically they are the same</p>\n", "title": "Python if not == vs if !=", "answer_id": 31026823, "link": "http://stackoverflow.com/questions/31026754/python-if-not-vs-if/31026823#31026823", "tags": ["python", "if-statement", "equality"]}, {"body": "<p>Using <a href=\"https://docs.python.org/2/library/dis.html\"><code>dis</code></a> to look at the bytecode generated for the two versions:</p>\n\n<p><strong><code>not ==</code></strong></p>\n\n<pre><code>  4           0 LOAD_FAST                0 (foo)\n              3 LOAD_FAST                1 (bar)\n              6 COMPARE_OP               2 (==)\n              9 UNARY_NOT           \n             10 RETURN_VALUE   \n</code></pre>\n\n<p><strong><code>!=</code></strong></p>\n\n<pre><code>  4           0 LOAD_FAST                0 (foo)\n              3 LOAD_FAST                1 (bar)\n              6 COMPARE_OP               3 (!=)\n              9 RETURN_VALUE   \n</code></pre>\n\n<p>The latter has fewer operations, and is therefore likely to be slightly more efficient. </p>\n\n<hr>\n\n<p>It was pointed out <a href=\"http://stackoverflow.com/questions/31026754/python-if-not-vs-if/31026976#comment50099324_31026976\">in the commments</a> (thanks, <a href=\"http://stackoverflow.com/users/1896169/quincunx\">@Quincunx</a>) that where you have <code>if foo != bar</code> vs. <code>if not foo == bar</code> the number of operations is exactly the same, it's just that the <code>COMPARE_OP</code> changes and <code>POP_JUMP_IF_TRUE</code> switches to <code>POP_JUMP_IF_FALSE</code>:</p>\n\n<p><strong><code>not ==</code></strong>:</p>\n\n<pre><code>  2           0 LOAD_FAST                0 (foo)\n              3 LOAD_FAST                1 (bar)\n              6 COMPARE_OP               2 (==)\n              9 POP_JUMP_IF_TRUE        16\n</code></pre>\n\n<p><strong><code>!=</code></strong></p>\n\n<pre><code>  2           0 LOAD_FAST                0 (foo)\n              3 LOAD_FAST                1 (bar)\n              6 COMPARE_OP               3 (!=)\n              9 POP_JUMP_IF_FALSE       16\n</code></pre>\n\n<p>In this case, unless there was a difference in the amount of work required for each comparison, it's unlikely you'd see any performance difference at all.</p>\n\n<hr>\n\n<p>However, note that the two versions <strong>won't always be logically identical</strong>, as it will depend on the implementations of <code>__eq__</code> and <code>__ne__</code> for the objects in question. Per <a href=\"https://docs.python.org/2/reference/datamodel.html#object.__lt__\">the data model documentation</a>:</p>\n\n<blockquote>\n  <p>There are no implied relationships among the comparison operators. The\n  truth of <code>x==y</code> does not imply that <code>x!=y</code> is false.</p>\n</blockquote>\n\n<p>For example:</p>\n\n<pre><code>&gt;&gt;&gt; class Dummy(object):\n    def __eq__(self, other):\n        return True\n    def __ne__(self, other):\n        return True\n\n\n&gt;&gt;&gt; not Dummy() == Dummy()\nFalse\n&gt;&gt;&gt; Dummy() != Dummy()\nTrue\n</code></pre>\n\n<hr>\n\n<p>Finally, and perhaps most importantly: in general, where the two <em>are</em> logically identical, <strong><code>x != y</code> is much more readable than <code>not x == y</code></strong>.</p>\n", "title": "Python if not == vs if !=", "answer_id": 31026976, "link": "http://stackoverflow.com/questions/31026754/python-if-not-vs-if/31026976#31026976", "tags": ["python", "if-statement", "equality"]}, {"body": "<pre><code>&gt;&gt;&gt; from dis import dis\n&gt;&gt;&gt; dis(compile('not 10 == 20', '', 'exec'))\n  1           0 LOAD_CONST               0 (10)\n              3 LOAD_CONST               1 (20)\n              6 COMPARE_OP               2 (==)\n              9 UNARY_NOT\n             10 POP_TOP\n             11 LOAD_CONST               2 (None)\n             14 RETURN_VALUE\n&gt;&gt;&gt; dis(compile('10 != 20', '', 'exec'))\n  1           0 LOAD_CONST               0 (10)\n              3 LOAD_CONST               1 (20)\n              6 COMPARE_OP               3 (!=)\n              9 POP_TOP\n             10 LOAD_CONST               2 (None)\n             13 RETURN_VALUE\n</code></pre>\n\n<p>Here you can see that <code>not x == y</code> has one more instruction than <code>x != y</code>. So the performance difference will be very small in most cases unless you are doing millions of comparisons and even then this will likely not be the cause of a bottleneck. </p>\n", "title": "Python if not == vs if !=", "answer_id": 31026984, "link": "http://stackoverflow.com/questions/31026754/python-if-not-vs-if/31026984#31026984", "tags": ["python", "if-statement", "equality"]}, {"body": "<p>It's about your way of reading it. <code>not</code> operator is dynamic, that's why you are able to apply it in </p>\n\n<pre><code>if not x == 'val':\n</code></pre>\n\n<p>But <code>!=</code> could be read in a better context as an operator which does the opposite of what <code>==</code> does.</p>\n", "title": "Python if not == vs if !=", "answer_id": 31027073, "link": "http://stackoverflow.com/questions/31026754/python-if-not-vs-if/31027073#31027073", "tags": ["python", "if-statement", "equality"]}, {"body": "<p>@jonrsharpe has an excellent explanation of what's going on. I thought I'd just show the difference in time when running each of the 3 options 10,000,000 times (enough for a slight difference to show).</p>\n\n<p>Code used:</p>\n\n<pre><code>def a(x):\n    if x != 'val':\n        pass\n\n\ndef b(x):\n    if not x == 'val':\n        pass\n\n\ndef c(x):\n    if x == 'val':\n        pass\n    else:\n        pass\n\n\nx = 1\nfor i in range(10000000):\n    a(x)\n    b(x)\n    c(x)\n</code></pre>\n\n<p>And the cProfile profiler results:</p>\n\n<p><img src=\"http://i.stack.imgur.com/tnf1M.png\" alt=\"enter image description here\"></p>\n\n<p>So we can see that there is a very minute difference of ~0.7% between <code>if not x == 'val':</code> and <code>if x != 'val':</code>. Of these, <code>if x != 'val':</code> is the fastest.\n<p>However, most surprisingly, we can see that </p>\n\n<pre><code>if x == 'val':\n        pass\n    else:\n</code></pre>\n\n<p>is in fact the fastest, and beats <code>if x != 'val':</code> by ~0.3%. This isn't very readable, but I guess if you wanted a negligible performance improvement, one could go down this route.</p>\n", "title": "Python if not == vs if !=", "answer_id": 31027250, "link": "http://stackoverflow.com/questions/31026754/python-if-not-vs-if/31027250#31027250", "tags": ["python", "if-statement", "equality"]}, {"body": "<p>An additional note, since the other answers answered your question mostly correctly, is that if a class only defines <code>__eq__()</code> and not <code>__ne__()</code>, then your <code>COMPARE_OP (!=)</code> will run <code>__eq__()</code> and negate it. At that time, your third option is likely to be a tiny bit more efficient, but should only be considered if you NEED the speed, since it's difficult to understand quickly.</p>\n", "title": "Python if not == vs if !=", "answer_id": 31027927, "link": "http://stackoverflow.com/questions/31026754/python-if-not-vs-if/31027927#31027927", "tags": ["python", "if-statement", "equality"]}, {"body": "<p>I want to expand on my readability comment above.</p>\n\n<p>Again, I completely agree with readability overriding other (performance-insignificant) concerns.</p>\n\n<p>What I would like to point out is the brain interprets \"positive\" faster than it does \"negative\".  E.g., \"stop\" vs. \"do not go\" (a rather lousy example due to the difference in number of words).</p>\n\n<p>So given a choice:</p>\n\n<pre><code>if a == b\n    (do this)\nelse\n    (do that)\n</code></pre>\n\n<p>is preferable to the functionally-equivalent:</p>\n\n<pre><code>if a != b\n    (do that)\nelse\n    (do this)\n</code></pre>\n\n<p>Less readability/understandability leads to more bugs.  Perhaps not in initial coding, but the (not as smart as you!) maintenance changes...</p>\n", "title": "Python if not == vs if !=", "answer_id": 31162679, "link": "http://stackoverflow.com/questions/31026754/python-if-not-vs-if/31162679#31162679", "tags": ["python", "if-statement", "equality"]}], "question_id": 31026754}, {"body": "<p>Swift 2 introduces the <code>guard</code> keyword, which could be used to ensure that various data is configured ready to go. An example I saw on <a href=\"http://www.hackingwithswift.com/swift2\">this website</a> demonstrates an submitTapped function:</p>\n\n<pre><code>func submitTapped() {\n    guard username.text.characters.count &gt; 0 else {\n        return\n    }\n\n    print(\"All good\")\n}\n</code></pre>\n\n<p>I am wondering if using <code>guard</code> is any different than doing it the old fashioned way, using an <code>if</code> condition. Does it give benefits, which you could not get by using a simple check?</p>\n", "title": "Swift 2 guard keyword", "tags": ["swift2", "guard-statement"], "answer_count": 10, "link": "http://stackoverflow.com/questions/30791488/swift-2-guard-keyword", "answers": [{"body": "<p>One benefit is elimination a lot of nested <code>if let</code> statements. See the WWDC \"What's New in Swift\" video around 15:30, the section titled \"Pyramid of Doom\".</p>\n", "title": "Swift 2 guard keyword", "answer_id": 30791546, "link": "http://stackoverflow.com/questions/30791488/swift-2-guard-keyword/30791546#30791546", "tags": ["swift2", "guard-statement"]}, {"body": "<p>Unlike <code>if</code>, <code>guard</code> creates the variable that can be accessed from outside its block. It is useful to unwrap a lot of <code>Optional</code>s.</p>\n", "title": "Swift 2 guard keyword", "answer_id": 30791908, "link": "http://stackoverflow.com/questions/30791488/swift-2-guard-keyword/30791908#30791908", "tags": ["swift2", "guard-statement"]}, {"body": "<p>When a condition is met using <code>guard</code> it exposes variables declared within the <code>guard</code> block to the rest of the code-block, bringing them into its scope. Which, as previously stated, will certainly come in handy with nested <code>if let</code> statements.</p>\n\n<p>Note that guard requires a <strong>return</strong> or a <strong>throw</strong> in its else statement.</p>\n\n<h2>Parsing JSON with Guard</h2>\n\n<p>Below is an example of how one might parse a JSON object using guard rather than if-let. This is an excerpt from a blog entry that includes a playground file which you can find here: </p>\n\n<p><strong><a href=\"https://www.codebeaulieu.com/40/How-to-use-Guard-in-Swift-2-to-parse-JSON\">How to use Guard in Swift 2 to parse JSON</a></strong></p>\n\n<pre><code>func parseJSONWithGuard(data : [String : AnyObject]) throws -&gt; Developer {\n\n    guard let firstname = data[\"First\"] as? String  else {\n        return Developer() // we could return a nil Developer()\n    }\n\n    guard let lastname = data[\"Last\"] as? String else {\n        throw ParseError.BadName // or we could throw a custom exception and handle the error\n    }\n\n    guard let website = data[\"WebSite\"] as? String else {\n        throw ParseError.BadName\n    }\n\n    guard let iosDev = data[\"iosDeveloper\"] as? Bool else {\n        throw ParseError.BadName\n    }\n\n\n\n    return Developer(first: firstname, last: lastname, site: website, ios: iosDev)\n\n}\n</code></pre>\n\n<p>download playground: <a href=\"http://beaulieu.blob.core.windows.net/images/General/20150930013903guard.playground.zip\">guard playground</a></p>\n\n<h2>More info:</h2>\n\n<p>Here's an excerpt from the <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/Swift_Programming_Language/ControlFlow.html#//apple_ref/doc/uid/TP40014097-CH9-ID120\">The Swift Programming Language Guide:</a></p>\n\n<blockquote>\n  <p>If the guard statement\u2019s condition is met, code execution continues\n  after the guard statement\u2019s closing brace. Any variables or constants\n  that were assigned values using an optional binding as part of the\n  condition are available for the rest of the code block that the guard\n  statement appears in.</p>\n  \n  <p>If that condition is not met, the code inside the else branch is\n  executed. That branch must transfer control to exit the code block\n  that that guard statement appears in. It can do this with a control\n  transfer statement such as return, break, or continue, or it can call\n  a function or method that doesn\u2019t return, such as fatalError().</p>\n</blockquote>\n", "title": "Swift 2 guard keyword", "answer_id": 30792129, "link": "http://stackoverflow.com/questions/30791488/swift-2-guard-keyword/30792129#30792129", "tags": ["swift2", "guard-statement"]}, {"body": "<p>There are really two big benefits to <code>guard</code>.  One is avoiding the pyramid of doom, as others have mentioned \u2013 lots of annoying <code>if let</code> statements nested inside each other moving further and further to the right.</p>\n\n<p>The other benefit is often the logic you want to implement is more \"<code>if not let</code>\u201d than \"<code>if let { } else</code>\".</p>\n\n<p>Here\u2019s an example: suppose you want to implement <code>accumulate</code> \u2013 a cross between <code>map</code> and <code>reduce</code> where it gives you back an array of <em>running</em> reduces.  Here it is with <code>guard</code>:</p>\n\n<pre><code>extension Sliceable where SubSlice.Generator.Element == Generator.Element {\n\n    func accumulate(combine: (Generator.Element,Generator.Element)-&gt;Generator.Element) -&gt; [Generator.Element] {\n        // if there are no elements, I just want to bail out and\n        // return an empty array\n        guard var running = self.first else { return [] }\n\n        // running will now be an unwrapped non-optional\n        var result = [running]\n\n        // dropFirst is safe because the collection\n        // must have at least one element at this point\n        for x in dropFirst(self) {\n            running = combine(running, x)\n            result.append(running)\n        }\n        return result\n    }\n\n}\n\n\nlet a = [1,2,3].accumulate(+)  // [1,3,6]\nlet b = [Int]().accumulate(+)  // []\n</code></pre>\n\n<p>How would you write it <em>without</em> guard, but still using <code>first</code> that returns an optional?  Something like this:</p>\n\n<pre><code>extension Sliceable where SubSlice.Generator.Element == Generator.Element {\n\n    func accumulate(combine: (Generator.Element,Generator.Element)-&gt;Generator.Element) -&gt; [Generator.Element] {\n\n        if var running = self.first  {\n            var result = [running]\n\n            for x in dropFirst(self) {\n                running = combine(running, x)\n                result.append(running)\n            }\n            return result\n        }\n        else {\n            return []\n        }\n    }\n\n}\n</code></pre>\n\n<p>The extra nesting is annoying, but also, it\u2019s not as logical to have the <code>if</code> and the <code>else</code> so far apart.  It\u2019s much more readable to have the early exit for the empty case, and then continue with the rest of the function as if that wasn\u2019t a possibility.</p>\n", "title": "Swift 2 guard keyword", "answer_id": 30792211, "link": "http://stackoverflow.com/questions/30791488/swift-2-guard-keyword/30792211#30792211", "tags": ["swift2", "guard-statement"]}, {"body": "<p>Reading <a href=\"http://ericcerney.com/swift-guard-statement/\">this article</a> I noticed great benefits using <strong>Guard</strong></p>\n\n<p>Here you can compare the use of guard with an example:</p>\n\n<p>This is the part without guard:</p>\n\n<pre><code>func fooBinding(x: Int?) {\n    if let x = x where x &gt; 0 {\n        // Do stuff with x\n        x.description\n    }\n\n    // Value requirements not met, do something\n}\n</code></pre>\n\n<ol>\n<li><p>Here you\u2019re putting your desired code within all the conditions</p>\n\n<p>You might not immediately see a problem with this, but you could imagine how confusing it could become if it was nested with numerous conditions that all needed to be met before running your statements</p></li>\n</ol>\n\n<p>The way to clean this up is to do each of your checks first, and exit if any aren\u2019t met. This allows easy understanding of what conditions will make this function exit.</p>\n\n<p>But now we can use guard and we can see that is possible to resolve some issues:</p>\n\n<pre><code>func fooGuard(x: Int?) {\n    guard let x = x where x &gt; 0 else {\n        // Value requirements not met, do something\n        return\n    }\n\n    // Do stuff with x\n    x.description\n}\n</code></pre>\n\n<blockquote>\n  <ol>\n  <li>Checking for the condition you do want, not the one you don\u2019t. This again is similar to an assert. If the condition is not met,\n  guard\u2018s else statement is run, which breaks out of the function.</li>\n  <li>If the condition passes, the optional variable here is automatically unwrapped for you within the scope that the guard\n  statement was called \u2013 in this case, the fooGuard(_:) function. </li>\n  <li>You are checking for bad cases early, making your function more readable and easier to maintain</li>\n  </ol>\n</blockquote>\n\n<p>This same pattern holds true for non-optional values as well:</p>\n\n<pre><code>func fooNonOptionalGood(x: Int) {\n    guard x &gt; 0 else {\n        // Value requirements not met, do something\n        return\n    }\n\n    // Do stuff with x\n}\n\nfunc fooNonOptionalBad(x: Int) {\n    if x &lt;= 0 {\n        // Value requirements not met, do something\n        return\n    }\n\n    // Do stuff with x\n}\n</code></pre>\n\n<p>If you still have any questions you can read the entire article: <a href=\"http://ericcerney.com/swift-guard-statement/\">Swift guard statement.</a></p>\n\n<p><strong>Wrapping Up</strong></p>\n\n<p>And finally, reading and testing I found that if you use guard to unwrap any optionals, </p>\n\n<blockquote>\n  <p>those unwrapped values stay around for you to use in the rest of your\n  code block</p>\n</blockquote>\n\n<p>.</p>\n\n<pre><code>guard let unwrappedName = userName else {\n    return\n}\n\nprint(\"Your username is \\(unwrappedName)\")\n</code></pre>\n\n<p>Here the unwrapped value would be available only inside the if block</p>\n\n<pre><code>if let unwrappedName = userName {\n    print(\"Your username is \\(unwrappedName)\")\n} else {\n    return\n}\n\n// this won't work \u2013 unwrappedName doesn't exist here!\nprint(\"Your username is \\(unwrappedName)\")\n</code></pre>\n", "title": "Swift 2 guard keyword", "answer_id": 30867175, "link": "http://stackoverflow.com/questions/30791488/swift-2-guard-keyword/30867175#30867175", "tags": ["swift2", "guard-statement"]}, {"body": "<p>With using <strong>guard</strong> our intension is clear. we do not want to execute rest of the code if that particular condition is not satisfied.\nhere we are able to extending chain too, please have a look at below code:</p>\n\n<pre><code>guard let value1 = number1, let value2 = number2 else { return }\n // do stuff here\n</code></pre>\n", "title": "Swift 2 guard keyword", "answer_id": 32759549, "link": "http://stackoverflow.com/questions/30791488/swift-2-guard-keyword/32759549#32759549", "tags": ["swift2", "guard-statement"]}, {"body": "<p>It really really does make the flow of a sequence with several lookups and optionals much more concise and clear and reduces lots of if nesting. See Erica Sadun post <a href=\"http://ericasadun.com/2015/12/29/migrating-ifs-to-guards-in-swift/\" rel=\"nofollow\">on replacing Ifs</a>. .... Could get carried away, an example below:</p>\n\n<pre><code>    let filteredLinks = locationsLinkedToList.filter({$0.actionVerb == movementCommand})\n    guard let foundLink = filteredLinks.first else {return (\"&lt;Person&gt; cannot go in that direction.\", nil, nil)}\n    guard filteredLinks.count == 1 else {return (\"&lt;Person&gt; cannot decide which route to take.\", nil, nil)}\n    guard let nextLocation = foundLink.toLocation else {return (\"&lt;Person&gt; cannot go in that direction.\", nil, nil)}\n</code></pre>\n\n<p>See if that sticks.</p>\n", "title": "Swift 2 guard keyword", "answer_id": 35276995, "link": "http://stackoverflow.com/questions/30791488/swift-2-guard-keyword/35276995#35276995", "tags": ["swift2", "guard-statement"]}, {"body": "<p>Like an if statement, guard executes statements based on a Boolean value of an expression. Unlike an if statement, guard statements only run if the conditions are not met. You can think of guard more like an Assert, but rather than crashing, you can gracefully exit.</p>\n\n<p>refer to:\n<a href=\"http://ericcerney.com/swift-guard-statement/\" rel=\"nofollow\">http://ericcerney.com/swift-guard-statement/</a></p>\n", "title": "Swift 2 guard keyword", "answer_id": 35798588, "link": "http://stackoverflow.com/questions/30791488/swift-2-guard-keyword/35798588#35798588", "tags": ["swift2", "guard-statement"]}, {"body": "<h3>When to use guards</h3>  \n\n<p>If you\u2019ve got a view controller with a few UITextField elements or some other type of user input, you\u2019ll immediately notice that you must unwrap the textField.text optional to get to the text inside (if any!). isEmpty won\u2019t do you any good here, without any input the text field will simply return nil.</p>\n\n<p>So you have a few of these which you unwrap and eventually pass to a function that posts them to a server endpoint. We don\u2019t want the server code to have to deal with nil values or mistakenly send invalid values to the server so we\u2019ll unwrap those input values with guard first.</p>\n\n<pre><code>func submit() {\n    guard let name = nameField.text else {\n        show(\"No name to submit\")\n        return\n    }\n\n    guard let address = addressField.text else {\n        show(\"No address to submit\")\n        return\n    }\n\n    guard let phone = phoneField.text else {\n        show(\"No phone to submit\")\n        return\n    }\n\n    sendToServer(name, address: address, phone: phone)\n}\n\nfunc sendToServer(name: String, address: String, phone: String) {\n  ...\n}\n</code></pre>\n\n<p>You\u2019ll notice that our server communication function takes non-optional String values as parameters, hence the guard unwrapping beforehand. The unwrapping is a little unintuitive because we\u2019re used to unwrapping with if let which unwraps values for use inside a block. Here the guard statement has an associated block but it\u2019s actually an else block - i.e. the thing you do if the unwrapping fails - the values are unwrapped straight into the same context as the statement itself.</p>\n\n<p>// separation of concerns</p>\n\n<h3>Without guard</h3>\n\n<p>Without using guard, we\u2019d end up with a big pile of code that resembles a <em>pyramid of doom</em>. This doesn\u2019t scale well for adding new fields to our form or make for very readable code. Indentation can be difficult to follow, particularly with so many else statements at each fork.</p>\n\n<pre><code>func nonguardSubmit() {\n    if let name = nameField.text {\n        if let address = addressField.text {\n            if let phone = phoneField.text {\n                sendToServer(name, address: address, phone: phone)\n            } else {\n                show(\"no phone to submit\")\n            }\n        } else {\n            show(\"no address to submit\")\n        }\n    } else {\n        show(\"no name to submit\")\n    }\n}\n</code></pre>\n\n<p>Yes, we could even combine all these if let statements into a single statement separated with commas but we would loose the ability to figure out which statement failed and present a message to the user.</p>\n\n<p><a href=\"https://thatthinginswift.com/guard-statement-swift/\" rel=\"nofollow\">https://thatthinginswift.com/guard-statement-swift/</a></p>\n", "title": "Swift 2 guard keyword", "answer_id": 38064815, "link": "http://stackoverflow.com/questions/30791488/swift-2-guard-keyword/38064815#38064815", "tags": ["swift2", "guard-statement"]}, {"body": "<p>Simply put, it provides a way to validate fields prior to execution. This is a good programming style as it enhances readability. In other languages, it may look like this:</p>\n\n<pre><code>func doSomething() {\n    if something == nil {\n        // return, break, throw error, etc.\n    }\n    ...\n}\n</code></pre>\n\n<p>But because Swift provides you with optionals, we can't check if it's nil <strong>and</strong> assign its value to a variable. In contrast, <code>if let</code> checks that it's <em>not nil</em> and assigns a variable to hold the actual value. This is where <code>guard</code> comes into play. It gives you a more concise way of exiting early using optionals.</p>\n", "title": "Swift 2 guard keyword", "answer_id": 38422446, "link": "http://stackoverflow.com/questions/30791488/swift-2-guard-keyword/38422446#38422446", "tags": ["swift2", "guard-statement"]}], "question_id": 30791488}, {"body": "<p>I've found this C program from the web:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint main(){\n\n    printf(\"C%d\\n\",(int)(90-(-4.5//**/\n    -4.5)));\n\n    return 0;\n}\n</code></pre>\n\n<p>The interesting thing with this program is that when it is compiled and run in C89 mode, it prints <code>C89</code> and when it is compiled and run in C99 mode, it prints <code>C99</code>. But I am not able to figure out how this program works.</p>\n\n<p>Can you explain how the second argument of <code>printf</code> works in the above program?</p>\n", "title": "How does the below program output `C89` when compiled in C89 mode and `C99` when compiled in C99 mode?", "tags": ["c", "printf", "comments", "c99", "c89"], "answer_count": 3, "link": "http://stackoverflow.com/questions/31115453/how-does-the-below-program-output-c89-when-compiled-in-c89-mode-and-c99-when", "answers": [{"body": "<p>C99 allows <code>//</code>-style comments, C89 does not. So, to translate:</p>\n\n<p>C99:</p>\n\n<pre><code> printf(\"C%d\\n\",(int)(90-(-4.5     /*Some  comment stuff*/\n                         -4.5)));\n// Outputs: 99\n</code></pre>\n\n<p>C89:</p>\n\n<pre><code>printf(\"C%d\\n\",(int)(90-(-4.5/      \n                         -4.5)));\n/* so  we get 90-1 or 89 */\n</code></pre>\n", "title": "How does the below program output `C89` when compiled in C89 mode and `C99` when compiled in C99 mode?", "answer_id": 31115514, "link": "http://stackoverflow.com/questions/31115453/how-does-the-below-program-output-c89-when-compiled-in-c89-mode-and-c99-when/31115514#31115514", "tags": ["c", "printf", "comments", "c99", "c89"]}, {"body": "<p>the line comment <code>//</code> is introduced since C99. Therefore your code is equal to this in C89</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint main(){\n\n    printf(\"C%d\\n\",(int)(90-(-4.5/\n-4.5)));\n\n    return 0;\n}\n/* 90 - (-4.5 / -4.5) = 89 */\n</code></pre>\n\n<p>and equal to this in C99</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint main(){\n\n    printf(\"C%d\\n\",(int)(90-(-4.5\n-4.5)));\n\n    return 0;\n}\n/* 90 - (-4.5 - 4.5) = 99*/\n</code></pre>\n", "title": "How does the below program output `C89` when compiled in C89 mode and `C99` when compiled in C99 mode?", "answer_id": 31115523, "link": "http://stackoverflow.com/questions/31115453/how-does-the-below-program-output-c89-when-compiled-in-c89-mode-and-c99-when/31115523#31115523", "tags": ["c", "printf", "comments", "c99", "c89"]}, {"body": "<p>Because <code>//</code> comments only exist in C99 and later standards, the code is equivalent to the following:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint main (void)\n{\n  int vers;\n\n  #if   __STDC_VERSION__ &gt;= 201112L\n    vers = 99; // oops\n  #elif __STDC_VERSION__ &gt;= 199901L\n    vers = 99;\n  #else\n    vers = 90;\n  #endif\n\n  printf(\"C%d\", vers);\n\n  return 0;\n}\n</code></pre>\n\n<p>Correct code would be:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint main (void)\n{\n  int vers;\n\n  #if   __STDC_VERSION__ &gt;= 201112L\n    vers = 11;\n  #elif __STDC_VERSION__ &gt;= 199901L\n    vers = 99;\n  #else\n    vers = 90;\n  #endif\n\n  printf(\"C%d\", vers);\n\n  return 0;\n}\n</code></pre>\n", "title": "How does the below program output `C89` when compiled in C89 mode and `C99` when compiled in C99 mode?", "answer_id": 31116505, "link": "http://stackoverflow.com/questions/31115453/how-does-the-below-program-output-c89-when-compiled-in-c89-mode-and-c99-when/31116505#31116505", "tags": ["c", "printf", "comments", "c99", "c89"]}], "question_id": 31115453}, {"body": "<p>The following code compiles in Swift 1.2:</p>\n\n<pre><code>class myClass {\n    static func myMethod1() {\n    }\n    class func myMethod2() {\n    }\n    static var myVar1 = \"\"\n}\n\nfunc doSomething() {\n    myClass.myMethod1()\n    myClass.myMethod2()\n    myClass.myVar1 = \"abc\"\n}\n</code></pre>\n\n<p>What is the difference between a <strong>static</strong> function and a <strong>class</strong> function? Which one should I use, and when?</p>\n\n<p>If I try to define another variable <code>class var myVar2 = \"\"</code>, it says:</p>\n\n<blockquote>\n  <p>Class stored properties not yet supported in classes; did you mean 'static'?</p>\n</blockquote>\n\n<p>When this feature is supported, what will the difference be between a <strong>static</strong> variable and a <strong>class</strong> variable (i.e. when both are defined in a class)? Which one should I use, and when?</p>\n\n<p>(Xcode 6.3)</p>\n", "title": "Static vs class functions/variables in Swift classes?", "tags": ["function", "class", "swift", "variables", "static"], "answer_count": 5, "link": "http://stackoverflow.com/questions/29636633/static-vs-class-functions-variables-in-swift-classes", "answers": [{"body": "<p><code>static</code> and <code>class</code> both associate a method with a class, rather than an instance of a class. The difference is that subclasses can override <code>class</code> methods; they cannot override <code>static</code> methods.</p>\n\n<p><code>class</code> properties will theoretically function in the same way (subclasses can override them), but they're not possible in Swift yet.</p>\n", "title": "Static vs class functions/variables in Swift classes?", "answer_id": 29636742, "link": "http://stackoverflow.com/questions/29636633/static-vs-class-functions-variables-in-swift-classes/29636742#29636742", "tags": ["function", "class", "swift", "variables", "static"]}, {"body": "<p>Regarding to <strong>OOP</strong>, the answer is too simple:</p>\n\n<p>The subclasses can override <strong>class</strong> methods, but cannot override <strong>static</strong> methods.</p>\n\n<p>In addition to your post, if you want to declare a <strong>class</strong> variable (like you did <code>class var myVar2 = \"\"</code>), you should do it as follow:</p>\n\n<pre><code>class var myVar2:String {\n    return \"whatever you want\"\n}\n</code></pre>\n", "title": "Static vs class functions/variables in Swift classes?", "answer_id": 31083478, "link": "http://stackoverflow.com/questions/29636633/static-vs-class-functions-variables-in-swift-classes/31083478#31083478", "tags": ["function", "class", "swift", "variables", "static"]}, {"body": "<p>I tried mipadi's answer and comments on playground. And thought of sharing it. Here you go. I think mipadi's answer should be mark as accepted.</p>\n\n<pre><code>class A{\n    class func classFunction(){\n    }\n    static func staticFunction(){\n    }\n    class func classFunctionToBeMakeFinalInImmediateSubclass(){\n    }\n}\n\nclass B: A {\n    override class func classFunction(){\n\n    }\n\n    //Compile Error. Class method overrides a 'final' class method\n    override static func staticFunction(){\n\n    }\n\n    //Lets avoid the function called 'classFunctionToBeMakeFinalInImmediateSubclass' being overriden by subclasses\n\n    /* First way of doing it\n    override static func classFunctionToBeMakeFinalInImmediateSubclass(){\n    }\n    */\n\n    // Second way of doing the same\n    override final class func classFunctionToBeMakeFinalInImmediateSubclass(){\n    }\n\n    //To use static or final class is choice of style.\n    //As mipadi suggests I would use. static at super class. and final class to cut off further overrides by a subclass\n}\n\nclass C: B{\n    //Compile Error. Class method overrides a 'final' class method\n    override static func classFunctionToBeMakeFinalInImmediateSubclass(){\n\n    }\n}\n</code></pre>\n", "title": "Static vs class functions/variables in Swift classes?", "answer_id": 33098564, "link": "http://stackoverflow.com/questions/29636633/static-vs-class-functions-variables-in-swift-classes/33098564#33098564", "tags": ["function", "class", "swift", "variables", "static"]}, {"body": "<p>I got this confusion in one of my project as well and found this post, very helpful. Tried the same in my playground and here is the summary. Hope this helps someone with stored properties and functions of type \"static\", \"final\",\"class\", overriding class vars etc.</p>\n\n<pre><code>class Simple {\n\n    init() {print(\"init method called in base\")}\n\n    class func one() {print(\"class - one()\")}\n\n    class func two() {print(\"class - two()\")}\n\n    static func staticOne() {print(\"staticOne()\")}\n\n    static func staticTwo() {print(\"staticTwo()\")}\n\n    final func yesFinal() {print(\"yesFinal()\")}\n\n    static var myStaticVar = \"static var in base\"\n\n    //Class stored properties not yet supported in classes; did you mean 'static'?\n    class var myClassVar1 = \"class var1\"\n\n    //This works fine\n    class var myClassVar: String {\n       return \"class var in base\"\n    }\n}\n\nclass SubSimple: Simple {\n    //Successful override\n    override class func one() {\n        print(\"subClass - one()\")\n    }\n    //Successful override\n    override class func two () {\n        print(\"subClass - two()\")\n    }\n\n    //Error: Class method overrides a 'final' class method\n    override static func staticOne() {\n\n    }\n\n    //error: Instance method overrides a 'final' instance method\n    override final func yesFinal() {\n\n    }\n\n    //Works fine\n    override class var myClassVar: String {\n        return \"class var in subclass\"\n    }\n}\n</code></pre>\n\n<p>And here is the testing samples:</p>\n\n<pre><code>print(Simple.one())\nprint(Simple.two())\nprint(Simple.staticOne())\nprint(Simple.staticTwo())\nprint(Simple.yesFinal(Simple()))\nprint(SubSimple.one())\nprint(Simple.myStaticVar)\nprint(Simple.myClassVar)\nprint(SubSimple.myClassVar)\n\n//Output\nclass - one()\nclass - two()\nstaticOne()\nstaticTwo()\ninit method called in base\n(Function)\nsubClass - one()\nstatic var in base\nclass var in base\nclass var in subclass\n</code></pre>\n", "title": "Static vs class functions/variables in Swift classes?", "answer_id": 37770112, "link": "http://stackoverflow.com/questions/29636633/static-vs-class-functions-variables-in-swift-classes/37770112#37770112", "tags": ["function", "class", "swift", "variables", "static"]}, {"body": "<p>There's one more difference. <code>class</code> can be used to define type properties of <strong>computed type only</strong>. If you need a <strong>stored type property</strong> use <code>static</code> instead.</p>\n\n<p><a href=\"https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/Properties.html\" rel=\"nofollow\">\"You define type properties with the static keyword. For computed type properties for class types, you can use the class keyword instead to allow subclasses to override the superclass\u2019s implementation.\"</a></p>\n", "title": "Static vs class functions/variables in Swift classes?", "answer_id": 39056333, "link": "http://stackoverflow.com/questions/29636633/static-vs-class-functions-variables-in-swift-classes/39056333#39056333", "tags": ["function", "class", "swift", "variables", "static"]}], "question_id": 29636633}, {"body": "<p>Unlike C#'s <code>IEnumerable</code>, where an execution pipeline can be executed as many times as we want, in Java a stream can be 'iterated' only once. </p>\n\n<p>Any call to a terminal operation closes the stream, rendering it unusable.\nThis 'feature' takes away a lot of power. </p>\n\n<p>I imagine the reason for this is <em>not</em> technical. What were the design considerations behind this strange restriction?</p>\n\n<p>Edit: in order to demonstrate what I am talking about, consider the following implementation of Quick-Sort in C#:</p>\n\n<pre><code>IEnumerable&lt;int&gt; QuickSort(IEnumerable&lt;int&gt; ints)\n{\n  if (!ints.Any()) {\n    return Enumerable.Empty&lt;int&gt;();\n  }\n\n  int pivot = ints.First();\n\n  IEnumerable&lt;int&gt; lt = ints.Where(i =&gt; i &lt; pivot);\n  IEnumerable&lt;int&gt; gt = ints.Where(i =&gt; i &gt; pivot);\n\n  return QuickSort(lt).Concat(new int[] { pivot }).Concat(QuickSort(gt));\n}\n</code></pre>\n\n<p>Now to be sure, I am not advocating that this is a good implementation of quick sort! It is however great example of the expressive power of lambda expression combined with stream operation. </p>\n\n<p>And it can't be done in Java!\nI can't even ask a stream whether it is empty without rendering it unusable. </p>\n", "title": "Why are Java Streams once-off?", "tags": ["java", "java-8", "java-stream", "api-design"], "answer_count": 4, "link": "http://stackoverflow.com/questions/28459498/why-are-java-streams-once-off", "answers": [{"body": "<h1>Background</h1>\n\n<p>While the question appears simple, the actual answer requires some background to make sense. If you want to skip to the conclusion, scroll down...</p>\n\n<h2>Pick your comparison point - Basic functionality</h2>\n\n<p>Using basic concepts, C#'s <code>IEnumerable</code> concept is more closely related to <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html\">Java's <code>Iterable</code></a>, which is able to create as many <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html\">Iterators</a> as you want. <a href=\"https://msdn.microsoft.com/en-us/library/System.Collections.IEnumerable(v=vs.110).aspx\"><code>IEnumerables</code></a> create <a href=\"https://msdn.microsoft.com/en-us/library/system.collections.ienumerator(v=vs.110).aspx\"><code>IEnumerators</code></a>. Java's <code>Iterable</code> create <code>Iterators</code></p>\n\n<p>The history of each concept is similar, in that both <code>IEnumerable</code> and <code>Iterable</code> have a basic motivation to allow 'for-each' style looping over the members of data collections. That's an oversimplification as they both allow more than just that, and they also arrived at that stage via different progressions, but it is a significant common feature regardless.</p>\n\n<p>Let's compare that feature: in both languages, if a class implements the <code>IEnumerable</code>/<code>Iterable</code>, then that class must implement at least a single method (for C#, it's <code>GetEnumerator</code> and for Java it's <code>iterator()</code>). In each case, the instance returned from that (<code>IEnumerator</code>/<code>Iterator</code>) allows you to access the current and subsequent members of the data. This feature is used in the for-each language syntax.</p>\n\n<h2>Pick your comparison point - Enhanced functionality</h2>\n\n<p><code>IEnumerable</code> in C# has been extended to allow a number of other language features (<a href=\"https://msdn.microsoft.com/en-us/library/vstudio/system.linq.enumerable(v=vs.100).aspx\">mostly related to Linq</a>). Features added include selections, projections, aggregations, etc. These extensions have a strong motivation from use in set-theory, similar to SQL and Relational Database concepts.</p>\n\n<p>Java 8 has also had functionality added to enable a degree of functional programming using Streams and Lambdas. Note that Java 8 streams are not primarily motivated by set theory, but by functional programming. Regardless, there are a lot of parallels.</p>\n\n<p>So, this is the second point. The enhancements made to C# were implemented as an enhancement to the <code>IEnumerable</code> concept. In Java, though, the enhancements made were implemented by creating new base concepts of Lambdas and Streams, and then also creating a relatively trivial way to convert from <code>Iterators</code> and <code>Iterables</code> to Streams, and visa-versa.</p>\n\n<p>So, comparing IEnumerable to Java's Stream concept is incomplete. You need to compare it to the combined Streams and Collections API's in Java.</p>\n\n<h2>In Java, Streams are not the same as Iterables, or Iterators</h2>\n\n<p>Streams are not designed to solve problems the same way that iterators are:</p>\n\n<ul>\n<li>Iterators are a way of describing the sequence of data.</li>\n<li>Streams are a way of describing a sequence of data transformations.</li>\n</ul>\n\n<p>With an <code>Iterator</code>, you get a data value, process it, and then get another data value.</p>\n\n<p>With Streams, you chain a sequence of functions together, then you feed an input value to the stream, and get the output value from the combined sequence. Note, in Java terms, each function is encapsulated in a single <code>Stream</code> instance. The Streams API allows you to link a sequence of <code>Stream</code> instances in a way that chains a sequence of transformation expressions.</p>\n\n<p>In order to complete the <code>Stream</code> concept, you need a source of data to feed the stream, and a terminal function that consumes the stream.</p>\n\n<p>The way you feed values in to the stream may in fact be from an <code>Iterable</code>, but the <code>Stream</code> sequence itself is not an <code>Iterable</code>, it is a compound function.</p>\n\n<p>A <code>Stream</code> is also intended to be lazy, in the sense that it only does work when you request a value from it.</p>\n\n<p>Note these significant assumptions and features of Streams:</p>\n\n<ul>\n<li>A <code>Stream</code> in Java is a transformation engine, it transforms a data item in one state, to being in another state.</li>\n<li>streams have no concept of the data order or position, the simply transform whatever they are asked to.</li>\n<li>streams can be supplied with data from many sources, including other streams, Iterators, Iterables, Collections, </li>\n<li>you cannot \"reset\" a stream, that would be like \"reprogramming the transformation\". Resetting the data source is probably what you want.</li>\n<li>there is logically only 1 data item 'in flight' in the stream at any time (unless the stream is a parallel stream, at which point, there is 1 item per thread). This is independent of the data source which may have more than the current items 'ready' to be supplied to the stream, or the stream collector which  may need to aggregate and reduce multiple values.</li>\n<li>Streams can be unbound (infinite), limited only by the data source, or collector (which can be infinite too).</li>\n<li>Streams are 'chainable', the output of filtering one stream, is another stream. Values input to and transformed by a stream can in turn be supplied to another stream which does a different transformation. The data, in its transformed state flows from one stream to the next. You do not need to intervene and pull the data from one stream and plug it in to the next.</li>\n</ul>\n\n<h2>C# Comparison</h2>\n\n<p>When you consider that a Java Stream is just a part of a supply, stream, and collect system, and that Streams and Iterators are often used together with Collections, then it is no wonder that it is hard to relate to the same concepts which are almost all embedded in to a single <code>IEnumerable</code> concept in C#.</p>\n\n<p>Parts of IEnumerable (and close related concepts) are apparent in all of the Java Iterator, Iterable, Lambda, and Stream concepts.</p>\n\n<p>There are small things that the Java concepts can do that are harder in IEnumerable, and visa-versa.</p>\n\n<hr>\n\n<h1>Conclusion</h1>\n\n<ul>\n<li>There's no design problem here, just a problem in matching concepts between the languages.</li>\n<li>Streams solve problems in a different way</li>\n<li>Streams add functionality to Java (they add a different way of doing things, they do not take functionality away)</li>\n</ul>\n\n<p>Adding Streams gives you more choices when solving problems, which is fair to classify as 'enhancing power', not 'reducing', 'taking away', or 'restricting' it.</p>\n\n<h3>Why are Java Streams once-off?</h3>\n\n<p>This question is misguided, because streams are function sequences, not data. Depending on the data source that feeds the stream, you can reset the data source, and feed the same, or different stream.</p>\n\n<h3>Unlike C#'s IEnumerable, where an execution pipeline can be executed as many times as we want, in Java a stream can be 'iterated' only once.</h3>\n\n<p>Comparing an <code>IEnumerable</code> to a <code>Stream</code> is misguided. The context you are using to say <code>IEnumerable</code> can be executed as many times as you want, is best compared to Java <code>Iterables</code>, which can be iterated as many times as you want. A Java <code>Stream</code> represents a subset of the <code>IEnumerable</code> concept, and not the subset that supplies data, and thus cannot be 'rerun'.</p>\n\n<h3>Any call to a terminal operation closes the stream, rendering it unusable. This 'feature' takes away a lot of power.</h3>\n\n<p>The first statement is true, in a sense. The 'takes away power' statement is not. You are still comparing Streams it IEnumerables. The terminal operation in the stream is like a 'break' clause in a for loop. You are always free to have another stream, if you want, and if you can re-supply the data you need. Again, if you consider the <code>IEnumerable</code> to be more like an <code>Iterable</code>, for this statement, Java does it just fine.</p>\n\n<h3>I imagine the reason for this is not technical. What were the design considerations behind this strange restriction?</h3>\n\n<p>The reason is technical, and for the simple reason that a Stream a subset of what think it is. The stream subset does not control the data supply, so you should reset the supply, not the stream. In that context, it is not so strange.</p>\n\n<h3>QuickSort example</h3>\n\n<p>Your quicksort example has the signature:</p>\n\n<pre><code>IEnumerable&lt;int&gt; QuickSort(IEnumerable&lt;int&gt; ints)\n</code></pre>\n\n<p>You are treating the input <code>IEnumerable</code> as a data source:</p>\n\n<pre><code>IEnumerable&lt;int&gt; lt = ints.Where(i =&gt; i &lt; pivot);\n</code></pre>\n\n<p>Additionally, return value is <code>IEnumerable</code> too, which is a supply of data, and since this is a Sort operation, the order of that supply is significant. If you consider the Java <code>Iterable</code> class to be the appropriate match for this, specifically the <code>List</code> specialization of <code>Iterable</code>, since List is a supply of data which has a guaranteed order or iteration, then the equivalent Java code to your code would be:</p>\n\n<pre><code>Stream&lt;Integer&gt; quickSort(List&lt;Integer&gt; ints) {\n    // Using a stream to access the data, instead of the simpler ints.isEmpty()\n    if (!ints.stream().findAny().isPresent()) {\n        return Stream.of();\n    }\n\n    // treating the ints as a data collection, just like the C#\n    final Integer pivot = ints.get(0);\n\n    // Using streams to get the two partitions\n    List&lt;Integer&gt; lt = ints.stream().filter(i -&gt; i &lt; pivot).collect(Collectors.toList());\n    List&lt;Integer&gt; gt = ints.stream().filter(i -&gt; i &gt; pivot).collect(Collectors.toList());\n\n    return Stream.concat(Stream.concat(quickSort(lt), Stream.of(pivot)),quickSort(gt));\n}    \n</code></pre>\n\n<p>Note there is a bug (which I have reproduced), in that the sort does not handle duplicate values gracefully, it is a 'unique value' sort.</p>\n\n<p>Also note how the Java code uses data source (<code>List</code>), and stream concepts at different point, and that in C# those two 'personalities' can be expressed in just <code>IEnumerable</code>. Also, although I have use <code>List</code> as the base type, I could have used the more general <code>Collection</code>, and with a small iterator-to-Stream conversion, I could have used the even more general <code>Iterable</code></p>\n", "title": "Why are Java Streams once-off?", "answer_id": 28459604, "link": "http://stackoverflow.com/questions/28459498/why-are-java-streams-once-off/28459604#28459604", "tags": ["java", "java-8", "java-stream", "api-design"]}, {"body": "<p><code>Stream</code>s are built around <code>Spliterator</code>s which are stateful, mutable objects. They don\u2019t have a \u201creset\u201d action and in fact, requiring to support such rewind action would \u201ctake away much power\u201d. How would <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Random.html#ints--\"><code>Random.ints()</code></a> be supposed to handle such a request?</p>\n\n<p>On the other hand, for <code>Stream</code>s which have a retraceable origin, it is easy to construct an equivalent <code>Stream</code> to be used again. Just put the steps made to construct the <code>Stream</code> into a reusable method. Keep in mind that repeating these steps is not an expensive operation as all these steps are lazy operations; the actual work starts with the terminal operation and depending on the actual terminal operation entirely different code might get executed.</p>\n\n<p>It would be up to you, the writer of such a method, to specify what calling the method twice implies: does it reproduce exactly the same sequence, as streams created for an unmodified array or collection do, or does it produce a stream with a similar semantics but different elements like a stream of random ints or a stream of console input lines, etc.</p>\n\n<hr>\n\n<p>By the way, to avoid confusion, a terminal operation <em>consumes</em> the <code>Stream</code> which is distinct from <em>closing</em> the <code>Stream</code> as calling <code>close()</code> on the stream does (which is required for streams having associated resources like, e.g. produced by <code>Files.lines()</code>).</p>\n\n<hr>\n\n<p>It seems that a lot of confusion stems from misguiding comparison of <code>IEnumerable</code> with <code>Stream</code>. An <code>IEnumerable</code> represents the ability to provide an actual <code>IEnumerator</code>, so its like an <code>Iterable</code> in Java. In contrast, a <code>Stream</code> is a kind of iterator and comparable to an <code>IEnumerator</code> so it\u2019s wrong to claim that this kind of data type can be used multiple times in .NET, the support for <code>IEnumerator.Reset</code> is optional. The examples discussed here rather use the fact that an <code>IEnumerable</code> can be used to fetch <em>new</em> <code>IEnumerator</code>s and that works with Java\u2019s <code>Collection</code>s  as well; you can get a new <code>Stream</code>. If the Java developers decided to add the <code>Stream</code> operations to <code>Iterable</code> directly, with intermediate operations returning another <code>Iterable</code>, it was really comparable and it could work the same way.</p>\n\n<p>However, the developers decided against it and the decision is discussed in <a href=\"http://stackoverflow.com/q/24472312/2711488\">this question</a>. The biggest point is the confusion about eager Collection operations and lazy Stream operations. By looking at the .NET API, I (yes, personally) find it justified. While it looks reasonable looking at <code>IEnumerable</code> alone, a particular Collection will have lots of methods manipulating the Collection directly and lots of methods returning a lazy <code>IEnumerable</code>, while the particular nature of a method isn\u2019t always intuitively recognizable. The worst example I found (within the few minutes I looked at it) is <a href=\"https://msdn.microsoft.com/de-de/library/b0axc2h2(v=vs.110).aspx\"><code>List.Reverse()</code></a> whose name matches <em>exactly</em> the name of the inherited (is this the right terminus for extension methods?) <a href=\"https://msdn.microsoft.com/de-de/library/bb358497(v=vs.110).aspx\"><code>Enumerable.Reverse()</code></a> while having an entirely contradicting behavior.</p>\n\n<hr>\n\n<p>Of course, these are two distinct decisions. The first one to make <code>Stream</code> a type distinct from <code>Iterable</code>/<code>Collection</code> and the second to make <code>Stream</code> a kind of one time iterator rather than another kind of iterable. But these decision were made together and it might be the case that separating these two decision never was considered. It wasn\u2019t created with being comparable to .NET\u2019s in mind.</p>\n\n<p>The actual API design decision was to add an improved type of iterator, the <code>Spliterator</code>. <code>Spliterator</code>s can be provided by the old <code>Iterable</code>s (which is the way how these were retrofitted) or entirely new implementations. Then, <code>Stream</code> was added as a high-level front-end to the rather low level <code>Spliterator</code>s. That\u2019s it. You may discuss about whether a different design would be better, but that\u2019s not productive, it won\u2019t change, given the way they are designed now.</p>\n\n<p>There is another implementation aspect you have to consider. <code>Stream</code>s are <em>not</em> immutable data structures. Each intermediate operation may return a new <code>Stream</code> instance encapsulating the old one but it may also manipulate its own instance instead and return itself (that doesn\u2019t preclude doing even both for the same operation). Commonly known examples are operations like <code>parallel</code> or <code>unordered</code> which do not add another step but manipulate the entire pipeline). Having such a mutable data structure and attempts to reuse (or even worse, using it multiple times at the same time) doesn\u2019t play well\u2026</p>\n\n<hr>\n\n<p>For completeness, here is your quicksort example translated to the Java <code>Stream</code> API. It shows that it does not really \u201ctake away much power\u201d.</p>\n\n<pre><code>static Stream&lt;Integer&gt; quickSort(Supplier&lt;Stream&lt;Integer&gt;&gt; ints) {\n\n  final Optional&lt;Integer&gt; optPivot = ints.get().findAny();\n  if(!optPivot.isPresent()) return Stream.empty();\n\n  final int pivot = optPivot.get();\n\n  Supplier&lt;Stream&lt;Integer&gt;&gt; lt = ()-&gt;ints.get().filter(i -&gt; i &lt; pivot);\n  Supplier&lt;Stream&lt;Integer&gt;&gt; gt = ()-&gt;ints.get().filter(i -&gt; i &gt; pivot);\n\n  return Stream.of(quickSort(lt), Stream.of(pivot), quickSort(gt)).flatMap(s-&gt;s);\n}\n</code></pre>\n\n<p>It can be used like</p>\n\n<pre><code>List&lt;Integer&gt; l=new Random().ints(100, 0, 1000).boxed().collect(Collectors.toList());\nSystem.out.println(l);\nSystem.out.println(quickSort(l::stream)\n    .map(Object::toString).collect(Collectors.joining(\", \")));\n</code></pre>\n\n<p>You can write it even more compact as</p>\n\n<pre><code>static Stream&lt;Integer&gt; quickSort(Supplier&lt;Stream&lt;Integer&gt;&gt; ints) {\n    return ints.get().findAny().map(pivot -&gt;\n         Stream.of(\n                   quickSort(()-&gt;ints.get().filter(i -&gt; i &lt; pivot)),\n                   Stream.of(pivot),\n                   quickSort(()-&gt;ints.get().filter(i -&gt; i &gt; pivot)))\n        .flatMap(s-&gt;s)).orElse(Stream.empty());\n}\n</code></pre>\n", "title": "Why are Java Streams once-off?", "answer_id": 28460301, "link": "http://stackoverflow.com/questions/28459498/why-are-java-streams-once-off/28460301#28460301", "tags": ["java", "java-8", "java-stream", "api-design"]}, {"body": "<p>I think there are very few differences between the two when you look closely enough.</p>\n\n<p>At it's face, an <code>IEnumerable</code> does appear to be a reusable construct:</p>\n\n<pre><code>IEnumerable&lt;int&gt; numbers = new int[] { 1, 2, 3, 4, 5 };\n\nforeach (var n in numbers) {\n    Console.WriteLine(n);\n}\n</code></pre>\n\n<p>However, the compiler is actually doing a little bit of work to help us out; it generates the following code:</p>\n\n<pre><code>IEnumerable&lt;int&gt; numbers = new int[] { 1, 2, 3, 4, 5 };\n\nIEnumerator&lt;int&gt; enumerator = numbers.GetEnumerator();\nwhile (enumerator.MoveNext()) {\n    Console.WriteLine(enumerator.Current);\n}\n</code></pre>\n\n<p>Each time you would actually iterate over the enumerable, the compiler creates an enumerator.  The enumerator is not reusable; further calls to <code>MoveNext</code> will just return false, and there is no way to reset it to the beginning.  If you want to iterate over the numbers again, you will need to create another enumerator instance.</p>\n\n<hr>\n\n<p>To better illustrate that the IEnumerable has (can have) the same 'feature' as a Java Stream, consider a enumerable whose source of the numbers is not a static collection.  For example, we can create an enumerable object which generates a sequence of 5 random numbers:</p>\n\n<pre><code>class Generator : IEnumerator&lt;int&gt; {\n    Random _r;\n    int _current;\n    int _count = 0;\n\n    public Generator(Random r) {\n        _r = r;\n    }\n\n    public bool MoveNext() {\n        _current= _r.Next();\n        _count++;\n        return _count &lt;= 5;\n    }\n\n    public int Current {\n        get { return _current; }\n    }\n }\n\nclass RandomNumberStream : IEnumerable&lt;int&gt; {\n    Random _r = new Random();\n    public IEnumerator&lt;int&gt; GetEnumerator() {\n        return new Generator(_r);\n    }\n    public IEnumerator IEnumerable.GetEnumerator() {\n        return this.GetEnumerator();\n    }\n}\n</code></pre>\n\n<p>Now we have very similar code to the previous array-based enumerable, but with a second iteration over <code>numbers</code>:</p>\n\n<pre><code>IEnumerable&lt;int&gt; numbers = new RandomNumberStream();\n\nforeach (var n in numbers) {\n    Console.WriteLine(n);\n}\nforeach (var n in numbers) {\n    Console.WriteLine(n);\n}\n</code></pre>\n\n<p>The second time we iterate over <code>numbers</code> we will get a different sequence of numbers, which isn't reusable in the same sense.  Or, we could have written the <code>RandomNumberStream</code> to thrown an exception if you try to iterate over it multiple times, making the enumerable actually unusable (like a Java Stream).</p>\n\n<p>Also, what does your enumerable-based quick sort mean when applied to a <code>RandomNumberStream</code>?</p>\n\n<hr>\n\n<h2>Conclusion</h2>\n\n<p>So, the biggest difference is that .NET allows you to reuse an <code>IEnumerable</code> by implicitly creating a new <code>IEnumerator</code> in the background whenever it would need to access elements in the sequence.</p>\n\n<p>This implicit behavior is often useful (and 'powerful' as you state), because we can repeatedly iterate over a collection.</p>\n\n<p>But sometimes, this implicit behavior can actually cause problems.  If your data source is not static, or is costly to access (like a database or web site), then a lot of assumptions about <code>IEnumerable</code> have to be discarded; reuse is not that straight-forward</p>\n", "title": "Why are Java Streams once-off?", "answer_id": 28465634, "link": "http://stackoverflow.com/questions/28459498/why-are-java-streams-once-off/28465634#28465634", "tags": ["java", "java-8", "java-stream", "api-design"]}, {"body": "<p>I have some recollections from the early design of the Streams API that might shed some light on the design rationale.</p>\n\n<p>Back in 2012, we were adding lambdas to the language, and we wanted a collections-oriented or \"bulk data\" set of operations, programmed using lambdas, that would facilitate parallelism. The idea of lazily chaining operations together was well established by this point. We also didn't want the intermediate operations to store results.</p>\n\n<p>The main issues we needed to decide were what the objects in the chain looked like in the API and how they hooked up to data sources. The sources were often collections, but we also wanted to support data coming from a file or the network, or data generated on-the-fly, e.g., from a random number generator.</p>\n\n<p>There were many influences of existing work on the design. Among the more influential were Google's <a href=\"https://code.google.com/p/guava-libraries/\">Guava</a> library and the Scala collections library. (If anybody is surprised about the influence from Guava, note that <a href=\"http://stackoverflow.com/users/202214/kevin-bourrillion\">Kevin Bourrillion</a>, Guava lead developer, was on the <a href=\"https://jcp.org/en/jsr/detail?id=335\">JSR-335 Lambda</a> expert group.) On Scala collections, we found this talk by Martin Odersky to be of particular interest: <a href=\"http://youtu.be/HoIOIluNFzQ\">Future-Proofing Scala Collections: from Mutable to Persistent to Parallel</a>. (Stanford EE380, 2011 June 1.)</p>\n\n<p>Our prototype design at the time was based around <code>Iterable</code>. The familiar operations <code>filter</code>, <code>map</code>, and so forth were extension (default) methods on <code>Iterable</code>. Calling one added an operation to the chain and returned another <code>Iterable</code>. A terminal operation like <code>count</code> would call <code>iterator()</code> up the chain to the source, and the operations were implemented within each stage's Iterator.</p>\n\n<p>Since these are Iterables, you can call the <code>iterator()</code> method more than once. What should happen then?</p>\n\n<p>If the source is a collection, this mostly works fine. Collections are Iterable, and each call to <code>iterator()</code> produces a distinct Iterator instance that is independent of any other active instances, and each traverses the collection independently. Great.</p>\n\n<p>Now what if the source is one-shot, like reading lines from a file? Maybe the first Iterator should get all the values but the second and subsequent ones should be empty. Maybe the values should be interleaved among the Iterators. Or maybe each Iterator should get all the same values. Then, what if you have two iterators and one gets farther ahead of the other? Somebody will have to buffer up the values in the second Iterator until they're read. Worse, what if you get one Iterator and read all the values, and only <em>then</em> get a second Iterator. Where do the values come from now? Is there a requirement for them all to be buffered up <em>just in case</em> somebody wants a second Iterator?</p>\n\n<p>Clearly, allowing multiple Iterators over a one-shot source raises a lot of questions. We didn't have good answers for them. We wanted consistent, predictable behavior for what happens if you call <code>iterator()</code> twice. This pushed us toward disallowing multiple traversals, making the pipelines one-shot.</p>\n\n<p>We also observed others bumping into these issues. In the JDK, most Iterables are collections or collection-like objects, which allow multiple traversal. It isn't specified anywhere, but there seemed to be an unwritten expectation that Iterables allow multiple traversal. A notable exception is the NIO <a href=\"http://docs.oracle.com/javase/8/docs/api/java/nio/file/DirectoryStream.html\">DirectoryStream</a> interface. Its specification includes this interesting warning:</p>\n\n<blockquote>\n  <p><strong>While DirectoryStream extends Iterable, it is not a general-purpose Iterable as it supports only a single Iterator; invoking the iterator method to obtain a second or subsequent iterator throws IllegalStateException.</strong></p>\n</blockquote>\n\n<p>[bold in original]</p>\n\n<p>This seemed unusual and unpleasant enough that we didn't want to create a whole bunch of new Iterables that might be once-only. This pushed us away from using Iterable.</p>\n\n<p>About this time, an <a href=\"http://www.artima.com/weblogs/viewpost.jsp?thread=339521\">article by Bruce Eckel</a> appeared that described a spot of trouble he'd had with Scala. He'd written this code:</p>\n\n<pre><code>// Scala\nval lines = fromString(data).getLines\nval registrants = lines.map(Registrant)\nregistrants.foreach(println)\nregistrants.foreach(println)\n</code></pre>\n\n<p>It's pretty straightforward. It parses lines of text into <code>Registrant</code> objects and prints them out twice. Except that it actually only prints them out once. It turns out that he thought that <code>registrants</code> was a collection, when in fact it's an iterator. The second call to <code>foreach</code> encounters an empty iterator, from which all values have been exhausted, so it prints nothing.</p>\n\n<p>This kind of experience convinced us that it was very important to have clearly predictable results if multiple traversal is attempted. It also highlighted the importance of distinguishing between lazy pipeline-like structures from actual collections that store data. This in turn drove the separation of the lazy pipeline operations into the new Stream interface and keeping only eager, mutative operations directly on Collections. <a href=\"http://stackoverflow.com/a/24472635/1441122\">Brian Goetz has explained</a> the rationale for that.</p>\n\n<p>What about allowing multiple traversal for collection-based pipelines but disallowing it for non-collection-based pipelines? It's inconsistent, but it's sensible. If you're reading values from the network, <em>of course</em> you can't traverse them again. If you want to traverse them multiple times, you have to pull them into a collection explicitly.</p>\n\n<p>But let's explore allowing multiple traversal from collections-based pipelines. Let's say you did this:</p>\n\n<pre><code>Iterable&lt;?&gt; it = source.filter(...).map(...).filter(...).map(...);\nit.into(dest1);\nit.into(dest2);\n</code></pre>\n\n<p>(The <code>into</code> operation is now spelled <code>collect(toList())</code>.)</p>\n\n<p>If source is a collection, then the first <code>into()</code> call will create a chain of Iterators back to the source, execute the pipeline operations, and send the results into the destination. The second call to <code>into()</code> will create another chain of Iterators, and execute the pipeline operations <strong>again</strong>. This isn't obviously wrong but it does have the effect of performing all the filter and map operations a second time for each element. I think many programmers would have been surprised by this behavior.</p>\n\n<p>As I mentioned above, we had been talking to the Guava developers. One of the cool things they have is an <a href=\"https://code.google.com/p/guava-libraries/wiki/IdeaGraveyard\">Idea Graveyard</a> where they describe features that they decided <strong>not</strong> to implement along with the reasons. The idea of lazy collections sounds pretty cool, but here's what they have to say about it. Consider a <code>List.filter()</code> operation that returns a <code>List</code>:</p>\n\n<blockquote>\n  <p>The biggest concern here is that too many operations become expensive, linear-time propositions. If you want to filter a list and get a list back, and not just a Collection or an Iterable, you can use <code>ImmutableList.copyOf(Iterables.filter(list, predicate))</code>, which \"states up front\" what it's doing and how expensive it is.</p>\n</blockquote>\n\n<p>To take a specific example, what's the cost of <code>get(0)</code> or <code>size()</code> on a List? For commonly used classes like <code>ArrayList</code>, they're O(1). But if you call one of these on a lazily-filtered list, it has to run the filter over the backing list, and all of a sudden these operations are O(n). Worse, it has to traverse the backing list on <strong>every</strong> operation.</p>\n\n<p>This seemed to us to be <em>too much</em> laziness. It's one thing to set up some operations and defer actual execution until you so \"Go\". It's another to set things up in such a way that hides a potentially large amount of recomputation.</p>\n\n<p>In proposing to disallow non-linear or \"no-reuse\" streams, <a href=\"http://stackoverflow.com/users/4042945/paul-sandoz\">Paul Sandoz</a> described the <a href=\"http://mail.openjdk.java.net/pipermail/lambda-libs-spec-experts/2012-November/000412.html\">potential consequences</a> of allowing them as giving rise to \"unexpected or confusing results.\" He also mentioned that parallel execution would make things even trickier. Finally, I'd add that a pipeline operation with side effects would lead to difficult and obscure bugs if the operation were unexpectedly executed multiple times, or at least a different number of times than the programmer expected. (But Java programmers don't write lambda expressions with side effects, do they? DO THEY??)</p>\n\n<p>So that's the basic rationale for the Java 8 Streams API design that allows one-shot traversal and that requires a strictly linear (no branching) pipeline. It provides consistent behavior across multiple different stream sources, it clearly separates lazy from eager operations, and it provides a straightforward execution model.</p>\n\n<hr>\n\n<p>With regard to <code>IEnumerable</code>, I am far from an expert on C# and .NET, so I would appreciate being corrected (gently) if I draw any incorrect conclusions. It does appear, however, that <code>IEnumerable</code> permits multiple traversal to behave differently with different sources; and it permits a branching structure of nested <code>IEnumerable</code> operations, which may result in some significant recomputation. While I appreciate that different systems make different tradeoffs, these are two characteristics that we sought to avoid in the design of the Java 8 Streams API.</p>\n\n<p>The quicksort example given by the OP is interesting, puzzling, and I'm sorry to say, somewhat horrifying. Calling <code>QuickSort</code> takes an <code>IEnumerable</code> and returns an <code>IEnumerable</code>, so no sorting is actually done until the final <code>IEnumerable</code> is traversed. What the call seems to do, though, is build up a tree structure of <code>IEnumerables</code> that reflects the partitioning that quicksort would do, without actually doing it. (This is lazy computation, after all.) If the source has N elements, the tree will be N elements wide at its widest, and it will be lg(N) levels deep.</p>\n\n<p>It seems to me -- and once again, I'm not a C# or .NET expert -- that this will cause certain innocuous-looking calls, such as pivot selection via <code>ints.First()</code>, to be more expensive than they look. At the first level, of course, it's O(1). But consider a partition deep in the tree, at the right-hand edge. To compute the first element of this partition, the entire source has to be traversed, an O(N) operation. But since the partitions above are lazy, they must be recomputed, requiring O(lg N) comparisons. So selecting the pivot would be an O(N lg N) operation, which is as expensive as an entire sort.</p>\n\n<p>But we don't actually sort until we traverse the returned <code>IEnumerable</code>. In the standard quicksort algorithm, each level of partitioning doubles the number of partitions. Each partition is only half the size, so each level remains at O(N) complexity. The tree of partitions is O(lg N) high, so the total work is O(N lg N).</p>\n\n<p>With the tree of lazy IEnumerables, at the bottom of the tree there are N partitions. Computing each partition requires a traversal of N elements, each of which requires lg(N) comparisons up the tree. To compute all the partitions at the bottom of the tree, then, requires O(N^2 lg N) comparisons.</p>\n\n<p>(Is this right? I can hardly believe this. Somebody please check this for me.)</p>\n\n<p>In any case, it is indeed cool that <code>IEnumerable</code> can be used this way to build up complicated structures of computation. But if it does increase the computational complexity as much as I think it does, it would seem that programming this way is something that should be avoided unless one is extremely careful.</p>\n", "title": "Why are Java Streams once-off?", "answer_id": 28513908, "link": "http://stackoverflow.com/questions/28459498/why-are-java-streams-once-off/28513908#28513908", "tags": ["java", "java-8", "java-stream", "api-design"]}], "question_id": 28459498}, {"body": "<p>I just created a new Swift project within Xcode. I am wondering which version of Swift it's using. </p>\n\n<p><em>How can I see, in Xcode or the terminal, what version of Swift I am using inside my project?</em>.</p>\n", "title": "How do I see which version of Swift I&#39;m using in Xcode?", "tags": ["ios", "xcode", "swift", "terminal"], "answer_count": 3, "link": "http://stackoverflow.com/questions/30790188/how-do-i-see-which-version-of-swift-im-using-in-xcode", "answers": [{"body": "<p>What I do is say in the Terminal:</p>\n\n<pre><code>$ xcrun swift -version\n</code></pre>\n\n<p>Output for Xcode 6.3.2 is:</p>\n\n<pre><code>Apple Swift version 1.2 (swiftlang-602.0.53.1 clang-602.0.53)\n</code></pre>\n\n<p>Of course that assumes that your <code>xcrun</code> is pointing at your copy of Xcode correctly. If, like me, you're juggling several versions of Xcode, that can be a worry! To make sure that it is, say</p>\n\n<pre><code>$ xcrun --find swift\n</code></pre>\n\n<p>and look at the path to Xcode that it shows you. For example:</p>\n\n<pre><code>/Applications/Xcode.app/...\n</code></pre>\n\n<p>If that's your Xcode, then the output from <code>-version</code> is accurate. If you need to repoint <code>xcrun</code>, use the Command Line Tools pop-up menu in Xcode's Locations preference pane.</p>\n", "title": "How do I see which version of Swift I&#39;m using in Xcode?", "answer_id": 30790542, "link": "http://stackoverflow.com/questions/30790188/how-do-i-see-which-version-of-swift-im-using-in-xcode/30790542#30790542", "tags": ["ios", "xcode", "swift", "terminal"]}, {"body": "<p>Open the Terminal and write:</p>\n\n<pre><code>swift -version\n</code></pre>\n", "title": "How do I see which version of Swift I&#39;m using in Xcode?", "answer_id": 37599850, "link": "http://stackoverflow.com/questions/30790188/how-do-i-see-which-version-of-swift-im-using-in-xcode/37599850#37599850", "tags": ["ios", "xcode", "swift", "terminal"]}, {"body": "<p>Open Terminal and type following command(s)  </p>\n\n<p><strong>Case 1: You have installed only one Xcode App</strong> </p>\n\n<pre><code>swift -version\n</code></pre>\n\n<p><strong>Case 2: You have installed multiple Xcode Apps</strong></p>\n\n<ul>\n<li><p>Switch <code>active developer directory</code> (Replace <code>Xcode_7.3.app</code> from\nfollowing command with your Xcode app file name from <em>Application</em> directory for which you want\nto check swift version)</p>\n\n<pre><code> sudo xcode-select --switch /Applications/Xcode_7.3.app/Contents/Developer\n</code></pre></li>\n<li><p>Then</p>\n\n<pre><code> swift -version\n</code></pre></li>\n</ul>\n", "title": "How do I see which version of Swift I&#39;m using in Xcode?", "answer_id": 38445749, "link": "http://stackoverflow.com/questions/30790188/how-do-i-see-which-version-of-swift-im-using-in-xcode/38445749#38445749", "tags": ["ios", "xcode", "swift", "terminal"]}], "question_id": 30790188}, {"body": "<p>I'm trying to run a modified version of the <a href=\"https://github.com/aspnet/Home/tree/master/samples/HelloWeb\">HelloWeb sample</a> for ASP.NET vNext on DNX using Kestrel. I understand that this is <em>very</em> much on the bleeding edge, but I would hope that the ASP.NET team would at least keep the simplest possible web app working :)</p>\n\n<p>Environment:</p>\n\n<ul>\n<li>Linux (Ubuntu, pretty much)</li>\n<li>Mono 3.12.1</li>\n<li>DNX 1.0.0-beta4-11257 (I have 11249 available too)</li>\n</ul>\n\n<p>\"Web app\" code, in <code>Startup.cs</code>:</p>\n\n<pre><code>using Microsoft.AspNet.Builder;\npublic class Startup\n{\n    public void Configure(IApplicationBuilder app)\n    {\n        app.UseWelcomePage();\n    }\n}\n</code></pre>\n\n<p>Project config, in <code>project.json</code>:</p>\n\n<pre><code>{\n  \"dependencies\": {\n    \"Kestrel\": \"1.0.0-beta4\",\n    \"Microsoft.AspNet.Diagnostics\": \"1.0.0-beta4\",\n    \"Microsoft.AspNet.Hosting\": \"1.0.0-beta4\",\n    \"Microsoft.AspNet.Server.WebListener\": \"1.0.0-beta4\",\n    \"Microsoft.AspNet.StaticFiles\": \"1.0.0-beta4\",\n    \"Microsoft.Framework.Runtime\": \"1.0.0-beta4\",\n    \"Microsoft.Framework.Runtime.Common\": \"1.0.0-beta4\",\n    \"Microsoft.Framework.Runtime.Loader\": \"1.0.0-beta4\",\n    \"Microsoft.Framework.Runtime.Interfaces\": \"1.0.0-beta4\",\n  },\n  \"commands\": {\n    \"kestrel\": \"Microsoft.AspNet.Hosting --server Kestrel --server.urls http://localhost:5004\"\n  },\n  \"frameworks\": {\n    \"dnx451\": {}\n  }\n}\n</code></pre>\n\n<p><code>kpm restore</code> appears to work fine.</p>\n\n<p>When I try to run, however, I get an exception suggesting that <code>Microsoft.Framework.Runtime.IApplicationEnvironment</code> can't be found. Command line and error (somewhat reformatted)</p>\n\n<pre><code>.../HelloWeb$ dnx . kestrel\nSystem.IO.FileNotFoundException: Could not load file or assembly \n'Microsoft.Framework.Runtime.IApplicationEnvironment,\n  Version=0.0.0.0, Culture=neutral, PublicKeyToken=null'\nor one of its dependencies.\nFile name: 'Microsoft.Framework.Runtime.IApplicationEnvironment,\n  Version=0.0.0.0, Culture=neutral, PublicKeyToken=null'\n  at (wrapper managed-to-native) System.Reflection.MonoMethod:InternalInvoke \n    (System.Reflection.MonoMethod,object,object[],System.Exception&amp;)\n  at System.Reflection.MonoMethod.Invoke \n    (System.Object obj, BindingFlags invokeAttr, System.Reflection.Binder binder,\n     System.Object[] parameters, System.Globalization.CultureInfo culture)\n    [0x00000] in &lt;filename unknown&gt;:0\n</code></pre>\n\n<p>While obviously my most pressing need is to fix this, I'd also appreciate advice on how to move diagnose what's going wrong so I can fix similar issues myself in the future. (That's also likely to make this question more useful to others, too.)</p>\n\n<p>I've found <code>Microsoft.Framework.Runtime.IApplicationEnvironment</code> in the <a href=\"https://github.com/aspnet/DNX/blob/dev/src/Microsoft.Framework.Runtime.Interfaces/IApplicationEnvironment.cs\"><code>Microsoft.Framework.Runtime.Interfaces</code> assembly source</a>, and that doesn't appear to have changed recently. It's not clear why the exception shows the name as if it's a whole assembly in itself, rather than just an interface within another assembly. <strike>I'm guessing this <em>may</em> be due to <a href=\"https://github.com/aspnet/Home/wiki/Assembly-Neutral-Interfaces\">assembly neutral interfaces</a>, but it's not clear from the error.</strike> (<a href=\"https://github.com/aspnet/DNX/commit/5f8bf5614d04b82dc69aedf48a5b2f832f00ca8f\"><code>[AssemblyNeutral]</code> is dead, so that's not it...</a>)</p>\n", "title": "How can I diagnose missing dependencies (or other loader failures) in dnx?", "tags": ["asp.net-core", "dnx"], "answer_count": 6, "link": "http://stackoverflow.com/questions/29007962/how-can-i-diagnose-missing-dependencies-or-other-loader-failures-in-dnx", "answers": [{"body": "<p>To get it to work I modified my <code>project.json</code> .. it now looks like:</p>\n\n<pre><code>{\n\"dependencies\": {\n    \"Kestrel\": \"1.0.0-*\",\n    \"Microsoft.AspNet.Diagnostics\": \"1.0.0-*\",\n    \"Microsoft.AspNet.Hosting\": \"1.0.0-*\",\n    \"Microsoft.AspNet.Server.WebListener\": \"1.0.0-*\",\n    \"Microsoft.AspNet.StaticFiles\": \"1.0.0-*\"\n},\n\"commands\": {\n    \"web\": \"Microsoft.AspNet.Hosting --server Microsoft.AspNet.Server.WebListener --server.urls http://localhost:5001\",\n    \"kestrel\": \"Microsoft.AspNet.Hosting --server Kestrel --server.urls http://localhost:5004\"\n},\n\"frameworks\": {\n    }\n}\n</code></pre>\n\n<p>The key seemed to be the frameworks section.</p>\n\n<p>Also the rename changed how <code>k web</code> works so that its now <code>dnx . web</code> or <code>dnx . kestrel</code></p>\n\n<p><strong>Update - bit more info</strong></p>\n\n<p>Oddly, after running with no frameworks defined it went and got a bunch of extra stuff when I did <code>kpm restore</code> :</p>\n\n<pre><code>...\nInstalling Microsoft.Framework.Logging 1.0.0-beta4-11001\nInstalling Microsoft.Framework.Logging.Interfaces 1.0.0-beta4-11001\nInstalling Microsoft.Framework.DependencyInjection.Interfaces 1.0.0-beta4-11010\nInstalling Microsoft.Framework.DependencyInjection 1.0.0-beta4-11010\nInstalling Microsoft.Framework.ConfigurationModel 1.0.0-beta4-10976\nInstalling Microsoft.Framework.ConfigurationModel.Interfaces 1.0.0-beta4-10976\nInstalling Microsoft.AspNet.Hosting.Interfaces 1.0.0-beta4-11328\nInstalling Microsoft.AspNet.FeatureModel 1.0.0-beta4-11104\nInstalling Microsoft.AspNet.Http 1.0.0-beta4-11104\nInstalling Microsoft.AspNet.FileProviders.Interfaces 1.0.0-beta4-11006\nInstalling Microsoft.Framework.Caching.Interfaces 1.0.0-beta4-10981\nInstalling Microsoft.AspNet.FileProviders 1.0.0-beta4-11006\nInstalling Microsoft.AspNet.Http.Core 1.0.0-beta4-11104\nInstalling Microsoft.AspNet.WebUtilities 1.0.0-beta4-11104\nInstalling Microsoft.Net.Http.Headers 1.0.0-beta4-11104\nInstalling Microsoft.AspNet.Http.Interfaces 1.0.0-beta4-11104\nInstalling Microsoft.Framework.Runtime.Interfaces 1.0.0-beta4-11257\nInstalling Microsoft.AspNet.Server.Kestrel 1.0.0-beta4-11262\nInstalling Microsoft.Net.Http.Server 1.0.0-beta4-11698\nInstalling Microsoft.Net.WebSockets 1.0.0-beta4-11698\nInstalling Microsoft.Net.WebSocketAbstractions 1.0.0-beta4-10915\nInstalling Microsoft.Framework.WebEncoders 1.0.0-beta4-11104\nInstalling Microsoft.Framework.OptionsModel 1.0.0-beta4-10984\nInstalling Microsoft.AspNet.Http.Extensions 1.0.0-beta4-11104\nInstalling Microsoft.AspNet.Diagnostics.Interfaces 1.0.0-beta4-12451\nInstalling Microsoft.AspNet.RequestContainer 1.0.0-beta4-11328\n</code></pre>\n\n<p>.. then it ran fine. Then I switched back in the framework section</p>\n\n<pre><code>\"frameworks\": {\n    \"dnx451\": {}\n}\n</code></pre>\n\n<p>.. and it still worked, whereas before it would throw up an error !</p>\n\n<p>Very odd!</p>\n\n<p>(Im running <code>1.0.0-beta4-11257</code>)</p>\n\n<p><strong>Further update</strong></p>\n\n<p>I spun up a new Ubuntu instance, and got the same error as you .. My thought was that the issue may be caused by it only trying to get packages from <code>nuget.org</code> and not <code>myget.org</code> (which has the newer things) so i dropped in a <code>NuGet.Config</code> into the root of the project..</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;configuration&gt;\n  &lt;packageSources&gt;\n    &lt;add key=\"AspNetVNext\" value=\"https://www.myget.org/F/aspnetvnext/\" /&gt;\n    &lt;add key=\"NuGet\" value=\"https://nuget.org/api/v2/\" /&gt;\n  &lt;/packageSources&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>.. this seems to have fixed it for me by getting the correct versions (after another <code>kpm restore</code>).</p>\n", "title": "How can I diagnose missing dependencies (or other loader failures) in dnx?", "answer_id": 29008409, "link": "http://stackoverflow.com/questions/29007962/how-can-i-diagnose-missing-dependencies-or-other-loader-failures-in-dnx/29008409#29008409", "tags": ["asp.net-core", "dnx"]}, {"body": "<p>I still don't know <em>entirely</em> what was wrong, but I now have a series of steps to at least make it easier to try things:</p>\n\n<ul>\n<li>When in doubt, reinstall dnx\n<ul>\n<li>Blowing away the package cache can be helpful</li>\n</ul></li>\n<li>Check <code>~/.config/NuGet.config</code> to ensure you're using the right NuGet feeds</li>\n</ul>\n\n<p>I ended up using the following command line to test various options in a reasonably clean way:</p>\n\n<pre><code>rm -rf ~/.dnx/packages &amp;&amp; rm -rf ~/.dnx/runtimes &amp;&amp; dnvm upgrade &amp;&amp; kpm restore &amp;&amp; dnx . kestrel\n</code></pre>\n\n<p>It looks like my problem was really due to the wrong versions of the dependencies being installed. A version number of <code>\"1.0.0-beta4\"</code> is apparently quite different to <code>\"1.0.0-beta4-*\"</code>. For example, the <code>Kestrel</code> dependency installed version 1.0.0-beta4-11185 when just specified as <code>1.0.0-beta4</code>, but version 1.0.0-beta4-11262 with the <code>-*</code> at the end. I wanted to specify <code>beta4</code> explicitly to avoid accidentally using a beta3 build with the </p>\n\n<p>The following project config works fine:</p>\n\n<pre><code>{\n  \"dependencies\": {\n    \"Kestrel\": \"1.0.0-beta4-*\",\n    \"Microsoft.AspNet.Diagnostics\": \"1.0.0-beta4-*\",\n    \"Microsoft.AspNet.Hosting\": \"1.0.0-beta4-*\",\n    \"Microsoft.AspNet.Server.WebListener\": \"1.0.0-beta4-*\",\n  },\n  \"commands\": {\n    \"kestrel\": \"Microsoft.AspNet.Hosting --server Kestrel --server.urls http://localhost:5004\"\n  },\n  \"frameworks\": {\n    \"dnx451\": {}\n  }\n}\n</code></pre>\n", "title": "How can I diagnose missing dependencies (or other loader failures) in dnx?", "answer_id": 29010036, "link": "http://stackoverflow.com/questions/29007962/how-can-i-diagnose-missing-dependencies-or-other-loader-failures-in-dnx/29010036#29010036", "tags": ["asp.net-core", "dnx"]}, {"body": "<p>You can set an env var named <code>DNX_TRACE</code> to <code>1</code> to see a TON more diagnostic info. Be warned, it's <em>a lot</em> more info!</p>\n", "title": "How can I diagnose missing dependencies (or other loader failures) in dnx?", "answer_id": 29022824, "link": "http://stackoverflow.com/questions/29007962/how-can-i-diagnose-missing-dependencies-or-other-loader-failures-in-dnx/29022824#29022824", "tags": ["asp.net-core", "dnx"]}, {"body": "<p>Good question. For your specific problem, it looks like you have a mismatch in your resolved dependencies. When things like this happen it's likely because you're running your application on an incompatible dnx. We're still making very big breaking changes so if you ever see method missing of type missing, chances are you ended up running <code>betaX</code> packages and <code>betaY</code> dnx or vice versa.</p>\n\n<p>Even more specifically, <a href=\"http://davidfowl.com/assembly-neutral-interfaces/\">Assembly Neutral Interfaces</a> were removed in beta4 but it looks like the application you are running is still using them.</p>\n\n<p>We have plans to make it so that packages can mark the minimum dnx that they require to run to make the error message more clear. Also as time goes by, the breaking changes will die down.</p>\n\n<p>In general though, I feel like it's time I wrote a guide on how to diagnose issues like this when using the dnx (since it's pretty different to existing .NET).</p>\n\n<p>Dependencies you put into <code>project.json</code> are top level only. Versions are also <strong>always minimums</strong> (it's just like a NuGet package). This means that when you specify <code>Foo 1.0.0-beta4</code> you're really specifying <code>Foo &gt;= 1.0.0-beta4</code>. This means if you ask for <code>MVC 0.0.1</code> and the minimum versions on your configured feed is <code>MVC 3.0.0</code>, you'll get that one. We also <em>NEVER</em> float your version unless you specify it. If you ask for 1.0.0 and it exists, you will get 1.0.0 even if newer versions exist. Specifying empty versions is <em>ALWAYS</em> bad and will be disallowed in later builds.</p>\n\n<p>There's a new feature we're introducing to nuget called floating versions. Today it only works on the prerelease tag, but in the next version it'll work on more parts of the version. This is similar to npm and gem syntax for specifying version ranges in the package specification file.</p>\n\n<p><code>1.0.0-*</code> - Means give me the HIGHEST version matching the prefix (according to <a href=\"http://semver.org/\">semantic versioning rules</a>) OR if there is no version matching that prefix, use normal behavior and get me the LOWEST version >= the specified version.</p>\n\n<p>When you run restore in the latest builds, it will write out a file called <code>project.lock.json</code>. This file will have the transitive closure of dependencies for all target frameworks defined in <code>project.json</code>.</p>\n\n<p>When something like this fails you can do the following:</p>\n\n<p>Take a look at the resolved dependencies using <code>kpm list</code>. This will show you the resolved versions of packages referenced by your project and what dependency pulled it in. e.g. if A -> B, it'll show:</p>\n\n<pre>\nA\n  -> B\nB\n ->\n</pre>\n\n<p>Actual KPM list output:</p>\n\n<p>Listing dependencies for ClassLibrary39 (C:\\Users\\davifowl\\Documents\\Visual Studio 14\\Projects\\ClassLibrary39\\src\\ClassLibrary39\\project.json)</p>\n\n<pre><code>[Target framework DNX,Version=v4.5.1 (dnx451)]\n\n framework/Microsoft.CSharp 4.0.0.0\n    -&gt; ClassLibrary39 1.0.0\n framework/mscorlib 4.0.0.0\n    -&gt; ClassLibrary39 1.0.0\n framework/System 4.0.0.0\n    -&gt; ClassLibrary39 1.0.0\n framework/System.Core 4.0.0.0\n    -&gt; ClassLibrary39 1.0.0\n*Newtonsoft.Json 6.0.1\n    -&gt; ClassLibrary39 1.0.0\n\n[Target framework DNXCore,Version=v5.0 (dnxcore50)]\n\n*Newtonsoft.Json 6.0.1\n    -&gt; ClassLibrary39 1.0.0\n System.Runtime 4.0.20-beta-22709\n    -&gt; ClassLibrary39 1.0.0\n</code></pre>\n\n<p>* means direct dependency.</p>\n\n<p>If you have a working visual studio (which breaks with DNX right now), you can look at the references node. It has the same data represented visually:</p>\n\n<p><img src=\"http://i.stack.imgur.com/0twmZ.png\" alt=\"References node\"></p>\n\n<p>Let's look at what a dependency failure looks like:</p>\n\n<p>Here's the project.json</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{\n    \"version\": \"1.0.0-*\",\n    \"dependencies\": {\n        \"Newtonsoft.Json\": \"8.0.0\"\n    },\n\n    \"frameworks\" : {\n        \"dnx451\" : { \n            \"dependencies\": {\n            }\n        },\n        \"dnxcore50\" : { \n            \"dependencies\": {\n                \"System.Runtime\": \"4.0.20-beta-22709\"\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><code>Newtonsoft.Json 8.0.0</code> doesn't exist. So running kpm restore shows the following:</p>\n\n<p><img src=\"http://i.stack.imgur.com/C9bUv.png\" alt=\"enter image description here\"></p>\n\n<p>When diagnosing when restore might have failed, look at the HTTP requests made, they tell you what configured package sources kpm looked in. Notice in the above image, there is a <code>CACHE</code> request. This is the built in caching based on the type of resource (nupkg or nuspec) and has a configurable TTL (look at <code>kpm restore --help</code>). If you want to force <code>kpm</code> to hit the remote NuGet sources, use the <code>--no-cache</code> flag:</p>\n\n<p><img src=\"http://i.stack.imgur.com/yRgef.png\" alt=\"KPM restore --no-cache\"></p>\n\n<p>These errors also show up in Visual Studio in the package manager log output window:</p>\n\n<p><img src=\"http://i.stack.imgur.com/pRwNh.png\" alt=\"enter image description here\"></p>\n\n<p>Side note!</p>\n\n<h2>Package Sources</h2>\n\n<p>I'll describe the way NuGet.config works right now (which will likely change in the future). By default you have a NuGet.config with the default NuGet.org source configured globally in <code>%appdata%\\NuGet\\NuGet.Config</code>. You can manage these global sources within visual studio or with the NuGet command line tool. You should always look at your effective sources (the ones listed in the kpm output) when trying to diagnose failures. </p>\n\n<p>Read more about NuGet.config <a href=\"http://docs.nuget.org/consume/nuget-config-file\">here</a></p>\n\n<p>Back to reality:</p>\n\n<p>When dependencies are unresolved, running the application will give you this:</p>\n\n<pre><code>&gt; dnx . run\nSystem.InvalidOperationException: Failed to resolve the following dependencies for target framework 'DNX,Version=v4.5.1':\n   Newtonsoft.Json 8.0.0\n\nSearched Locations:\n  C:\\Users\\davifowl\\Documents\\Visual Studio 14\\Projects\\ClassLibrary39\\src\\{name}\\project.json\n  C:\\Users\\davifowl\\Documents\\Visual Studio 14\\Projects\\ClassLibrary39\\test\\{name}\\project.json\n  C:\\Users\\davifowl\\.dnx\\packages\\{name}\\{version}\\{name}.nuspec\n  C:\\Program Files (x86)\\Reference Assemblies\\Microsoft\\Framework\\.NETFramework\\v4.5.1\\{name}.dll\n  C:\\Program Files (x86)\\Reference Assemblies\\Microsoft\\Framework\\.NETFramework\\v4.5.1\\Facades\\{name}.dll\n  C:\\WINDOWS\\Microsoft.NET\\assembly\\GAC_32\\{name}\\{version}\\{name}.dll\n  C:\\WINDOWS\\Microsoft.NET\\assembly\\GAC_64\\{name}\\{version}\\{name}.dll\n  C:\\WINDOWS\\Microsoft.NET\\assembly\\GAC_MSIL\\{name}\\{version}\\{name}.dll\n\nTry running 'kpm restore'.\n\n   at Microsoft.Framework.Runtime.DefaultHost.GetEntryPoint(String applicationName)\n   at Microsoft.Framework.ApplicationHost.Program.ExecuteMain(DefaultHost host, String applicationName, String[] args)\n   at Microsoft.Framework.ApplicationHost.Program.Main(String[] args)\n</code></pre>\n\n<p>The runtime basically tries to validate that the entire dependency graph is resolved before attempting to run. If it suggests running <code>kpm restore</code> it's because it can't find the dependencies listed.</p>\n\n<p>Another reason why you might get this error is if you're running the wrong dnx flavor. If your application only specifies dnx451 and you try to run the CoreCLR dnx, you might see a similar problem. Pay close attention to the target framework in the error message:</p>\n\n<p>For running:</p>\n\n<pre><code>dnx4x - runs on dnx-clr-{etc}\ndnxcore50 - runs on dnx-coreclr-{etc}\n</code></pre>\n\n<p>When you're trying to run, you should remember that mental mapping from clr to target framework defined in your <code>project.json</code>.</p>\n\n<p>This also shows up in Visual Studio under the references node:\n<img src=\"http://i.stack.imgur.com/owSbT.png\" alt=\"Unresolved dependencies\"></p>\n\n<p>The nodes marked as yellow are unresolved. </p>\n\n<p>These also show up in the error list:</p>\n\n<p><img src=\"http://i.stack.imgur.com/hhiy7.png\" alt=\"Error list unresolved dependencies\"></p>\n\n<h2>Building</h2>\n\n<p>These errors also show up when building. When building from the command line, the output is very verbose and can be extremely useful when diagnosing problems:</p>\n\n<pre><code>&gt; kpm build\n\nBuilding ClassLibrary39 for DNX,Version=v4.5.1\n  Using Project dependency ClassLibrary39 1.0.0\n    Source: C:\\Users\\davifowl\\Documents\\Visual Studio 14\\Projects\\ClassLibrary39\\src\\ClassLibrary39\\project.json\n\n  Using Assembly dependency framework/mscorlib 4.0.0.0\n    Source: C:\\Program Files (x86)\\Reference Assemblies\\Microsoft\\Framework\\.NETFramework\\v4.5.1\\mscorlib.dll\n\n  Using Assembly dependency framework/System 4.0.0.0\n    Source: C:\\Program Files (x86)\\Reference Assemblies\\Microsoft\\Framework\\.NETFramework\\v4.5.1\\System.dll\n\n  Using Assembly dependency framework/System.Core 4.0.0.0\n    Source: C:\\Program Files (x86)\\Reference Assemblies\\Microsoft\\Framework\\.NETFramework\\v4.5.1\\System.Core.dll\n\n  Using Assembly dependency framework/Microsoft.CSharp 4.0.0.0\n    Source: C:\\Program Files (x86)\\Reference Assemblies\\Microsoft\\Framework\\.NETFramework\\v4.5.1\\Microsoft.CSharp.dll\n\n\nBuilding ClassLibrary39 for DNXCore,Version=v5.0\n  Using Project dependency ClassLibrary39 1.0.0\n    Source: C:\\Users\\davifowl\\Documents\\Visual Studio 14\\Projects\\ClassLibrary39\\src\\ClassLibrary39\\project.json\n\n  Using Package dependency System.Console 4.0.0-beta-22709\n    Source: C:\\Users\\davifowl\\.dnx\\packages\\System.Console\\4.0.0-beta-22709\n    File: lib\\contract\\System.Console.dll\n\n  Using Package dependency System.IO 4.0.10-beta-22231\n    Source: C:\\Users\\davifowl\\.dnx\\packages\\System.IO\\4.0.10-beta-22231\n    File: lib\\contract\\System.IO.dll\n\n  Using Package dependency System.Runtime 4.0.20-beta-22231\n    Source: C:\\Users\\davifowl\\.dnx\\packages\\System.Runtime\\4.0.20-beta-22231\n    File: lib\\contract\\System.Runtime.dll\n\n  Using Package dependency System.Text.Encoding 4.0.10-beta-22231\n    Source: C:\\Users\\davifowl\\.dnx\\packages\\System.Text.Encoding\\4.0.10-beta-22231\n    File: lib\\contract\\System.Text.Encoding.dll\n\n  Using Package dependency System.Threading.Tasks 4.0.10-beta-22231\n    Source: C:\\Users\\davifowl\\.dnx\\packages\\System.Threading.Tasks\\4.0.10-beta-22231\n    File: lib\\contract\\System.Threading.Tasks.dll\n</code></pre>\n\n<p>The output shows all of the assemblies passed into the compiler from packages and project references. When you start getting build failures, it's useful to look here to make sure that the package you are using actually works on that target platform.</p>\n\n<p>Here's an example of a package that doesn't work on dnxcore50:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{\n    \"version\": \"1.0.0-*\",\n    \"dependencies\": {\n        \"Microsoft.Owin.Host.SystemWeb\": \"3.0.0\"\n    },\n\n    \"frameworks\": {\n        \"dnx451\": {\n            \"dependencies\": {\n            }\n        },\n        \"dnxcore50\": {\n            \"dependencies\": {\n                \"System.Console\": \"4.0.0-beta-22709\"\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Microsoft.Owin.Host.SystemWeb version 3.0.0 does not have any assemblies that run on dnxcore50 (take a look at the unzipped package's lib folder). When we run <code>kpm build</code>:</p>\n\n<p><img src=\"http://i.stack.imgur.com/SsAFK.png\" alt=\"Missing assemblies on dnxcore50\"></p>\n\n<p>Notice it says \"using Package Microsoft.Owin.Host.SystemWeb\" but there is not \"File:\". This could be the reason for a build failure.</p>\n\n<p>Here ends my brain dump</p>\n", "title": "How can I diagnose missing dependencies (or other loader failures) in dnx?", "answer_id": 29161703, "link": "http://stackoverflow.com/questions/29007962/how-can-i-diagnose-missing-dependencies-or-other-loader-failures-in-dnx/29161703#29161703", "tags": ["asp.net-core", "dnx"]}, {"body": "<p>I was having dependency missing issues as well with trying to appease dnxcore50 and dnx451 references.</p>\n\n<p>If I understand this right \"dependencies\": {} are shared between the frameworks. </p>\n\n<p>Then \"dependencies\":{} within the \"frameworks\": are specific to that framework.</p>\n\n<p>dnxcore50 is a modular runtime (self contained) so it basically contains all the core runtimes need to run a program unlike classic .net framework where you have core dependencies scattered about elsewhere.</p>\n\n<p>So with that said I wanted to stick to the minimal approach incase I decided to host on mac or linux at some point.</p>\n\n<p><strong>Update</strong>\nRan into weird dependency issues with cshtml views, just went with dnx451 for now.</p>\n\n<p>This is my project.json</p>\n\n<pre><code>{\n\"webroot\": \"wwwroot\",\n\"version\": \"1.0.0-*\",\n\n\"dependencies\": {\n    \"System.Runtime\": \"4.0.10\",\n    \"Microsoft.AspNet.Hosting\": \"1.0.0-beta4\",\n    \"Microsoft.AspNet.Mvc\": \"6.0.0-beta4\",\n    \"Microsoft.AspNet.Server.IIS\": \"1.0.0-beta6-12075\",\n    \"Microsoft.AspNet.Server.WebListener\": \"1.0.0-beta6-12457\",\n    \"Microsoft.Framework.DependencyInjection\": \"1.0.0-beta4\",\n    \"Microsoft.Framework.DependencyInjection.Interfaces\": \"1.0.0-beta5\"\n },\n\n\"commands\": {\n\"web\": \"Microsoft.AspNet.Hosting --server Microsoft.AspNet.Server.WebListener --server.urls http://admin.heartlegacylocal.com\"  },\n\n\"frameworks\": {\n\"dnx451\": { }\n }\n},\n\n\"publishExclude\": [\n\"node_modules\",\n\"bower_components\",\n\"**.xproj\",\n\"**.user\",\n\"**.vspscc\"\n],\n\"exclude\": [\n  \"wwwroot\",\n  \"node_modules\",\n  \"bower_components\"\n  ]\n}\n</code></pre>\n", "title": "How can I diagnose missing dependencies (or other loader failures) in dnx?", "answer_id": 31459781, "link": "http://stackoverflow.com/questions/29007962/how-can-i-diagnose-missing-dependencies-or-other-loader-failures-in-dnx/31459781#31459781", "tags": ["asp.net-core", "dnx"]}, {"body": "<p>These days, all of my <code>package.json</code> versions end in <code>\"-rc2-*\"</code></p>\n\n<p>(Only exceptions I've seen so far are the <code>Microsoft.Framework.Configuration</code> packages, which need to be either <code>\"1.0.0-rc1-*\"</code> or <code>\"1.0.0-*\"</code>)</p>\n\n<p>Regarding the \"version trains\" that @davidfowl mentions, it seems a LOT of pain has disappeared between beta8 and rc2.</p>\n\n<pre><code>dnvm upgrade -u -arch x64 -r coreclr\n</code></pre>\n\n<p>I've had the most luck on <code>coreclr</code> with these 2 NuGet feeds:</p>\n\n<pre><code>\"https://www.myget.org/F/aspnetvnext/\"\n\"https://nuget.org/api/v2/\"\n</code></pre>\n\n<p>When I <em>do</em> have missing package problems, 90% of the time it's these same culprits:</p>\n\n<pre><code>Newtonsoft.Json\nIx-Async\nRemotion.Linq\n</code></pre>\n\n<p>Most of the time, I can get around these by forcing the main NuGet.org feed:</p>\n\n<pre><code>dnu restore;\ndnu restore -s https://nuget.org/api/v2\n</code></pre>\n\n<p>Here is my working config.json:</p>\n\n<pre><code>{\n\"dependencies\": {\n    \"Microsoft.AspNet.Diagnostics\": \"1.0.0-rc2-*\",\n    \"Microsoft.AspNet.Diagnostics.Entity\": \"7.0.0-rc2-*\",\n    \"Microsoft.AspNet.Hosting\": \"1.0.0-rc2-*\",\n    \"Microsoft.AspNet.Http\": \"1.0.0-rc2-*\",\n    \"Microsoft.AspNet.Http.Abstractions\": \"1.0.0-rc2-*\",\n    \"Microsoft.AspNet.Mvc.Core\": \"6.0.0-rc2-*\",\n    \"Microsoft.AspNet.Mvc.Razor\": \"6.0.0-rc2-*\",\n    \"Microsoft.AspNet.Owin\": \"1.0.0-rc2-*\",\n    \"Microsoft.AspNet.Routing\": \"1.0.0-rc2-*\",\n    \"Microsoft.AspNet.Server.Kestrel\": \"1.0.0-rc2-*\",\n    \"Microsoft.AspNet.Server.WebListener\": \"1.0.0-rc2-*\",\n    \"Microsoft.AspNet.Session\": \"1.0.0-rc2-*\",\n    \"Microsoft.AspNet.StaticFiles\": \"1.0.0-rc2-*\",\n    \"EntityFramework.Commands\": \"7.0.0-rc2-*\",\n    \"EntityFramework.Core\": \"7.0.0-rc2-*\",\n    \"EntityFramework.InMemory\": \"7.0.0-rc2-*\",\n    \"EntityFramework.MicrosoftSqlServer\": \"7.0.0-rc2-*\",\n    \"EntityFramework.MicrosoftSqlServer.Design\": \"7.0.0-rc2-*\",\n    \"EntityFramework.Relational\": \"7.0.0-rc2-*\",\n    \"EntityFramework7.Npgsql\": \"3.1.0-beta8-2\",\n    \"Microsoft.Extensions.Logging.Abstractions\": \"1.0.0-rc2-*\",\n    \"Microsoft.Extensions.Logging.Console\": \"1.0.0-rc2-*\",\n    \"Microsoft.Extensions.DependencyInjection\": \"1.0.0-rc2-*\",\n    \"Microsoft.Extensions.DependencyInjection.Abstractions\": \"1.0.0-rc2-*\",\n    \"Microsoft.Framework.Configuration.CommandLine\": \"1.0.0-*\",\n    \"Microsoft.Framework.Configuration.EnvironmentVariables\": \"1.0.0-*\",\n    \"Microsoft.Framework.Configuration.Json\": \"1.0.0-*\"\n},\n\"commands\": {\n    \"ef\": \"EntityFramework.Commands\",\n    \"dev\": \"Microsoft.AspNet.Hosting --ASPNET_ENV Development --server Microsoft.AspNet.Server.Kestrel --server.urls http://localhost:5004\"\n},\n\"frameworks\": {\n    \"dnxcore50\": {}\n}\n}\n</code></pre>\n", "title": "How can I diagnose missing dependencies (or other loader failures) in dnx?", "answer_id": 33742018, "link": "http://stackoverflow.com/questions/29007962/how-can-i-diagnose-missing-dependencies-or-other-loader-failures-in-dnx/33742018#33742018", "tags": ["asp.net-core", "dnx"]}], "question_id": 29007962}, {"body": "<p>Why is this line valid in javascript ?</p>\n\n<pre><code>var a = 0[0];\n</code></pre>\n\n<p>After that, <code>a</code> is <code>undefined</code>.</p>\n", "title": "Why is 0[0] syntactically valid?", "tags": ["javascript"], "answer_count": 7, "link": "http://stackoverflow.com/questions/29250950/why-is-00-syntactically-valid", "answers": [{"body": "<p>When you do <code>0[0]</code>, the JS interpreter will turn the first <code>0</code> into a <code>Number</code> object and then try to access the <code>[0]</code> property of that object which is <code>undefined</code>.</p>\n\n<p>There is no syntax error because the property access syntax <code>0[0]</code> is allowed by the language grammar in this context.  This structure (using terms in the Javascript grammar) is <code>NumericLiteral[NumericLiteral]</code>.</p>\n\n<p>The relevant part of the language grammar from <a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-A.3\">section A.3</a> of the ES5 ECMAScript spec is this:</p>\n\n<pre><code>Literal ::\n    NullLiteral\n    BooleanLiteral\n    NumericLiteral\n    StringLiteral\n    RegularExpressionLiteral\n\nPrimaryExpression :\n    this\n    Identifier\n    Literal\n    ArrayLiteral\n    ObjectLiteral\n    ( Expression )\n\nMemberExpression :\n    PrimaryExpression\n    FunctionExpression\n    MemberExpression [ Expression ]\n    MemberExpression . IdentifierName\n    new MemberExpression Arguments    \n</code></pre>\n\n<p>So, one can follow the grammer through this progression:</p>\n\n<pre><code>MemberExpression [ Expression ]\nPrimaryExpression [ Expression ]\nLiteral [ Expression ]\nNumericLiteral [ Expression ]\n</code></pre>\n\n<p>And, similarly <code>Expression</code> can also eventually be <code>NumericLiteral</code> so after following the grammar, we see that this is allowed:</p>\n\n<pre><code>NumericLiteral [ NumericLiteral ]\n</code></pre>\n\n<p>Which means that <code>0[0]</code> is an allowed part of the grammar and thus no SyntaxError.</p>\n\n<hr>\n\n<p>Then, at run-time you are allowed to read a property that does not exist (it will just be read as <code>undefined</code>) as long as the source you are reading from either is an object or has an implicit conversion to an object.  And, a numeric literal does indeed have an implicit conversion to an object (a Number object).</p>\n\n<p>This is one of those often unknown features of Javascript.  The types <code>Number</code>, <code>Boolean</code> and <code>String</code> in Javascript are usually stored internally as primitives (not full-blown objects).  These are a compact, immutable storage representation (probably done this way for implementation efficiency).  But, Javascript wants you to be able to treat these primitives like objects with properties and methods.  So, if you try to access a property or method that is not directly supported on the primitive, then Javascript will temporarily coerce the primitive into an appropriate type of object with the value set to the value of the primitive.</p>\n\n<p>When you use an object-like syntax on a primitive such as <code>0[0]</code>, the interpreter recognizes this as a property access on a primitive.  Its response to this is to take the first <code>0</code> numeric primitive and coerce it into a full-blown <code>Number</code> object which it can then access the <code>[0]</code> property on.  In this specific case, the <code>[0]</code> property on a Number object is <code>undefined</code> which is why that's the value you get from <code>0[0]</code>.</p>\n\n<p>Here is an article on the auto-conversion of a primitive to an object for purposes of dealing with properties:</p>\n\n<p><a href=\"https://javascriptweblog.wordpress.com/2010/09/27/the-secret-life-of-javascript-primitives/\">The Secret Life of Javascript Primitives</a></p>\n\n<hr>\n\n<p>Here are the relevant portions of the ECMAScript 5.1 specification:</p>\n\n<p><a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-9.10\">9.10 CheckObjectCoercible</a></p>\n\n<p>Throws TypeError if value is <code>undefined</code> or <code>null</code>, otherwise returns <code>true</code>.</p>\n\n<p><img src=\"http://i.stack.imgur.com/vCxzf.png\" alt=\"enter image description here\"></p>\n\n<p><a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-11.2.1\">11.2.1 Property Accessors</a></p>\n\n<blockquote>\n  <ol>\n  <li>Let baseReference be the result of evaluating MemberExpression. </li>\n  <li>Let baseValue be GetValue(baseReference). </li>\n  <li>Let propertyNameReference be the result of evaluating Expression. </li>\n  <li>Let propertyNameValue be GetValue(propertyNameReference). </li>\n  <li><strong>Call CheckObjectCoercible(baseValue).</strong></li>\n  <li>Let propertyNameString be ToString(propertyNameValue). </li>\n  <li>If the syntactic production that is being evaluated is contained in strict\n  mode code, let strict be true, else let strict be false. </li>\n  <li>Return a value of type Reference whose base value is baseValue and whose\n  referenced name is propertyNameString, and whose strict mode flag is\n  strict.</li>\n  </ol>\n</blockquote>\n\n<p>An operative part for this question is step #5 above.</p>\n\n<p><a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-8.7.1\">8.7.1 GetValue (V)</a></p>\n\n<p>This describes how when the value being accessed is a property reference, it calls <code>ToObject(base)</code> to get the object version of any primitive.</p>\n\n<p><a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-9.9\">9.9 ToObject</a></p>\n\n<p>This describes how <code>Boolean</code>, <code>Number</code> and <code>String</code> primitives are converted to an object form with the [[PrimitiveValue]] internal property set accordingly.</p>\n\n<hr>\n\n<p>As an interesting test, if the code was like this:</p>\n\n<pre><code>var x = null;\nvar a = x[0];\n</code></pre>\n\n<p>It would still not throw a SyntaxError at parse time as this is technically legal syntax, but it would throw a TypeError at runtime when you run the code because when the above Property Accessors logic is applied to the value of <code>x</code>, it will call <code>CheckObjectCoercible(x)</code> or call <code>ToObject(x)</code> which will both throw a TypeError if <code>x</code> is <code>null</code> or <code>undefined</code>.</p>\n", "title": "Why is 0[0] syntactically valid?", "answer_id": 29251025, "link": "http://stackoverflow.com/questions/29250950/why-is-00-syntactically-valid/29251025#29251025", "tags": ["javascript"]}, {"body": "<p>Because it is valid syntax, and even valid code to be interpreted. You can try to access any property of any object(and in this case 0 will be cast to a Number-object), and it will give you the value if it exists, otherwise undefined. Trying to access a property of undefined does not work however, so 0[0][0] would result in a runtime error. This would still be classified as valid syntax though. There's a difference of what is valid syntax and what won't cause runtime/compiletime errors.</p>\n", "title": "Why is 0[0] syntactically valid?", "answer_id": 29251082, "link": "http://stackoverflow.com/questions/29250950/why-is-00-syntactically-valid/29251082#29251082", "tags": ["javascript"]}, {"body": "<p>There are situations where you could validly subscript a number in Javascript:</p>\n\n<pre><code>-&gt; 0['toString']\nfunction toString() { [native code] }\n</code></pre>\n\n<p>While not immediately apparent why you would want to do this, subscripting in Javascript is equivalent to using dotted notation (albeit the dot notation limits you to using identifiers as keys).</p>\n", "title": "Why is 0[0] syntactically valid?", "answer_id": 29251097, "link": "http://stackoverflow.com/questions/29250950/why-is-00-syntactically-valid/29251097#29251097", "tags": ["javascript"]}, {"body": "<p>Like most programming languages, JS uses a grammar to parse your code and convert it to an executable form. If there's no rule in the grammar that can be applied to a particular chunk of code, it throws a SyntaxError. Otherwise, the code is considered valid, no matter if it makes sense or not.</p>\n\n<p>The relevant parts of the <a href=\"http://ecma-international.org/ecma-262/5.1/#sec-A\">JS grammar</a> are</p>\n\n<pre><code>Literal :: \n   NumericLiteral\n   ...\n\nPrimaryExpression :\n   Literal\n   ...\n\nMemberExpression :\n   PrimaryExpression\n   MemberExpression [ Expression ]\n   ...\n</code></pre>\n\n<p>Since <code>0[0]</code> conforms to these rules, it's considered a <em>valid</em> expression. Whether it's <em>correct</em> (e.g. doesn't throw an error at run time) is another story, but yes it is. This is how JS evaluates expressions like <code>someLiteral[someExpression]</code>:</p>\n\n<ol>\n<li>evaluate <code>someExpression</code> (which can be arbitrary complex)</li>\n<li>convert the literal to a corresponding object type (numeric literals => <code>Number</code>, strings => <code>String</code> etc)</li>\n<li>call the <code>get property</code> operation on result(2) with the property name result(1)</li>\n<li>discard result(2)</li>\n</ol>\n\n<p>So <code>0[0]</code> is interpreted as</p>\n\n<pre><code>index = 0\ntemp = Number(0)\nresult = getproperty(temp, index) // it's undefined, but JS doesn't care\ndelete temp\nreturn result\n</code></pre>\n\n<p>Here's a example of a <em>valid</em>, but <em>incorrect</em> expression:</p>\n\n<pre><code>null[0]\n</code></pre>\n\n<p>It's parsed fine, but at run time, the interpreter fails on step 2 (because <code>null</code> can't be converted to an object) and throws a run time error.</p>\n", "title": "Why is 0[0] syntactically valid?", "answer_id": 29251356, "link": "http://stackoverflow.com/questions/29250950/why-is-00-syntactically-valid/29251356#29251356", "tags": ["javascript"]}, {"body": "<p>I'd just like to note that this being valid <em>syntax</em> is not in any way unique to Javascript. Most languages will have a runtime error or a type error, but that's not the same thing as a syntax error. Javascript chooses to return undefined in many situations where another language might raise an exception, including when subscripting an object that does not have a property of the given name.</p>\n\n<p>The syntax doesn't know the type of an expression (even a simple expression like a numeric literal), and will allow you to apply any operator to any expression. For example, attempting to subscript <code>undefined</code> or <code>null</code> causes a <code>TypeError</code> in Javascript. It's not a syntax error - if this is never executed (being on the wrong side of an if-statement), it won't cause any problems, whereas a syntax error is by definition always caught at compile time (eval, Function, etc, all count as compiling).</p>\n", "title": "Why is 0[0] syntactically valid?", "answer_id": 29257392, "link": "http://stackoverflow.com/questions/29250950/why-is-00-syntactically-valid/29257392#29257392", "tags": ["javascript"]}, {"body": "<p>In JavaScript, everything is object, so when interpreter parse it, it treats 0 as a object and tries to return 0 as a property. The same thing happens when you try to access 0th element of true or \"\"(empty string). </p>\n\n<p>Even if you set 0[0]=1, it will set the property and its value in memory, but while you access 0 it treats as a number (Don't get confuse between treating as Object and number here.) </p>\n", "title": "Why is 0[0] syntactically valid?", "answer_id": 29342582, "link": "http://stackoverflow.com/questions/29250950/why-is-00-syntactically-valid/29342582#29342582", "tags": ["javascript"]}, {"body": "<p>Not only is the syntax valid the result does not have to be <code>undefined</code> though in most, if not all sane cases it will. JS is one of the most pure object oriented languages. Most so called OO languages are class oriented, in the sense that you can't change the form (it's tied to the class) of the object once created, only the state of the object. In JS you can change the state as well as the form of the object and this you do more often than you think. This ability makes for some rather obscure code, if you misuse it. Numerals are immutable, so you can't change the object itself, not it's state nor it's form so you could do</p>\n\n<pre><code>0[0] = 1;\n</code></pre>\n\n<p>which is an valid assignment expression that returns 1 but doesn't actually assign anything, The numeral <code>0</code> is immutable. Which in itself is somewhat odd. You can have a valid and correct (executable) assingment expression, that doesn't assign anything(*). However the type of the numeral is a mutable object so you can mutate the type, and the changes will cascade down the prototype chain.</p>\n\n<pre><code>Number[0] = 1;\n//print 1 to the console\nconsole.log(0[0]);\n//will also print 1 to the console because all integers have the same type\nconsole.log(1[0]); \n</code></pre>\n\n<p>of course it's a far cry from the sane use category but the language is specified to allow for this because in other scenarios, extending the objects capabilities actually makes a lot of sense. It's how jQuery plugins hook into the jQuery object to give an example.</p>\n\n<p>(*) It does actually assign the value 1 to the property of an object, however there's no way you can reference that (transcient) object and it will thus be collected at the nexx GC pass</p>\n", "title": "Why is 0[0] syntactically valid?", "answer_id": 29387803, "link": "http://stackoverflow.com/questions/29250950/why-is-00-syntactically-valid/29387803#29387803", "tags": ["javascript"]}], "question_id": 29250950}, {"body": "<p>What are the differences between <em><code>Apache Spark</code></em> and <em><code>Apache Flink</code></em>?</p>\n\n<p>Will <em><code>Apache Flink</code></em> replace <em><code>Hadoop</code></em>?</p>\n", "title": "What is the difference between Apache Spark and Apache Flink?", "tags": ["hadoop", "apache-spark", "bigdata", "apache-flink"], "answer_count": 4, "link": "http://stackoverflow.com/questions/28082581/what-is-the-difference-between-apache-spark-and-apache-flink", "answers": [{"body": "<p>At first what do they have in common? Flink and Spark are both general-purpose data processing platforms and top level projects of the Apache Software Foundation (ASF). They have a wide field of application and are usable for dozens of big data scenarios. Thanks to expansions like SQL queries (Spark: Spark SQL, Flink: MRQL), Graph processing (Spark: GraphX, Flink: Spargel (base) and Gelly(library)), machine learning (Spark: MLlib, Flink: Flink ML) and stream processing (Spark Streaming, Flink Streaming). Both are capable of running in standalone mode, yet many are using them on top of Hadoop (YARN, HDFS). They share a strong performance due to their in memory nature.</p>\n\n<p>However, the way they achieve this variety and the cases they are specialized on differ.</p>\n\n<p><strong>Differences:</strong>\nAt first I'd like to provide two links which go in some detail on differences between Flink and Spark before summing it up. If you have the time have a look at <a href=\"https://www.youtube.com/watch?v=8RJy42bynI0\" rel=\"nofollow\">Apache Flink is the 4G of BigData Analytics Framework</a> and <a href=\"https://www.youtube.com/watch?v=OHAv6o2fCi8\" rel=\"nofollow\">Flink and Spark Similarities and Differences</a></p>\n\n<p>In contrast to Flink, Spark is not capable of handling data sets larger than the RAM before version 1.5.x</p>\n\n<p><strong>Flink</strong> is optimized for cyclic or iterative processes by using iterative transformations on collections. This is achieved by an optimization of join algorithms, operator chaining and reusing of partitioning and sorting. However, Flink is also a strong tool for batch processing. Flink streaming processes data streams as true streams, i.e., data elements are immediately \"pipelined\" though a streaming program as soon as they arrive. This allows to perform flexible window operations on streams. It is even capable of handling late data in streams by the use of watermarks. Furthermore Flink provides a very strong compatibility mode which makes it possible to use your existing storm, map reduce, ... code on the flink execution engine</p>\n\n<p><strong>Spark</strong> on the other hand is based on resilient distributed datasets (RDDs). This (mostly) in-memory datastructure gives the power to sparks functional programming paradigm. It is capable of big batch calculations by pinning memory. Spark streaming wraps data streams into mini-batches, i.e., it collects all data that arrives within a certain period of time and runs a regular batch program on the collected data. While the batch program is running, the data for the next mini-batch is collected.</p>\n\n<p><strong>Will Flink replace Hadoop?</strong> </p>\n\n<p>No, it will not. Hadoop consists of different parts:</p>\n\n<ul>\n<li>HDFS - Hadoop <strong>Distributed Filesystem</strong></li>\n<li>YARN - Yet Another <strong>Resource Negotiator</strong> (or Resource Manager)</li>\n<li>MapReduce - The <strong>batch processing Framework</strong> of Hadoop</li>\n</ul>\n\n<p>HDFS and YARN are still necessary as integral part of BigData clusters. Those two are building the base for other distributed technologies like distributed query engines or distributed databases. The main use-case for MapReduce is batch processing for data sets larger than the RAM of the cluster while Flink is designed for stream and iterative processing. So in general those two can co-exist even though I would strongly recommend to go with flinks stronger and more easy to use batch-capabilities.</p>\n", "title": "What is the difference between Apache Spark and Apache Flink?", "answer_id": 28083781, "link": "http://stackoverflow.com/questions/28082581/what-is-the-difference-between-apache-spark-and-apache-flink/28083781#28083781", "tags": ["hadoop", "apache-spark", "bigdata", "apache-flink"]}, {"body": "<p>Flink\u2019s programs are optimized by cost-based optimizer (e.g: SQL engines). So Flink applications will be required re-configuration and maintenance whenever the cluster characteristics change and the data evolves over time.</p>\n", "title": "What is the difference between Apache Spark and Apache Flink?", "answer_id": 32081613, "link": "http://stackoverflow.com/questions/28082581/what-is-the-difference-between-apache-spark-and-apache-flink/32081613#32081613", "tags": ["hadoop", "apache-spark", "bigdata", "apache-flink"]}, {"body": "<p>As per Apache <a href=\"https://flink.apache.org/\" rel=\"nofollow\">Flink</a> &amp; <a href=\"http://spark.apache.org/\" rel=\"nofollow\">Spark</a> documentation pages:</p>\n\n<blockquote>\n  <p>Apache Flink is an open source platform for distributed stream and batch data processing</p>\n  \n  <p>Apache Spark\u2122 is a fast and general engine for large-scale data processing.</p>\n</blockquote>\n\n<p><em>Real time stream processing is USP of Apache Flink</em>.</p>\n\n<p>Spark is a batch processing framework that can approximate stream processing.</p>\n\n<p>Flink is primarily a stream processing framework that can look like a batch processor.</p>\n\n<p>Flink provides expressive APIs that enable programmers to quickly develop streaming data applications.</p>\n\n<p>For extra speed, <code>Flink</code> allows iterative processing to take place on the same nodes rather than having the cluster run each iteration independently.</p>\n\n<p><code>Flink</code> is built to be a good <code>YARN</code> citizen (which Spark has not quite achieved yet), and it can run existing MapReduce jobs directly on its execution engine.</p>\n\n<p>Have a look at this <a href=\"http://www.infoworld.com/article/2919602/hadoop/flink-hadoops-new-contender-for-mapreduce-spark.html\" rel=\"nofollow\">article</a> form infoworld bog posted by  <code>Ian Pointer</code> for more details.</p>\n\n<p>Key <a href=\"https://blog.inovex.de/apache-flink-introduction/\" rel=\"nofollow\">differences</a> from blog posted by <code>VON HANS-PETER ZORN UND JASIR EL-SOBHY</code></p>\n\n<ol>\n<li><em><code>Stream Processing</code></em>:  While <code>Spark</code> is a batch oriented system that operates on chunks of data, called RDDs, Apache <code>Flink</code> is a stream processing system able to process row after row in real time.</li>\n<li><em><code>Iterations</code>:</em> By exploiting its streaming architecture, <code>Flink</code> allows you to natively iterate over data, something <code>Spark</code> also supports only as batches</li>\n<li><em><code>Memory Management</code></em>:  <code>Spark</code> jobs have to be optimized and adapted to specific datasets because you need to manually control partitioning and caching if you want to get it right</li>\n<li><em><code>Maturity</code></em>:<code>Flink</code> is still in its infancy and has but a few production deployments</li>\n<li><em><code>Data Flow</code></em>: In contrast to the procedural programming paradigm <code>Flink</code> follows a distributed data flow approach. For data set operations where intermediate results are required in addition to the regular input of an operation, broadcast variables are used to distribute the pre calculated results to all worker nodes</li>\n</ol>\n\n<p><em>Regarding your second question, neither <code>Flink</code> nor <code>Spark</code> can replace Hadoop.</em> </p>\n\n<p><em>Flink is a replacement for Hadoop MapReduce</em>; which works in both batch and streaming modes, eliminating the map and reduce jobs in favour of a directed graph approach that leverages in-memory storage for massive performance gains. </p>\n\n<p><em><code>HDFS (Hadoop Distributed File System)</code></em> <strong><em><code>and YARN ( Yet Another Resource Negotiator)</code></em></strong>, which are part of big Hadoop eco system can't be replaced by Flink</p>\n\n<p>Have a look at this <a href=\"http://www.slideshare.net/sbaltagi/flink-vs-spark\" rel=\"nofollow\">flink-vs-spark</a> presentation by <code>Slim Baltagi</code>, Director of Big data engineering, Capital One.</p>\n", "title": "What is the difference between Apache Spark and Apache Flink?", "answer_id": 33636597, "link": "http://stackoverflow.com/questions/28082581/what-is-the-difference-between-apache-spark-and-apache-flink/33636597#33636597", "tags": ["hadoop", "apache-spark", "bigdata", "apache-flink"]}, {"body": "<p>Flink's one of the unique feature is, processing out-of-order data Streams using <a href=\"http://data-artisans.com/how-apache-flink-enables-new-streaming-applications-part-1/\" rel=\"nofollow\">Watermarks</a></p>\n", "title": "What is the difference between Apache Spark and Apache Flink?", "answer_id": 38649263, "link": "http://stackoverflow.com/questions/28082581/what-is-the-difference-between-apache-spark-and-apache-flink/38649263#38649263", "tags": ["hadoop", "apache-spark", "bigdata", "apache-flink"]}], "question_id": 28082581}, {"body": "<p>I am using the new CoordinatorLayout with AppBarLayout and CollapsingToolbarLayout. Below AppBarLayout, I have a RecyclerView with a list of content.</p>\n\n<p>I have verified that fling scrolling works on the RecyclerView when I am scrolling up and down the list. However, I would also like the AppBarLayout to smoothly scroll during expansion.</p>\n\n<p>When scrolling up to expand the CollaspingToolbarLayout, scrolling immediately stops once lifting your finger off the screen. If you scroll up in a quick motion, sometimes the CollapsingToolbarLayout re-collapses as well. This behavior with the RecyclerView seems to function much differently than when using a NestedScrollView.</p>\n\n<p>I've tried to set different scroll properties on the recyclerview but I haven't been able to figure this out.</p>\n\n<p>Here is a video showing some of the scrolling issues.\n<a href=\"https://youtu.be/xMLKoJOsTAM\">https://youtu.be/xMLKoJOsTAM</a></p>\n\n<p>Here is an example showing the issue with the RecyclerView (CheeseDetailActivity).\n<a href=\"https://github.com/tylerjroach/cheesesquare\">https://github.com/tylerjroach/cheesesquare</a></p>\n\n<p>Here is the original example that uses a NestedScrollView from Chris Banes.\n<a href=\"https://github.com/chrisbanes/cheesesquare\">https://github.com/chrisbanes/cheesesquare</a></p>\n", "title": "Flinging with RecyclerView + AppBarLayout", "tags": ["android", "android-layout", "android-design-library", "appcompat-v7-r22.2"], "answer_count": 9, "link": "http://stackoverflow.com/questions/30923889/flinging-with-recyclerview-appbarlayout", "answers": [{"body": "<p>I add a view of 1dp height inside the AppBarLayout an then it works much better. This is my layout.</p>\n\n<pre><code>  &lt;android.support.design.widget.CoordinatorLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"@android:color/white\"\ntools:context=\"com.spof.spof.app.UserBeachesActivity\"&gt;\n\n&lt;android.support.design.widget.AppBarLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"&gt;\n\n    &lt;android.support.v7.widget.Toolbar\n        android:id=\"@+id/user_beaches_toolbar\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"?attr/actionBarSize\"\n        android:layout_alignParentTop=\"true\"\n        android:background=\"?attr/colorPrimary\"\n        android:minHeight=\"?attr/actionBarSize\"\n        android:theme=\"@style/WhiteTextToolBar\"\n        app:layout_scrollFlags=\"scroll|enterAlways\" /&gt;\n\n    &lt;View\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"1dp\" /&gt;\n&lt;/android.support.design.widget.AppBarLayout&gt;\n\n\n&lt;android.support.v7.widget.RecyclerView\n    android:id=\"@+id/user_beaches_rv\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    app:layout_behavior=\"@string/appbar_scrolling_view_behavior\" /&gt;\n</code></pre>\n\n<p></p>\n", "title": "Flinging with RecyclerView + AppBarLayout", "answer_id": 31254502, "link": "http://stackoverflow.com/questions/30923889/flinging-with-recyclerview-appbarlayout/31254502#31254502", "tags": ["android", "android-layout", "android-design-library", "appcompat-v7-r22.2"]}, {"body": "<p>This is my Layout and the scroll It's working as it should.</p>\n\n<pre><code>&lt;android.support.design.widget.CoordinatorLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:fitsSystemWindows=\"true\"\n    android:id=\"@+id/container\"&gt;\n\n&lt;android.support.design.widget.AppBarLayout\n    android:id=\"@+id/appbarLayout\"\n    android:layout_height=\"192dp\"\n    android:layout_width=\"match_parent\"&gt;\n\n    &lt;android.support.design.widget.CollapsingToolbarLayout\n        android:id=\"@+id/ctlLayout\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        app:layout_scrollFlags=\"scroll|exitUntilCollapsed\"\n        app:contentScrim=\"?attr/colorPrimary\"\n        app:layout_collapseMode=\"parallax\"&gt;\n\n        &lt;android.support.v7.widget.Toolbar\n            android:id=\"@+id/appbar\"\n            android:layout_height=\"?attr/actionBarSize\"\n            android:layout_width=\"match_parent\"\n            app:layout_scrollFlags=\"scroll|enterAlways\"\n            app:layout_collapseMode=\"pin\"/&gt;\n\n    &lt;/android.support.design.widget.CollapsingToolbarLayout&gt;\n&lt;/android.support.design.widget.AppBarLayout&gt;\n\n&lt;android.support.v7.widget.RecyclerView\n    android:id=\"@+id/catalogueRV\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"/&gt;\n\n&lt;/android.support.design.widget.CoordinatorLayout&gt;\n</code></pre>\n", "title": "Flinging with RecyclerView + AppBarLayout", "answer_id": 31458675, "link": "http://stackoverflow.com/questions/30923889/flinging-with-recyclerview-appbarlayout/31458675#31458675", "tags": ["android", "android-layout", "android-design-library", "appcompat-v7-r22.2"]}, {"body": "<p>Seems that <code>v23</code> update did not fix it yet.</p>\n\n<p>I have found sort of of hack to fix it with flinging down. The trick is to reconsume fling event if ScrollingView's top child is close to the beginning of data in Adapter.</p>\n\n<pre><code>public final class FlingBehavior extends AppBarLayout.Behavior {\n\n    public FlingBehavior() {\n    }\n\n    public FlingBehavior(Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    @Override\n    public boolean onNestedFling(CoordinatorLayout coordinatorLayout, AppBarLayout child, View target, float velocityX, float velocityY, boolean consumed) {\n        if (target instanceof ScrollingView) {\n            final ScrollingView scrollingView = (ScrollingView) target;\n            consumed = velocityY &gt; 0 || scrollingView.computeVerticalScrollOffset() &gt; 0;\n        }\n        return super.onNestedFling(coordinatorLayout, child, target, velocityX, velocityY, consumed);\n    }\n}\n</code></pre>\n\n<p>Use it in  your layout like that:</p>\n\n<pre><code> &lt;android.support.design.widget.AppBarLayout\n    android:id=\"@+id/appbar\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    app:layout_behavior=\"your.package.FlingBehavior\"&gt;\n    &lt;!--your views here--&gt;\n &lt;/android.support.design.widget.AppBarLayout&gt;\n</code></pre>\n\n<p><strong>EDIT:</strong> Fling event reconsuming is now based on <code>verticalScrollOffset</code> instead of amount of items on from top of <code>RecyclerView</code>.</p>\n\n<p><strong>EDIT2:</strong> Check target as <code>ScrollingView</code> interface instance instead of <code>RecyclerView</code>. Both <code>RecyclerView</code> and <code>NestedScrollingView</code> implement it.</p>\n", "title": "Flinging with RecyclerView + AppBarLayout", "answer_id": 32174067, "link": "http://stackoverflow.com/questions/30923889/flinging-with-recyclerview-appbarlayout/32174067#32174067", "tags": ["android", "android-layout", "android-design-library", "appcompat-v7-r22.2"]}, {"body": "<p>The answer of <a href=\"http://stackoverflow.com/a/32174067/1688886\">Kirill Boyarshinov</a> was almost correct. </p>\n\n<p>The main problem is that the RecyclerView sometimes is giving incorrect fling direction, so if you add the following code to his answer it works correctly:</p>\n\n<pre><code>public final class FlingBehavior extends AppBarLayout.Behavior {\n    private static final int TOP_CHILD_FLING_THRESHOLD = 3;\n    private boolean isPositive;\n\n    public FlingBehavior() {\n    }\n\n    public FlingBehavior(Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    @Override\n    public boolean onNestedFling(CoordinatorLayout coordinatorLayout, AppBarLayout child, View target, float velocityX, float velocityY, boolean consumed) {\n        if (velocityY &gt; 0 &amp;&amp; !isPositive || velocityY &lt; 0 &amp;&amp; isPositive) {\n            velocityY = velocityY * -1;\n        }\n        if (target instanceof RecyclerView &amp;&amp; velocityY &lt; 0) {\n            final RecyclerView recyclerView = (RecyclerView) target;\n            final View firstChild = recyclerView.getChildAt(0);\n            final int childAdapterPosition = recyclerView.getChildAdapterPosition(firstChild);\n            consumed = childAdapterPosition &gt; TOP_CHILD_FLING_THRESHOLD;\n        }\n        return super.onNestedFling(coordinatorLayout, child, target, velocityX, velocityY, consumed);\n    }\n\n    @Override\n    public void onNestedPreScroll(CoordinatorLayout coordinatorLayout, AppBarLayout child, View target, int dx, int dy, int[] consumed) {\n        super.onNestedPreScroll(coordinatorLayout, child, target, dx, dy, consumed);\n        isPositive = dy &gt; 0;\n    }\n}\n</code></pre>\n\n<p>I hope that this helps.</p>\n", "title": "Flinging with RecyclerView + AppBarLayout", "answer_id": 32454407, "link": "http://stackoverflow.com/questions/30923889/flinging-with-recyclerview-appbarlayout/32454407#32454407", "tags": ["android", "android-layout", "android-design-library", "appcompat-v7-r22.2"]}, {"body": "<p>It's a recyclerview bug . It's supposed to be fixed in v23.1.0.</p>\n\n<p>look <a href=\"https://code.google.com/p/android/issues/detail?id=177729\" rel=\"nofollow\">https://code.google.com/p/android/issues/detail?id=177729</a></p>\n\n<p><a href=\"http://i.stack.imgur.com/EAtMd.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/EAtMd.png\" alt=\"enter image description here\"></a></p>\n", "title": "Flinging with RecyclerView + AppBarLayout", "answer_id": 34449767, "link": "http://stackoverflow.com/questions/30923889/flinging-with-recyclerview-appbarlayout/34449767#34449767", "tags": ["android", "android-layout", "android-design-library", "appcompat-v7-r22.2"]}, {"body": "<p>This is a smooth version of Google Support Design AppBarLayout. If you are using AppBarLayout, you will know it has an issue with fling.</p>\n\n<pre><code>compile \"me.henrytao:smooth-app-bar-layout:&lt;latest-version&gt;\"\n</code></pre>\n\n<p>See Library here.. <a href=\"https://github.com/henrytao-me/smooth-app-bar-layout\">https://github.com/henrytao-me/smooth-app-bar-layout</a></p>\n", "title": "Flinging with RecyclerView + AppBarLayout", "answer_id": 34947835, "link": "http://stackoverflow.com/questions/30923889/flinging-with-recyclerview-appbarlayout/34947835#34947835", "tags": ["android", "android-layout", "android-design-library", "appcompat-v7-r22.2"]}, {"body": "<p>I have found the fix by applying OnScrollingListener to the recyclerView. now it works very well. The issue is that recyclerview provided the wrong consumed value and the behavior doesn't know when the recyclerview is scrolled to the top.</p>\n\n<pre><code>package com.singmak.uitechniques.util.coordinatorlayout;\n\nimport android.content.Context;\nimport android.support.design.widget.AppBarLayout;\nimport android.support.design.widget.CoordinatorLayout;\nimport android.support.v7.widget.RecyclerView;\nimport android.util.AttributeSet;\nimport android.view.View;\n\nimport java.lang.ref.WeakReference;\nimport java.util.HashMap;\nimport java.util.Map;\n\n/**\n * Created by maksing on 26/3/2016.\n */\npublic final class RecyclerViewAppBarBehavior extends AppBarLayout.Behavior {\n\n    private Map&lt;RecyclerView, RecyclerViewScrollListener&gt; scrollListenerMap = new HashMap&lt;&gt;(); //keep scroll listener map, the custom scroll listener also keep the current scroll Y position.\n\n    public RecyclerViewAppBarBehavior() {\n    }\n\n    public RecyclerViewAppBarBehavior(Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    /**\n     *\n     * @param coordinatorLayout\n     * @param child The child that attached the behavior (AppBarLayout)\n     * @param target The scrolling target e.g. a recyclerView or NestedScrollView\n     * @param velocityX\n     * @param velocityY\n     * @param consumed The fling should be consumed by the scrolling target or not\n     * @return\n     */\n    @Override\n    public boolean onNestedFling(CoordinatorLayout coordinatorLayout, AppBarLayout child, View target, float velocityX, float velocityY, boolean consumed) {\n        if (target instanceof RecyclerView) {\n            final RecyclerView recyclerView = (RecyclerView) target;\n            if (scrollListenerMap.get(recyclerView) == null) {\n                RecyclerViewScrollListener recyclerViewScrollListener = new RecyclerViewScrollListener(coordinatorLayout, child, this);\n                scrollListenerMap.put(recyclerView, recyclerViewScrollListener);\n                recyclerView.addOnScrollListener(recyclerViewScrollListener);\n            }\n            scrollListenerMap.get(recyclerView).setVelocity(velocityY);\n            consumed = scrollListenerMap.get(recyclerView).getScrolledY() &gt; 0; //recyclerView only consume the fling when it's not scrolled to the top\n        }\n        return super.onNestedFling(coordinatorLayout, child, target, velocityX, velocityY, consumed);\n    }\n\n    private static class RecyclerViewScrollListener extends RecyclerView.OnScrollListener {\n        private int scrolledY;\n        private boolean dragging;\n        private float velocity;\n        private WeakReference&lt;CoordinatorLayout&gt; coordinatorLayoutRef;\n        private WeakReference&lt;AppBarLayout&gt; childRef;\n        private WeakReference&lt;RecyclerViewAppBarBehavior&gt; behaviorWeakReference;\n\n        public RecyclerViewScrollListener(CoordinatorLayout coordinatorLayout, AppBarLayout child, RecyclerViewAppBarBehavior barBehavior) {\n            coordinatorLayoutRef = new WeakReference&lt;CoordinatorLayout&gt;(coordinatorLayout);\n            childRef = new WeakReference&lt;AppBarLayout&gt;(child);\n            behaviorWeakReference = new WeakReference&lt;RecyclerViewAppBarBehavior&gt;(barBehavior);\n        }\n\n        @Override\n        public void onScrollStateChanged(RecyclerView recyclerView, int newState) {\n            dragging = newState == RecyclerView.SCROLL_STATE_DRAGGING;\n        }\n\n        public void setVelocity(float velocity) {\n            this.velocity = velocity;\n        }\n\n        public int getScrolledY() {\n            return scrolledY;\n        }\n\n        @Override\n        public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\n            scrolledY += dy;\n\n            if (scrolledY &lt;= 0 &amp;&amp; !dragging &amp;&amp; childRef.get() != null &amp;&amp; coordinatorLayoutRef.get() != null &amp;&amp; behaviorWeakReference.get() != null) {\n                //manually trigger the fling when it's scrolled at the top\n                behaviorWeakReference.get().onNestedFling(coordinatorLayoutRef.get(), childRef.get(), recyclerView, 0, velocity, false);\n            }\n        }\n    }\n}\n</code></pre>\n", "title": "Flinging with RecyclerView + AppBarLayout", "answer_id": 36453998, "link": "http://stackoverflow.com/questions/30923889/flinging-with-recyclerview-appbarlayout/36453998#36453998", "tags": ["android", "android-layout", "android-design-library", "appcompat-v7-r22.2"]}, {"body": "<p>My solution so far, based on <a href=\"http://stackoverflow.com/a/36453998/3025138\">Mak Sing</a> and <a href=\"http://stackoverflow.com/a/32454407/3025138\">Manolo Garcia</a> answers.</p>\n\n<p>It's not totally perfect. For now I don't know how to recalculate a valide velocity to avoid a weird effect: the appbar can expand faster than the scroll speed. \nBut the state with an expanded appbar and a scrolled recycler view cannot be reached.</p>\n\n<pre><code>import android.content.Context;\nimport android.support.annotation.NonNull;\nimport android.support.annotation.Nullable;\nimport android.support.design.widget.AppBarLayout;\nimport android.support.design.widget.CoordinatorLayout;\nimport android.support.v7.widget.RecyclerView;\nimport android.util.AttributeSet;\nimport android.view.View;\n\nimport java.lang.ref.WeakReference;\n\npublic class FlingAppBarLayoutBehavior\n        extends AppBarLayout.Behavior {\n\n    // The minimum I have seen for a dy, after the recycler view stopped.\n    private static final int MINIMUM_DELTA_Y = -4;\n\n    @Nullable\n    RecyclerViewScrollListener mScrollListener;\n\n    private boolean isPositive;\n\n    public FlingAppBarLayoutBehavior() {\n    }\n\n    public FlingAppBarLayoutBehavior(Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    public boolean callSuperOnNestedFling(\n            CoordinatorLayout coordinatorLayout,\n            AppBarLayout child,\n            View target,\n            float velocityX,\n            float velocityY,\n            boolean consumed) {\n        return super.onNestedFling(\n                coordinatorLayout,\n                child,\n                target,\n                velocityX,\n                velocityY,\n                consumed\n        );\n    }\n\n    @Override\n    public boolean onNestedFling(\n            CoordinatorLayout coordinatorLayout,\n            AppBarLayout child,\n            View target,\n            float velocityX,\n            float velocityY,\n            boolean consumed) {\n\n        if (velocityY &gt; 0 &amp;&amp; !isPositive || velocityY &lt; 0 &amp;&amp; isPositive) {\n            velocityY = velocityY * -1;\n        }\n\n        if (target instanceof RecyclerView) {\n            RecyclerView recyclerView = (RecyclerView) target;\n\n            if (mScrollListener == null) {\n                mScrollListener = new RecyclerViewScrollListener(\n                        coordinatorLayout,\n                        child,\n                        this\n                );\n                recyclerView.addOnScrollListener(mScrollListener);\n            }\n\n            mScrollListener.setVelocity(velocityY);\n        }\n\n        return super.onNestedFling(\n                coordinatorLayout,\n                child,\n                target,\n                velocityX,\n                velocityY,\n                consumed\n        );\n    }\n\n    @Override\n    public void onNestedPreScroll(\n            CoordinatorLayout coordinatorLayout,\n            AppBarLayout child,\n            View target,\n            int dx,\n            int dy,\n            int[] consumed) {\n        super.onNestedPreScroll(coordinatorLayout, child, target, dx, dy, consumed);\n        isPositive = dy &gt; 0;\n    }\n\n    private static class RecyclerViewScrollListener\n            extends RecyclerView.OnScrollListener {\n\n        @NonNull\n        private final WeakReference&lt;AppBarLayout&gt; mAppBarLayoutWeakReference;\n\n        @NonNull\n        private final WeakReference&lt;FlingAppBarLayoutBehavior&gt; mBehaviorWeakReference;\n\n        @NonNull\n        private final WeakReference&lt;CoordinatorLayout&gt; mCoordinatorLayoutWeakReference;\n\n        private int mDy;\n\n        private float mVelocity;\n\n        public RecyclerViewScrollListener(\n                @NonNull CoordinatorLayout coordinatorLayout,\n                @NonNull AppBarLayout child,\n                @NonNull FlingAppBarLayoutBehavior barBehavior) {\n            mCoordinatorLayoutWeakReference = new WeakReference&lt;&gt;(coordinatorLayout);\n            mAppBarLayoutWeakReference = new WeakReference&lt;&gt;(child);\n            mBehaviorWeakReference = new WeakReference&lt;&gt;(barBehavior);\n        }\n\n        @Override\n        public void onScrollStateChanged(RecyclerView recyclerView, int newState) {\n            if (newState == RecyclerView.SCROLL_STATE_IDLE) {\n                if (mDy &lt; MINIMUM_DELTA_Y\n                        &amp;&amp; mAppBarLayoutWeakReference.get() != null\n                        &amp;&amp; mCoordinatorLayoutWeakReference.get() != null\n                        &amp;&amp; mBehaviorWeakReference.get() != null) {\n\n                    // manually trigger the fling when it's scrolled at the top\n                    mBehaviorWeakReference.get()\n                            .callSuperOnNestedFling(\n                                    mCoordinatorLayoutWeakReference.get(),\n                                    mAppBarLayoutWeakReference.get(),\n                                    recyclerView,\n                                    0,\n                                    mVelocity, // TODO find a way to recalculate a correct velocity.\n                                    false\n                            );\n\n                }\n            }\n        }\n\n        @Override\n        public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\n            mDy = dy;\n        }\n\n        public void setVelocity(float velocity) {\n            mVelocity = velocity;\n        }\n\n    }\n\n}\n</code></pre>\n", "title": "Flinging with RecyclerView + AppBarLayout", "answer_id": 37748955, "link": "http://stackoverflow.com/questions/30923889/flinging-with-recyclerview-appbarlayout/37748955#37748955", "tags": ["android", "android-layout", "android-design-library", "appcompat-v7-r22.2"]}, {"body": "<p>In my case, I was getting the issue where the flinging the <code>RecyclerView</code> would not scroll it smoothly, making it get stuck.</p>\n\n<p>This was because, for some reason, <strong>I had forgotten that I had put my <code>RecyclerView</code> in a <code>NestedScrollView</code></strong>.</p>\n\n<p>It's a silly mistake, but it took me a while to figure it out...</p>\n", "title": "Flinging with RecyclerView + AppBarLayout", "answer_id": 38297011, "link": "http://stackoverflow.com/questions/30923889/flinging-with-recyclerview-appbarlayout/38297011#38297011", "tags": ["android", "android-layout", "android-design-library", "appcompat-v7-r22.2"]}], "question_id": 30923889}, {"body": "<p>I would like to create some helpers (functions) to avoid repeating code between some views, in L5 style:</p>\n\n<p><em>view.blade.php</em></p>\n\n<pre><code>&lt;p&gt;Foo Formated text: {{ fooFormatText($text) }}&lt;/p&gt;\n</code></pre>\n\n<p>They are basically text formatting functions. Where and how can I put a file with these functions?</p>\n", "title": "Best practices for custom helpers on Laravel 5", "tags": ["php", "laravel", "laravel-5"], "answer_count": 9, "link": "http://stackoverflow.com/questions/28290332/best-practices-for-custom-helpers-on-laravel-5", "answers": [{"body": "<p>Create a <code>helpers.php</code> file in your app folder and load it up with composer:</p>\n\n<pre><code>\"autoload\": {\n    \"classmap\": [\n        ...\n    ],\n    \"psr-4\": {\n        \"App\\\\\": \"app/\"\n    },\n    \"files\": [\n        \"app/helpers.php\" // &lt;---- ADD THIS\n    ]\n},\n</code></pre>\n\n<p>After adding that to your <code>composer.json</code> file, run the following command:</p>\n\n<pre><code>composer dump-autoload\n</code></pre>\n", "title": "Best practices for custom helpers on Laravel 5", "answer_id": 28290359, "link": "http://stackoverflow.com/questions/28290332/best-practices-for-custom-helpers-on-laravel-5/28290359#28290359", "tags": ["php", "laravel", "laravel-5"]}, {"body": "<p>my initial thought was the composer autoload as well, but it didn't feel very Laravel 5ish to me. L5 makes heavy use of Service Providers, they are what bootstraps your application.</p>\n\n<p>To start off I created a folder in my <code>app</code> directory called <code>Helpers</code>. Then within the <code>Helpers</code> folder I added files for functions I wanted to add. Having a folder with multiple files allows us to avoid one big file that gets too long and unmanageable.</p>\n\n<p>Next I created a <code>HelperServiceProvider.php</code> by running the artisan command:</p>\n\n<pre><code>artisan make:provider HelperServiceProvider\n</code></pre>\n\n<p>Within the <code>register</code> method I added this snippet</p>\n\n<pre><code>public function register()\n{\n    foreach (glob(app_path().'/Helpers/*.php') as $filename){\n        require_once($filename);\n    }\n}\n</code></pre>\n\n<p>lastly register the service provider in your <code>config/app.php</code> in the providers array</p>\n\n<pre><code>'providers' =&gt; [\n    'App\\Providers\\HelperServiceProvider',\n]\n</code></pre>\n\n<p>now any file in your <code>Helpers</code> directory is loaded, and ready for use.</p>\n\n<p><strong>UPDATE 2016-02-22</strong></p>\n\n<p>There are a lot of good options here, but if my answer works for you, I went ahead and made a package for including helpers this way. You can either use the package for inspiration or feel free to download it with Composer as well. It has some built in helpers that I use often (but which are all inactive by default) and allows you to make your own custom helpers with a simple Artisan generator. It also addresses the suggestion one responder had of using a mapper and allows you to explicitly define the custom helpers to load, or by default, automatically load all PHP files in your helper directory. Feedback and PRs are much appreciated!</p>\n\n<pre><code>composer require browner12/helpers\n</code></pre>\n\n<p>Github: <a href=\"https://github.com/browner12/helpers\">browner12/helpers</a></p>\n", "title": "Best practices for custom helpers on Laravel 5", "answer_id": 28360186, "link": "http://stackoverflow.com/questions/28290332/best-practices-for-custom-helpers-on-laravel-5/28360186#28360186", "tags": ["php", "laravel", "laravel-5"]}, {"body": "<p>This is what is suggested by <code>JeffreyWay</code> in this <a href=\"https://laracasts.com/discuss/channels/general-discussion/best-practices-for-custom-helpers-on-laravel-5?page=1#reply-28978\">Laracasts Discussion</a>.</p>\n\n<ol>\n<li>Within your <code>app/Http</code> directory, create a <code>helpers.php</code> file and add your functions.</li>\n<li>Within <code>composer.json</code>, in the <code>autoload</code> block, add <code>\"files\": [\"app/Http/helpers.php\"]</code>.</li>\n<li>Run <code>composer dump-autoload</code>.</li>\n</ol>\n", "title": "Best practices for custom helpers on Laravel 5", "answer_id": 29679797, "link": "http://stackoverflow.com/questions/28290332/best-practices-for-custom-helpers-on-laravel-5/29679797#29679797", "tags": ["php", "laravel", "laravel-5"]}, {"body": "<p>This is my HelpersProvider.php file:</p>\n\n<pre><code>&lt;?php\n\nnamespace App\\Providers;\n\nuse Illuminate\\Support\\ServiceProvider;\n\nclass HelperServiceProvider extends ServiceProvider\n{\n    protected $helpers = [\n        // Add your helpers in here\n    ];\n\n    /**\n     * Bootstrap the application services.\n     */\n    public function boot()\n    {\n        //\n    }\n\n    /**\n     * Register the application services.\n     */\n    public function register()\n    {\n        foreach ($this-&gt;helpers as $helper) {\n            $helper_path = app_path().'/Helpers/'.$helper.'.php';\n\n            if (\\File::isFile($helper_path)) {\n                require_once $helper_path;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>You should create a folder called <code>Helpers</code> under the <code>app</code> folder, then create file called <code>whatever.php</code> inside and add the string <code>whatever</code> inside the $helpers array.</p>\n\n<p>Done!</p>\n", "title": "Best practices for custom helpers on Laravel 5", "answer_id": 31703148, "link": "http://stackoverflow.com/questions/28290332/best-practices-for-custom-helpers-on-laravel-5/31703148#31703148", "tags": ["php", "laravel", "laravel-5"]}, {"body": "<p>Here's a bash shell script I created to make Laravel 5 facades very quickly.</p>\n\n<p>Run this in your Laravel 5 installation directory.</p>\n\n<h1>Call it like this:</h1>\n\n<pre><code>make_facade.sh -f &lt;facade_name&gt; -n '&lt;namespace_prefix&gt;'\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>make_facade.sh -f helper -n 'App\\MyApp'\n</code></pre>\n\n<p>If you run that example, it will create the directories <code>Facades</code> and <code>Providers</code> under 'your_laravel_installation_dir/app/MyApp'.</p>\n\n<h1>It will create the following 3 files and will also output them to the screen:</h1>\n\n<pre><code>./app/MyApp/Facades/Helper.php\n./app/MyApp/Facades/HelperFacade.php\n./app/MyApp/Providers/HelperServiceProvider.php\n</code></pre>\n\n<p>After it is done, it will display a message similar to the following:</p>\n\n<pre><code>===========================\n    Finished\n===========================\n\nAdd these lines to config/app.php:\n----------------------------------\nProviders: App\\MyApp\\Providers\\HelperServiceProvider,\nAlias: 'Helper' =&gt; 'App\\MyApp\\Facades\\HelperFacade',\n</code></pre>\n\n<p>So update the Providers and Alias list in 'config/app.php'</p>\n\n<p>Run <code>composer -o dumpautoload</code></p>\n\n<p>The \"./app/MyApp/Facades/Helper.php\" will originally look like this:</p>\n\n<pre><code>&lt;?php\n\nnamespace App\\MyApp\\Facades;\n\n\nclass Helper\n{\n    //\n}\n</code></pre>\n\n<p>Now just add your methods in \"./app/MyApp/Facades/Helper.php\".</p>\n\n<p>Here is what \"./app/MyApp/Facades/Helper.php\" looks like after I added a Helper function.</p>\n\n<pre><code>&lt;?php\n\nnamespace App\\MyApp\\Facades;\n\nuse Request;\n\nclass Helper\n{\n    public function isActive($pattern = null, $include_class = false)\n    {\n        return ((Request::is($pattern)) ? (($include_class) ? 'class=\"active\"' : 'active' ) : '');\n    }\n}\n\nThis is how it would be called:\n===============================\n\n{!!  Helper::isActive('help', true) !!}\n</code></pre>\n\n<p>This function expects a pattern and can accept an optional second boolean argument.</p>\n\n<p>If the current URL matches the pattern passed to it, it will output 'active' (or 'class=\"active\"' if you add 'true' as a second argument to the function call).</p>\n\n<p>I use it to highlight the menu that is active.</p>\n\n<h1>Below is the source code for my script.  I hope you find it useful and please let me know if you have any problems with it.</h1>\n\n<pre><code>#!/bin/bash\n\ndisplay_syntax(){\n    echo \"\"\n    echo \"  The Syntax is like this:\"\n    echo \"  ========================\"\n    echo \"      \"$(basename $0)\" -f &lt;facade_name&gt; -n '&lt;namespace_prefix&gt;'\"\n    echo \"\"\n    echo \"  Example:\"\n    echo \"  ========\"\n    echo \"      \"$(basename $0) -f test -n \"'App\\MyAppDirectory'\"\n    echo \"\"\n}\n\n\nif [ $# -ne 4 ]\nthen\n    echo \"\"\n    display_syntax\n    exit\nelse\n# Use &gt; 0 to consume one or more arguments per pass in the loop (e.g.\n# some arguments don't have a corresponding value to go with it such\n# as in the --default example).\n    while [[ $# &gt; 0 ]]\n    do\n        key=\"$1\"\n            case $key in\n            -n|--namespace_prefix)\n            namespace_prefix_in=\"$2\"\n            echo \"\"\n            shift # past argument\n            ;;\n            -f|--facade)\n            facade_name_in=\"$2\"\n            shift # past argument\n            ;;\n            *)\n                    # unknown option\n            ;;\n        esac\n        shift # past argument or value\n    done\nfi\necho Facade Name = ${facade_name_in}\necho Namespace Prefix = $(echo ${namespace_prefix_in} | sed -e 's#\\\\#\\\\\\\\#')\necho \"\"\n}\n\n\nfunction display_start_banner(){\n\n    echo '**********************************************************'\n    echo '*          STARTING LARAVEL MAKE FACADE SCRIPT'\n    echo '**********************************************************'\n}\n\n#  Init the Vars that I can in the beginning\nfunction init_and_export_vars(){\n    echo\n    echo \"INIT and EXPORT VARS\"\n    echo \"====================\"\n    #   Substitution Tokens:\n    #\n    #   Tokens:\n    #   {namespace_prefix}\n    #   {namespace_prefix_lowerfirstchar}\n    #   {facade_name_upcase}\n    #   {facade_name_lowercase}\n    #\n\n\n    namespace_prefix=$(echo ${namespace_prefix_in} | sed -e 's#\\\\#\\\\\\\\#')\n    namespace_prefix_lowerfirstchar=$(echo ${namespace_prefix_in} | sed -e 's#\\\\#/#g' -e 's/^\\(.\\)/\\l\\1/g')\n    facade_name_upcase=$(echo ${facade_name_in} | sed -e 's/\\b\\(.\\)/\\u\\1/')\n    facade_name_lowercase=$(echo ${facade_name_in} | awk '{print tolower($0)}')\n\n\n#   Filename: {facade_name_upcase}.php  -  SOURCE TEMPLATE\nsource_template='&lt;?php\n\nnamespace {namespace_prefix}\\Facades;\n\nclass {facade_name_upcase}\n{\n    //\n}\n'\n\n\n#  Filename: {facade_name_upcase}ServiceProvider.php    -   SERVICE PROVIDER TEMPLATE\nserviceProvider_template='&lt;?php\n\nnamespace {namespace_prefix}\\Providers;\n\nuse Illuminate\\Support\\ServiceProvider;\nuse App;\n\n\nclass {facade_name_upcase}ServiceProvider extends ServiceProvider {\n\n    public function boot()\n    {\n        //\n    }\n\n    public function register()\n    {\n        App::bind(\"{facade_name_lowercase}\", function()\n        {\n            return new \\{namespace_prefix}\\Facades\\{facade_name_upcase};\n        });\n    }\n\n}\n'\n\n#  {facade_name_upcase}Facade.php   -   FACADE TEMPLATE\nfacade_template='&lt;?php\n\nnamespace {namespace_prefix}\\Facades;\n\nuse Illuminate\\Support\\Facades\\Facade;\n\nclass {facade_name_upcase}Facade extends Facade {\n\n    protected static function getFacadeAccessor() { return \"{facade_name_lowercase}\"; }\n}\n'\n}\n\n\nfunction checkDirectoryExists(){\n    if [ ! -d ${namespace_prefix_lowerfirstchar} ]\n    then\n        echo \"\"\n        echo \"Can't find the namespace: \"${namespace_prefix_in}\n        echo \"\"\n        echo \"*** NOTE:\"\n        echo \"           Make sure the namspace directory exists and\"\n        echo \"           you use quotes around the namespace_prefix.\"\n        echo \"\"\n        display_syntax\n        exit\n    fi\n}\n\nfunction makeDirectories(){\n    echo \"Make Directories\"\n    echo \"================\"\n    mkdir -p ${namespace_prefix_lowerfirstchar}/Facades\n    mkdir -p ${namespace_prefix_lowerfirstchar}/Providers\n    mkdir -p ${namespace_prefix_lowerfirstchar}/Facades\n}\n\nfunction createSourceTemplate(){\n    source_template=$(echo \"${source_template}\" | sed -e 's/{namespace_prefix}/'${namespace_prefix}'/g' -e 's/{facade_name_upcase}/'${facade_name_upcase}'/g' -e 's/{facade_name_lowercase}/'${facade_name_lowercase}'/g')\n    echo \"Create Source Template:\"\n    echo \"=======================\"\n    echo \"${source_template}\"\n    echo \"\"\n    echo \"${source_template}\" &gt; ./${namespace_prefix_lowerfirstchar}/Facades/${facade_name_upcase}.php\n}\n\nfunction createServiceProviderTemplate(){\n    serviceProvider_template=$(echo \"${serviceProvider_template}\" | sed -e 's/{namespace_prefix}/'${namespace_prefix}'/g' -e 's/{facade_name_upcase}/'${facade_name_upcase}'/g' -e 's/{facade_name_lowercase}/'${facade_name_lowercase}'/g')\n    echo \"Create ServiceProvider Template:\"\n    echo \"================================\"\n    echo \"${serviceProvider_template}\"\n    echo \"\"\n    echo \"${serviceProvider_template}\" &gt; ./${namespace_prefix_lowerfirstchar}/Providers/${facade_name_upcase}ServiceProvider.php\n}\n\nfunction createFacadeTemplate(){\n    facade_template=$(echo \"${facade_template}\" | sed -e 's/{namespace_prefix}/'${namespace_prefix}'/g' -e 's/{facade_name_upcase}/'${facade_name_upcase}'/g' -e 's/{facade_name_lowercase}/'${facade_name_lowercase}'/g')\n    echo \"Create Facade Template:\"\n    echo \"=======================\"\n    echo \"${facade_template}\"\n    echo \"\"\n    echo \"${facade_template}\" &gt; ./${namespace_prefix_lowerfirstchar}/Facades/${facade_name_upcase}Facade.php\n}\n\n\nfunction serviceProviderPrompt(){\n    echo \"Providers: ${namespace_prefix_in}\\Providers\\\\${facade_name_upcase}ServiceProvider,\"\n}\n\nfunction aliasPrompt(){\n    echo \"Alias: '\"${facade_name_upcase}\"' =&gt; '\"${namespace_prefix_in}\"\\Facades\\\\${facade_name_upcase}Facade',\" \n}\n\n#\n#   END FUNCTION DECLARATIONS\n#\n\n\n###########################\n## START RUNNING SCRIPT  ##\n###########################\n\ndisplay_start_banner\n\ninit_and_export_vars\nmakeDirectories \ncheckDirectoryExists\necho \"\"\n\ncreateSourceTemplate\ncreateServiceProviderTemplate\ncreateFacadeTemplate\necho \"\"\necho \"===========================\"\necho \"  Finished TEST\"\necho \"===========================\"\necho \"\"\necho \"Add these lines to config/app.php:\"\necho \"----------------------------------\"\nserviceProviderPrompt\naliasPrompt\necho \"\"\n</code></pre>\n", "title": "Best practices for custom helpers on Laravel 5", "answer_id": 32047237, "link": "http://stackoverflow.com/questions/28290332/best-practices-for-custom-helpers-on-laravel-5/32047237#32047237", "tags": ["php", "laravel", "laravel-5"]}, {"body": "<h2>Custom Classes in Laravel 5, the Easy Way</h2>\n\n<p>This answer is applicable to <em>general</em> custom classes within Laravel. For a more Blade-specific answer, see <a href=\"http://stackoverflow.com/questions/28290332/best-practices-for-custom-helpers-on-laravel-5#36888067\"><strong>Custom Blade Directives in Laravel 5</strong></a>.</p>\n\n<p><strong>Step 1:</strong> Create your Helpers (or other custom class) file and give it a matching namespace.  Write your class and method:</p>\n\n<pre><code>&lt;?php // Code within app\\Helpers\\Helper.php\n\nnamespace App\\Helpers;\n\nclass Helper\n{\n    public static function shout(string $string)\n    {\n        return strtoupper($string);\n    }\n}\n</code></pre>\n\n<p><strong>Step 2:</strong> Create an alias:</p>\n\n<pre><code>&lt;?php // Code within config/app.php\n\n    'aliases' =&gt; [\n     ...\n        'Helper' =&gt; 'App\\Helpers\\Helper::class',\n     ...\n</code></pre>\n\n<p><strong>Step 3:</strong> Use it in your Blade template:</p>\n\n<pre><code>&lt;!-- Code within resources/views/template.blade.php --&gt;\n\n{!! Helper::shout('this is how to use autoloading correctly!!') !!}\n</code></pre>\n\n<p><strong>Extra Credit:</strong> Use this class anywhere in your Laravel app:</p>\n\n<pre><code>&lt;?php // Code within app/Http/Controllers/SomeController.php\n\nnamespace App\\Http\\Controllers;\n\nuse App\\Helpers\\Helper;\n\nclass SomeController extends Controller\n{\n\n    public function __construct()\n    {\n        Helper::shout('now i\\'m using my helper class in a controller!!');\n    }\n    ...\n</code></pre>\n\n<hr>\n\n<p>Source: <a href=\"http://www.php-fig.org/psr/psr-4/\">http://www.php-fig.org/psr/psr-4/</a></p>\n\n<p>Why it works: <a href=\"https://github.com/laravel/framework/blob/master/src/Illuminate/Support/ClassLoader.php\">https://github.com/laravel/framework/blob/master/src/Illuminate/Support/ClassLoader.php</a></p>\n\n<p>Where autoloading originates from:\n<a href=\"http://php.net/manual/en/language.oop5.autoload.php\">http://php.net/manual/en/language.oop5.autoload.php</a></p>\n", "title": "Best practices for custom helpers on Laravel 5", "answer_id": 32772686, "link": "http://stackoverflow.com/questions/28290332/best-practices-for-custom-helpers-on-laravel-5/32772686#32772686", "tags": ["php", "laravel", "laravel-5"]}, {"body": "<p>Having sifted through a variety of answers on SO and Google, I still couldn't find an optimal approach. Most answers suggest we leave the application and rely on 3rd party tool Composer to do the job, but I'm not convinced coupling to a tool just to include a file is wise.</p>\n\n<p><a href=\"http://stackoverflow.com/a/28360186/366529\">Andrew Brown's answer</a> came the closest to how I think it should be approached, but (at least in 5.1), the service provider step is unnecessary. <a href=\"http://stackoverflow.com/a/32772686/366529\">Heisian's answer</a> highlights the use of <code>PSR-4</code> which brings us one step closer. Here's my final implementation for helpers in views:</p>\n\n<p>First, create a helper file anywhere in your apps directory, with a namespace:  </p>\n\n<pre><code>namespace App\\Helpers;\n\nclass BobFinder\n{\n    static function bob()\n    {\n        return '&lt;strong&gt;Bob?! Is that you?!&lt;/strong&gt;';\n    }\n}\n</code></pre>\n\n<p>Next, alias your class in <code>config\\app.php</code>, in the <code>aliases</code> array:</p>\n\n<pre><code>'aliases' =&gt; [\n    // Other aliases\n    'BobFinder' =&gt; App\\Helpers\\BobFinder::class\n]\n</code></pre>\n\n<p>And that should be all you need to do. <code>PSR-4</code> and the alias should expose the helper to your views, so in your view, if you type:</p>\n\n<pre><code>{!! BobFinder::bob() !!}\n</code></pre>\n\n<p>It should output:</p>\n\n<pre><code>&lt;strong&gt;Bob?! Is that you?!&lt;/strong&gt;\n</code></pre>\n", "title": "Best practices for custom helpers on Laravel 5", "answer_id": 33776272, "link": "http://stackoverflow.com/questions/28290332/best-practices-for-custom-helpers-on-laravel-5/33776272#33776272", "tags": ["php", "laravel", "laravel-5"]}, {"body": "<p>For Custom Helper Libraries in my Laravel project, I have created a folder with name \"<strong>Libraries</strong>\" in my <strong>Laravel/App</strong> Directory and within Libraries directory, I have created various files for different helper libraries.</p>\n\n<p>After creating my helper files I simply include all those files in my <strong>composer.json</strong> file like this</p>\n\n<pre><code>...\n\"autoload\": {\n        \"classmap\": [\n            \"database\"\n        ],\n        \"files\": [\n            \"app/Libraries/commonFunctions.php\"\n        ],\n        \"psr-4\": {\n            \"App\\\\\": \"app/\"\n        }\n    },\n...\n</code></pre>\n\n<p>and execute </p>\n\n<pre><code>composer dumpautoload\n</code></pre>\n", "title": "Best practices for custom helpers on Laravel 5", "answer_id": 36114387, "link": "http://stackoverflow.com/questions/28290332/best-practices-for-custom-helpers-on-laravel-5/36114387#36114387", "tags": ["php", "laravel", "laravel-5"]}, {"body": "<h2>Custom Blade Directives in Laravel 5</h2>\n\n<p>Yes, there is <em>another</em> way to do this!</p>\n\n<p><strong>Step 1:</strong> Register a custom Blade directive:</p>\n\n<pre><code>&lt;?php // code in app/Providers/AppServiceProvider.php\n\nnamespace App\\Providers;\n\nuse Illuminate\\Support\\ServiceProvider;\n\nuse Blade; // &lt;-- This is important! Without it you'll get an exception.\n\nclass AppServiceProvider extends ServiceProvider\n{\n    /**\n     * Bootstrap any application services.\n     *\n     * @return void\n     */\n     public function boot()\n     {\n         // Make a custom blade directive:\n         Blade::directive('shout', function ($string) {\n             return trim(strtoupper($string), '(\\'\\')');\n         });\n\n         // And another one for good measure:\n         Blade::directive('customLink', function () {\n             return '&lt;a href=\"#\"&gt;Custom Link&lt;/a&gt;';\n         });\n     }\n    ...\n</code></pre>\n\n<p><strong>Step 2:</strong> Use your custom Blade directive:</p>\n\n<pre><code>&lt;!-- // code in resources/views/view.blade.php --&gt;\n\n@shout('this is my custom blade directive!!')\n&lt;br /&gt;\n@customLink\n</code></pre>\n\n<p><strong>Outputs:</strong></p>\n\n<p>THIS IS MY CUSTOM BLADE DIRECTIVE!!\n<br />\n<a href=\"http://#\">Custom Link</a></p>\n\n<hr>\n\n<p>Source: <a href=\"https://laravel.com/docs/5.1/blade#extending-blade\">https://laravel.com/docs/5.1/blade#extending-blade</a></p>\n\n<p>Additional Reading: <a href=\"https://mattstauffer.co/blog/custom-conditionals-with-laravels-blade-directives\">https://mattstauffer.co/blog/custom-conditionals-with-laravels-blade-directives</a></p>\n\n<hr>\n\n<p>If you want to learn how to best make custom classes that you can use <em>anywhere</em>, see <a href=\"http://stackoverflow.com/questions/28290332/best-practices-for-custom-helpers-on-laravel-5#32772686\">Custom Classes in Laravel 5, the Easy Way</a></p>\n", "title": "Best practices for custom helpers on Laravel 5", "answer_id": 36888067, "link": "http://stackoverflow.com/questions/28290332/best-practices-for-custom-helpers-on-laravel-5/36888067#36888067", "tags": ["php", "laravel", "laravel-5"]}], "question_id": 28290332}, {"body": "<p>I'm using Webpack in my application, in which I create two entry points - bundle.js for all my JavaScript files/codes, and vendors.js for all libraries like JQuery and React. What do I do in order to use plugins which have JQuery as their dependencies and I want to have them also in vendors.js? What if those plugins have multiple dependencies? </p>\n\n<p>Currently I'm trying to use this JQuery plugin here - <a href=\"https://github.com/mbklein/jquery-elastic\">https://github.com/mbklein/jquery-elastic</a>. The Webpack documentation mentions providePlugin and imports-loader. I used providePlugin, but still the JQuery object is not available. Here is how my webpack.config.js looks like-</p>\n\n<pre><code>var webpack = require('webpack');\nvar bower_dir = __dirname + '/bower_components';\nvar node_dir = __dirname + '/node_modules';\nvar lib_dir = __dirname + '/public/js/libs';\n\nvar config = {\n    addVendor: function (name, path) {\n        this.resolve.alias[name] = path;\n        this.module.noParse.push(new RegExp(path));\n    },\n    plugins: [\n        new webpack.ProvidePlugin({\n            $: \"jquery\",\n            jquery: \"jQuery\",\n            \"windows.jQuery\": \"jquery\"\n        }),\n        new webpack.optimize.CommonsChunkPlugin('vendors', 'vendors.js', Infinity)\n    ],\n    entry: {\n        app: ['./public/js/main.js'],\n        vendors: ['react','jquery']\n    },\n    resolve: {\n        alias: {\n            'jquery': node_dir + '/jquery/dist/jquery.js',\n            'jquery.elastic': lib_dir + '/jquery.elastic.source.js'\n        }\n    },\n    output: {\n        path: './public/js',\n        filename: 'bundle.js'\n    },\n    module: {\n        loaders: [\n            { test: /\\.js$/, loader: 'jsx-loader' },\n            { test: /\\.jquery.elastic.js$/, loader: 'imports-loader' }\n        ]\n    }\n};\nconfig.addVendor('react', bower_dir + '/react/react.min.js');\nconfig.addVendor('jquery', node_dir + '/jquery/dist/jquery.js');\nconfig.addVendor('jquery.elastic', lib_dir +'/jquery.elastic.source.js');\n\nmodule.exports = config;\n</code></pre>\n\n<p>But inspite of this, it still throws an error in the browser console 'Uncaught ReferenceError: jQuery is not defined'. Similarly when I use the imports-loader, it throws an error 'require is not defined' in this line </p>\n\n<pre><code>var jQuery = require(\"jquery\")\n</code></pre>\n\n<p>However, I could use the same plugin when I don't add it to my vendors.js file and instead required it in the normal AMD way as how I include my other JavaScript code files, like-</p>\n\n<pre><code>define(\n[\n    'jquery',\n    'react',\n    '../../common-functions',\n    '../../libs/jquery.elastic.source'\n],function($,React,commonFunctions){\n    $(\"#myInput\").elastic() //It works\n\n});\n</code></pre>\n\n<p>But this is not what I want to do, as this would mean that jquery.elastic.source.js is bundled along with my JS codes in bundle.js, and I want all my JQuery plugins to be in the vendors.js bundle. So how do I go about achieving this?</p>\n", "title": "Managing Jquery plugin dependency in webpack", "tags": ["javascript", "jquery", "amd", "webpack"], "answer_count": 4, "link": "http://stackoverflow.com/questions/28969861/managing-jquery-plugin-dependency-in-webpack", "answers": [{"body": "<p>You've mixed different approaches how to include legacy vendor modules. This is how I'd tackle it:</p>\n\n<h2>1. Prefer unminified CommonJS/AMD over <code>dist</code></h2>\n\n<p>Most modules link the <code>dist</code> version in the <code>main</code> field of their <code>package.json</code>. While this is useful for most developers, for webpack it is better to alias the <code>src</code> version because this way webpack is able to optimize dependencies better (e.g. when using the <a href=\"http://webpack.github.io/docs/list-of-plugins.html#dedupeplugin\"><code>DedupePlugin</code></a>).</p>\n\n<pre><code>// webpack.config.js\n\nmodule.exports = {\n    ...\n    resolve: {\n        alias: {\n            jquery: \"jquery/src/jquery\"\n        }\n    }\n};\n</code></pre>\n\n<p>However, in most cases the <code>dist</code> version works just fine as well.</p>\n\n<hr>\n\n<h2>2. Use the <code>ProvidePlugin</code> to inject implicit globals</h2>\n\n<p>Most legacy modules rely on the presence of specific globals, like jQuery plugins do on <code>$</code> or <code>jQuery</code>. In this scenario you can configure webpack, to prepend <code>var $ = require(\"jquery\")</code> everytime it encounters the global <code>$</code> identifier.</p>\n\n<pre><code>var webpack = require(\"webpack\");\n\n    ...\n\n    plugins: [\n        new webpack.ProvidePlugin({\n            $: \"jquery\",\n            jQuery: \"jquery\"\n        })\n    ]\n</code></pre>\n\n<hr>\n\n<h2>3. Use the <a href=\"https://github.com/webpack/imports-loader\">imports-loader</a> to configure <code>this</code></h2>\n\n<p>Some legacy modules rely on <code>this</code> being the <code>window</code> object. This becomes a problem when the module is executed in a CommonJS context where <code>this</code> equals <code>module.exports</code>. In this case you can override <code>this</code> with the <a href=\"https://github.com/webpack/imports-loader\">imports-loader</a>.</p>\n\n<p>Run <code>npm i imports-loader --save-dev</code> and then</p>\n\n<pre><code>module: {\n    loaders: [\n        {\n            test: /[\\/\\\\]node_modules[\\/\\\\]some-module[\\/\\\\]index\\.js$/,\n            loader: \"imports?this=&gt;window\"\n        }\n    ]\n}\n</code></pre>\n\n<p>The imports-loader can also be used to manually inject variables of all kinds. But most of the time the <code>ProvidePlugin</code> is more useful when it comes to implicit globals.</p>\n\n<hr>\n\n<h2>4. Use the <a href=\"https://github.com/webpack/imports-loader\">imports-loader</a> to disable AMD</h2>\n\n<p>There are modules that support different module styles, like AMD, CommonJS and legacy. However, most of the time they first check for <code>define</code> and then use some quirky code to export properties. In these cases, it could help to force the CommonJS path by setting <code>define = false</code>.</p>\n\n<pre><code>module: {\n    loaders: [\n        {\n            test: /[\\/\\\\]node_modules[\\/\\\\]some-module[\\/\\\\]index\\.js$/,\n            loader: \"imports?define=&gt;false\"\n        }\n    ]\n}\n</code></pre>\n\n<hr>\n\n<h2>5. Use the <a href=\"https://github.com/webpack/script-loader\">script-loader</a> to globally import scripts</h2>\n\n<p>If you don't care about global variables and just want legacy scripts to work, you can also use the script-loader. It executes the module in a global context, just as if you had included them via the <code>&lt;script&gt;</code> tag.</p>\n\n<hr>\n\n<h2>6. Use <code>noParse</code> to include large dists</h2>\n\n<p>When there is no AMD/CommonJS version of the module and you want to include the <code>dist</code>, you can flag this module as <code>noParse</code>. Then webpack will just include the module without parsing it, which can be used to improve the build time. This means that any feature requiring the <a href=\"http://en.wikipedia.org/wiki/Abstract_syntax_tree\">AST</a>, like the <code>ProvidePlugin</code>, will not work.</p>\n\n<pre><code>module: {\n    noParse: [\n        /[\\/\\\\]node_modules[\\/\\\\]angular[\\/\\\\]angular\\.js$/\n    ]\n}\n</code></pre>\n", "title": "Managing Jquery plugin dependency in webpack", "answer_id": 28989476, "link": "http://stackoverflow.com/questions/28969861/managing-jquery-plugin-dependency-in-webpack/28989476#28989476", "tags": ["javascript", "jquery", "amd", "webpack"]}, {"body": "<p>I don't know if I understand very well what you are trying to do, but I had to use jQuery plugins that required jQuery to be in the global context (window) and I put the following in my <code>entry.js</code>:</p>\n\n<pre><code>var $ = require('jquery');\nwindow.jQuery = $;\nwindow.$ = $;\n</code></pre>\n\n<p>The I just have to require wherever i want the <code>jqueryplugin.min.js</code> and <code>window.$</code> is extended with the plugin as expected.</p>\n", "title": "Managing Jquery plugin dependency in webpack", "answer_id": 30331983, "link": "http://stackoverflow.com/questions/28969861/managing-jquery-plugin-dependency-in-webpack/30331983#30331983", "tags": ["javascript", "jquery", "amd", "webpack"]}, {"body": "<p>For global access to jquery then several options exist. In my most recent webpack project, I wanted global access to jquery so I added the following to my plugins declarations:</p>\n\n<pre><code> plugins: [\n    new webpack.ProvidePlugin({\n      $: \"jquery\",\n      jQuery: \"jquery\"\n    })\n  ]\n</code></pre>\n\n<p>This then means that jquery is accessible from within the JavaScript source code via global references $ and jQuery.</p>\n\n<p>Of course, you need to have also installed jquery via npm:</p>\n\n<pre><code>$npm i jquery --save\n</code></pre>\n\n<p>For a working example of this approach please feel free to fork my app on <a href=\"https://github.com/arcseldon/react-babel-webpack-starter-app\">github</a></p>\n", "title": "Managing Jquery plugin dependency in webpack", "answer_id": 34354301, "link": "http://stackoverflow.com/questions/28969861/managing-jquery-plugin-dependency-in-webpack/34354301#34354301", "tags": ["javascript", "jquery", "amd", "webpack"]}, {"body": "<p>Add this to your plugins array in webpack.config.js</p>\n\n<pre><code>new webpack.ProvidePlugin({\n    'window.jQuery': 'jquery',\n    'window.$': 'jquery',\n})\n</code></pre>\n\n<p>then require jquery normally </p>\n\n<pre><code>require('jquery');\n</code></pre>\n", "title": "Managing Jquery plugin dependency in webpack", "answer_id": 39149318, "link": "http://stackoverflow.com/questions/28969861/managing-jquery-plugin-dependency-in-webpack/39149318#39149318", "tags": ["javascript", "jquery", "amd", "webpack"]}], "question_id": 28969861}, {"body": "<p>I'm getting this error executing my Android app (I cleaned it and then built it, but the error is still present)</p>\n\n<ul>\n<li>Sync: OK </li>\n<li>Make Project: OK</li>\n<li>Clean: OK</li>\n<li>Run: Error</li>\n</ul>\n\n<blockquote>\n  <p>Error:Execution failed for task ':app:dexDebug' .com.android.ide.common.process.ProcessException: org.gradle.process.internal.ExecException: Process 'command 'C:\\Program Files\\Java\\jdk1.7.0_25\\bin\\java.exe'' finished with non-zero exit value 2</p>\n</blockquote>\n\n<p>My gradle file:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\ncompileSdkVersion 21\nbuildToolsVersion \"21.1.2\"\ndefaultConfig {\n    applicationId \"com.rzr.rzevallosr.miappdepruebas\"\n    minSdkVersion 19\n    targetSdkVersion 21\n    versionCode 1\n    versionName \"1.0\"\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n\nproductFlavors {\n}\n\nrepositories {\n    mavenCentral()\n    flatDir {\n        dirs 'libs'\n    }\n}\n}\n\ndependencies {\ncompile fileTree(dir: 'libs', include: ['*.jar'])\n\n// This library handles authentication and authorization\ncompile 'com.spotify.sdk:spotify-auth:1.0.0-beta9@aar'\n// This library handles music playback\ncompile 'com.spotify.sdk:spotify-player:1.0.0-beta9@aar'\n\ncompile 'com.android.support:appcompat-v7:21.0.3'\ncompile 'com.android.support:recyclerview-v7:21.0.+'\n\ncompile 'com.squareup.retrofit:retrofit:1.9.0'\ncompile 'com.squareup.okhttp:okhttp-urlconnection:2.2.0'\ncompile 'com.squareup.okhttp:okhttp:2.2.0'\n\ncompile files('libs/spotify-web-api-android-master-0.1.0.jar')\ncompile files('libs/okio-1.3.0.jar')\n}\n</code></pre>\n\n<p>Thanks for your time and help!</p>\n\n<p>Regards.</p>\n\n<p>EDIT: I didn't see \"compile fileTree(dir: 'libs', include: ['*.jar'])\" it was compiling twice my libraries, so i just comment:</p>\n\n<pre><code>//compile 'com.squareup.retrofit:retrofit:1.9.0'\n//compile 'com.squareup.okhttp:okhttp-urlconnection:2.2.0'\n//compile 'com.squareup.okhttp:okhttp:2.2.0'\n\n//compile files('libs/spotify-web-api-android-master-0.1.0.jar')\n//compile files('libs/okio-1.3.0.jar')\n</code></pre>\n\n<p>and it works fine. Thanks anyway! My bad.</p>\n", "title": "Java finished with non-zero exit value 2 - Android Gradle", "tags": ["android", "gradle", "web-api", "spotify", "build.gradle"], "answer_count": 19, "link": "http://stackoverflow.com/questions/29756188/java-finished-with-non-zero-exit-value-2-android-gradle", "answers": [{"body": "<p>Possible problem: You have exceeded dex 65k methods limit, may be you added some library or several methods before problem occurred?</p>\n", "title": "Java finished with non-zero exit value 2 - Android Gradle", "answer_id": 29757007, "link": "http://stackoverflow.com/questions/29756188/java-finished-with-non-zero-exit-value-2-android-gradle/29757007#29757007", "tags": ["android", "gradle", "web-api", "spotify", "build.gradle"]}, {"body": "<p>I didn't know (by then) that <strong>\"compile fileTree(dir: 'libs', include: ['*.jar'])\"</strong> compile all that has jar extension on libs folder, so i just comment (or delete) this lines:</p>\n\n<pre><code>//compile 'com.squareup.retrofit:retrofit:1.9.0'\n//compile 'com.squareup.okhttp:okhttp-urlconnection:2.2.0'\n//compile 'com.squareup.okhttp:okhttp:2.2.0'\n\n//compile files('libs/spotify-web-api-android-master-0.1.0.jar')\n//compile files('libs/okio-1.3.0.jar')\n</code></pre>\n\n<p>and it works fine. Thanks anyway! My bad.</p>\n", "title": "Java finished with non-zero exit value 2 - Android Gradle", "answer_id": 30064797, "link": "http://stackoverflow.com/questions/29756188/java-finished-with-non-zero-exit-value-2-android-gradle/30064797#30064797", "tags": ["android", "gradle", "web-api", "spotify", "build.gradle"]}, {"body": "<p>If You have already updated your SDK and You also using google-play-services then you need to take care of the dependency because there are some kind of conflics with :</p>\n\n<p>Follow the below : compile 'com.google.android.gms:play-services:+' Replace by compile 'com.google.android.gms:play-services:6.5.87'</p>\n\n<p>Note: Here '6.5.87' is the google-play-service version. I hope it will help..</p>\n", "title": "Java finished with non-zero exit value 2 - Android Gradle", "answer_id": 30253294, "link": "http://stackoverflow.com/questions/29756188/java-finished-with-non-zero-exit-value-2-android-gradle/30253294#30253294", "tags": ["android", "gradle", "web-api", "spotify", "build.gradle"]}, {"body": "<p>This issue is quite possibly due to exceeding the 65K methods dex limit imposed by Android. This problem can be solved either by cleaning the project, and removing some unused libraries and methods from dependencies in build.gradle, <strong>OR</strong> by adding multidex support.</p>\n\n<p><strong>So, If you have to keep libraries and methods, then you can enable multi dex support by declaring it in the gradle config.</strong></p>\n\n<pre><code>defaultConfig {        \n    // Enabling multidex support.\n    multiDexEnabled true\n}\n</code></pre>\n\n<p>You can read more about multidex support and developing <a href=\"https://developer.android.com/intl/ko/tools/building/multidex.html\">apps with more than 65K methods here</a>.</p>\n", "title": "Java finished with non-zero exit value 2 - Android Gradle", "answer_id": 30692005, "link": "http://stackoverflow.com/questions/29756188/java-finished-with-non-zero-exit-value-2-android-gradle/30692005#30692005", "tags": ["android", "gradle", "web-api", "spotify", "build.gradle"]}, {"body": "<p>In my case, I got this error when there are 2 or more libraries conflict (same library but different versions). Check your app build.gradle in dependencies block.</p>\n", "title": "Java finished with non-zero exit value 2 - Android Gradle", "answer_id": 30808405, "link": "http://stackoverflow.com/questions/29756188/java-finished-with-non-zero-exit-value-2-android-gradle/30808405#30808405", "tags": ["android", "gradle", "web-api", "spotify", "build.gradle"]}, {"body": "<blockquote>\n  <p>I think it's conflicts of .jar file in your project.</p>\n</blockquote>\n\n<p>I have removed android-support-v4.jar from libs folder and its working !!!</p>\n\n<p>if your project gives error, check in your build.gradle file</p>\n\n<blockquote>\n  <p>dependencies { </p>\n  \n  <p>}</p>\n</blockquote>\n", "title": "Java finished with non-zero exit value 2 - Android Gradle", "answer_id": 31563771, "link": "http://stackoverflow.com/questions/29756188/java-finished-with-non-zero-exit-value-2-android-gradle/31563771#31563771", "tags": ["android", "gradle", "web-api", "spotify", "build.gradle"]}, {"body": "<p>In my case, the problem was that the new library (gradle dependency) that I had added was relying on some other dependencies and two of those underlying dependencies were conflicting/clashing with some dependencies of other libraries/dependencies in my build script. Specifically, I added Apache Commons <code>Validator</code> (for email validation), and two of its dependencies (Apache Commons <code>Logging</code> and Apache Commons <code>Collections</code>) were conflicting with those used by Robolectric (because different versions of same libraries were present in my build path). So I excluded those conflicting versions of dependencies (<code>modules</code>) when adding the new dependency (the <code>Validator</code>):</p>\n\n<pre><code>compile ('commons-validator:commons-validator:1.4.1') {\n    exclude module: 'commons-logging'\n    exclude module: 'commons-collections'\n}\n</code></pre>\n\n<p>You can see the dependencies of your gradle module(s) (you might have only one module in your project) using the following gradle command (I use the gradle wrapper that gets created for you if you have created your project in Android Studio/Intellij Idea). Run this command in your project's root directory:</p>\n\n<p>./gradlew :YOUR-MODULE-NAME:dependencies</p>\n\n<p>After adding those <code>exclude</code> directives and retrying to run, I got a <code>duplicate file</code> error for <code>NOTICE.txt</code>that is used by some apache commons libraries like Logging and Collections. I had to exclude that text file when packaging. In my build.gradle, I added:</p>\n\n<pre><code>packagingOptions {\n    exclude 'META-INF/NOTICE'\n    exclude 'META-INF/notice.txt'\n    exclude 'META-INF/NOTICE.txt'\n}\n</code></pre>\n\n<p>It turned out that the new library (the <code>Validator</code>) can work with slightly older versions of its dependencies/modules (which are already imported into my build path by another library (Robolectric)). This was the case with this specific library, but other libraries might be using the latest API of the underlying dependencies (in which case you have to try to see if the other libraries that rely on the conflicting module/dependency are able to work with the newer version (by excluding the older version of the module/dependecy under those libraries's entries)).</p>\n", "title": "Java finished with non-zero exit value 2 - Android Gradle", "answer_id": 31564954, "link": "http://stackoverflow.com/questions/29756188/java-finished-with-non-zero-exit-value-2-android-gradle/31564954#31564954", "tags": ["android", "gradle", "web-api", "spotify", "build.gradle"]}, {"body": "<p>For me the problem was, i had put a unnecessary complie library code in build.gradle </p>\n\n<pre><code>dependencies {\n    compile 'com.google.android.gms:play-services:7.5.0'\n}\n</code></pre>\n\n<p>which was causing over 65k methods, so removed it,gradle sync, cleaned project, and then ran again and then this error stopped.\nI needed just maps and gcm so i put these lines and synced project</p>\n\n<pre><code>compile 'com.google.android.gms:play-services-gcm:7.5.0'\ncompile 'com.google.android.gms:play-services-location:7.5.0'\n</code></pre>\n\n<p>Hi people i again encountered this problem and this time it was because of changing build tools version and it really required me to enable multidex..so i added these my app's build.gradle file..</p>\n\n<pre><code>defaultConfig {\n    applicationId \"com.am.android\"\n    minSdkVersion 13\n    targetSdkVersion 23\n    // Enabling multidex support.\n    multiDexEnabled true\n}\n\ndexOptions {\n    incremental true\n    javaMaxHeapSize \"2048M\"\n    jumboMode = true\n}\n\ndependencies {\n    compile fileTree(include: ['*.jar'], dir: 'libs')\n    compile 'com.android.support:multidex:1.0.1'\n}\n</code></pre>\n\n<p>And create a class that extends Application class and include this method inside the class..</p>\n\n<pre><code>@Override\nprotected void attachBaseContext(Context base) {\n    super.attachBaseContext(base);\n    MultiDex.install(this);\n}\n</code></pre>\n\n<p>also include in OnCreate method too</p>\n\n<pre><code>@Override\npublic void onCreate() {\n    MultiDex.install(this);\n    super.onCreate();\n}\n</code></pre>\n", "title": "Java finished with non-zero exit value 2 - Android Gradle", "answer_id": 31759781, "link": "http://stackoverflow.com/questions/29756188/java-finished-with-non-zero-exit-value-2-android-gradle/31759781#31759781", "tags": ["android", "gradle", "web-api", "spotify", "build.gradle"]}, {"body": "<p>in my case problem was build tools version which was <strong>23.0.0 rc3</strong> and i changed to 22.0.1 and my problem fixed.</p>\n", "title": "Java finished with non-zero exit value 2 - Android Gradle", "answer_id": 32324335, "link": "http://stackoverflow.com/questions/29756188/java-finished-with-non-zero-exit-value-2-android-gradle/32324335#32324335", "tags": ["android", "gradle", "web-api", "spotify", "build.gradle"]}, {"body": "<p>Just in case if someone still struggling with this and have no clue why is this happening and how to fix. In fact this error </p>\n\n<blockquote>\n  <p>Error:Execution failed for task ':app:dexDebug'. > com.android.ide.common.process.ProcessException: org.gradle.process.internal.ExecException: Process 'command 'C:\\Program Files\\Java\\jdkx.x.x_xx\\bin\\java.exe'' finished with non-zero exit value 2</p>\n</blockquote>\n\n<p>can have many reasons to happen but certainly not something related to your JDK version so don't wast your time in wrong direction.\nThese are two main reasons for this to happen</p>\n\n<ol>\n<li>You have same library or jar file included several places and some of them conflicting with each other.</li>\n<li>You are about to or already exceeded 65k method limit</li>\n</ol>\n\n<p>First case can be fixed as follows:\nFind out which dependencies you have included multiple times. In order to do this run following command in android studio terminal </p>\n\n<pre><code>gradlew -q dependencies yourProjectName_usually_app:dependencies --configuration compile\n</code></pre>\n\n<p>this will return all the dependencies but jar files that you include from lib folder\ntry to get rid of duplication marked with asterisk (*), this is not always possible but in some cases you still can do it, after this try to exclude modules that are included many times, you can do it like this</p>\n\n<pre><code>compile ('com.facebook.android:facebook-android-sdk:4.0.1'){\n    exclude module: 'support-v4'\n}\n</code></pre>\n\n<hr>\n\n<p>For the second case when you exceeding method limit suggestion is to try to minimize it by removing included libraries (note sounds like first solution) if no way to do it add multiDexEnabled true to your defaultConfig</p>\n\n<pre><code>defaultConfig {\n   ...\n   ...\n   multiDexEnabled true\n}\n</code></pre>\n\n<p>this increases method limit but it is not the best thing to do because of possible performance issues\n<strong>IMPORTANT</strong> adding only <code>multiDexEnabled true</code> to <code>defaultConfig</code> is not enough in fact on all devices running android &lt;5 Lollipop it will result in unexpected behavior and <code>NoClassDefFoundError</code>. how to solve it is described <a href=\"http://stackoverflow.com/a/28951863/855843\">here</a> </p>\n", "title": "Java finished with non-zero exit value 2 - Android Gradle", "answer_id": 32400904, "link": "http://stackoverflow.com/questions/29756188/java-finished-with-non-zero-exit-value-2-android-gradle/32400904#32400904", "tags": ["android", "gradle", "web-api", "spotify", "build.gradle"]}, {"body": "<p>Mine got solved by enabling multiDex for debug builds.</p>\n\n<pre><code>defaultConfig {\nmultiDexEnabled true\n}\n</code></pre>\n", "title": "Java finished with non-zero exit value 2 - Android Gradle", "answer_id": 32421392, "link": "http://stackoverflow.com/questions/29756188/java-finished-with-non-zero-exit-value-2-android-gradle/32421392#32421392", "tags": ["android", "gradle", "web-api", "spotify", "build.gradle"]}, {"body": "<p>I had the same issue and I fixed removing the library that were unnecessary  </p>\n\n<pre><code>compile fileTree(dir: 'libs', include: ['*.jar'])\n</code></pre>\n\n<p>I removed that library and I could run the project without any problem.</p>\n", "title": "Java finished with non-zero exit value 2 - Android Gradle", "answer_id": 32629802, "link": "http://stackoverflow.com/questions/29756188/java-finished-with-non-zero-exit-value-2-android-gradle/32629802#32629802", "tags": ["android", "gradle", "web-api", "spotify", "build.gradle"]}, {"body": "<p>You may be using a low quality cable/defected cable to connect your device to the PC, I replaced the cable and it worked for me. </p>\n", "title": "Java finished with non-zero exit value 2 - Android Gradle", "answer_id": 34142426, "link": "http://stackoverflow.com/questions/29756188/java-finished-with-non-zero-exit-value-2-android-gradle/34142426#34142426", "tags": ["android", "gradle", "web-api", "spotify", "build.gradle"]}, {"body": "<p>There are two alternatives that'll work for sure:</p>\n\n<ol>\n<li>Clean your project and then build.</li>\n</ol>\n\n<p>If the above method didn't worked, try the next.</p>\n\n<ol start=\"2\">\n<li><p>Add the following to build.gradle file at app level</p>\n\n<pre><code>defaultConfig {   \n\nmultiDexEnabled true\n\n}\n</code></pre></li>\n</ol>\n", "title": "Java finished with non-zero exit value 2 - Android Gradle", "answer_id": 34194402, "link": "http://stackoverflow.com/questions/29756188/java-finished-with-non-zero-exit-value-2-android-gradle/34194402#34194402", "tags": ["android", "gradle", "web-api", "spotify", "build.gradle"]}, {"body": "<p>Updating my Java SDK to the latest version <code>1.7.0_79</code> and updating the <code>SDK Location</code> under <code>Project Structure</code> solved the problem for me.</p>\n", "title": "Java finished with non-zero exit value 2 - Android Gradle", "answer_id": 34209368, "link": "http://stackoverflow.com/questions/29756188/java-finished-with-non-zero-exit-value-2-android-gradle/34209368#34209368", "tags": ["android", "gradle", "web-api", "spotify", "build.gradle"]}, {"body": "<p>My problem was that apart from having </p>\n\n<blockquote>\n  <p>com.android.build.api.transform.TransformException:\n  com.android.ide.common.process.ProcessException:\n  org.gradle.process.internal.ExecException: Process 'command\n  '/Library/Java/JavaVirtualMachines/jdk1.X.X_XX.jdk/Contents/Home/bin/java''\n  finished with non-zero exit value 2</p>\n</blockquote>\n\n<p>I had this trace as well:</p>\n\n<blockquote>\n  <p>Uncaught translation error: java.lang.IllegalArgumentException:\n  already added: Lcom/mypackage/ClassX;</p>\n</blockquote>\n\n<p>The problem was that I was adding the same class in two differents libraries. Removing the class/jar file from one of the libraries, the project run properly</p>\n", "title": "Java finished with non-zero exit value 2 - Android Gradle", "answer_id": 34996864, "link": "http://stackoverflow.com/questions/29756188/java-finished-with-non-zero-exit-value-2-android-gradle/34996864#34996864", "tags": ["android", "gradle", "web-api", "spotify", "build.gradle"]}, {"body": "<p>For me i was adding the whole playstore dependencies </p>\n\n<blockquote>\n  <p>compile 'com.google.android.gms:play-services:8.4.0'</p>\n</blockquote>\n\n<p>But i needed google map only , so i made it more specific and the error was resolved. </p>\n\n<blockquote>\n  <p>compile 'com.google.android.gms:play-services-maps:8.4.0'</p>\n</blockquote>\n", "title": "Java finished with non-zero exit value 2 - Android Gradle", "answer_id": 37288341, "link": "http://stackoverflow.com/questions/29756188/java-finished-with-non-zero-exit-value-2-android-gradle/37288341#37288341", "tags": ["android", "gradle", "web-api", "spotify", "build.gradle"]}, {"body": "<p>I Reject Embedded JDK ( in 32bit ) because embedded <strong>JDK is 64bit</strong></p>\n\n<p>Right click your Project -> <strong>Open Module Setting</strong> -> <strong><em>SDK Location</em></strong> -> Uncheck Use embedded JDk then set your JDK Path, eg in Ubuntu <strong>/usr/lib/jvm/java-8-openjdk-i386</strong> </p>\n", "title": "Java finished with non-zero exit value 2 - Android Gradle", "answer_id": 37514977, "link": "http://stackoverflow.com/questions/29756188/java-finished-with-non-zero-exit-value-2-android-gradle/37514977#37514977", "tags": ["android", "gradle", "web-api", "spotify", "build.gradle"]}, {"body": "<p>Check if you have 2 classes with same name. That was the problem for me.</p>\n", "title": "Java finished with non-zero exit value 2 - Android Gradle", "answer_id": 38602795, "link": "http://stackoverflow.com/questions/29756188/java-finished-with-non-zero-exit-value-2-android-gradle/38602795#38602795", "tags": ["android", "gradle", "web-api", "spotify", "build.gradle"]}], "question_id": 29756188}, {"body": "<p>Tried to run my existing app on iOS9 but getting failure while using <code>AFURLSessionManager</code>.</p>\n\n<pre><code>__block NSURLSessionDataTask *task = [self.sessionManager dataTaskWithRequest:request completionHandler:^(NSURLResponse * __unused response, id responseObject, NSError *error) {\n    if (error) {\n\n    } else {\n\n    }\n}];\n\n[task resume];\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>Error Domain=NSURLErrorDomain Code=-999 \"cancelled.\n</code></pre>\n\n<p>Also getting following logs: </p>\n\n<pre><code> NSURLSession/NSURLConnection HTTP load failed (kCFStreamErrorDomainSSL, -9824\n CFNetwork SSLHandshake failed (-9824)\n</code></pre>\n\n<p><strong>Update:</strong>\nI have added multiple updates to my solution:\n<a href=\"http://stackoverflow.com/questions/30739473/nsurlsession-nsurlconnection-http-load-failed-on-ios-9/30748166#30748166\">NSURLSession/NSURLConnection HTTP load failed on iOS 9</a></p>\n", "title": "NSURLSession/NSURLConnection HTTP load failed on iOS 9", "tags": ["ios", "afnetworking", "nsurlsession", "ios9", "tls1.2"], "answer_count": 9, "link": "http://stackoverflow.com/questions/30739473/nsurlsession-nsurlconnection-http-load-failed-on-ios-9", "answers": [{"body": "<p>Found solution:</p>\n\n<p>In iOS9, ATS enforces best practices during network calls, including the use of HTTPS.</p>\n\n<p><a href=\"https://developer.apple.com/library/prerelease/ios/releasenotes/General/WhatsNewIniOS/Articles/iOS9.html\">From Apple documentation:</a></p>\n\n<p><em>ATS prevents accidental disclosure, provides secure default behavior, and is easy to adopt. You should adopt ATS as soon as possible, regardless of whether you\u2019re creating a new app or updating an existing one. If you\u2019re developing a new app, you should use HTTPS exclusively. If you have an existing app, you should use HTTPS as much as you can right now, and create a plan for migrating the rest of your app as soon as possible.</em></p>\n\n<p>In beta 1, currently there is no way to define this in info.plist. Solution is to add it manually:</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n    &lt;true/&gt;\n&lt;/dict&gt;\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/nGw3j.png\" alt=\"enter image description here\"></p>\n\n<p><strong><em>Update1:</strong> <strong>This is a temporary workaround until you're ready to adopt iOS9 ATS support.</em></strong> </p>\n\n<p><strong>Update2:</strong> For more details please refer following link:\n<a href=\"http://ste.vn/2015/06/10/configuring-app-transport-security-ios-9-osx-10-11/\">http://ste.vn/2015/06/10/configuring-app-transport-security-ios-9-osx-10-11/</a></p>\n\n<p><strong>Update3:</strong> If you are trying to connect to a host (YOURHOST.COM) that only has TLS 1.0</p>\n\n<p>Add these to your app's Info.plist</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;NSExceptionDomains&lt;/key&gt;\n    &lt;dict&gt;\n        &lt;key&gt;YOURHOST.COM&lt;/key&gt;\n        &lt;dict&gt;\n            &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;\n            &lt;true/&gt;\n            &lt;key&gt;NSTemporaryExceptionAllowsInsecureHTTPLoads&lt;/key&gt;\n            &lt;true/&gt;\n            &lt;key&gt;NSTemporaryExceptionMinimumTLSVersion&lt;/key&gt;\n            &lt;string&gt;1.0&lt;/string&gt;\n            &lt;key&gt;NSTemporaryExceptionRequiresForwardSecrecy&lt;/key&gt;\n            &lt;false/&gt;\n        &lt;/dict&gt;\n    &lt;/dict&gt;\n&lt;/dict&gt;\n</code></pre>\n", "title": "NSURLSession/NSURLConnection HTTP load failed on iOS 9", "answer_id": 30748166, "link": "http://stackoverflow.com/questions/30739473/nsurlsession-nsurlconnection-http-load-failed-on-ios-9/30748166#30748166", "tags": ["ios", "afnetworking", "nsurlsession", "ios9", "tls1.2"]}, {"body": "<p>I found solution from <a href=\"http://ste.vn/2015/06/10/configuring-app-transport-security-ios-9-osx-10-11/\" rel=\"nofollow\">here.</a>  And its working for me.</p>\n\n<p>Check this, it may help you.</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;NSExceptionDomains&lt;/key&gt;\n         &lt;dict&gt;\n             &lt;key&gt;myDomain.com&lt;/key&gt;\n                    &lt;dict&gt;\n                      &lt;!--Include to allow subdomains--&gt;\n                      &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;\n                      &lt;true/&gt;\n                      &lt;!--Include to allow HTTP requests--&gt;\n                      &lt;key&gt;NSTemporaryExceptionAllowsInsecureHTTPLoads&lt;/key&gt;\n                      &lt;true/&gt;\n                      &lt;!--Include to specify minimum TLS version--&gt;\n                      &lt;key&gt;NSTemporaryExceptionMinimumTLSVersion&lt;/key&gt;\n                      &lt;string&gt;TLSv1.1&lt;/string&gt;\n                &lt;/dict&gt;\n          &lt;/dict&gt;\n&lt;/dict&gt;\n</code></pre>\n", "title": "NSURLSession/NSURLConnection HTTP load failed on iOS 9", "answer_id": 30800678, "link": "http://stackoverflow.com/questions/30739473/nsurlsession-nsurlconnection-http-load-failed-on-ios-9/30800678#30800678", "tags": ["ios", "afnetworking", "nsurlsession", "ios9", "tls1.2"]}, {"body": "<p>How to deal with the SSL in iOS9\uff0cOne solution is to  do like:</p>\n\n<p>As the <a href=\"https://developer.apple.com/library/prerelease/ios/releasenotes/General/WhatsNewIniOS/Articles/iOS9.html#//apple_ref/doc/uid/TP40016198-DontLinkElementID_13\" rel=\"nofollow\">Apple</a> say :\n <img src=\"https://i.imgur.com/eTgSHZY.png\" alt=\"enter image description here\">\n   <img src=\"https://i.imgur.com/Tc0fS6p.jpg\" alt=\"enter image description here\"></p>\n\n<p><img src=\"https://i.imgur.com/v2Tskwh.jpg\" alt=\"enter image description here\"></p>\n\n<p>iOS 9 and OSX 10.11 require TLSv1.2 SSL for all hosts you plan to request data from unless you specify exception domains in your app's Info.plist file.</p>\n\n<p>The syntax for the Info.plist configuration looks like this:</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n  &lt;key&gt;NSExceptionDomains&lt;/key&gt;\n  &lt;dict&gt;\n    &lt;key&gt;yourserver.com&lt;/key&gt;\n    &lt;dict&gt;\n      &lt;!--Include to allow subdomains--&gt;\n      &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;\n      &lt;true/&gt;\n      &lt;!--Include to allow insecure HTTP requests--&gt;\n      &lt;key&gt;NSTemporaryExceptionAllowsInsecureHTTPLoads&lt;/key&gt;\n      &lt;true/&gt;\n      &lt;!--Include to specify minimum TLS version--&gt;\n      &lt;key&gt;NSTemporaryExceptionMinimumTLSVersion&lt;/key&gt;\n      &lt;string&gt;TLSv1.1&lt;/string&gt;\n    &lt;/dict&gt;\n  &lt;/dict&gt;\n&lt;/dict&gt;\n</code></pre>\n\n<p>If your application (a third-party web browser, for instance) needs to connect to arbitrary hosts, you can configure it like this:</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;!--Connect to anything (this is probably BAD)--&gt;\n    &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n    &lt;true/&gt;\n&lt;/dict&gt;\n</code></pre>\n\n<p>If you're having to do this, it's probably best to update your servers to use TLSv1.2 and SSL, if they're not already doing so. This should be considered a temporary workaround.</p>\n\n<p>As of today, the prerelease documentation makes no mention of any of these configuration options in any specific way. Once it does, I'll update the answer to link to the relevant documentation.</p>\n\n<p>For more info ,go to <a href=\"https://github.com/ChenYilong/iOS9AdaptationTips\" rel=\"nofollow\"><strong><em>iOS9AdaptationTips</em></strong></a></p>\n", "title": "NSURLSession/NSURLConnection HTTP load failed on iOS 9", "answer_id": 30836686, "link": "http://stackoverflow.com/questions/30739473/nsurlsession-nsurlconnection-http-load-failed-on-ios-9/30836686#30836686", "tags": ["ios", "afnetworking", "nsurlsession", "ios9", "tls1.2"]}, {"body": "<p><a href=\"https://developer.apple.com/library/prerelease/ios/technotes/App-Transport-Security-Technote/\">Apple's Technote on App Transport Security is very handy</a>; it helped us find a more secure solution to our issue.</p>\n\n<p>Hopefully this will help someone else. We were having issues connecting to Amazon S3 URLs that appeared to be perfectly valid, TLSv12 HTTPS URLs. Turns out we had to disable <code>NSExceptionRequiresForwardSecrecy</code> to enable another handful of ciphers that S3 uses.</p>\n\n<p>In our <code>Info.plist</code>:</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n  &lt;key&gt;NSExceptionDomains&lt;/key&gt;\n  &lt;dict&gt;\n    &lt;key&gt;amazonaws.com&lt;/key&gt;\n    &lt;dict&gt;\n      &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;\n      &lt;true/&gt;\n      &lt;key&gt;NSExceptionRequiresForwardSecrecy&lt;/key&gt;\n      &lt;false/&gt;\n    &lt;/dict&gt;\n  &lt;/dict&gt;\n&lt;/dict&gt;\n</code></pre>\n", "title": "NSURLSession/NSURLConnection HTTP load failed on iOS 9", "answer_id": 32506939, "link": "http://stackoverflow.com/questions/30739473/nsurlsession-nsurlconnection-http-load-failed-on-ios-9/32506939#32506939", "tags": ["ios", "afnetworking", "nsurlsession", "ios9", "tls1.2"]}, {"body": "<p>I have solved it with adding some key in info.plist. The steps I followed are:</p>\n\n<p>I Opened my project's info.plist file</p>\n\n<p>Added a Key called NSAppTransportSecurity as a Dictionary.</p>\n\n<p>Added a Subkey called NSAllowsArbitraryLoads as Boolean and set its value to YES as like following image.\nenter image description here</p>\n\n<p>Clean the Project and Now Everything is Running fine as like before.</p>\n\n<p>Ref Link: <a href=\"http://stackoverflow.com/a/32609970\">http://stackoverflow.com/a/32609970</a></p>\n", "title": "NSURLSession/NSURLConnection HTTP load failed on iOS 9", "answer_id": 32652517, "link": "http://stackoverflow.com/questions/30739473/nsurlsession-nsurlconnection-http-load-failed-on-ios-9/32652517#32652517", "tags": ["ios", "afnetworking", "nsurlsession", "ios9", "tls1.2"]}, {"body": "<p>If you're having this problem with Amazon S3 as me, try to paste this on your info.plist as a direct child of your top level  tag</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;NSExceptionDomains&lt;/key&gt;\n    &lt;dict&gt;\n        &lt;key&gt;amazonaws.com&lt;/key&gt;\n        &lt;dict&gt;\n              &lt;key&gt;NSThirdPartyExceptionMinimumTLSVersion&lt;/key&gt;\n              &lt;string&gt;TLSv1.0&lt;/string&gt;\n              &lt;key&gt;NSThirdPartyExceptionRequiresForwardSecrecy&lt;/key&gt;\n              &lt;false/&gt;\n              &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;\n              &lt;true/&gt;\n        &lt;/dict&gt;\n        &lt;key&gt;amazonaws.com.cn&lt;/key&gt;\n        &lt;dict&gt;\n              &lt;key&gt;NSThirdPartyExceptionMinimumTLSVersion&lt;/key&gt;\n              &lt;string&gt;TLSv1.0&lt;/string&gt;\n              &lt;key&gt;NSThirdPartyExceptionRequiresForwardSecrecy&lt;/key&gt;\n              &lt;false/&gt;\n              &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;\n              &lt;true/&gt;\n        &lt;/dict&gt;\n    &lt;/dict&gt;\n&lt;/dict&gt;\n</code></pre>\n\n<p>You can find more info at:</p>\n\n<p><a href=\"http://docs.aws.amazon.com/mobile/sdkforios/developerguide/ats.html#resolving-the-issue\" rel=\"nofollow\">http://docs.aws.amazon.com/mobile/sdkforios/developerguide/ats.html#resolving-the-issue</a></p>\n", "title": "NSURLSession/NSURLConnection HTTP load failed on iOS 9", "answer_id": 33159852, "link": "http://stackoverflow.com/questions/30739473/nsurlsession-nsurlconnection-http-load-failed-on-ios-9/33159852#33159852", "tags": ["ios", "afnetworking", "nsurlsession", "ios9", "tls1.2"]}, {"body": "<p>Update: </p>\n\n<p>As of Xcode 7.1, you don't need to manually enter the <code>NSAppTransportSecurity</code> Dictionary in the <code>info.plist</code>.</p>\n\n<p>It will now autocomplete for you, realize it's a dictionary, and then autocomplete the <code>Allows Arbitrary</code> Loads as well. \n<a href=\"http://i.stack.imgur.com/gOomz.png\" rel=\"nofollow\">info.plist screenshot</a></p>\n", "title": "NSURLSession/NSURLConnection HTTP load failed on iOS 9", "answer_id": 33285434, "link": "http://stackoverflow.com/questions/30739473/nsurlsession-nsurlconnection-http-load-failed-on-ios-9/33285434#33285434", "tags": ["ios", "afnetworking", "nsurlsession", "ios9", "tls1.2"]}, {"body": "<p>Simply add the following fields in your .plist file</p>\n\n<p><a href=\"http://i.stack.imgur.com/BrNhv.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/BrNhv.png\" alt=\"enter image description here\"></a></p>\n\n<p>Syntax looks like this:</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n    &lt;true/&gt;\n&lt;/dict&gt;\n</code></pre>\n", "title": "NSURLSession/NSURLConnection HTTP load failed on iOS 9", "answer_id": 34199877, "link": "http://stackoverflow.com/questions/30739473/nsurlsession-nsurlconnection-http-load-failed-on-ios-9/34199877#34199877", "tags": ["ios", "afnetworking", "nsurlsession", "ios9", "tls1.2"]}, {"body": "<p>This is what worked for me when I had this error:</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;NSExceptionDomains&lt;/key&gt;\n    &lt;dict&gt;\n        &lt;key&gt;example.com&lt;/key&gt;\n        &lt;dict&gt;\n            &lt;key&gt;NSExceptionRequiresForwardSecrecy&lt;/key&gt;\n            &lt;false/&gt;\n            &lt;key&gt;NSTemporaryExceptionAllowsInsecureHTTPLoads&lt;/key&gt;\n            &lt;true/&gt;\n            &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;\n            &lt;true/&gt;\n            &lt;key&gt;NSTemporaryExceptionMinimumTLSVersion&lt;/key&gt;\n            &lt;string&gt;TLSv1.0&lt;/string&gt;\n        &lt;/dict&gt;\n    &lt;/dict&gt;\n&lt;/dict&gt;\n</code></pre>\n", "title": "NSURLSession/NSURLConnection HTTP load failed on iOS 9", "answer_id": 35949346, "link": "http://stackoverflow.com/questions/30739473/nsurlsession-nsurlconnection-http-load-failed-on-ios-9/35949346#35949346", "tags": ["ios", "afnetworking", "nsurlsession", "ios9", "tls1.2"]}], "question_id": 30739473}, {"body": "<p>I have a class where every method starts the same way:</p>\n\n<pre><code>class Foo {\n  public void bar() {\n    if (!fooIsEnabled) return;\n    //...\n  }\n  public void baz() {\n    if (!fooIsEnabled) return;\n    //...\n  }\n  public void bat() {\n    if (!fooIsEnabled) return;\n    //...\n  }\n}\n</code></pre>\n\n<p>Is there a nice way to require (and hopefully not write each time) the <code>fooIsEnabled</code> part for every public method in the class?</p>\n", "title": "Is there an elegant way to make every method in a class start with a certain block of code?", "tags": ["java", "design-patterns"], "answer_count": 14, "link": "http://stackoverflow.com/questions/31121513/is-there-an-elegant-way-to-make-every-method-in-a-class-start-with-a-certain-blo", "answers": [{"body": "<p>Yes, but it's a bit of work, so it depends how important it is to you.</p>\n\n<p>You can define the class as an interface, write a delegate implementation, and then use <code>java.lang.reflect.Proxy</code> to implement the interface with methods that do the shared portion and then conditionally call the delegate.</p>\n\n<pre><code>interface Foo {\n    public void bar();\n    public void baz();\n    public void bat();\n}\n\nclass FooImpl implements Foo {\n    public void bar() {\n      //... &lt;-- your logic represented by this notation above\n    }\n\n    public void baz() {\n      //... &lt;-- your logic represented by this notation above\n    }\n\n    // and so forth\n}\n\nFoo underlying = new FooImpl();\nInvocationHandler handler = new MyInvocationHandler(underlying);\nFoo f = (Foo) Proxy.newProxyInstance(Foo.class.getClassLoader(),\n     new Class[] { Foo.class },\n     handler);\n</code></pre>\n\n<p>Your <code>MyInvocationHandler</code> can look something like this (error handling and class scaffolding omitted, assuming <code>fooIsEnabled</code> is defined somewhere accessible):</p>\n\n<pre><code>public Object invoke(Object proxy, Method method, Object[] args) {\n    if (!fooIsEnabled) return null;\n    return method.invoke(underlying, args);\n}\n</code></pre>\n\n<p>It's not incredibly pretty. But unlike various commenters, I'd do it, as I think repetition is a more important risk than this kind of density, and you'll be able to produce the \"feel\" of your real class, with this somewhat inscrutable wrapper added on very locally in just a couple of lines of code.</p>\n\n<p>See the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/reflect/Proxy.html\">Java documentation</a> for details on dynamic proxy classes.</p>\n", "title": "Is there an elegant way to make every method in a class start with a certain block of code?", "answer_id": 31122000, "link": "http://stackoverflow.com/questions/31121513/is-there-an-elegant-way-to-make-every-method-in-a-class-start-with-a-certain-blo/31122000#31122000", "tags": ["java", "design-patterns"]}, {"body": "<p>This question is closely related to <a href=\"https://en.wikipedia.org/wiki/Aspect-oriented_programming\" rel=\"nofollow\">aspect-oriented programming</a>. AspectJ is an AOP extension of Java and you may give it a look to get some ispiration.</p>\n\n<p>As far as I know there is no direct support for AOP in Java. There are some GOF patterns that relate to it, like for instance <a href=\"https://en.wikipedia.org/wiki/Template_method_pattern\" rel=\"nofollow\">Template Method</a> and <a href=\"https://en.wikipedia.org/wiki/Strategy_pattern\" rel=\"nofollow\">Strategy</a> but it will not really save you lines of code.</p>\n\n<p>In Java and most other languages you could define the recurrent logic you need in functions and adopt a so-called disciplined coding approach in which you call them at the right time.</p>\n\n<pre><code>public void checkBalance() {\n    checkSomePrecondition();\n    ...\n    checkSomePostcondition();\n}\n</code></pre>\n\n<p>However this would not fit your case because you would like the factored-out code to be able to return from <code>checkBalance</code>. In languages that support macros (like C/C++) you could define <code>checkSomePrecondition</code> and <code>checkSomePostcondition</code> as macros and they would simply be replaced by the preprocessor before the compiler is even invoked:</p>\n\n<pre><code>#define checkSomePrecondition \\\n    if (!fooIsEnabled) return;\n</code></pre>\n\n<p>Java does not have this out of the box. This may offend someone but I did use automatic code generation and template engines to automate repetitive coding tasks in the past. If you process your Java files before compiling them with a suitable preprocessor, for instance Jinja2, you could do something similar to what is possible in C.</p>\n\n<h2>Possible pure Java approach</h2>\n\n<p>If you are looking for a pure Java solution, what you may find is probably not going to be concise. But, it could still factor out common parts of your program and avoid code duplication and bugs. You could do something like this (it's some sort of <a href=\"https://en.wikipedia.org/wiki/Strategy_pattern\" rel=\"nofollow\">Strategy</a>-inspired pattern). Note that in C# and Java 8, and in other languages in which functions are a little easier to handle, this approach may actually look nice.</p>\n\n<pre><code>public interface Code {\n    void execute();\n}\n\n...\n\npublic class Foo {\n  private bool fooIsEnabled;\n\n  private void protect(Code c) {\n      if (!fooIsEnabled) return;\n      c.execute();\n  }\n\n  public void bar() {\n    protect(new Code {\n      public void execute() {\n        System.out.println(\"bar\");\n      }\n    });\n  }\n\n  public void baz() {\n    protect(new Code {\n      public void execute() {\n        System.out.println(\"baz\");\n      }\n    });\n  }\n\n  public void bat() {\n    protect(new Code {\n      public void execute() {\n        System.out.println(\"bat\");\n      }\n    });\n  }\n}\n</code></pre>\n\n<h1>Kinda of a real-world scenario</h1>\n\n<p>You are developing a class to send data frames to an industrial robot. The robot takes time to complete a command. Once the command is completed, it sends you a control frame back. The robot may get damaged if it receives a new command while the previous is still being executed. Your program uses a <code>DataLink</code> class to send and receive frames to and from the robot. You need to protect access to the <code>DataLink</code> instance.</p>\n\n<p>The user interface thread calls <code>RobotController.left</code>, <code>right</code>, <code>up</code> or <code>down</code> when the user clicks the buttons, but also calls <code>BaseController.tick</code> at regular intervals, in order to reenable command forwarding to the private <code>DataLink</code> instance.</p>\n\n<pre><code>interface Code {\n    void ready(DataLink dataLink);\n}\n\nclass BaseController {\n    private DataLink mDataLink;\n    private boolean mReady = false;\n    private Queue&lt;Code&gt; mEnqueued = new LinkedList&lt;Code&gt;();\n\n    public BaseController(DataLink dl) {\n        mDataLink = dl;\n    }\n\n    protected void protect(Code c) {\n        if (mReady) {\n            mReady = false;\n            c.ready(mDataLink);\n        }\n        else {\n            mEnqueue.add(c);\n        }\n    }\n\n    public void tick() {\n        byte[] frame = mDataLink.readWithTimeout(/* Not more than 50 ms */);\n\n        if (frame != null &amp;&amp; /* Check that it's an ACK frame */) {\n          if (mEnqueued.isEmpty()) {\n              mReady = true;\n          }\n          else {\n              Code c = mEnqueued.remove();\n              c.ready(mDataLink);\n          }\n        }\n    }\n}\n\nclass RobotController extends BaseController {\n    public void left(float amount) {\n        protect(new Code() { public void ready(DataLink dataLink) {\n            dataLink.write(/* Create a byte[] that means 'left' by amount */);\n        }});\n    }\n\n    public void right(float amount) {\n        protect(new Code() { public void ready(DataLink dataLink) {\n            dataLink.write(/* Create a byte[] that means 'right' by amount */);\n        }});\n    }\n\n    public void up(float amount) {\n        protect(new Code() { public void ready(DataLink dataLink) {\n            dataLink.write(/* Create a byte[] that means 'up' by amount */);\n        }});\n    }\n\n    public void down(float amount) {\n        protect(new Code() { public void ready(DataLink dataLink) {\n            dataLink.write(/* Create a byte[] that means 'down' by amount */);\n        }});\n    }\n}\n</code></pre>\n", "title": "Is there an elegant way to make every method in a class start with a certain block of code?", "answer_id": 31122066, "link": "http://stackoverflow.com/questions/31121513/is-there-an-elegant-way-to-make-every-method-in-a-class-start-with-a-certain-blo/31122066#31122066", "tags": ["java", "design-patterns"]}, {"body": "<p>I don't know about elegant, but here is a working implementation using Java's built-in <code>java.lang.reflect.Proxy</code> that <strong><em>enforces</em></strong> that all method invocations on <code>Foo</code> begin by checking the <code>enabled</code> state.</p>\n\n<p><code>main</code> method:</p>\n\n<pre><code>public static void main(String[] args) {\n    Foo foo = Foo.newFoo();\n    foo.setEnabled(false);\n    foo.bar(); // won't print anything.\n    foo.setEnabled(true);\n    foo.bar(); // prints \"Executing method bar\"\n}\n</code></pre>\n\n<p><code>Foo</code> interface:</p>\n\n<pre><code>public interface Foo {\n    boolean getEnabled();\n    void setEnabled(boolean enable);\n\n    void bar();\n    void baz();\n    void bat();\n\n    // Needs Java 8 to have this convenience method here.\n    static Foo newFoo() {\n        FooFactory fooFactory = new FooFactory();\n        return fooFactory.makeFoo();\n    }\n}\n</code></pre>\n\n<p><code>FooFactory</code> class:</p>\n\n<pre><code>import java.lang.reflect.InvocationHandler;\nimport java.lang.reflect.Method;\nimport java.lang.reflect.Proxy;\n\npublic class FooFactory {\n\n    public Foo makeFoo() {\n        return (Foo) Proxy.newProxyInstance(\n                this.getClass().getClassLoader(),\n                new Class[]{Foo.class},\n                new FooInvocationHandler(new FooImpl()));\n    }\n\n    private static class FooImpl implements Foo {\n        private boolean enabled = false;\n\n        @Override\n        public boolean getEnabled() {\n            return this.enabled;\n        }\n\n        @Override\n        public void setEnabled(boolean enable) {\n            this.enabled = enable;\n        }\n\n        @Override\n        public void bar() {\n            System.out.println(\"Executing method bar\");\n        }\n\n        @Override\n        public void baz() {\n            System.out.println(\"Executing method baz\");\n        }\n\n        @Override\n        public void bat() {\n            System.out.println(\"Executing method bat\");\n        }\n\n    }\n\n    private static class FooInvocationHandler implements InvocationHandler {\n\n        private FooImpl fooImpl;\n\n        public FooInvocationHandler(FooImpl fooImpl) {\n            this.fooImpl = fooImpl;\n        }\n\n        @Override\n        public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n            if (method.getDeclaringClass() == Foo.class &amp;&amp;\n                !method.getName().equals(\"getEnabled\") &amp;&amp;\n                !method.getName().equals(\"setEnabled\")) {\n\n                if (!this.fooImpl.getEnabled()) {\n                    return null;\n                }\n            }\n\n            return method.invoke(this.fooImpl, args);\n        }\n    }\n}\n</code></pre>\n\n<p>As others have pointed out, it does seem like overkill for what you need if you only have a handful of methods to worry about.</p>\n\n<p>That said, there certainly are benefits:</p>\n\n<ul>\n<li>A certain separation of concerns is achieved, because <code>Foo</code>'s method implementations don't have to worry about the <code>enabled</code> check cross-cutting concern. Instead, the method's code only needs to worry about what the method's primary purpose is, nothing more.</li>\n<li>There is no way for an innocent developer to add a new method to the <code>Foo</code> class and mistakenly \"forget\" to add the <code>enabled</code> check.  The <code>enabled</code> check behavior is automatically inherited by any newly added method.</li>\n<li>If you need to add another cross-cutting concern, or if you need to enhance the <code>enabled</code> check, it's very easy to do so safely and in one place.</li>\n<li>It is kind of nice that you can get this AOP-like behavior with built-in Java functionality. You are not forced into having to integrate some other framework like <code>Spring</code>, though they can definitely be good options too.</li>\n</ul>\n\n<p>To be fair, some of the downsides are:</p>\n\n<ul>\n<li>Some of the implementation code that handles the proxy invocations is ugly. Some would also say that having inner classes to prevent instantiation of the <code>FooImpl</code> class is ugly.</li>\n<li>If you want to add a new method to <code>Foo</code>, you have to make a change in 2 spots: the implementation class and the interface.  Not a big deal, but it's still a bit more work.</li>\n<li>Proxy invocations are not free. There is a certain performance overhead. For general use though, it won't be noticeable. See <a href=\"http://stackoverflow.com/questions/1856242/performance-cost-of-java-dynamic-proxy\">here</a> for more information.</li>\n</ul>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Fabian Streitel's comment got me thinking about 2 annoyances with my above solution that, I'll admit, I'm not happy about myself:</p>\n\n<ol>\n<li>The invocation handler uses magic strings to skip the \"enabled-check\" on the \"getEnabled\" and \"setEnabled\" methods. This can easily break if the method names are refactored.</li>\n<li>If there was a case where new methods need to be added that should not inherit the \"enabled-check\" behavior, then it can be pretty easy for the developer to get this wrong, and at the very least, it would mean adding more magic strings.</li>\n</ol>\n\n<p>To resolve point #1, and to at least ease the problem with point #2, I would create an annotation <code>BypassCheck</code> (or something similar) that I could use to mark the methods in the <code>Foo</code> interface for which I don't want to perform the \"enabled check\".  This way, I don't need magic strings at all, and it becomes a lot easier for a developer to correctly add a new method in this special case.</p>\n\n<p>Using the annotation solution, the code would look like this:</p>\n\n<p><code>main</code> method:</p>\n\n<pre><code>public static void main(String[] args) {\n    Foo foo = Foo.newFoo();\n    foo.setEnabled(false);\n    foo.bar(); // won't print anything.\n    foo.setEnabled(true);\n    foo.bar(); // prints \"Executing method bar\"\n}\n</code></pre>\n\n<p><code>BypassCheck</code> annotation:</p>\n\n<pre><code>import java.lang.annotation.*;\n\n@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface BypassCheck {\n}\n</code></pre>\n\n<p><code>Foo</code> interface:</p>\n\n<pre><code>public interface Foo {\n    @BypassCheck boolean getEnabled();\n    @BypassCheck void setEnabled(boolean enable);\n\n    void bar();\n    void baz();\n    void bat();\n\n    // Needs Java 8 to have this convenience method here.\n    static Foo newFoo() {\n        FooFactory fooFactory = new FooFactory();\n        return fooFactory.makeFoo();\n    }\n}\n</code></pre>\n\n<p><code>FooFactory</code> class:</p>\n\n<pre><code>import java.lang.reflect.InvocationHandler;\nimport java.lang.reflect.Method;\nimport java.lang.reflect.Proxy;\n\npublic class FooFactory {\n\n    public Foo makeFoo() {\n        return (Foo) Proxy.newProxyInstance(\n                this.getClass().getClassLoader(),\n                new Class[]{Foo.class},\n                new FooInvocationHandler(new FooImpl()));\n    }\n\n    private static class FooImpl implements Foo {\n\n        private boolean enabled = false;\n\n        @Override\n        public boolean getEnabled() {\n            return this.enabled;\n        }\n\n        @Override\n        public void setEnabled(boolean enable) {\n            this.enabled = enable;\n        }\n\n        @Override\n        public void bar() {\n            System.out.println(\"Executing method bar\");\n        }\n\n        @Override\n        public void baz() {\n            System.out.println(\"Executing method baz\");\n        }\n\n        @Override\n        public void bat() {\n            System.out.println(\"Executing method bat\");\n        }\n\n    }\n\n    private static class FooInvocationHandler implements InvocationHandler {\n\n        private FooImpl fooImpl;\n\n        public FooInvocationHandler(FooImpl fooImpl) {\n            this.fooImpl = fooImpl;\n        }\n\n        @Override\n        public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n            if (method.getDeclaringClass() == Foo.class\n                    &amp;&amp; !method.isAnnotationPresent(BypassCheck.class) // no magic strings\n                    &amp;&amp; !this.fooImpl.getEnabled()) {\n\n                return null;\n            }\n\n            return method.invoke(this.fooImpl, args);\n        }\n    }\n}\n</code></pre>\n", "title": "Is there an elegant way to make every method in a class start with a certain block of code?", "answer_id": 31122247, "link": "http://stackoverflow.com/questions/31121513/is-there-an-elegant-way-to-make-every-method-in-a-class-start-with-a-certain-blo/31122247#31122247", "tags": ["java", "design-patterns"]}, {"body": "<p>I would consider refactoring. This pattern is heavily breaking DRY pattern (Don't repeat yourself). I believe this break this class responsibility. But this depends on your control of code. Your question is very open - where are you calling <code>Foo</code> instance? </p>\n\n<p>I suppose you have code like</p>\n\n<pre><code>foo.bar(); // does nothing if !fooEnabled\nfoo.baz(); // does also nothing\nfoo.bat(); // also\n</code></pre>\n\n<p>maybe you should call it something like this way:</p>\n\n<pre><code>if (fooEnabled) {\n   foo.bat();\n   foo.baz();\n   ...\n}\n</code></pre>\n\n<p>And keep it clean. For example, logging:</p>\n\n<pre><code>this.logger.debug(createResourceExpensiveDump())\n</code></pre>\n\n<p>a <code>logger</code> <strong>is not asking himself</strong>, if debug is enabled. It just logs.</p>\n\n<p>Instead, calling class need to check this:</p>\n\n<pre><code>if (this.logger.isDebugEnabled()) {\n   this.logger.debug(createResourceExpensiveDump())\n}\n</code></pre>\n\n<p>If this is a library and you cannot control calling of this class, throw an <code>IllegalStateException</code> which explains why, if this calling is illegal and cause trouble. </p>\n", "title": "Is there an elegant way to make every method in a class start with a certain block of code?", "answer_id": 31122266, "link": "http://stackoverflow.com/questions/31121513/is-there-an-elegant-way-to-make-every-method-in-a-class-start-with-a-certain-blo/31122266#31122266", "tags": ["java", "design-patterns"]}, {"body": "<p>There is a lot of good suggestions.. what you can do to strike your problem is think in the State Pattern and implement it.</p>\n\n<p>Take a look at this code snippet.. perhaps it will get you to an idea. In this scenario looks like you want to modify the entire methods implementation based on the internal state of the object. Please recall that the sum of the methods in a object is knows as behavior.</p>\n\n<pre><code>public class Foo {\n\n      private FooBehaviour currentBehaviour = new FooEnabledBehaviour (); // or disabled, or use a static factory method for getting the default behaviour\n\n      public void bar() {\n        currentBehaviour.bar();\n      }\n      public void baz() {\n        currentBehaviour.baz();\n      }\n      public void bat() {\n        currentBehaviour.bat();\n      }\n\n      public void setFooEnabled (boolean fooEnabled) { // when you set fooEnabel, you are changing at runtime what implementation will be called.\n        if (fooEnabled) {\n          currentBehaviour = new FooEnabledBehaviour ();\n        } else {\n          currentBehaviour = new FooDisabledBehaviour ();\n        }\n      }\n\n      private interface FooBehaviour {\n        public void bar();\n        public void baz();\n        public void bat();\n      }\n\n      // RENEMBER THAT instance method of inner classes can refer directly to instance members defined in its enclosing class\n      private class FooEnabledBehaviour implements FooBehaviour {\n        public void bar() {\n          // do what you want... when is enabled\n        }\n        public void baz() {}\n        public void bat() {}\n\n      }\n\n      private class FooDisabledBehaviour implements FooBehaviour {\n        public void bar() {\n          // do what you want... when is desibled\n        }\n        public void baz() {}\n        public void bat() {}\n\n      }\n}\n</code></pre>\n\n<p>Hope you like it! </p>\n\n<p>P.D: Is an implementation of the State Pattern (also knows as Strategy depending on the context.. but the principles are just the same).</p>\n", "title": "Is there an elegant way to make every method in a class start with a certain block of code?", "answer_id": 31122569, "link": "http://stackoverflow.com/questions/31121513/is-there-an-elegant-way-to-make-every-method-in-a-class-start-with-a-certain-blo/31122569#31122569", "tags": ["java", "design-patterns"]}, {"body": "<p>As is pointed out in other answers, the <a href=\"https://en.wikipedia.org/wiki/Strategy_pattern\" rel=\"nofollow\" title=\"Strategy\">Strategy Design Pattern</a> is an appropriate design pattern to follow to simplify this code.  I've illustrated it here using method invocation through reflection, but there are any number of mechanisms that you could use to get the same effect.  </p>\n\n<pre><code>class Foo {\n\n  public static void main(String[] args) {\n      Foo foo = new Foo();\n      foo.fooIsEnabled = false;\n      foo.execute(\"bar\");\n      foo.fooIsEnabled = true;\n      foo.execute(\"baz\");\n  }\n\n  boolean fooIsEnabled;\n\n  public void execute(String method) {\n    if(!fooIsEnabled) {return;}\n    try {\n       this.getClass().getDeclaredMethod(method, (Class&lt;?&gt;[])null).invoke(this, (Object[])null);\n    }\n    catch(Exception e) {\n       // best to handle each exception type separately\n       e.printStackTrace();\n    }\n  }\n\n  // Changed methods to private to reinforce usage of execute method\n  private void bar() {\n    System.out.println(\"bar called\");\n    // bar stuff here...\n  }\n  private void baz() {\n    System.out.println(\"baz called\");\n    // baz stuff here...\n  }\n  private void bat() {\n    System.out.println(\"bat called\");\n    // bat stuff here...\n  }\n}\n</code></pre>\n", "title": "Is there an elegant way to make every method in a class start with a certain block of code?", "answer_id": 31129886, "link": "http://stackoverflow.com/questions/31121513/is-there-an-elegant-way-to-make-every-method-in-a-class-start-with-a-certain-blo/31129886#31129886", "tags": ["java", "design-patterns"]}, {"body": "<p>I have another approach: have a</p>\n\n<pre><code>interface Foo {\n  public void bar();\n  public void baz();\n  public void bat();\n}\n\nclass FooImpl implements Foo {\n  public void bar() {\n    //...\n  }\n  public void baz() {\n    //...\n  }\n  public void bat() {\n    //...\n  }\n}\n\nclass NullFoo implements Foo {\n  static NullFoo DEFAULT = new NullFoo();\n  public void bar() {}\n  public void baz() {}\n  public void bat() {}\n}\n</code></pre>\n\n<p>}</p>\n\n<p>and then you can do</p>\n\n<pre><code>(isFooEnabled ? foo : NullFoo.DEFAULT).bar();\n</code></pre>\n\n<p>Maybe you can even replace the <code>isFooEnabled</code> with a <code>Foo</code> variable which either holds the <code>FooImpl</code> to be used or the <code>NullFoo.DEFAULT</code>. Then the call is simpler again:</p>\n\n<pre><code>Foo toBeUsed = isFooEnabled ? foo : NullFoo.DEFAULT;\ntoBeUsed.bar();\ntoBeUsed.baz();\ntoBeUsed.bat();\n</code></pre>\n\n<p>BTW, this is called the \"Null pattern\".</p>\n", "title": "Is there an elegant way to make every method in a class start with a certain block of code?", "answer_id": 31130347, "link": "http://stackoverflow.com/questions/31121513/is-there-an-elegant-way-to-make-every-method-in-a-class-start-with-a-certain-blo/31130347#31130347", "tags": ["java", "design-patterns"]}, {"body": "<p>It seems like the class does nothing when Foo is not enabled so why not express this at a higher level where you create or get the Foo instance?</p>\n\n<pre><code>class FooFactory\n{\n static public Foo getFoo()\n {\n   return isFooEnabled ? new Foo() : null;\n }\n}\n ...\n Foo foo = FooFactory.getFoo();\n if(foo!=null)\n {\n   foo.bar();\n   ....\n }     \n</code></pre>\n\n<p>This only works if isFooEnabled is a constant though.\nIn a general case, you could create your own annotation.</p>\n", "title": "Is there an elegant way to make every method in a class start with a certain block of code?", "answer_id": 31134024, "link": "http://stackoverflow.com/questions/31121513/is-there-an-elegant-way-to-make-every-method-in-a-class-start-with-a-certain-blo/31134024#31134024", "tags": ["java", "design-patterns"]}, {"body": "<p>IMHO the most elegant and best performing solution to this is to have more than one implementation of Foo, together with a factory method for creating one:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class Foo {\n  protected Foo() {\n    // Prevent direct instantiation\n  }\n\n  public void bar() {\n    // Do something\n  }\n\n  public static void getFoo() {\n    return fooEnabled ? new Foo() : new NopFoo();\n  }\n}\n\nclass NopFoo extends Foo {\n  public void bar() {\n    // Do nothing\n  }\n}\n</code></pre>\n\n<p>Or a variation:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class Foo {\n  protected Foo() {\n    // Prevent direct instantiation\n  }\n\n  public void bar() {\n    // Do something\n  }\n\n  public static void getFoo() {\n    return fooEnabled ? new Foo() : NOP_FOO;\n  }\n\n  private static Foo NOP_FOO = new Foo() {\n    public void bar() {\n      // Do nothing\n    }\n  };\n}\n</code></pre>\n\n<p>As sstan points out, even better would be to use an interface:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public interface Foo {\n  void bar();\n\n  static Foo getFoo() {\n    return fooEnabled ? new FooImpl() : new NopFoo();\n  }\n}\n\nclass FooImpl implements Foo {\n  FooImpl() {\n    // Prevent direct instantiation\n  }\n\n  public void bar() {\n    // Do something\n  }\n}\n\nclass NopFoo implements Foo {\n  NopFoo() {\n    // Prevent direct instantiation\n  }\n\n  public void bar() {\n    // Do nothing\n  }\n}\n</code></pre>\n\n<p>Adapt this to the rest of your circumstances (are you creating a new Foo every time or reusing the same instance, etc.)</p>\n", "title": "Is there an elegant way to make every method in a class start with a certain block of code?", "answer_id": 31137521, "link": "http://stackoverflow.com/questions/31121513/is-there-an-elegant-way-to-make-every-method-in-a-class-start-with-a-certain-blo/31137521#31137521", "tags": ["java", "design-patterns"]}, {"body": "<p>There is another solution, using delegate (pointer to function). You can have a unique method that first is doing the validation and then is calling to the relevant method according to the function (parameter) to be called.\nC# code:</p>\n\n<pre><code>internal delegate void InvokeBaxxxDelegate();\n\nclass Test\n{\n    private bool fooIsEnabled;\n\n    public Test(bool fooIsEnabled)\n    {\n        this.fooIsEnabled = fooIsEnabled;\n    }\n\n    public void Bar()\n    {\n        InvokeBaxxx(InvokeBar);\n    }\n\n    public void Baz()\n    {\n        InvokeBaxxx(InvokeBaz);\n    }\n\n    public void Bat()\n    {\n        InvokeBaxxx(InvokeBat);\n    }\n\n    private void InvokeBaxxx(InvokeBaxxxDelegate invoker)\n    {\n        if (!fooIsEnabled) return;\n        invoker();\n    }\n\n    private void InvokeBar()\n    {\n        // do Invoke bar stuff\n        Console.WriteLine(\"I am Bar\");\n    }\n\n    private void InvokeBaz()\n    {\n        // do Invoke bar stuff\n        Console.WriteLine(\"I am Baz\");\n    }\n\n    private void InvokeBat()\n    {\n        // do Invoke bar stuff\n        Console.WriteLine(\"I am Bat\");\n    }\n}\n</code></pre>\n", "title": "Is there an elegant way to make every method in a class start with a certain block of code?", "answer_id": 31142756, "link": "http://stackoverflow.com/questions/31121513/is-there-an-elegant-way-to-make-every-method-in-a-class-start-with-a-certain-blo/31142756#31142756", "tags": ["java", "design-patterns"]}, {"body": "<p>I am not familiar with Java syntax.\nAssumption that in Java, there is polymorphism, static property, abstract class &amp; method:</p>\n\n<pre><code>    public static void main(String[] args) {\n    Foo.fooIsEnabled = true; // static property, not particular to a specific instance  \n\n    Foo foo = new bar();\n    foo.mainMethod();\n\n    foo = new baz();\n    foo.mainMethod();\n\n    foo = new bat();\n    foo.mainMethod();\n}\n\n    public abstract class Foo{\n      static boolean fooIsEnabled;\n\n      public void mainMethod()\n      {\n          if(!fooIsEnabled)\n              return;\n\n          baMethod();\n      }     \n      protected abstract void baMethod();\n    }\n    public class bar extends Foo {\n        protected override baMethod()\n        {\n            // bar implementation\n        }\n    }\n    public class bat extends Foo {\n        protected override baMethod()\n        {\n            // bat implementation\n        }\n    }\n    public class baz extends Foo {\n        protected override baMethod()\n        {\n            // baz implementation\n        }\n    }\n</code></pre>\n", "title": "Is there an elegant way to make every method in a class start with a certain block of code?", "answer_id": 31147590, "link": "http://stackoverflow.com/questions/31121513/is-there-an-elegant-way-to-make-every-method-in-a-class-start-with-a-certain-blo/31147590#31147590", "tags": ["java", "design-patterns"]}, {"body": "<p>Basically you have a flag that if it's set, the function call should be skipped. So I think my solution would be silly, but here it is.</p>\n\n<pre><code>Foo foo = new Foo();\n\nif (foo.isEnabled())\n{\n    foo.doSomething();\n}\n</code></pre>\n\n<hr>\n\n<p>Here's the implementation of a simple Proxy, in case you want to execute some code before executing any function.</p>\n\n<pre><code>class Proxy&lt;T&gt;\n{\n    private T obj;\n    private Method&lt;T&gt; proxy;\n\n    Proxy(Method&lt;T&gt; proxy)\n    {\n        this.ojb = new T();\n        this.proxy = proxy;\n    }\n\n    Proxy(T obj, Method&lt;T&gt; proxy)\n    {\n        this.obj = obj;\n        this.proxy = proxy;\n    }\n\n    public T object ()\n    {\n        this.proxy(this.obj);\n        return this.obj;\n    }\n}\n\nclass Test\n{\n    public static void func (Foo foo)\n    {\n        // ..\n    }\n\n    public static void main (String [] args)\n    {\n        Proxy&lt;Foo&gt; p = new Proxy(Test.func);\n\n        // how to use\n        p.object().doSomething();\n    }\n}\n\nclass Foo\n{\n    public void doSomething ()\n    {\n        // ..\n    }\n}\n</code></pre>\n", "title": "Is there an elegant way to make every method in a class start with a certain block of code?", "answer_id": 31158430, "link": "http://stackoverflow.com/questions/31121513/is-there-an-elegant-way-to-make-every-method-in-a-class-start-with-a-certain-blo/31158430#31158430", "tags": ["java", "design-patterns"]}, {"body": "<p>If only java was a bit better at being functional. It think the most OOO solution is to create class that wraps a single function so it is called only when foo is enabled.</p>\n\n<pre><code>abstract class FunctionWrapper {\n    Foo owner;\n\n    public FunctionWrapper(Foo f){\n        this.owner = f;\n    }\n\n    public final void call(){\n        if (!owner.isEnabled()){\n            return;\n        }\n        innerCall();\n    }\n\n    protected abstract void innerCall();\n}\n</code></pre>\n\n<p>and then implement <code>bar</code>, <code>baz</code> and <code>bat</code> as anonymous classes that that extend <code>FunctionWrapper</code>. </p>\n\n<pre><code>class Foo {\n    public boolean fooIsEnabled;\n\n    public boolean isEnabled(){\n        return fooIsEnabled;\n    }\n\n    public final FunctionWrapper bar = new FunctionWrapper(this){\n        @Override\n        protected void innerCall() {\n            // do whatever\n        }\n    };\n\n    public final FunctionWrapper baz = new FunctionWrapper(this){\n        @Override\n        protected void innerCall() {\n            // do whatever\n        }\n    };\n\n    // you can pass in parms like so \n    public final FunctionWrapper bat = new FunctionWrapper(this){\n        // some parms:\n        int x,y;\n        // a way to set them\n        public void setParms(int x,int y){\n            this.x=x;\n            this.y=y;\n        }\n\n        @Override\n        protected void innerCall() {\n            // do whatever using x and y\n        }\n    };\n}\n</code></pre>\n\n<p><strong>Another Idea</strong></p>\n\n<p>Use <a href=\"http://stackoverflow.com/a/31130347/2608464\">glglgl's nullable solution</a> but make <code>FooImpl</code> and <code>NullFoo</code> inner classes (with private constructors) of the below class:</p>\n\n<pre><code>class FooGateKeeper {\n\n    public boolean enabled;\n\n    private Foo myFooImpl;\n    private Foo myNullFoo;\n\n    public FooGateKeeper(){\n        myFooImpl= new FooImpl();\n        myNullFoo= new NullFoo();\n    }\n\n    public Foo getFoo(){\n        if (enabled){\n            return myFooImpl;\n        }\n        return myNullFoo;\n    }  \n}\n</code></pre>\n\n<p>this way you don't have to worry about remembering to use <code>(isFooEnabled ? foo : NullFoo.DEFAULT)</code>.</p>\n", "title": "Is there an elegant way to make every method in a class start with a certain block of code?", "answer_id": 31195569, "link": "http://stackoverflow.com/questions/31121513/is-there-an-elegant-way-to-make-every-method-in-a-class-start-with-a-certain-blo/31195569#31195569", "tags": ["java", "design-patterns"]}, {"body": "<p>In a similar functional approach to @Colin's answer, with <a href=\"http://www.oracle.com/webfolder/technetwork/tutorials/obe/java/Lambda-QuickStart/index.html\" rel=\"nofollow\">Java 8's lambda functions</a>, it is possible to wrap the conditional feature toggle enable / disable code into a guard method (<code>executeIfEnabled</code>) which accepts the action lambda, to which code to be conditionally executed can be passed.</p>\n\n<p>Although in your case, this approach won't save any lines of code, by DRYing this up, you now have the option to centralize other feature toggle concerns, plus AOP or debugging concerns like logging, diagnostics, profiling et al.</p>\n\n<p>One benefit of using lambdas here is that closures can be used to avoid the need to overload the <code>executeIfEnabled</code> method.</p>\n\n<p>For example:</p>\n\n<pre><code>class Foo {\n    private Boolean _fooIsEnabled;\n\n    public Foo(Boolean isEnabled) {\n        _fooIsEnabled = isEnabled;\n    }\n\n    private void executeIfEnabled(java.util.function.Consumer someAction) {\n        // Conditional toggle short circuit\n        if (!_fooIsEnabled) return;\n\n        // Invoke action\n        someAction.accept(null);\n    }\n\n    // Wrap the conditionally executed code in a lambda\n    public void bar() {\n        executeIfEnabled((x) -&gt; {\n            System.out.println(\"Bar invoked\");\n        });\n    }\n\n    // Demo with closure arguments and locals\n    public void baz(int y) {\n        executeIfEnabled((x) -&gt; {\n            System.out.printf(\"Baz invoked %d \\n\", y);\n        });\n    }\n\n    public void bat() {\n        int z = 5;\n        executeIfEnabled((x) -&gt; {\n            System.out.printf(\"Bat invoked %d \\n\", z);\n        });\n    }\n</code></pre>\n\n<p>With a test:</p>\n\n<pre><code>public static void main(String args[]){\n    Foo enabledFoo = new Foo(true);\n    enabledFoo.bar();\n    enabledFoo.baz(33);\n    enabledFoo.bat();\n\n    Foo disabledFoo = new Foo(false);\n    disabledFoo.bar();\n    disabledFoo.baz(66);\n    disabledFoo.bat();\n}\n</code></pre>\n", "title": "Is there an elegant way to make every method in a class start with a certain block of code?", "answer_id": 31469539, "link": "http://stackoverflow.com/questions/31121513/is-there-an-elegant-way-to-make-every-method-in-a-class-start-with-a-certain-blo/31469539#31469539", "tags": ["java", "design-patterns"]}], "question_id": 31121513}, {"body": "<p>As an interesting follow-up (not of big practical importance though) to my previous question:\n<a href=\"http://stackoverflow.com/questions/29675601/why-does-c-allow-us-to-surround-the-variable-name-in-parentheses-when-declarin\">Why does C++ allow us to surround the variable name in parentheses when declaring a variable?</a></p>\n\n<p>I found out that combining the declaration in parentheses with <a href=\"http://stackoverflow.com/questions/25549652/c-why-is-there-injected-class-name/25549691#25549691\">injected class name</a> feature may lead to surprising results regarding compiler behavior.</p>\n\n<p>Take a look at the following program:</p>\n\n<pre><code>#include &lt;iostream&gt;\nstruct B\n{\n};\n\nstruct C\n{\n  C (){ std::cout &lt;&lt; \"C\" &lt;&lt; '\\n'; }\n  C (B *) { std::cout &lt;&lt; \"C (B *)\" &lt;&lt; '\\n';}\n};\n\nB *y = nullptr;\nint main()\n{\n  C::C (y);\n}\n</code></pre>\n\n<ol>\n<li><p>Compiling with g++ 4.9.2 gives me the following compilation error:</p>\n\n<pre><code>main.cpp:16:10: error: cannot call constructor 'C::C' directly [-fpermissive]\n</code></pre></li>\n<li><p>It compiles successfully with MSVC2013/2015 and prints <code>C (B *)</code></p></li>\n<li><p>It compiles successfully with clang 3.5 and prints <code>C</code></p></li>\n</ol>\n\n<p>So obligatory question is which one is right? :)</p>\n\n<p><em>(I strongly swayed towards clang version though and msvc way to stop declaring variable after just changing type with technically its typedef seems kind of weird)</em></p>\n", "title": "Program being compiled differently in 3 major C++ compilers. Which one is right?", "tags": ["c++", "language-lawyer"], "answer_count": 2, "link": "http://stackoverflow.com/questions/29681449/program-being-compiled-differently-in-3-major-c-compilers-which-one-is-right", "answers": [{"body": "<p>G++ is correct as it gives an error. Because the constructor could not be called directly in such a format without <code>new</code> operator. And although your code calls <code>C::C</code>, it looks like an constructor call. However, according to the C++11 standard 3.4.3.1, this is not a legal function call, or a type name (<a href=\"http://stackoverflow.com/a/29681754/566459\">see Mike Seymour's answer</a>).</p>\n\n<p>Clang is wrong since it even does not call the correct function.</p>\n\n<p>MSVC is something reasonable, but still it does not follow the standard.</p>\n", "title": "Program being compiled differently in 3 major C++ compilers. Which one is right?", "answer_id": 29681690, "link": "http://stackoverflow.com/questions/29681449/program-being-compiled-differently-in-3-major-c-compilers-which-one-is-right/29681690#29681690", "tags": ["c++", "language-lawyer"]}, {"body": "<p>GCC is correct, at least according to C++11 lookup rules. 3.4.3.1 [class.qual]/2 specifies that, if the nested name specifier is the same as the class name, it refers to the constructor not the injected class name. It gives examples:</p>\n\n<pre><code>B::A ba;           // object of type A\nA::A a;            // error, A::A is not a type name\nstruct A::A a2;    // object of type A\n</code></pre>\n\n<p>It looks like MSVC misinterprets it as function-style cast expression creating a temporary <code>C</code> with <code>y</code> as a constructor parameter; and Clang misinterprets it as a declaration of a variable called <code>y</code> of type <code>C</code>.</p>\n", "title": "Program being compiled differently in 3 major C++ compilers. Which one is right?", "answer_id": 29681754, "link": "http://stackoverflow.com/questions/29681449/program-being-compiled-differently-in-3-major-c-compilers-which-one-is-right/29681754#29681754", "tags": ["c++", "language-lawyer"]}], "question_id": 29681449}, {"body": "<p>I've got a C# string extension method that should return an <code>IEnumerable&lt;int&gt;</code> of all the indexes of a substring within a string. It works perfectly for its intended purpose and the expected results are returned (as proven by one of my tests, although not the one below), but another unit test has discovered a problem with it: it can't handle null arguments.</p>\n\n<p>Here's the extension method I'm testing:</p>\n\n<pre><code>public static IEnumerable&lt;int&gt; AllIndexesOf(this string str, string searchText)\n{\n    if (searchText == null)\n    {\n        throw new ArgumentNullException(\"searchText\");\n    }\n    for (int index = 0; ; index += searchText.Length)\n    {\n        index = str.IndexOf(searchText, index);\n        if (index == -1)\n            break;\n        yield return index;\n    }\n}\n</code></pre>\n\n<p>Here is the test that flagged up the problem:</p>\n\n<pre><code>[TestMethod]\n[ExpectedException(typeof(ArgumentNullException))]\npublic void Extensions_AllIndexesOf_HandlesNullArguments()\n{\n    string test = \"a.b.c.d.e\";\n    test.AllIndexesOf(null);\n}\n</code></pre>\n\n<p>When the test runs against my extension method, it fails, with the standard error message that the method \"did not throw an exception\".</p>\n\n<p>This is confusing: I have clearly passed <code>null</code> into the function, yet for some reason the comparison <code>null == null</code> is returning <code>false</code>. Therefore, no exception is thrown and the code continues.</p>\n\n<p>I have confirmed this is not a bug with the test: when running the method in my main project with a call to <code>Console.WriteLine</code> in the null-comparison <code>if</code> block, nothing is shown on the console and no exception is caught by any <code>catch</code> block I add. Furthermore, using <code>string.IsNullOrEmpty</code> instead of <code>== null</code> has the same problem.</p>\n\n<p>Why does this supposedly-simple comparison fail?</p>\n", "title": "Why does this string extension method not throw an exception?", "tags": ["c#", "null", "comparison", "ienumerable", "argumentnullexception"], "answer_count": 3, "link": "http://stackoverflow.com/questions/30176121/why-does-this-string-extension-method-not-throw-an-exception", "answers": [{"body": "<p>You have an iterator block.  None of the code in that method is ever run outside of calls to <code>MoveNext</code> on the returned iterator.  Calling the method does noting but create the state machine, and that won't ever fail (outside of extremes such as out of memory errors, stack overflows, or thread abort exceptions).</p>\n\n<p>When you actually attempt to iterate the sequence you'll get the exceptions.</p>\n\n<p>This is why the LINQ methods actually need two methods to have the error handling semantics they desire.  They have a private method that is an iterator block, and then a non-iterator block method that does nothing but do the argument validation (so that it can be done eagerly, rather than it being deferred) while still deferring all other functionality.</p>\n\n<p>So this is the general pattern:</p>\n\n<pre><code>public static IEnumerable&lt;T&gt; Foo&lt;T&gt;(\n    this IEnumerable&lt;T&gt; souce, Func&lt;T, bool&gt; anotherArgument)\n{\n    //note, not an iterator block\n    if(anotherArgument == null)\n    {\n        //TODO make a fuss\n    }\n    return FooImpl(source, anotherArgument);\n}\n\nprivate static IEnumerable&lt;T&gt; FooImpl&lt;T&gt;(\n    IEnumerable&lt;T&gt; souce, Func&lt;T, bool&gt; anotherArgument)\n{\n    //TODO actual implementation as an iterator block\n    yield break;\n}\n</code></pre>\n", "title": "Why does this string extension method not throw an exception?", "answer_id": 30176208, "link": "http://stackoverflow.com/questions/30176121/why-does-this-string-extension-method-not-throw-an-exception/30176208#30176208", "tags": ["c#", "null", "comparison", "ienumerable", "argumentnullexception"]}, {"body": "<p>You are using <code>yield return</code>. When doing so, the compiler will rewrite your method into a function that returns a generated class that implements a state machine.</p>\n\n<p>Broadly speaking, it rewrites locals to fields of that class and each part of your algorithm between the <code>yield return</code> instructions becomes a state. You can check with a decompiler what this method becomes after compilation (make sure to turn off smart decompilation which would produce <code>yield return</code>).</p>\n\n<p>But the bottom line is: <strong>the code of your method won't be executed until you start iterating.</strong></p>\n\n<p>The usual way to check for preconditions is to split your method in two:</p>\n\n<pre><code>public static IEnumerable&lt;int&gt; AllIndexesOf(this string str, string searchText)\n{\n    if (str == null)\n        throw new ArgumentNullException(\"str\");\n    if (searchText == null)\n        throw new ArgumentNullException(\"searchText\");\n\n    return AllIndexesOfCore(str, searchText);\n}\n\nprivate static IEnumerable&lt;int&gt; AllIndexesOfCore(string str, string searchText)\n{\n    for (int index = 0; ; index += searchText.Length)\n    {\n        index = str.IndexOf(searchText, index);\n        if (index == -1)\n            break;\n        yield return index;\n    }\n}\n</code></pre>\n\n<p>This works because the first method will behave just like you expect (immediate execution), and will return the state machine implemented by the second method.</p>\n\n<p>Note that you should also check the <code>str</code> parameter for <code>null</code>, because extensions methods <em>can</em> be called on <code>null</code> values, as they're just syntactic sugar.</p>\n\n<hr>\n\n<p>If you're curious about what the compiler does to your code, here's your method, decompiled with dotPeek using the <em>Show Compiler-generated Code</em> option.</p>\n\n<pre><code>public static IEnumerable&lt;int&gt; AllIndexesOf(this string str, string searchText)\n{\n  Test.&lt;AllIndexesOf&gt;d__0 allIndexesOfD0 = new Test.&lt;AllIndexesOf&gt;d__0(-2);\n  allIndexesOfD0.&lt;&gt;3__str = str;\n  allIndexesOfD0.&lt;&gt;3__searchText = searchText;\n  return (IEnumerable&lt;int&gt;) allIndexesOfD0;\n}\n\n[CompilerGenerated]\nprivate sealed class &lt;AllIndexesOf&gt;d__0 : IEnumerable&lt;int&gt;, IEnumerable, IEnumerator&lt;int&gt;, IEnumerator, IDisposable\n{\n  private int &lt;&gt;2__current;\n  private int &lt;&gt;1__state;\n  private int &lt;&gt;l__initialThreadId;\n  public string str;\n  public string &lt;&gt;3__str;\n  public string searchText;\n  public string &lt;&gt;3__searchText;\n  public int &lt;index&gt;5__1;\n\n  int IEnumerator&lt;int&gt;.Current\n  {\n    [DebuggerHidden] get\n    {\n      return this.&lt;&gt;2__current;\n    }\n  }\n\n  object IEnumerator.Current\n  {\n    [DebuggerHidden] get\n    {\n      return (object) this.&lt;&gt;2__current;\n    }\n  }\n\n  [DebuggerHidden]\n  public &lt;AllIndexesOf&gt;d__0(int &lt;&gt;1__state)\n  {\n    base..ctor();\n    this.&lt;&gt;1__state = param0;\n    this.&lt;&gt;l__initialThreadId = Environment.CurrentManagedThreadId;\n  }\n\n  [DebuggerHidden]\n  IEnumerator&lt;int&gt; IEnumerable&lt;int&gt;.GetEnumerator()\n  {\n    Test.&lt;AllIndexesOf&gt;d__0 allIndexesOfD0;\n    if (Environment.CurrentManagedThreadId == this.&lt;&gt;l__initialThreadId &amp;&amp; this.&lt;&gt;1__state == -2)\n    {\n      this.&lt;&gt;1__state = 0;\n      allIndexesOfD0 = this;\n    }\n    else\n      allIndexesOfD0 = new Test.&lt;AllIndexesOf&gt;d__0(0);\n    allIndexesOfD0.str = this.&lt;&gt;3__str;\n    allIndexesOfD0.searchText = this.&lt;&gt;3__searchText;\n    return (IEnumerator&lt;int&gt;) allIndexesOfD0;\n  }\n\n  [DebuggerHidden]\n  IEnumerator IEnumerable.GetEnumerator()\n  {\n    return (IEnumerator) this.System.Collections.Generic.IEnumerable&lt;System.Int32&gt;.GetEnumerator();\n  }\n\n  bool IEnumerator.MoveNext()\n  {\n    switch (this.&lt;&gt;1__state)\n    {\n      case 0:\n        this.&lt;&gt;1__state = -1;\n        if (this.searchText == null)\n          throw new ArgumentNullException(\"searchText\");\n        this.&lt;index&gt;5__1 = 0;\n        break;\n      case 1:\n        this.&lt;&gt;1__state = -1;\n        this.&lt;index&gt;5__1 += this.searchText.Length;\n        break;\n      default:\n        return false;\n    }\n    this.&lt;index&gt;5__1 = this.str.IndexOf(this.searchText, this.&lt;index&gt;5__1);\n    if (this.&lt;index&gt;5__1 != -1)\n    {\n      this.&lt;&gt;2__current = this.&lt;index&gt;5__1;\n      this.&lt;&gt;1__state = 1;\n      return true;\n    }\n    goto default;\n  }\n\n  [DebuggerHidden]\n  void IEnumerator.Reset()\n  {\n    throw new NotSupportedException();\n  }\n\n  void IDisposable.Dispose()\n  {\n  }\n}\n</code></pre>\n\n<p>This is invalid C# code, because the compiler is allowed to do things the language doesn't allow, but which are legal in IL - for instance naming the variables in a way you couldn't to avoid name collisions.</p>\n\n<p>But as you can see, the <code>AllIndexesOf</code> only constructs and returns an object, whose constructor only initializes some state. <code>GetEnumerator</code> only copies the object. The real work is done when you start enumerating (by calling the <code>MoveNext</code> method).</p>\n", "title": "Why does this string extension method not throw an exception?", "answer_id": 30176240, "link": "http://stackoverflow.com/questions/30176121/why-does-this-string-extension-method-not-throw-an-exception/30176240#30176240", "tags": ["c#", "null", "comparison", "ienumerable", "argumentnullexception"]}, {"body": "<p>Enumerators, as the others have said, aren't evaluated until the time they start getting enumerated (i.e. the <code>IEnumerable.GetNext</code> method is called). Thus this</p>\n\n<pre><code>List&lt;int&gt; indexes = \"a.b.c.d.e\".AllIndexesOf(null).ToList&lt;int&gt;();\n</code></pre>\n\n<p>doesn't get evaluated until you start enumerating, i.e.</p>\n\n<pre><code>foreach(int index in indexes)\n{\n    // ArgumentNullException\n}\n</code></pre>\n", "title": "Why does this string extension method not throw an exception?", "answer_id": 30575698, "link": "http://stackoverflow.com/questions/30176121/why-does-this-string-extension-method-not-throw-an-exception/30575698#30575698", "tags": ["c#", "null", "comparison", "ienumerable", "argumentnullexception"]}], "question_id": 30176121}, {"body": "<p>I am reading K&amp;R's <em>\u201cThe C Programming Language\u201d</em> and came across this statement [Introduction, p.&nbsp;3]:</p>\n\n<blockquote>\n  <p><strong>Because the data types and control structures provided by C are supported directly by most computers</strong>, the run-time library required to implement self-contained programs is tiny.</p>\n</blockquote>\n\n<p>What does the bolded statement mean? Is there an example of a data type or a control structure that <em>isn't</em> supported directly by a computer?</p>\n", "title": "How are C data types \u201csupported directly by most computers\u201d?", "tags": ["c"], "answer_count": 12, "link": "http://stackoverflow.com/questions/27977522/how-are-c-data-types-supported-directly-by-most-computers", "answers": [{"body": "<p>Yes, there are data types not directly supported.</p>\n\n<p>On many embedded systems, there is no hardware floating point unit.  So, when you write code like this:</p>\n\n<pre><code>float x = 1.0f, y = 2.0f;\nreturn x + y;\n</code></pre>\n\n<p>It gets translated into something like this:</p>\n\n<pre><code>unsigned x = 0x3f800000, y = 0x40000000;\nreturn _float_add(x, y);\n</code></pre>\n\n<p>Then the compiler or standard library has to supply an implementation of <code>_float_add()</code>, which takes up memory on your embedded system.  If you're counting bytes on a really tiny system, this can add up.</p>\n\n<p>Another common example is 64-bit integers (<code>long long</code> in the C standard since 1999), which are not directly supported by 32-bit systems.  Old SPARC systems didn't support integer multiplication, so multiplication had to be supplied by the runtime.  There are other examples.</p>\n\n<h2>Other languages</h2>\n\n<p>By comparison, other languages have more complicated primitives.</p>\n\n<p>For example, a Lisp symbol requires a lot of runtime support, just like tables in Lua, strings in Python, arrays in Fortran, et cetera.  The equivalent types in C are usually either not part of the standard library at all (no standard symbols or tables) or they are much simpler and don't require much runtime support (arrays in C are basically just pointers, nul-terminated strings are almost as simple).</p>\n\n<h2>Control structures</h2>\n\n<p>A notable control structure missing from C is exception handling.  Nonlocal exit is limited to <code>setjmp()</code> and <code>longjmp()</code>, which just save and restore certain parts of processor state.  By comparison, the C++ runtime has to walk the stack and call destructors and exception handlers.</p>\n", "title": "How are C data types \u201csupported directly by most computers\u201d?", "answer_id": 27977605, "link": "http://stackoverflow.com/questions/27977522/how-are-c-data-types-supported-directly-by-most-computers/27977605#27977605", "tags": ["c"]}, {"body": "<p>What are the built-in data types in <code>C</code>? \nThey are things like <code>int</code>, <code>char</code>, <code>* int</code>, <code>float</code>, arrays etc...\nThese data types are understood by the CPU. The CPU knows how to work with arrays, how to dereference pointers and how to perform arithmetic on pointers, integers and floating point numbers. </p>\n\n<p>But when you go to higher level programming languages you have built in abstract datatypes and more complex constructs. For example look at the vast array of built-in classes in the C++ programming language. The CPU doesn't understand classes, objects or abstract datatypes, so the C++ run-time bridges the gap between the CPU and the language. These are examples of datatypes not directly supported by most computers.</p>\n", "title": "How are C data types \u201csupported directly by most computers\u201d?", "answer_id": 27977643, "link": "http://stackoverflow.com/questions/27977522/how-are-c-data-types-supported-directly-by-most-computers/27977643#27977643", "tags": ["c"]}, {"body": "<p>The short answer is, most of the language constructs supported by C are also supported by the target computer's microprocessor, therefore, compiled C code translates very nicely and efficient to the microprocessor's assembly language, thereby resulting in smaller code and a smaller footprint.</p>\n\n<p>The longer answer requires a little bit of assembly language knowledge. In C, a statement such as this:</p>\n\n<pre><code>int myInt = 10;\n</code></pre>\n\n<p>would translate to something like this in assembly:</p>\n\n<pre><code>myInt dw 1\nmov myInt,10\n</code></pre>\n\n<p>Compare this to something like C++:</p>\n\n<pre><code>MyClass myClass;\nmyClass.set_myInt(10);\n</code></pre>\n\n<p>The resulting assembly language code (depending on how big MyClass() is), could add up to hundreds of assembly language lines.</p>\n\n<p>Without actually creating programs in assembly language, pure C is probably the \"skinniest\" and \"tightest\" code you can make a program in.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Given the comments on my answer, I decided to run a test, just for my own sanity. I created a program called \"test.c\", which looked like this:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nvoid main()\n{\n    int myInt=10;\n\n    printf(\"%d\\n\", myInt);\n}\n</code></pre>\n\n<p>I compiled this down to assembly using gcc. I used the following command line to compile it:</p>\n\n<pre><code>gcc -S -O2 test.c\n</code></pre>\n\n<p>Here is the resulting assembly language:</p>\n\n<pre><code>    .file   \"test.c\"\n    .section    .rodata.str1.1,\"aMS\",@progbits,1\n.LC0:\n    .string \"%d\\n\"\n    .section    .text.unlikely,\"ax\",@progbits\n.LCOLDB1:\n    .section    .text.startup,\"ax\",@progbits\n.LHOTB1:\n    .p2align 4,,15\n    .globl  main\n    .type   main, @function\nmain:\n.LFB24:\n    .cfi_startproc\n    movl    $10, %edx\n    movl    $.LC0, %esi\n    movl    $1, %edi\n    xorl    %eax, %eax\n    jmp __printf_chk\n    .cfi_endproc\n.LFE24:\n    .size   main, .-main\n    .section    .text.unlikely\n.LCOLDE1:\n    .section    .text.startup\n.LHOTE1:\n    .ident  \"GCC: (Ubuntu 4.9.1-16ubuntu6) 4.9.1\"\n    .section    .note.GNU-stack,\"\",@progbits\n</code></pre>\n\n<p>I then create a file called \"test.cpp\" which defined a class and outputted the same thing as \"test.c\":</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass MyClass {\n    int myVar;\npublic:\n    void set_myVar(int);\n    int get_myVar(void);\n};\n\nvoid MyClass::set_myVar(int val)\n{\n    myVar = val;\n}\n\nint MyClass::get_myVar(void)\n{\n    return myVar;\n}\n\nint main()\n{\n    MyClass myClass;\n    myClass.set_myVar(10);\n\n    cout &lt;&lt; myClass.get_myVar() &lt;&lt; endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>I compiled it the same way, using this command:</p>\n\n<pre><code>g++ -O2 -S test.cpp\n</code></pre>\n\n<p>Here is the resulting assembly file:</p>\n\n<pre><code>    .file   \"test.cpp\"\n    .section    .text.unlikely,\"ax\",@progbits\n    .align 2\n.LCOLDB0:\n    .text\n.LHOTB0:\n    .align 2\n    .p2align 4,,15\n    .globl  _ZN7MyClass9set_myVarEi\n    .type   _ZN7MyClass9set_myVarEi, @function\n_ZN7MyClass9set_myVarEi:\n.LFB1047:\n    .cfi_startproc\n    movl    %esi, (%rdi)\n    ret\n    .cfi_endproc\n.LFE1047:\n    .size   _ZN7MyClass9set_myVarEi, .-_ZN7MyClass9set_myVarEi\n    .section    .text.unlikely\n.LCOLDE0:\n    .text\n.LHOTE0:\n    .section    .text.unlikely\n    .align 2\n.LCOLDB1:\n    .text\n.LHOTB1:\n    .align 2\n    .p2align 4,,15\n    .globl  _ZN7MyClass9get_myVarEv\n    .type   _ZN7MyClass9get_myVarEv, @function\n_ZN7MyClass9get_myVarEv:\n.LFB1048:\n    .cfi_startproc\n    movl    (%rdi), %eax\n    ret\n    .cfi_endproc\n.LFE1048:\n    .size   _ZN7MyClass9get_myVarEv, .-_ZN7MyClass9get_myVarEv\n    .section    .text.unlikely\n.LCOLDE1:\n    .text\n.LHOTE1:\n    .section    .text.unlikely\n.LCOLDB2:\n    .section    .text.startup,\"ax\",@progbits\n.LHOTB2:\n    .p2align 4,,15\n    .globl  main\n    .type   main, @function\nmain:\n.LFB1049:\n    .cfi_startproc\n    subq    $8, %rsp\n    .cfi_def_cfa_offset 16\n    movl    $10, %esi\n    movl    $_ZSt4cout, %edi\n    call    _ZNSolsEi\n    movq    %rax, %rdi\n    call    _ZSt4endlIcSt11char_traitsIcEERSt13basic_ostreamIT_T0_ES6_\n    xorl    %eax, %eax\n    addq    $8, %rsp\n    .cfi_def_cfa_offset 8\n    ret\n    .cfi_endproc\n.LFE1049:\n    .size   main, .-main\n    .section    .text.unlikely\n.LCOLDE2:\n    .section    .text.startup\n.LHOTE2:\n    .section    .text.unlikely\n.LCOLDB3:\n    .section    .text.startup\n.LHOTB3:\n    .p2align 4,,15\n    .type   _GLOBAL__sub_I__ZN7MyClass9set_myVarEi, @function\n_GLOBAL__sub_I__ZN7MyClass9set_myVarEi:\n.LFB1056:\n    .cfi_startproc\n    subq    $8, %rsp\n    .cfi_def_cfa_offset 16\n    movl    $_ZStL8__ioinit, %edi\n    call    _ZNSt8ios_base4InitC1Ev\n    movl    $__dso_handle, %edx\n    movl    $_ZStL8__ioinit, %esi\n    movl    $_ZNSt8ios_base4InitD1Ev, %edi\n    addq    $8, %rsp\n    .cfi_def_cfa_offset 8\n    jmp __cxa_atexit\n    .cfi_endproc\n.LFE1056:\n    .size   _GLOBAL__sub_I__ZN7MyClass9set_myVarEi, .-_GLOBAL__sub_I__ZN7MyClass9set_myVarEi\n    .section    .text.unlikely\n.LCOLDE3:\n    .section    .text.startup\n.LHOTE3:\n    .section    .init_array,\"aw\"\n    .align 8\n    .quad   _GLOBAL__sub_I__ZN7MyClass9set_myVarEi\n    .local  _ZStL8__ioinit\n    .comm   _ZStL8__ioinit,1,1\n    .hidden __dso_handle\n    .ident  \"GCC: (Ubuntu 4.9.1-16ubuntu6) 4.9.1\"\n    .section    .note.GNU-stack,\"\",@progbits\n</code></pre>\n\n<p>As you can clearly see, the resulting assembly file is much larger on the C++ file then it is on the C file. Even if you cut out all the other stuff and just compare the C \"main\" to the C++ \"main\", there is a lot of extra stuff.</p>\n", "title": "How are C data types \u201csupported directly by most computers\u201d?", "answer_id": 27977661, "link": "http://stackoverflow.com/questions/27977522/how-are-c-data-types-supported-directly-by-most-computers/27977661#27977661", "tags": ["c"]}, {"body": "<p>The assembly language of a process generally deals with jump (go to), statements, move statements, binary arthritic (XOR, NAND, AND OR, etc), memory fields (or address).  Categorizes memory into two types, instruction and data. That is about all an assembly language is (I am sure assembly programmers will argue there is more to it than that, but it boils down to this in general).  C closely resembles this simplicity.  </p>\n\n<p>C is to assemble what algebra is to arithmetic.  </p>\n\n<p>C encapsulates the basics of assembly (the processor's language).   Is probably a truer statement than \"Because the data types and control structures provided by C are supported directly by most computers\"</p>\n", "title": "How are C data types \u201csupported directly by most computers\u201d?", "answer_id": 27977746, "link": "http://stackoverflow.com/questions/27977522/how-are-c-data-types-supported-directly-by-most-computers/27977746#27977746", "tags": ["c"]}, {"body": "<p>Actually, I'll bet that the contents of this introduction haven't changed much since 1978 when Kernighan and Ritchie first wrote them in the First Edition of the book, and they refer to the history and evolution of C at that time more than modern implementations.</p>\n\n<p>Computers are fundamentally just memory banks and central processors, and each processor operates using a machine code; part of the design of each processor is an instruction set architecture, called an <a href=\"https://en.wikipedia.org/wiki/Assembly_language\">Assembly Language</a>, which maps one-to-one from a set of human-readable mnemonics to machine code, which is all numbers.</p>\n\n<p>The authors of the C language &ndash; and the B and BCPL languages that immediately preceded it &ndash; were intent upon defining constructs in the language that were as efficiently compiled into Assembly as possible ... in fact, they were forced to by limitations in the target hardware. As other answers have pointed out, this involved branches (GOTO and other flow control in C), moves (assignment), logical operations (&amp; | ^), basic arithmetic (add, subtract, increment, decrement), and memory addressing (pointers). A good example is the pre-/post-increment and decrement operators in C, which supposedly were added to the B language by Ken Thompson specifically because they were capable of translating directly to a single opcode once compiled.</p>\n\n<p>This is what the authors meant when they said \"supported directly by most computers\". They didn't mean that other languages contained types and structures that were <strong>not</strong> supported directly - they meant that <em>by design</em> C constructs translated <em>most</em> directly (sometimes <em>literally</em> directly) into Assembly.</p>\n\n<p>This close relation to the underlying Assembly, while still providing all the elements required for structured programming, are what led to C's early adoption, and what keep it a popular language today in environments where efficiency of code compiled is still key.</p>\n\n<p>For an interesting write-up of the history of the language, see <a href=\"http://cm.bell-labs.com/cm/cs/who/dmr/chist.html\"><strong>The Development of the C Language - Dennis Ritchie</strong></a></p>\n", "title": "How are C data types \u201csupported directly by most computers\u201d?", "answer_id": 27979825, "link": "http://stackoverflow.com/questions/27977522/how-are-c-data-types-supported-directly-by-most-computers/27979825#27979825", "tags": ["c"]}, {"body": "<h2>Beware of misleading comparisons</h2>\n\n<ol>\n<li>The statement relies on the <strong>notion of a \"run-time library\"</strong>, which has mostly gone out of fashion since, at least for mainstream high-level languages. (It is still relevant for the smallest embedded systems.) The run-time is the minimal support a program in that language requires to execute when you use only constructs built into the language (as opposed to explicitly calling a function provided by a library).</li>\n<li>In contrast, modern languages tend not to <strong>discriminate between the run-time and the standard library</strong>, the latter often being quite extensive.</li>\n<li>At the time of the K&amp;R book, <strong>C did not even have a <em>standard</em> library</strong>. Rather, the available C libraries differed quite a bit between different flavors of Unix.</li>\n<li>For understanding the statement you <strong>should not compare to languages with a standard library</strong> (such as Lua and Python mentioned in other answers), but to languages with more built-in constructs (such as old-day LISP and old-day FORTRAN mentioned in other answers). Other examples would be BASIC (interactive, like LISP) or PASCAL (compiled, like FORTRAN) which both have (among other things) input/output features built right into the language itself.</li>\n<li>In contrast, there is no standard way to get the computation results out from a C program that is using only the run-time, not any library.</li>\n</ol>\n", "title": "How are C data types \u201csupported directly by most computers\u201d?", "answer_id": 27986094, "link": "http://stackoverflow.com/questions/27977522/how-are-c-data-types-supported-directly-by-most-computers/27986094#27986094", "tags": ["c"]}, {"body": "<p>It depends on the computer. On the PDP-11, where C was invented, <code>long</code> was poorly supported (there was an optional add-on module you could buy that supported some, but not all, 32-bit operations). The same is true to various degrees on any 16-bit system, including the original IBM PC. And likewise for 64-bit operations on 32-bit machines or in 32-bit programs, though the C language at the time of the K&amp;R book did not have any 64-bit operations at all. And of course there have been many systems throughout the 80s and 90s [including the 386 and some 486 processors], and even some embedded systems today, that did not directly support floating point arithmetic (<code>float</code> or <code>double</code>).</p>\n\n<p>For a more exotic example, some computer architectures only support \"word-oriented\" pointers (pointing at a two-byte or four-byte integer in memory), and byte pointers (<code>char *</code> or <code>void *</code>) had to be implemented by adding an extra offset field. <a href=\"http://stackoverflow.com/questions/1352500/pointer-implementation-details-in-c\">This question</a> goes into some detail about such systems.</p>\n\n<p>The \"run-time library\" functions it refers to are not the ones you will see in the manual, but functions like <a href=\"https://gcc.gnu.org/onlinedocs/gccint/Libgcc.html\" rel=\"nofollow\">these, in a modern compiler's runtime library</a>, which are used to implement the basic type operations that are <em>not</em> supported by the machine. The runtime library that K&amp;R themselves were referring to can be found on <a href=\"http://minnie.tuhs.org/cgi-bin/utree.pl?file=V7/usr/src/libc/crt\" rel=\"nofollow\">The Unix Heritage Society's website</a> - you can see functions like <code>ldiv</code> (distinct from the C function of the same name, which did not exist at the time) which is used to implement division of 32-bit values, which the PDP-11 did not support even with the add-on, and <code>csv</code> (and <code>cret</code> also in csv.c) which save and restore registers on the stack to manage calls and returns from functions.</p>\n\n<p>They were likely also referring to their choice to not support many data types that aren't directly supported by the underlying machine, unlike other contemporary languages such as FORTRAN, which had array semantics that did not map as well to the CPU's underlying pointer support as C's arrays. The fact that C arrays are always zero-indexed and always of known size in all ranks but the first means that there is no need to store the index ranges or sizes of the arrays, and no need to have runtime library functions to access them - the compiler can simply hardcode the necessary pointer arithmetic.</p>\n", "title": "How are C data types \u201csupported directly by most computers\u201d?", "answer_id": 27987397, "link": "http://stackoverflow.com/questions/27977522/how-are-c-data-types-supported-directly-by-most-computers/27987397#27987397", "tags": ["c"]}, {"body": "<p>Things such as</p>\n\n<ul>\n<li><p><strong>Lists</strong> Used in almost all functional languages.</p></li>\n<li><p><strong>Exceptions</strong>.</p></li>\n<li><p><strong>Associative arrays</strong> (Maps) - included in e.g. PHP and Perl.</p></li>\n<li><p><strong>Garbage collection</strong>.</p></li>\n<li><p>Data types/control structures included in many languages, but not directly supported by the CPU.</p></li>\n</ul>\n", "title": "How are C data types \u201csupported directly by most computers\u201d?", "answer_id": 27998483, "link": "http://stackoverflow.com/questions/27977522/how-are-c-data-types-supported-directly-by-most-computers/27998483#27998483", "tags": ["c"]}, {"body": "<p>K&amp;R mean that most C expressions (technical meaning) map to one or a few assembly instructions, not a function call to a support library.  The usual exceptions are integer division on architectures without a hardware div instruction, or floating point on machines with no FPU.</p>\n\n<p>There's a quote:</p>\n\n<blockquote>\n  <p>C combines the flexibility and power of assembly language with the user-friendliness of assembly language.  </p>\n</blockquote>\n\n<p>(<a href=\"http://languagelog.ldc.upenn.edu/nll/?p=7327\" rel=\"nofollow\">found here</a>.  I thought I remembered a different variation, like \"speed of assembly language with the convenience and expressivity of assembly language\".)</p>\n\n<h2>long int is usually the same width as the native machine registers.</h2>\n\n<p>Some higher level languages define the exact width of their data types, and implementations on all machines must work the same.  Not C, though.</p>\n\n<p>If you want to work with 128bit ints on x86-64, or in the general case BigInteger of arbitrary size, you need a library of functions for it.  All CPUs now use 2s complement as the binary representation of negative integers, but even that wasn't the case back when C was designed.  (That's why some things that would give different results on non 2s-complement machines are technically undefined in the C standards.)</p>\n\n<h2>C pointers to data or to functions work the same way as assembly addresses.</h2>\n\n<p>If you want ref-counted references, you have to do it yourself.  If you want c++ virtual member functions that call a different function depending on what kind of object your pointer is pointing to, the C++ compiler has to generate a lot more than just a <code>call</code> instruction with a fixed address.</p>\n\n<h2>Strings are just arrays</h2>\n\n<p>Outside of library functions, the only string operations provided are read/write a character.  No concat, no substring, no search.  (Strings are stored as nul-terminated (<code>'\\0'</code>) arrays of 8bit integers, not pointer+length, so to get a substring you'd have to write a nul into the original string.)</p>\n\n<p>CPUs sometimes have instructions designed for use by a string-search function, but still usually process one byte per instruction executed, in a loop.  (or with the x86 rep prefix.  Maybe if C was designed on x86, string search or compare would be a native operation, rather than a library function call.)</p>\n\n<p>Many other answers give examples of things that aren't natively supported, like exception handling, hash tables, lists.  K&amp;R's design philosophy is the reason C doesn't have any of these natively.</p>\n", "title": "How are C data types \u201csupported directly by most computers\u201d?", "answer_id": 28001208, "link": "http://stackoverflow.com/questions/27977522/how-are-c-data-types-supported-directly-by-most-computers/28001208#28001208", "tags": ["c"]}, {"body": "<p>The statement simply means that the data and control structures in C are machine-oriented.</p>\n\n<p>There are two aspects to consider here. One is that the C language has a definition (ISO standard) which allows latitude in how the data types are defined. This means that <em>C language implementations are tailored to the machine</em>. The data types of a C compiler match what is available in the machine which the compiler targets, because the language has latitude for that. If a machine has an unusual word size, like 36 bits, then the type <code>int</code> or <code>long</code> can be made to conform to that. Programs which assume that <code>int</code> is exactly 32 bits will break.</p>\n\n<p>Secondly, because of such portability problems, there is a second effect. In a way, the statement in the K&amp;R has become a sort of <em>self-fulfilling prophesy</em>, or perhaps in reverse. That is to say, implementors of new processors are aware of the keen need for supporting C compilers, and they know that there exists a lot of C code which assumes that \"every processor looks like an 80386\". Architectures are designed with C in mind: and not only C in mind, but with common misconceptions about C portability in mind also. You simply can't introduce a machine with 9 bit bytes or whatever for general purpose use any more. Programs which assume that the type <code>char</code> is exactly 8 bits wide will break. Only some programs written by portability experts will continue to work: likely not enough to pull together a complete system with a toolchain, kernel, user space and useful applications, with reasonable effort.  In other words, C types look like what is available from the hardware because the hardware was made to look like some other hardware for which many nonportable C programs were written.</p>\n\n<blockquote>\n  <p>Is there an example of a data type or a control structure that isn't supported directly by a computer?</p>\n</blockquote>\n\n<p>Data types not directly supported in many machine languages: multi-precision integer; linked list; hash table; character string.</p>\n\n<p>Control structures not directly supported in most machine languages: first class continuation; coroutine/thread; generator; exception handling.</p>\n\n<p>All of these require considerable run-time support code created using numerous general purpose instructions, and more elementary data types.</p>\n\n<p>C has some standard data types which are not supported by some machines. Since C99, C has complex numbers. They are made out of two floating-point values and made to work with library routines. Some machines have no floating-point unit at all.</p>\n\n<p>With regard to some data types, it is not clear. If a machine has support for addressing memory using one register as a base address, and another\nas a scaled displacement, does that mean that arrays are a directly supported data type?</p>\n\n<p>Also, speaking of floating-point, there is standardization: IEEE 754 floating-point. Why your C compiler has a <code>double</code> which agrees with the floating-point format supported by the processor is not only because the two were made to agree, but because there is an independent standard for that representation.</p>\n", "title": "How are C data types \u201csupported directly by most computers\u201d?", "answer_id": 28007041, "link": "http://stackoverflow.com/questions/27977522/how-are-c-data-types-supported-directly-by-most-computers/28007041#28007041", "tags": ["c"]}, {"body": "<blockquote>\n  <p>Is there an example of a data type or a control structure that isn't\n  supported directly by a computer?</p>\n</blockquote>\n\n<p>All the fundamental data types and their operations in the C language can be implemented by one or a few machine-language instructions without looping -- they are directly supported by the (practically every) CPU.</p>\n\n<p>Several popular data types and their operations require dozens of machine-language instructions, or require iterating of some runtime loop, or both.</p>\n\n<p>Many languages have special abbreviated syntax for such types and their operations -- using such data types in C generally requires typing a lot more code.</p>\n\n<p>Such data types, and operations include:</p>\n\n<ul>\n<li>arbitary-length text string manipulation -- concatenation, substring, assigning a new string to a variable initialized with some other string, etc. ('s = \"Hello World!\"; s = (s + s)[2:-2]' in Python)</li>\n<li>sets</li>\n<li>objects with nested virtual destructors, as in C++ and every other object-oriented programming language</li>\n<li>2D matrix multiplication and division; solving linear systems ( \"C = B / A; x = A\\b\" in MATLAB and many array programming languages)</li>\n<li>regular expressions</li>\n<li>variable-length arrays -- in particular, appending an item to the the end of the array, which (sometimes) requires allocating more memory.</li>\n<li>reading the value of variables that change type at runtime -- sometimes it's a float, other times it's a string</li>\n<li>associative arrays (often called \"maps\" or \"dictionaries\")</li>\n<li>lists</li>\n<li>ratios ( \"(+ 1/3 2/7)\" gives \"13/21\" <a href=\"http://stackoverflow.com/questions/5893610/why-in-lisp-there-is-no-limitation-for-number/5895276#5895276\">in Lisp</a>)</li>\n<li>arbitrary-precision arithmetic (often called \"bignums\")</li>\n<li>converting data into a printable representation (the \".tostring\" method in JavaScript)</li>\n<li>saturating fixed-point numbers (often used in embedded C programs)</li>\n<li>evaluating a string typed in at run time as though it were an expression (\"eval()\" in many programming languages).</li>\n</ul>\n\n<p>All of these operations require dozens of machine-language instructions or require iterating some runtime loop on nearly every processor.</p>\n\n<p>Some popular control structures that also require dozens of machine-language instructions or looping include:</p>\n\n<ul>\n<li>closures</li>\n<li>continuations</li>\n<li>exceptions</li>\n<li>lazy evaluation</li>\n</ul>\n\n<p>Whether written in C or some other language, when a program manipulates such data types, the CPU must eventually execute whatever instructions are required to manipulate those data types.\nThose instructions are often contained in a \"library\".\nEvery programming language, even C, has a \"run-time library\" for each platform that is included by default in every executable.</p>\n\n<p>Most people who write compilers put the instructions for manipulating all the data types that are \"built into the language\" into their run-time library.\nBecause C doesn't have <em>any</em> of the above data types and operations and control structures built into the the language, none of them are included in the C run-time library -- which makes the C run-time library smaller than the run-time library of other programming languages that have more of the above stuff built-in to the language.</p>\n\n<p>When a programmer want a program -- in C or any other language of his choice -- to manipulate other data types that are not \"built into the language\", that programmer generally tells the compiler to include additional libraries with that program, or sometimes (to \"avoid dependencies\") writes yet another implementation of those operations directly in the program.</p>\n", "title": "How are C data types \u201csupported directly by most computers\u201d?", "answer_id": 28032936, "link": "http://stackoverflow.com/questions/27977522/how-are-c-data-types-supported-directly-by-most-computers/28032936#28032936", "tags": ["c"]}, {"body": "<p>Supported directly should be understood as mapping efficiently to the instruction set of the processor.</p>\n\n<ul>\n<li><p>Direct support for integer types is the rule, except for the long (may require extended arithmetic routines) and short sizes (may require masking).</p></li>\n<li><p>Direct support for floating-point types requires an FPU to be available.</p></li>\n<li><p>Direct support for bit fields is exceptional.</p></li>\n<li><p>Structs and arrays require address computation, directly supported to some extent.</p></li>\n<li><p>Pointers are always directly supported via indirect addressing.</p></li>\n<li><p>goto/if/while/for/do are directly supported by unconditional/conditional branches.</p></li>\n<li><p>switch can be directly supported when a jump table applies.</p></li>\n<li><p>Function calls are directly supported by means of the stack features.</p></li>\n</ul>\n", "title": "How are C data types \u201csupported directly by most computers\u201d?", "answer_id": 28061970, "link": "http://stackoverflow.com/questions/27977522/how-are-c-data-types-supported-directly-by-most-computers/28061970#28061970", "tags": ["c"]}], "question_id": 27977522}, {"body": "<p>I am trying to implement the <code>SearchView</code> from the support library. I want the user to be to use the <code>SearchView</code> to filter a <code>List</code> of movies in a <code>RecyclerView</code>.</p>\n\n<p>I have followed a few tutorials so far and I have added the <code>SearchView</code> to the <code>ActionBar</code>, but I am not really sure where to go from here. I have seen a few examples but none of them show results as you start typing.</p>\n\n<p>This is my <code>MainActivity</code>:</p>\n\n<pre><code>public class MainActivity extends ActionBarActivity {\n\n    RecyclerView mRecyclerView;\n    RecyclerView.LayoutManager mLayoutManager;\n    RecyclerView.Adapter mAdapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_recycler_view);\n\n        mRecyclerView = (RecyclerView) findViewById(R.id.recycler_view);\n        mRecyclerView.setHasFixedSize(true);\n\n        mLayoutManager = new LinearLayoutManager(this);\n        mRecyclerView.setLayoutManager(mLayoutManager);\n\n        mAdapter = new CardAdapter() {\n            @Override\n            public Filter getFilter() {\n                return null;\n            }\n        };\n        mRecyclerView.setAdapter(mAdapter);\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.menu_main, menu);\n        SearchManager searchManager = (SearchManager) getSystemService(Context.SEARCH_SERVICE);\n        SearchView searchView = (SearchView) menu.findItem(R.id.menu_search).getActionView();\n        searchView.setSearchableInfo(searchManager.getSearchableInfo(getComponentName()));\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        // Handle action bar item clicks here. The action bar will\n        // automatically handle clicks on the Home/Up button, so long\n        // as you specify a parent activity in AndroidManifest.xml.\n        int id = item.getItemId();\n\n        //noinspection SimplifiableIfStatement\n        if (id == R.id.action_settings) {\n            return true;\n        }\n\n        return super.onOptionsItemSelected(item);\n    }\n}\n</code></pre>\n\n<p>And this is my <code>Adapter</code>:</p>\n\n<pre><code>public abstract class CardAdapter extends RecyclerView.Adapter&lt;CardAdapter.ViewHolder&gt; implements Filterable {\n\n    List&lt;Movie&gt; mItems;\n\n    public CardAdapter() {\n        super();\n        mItems = new ArrayList&lt;Movie&gt;();\n        Movie movie = new Movie();\n        movie.setName(\"Spiderman\");\n        movie.setRating(\"92\");\n        mItems.add(movie);\n\n        movie = new Movie();\n        movie.setName(\"Doom 3\");\n        movie.setRating(\"91\");\n        mItems.add(movie);\n\n        movie = new Movie();\n        movie.setName(\"Transformers\");\n        movie.setRating(\"88\");\n        mItems.add(movie);\n\n        movie = new Movie();\n        movie.setName(\"Transformers 2\");\n        movie.setRating(\"87\");\n        mItems.add(movie);\n\n        movie = new Movie();\n        movie.setName(\"Transformers 3\");\n        movie.setRating(\"86\");\n        mItems.add(movie);\n\n        movie = new Movie();\n        movie.setName(\"Noah\");\n        movie.setRating(\"86\");\n        mItems.add(movie);\n\n        movie = new Movie();\n        movie.setName(\"Ironman\");\n        movie.setRating(\"86\");\n        mItems.add(movie);\n\n        movie = new Movie();\n        movie.setName(\"Ironman 2\");\n        movie.setRating(\"86\");\n        mItems.add(movie);\n\n        movie = new Movie();\n        movie.setName(\"Ironman 3\");\n        movie.setRating(\"86\");\n        mItems.add(movie);\n    }\n\n    @Override\n    public ViewHolder onCreateViewHolder(ViewGroup viewGroup, int i) {\n        View v = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.recycler_view_card_item, viewGroup, false);\n        return new ViewHolder(v);\n    }\n\n    @Override\n    public void onBindViewHolder(ViewHolder viewHolder, int i) {\n        Movie movie = mItems.get(i);\n        viewHolder.tvMovie.setText(movie.getName());\n        viewHolder.tvMovieRating.setText(movie.getRating());\n    }\n\n    @Override\n    public int getItemCount() {\n        return mItems.size();\n    }\n\n    class ViewHolder extends RecyclerView.ViewHolder{\n\n        public TextView tvMovie;\n        public TextView tvMovieRating;\n\n        public ViewHolder(View itemView) {\n            super(itemView);\n            tvMovie = (TextView)itemView.findViewById(R.id.movieName);\n            tvMovieRating = (TextView)itemView.findViewById(R.id.movieRating);\n        }\n    }\n}\n</code></pre>\n", "title": "How to filter a RecyclerView with a SearchView", "tags": ["android", "recyclerview", "android-recyclerview", "searchview", "android-filterable"], "answer_count": 5, "link": "http://stackoverflow.com/questions/30398247/how-to-filter-a-recyclerview-with-a-searchview", "answers": [{"body": "<h1>Introduction</h1>\n\n<p>Since it is not really clear form your question with what exactly you are having trouble I wrote up this quick walkthrough about how to implement this feature, if you still have questions feel free to ask.</p>\n\n<p>I have a working example of everything I am talking about here in this <a href=\"https://github.com/Wrdlbrnft/Searchable-RecyclerView-Demo\"><strong>GitHub Repository</strong></a>.<br>\nIf you want to know more about the example project visit the <a href=\"https://wrdlbrnft.github.io/Searchable-RecyclerView-Demo/\"><strong>project homepage</strong></a>.</p>\n\n<p>In any case the result should looks something like this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/qDtH7.gif\" alt=\"demo image\"></p>\n\n<p>If you first want to play around with the demo app you can install it from the Play Store:</p>\n\n<p><a href=\"https://play.google.com/store/apps/details?id=com.github.wrdlbrnft.searchablerecyclerviewdemo\"><img src=\"https://developer.android.com/images/brand/en_generic_rgb_wo_60.png\" alt=\"Get it on Google Play\"></a></p>\n\n<p>Anyway lets get started.</p>\n\n<hr>\n\n<h1>Setting up the <code>SearchView</code></h1>\n\n<p>In the folder <code>res/menu</code> create a new file called <code>main_menu.xml</code>. In it add an item and set the <code>actionViewClass</code> to <code>android.support.v7.widget.SearchView</code>. Since you are using the support library you have to use the namespace of the support library to set the <code>actionViewClass</code> attribute. Your xml file should look something like this:</p>\n\n<pre><code>&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n      xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n    &lt;item android:id=\"@+id/action_search\"\n          android:title=\"@string/action_search\"\n          app:actionViewClass=\"android.support.v7.widget.SearchView\"\n          app:showAsAction=\"always\"/&gt;\n\n&lt;/menu&gt;\n</code></pre>\n\n<p>In your <code>Fragment</code> or <code>Activity</code> you have to inflate this menu xml like usual, then you can look for the <code>MenuItem</code> which contains the <code>SearchView</code> and implement the <code>OnQueryTextListener</code> which we are going to use to listen for changes to the text entered into the <code>SearchView</code>:</p>\n\n<pre><code>@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    getMenuInflater().inflate(R.menu.menu_main, menu);\n\n    final MenuItem searchItem = menu.findItem(R.id.action_search);\n    final SearchView searchView = (SearchView) MenuItemCompat.getActionView(searchItem);\n    searchView.setOnQueryTextListener(this);\n\n    return true;\n}\n\n@Override\npublic boolean onQueryTextChange(String query) {\n    // Here is where we are going to implement the filter logic\n    return false;\n}\n\n@Override\npublic boolean onQueryTextSubmit(String query) {\n    return false;\n}\n</code></pre>\n\n<p>And now the <code>SearchView</code> is ready to be used. We will implement the filter logic later on in <code>onQueryTextChange()</code> once we are finished implementing the <code>Adapter</code>.</p>\n\n<hr>\n\n<h1>Setting up the <code>Adapter</code></h1>\n\n<p>First and foremost this is the model class I am going to use for this example: </p>\n\n<pre><code>public class ExampleModel {\n\n    private final long mId;\n    private final String mText;\n\n    public ExampleModel(long id, String text) {\n        mId = id;\n        mText = text;\n    }\n\n    public long getId() {\n        return mId;\n    }\n\n    public String getText() {\n        return mText;\n    }\n}\n</code></pre>\n\n<p>It's just your basic model which will display a text in the <code>RecyclerView</code>. This is the layout I am going to use to display the text: </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n    &lt;data&gt;\n\n        &lt;variable\n            name=\"model\"\n            type=\"com.github.wrdlbrnft.searchablerecyclerviewdemo.ui.models.ExampleModel\"/&gt;\n\n    &lt;/data&gt;\n\n    &lt;FrameLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:background=\"?attr/selectableItemBackground\"\n        android:clickable=\"true\"&gt;\n\n        &lt;TextView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:padding=\"8dp\"\n            android:text=\"@{model.text}\"/&gt;\n\n    &lt;/FrameLayout&gt;\n\n&lt;/layout&gt;\n</code></pre>\n\n<p>As you can see I use Data Binding. If you have never worked with data binding before don't be discouraged! It's very simple and powerful, however I can't explain how it works in the scope of this answer.</p>\n\n<p>This is the <code>ViewHolder</code> for the <code>ExampleModel</code> class:</p>\n\n<pre><code>public class ExampleViewHolder extends RecyclerView.ViewHolder {\n\n    private final ItemExampleBinding mBinding;\n\n    public ExampleViewHolder(ItemExampleBinding binding) {\n        super(binding.getRoot());\n        mBinding = binding;\n    }\n\n    public void bind(ExampleModel item) {\n        mBinding.setModel(item);\n    }\n}\n</code></pre>\n\n<p>Again nothing special. It just uses data binding to bind the model class to this layout as we have defined in the layout xml above. </p>\n\n<p>Now we can finally come to the really interesting part: Writing the Adapter. I am going to skip over the basic implementation of the <code>Adapter</code> and am instead going to concentrate on the parts which are relevant for this answer.</p>\n\n<p>But first there is one thing we have to talk about: The <a href=\"https://developer.android.com/reference/android/support/v7/util/SortedList.html\"><strong><code>SortedList</code></strong></a> class.</p>\n\n<hr>\n\n<h1>SortedList</h1>\n\n<p>The <code>SortedList</code> is a completely amazing tool which is part of the <code>RecyclerView</code> library. It takes care of notifying the <code>Adapter</code> about changes to the data set and does so it a very efficient way. The only thing it requires you to do is specify an order of the elements. You need to do that by implementing a <code>compare()</code> method which compares two elements in the <code>SortedList</code> just like a <code>Comparator</code>. But instead of sorting a <code>List</code> it is used to sort the items in the <code>RecyclerView</code>! </p>\n\n<p>The <code>SortedList</code> interacts with the <code>Adapter</code> through a <code>Callback</code> class which you have to implement:</p>\n\n<pre><code>private final SortedList.Callback&lt;ExampleModel&gt; mCallback = new SortedList.Callback&lt;ExampleModel&gt;() {\n\n    @Override\n    public void onInserted(int position, int count) {\n         mAdapter.notifyItemRangeInserted(position, count);\n    }\n\n    @Override\n    public void onRemoved(int position, int count) {\n        mAdapter.notifyItemRangeRemoved(position, count);\n    }\n\n    @Override\n    public void onMoved(int fromPosition, int toPosition) {\n        mAdapter.notifyItemMoved(fromPosition, toPosition);\n    }\n\n    @Override\n    public void onChanged(int position, int count) {\n        mAdapter.notifyItemRangeChanged(position, count);\n    }\n\n    @Override\n    public int compare(ExampleModel a, ExampleModel b) {\n        return mComparator.compare(a, b);\n    }\n\n    @Override\n    public boolean areContentsTheSame(ExampleModel oldItem, ExampleModel newItem) {\n        return oldItem.equals(newItem);\n    }\n\n    @Override\n    public boolean areItemsTheSame(ExampleModel item1, ExampleModel item2) {\n        return item1.getId() == item2.getId();\n    }\n}\n</code></pre>\n\n<p>In the methods at the top of the callback like <code>onMoved</code>, <code>onInserted</code>, etc. you have to call the equivalent notify method of your <code>Adapter</code>. The three methods at the bottom <code>compare</code>, <code>areContentsTheSame</code> and <code>areItemsTheSame</code> you have to implement according to what kind of objects you want to display and in what order these objects should appear on the screen.</p>\n\n<p>Let's go through these methods one by one:</p>\n\n<pre><code>@Override\npublic int compare(ExampleModel a, ExampleModel b) {\n    return mComparator.compare(a, b);\n}\n</code></pre>\n\n<p>This is the <code>compare()</code> method I talked about earlier. In this example I am just passing the call to a <code>Comparator</code> which compares the two models. If you want the items to appear in alphabetical order on the screen. This comparator might look like this:</p>\n\n<pre><code>private static final Comparator&lt;ExampleModel&gt; ALPHABETICAL_COMPARATOR = new Comparator&lt;ExampleModel&gt;() {\n    @Override\n    public int compare(ExampleModel a, ExampleModel b) {\n        return a.getText().compareTo(b.getText());\n    }\n};\n</code></pre>\n\n<p>Now let's take a look at the next method:</p>\n\n<pre><code>@Override\npublic boolean areContentsTheSame(ExampleModel oldItem, ExampleModel newItem) {\n    return oldItem.equals(newItem);\n}\n</code></pre>\n\n<p>The purpose of this method is to determine if the content of a model has changed. The <code>SortedList</code> uses this to determine if a change event needs to be invoked - in other words if the <code>RecyclerView</code> should crossfade the old and new version. If you model classes have a correct <code>equals()</code> and <code>hashCode()</code> implementation you can usually just implement it like above. If we add an <code>equals()</code> and <code>hashCode()</code> implementation to the <code>ExampleModel</code> class it should look something like this:</p>\n\n<pre><code>public class ExampleModel implements SortedListAdapter.ViewModel {\n\n    private final long mId;\n    private final String mText;\n\n    public ExampleModel(long id, String text) {\n        mId = id;\n        mText = text;\n    }\n\n    public long getId() {\n        return mId;\n    }\n\n    public String getText() {\n        return mText;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n\n        ExampleModel model = (ExampleModel) o;\n\n        if (mId != model.mId) return false;\n        return mText != null ? mText.equals(model.mText) : model.mText == null;\n\n    }\n\n    @Override\n    public int hashCode() {\n        int result = (int) (mId ^ (mId &gt;&gt;&gt; 32));\n        result = 31 * result + (mText != null ? mText.hashCode() : 0);\n        return result;\n    }\n}\n</code></pre>\n\n<p>Quick side note: Most IDE's like Android Studio, IntelliJ and Eclipse have functionality to generate <code>equals()</code> and <code>hashCode()</code> implementations for you at the press of a button! So you don't have to implement them yourself. Look up on the internet how it works in your IDE!</p>\n\n<p>Now let's take a look at the last method:</p>\n\n<pre><code>@Override\npublic boolean areItemsTheSame(ExampleModel item1, ExampleModel item2) {\n    return item1.getId() == item2.getId();\n}\n</code></pre>\n\n<p>The <code>SortedList</code> uses this method to check if two items refer to the same thing. In simplest terms (without explaining how the <code>SortedList</code> works) this is used to determine if an object is already contained in the <code>List</code> and if either an add, move or change animation needs to be played. If your models have an id you would usually compare just the id in this method. If they don't you need to figure out some other way to check this, but however you end up implementing this depends on your specific app. Usually it is the simplest option to give all models an id - that could for example be the primary key field if you are querying the data from a database.</p>\n\n<p>With the <code>SortedList.Callback</code> correctly implemented we can create an instance of the <code>SortedList</code>:</p>\n\n<pre><code>final SortedList&lt;ExampleModel&gt; list = new SortedList&lt;&gt;(ExampleModel.class, mCallback);\n</code></pre>\n\n<p>As the first parameter in the constructor of the <code>SortedList</code> you need to pass the class of your models. The other parameter is just the <code>SortedList.Callback</code> we defined above.</p>\n\n<p>Now let's get down to business: If we implement the <code>Adapter</code> with a <code>SortedList</code> it should look something like this:</p>\n\n<pre><code>public class ExampleAdapter extends RecyclerView.Adapter&lt;ExampleViewHolder&gt; {\n\n    private final SortedList&lt;ExampleModel&gt; mSortedList = new SortedList&lt;&gt;(ExampleModel.class, new SortedList.Callback&lt;ExampleModel&gt;() {\n        @Override\n        public int compare(ExampleModel a, ExampleModel b) {\n            return mComparator.compare(a, b);\n        }\n\n        @Override\n        public void onInserted(int position, int count) {\n            notifyItemRangeInserted(position, count);\n        }\n\n        @Override\n        public void onRemoved(int position, int count) {\n            notifyItemRangeRemoved(position, count);\n        }\n\n        @Override\n        public void onMoved(int fromPosition, int toPosition) {\n            notifyItemMoved(fromPosition, toPosition);\n        }\n\n        @Override\n        public void onChanged(int position, int count) {\n            notifyItemRangeChanged(position, count);\n        }\n\n        @Override\n        public boolean areContentsTheSame(ExampleModel oldItem, ExampleModel newItem) {\n            return oldItem.equals(newItem);\n        }\n\n        @Override\n        public boolean areItemsTheSame(ExampleModel item1, ExampleModel item2) {\n            return item1.getId() == item2.getId();\n        }\n    });\n\n    private final LayoutInflater mInflater;\n    private final Comparator&lt;ExampleModel&gt; mComparator;\n\n    public ExampleAdapter(Context context, Comparator&lt;ExampleModel&gt; comparator) {\n        mInflater = LayoutInflater.from(context);\n        mComparator = comparator;\n    }\n\n    @Override\n    public ExampleViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        final ItemExampleBinding binding = ItemExampleBinding.inflate(inflater, parent, false);\n        return new ExampleViewHolder(binding);\n    }\n\n    @Override\n    public void onBindViewHolder(ExampleViewHolder holder, int position) {\n        final ExampleModel model = mSortedList.get(position);\n        holder.bind(model);\n    }\n\n    @Override\n    public int getItemCount() {\n        return mSortedList.size();\n    }\n}\n</code></pre>\n\n<p>The <code>Comparator</code> used to sort the item is passed in through the constructor so we can use the same <code>Adapter</code> even if the items are supposed to be displayed in a different order.</p>\n\n<p>Now we are almost done! But we first need a way to add or remove items to the <code>Adapter</code>. For this purpose we can add methods to the <code>Adapter</code> which allow us to add and remove items to the <code>SortedList</code>:</p>\n\n<pre><code>public void add(ExampleModel model) {\n    mSortedList.add(model);\n}\n\npublic void remove(ExampleModel model) {\n    mSortedList.remove(model);\n}\n\npublic void add(List&lt;ExampleModel&gt; models) {\n    mSortedList.addAll(models);\n}\n\npublic void remove(List&lt;ExampleModel&gt; models) {\n    mSortedList.beginBatchedUpdates();\n    for (ExampleModel model : models) {\n        mSortedList.remove(model);\n    }\n    mSortedList.endBatchedUpdates();\n}\n</code></pre>\n\n<p>We don't need to call any notify methods here because the <code>SortedList</code> already does this for through the <code>SortedList.Callback</code>! Aside from that the implementation of these methods is pretty straight forward with one exception: the remove method which removes a <code>List</code> of models. Since the <code>SortedList</code> has only one remove method which can remove a single object we need to loop over the list and remove the models one by one. Calling <code>beginBatchedUpdates()</code> at the beginning batches all the changes we are going to make to the <code>SortedList</code> together and improves performance. When we call <code>endBatchedUpdates()</code> the <code>RecyclerView</code> is notified about all the changes at once. </p>\n\n<p>Additionally what you have to understand is that if you add an object to the <code>SortedList</code> and it is already in the <code>SortedList</code> it won't be added again. Instead the <code>SortedList</code> uses the <code>areContentsTheSame()</code> method to figure out if the object has changed - and if it has the item in the <code>RecyclerView</code> will be updated.</p>\n\n<p>Anyway, what I usually prefer is one method which allows me to replace all items in the <code>RecyclerView</code> at once. Remove everything which is not in the <code>List</code> and add all items which are missing from the <code>SortedList</code>:</p>\n\n<pre><code>public void replaceAll(List&lt;ExampleModel&gt; models) {\n    mSortedList.beginBatchedUpdates();\n    for (int i = mSortedList.size() - 1; i &gt;= 0; i--) {\n        final ExampleModel model = mSortedList.get(i);\n        if (!models.contains(model)) {\n            mSortedList.remove(model);\n        }\n    }\n    mSortedList.addAll(models);\n    mSortedList.endBatchedUpdates();\n}\n</code></pre>\n\n<p>This method again batches all updates together to increase performance. The first loop is in reverse since removing an item at the start would mess up the indexes of all items that come up after it and this can lead in some instances to problems like data inconsistencies. After that we just add the <code>List</code> to the <code>SortedList</code> using <code>addAll()</code> to add all items which are not already in the <code>SortedList</code> and - just like I described above - update all items that are already in the <code>SortedList</code> but have changed.</p>\n\n<p>And with that the <code>Adapter</code> is complete. The whole thing should look something like this:</p>\n\n<pre><code>public class ExampleAdapter extends RecyclerView.Adapter&lt;ExampleViewHolder&gt; {\n\n    private final SortedList&lt;ExampleModel&gt; mSortedList = new SortedList&lt;&gt;(ExampleModel.class, new SortedList.Callback&lt;ExampleModel&gt;() {\n        @Override\n        public int compare(ExampleModel a, ExampleModel b) {\n            return mComparator.compare(a, b);\n        }\n\n        @Override\n        public void onInserted(int position, int count) {\n            notifyItemRangeInserted(position, count);\n        }\n\n        @Override\n        public void onRemoved(int position, int count) {\n            notifyItemRangeRemoved(position, count);\n        }\n\n        @Override\n        public void onMoved(int fromPosition, int toPosition) {\n            notifyItemMoved(fromPosition, toPosition);\n        }\n\n        @Override\n        public void onChanged(int position, int count) {\n            notifyItemRangeChanged(position, count);\n        }\n\n        @Override\n        public boolean areContentsTheSame(ExampleModel oldItem, ExampleModel newItem) {\n            return oldItem.equals(newItem);\n        }\n\n        @Override\n        public boolean areItemsTheSame(ExampleModel item1, ExampleModel item2) {\n            return item1 == item2;\n        }\n    });\n\n    private final Comparator&lt;ExampleModel&gt; mComparator;\n    private final LayoutInflater mInflater;\n\n    public ExampleAdapter(Context context, Comparator&lt;ExampleModel&gt; comparator) {\n        mInflater = LayoutInflater.from(context);\n        mComparator = comparator;\n    }\n\n    @Override\n    public ExampleViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        final ItemExampleBinding binding = ItemExampleBinding.inflate(mInflater, parent, false);\n        return new ExampleViewHolder(binding);\n    }\n\n    @Override\n    public void onBindViewHolder(ExampleViewHolder holder, int position) {\n        final ExampleModel model = mSortedList.get(position);\n        holder.bind(model);\n    }\n\n    public void add(ExampleModel model) {\n        mSortedList.add(model);\n    }\n\n    public void remove(ExampleModel model) {\n        mSortedList.remove(model);\n    }\n\n    public void add(List&lt;ExampleModel&gt; models) {\n        mSortedList.addAll(models);\n    }\n\n    public void remove(List&lt;ExampleModel&gt; models) {\n        mSortedList.beginBatchedUpdates();\n        for (ExampleModel model : models) {\n            mSortedList.remove(model);\n        }\n        mSortedList.endBatchedUpdates();\n    }\n\n    public void replaceAll(List&lt;ExampleModel&gt; models) {\n        mSortedList.beginBatchedUpdates();\n        for (int i = mSortedList.size() - 1; i &gt;= 0; i--) {\n            final ExampleModel model = mSortedList.get(i);\n            if (!models.contains(model)) {\n                mSortedList.remove(model);\n            }\n        }\n        mSortedList.addAll(models);\n        mSortedList.endBatchedUpdates();\n    }\n\n    @Override\n    public int getItemCount() {\n        return mSortedList.size();\n    }\n}\n</code></pre>\n\n<p>The only thing missing now is to implement the filtering!</p>\n\n<hr>\n\n<h1>Implementing the filter logic</h1>\n\n<p>To implement the filter logic we first have to define a <code>List</code> of all possible models. For this example I create a <code>List</code> of <code>ExampleModel</code> instances from an array of movies:</p>\n\n<pre><code>private static final String[] MOVIES = new String[]{\n        ...\n};\n\nprivate static final Comparator&lt;ExampleModel&gt; ALPHABETICAL_COMPARATOR = new Comparator&lt;ExampleModel&gt;() {\n    @Override\n    public int compare(ExampleModel a, ExampleModel b) {\n        return a.getText().compareTo(b.getText());\n    }\n};\n\nprivate ExampleAdapter mAdapter;\nprivate List&lt;ExampleModel&gt; mModels;\nprivate RecyclerView mRecyclerView;\n\n    @Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    mBinding = DataBindingUtil.setContentView(this, R.layout.activity_main);\n\n    mAdapter = new ExampleAdapter(this, ALPHABETICAL_COMPARATOR);\n\n    mBinding.recyclerView.setLayoutManager(new LinearLayoutManager(this));\n    mBinding.recyclerView.setAdapter(mAdapter);\n\n    mModels = new ArrayList&lt;&gt;();\n    for (String movie : MOVIES) {\n        mModels.add(new ExampleModel(movie));\n    }\n    mAdapter.add(mModels);\n}\n</code></pre>\n\n<p>Nothing special going on here, we just instantiate the <code>Adapter</code> and set it to the <code>RecyclerView</code>. After that we create a <code>List</code> of models from the movie names in the <code>MOVIES</code> array. Then we add all the models to the <code>SortedList</code>.</p>\n\n<p>Now we can go back to <code>onQueryTextChange()</code> which we defined earlier and start implementing the filter logic:</p>\n\n<pre><code>@Override\npublic boolean onQueryTextChange(String query) {\n    final List&lt;ExampleModel&gt; filteredModelList = filter(mModels, query);\n    mAdapter.replaceAll(filteredModelList);\n    mBinding.recyclerView.scrollToPosition(0);\n    return true;\n}\n</code></pre>\n\n<p>This is again pretty straight forward. We call the method <code>filter()</code> and pass in the <code>List</code> of <code>ExampleModel</code>s as well as the query string. We then call <code>replaceAll()</code> on the <code>Adapter</code> and pass in the filtered <code>List</code> returned by <code>filter()</code>. We also have to call <code>scrollToPosition(0)</code> on the <code>RecyclerView</code> to ensure that the user can always see all items when searching for something. Otherwise the <code>RecyclerView</code> might stay in a scrolled down position while filtering and subsequently hide a few items. Scrolling to the top ensures a better user experience while searching.</p>\n\n<p>The only thing left to do now is to implement <code>filter()</code> itself:</p>\n\n<pre><code>private static List&lt;ExampleModel&gt; filter(List&lt;ExampleModel&gt; models, String query) {\n    final String lowerCaseQuery = query.toLowerCase();\n\n    final List&lt;ExampleModel&gt; filteredModelList = new ArrayList&lt;&gt;();\n    for (ExampleModel model : models) {\n        final String text = model.getText().toLowerCase();\n        if (text.contains(lowerCaseQuery)) {\n            filteredModelList.add(model);\n        }\n    }\n    return filteredModelList;\n}\n</code></pre>\n\n<p>The first thing we do here is call <code>toLowerCase()</code> on the query string. We don't want our search function to be case sensitive and by calling <code>toLowerCase()</code> on all strings we compare we can ensure that we return the same results regardless of case. It then just iterates through all the models in the <code>List</code> we passed into it and checks if the query string is contained in the text of the model. If it is then the model is added to the filtered <code>List</code>.</p>\n\n<p>And that's it! The above code will run on API level 7 and above and starting with API level 11 you get item animations for free! </p>\n\n<p>I realize that this is a very detailed description which probably makes this whole thing seem more complicated than it really is, but there is a way we can generalize this whole problem and make implementing an <code>Adapter</code> based on a <code>SortedList</code> much simpler.</p>\n\n<hr>\n\n<h1>Generalizing the problem and simplifying the Adapter</h1>\n\n<p>In this section I am not going to go into much detail - partly because I am running up against the character limit for answers on Stack Overflow but also because most of it already explained above - but to summarize the changes: We can implemented a base <code>Adapter</code> class which already takes care of dealing with the <code>SortedList</code> as well as binding models to <code>ViewHolder</code> instances and provides a convenient way to implement an <code>Adapter</code> based on a <code>SortedList</code>. For that we have to do two things:</p>\n\n<ul>\n<li>We need to create a <code>ViewModel</code> interface which all model classes have to implement</li>\n<li>We need to create a <code>ViewHolder</code> subclass which defines a <code>bind()</code> method the <code>Adapter</code> can use to bind models automatically.</li>\n</ul>\n\n<p>This allows us to just focus on the content which is supposed to be displayed in the <code>RecyclerView</code> by just implementing the models and there corresponding <code>ViewHolder</code> implementations. Using this base class we don't have to worry about the intricate details of the <code>Adapter</code> and its <code>SortedList</code>. </p>\n\n<h3>SortedListAdapter</h3>\n\n<p>Because of the character limit for answers on StackOverflow I can't go through each step of implementing this base class or even add the full source code here, but you can find the full source code of this base class - I called it <code>SortedListAdapter</code> - in this <a href=\"https://gist.github.com/Wrdlbrnft/1b6233e99c6b7d54c204e61c1c9c0bf3\"><strong>GitHub Gist</strong></a>.</p>\n\n<p>To make your life simple I have published a library on jCenter which contains the <code>SortedListAdapter</code>! If you want to use it then all you need to do is add this dependency to your app's build.gradle file:</p>\n\n<pre><code>compile 'com.github.wrdlbrnft:sorted-list-adapter:0.2.0.1'\n</code></pre>\n\n<p>You can find more information about this library <a href=\"https://wrdlbrnft.github.io/SortedListAdapter/\"><strong>on the library homepage</strong></a>. </p>\n\n<h3>Using the SortedListAdapter</h3>\n\n<p>To use the <code>SortedListAdapter</code> we have to make two changes:</p>\n\n<ul>\n<li><p>Change the <code>ViewHolder</code> so that it extends <code>SortedListAdapter.ViewHolder</code>. The type parameter should be the model which should be bound to this <code>ViewHolder</code> - in this case <code>ExampleModel</code>. You have to bind data to your models in <code>performBind()</code> instead of <code>bind()</code>.</p>\n\n<pre><code>public class ExampleViewHolder extends SortedListAdapter.ViewHolder&lt;ExampleModel&gt; {\n\n    private final ItemExampleBinding mBinding;\n\n    public ExampleViewHolder(ItemExampleBinding binding) {\n        super(binding.getRoot());\n        mBinding = binding;\n    }\n\n    @Override\n    protected void performBind(ExampleModel item) {\n        mBinding.setModel(item);\n    }\n}\n</code></pre></li>\n<li><p>Make sure that all your models implement the <code>ViewModel</code> interface:</p>\n\n<pre><code>public class ExampleModel implements SortedListAdapter.ViewModel {\n    ...\n}\n</code></pre></li>\n</ul>\n\n<p>After that we just have to update the <code>ExampleAdapter</code> to extend <code>SortedListAdapter</code> and remove everything we don't need anymore. The type parameter should be the type of model you are working with - in this case <code>ExampleModel</code>. But if you are working with different types of models then set the type parameter to <code>ViewModel</code>.</p>\n\n<pre><code>public class ExampleAdapter extends SortedListAdapter&lt;ExampleModel&gt; {\n\n    public ExampleAdapter(Context context, Comparator&lt;ExampleModel&gt; comparator) {\n        super(context, ExampleModel.class, comparator);\n    }\n\n    @Override\n    protected ViewHolder&lt;? extends ExampleModel&gt; onCreateViewHolder(LayoutInflater inflater, ViewGroup parent, int viewType) {\n        final ItemExampleBinding binding = ItemExampleBinding.inflate(inflater, parent, false);\n        return new ExampleViewHolder(binding);\n    }\n\n    @Override\n    protected boolean areItemsTheSame(ExampleModel item1, ExampleModel item2) {\n        return item1.getId() == item2.getId();\n    }\n\n    @Override\n    protected boolean areItemContentsTheSame(ExampleModel oldItem, ExampleModel newItem) {\n        return oldItem.equals(newItem);\n    }\n}\n</code></pre>\n\n<p>After that we are done! However one last thing to mention: The <code>SortedListAdapter</code> does not have the same <code>add()</code>, <code>remove()</code> or <code>replaceAll()</code> methods our original <code>ExampleAdapter</code> had. It uses a separate <code>Editor</code> object to modify the items in the list which can be accessed through the <code>edit()</code> method. So if you want to remove or add items you have to call <code>edit()</code> then add and remove the items on this <code>Editor</code> instance and once you are done, call <code>commit()</code> on it to apply the changes to the <code>SortedList</code>:</p>\n\n<pre><code>mAdapter.edit()\n        .remove(modelToRemove)\n        .add(listOfModelsToAdd)\n        .commit();\n</code></pre>\n\n<p>All changes you make this way are batched together to increase performance. The <code>replaceAll()</code> method we implemented in the chapters above is also present on this <code>Editor</code> object:</p>\n\n<pre><code>mAdapter.edit()\n        .replaceAll(mModels)\n        .commit();\n</code></pre>\n\n<p>If you forget to call <code>commit()</code> then none of your changes will be applied!</p>\n", "title": "How to filter a RecyclerView with a SearchView", "answer_id": 30429439, "link": "http://stackoverflow.com/questions/30398247/how-to-filter-a-recyclerview-with-a-searchview/30429439#30429439", "tags": ["android", "recyclerview", "android-recyclerview", "searchview", "android-filterable"]}, {"body": "<p>I have solved the same problem using the link with some modifications in it. <a href=\"https://stackoverflow.com/questions/29792187/search-filter-on-recyclerview-with-cards-is-it-even-possible/29792313#29792313\">Search filter on RecyclerView with Cards. Is it even possible?</a> (hope this helps).</p>\n\n<p>Here is my adapter class</p>\n\n<pre><code>public class ContactListRecyclerAdapter extends RecyclerView.Adapter&lt;ContactListRecyclerAdapter.ContactViewHolder&gt; implements Filterable {\n\nContext mContext;\nArrayList&lt;Contact&gt; customerList;\nArrayList&lt;Contact&gt; parentCustomerList;\n\n\npublic ContactListRecyclerAdapter(Context context,ArrayList&lt;Contact&gt; customerList)\n{\n    this.mContext=context;\n    this.customerList=customerList;\n    if(customerList!=null)\n    parentCustomerList=new ArrayList&lt;&gt;(customerList);\n}\n\n   // other overrided methods\n\n@Override\npublic Filter getFilter() {\n    return new FilterCustomerSearch(this,parentCustomerList);\n}\n}\n</code></pre>\n\n<p>//Filter class</p>\n\n<pre><code>import android.widget.Filter;\nimport java.util.ArrayList;\n\n\npublic class FilterCustomerSearch extends Filter\n{\nprivate final ContactListRecyclerAdapter mAdapter;\nArrayList&lt;Contact&gt; contactList;\nArrayList&lt;Contact&gt; filteredList;\n\npublic FilterCustomerSearch(ContactListRecyclerAdapter mAdapter,ArrayList&lt;Contact&gt; contactList) {\n    this.mAdapter = mAdapter;\n    this.contactList=contactList;\n    filteredList=new ArrayList&lt;&gt;();\n}\n\n@Override\nprotected FilterResults performFiltering(CharSequence constraint) {\n    filteredList.clear();\n    final FilterResults results = new FilterResults();\n\n    if (constraint.length() == 0) {\n        filteredList.addAll(contactList);\n    } else {\n        final String filterPattern = constraint.toString().toLowerCase().trim();\n\n        for (final Contact contact : contactList) {\n            if (contact.customerName.contains(constraint)) {\n                filteredList.add(contact);\n            }\n            else if (contact.emailId.contains(constraint))\n            {\n                filteredList.add(contact);\n\n            }\n            else if(contact.phoneNumber.contains(constraint))\n                filteredList.add(contact);\n        }\n    }\n    results.values = filteredList;\n    results.count = filteredList.size();\n    return results;\n}\n\n@Override\nprotected void publishResults(CharSequence constraint, FilterResults results) {\n    mAdapter.customerList.clear();\n    mAdapter.customerList.addAll((ArrayList&lt;Contact&gt;) results.values);\n    mAdapter.notifyDataSetChanged();\n}\n</code></pre>\n\n<p>}</p>\n\n<p>//Activity class</p>\n\n<pre><code>public class HomeCrossFadeActivity extends AppCompatActivity implements View.OnClickListener,OnFragmentInteractionListener,OnTaskCompletedListner\n{\nFragment fragment;\n protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_homecrossfadeslidingpane2);CardView mCard;\n   setContentView(R.layout.your_main_xml);}\n   //other overrided methods\n  @Override\n   public boolean onCreateOptionsMenu(Menu menu) {\n    // Inflate the menu; this adds items to the action bar if it is present.\n\n    MenuInflater inflater = getMenuInflater();\n    // Inflate menu to add items to action bar if it is present.\n    inflater.inflate(R.menu.menu_customer_view_and_search, menu);\n    // Associate searchable configuration with the SearchView\n    SearchManager searchManager =\n            (SearchManager) getSystemService(Context.SEARCH_SERVICE);\n    SearchView searchView =\n            (SearchView) menu.findItem(R.id.menu_search).getActionView();\n    searchView.setQueryHint(\"Search Customer\");\n    searchView.setSearchableInfo(\n            searchManager.getSearchableInfo(getComponentName()));\n\n    searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n        @Override\n        public boolean onQueryTextSubmit(String query) {\n            return false;\n        }\n\n        @Override\n        public boolean onQueryTextChange(String newText) {\n            if(fragment instanceof CustomerDetailsViewWithModifyAndSearch)\n                ((CustomerDetailsViewWithModifyAndSearch)fragment).adapter.getFilter().filter(newText);\n            return false;\n        }\n    });\n\n\n\n    return true;\n}\n}\n</code></pre>\n\n<p>In OnQueryTextChangeListener() method use your adapter. I have casted it to fragment as my adpter is in fragment. You can use the adapter directly if its in your activity class.</p>\n", "title": "How to filter a RecyclerView with a SearchView", "answer_id": 31317848, "link": "http://stackoverflow.com/questions/30398247/how-to-filter-a-recyclerview-with-a-searchview/31317848#31317848", "tags": ["android", "recyclerview", "android-recyclerview", "searchview", "android-filterable"]}, {"body": "<p>All you need to do is to add <code>filter</code> method in <code>RecyclerView.Adapter</code>:</p>\n\n<pre><code>public void filter(String text) {\n    items.clear();\n    if(text.isEmpty()){\n        items.addAll(itemsCopy);\n    } else{\n        text = text.toLowerCase();\n        for(PhoneBookItem item: itemsCopy){\n            if(item.name.toLowerCase().contains(text) || item.phone.toLowerCase().contains(text)){\n                items.add(item);\n            }\n        }\n    }\n    notifyDataSetChanged();\n}\n</code></pre>\n\n<p><code>itemsCopy</code> is initialized in adapter's constructor like <code>itemsCopy.addAll(items)</code>. </p>\n\n<p>If you do so, just call <code>filter</code> from <code>OnQueryTextListener</code>:</p>\n\n<pre><code>searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n    @Override\n    public boolean onQueryTextSubmit(String query) {\n        adapter.filter(query);\n        return true;\n    }\n\n    @Override\n    public boolean onQueryTextChange(String newText) {\n        adapter.filter(newText);\n        return true;\n    }\n});\n</code></pre>\n\n<p>It's an example from filtering my phonebook by name and phone number.</p>\n", "title": "How to filter a RecyclerView with a SearchView", "answer_id": 37562572, "link": "http://stackoverflow.com/questions/30398247/how-to-filter-a-recyclerview-with-a-searchview/37562572#37562572", "tags": ["android", "recyclerview", "android-recyclerview", "searchview", "android-filterable"]}, {"body": "<p>Following @Shruthi Kamoji in a more clean way, we can just use filterable, its meant for that:</p>\n\n<pre><code>public abstract class GenericRecycleAdapter&lt;E&gt; extends RecyclerView.Adapter implements Filterable\n{\n  protected List&lt;E&gt; list;\n  protected List&lt;E&gt; originalList;\n  protected Context context;\n\n  public GenericRecycleAdapter(Context context,\n                             List&lt;E&gt; list)\n  {\n    this.originalList = list;\n    this.list = list;\n    this.context = context;\n  }\n\n...\n\n@Override\npublic Filter getFilter() {\n    return new Filter() {\n        @SuppressWarnings(\"unchecked\")\n        @Override\n        protected void publishResults(CharSequence constraint, FilterResults results) {\n            list = (List&lt;E&gt;) results.values;\n            GenericRecycleAdapter.this.notifyDataSetChanged();\n        }\n\n        @Override\n        protected FilterResults performFiltering(CharSequence constraint) {\n            List&lt;E&gt; filteredResults = null;\n            if (constraint.length() == 0) {\n                filteredResults = originalList;\n            } else {\n                filteredResults = getFilteredResults(constraint.toString().toLowerCase());\n            }\n\n            FilterResults results = new FilterResults();\n            results.values = filteredResults;\n\n            return results;\n        }\n    };\n}\n\n  protected List&lt;E&gt; getFilteredResults(String constraint) {\n     List&lt;E&gt; results = new ArrayList&lt;&gt;();\n\n      for (E item : originalList) {\n          if (item.getName().toLowerCase().contains(constraint)) {\n              results.add(item);\n          }\n      }\n      return results;\n }\n\n\n} \n</code></pre>\n\n<p>The E here is a Generic Type, you can exentend it using you class:</p>\n\n<pre><code>public class customerAdapter extends GenericRecycleAdapter&lt;CustomerModel&gt;\n</code></pre>\n\n<p>Or just change the E to the type you want (CustomerModel for example)</p>\n\n<p>Them from searchView (the widget you can put on menu.xml):</p>\n\n<pre><code> searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n    @Override\n    public boolean onQueryTextSubmit(String text) {\n        return false;\n    }\n\n    @Override\n    public boolean onQueryTextChange(String text) {\n        yourAdapter.getFilter().filter(text);\n        return true;\n    }\n});\n</code></pre>\n", "title": "How to filter a RecyclerView with a SearchView", "answer_id": 37735562, "link": "http://stackoverflow.com/questions/30398247/how-to-filter-a-recyclerview-with-a-searchview/37735562#37735562", "tags": ["android", "recyclerview", "android-recyclerview", "searchview", "android-filterable"]}, {"body": "<p>I recommend modify the solution of @Xaver Kapeller with 2 things below to avoid a problem after you cleared the searched text (the filter didn't work anymore) due to the list back of adapter has smaller size than filter list and the IndexOutOfBoundsException happened. So the code need to modify as below</p>\n\n<pre><code>public void addItem(int position, ExampleModel model) {\n    if(position &gt;= mModel.size()) {\n        mModel.add(model);\n        notifyItemInserted(mModel.size()-1);\n    } else {\n        mModels.add(position, model);\n        notifyItemInserted(position);\n    }\n}\n</code></pre>\n\n<p>And modify also in moveItem functionality</p>\n\n<pre><code>public void moveItem(int fromPosition, int toPosition) {\n    final ExampleModel model = mModels.remove(fromPosition);\n    if(toPosition &gt;= mModels.size()) {\n        mModels.add(model);\n        notifyItemMoved(fromPosition, mModels.size()-1);\n    } else {\n        mModels.add(toPosition, model);\n        notifyItemMoved(fromPosition, toPosition); \n    }\n}\n</code></pre>\n\n<p>Hope that It could help you!</p>\n", "title": "How to filter a RecyclerView with a SearchView", "answer_id": 38883096, "link": "http://stackoverflow.com/questions/30398247/how-to-filter-a-recyclerview-with-a-searchview/38883096#38883096", "tags": ["android", "recyclerview", "android-recyclerview", "searchview", "android-filterable"]}], "question_id": 30398247}, {"body": "<p>I recently upgraded from Eclipse to Android Studio and I'm not really liking the experience. I'm comparing them both on a <strong>Windows 7 64 bit ultimate</strong> with <strong>16GB</strong> of ram and <strong>Intel i7 4770</strong> running NVidia Geforce 780 with the latest NVidia drivers if it matters and I'm running the latest JDK and the latest Android Studio.</p>\n\n<p>The Android Studio is very slow in building the project which I can live with but it's also extremely resource intensive and sometimes slows down the PC to a crawl. </p>\n\n<p>Whenever I'm building or running anything in AS, my PC seems to become extremely sluggish. It also causes flickering of screen and occasionally blanking my second monitor if I click on \"Gradle build running\" spinner which I find very odd. The RAM usage also shoots up to ~3GB which I find excessive for doing nothing (this is when it's idle after a few builds).</p>\n\n<p>In addition, the panels at the bottom of AS keep jumping around which is a horrible user experience (moves from <code>Android</code> to <code>Messages</code> to <code>Version Control</code> or anything else on an ad-hoc basis depending on what's happening which is very, very annoying).</p>\n\n<p>What I would like to know is basically:</p>\n\n<p>1) How do I make Android Studio run better? I may be doing something wrong or missing some updates that I'm not aware of and I'm sure others have also noticed these behaviors and have found some solutions to it.</p>\n\n<p>2) How do I \"pin\" the bottom panels so that they don't jump around and instead, let me, the user, navigate to them when I wish to instead of automatically switching them?</p>\n\n<p>Many thanks and my apologies again if it's not the correct place for these questions.</p>\n\n<p><strong>Edit 1</strong>\nSome more comments:</p>\n\n<ul>\n<li>I'm using the latest <code>stable</code> build as of today. The build is <code>Android Studio 1.2.2 Build # AI-141.1980579, Build on June 3, 2015</code></li>\n<li>The behavior happens when using either Java 7 or 8. It doesn't appear to be related to the version of Java.</li>\n<li>I am not using Presentation Mode. Just the vanilla view.</li>\n<li>Doing the changes to the build configuration (thanks to @Blackbelt and his answer) appears to have helped with the build but the other problems with sluggishness and general user experience remain.</li>\n</ul>\n", "title": "Android Studio is too slow", "tags": ["android", "android-studio"], "answer_count": 22, "link": "http://stackoverflow.com/questions/30817871/android-studio-is-too-slow", "answers": [{"body": "<p>Check the AndroidStudio's settings, under compile that the checkbox </p>\n\n<p><code>Compile independent modules in parallel</code> is enabled.</p>\n\n<p>Under Vmoptions I have</p>\n\n<pre><code>-Xmx2048m -XX:MaxPermSize=1024\n</code></pre>\n\n<p>I have an old dual core with 4GB ram, running ubuntu. Qs commandline option I have only <code>--offline</code> , which specifies that the build should operate without accessing network resources. I enabled also the remaining checkboxes:</p>\n\n<ol>\n<li>Make project automatically</li>\n<li>Use in-process building </li>\n<li><p>Configure on demand</p>\n\n<p>and it is running ok</p></li>\n</ol>\n\n<p><strong>Edit</strong></p>\n\n<p>It is possible to provide additional options through <code>studio.vmoptions</code>, whose location is</p>\n\n<ul>\n<li><p>Windows:</p>\n\n<p>%USERPROFILE%.{FOLDER_NAME}\\studio.exe.vmoptions and/or %USERPROFILE%.{FOLDER_NAME}\\studio64.exe.vmoptions</p></li>\n<li><p>Mac</p>\n\n<p>~/Library/Preferences/{FOLDER_NAME}/studio.vmoptions</p></li>\n<li><p>Linux</p>\n\n<p>~/.{FOLDER_NAME}/studio.vmoptions and/or ~/.{FOLDER_NAME}/studio64.vmoptions</p></li>\n</ul>\n\n<p>where <code>FOLDER_NAME</code> refers to the version of AndroidStudio you are using. E.g. For <code>AndroidStudio 1.3.x</code> is  <code>AndroidStudio1.3</code>. </p>\n\n<p>Increasing the value of <code>-Xmx</code> should help a lot. E.g</p>\n\n<pre><code>-Xms1024m\n-Xmx4096m\n-XX:MaxPermSize=1024m\n-XX:ReservedCodeCacheSize=256m\n-XX:+UseCompressedOops\n</code></pre>\n\n<p>will assign 4G as max heap, with initial value of 1G</p>\n", "title": "Android Studio is too slow", "answer_id": 30818099, "link": "http://stackoverflow.com/questions/30817871/android-studio-is-too-slow/30818099#30818099", "tags": ["android", "android-studio"]}, {"body": "<p>Tips to make android studio fast:</p>\n\n<p><strong>Enable Offline Work:</strong></p>\n\n<ol>\n<li>Click File -> Settings. Search for \"gradle\" and click in <code>Offline work</code> box.</li>\n<li>Go to Compiler (in same settings dialog just below <code>Gradle</code>) and add <code>--offline</code> to <code>Command-line Options</code> text box.</li>\n</ol>\n\n<p><strong>Improve Gradle Performance</strong></p>\n\n<p>Add following two line of code in your gradle.properties file.</p>\n\n<pre><code>org.gradle.daemon=true\norg.gradle.parallel=true\n</code></pre>\n\n<p>For More: <a href=\"http://www.viralandroid.com/2015/08/how-to-make-android-studio-fast.html\">http://www.viralandroid.com/2015/08/how-to-make-android-studio-fast.html</a></p>\n", "title": "Android Studio is too slow", "answer_id": 32366177, "link": "http://stackoverflow.com/questions/30817871/android-studio-is-too-slow/32366177#32366177", "tags": ["android", "android-studio"]}, {"body": "<p>It's not compiling that's hurting me here, it's the typing. I could disable all the smart features and be back to notepad++ like <a href=\"http://stackoverflow.com/users/2979161/tomtsagk\">TomTsagk</a> suggested in a comment. For today I need more cores and RAM.</p>\n\n<p>Playing devil's advocate I'd argue that typing shouldn't require a 16Gb PC octacore PC. Liked Sajan Rana's advice but things are so slow here it felt mostly a placebo.</p>\n\n<p>To be fair I am using 1.4RC1, which is just short of being in the stable branch. Turning the internet off helped a little. The new feature of simultaneous Design (Preview) and Text views working with XML layouts is very helpful.</p>\n\n<p>No, it is ridiculous. Never leave the stable channel.</p>\n", "title": "Android Studio is too slow", "answer_id": 32764358, "link": "http://stackoverflow.com/questions/30817871/android-studio-is-too-slow/32764358#32764358", "tags": ["android", "android-studio"]}, {"body": "<p>Just for anyone looking, after upgrading to El Capitan, I noticed a huge lag with the IDE. After increasing a ton of RAM and using the suggestions above, it turned out that I needed to update the legacy Java, and reinstall via: <a href=\"https://support.apple.com/kb/DL1572?locale=en_US\" rel=\"nofollow\">https://support.apple.com/kb/DL1572?locale=en_US</a></p>\n\n<p>After installing this, all lag was gone.</p>\n", "title": "Android Studio is too slow", "answer_id": 33225745, "link": "http://stackoverflow.com/questions/30817871/android-studio-is-too-slow/33225745#33225745", "tags": ["android", "android-studio"]}, {"body": "<p>Even i do have core i5 machine and 4GB RAM, i do face the same issue. On clean and rebuild the project gradle build system downloads the files jar/lib fresh files from internet. You need to disable this option available in settings of your Android studio. This will re-use the cached lib/jar files. Also the speed of Android studio depends on speed of your hard disk also. <a href=\"http://www.feelzdroid.com/2015/10/android-studio-gradle-build-speed-very-slow.html\" rel=\"nofollow\">Here is detailed blog-post</a> on how to improve too slow Android studio.</p>\n", "title": "Android Studio is too slow", "answer_id": 33321285, "link": "http://stackoverflow.com/questions/30817871/android-studio-is-too-slow/33321285#33321285", "tags": ["android", "android-studio"]}, {"body": "<p>Please add in setting.gradle (root folder)</p>\n\n<pre><code>startParameter.offline=true\n</code></pre>\n", "title": "Android Studio is too slow", "answer_id": 33672375, "link": "http://stackoverflow.com/questions/30817871/android-studio-is-too-slow/33672375#33672375", "tags": ["android", "android-studio"]}, {"body": "<p>Okay. I will agree that every answer written above will somehow help the cause. I am one of those who is on the same boat. With nothing working my way, and Android Studio refusing to build on the Offline mode due to the associated dependencies, I did something that eased my problem within minutes.</p>\n\n<p>Every time I build the gradle, I turn off my internet. ( Notice that the Offline mode is not checked). I don't know how and why but this works.</p>\n", "title": "Android Studio is too slow", "answer_id": 33787447, "link": "http://stackoverflow.com/questions/30817871/android-studio-is-too-slow/33787447#33787447", "tags": ["android", "android-studio"]}, {"body": "<p>I detected another reason for very bad performance:</p>\n\n<p><strong>Thumbs.db</strong></p>\n\n<p>I had some folders in res with Thumbs.db files automatically created by Windows. </p>\n\n<p>After putting \"Thumbs.db\" into the input field \"<em>Ignore files and folders</em>\" at the bottom of \"<em>File -> Settings ... -> Editor -> File Types</em>\" Android Studio runs like a charm.</p>\n", "title": "Android Studio is too slow", "answer_id": 35153254, "link": "http://stackoverflow.com/questions/30817871/android-studio-is-too-slow/35153254#35153254", "tags": ["android", "android-studio"]}, {"body": "<p>Well, one thing that worked for me is using physical android device instead of emulator. As in my PC( i5 and 4GB RAM ) the android studio takes about 700MB of memory and the emulator takes another 700. Thus the whole performance of the computer goes down. Working with a physical device saves the strain from the emulator.</p>\n", "title": "Android Studio is too slow", "answer_id": 36248856, "link": "http://stackoverflow.com/questions/30817871/android-studio-is-too-slow/36248856#36248856", "tags": ["android", "android-studio"]}, {"body": "<p>I had the same problem.</p>\n\n<p>I found Android Studio to be very slow on simple apps. So how can I expect it to work on big projects?!</p>\n\n<p>I had the same problem on 01/2/2016, using the latest version of Android Studio which was 1.5.</p>\n\n<p>My system had:  </p>\n\n<ol>\n<li><p>Core i7 cpu.</p></li>\n<li><p>12G memory.</p></li>\n<li><p>4G graphic AMD graphics radeon r5 m230</p></li>\n</ol>\n\n<p>And also I was using the latest versions of all JDK, SDK etc.\nFor me the Android Studio was consuming a lot of resources and making my computer unusable! So what I did was a clean deletion of Android Studio and installing ECLIPSE!\nTrust me now my PC is working with a speed of Lamborghini! \nI hope google fixes its speed. It's a GOOD IDE but it uses too many resources so its slow. </p>\n", "title": "Android Studio is too slow", "answer_id": 36252025, "link": "http://stackoverflow.com/questions/30817871/android-studio-is-too-slow/36252025#36252025", "tags": ["android", "android-studio"]}, {"body": "<p>I found another way! \nIn every project you are creating, there is a file called <code>build.gradle</code> (projects: your project);\nOpen this file and change the both <code>jcenter</code> to <code>mavenCentral</code>. This worked for me!</p>\n", "title": "Android Studio is too slow", "answer_id": 36827015, "link": "http://stackoverflow.com/questions/30817871/android-studio-is-too-slow/36827015#36827015", "tags": ["android", "android-studio"]}, {"body": "<p>You can increase available memory for gradle also (1024m or more). More details about improvements read <a href=\"http://stackoverflow.com/a/30450007/2564994\">this</a> post. Some 'cutoff' here:</p>\n\n<blockquote>\n  <ol>\n  <li>Open the <code>gradle.properties</code> file, creating it if it doesn't exist:  * Windows: <code>%USERPROFILE%\\.gradle\\gradle.properties</code>  * Linux/Mac: <code>~/.gradle/gradle.properties</code></li>\n  <li><p>Update the <code>org.gradle.jvmargs</code> property, creating it if necessary. I set mine to this:</p>\n\n<pre><code>org.gradle.jvmargs=-Xmx1024m -XX:MaxPermSize=256m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8\n</code></pre></li>\n  </ol>\n</blockquote>\n\n<p>SSD usage is also recommended. Check that project and repository caches (<code>~/.gradle/</code>, <code>~/.m2/repository</code> if you use maven repository) is placed on SSD too. Yes, it reduces some SSD resource, but speed up development as rocket ('SSD for you', not 'you for SSD').</p>\n", "title": "Android Studio is too slow", "answer_id": 37692916, "link": "http://stackoverflow.com/questions/30817871/android-studio-is-too-slow/37692916#37692916", "tags": ["android", "android-studio"]}, {"body": "<p>For Android Studio 1.3 : (Method 1)</p>\n\n<p>Step 1 : Open <strong>gradle.properties</strong> file in your Android Studio project.</p>\n\n<p>Step 2 : Add this line at the end of the file</p>\n\n<pre><code>org.gradle.jvmargs=-XX\\:MaxHeapSize\\=256m -Xmx256m\n</code></pre>\n\n<p>Above methods seems to work but if in case it won't then do this (Method 2)</p>\n\n<p>Step 1 : Start Android studio and close any open project (<strong>File > Close Project</strong>).</p>\n\n<p>Step 2 : On Welcome window, Go to <strong>Configure > Settings</strong>.</p>\n\n<p>Step 3 : Go to <strong>Build, Execution, Deployment > Compiler</strong></p>\n\n<p>Step 4 : <strong>Change Build process heap size (Mbytes) to 1024</strong> and <strong>Additional build process to VM Options to -Xmx512m</strong>.</p>\n\n<p>Step 5 : Close or <strong>Restart Android Studio</strong>.</p>\n\n<p><a href=\"http://i.stack.imgur.com/tO1OH.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/tO1OH.png\" alt=\"SOLVED - Andriod Studio 1.3 Gradle Could not reserve enough space for object heap Issue\"></a></p>\n", "title": "Android Studio is too slow", "answer_id": 37782784, "link": "http://stackoverflow.com/questions/30817871/android-studio-is-too-slow/37782784#37782784", "tags": ["android", "android-studio"]}, {"body": "<p>Added more memory help me</p>\n\n<ol>\n<li>Click \"Help\"</li>\n<li>Edit Custom VM Options</li>\n<li><p>Change values below</p>\n\n<p>-Xms512m\n-Xmx2560m\n-XX:MaxPermSize=700m\n-XX:ReservedCodeCacheSize=480m\n-XX:+UseCompressedOops</p></li>\n<li><p>Restart Android Studio</p></li>\n</ol>\n\n<p><a href=\"http://i.stack.imgur.com/wr1Qw.png\" rel=\"nofollow\">Android Studio 2.1.2 Edit Custom VM Options</a></p>\n", "title": "Android Studio is too slow", "answer_id": 37937367, "link": "http://stackoverflow.com/questions/30817871/android-studio-is-too-slow/37937367#37937367", "tags": ["android", "android-studio"]}, {"body": "<p>I would like to share my solution as my Android Studio not only slow in general use but also when building. </p>\n\n<p>My laptop sports an Intel Core i7-3612QM and 8gig of ram. When I build, all the 4 cores/8 threads are on 100% usage. My entire system freeze until the ~10 minute is done. Gradle took me like ~10 unproductive minutes of slow down. This is very annoying. I am using Android Studio since 1.4. There are also tremendous slow down when I copy paste code to and fro, selecting menus, right-click context menus, editing manifest, editing gradle files, opening layout files, rendering in the UI Editor, etc. Its is very unusable most of the time.</p>\n\n<p>Due to frustration, I uninstalled Android Studio, SDK, and even deleted the .android folder that can be found in <code>C:/Users/MyUser/.android/</code> and the subsequent folders named as <code>.AndroidStudio1.4.</code> , <code>AndroidStudio1.5</code> , <code>AndroidSTudio2.1</code>. My main goal here is to remove any trace of Android on my system, redownload the latest build of Android Studio, download the SDK and only download the system images/SDK I only need for debugging/developing. </p>\n\n<p>Its fast now. Very usable just as before. I build for only ~20 seconds compare to ~10minutes of build time. Also, Android Studio eats about 6gig with emulator and browser with lots of tab open, unlike before its hovering on 98% RAM usage. Not just that, I even saved 45 gigs of space for whatever reason. I only use couple of SDKs and Emulators when I checked the Android SDK folder, it occupies 45gig of space! I think the IDE is having a hard time accessing/IO on my SDK folder.</p>\n\n<p>If some of you have tried answers provided here and still experiencing the same issue, its time to remove Android IDE/SDKs altogether and start anew. it might take you sometime to setup your dev machine for Android but its worth it. Considering I've been suffering this sluggishness for months and cost me my productivity.</p>\n\n<p>I really guess that this might be caused by cumulative patches that has been done since then. Or the 45 gig SDK folder on my poorly defragmented drive. I don't know and I could be wrong.</p>\n\n<p>TL:DR;</p>\n\n<p>Here's what I did:</p>\n\n<ol>\n<li>Uninstall Android Studio (Don't delete, uninstall it, there is an uninstaller in the install directory, which gives you an option to delete the SDK as well).</li>\n<li>Delete Android folders located in C:\\Users\\MyUser\\ folder namely:\n<code>.android</code>, <code>AndroidStudio1.4</code> to <code>AndroidStudioX.X</code> where X is the version of the Android Studio you have installed/updated since then. (I started using AS since v1.4 so yours might be different)</li>\n<li>Uninstall the SDKs via the SDK manager, remove everything</li>\n<li>If the SDK folder still there and left some folders/files. Remove the SDK folder</li>\n<li>Download and Reinstall the latest build for Android Studio (v2.1.2 as of this writing)</li>\n<li>Install only the SDK/Emulators you need</li>\n</ol>\n\n<p>Thank you! HTH</p>\n", "title": "Android Studio is too slow", "answer_id": 37946613, "link": "http://stackoverflow.com/questions/30817871/android-studio-is-too-slow/37946613#37946613", "tags": ["android", "android-studio"]}, {"body": "<p>(Inspired by LairdPleng's comment, further information)</p>\n\n<p>Opening the idea.properties file in the Android Studio bin directory in Notepad and setting </p>\n\n<pre><code>sun.java2d.noddraw=false\n</code></pre>\n\n<p>... worked successfully for me to fix the speed issues (Windows 10 64-bit). It's absolute voodoo as far as I'm concerned (I haven't done any research on why that should work), and there is a warning above that property that it can cause blinking and fail to repaint on some graphics cards, but there you go.</p>\n", "title": "Android Studio is too slow", "answer_id": 37957824, "link": "http://stackoverflow.com/questions/30817871/android-studio-is-too-slow/37957824#37957824", "tags": ["android", "android-studio"]}, {"body": "<p>You can speed up your Eclipse or Android Studio work, you just follow these:</p>\n\n<blockquote>\n  <p>Use/open single project at a time\n      clean your project after running your app in emulator every time\n      use mobile/external device instead of emulator\n      don't close emulator after using once, use same emulator for running app each time</p>\n  \n  <p>Disable VCS by using File->Settings->Plugins and disable the following things :</p>\n</blockquote>\n\n<pre><code>1.CVS Integration\n2.Git Integration\n3.GitHub\n4.Google Cloud Tools for Android Studio\n5.Subversion Integration\n</code></pre>\n\n<p>I am also using Android Studio with 4-GB installed main memory but following these statements really boost my Android Studio performance.</p>\n", "title": "Android Studio is too slow", "answer_id": 38095575, "link": "http://stackoverflow.com/questions/30817871/android-studio-is-too-slow/38095575#38095575", "tags": ["android", "android-studio"]}, {"body": "<p>DO NOT EDIT studio.vmoptions ,It may not work.</p>\n\n<p>Add follow to gradle.properties file in app directory :</p>\n\n<pre><code>org.gradle.parallel=true\norg.gradle.jvmargs=-Xmx7g -XX:MaxPermSize=1024m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8\n</code></pre>\n", "title": "Android Studio is too slow", "answer_id": 38307709, "link": "http://stackoverflow.com/questions/30817871/android-studio-is-too-slow/38307709#38307709", "tags": ["android", "android-studio"]}, {"body": "<p>I just want to share my case:</p>\n\n<ol>\n<li>if you need play-store library, don't compile all of it, just compile library that you need. example: if you only need maps library instead of <code>compile 'com.google.android.gms:play-services:9.0.2'</code> do this <code>compile 'com.google.android.gms:play-services-maps:9.0.2'</code> on your gradle</li>\n<li>Dont use OpenJDK for the java, I use java 7 oracle and it works well. if yout need to change default java do this on linux terminal <code>sudo update-alternatives --config java</code> and pick the number</li>\n</ol>\n\n<p>I'm using ubuntu 32bit 4GB RAM. that's all the issue I ever encounter with AS.</p>\n", "title": "Android Studio is too slow", "answer_id": 38347076, "link": "http://stackoverflow.com/questions/30817871/android-studio-is-too-slow/38347076#38347076", "tags": ["android", "android-studio"]}, {"body": "<p>My suggestion is to not to use it . </p>\n\n<p>==================================</p>\n\n<p>I just downloaded the latest windows version,unbelievable slow  even use a simplest example project. </p>\n\n<p>it's not only slow, but also so bad designed, i try to download adb tools , and after search google, finally found a way , but hang now. </p>\n\n<p>reporting:</p>\n\n<p>===============================================</p>\n\n<p>To install:\n- Android SDK Platform-Tools 24 (platform-tools)</p>\n\n<p>Installing Android SDK Platform-Tools 24\nStopping ADB...</p>\n\n<p>================================================</p>\n\n<p>My self is also working on creating tools, never had such bad experience like this one. </p>\n\n<p>no idea why google create such BAD staff....</p>\n", "title": "Android Studio is too slow", "answer_id": 38372395, "link": "http://stackoverflow.com/questions/30817871/android-studio-is-too-slow/38372395#38372395", "tags": ["android", "android-studio"]}, {"body": "<p>I did all the suggested actions in here, and AS is faster :)</p>\n", "title": "Android Studio is too slow", "answer_id": 38465909, "link": "http://stackoverflow.com/questions/30817871/android-studio-is-too-slow/38465909#38465909", "tags": ["android", "android-studio"]}, {"body": "<p>Please check <a href=\"http://www.viralandroid.com/2015/08/how-to-make-android-studio-fast.html\" rel=\"nofollow\">this link</a>! and follow steps for the same.</p>\n", "title": "Android Studio is too slow", "answer_id": 39528484, "link": "http://stackoverflow.com/questions/30817871/android-studio-is-too-slow/39528484#39528484", "tags": ["android", "android-studio"]}], "question_id": 30817871}, {"body": "<p>I'm looking to make an image carousel, where a user can toggle between images, by clicking on arrows. For example:</p>\n\n<p><img src=\"http://i.stack.imgur.com/qv9ym.jpg\" alt=\"image of an image carousel\"></p>\n\n<p>However, I can only use HTML and CSS\u2014no JavaScript (and, therefore, jQuery). I just need the basic setup; smooth transitions and the like are not necessary.</p>\n\n<p>How can I go about accomplishing this?</p>\n", "title": "How can I make an image carousel with only CSS?", "tags": ["javascript", "jquery", "html", "css"], "answer_count": 6, "link": "http://stackoverflow.com/questions/30295085/how-can-i-make-an-image-carousel-with-only-css", "answers": [{"body": "<p>That's easy! Just use radio buttons and targeted labels.</p>\n\n<p>Radio buttons have the (necessary) behavior of only allowing one to be selected at any one time\u2014just like an image in our carousel.</p>\n\n<h1>Demo</h1>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>div.wrap2 {\r\n  float: left;\r\n  height: 500px;\r\n  width: 422px;\r\n}\r\ndiv.group input {\r\n  display: none;\r\n  left: -100%;\r\n  position: absolute;\r\n  top: -100%;\r\n}\r\ndiv.group input ~ div.content {\r\n  border: solid 1px black;\r\n  display: none;\r\n  height: 350px;\r\n  margin: 0px 60px;\r\n  position: relative;\r\n  width: 300px;\r\n}\r\ndiv.group input:checked ~ div.content {\r\n  display: block;\r\n}\r\ndiv.group input:checked ~ label.previous,\r\ndiv.group input:checked ~ label.next {\r\n  display: block;\r\n}\r\ndiv.group label {\r\n  background-color: #69c;\r\n  border: solid 1px black;\r\n  display: none;\r\n  height: 50px;\r\n  width: 50px;\r\n}\r\nimg {\r\n  left: 0;\r\n  margin: 0 auto;\r\n  position: absolute;\r\n  right: 0;\r\n}\r\np {\r\n  text-align: center;\r\n}\r\nlabel {\r\n  font-size: 4em;\r\n  margin: 125px 0 0 0;\r\n}\r\nlabel.previous {\r\n  float: left;\r\n  padding: 0 0 30px 5px;\r\n}\r\nlabel.next {\r\n  float: right;\r\n  padding: 0 5px 25px 0;\r\n  text-align: right;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"wrap\"&gt;\r\n  &lt;div class=\"wrap2\"&gt;\r\n    &lt;div class=\"group\"&gt;\r\n      &lt;input type=\"radio\" name=\"test\" id=\"0\" value=\"0\"&gt;\r\n      &lt;label for=\"4\" class=\"previous\"&gt;&amp;lt;&lt;/label&gt;\r\n      &lt;label for=\"1\" class=\"next\"&gt;&amp;gt;&lt;/label&gt;\r\n      &lt;div class=\"content\"&gt;\r\n        &lt;p&gt;panel #0&lt;/p&gt;\r\n        &lt;img src=\"http://i.stack.imgur.com/R5yzx.jpg\" width=\"200\" height=\"286\"&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"group\"&gt;\r\n      &lt;input type=\"radio\" name=\"test\" id=\"1\" value=\"1\"&gt;\r\n      &lt;label for=\"0\" class=\"previous\"&gt;&amp;lt;&lt;/label&gt;\r\n      &lt;label for=\"2\" class=\"next\"&gt;&amp;gt;&lt;/label&gt;\r\n      &lt;div class=\"content\"&gt;\r\n        &lt;p&gt;panel #1&lt;/p&gt;\r\n        &lt;img src=\"http://i.stack.imgur.com/k0Hsd.jpg\" width=\"200\" height=\"139\"&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"group\"&gt;\r\n      &lt;input type=\"radio\" name=\"test\" id=\"2\" value=\"2\"&gt;\r\n      &lt;label for=\"1\" class=\"previous\"&gt;&amp;lt;&lt;/label&gt;\r\n      &lt;label for=\"3\" class=\"next\"&gt;&amp;gt;&lt;/label&gt;\r\n      &lt;div class=\"content\"&gt;\r\n        &lt;p&gt;panel #2&lt;/p&gt;\r\n        &lt;img src=\"http://i.stack.imgur.com/Hhl9H.jpg\" width=\"140\" height=\"200\"&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"group\"&gt;\r\n      &lt;input type=\"radio\" name=\"test\" id=\"3\" value=\"3\" checked=\"\"&gt;\r\n      &lt;label for=\"2\" class=\"previous\"&gt;&amp;lt;&lt;/label&gt;\r\n      &lt;label for=\"4\" class=\"next\"&gt;&amp;gt;&lt;/label&gt;\r\n      &lt;div class=\"content\"&gt;\r\n        &lt;p&gt;panel #3&lt;/p&gt;\r\n        &lt;img src=\"http://i.stack.imgur.com/r1AyN.jpg\" width=\"200\" height=\"287\"&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"group\"&gt;\r\n      &lt;input type=\"radio\" name=\"test\" id=\"4\" value=\"4\"&gt;\r\n      &lt;label for=\"3\" class=\"previous\"&gt;&amp;lt;&lt;/label&gt;\r\n      &lt;label for=\"0\" class=\"next\"&gt;&amp;gt;&lt;/label&gt;\r\n      &lt;div class=\"content\"&gt;\r\n        &lt;p&gt;panel #4&lt;/p&gt;\r\n        &lt;img src=\"http://i.stack.imgur.com/EHHsa.jpg\" width=\"96\" height=\"139\"&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<h1>TLDR: Important notes</h1>\n\n<ul>\n<li>Make sure at least one <code>input(type=\"radio\")</code> is <code>checked</code> by default, or the whole carousel will be hidden.</li>\n<li>Hide the input radios and use labels as the previous/next buttons</li>\n<li>Make sure the <code>labels</code> correctly target the previous/next radio input (see labels section at the end on how to do the targeting)</li>\n<li>Show an image when its corresponding input radio is <code>:checked</code></li>\n<li>Use cute kitten pictures</li>\n</ul>\n\n<h1>Explanation</h1>\n\n<p>Here's what the basic HTML structure should look like:</p>\n\n<pre><code>div#holder\n    div.group\n        input(type=\"radio\")\n        label.previous\n        label.next\n        div.content\n            img\n    div.group\n        // ... repeat as necessary\n</code></pre>\n\n<p><code>div#holder</code> will hold all of our content in place. Then, we'll group our radio buttons, labels, and images all under a <code>div.group</code>. This makes sure our radio inputs don't suffer from destructive interference (pun).</p>\n\n<h1>The key is in the selectors (and the labels\u2014make sure to read that section)</h1>\n\n<p>First, we'll hide our radio buttons\u2014they're ugly anyway:</p>\n\n<pre><code>div.group input {\n    display: none;\n    position: absolute;\n    top: -100%;\n    left: -100%;\n}\n</code></pre>\n\n<p>We won't ever have to click the radio buttons. Instead, we'll style our labels and add targets (<code>for</code> properties), so that they redirect the click to the appropriate radio input block.</p>\n\n<p>Most of our labels should be hidden:</p>\n\n<pre><code>div.group label {\n    display: none;\n}\n</code></pre>\n\n<p><sup>(I will omit all aesthetic styling, so as to make the styling easier to understand. You can see the better-looking version in the stack snippet.)</sup></p>\n\n<p>Except for those next to a radio input that is toggled on, or <code>:checked</code></p>\n\n<pre><code>div.group input:checked ~ label.previous,\ndiv.group input:checked ~ label.next {\n    display: block;\n}\n</code></pre>\n\n<p>In addition, the <code>div.content</code> following a checked input should also be displayed:</p>\n\n<pre><code>div.group input:checked ~ div.content {\n    display: block;\n}\n</code></pre>\n\n<p>However, when the radio button is not checked, <code>div.content</code> should be hidden:</p>\n\n<pre><code>div.group input ~ div.content {\n    display: none;\n    position: relative;\n}\n</code></pre>\n\n<p>Bazinga! Now our carousel should be <strike>fully</strike> mostly functional, albeit a little ugly. Let's move our labels to the correct position:</p>\n\n<pre><code>label.previous { float: left; }\nlabel.next { float: right; }\n</code></pre>\n\n<p>And center our images within their respective divs:</p>\n\n<pre><code>img {\n    left: 0;\n    margin: 0 auto;\n    position: absolute;\n    right: 0;\n}\n</code></pre>\n\n<h1>The last step is how you set up your labels:</h1>\n\n<pre><code>&lt;input type=\"radio\" id=\"1\"&gt;\n&lt;label class=\"previous\" for=\"0\"&gt;&amp;lt;&lt;/label&gt;\n&lt;label class=\"next\" for=\"2\"&gt;&amp;gt;&lt;/label&gt;\n</code></pre>\n\n<p>Note how, given a radio input with an <code>id</code> of <code>n</code>, the <code>label.previous</code> will have a <code>for</code> attribute of <code>(n - 1) % M</code> and the <code>label.next</code> will have a <code>for</code> attribute of <code>(n + 1) % M</code>, where <code>M</code> is the number of images in the carousel.</p>\n\n<h2>Extra</h2>\n\n<p>If you're using Jade (or some other template engine), you can set it up with a simple for-loop like this:</p>\n\n<pre><code>div.wrap2\n    - var imgs = [[200, 286], [200, 139], [140, 200], [200, 287], [96, 139]];\n    - for (var i = 0; i &lt; imgs.length; i++)\n        div.group\n            input(type=\"radio\" name=\"test\" id=\"#{i}\" value=\"#{i}\" checked=\"#{input == 3}\")\n            label(for=\"#{(i - 1 + imgs.length) % imgs.length}\").previous &amp;lt;\n            label(for=\"#{(i + 1) % imgs.length}\").next &amp;gt;\n            div.content\n                p panel ##{i}\n                img(src=\"http://placekitten.com/g/#{imgs[i].join('/')}\"\n                    height=\"#{imgs[i][1]}\"\n                    width=\"#{imgs[i][0]}\"\n                )\n</code></pre>\n", "title": "How can I make an image carousel with only CSS?", "answer_id": 30295086, "link": "http://stackoverflow.com/questions/30295085/how-can-i-make-an-image-carousel-with-only-css/30295086#30295086", "tags": ["javascript", "jquery", "html", "css"]}, {"body": "<p>Note, <code>css</code> below <em>does not</em> meet the specific requirement at Question</p>\n\n<blockquote>\n  <p>where a user can toggle between images, by clicking on arrows.</p>\n</blockquote>\n\n<p>Utilizes <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/:target\"><code>:target</code></a> <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-classes\">pseudo class</a> , thumbnails as controls to toggle between images ; modeled on pattern described at <a href=\"http://tangledindesign.com/how-to-trigger-css3-transitions-on-click-using-target/\">How to Trigger CSS3 Transitions on Click using :target</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n  width: 70%;\r\n  overflow: hidden;\r\n}\r\n\r\nsection {\r\n  position: relative;\r\n  display: block;\r\n  left: calc(50%);\r\n}\r\n/* set `div` container `background` to last `div img` `src` */\r\ndiv {\r\n  display: inline-block;\r\n  position: relative;\r\n  height: 100px;\r\n  width: 100px;\r\n  background: url(http://lorempixel.com/100/100/cats);\r\n  border: 0.1em outset black;\r\n}\r\n/* set `img` `opacity:0`  */\r\ndiv img {\r\n  position: absolute;\r\n  transition: all 500ms ease-in-out;\r\n  -moz-transition: all 500ms ease-in-out;\r\n  -webkit-transition: all 500ms ease-in-out;\r\n  -o-transition: all 500ms ease-in-out;\r\n  -ms-transition: all 500ms ease-in-out;\r\n  opacity: 0;\r\n}\r\n/* \r\n   display `:target` `img` on click of `a`,\r\n   having `img` as fragment identifier \r\n*/\r\ndiv img:target {\r\n  opacity: 1;\r\n  animation: active 1s ease-in-out 0s normal 1 both;\r\n  -moz-animation: active 1s ease-in-out 0s normal 1 both;\r\n  -webkit-animation: active 1s ease-in-out 0s normal 1 both;\r\n}\r\n/* `.thumbs` `span` elements */\r\n.thumbs {\r\n  height: 25px;\r\n  width: 25px;\r\n  padding: 1px;\r\n  display: inline-block;\r\n  position: relative;\r\n  text-align: center;\r\n  border: 0.1em inset black;\r\n  border-radius: 50px;\r\n  font-size: 1em;\r\n}\r\n/* set `background` of `.thumbs` `span` elements  */\r\n[href=\"#3\"] .thumbs {\r\n  background: url(http://lorempixel.com/100/100/cats);\r\n  background-size: 100%;\r\n  background-repeat: no-repeat;\r\n}\r\n\r\n[href=\"#2\"] .thumbs {\r\n  background: url(http://lorempixel.com/100/100/animals);\r\n  background-size: 100%;\r\n  background-repeat: no-repeat;\r\n}\r\n\r\n[href=\"#1\"] .thumbs {\r\n  background: url(http://lorempixel.com/100/100/technics);\r\n  background-size: 100%;\r\n  background-repeat: no-repeat;\r\n}\r\n\r\n[href=\"#0\"] .thumbs {\r\n  background: url(http://lorempixel.com/100/100/nature);\r\n  background-size: 100%;\r\n  background-repeat: no-repeat;\r\n}\r\n\r\nspan:hover {\r\n  border-top: 0.1em solid gold;\r\n  border-left: 0.1em solid yellow;\r\n  border-bottom: 0.1em solid orange;\r\n  border-right: 0.1em solid goldenrod;\r\n  box-shadow: 0 0 0 0.125em sienna, 0 0 0 0.225em dodgerblue;\r\n}\r\n\r\na {\r\n  top: 30%;\r\n  text-decoration: none;\r\n  display: inline-block;\r\n  position: relative;\r\n  color: transparent;\r\n}\r\n\r\nnav a {\r\n  left: -16px;\r\n}\r\n\r\n@keyframes active {\r\n  0% {\r\n    box-shadow: 0 0 0 0.125em dodgerblue, 0 0 0 0.25em yellow;\r\n  }\r\n  100% {\r\n    box-shadow: none;\r\n  }\r\n}\r\n\r\n@-webkit-keyframes active {\r\n  0% {\r\n    box-shadow: 0 0 0 0.125em dodgerblue, 0 0 0 0.25em yellow;\r\n  }\r\n  100% {\r\n    box-shadow: none;\r\n  }\r\n}\r\n\r\n@-moz-keyframes active {\r\n  0% {\r\n    box-shadow: 0 0 0 0.125em dodgerblue, 0 0 0 0.25em yellow;\r\n  }\r\n  100% {\r\n    box-shadow: none;\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;section&gt;\r\n  &lt;div&gt;\r\n    &lt;img src=\"http://lorempixel.com/100/100/nature\" id=\"0\" /&gt;\r\n    &lt;img src=\"http://lorempixel.com/100/100/technics\" id=\"1\" /&gt;\r\n    &lt;img src=\"http://lorempixel.com/100/100/animals\" id=\"2\" /&gt;\r\n    &lt;img src=\"http://lorempixel.com/100/100/cats\" id=\"3\" /&gt;\r\n  &lt;/div&gt;\r\n  &lt;nav&gt;\r\n    &lt;a href=\"#3\"&gt;\r\n      &lt;span class=\"thumbs\"&gt;  \r\n      &lt;/span&gt;\r\n    &lt;/a&gt;\r\n    &lt;a href=\"#2\"&gt;\r\n      &lt;span class=\"thumbs\"&gt;  \r\n       &lt;/span&gt;\r\n    &lt;/a&gt;\r\n    &lt;a href=\"#1\"&gt;\r\n      &lt;span class=\"thumbs\"&gt;  \r\n      &lt;/span&gt;\r\n    &lt;/a&gt;\r\n    &lt;a href=\"#0\"&gt;\r\n      &lt;span class=\"thumbs\"&gt;  \r\n      &lt;/span&gt;\r\n    &lt;/a&gt;\r\n  &lt;/nav&gt;\r\n&lt;/section&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How can I make an image carousel with only CSS?", "answer_id": 30296993, "link": "http://stackoverflow.com/questions/30295085/how-can-i-make-an-image-carousel-with-only-css/30296993#30296993", "tags": ["javascript", "jquery", "html", "css"]}, {"body": "<p>Extending royhowie's awesome solution by adding an animation property on <code>img</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>div.wrap2 {\r\n  float: left;\r\n  height: 500px;\r\n  width: 422px;\r\n}\r\ndiv.group input {\r\n  display: none;\r\n  left: -100%;\r\n  position: absolute;\r\n  top: -100%;\r\n}\r\ndiv.group input ~ div.content {\r\n  border: solid 1px black;\r\n  display: none;\r\n  height: 350px;\r\n  margin: 0px 60px;\r\n  position: relative;\r\n  width: 300px;\r\n}\r\ndiv.group input:checked ~ div.content {\r\n  display: block;\r\n}\r\ndiv.group input:checked ~ div.content &gt; img {\r\n  display: block;\r\n  -webkit-animation: opac 2s ease-in;\r\n  animation: opac 2s ease-in;\r\n}\r\n@-webkit-keyframes opac {\r\n  from { opacity: 0 }\r\n  to { opacity: 1 }\r\n}\r\n@keyframes opac {\r\n  from { opacity: 0 }\r\n  to { opacity: 1 }\r\n}\r\ndiv.group input:checked ~ label.previous,\r\ndiv.group input:checked ~ label.next {\r\n  display: block;\r\n  opacity: 1;\r\n}\r\ndiv.group label {\r\n  background-color: #69c;\r\n  border: solid 1px black;\r\n  display: none;\r\n  height: 50px;\r\n  width: 50px;\r\n}\r\nimg {\r\n  left: 0;\r\n  margin: 0 auto;\r\n  position: absolute;\r\n  right: 0;\r\n}\r\np {\r\n  text-align: center;\r\n}\r\nlabel {\r\n  font-size: 4em;\r\n  margin: 125px 0 0 0;\r\n}\r\nlabel.previous {\r\n  float: left;\r\n  padding: 0 0 30px 5px;\r\n}\r\nlabel.next {\r\n  float: right;\r\n  padding: 0 5px 25px 0;\r\n  text-align: right;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"wrap\"&gt;\r\n  &lt;div class=\"wrap2\"&gt;\r\n    &lt;div class=\"group\"&gt;\r\n      &lt;input type=\"radio\" name=\"test\" id=\"0\" value=\"0\"&gt;\r\n      &lt;label for=\"4\" class=\"previous\"&gt;&amp;lt;&lt;/label&gt;\r\n      &lt;label for=\"1\" class=\"next\"&gt;&amp;gt;&lt;/label&gt;\r\n      &lt;div class=\"content\"&gt;\r\n        &lt;p&gt;panel #0&lt;/p&gt;\r\n        &lt;img src=\"http://i.stack.imgur.com/R5yzx.jpg\" width=\"200\" height=\"286\"&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"group\"&gt;\r\n      &lt;input type=\"radio\" name=\"test\" id=\"1\" value=\"1\"&gt;\r\n      &lt;label for=\"0\" class=\"previous\"&gt;&amp;lt;&lt;/label&gt;\r\n      &lt;label for=\"2\" class=\"next\"&gt;&amp;gt;&lt;/label&gt;\r\n      &lt;div class=\"content\"&gt;\r\n        &lt;p&gt;panel #1&lt;/p&gt;\r\n        &lt;img src=\"http://i.stack.imgur.com/k0Hsd.jpg\" width=\"200\" height=\"139\"&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"group\"&gt;\r\n      &lt;input type=\"radio\" name=\"test\" id=\"2\" value=\"2\"&gt;\r\n      &lt;label for=\"1\" class=\"previous\"&gt;&amp;lt;&lt;/label&gt;\r\n      &lt;label for=\"3\" class=\"next\"&gt;&amp;gt;&lt;/label&gt;\r\n      &lt;div class=\"content\"&gt;\r\n        &lt;p&gt;panel #2&lt;/p&gt;\r\n        &lt;img src=\"http://i.stack.imgur.com/Hhl9H.jpg\" width=\"140\" height=\"200\"&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"group\"&gt;\r\n      &lt;input type=\"radio\" name=\"test\" id=\"3\" value=\"3\" checked=\"\"&gt;\r\n      &lt;label for=\"2\" class=\"previous\"&gt;&amp;lt;&lt;/label&gt;\r\n      &lt;label for=\"4\" class=\"next\"&gt;&amp;gt;&lt;/label&gt;\r\n      &lt;div class=\"content\"&gt;\r\n        &lt;p&gt;panel #3&lt;/p&gt;\r\n        &lt;img src=\"http://i.stack.imgur.com/r1AyN.jpg\" width=\"200\" height=\"287\"&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"group\"&gt;\r\n      &lt;input type=\"radio\" name=\"test\" id=\"4\" value=\"4\"&gt;\r\n      &lt;label for=\"3\" class=\"previous\"&gt;&amp;lt;&lt;/label&gt;\r\n      &lt;label for=\"0\" class=\"next\"&gt;&amp;gt;&lt;/label&gt;\r\n      &lt;div class=\"content\"&gt;\r\n        &lt;p&gt;panel #4&lt;/p&gt;\r\n        &lt;img src=\"http://i.stack.imgur.com/EHHsa.jpg\" width=\"96\" height=\"139\"&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How can I make an image carousel with only CSS?", "answer_id": 30312822, "link": "http://stackoverflow.com/questions/30295085/how-can-i-make-an-image-carousel-with-only-css/30312822#30312822", "tags": ["javascript", "jquery", "html", "css"]}, {"body": "<p>Inspired by royhowie I ended up with a much simpler solution if it comes to HTML syntax. Also, with nice animation and fully customizable!</p>\n\n<p>The main idea was to create the arrows not by placing them in HTML one by one, but by creating and then carefully positioning pseudoelements.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>* {\r\n    -ms-box-sizing: border-box;\r\n    -moz-box-sizing: border-box;\r\n    -webkit-box-sizing: border-box;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.CSS_slideshow {\r\n    display: block;\r\n    width: 600px;\r\n    height: 425px;\r\n    overflow: hidden;\r\n    margin: 0 auto;\r\n    -ms-user-select: none;\r\n    -moz-user-select: none;\r\n    -webkit-user-select: none;\r\n    user-select: none;\r\n    text-space-collapse: trim-inner;\r\n}\r\n.CSS_slideshow[data-show-indicators=\"true\"][data-indicators-position=\"in\"] {\r\n    -webkit-margin-after: -25px; /* Removes the space under the slideshow. Webkit only as only Webkit-based browsers will support the dots in the wrapper */\r\n}\r\n/* Defines animation timing function */\r\n.CSS_slideshow[data-animation-style] {\r\n    -moz-transition-timing-function: ease-in-out;\r\n    -webkit-transition-timing-function: ease-in-out;\r\n    transition-timing-function: ease-in-out;\r\n}\r\n    /* Inherit all animation properties from parent element */\r\n    .CSS_slideshow[data-animation-style] *,\r\n    .CSS_slideshow[data-show-buttons=\"true\"][data-animation-style] label:before,\r\n    .CSS_slideshow[data-show-buttons=\"true\"][data-animation-style] label:after {\r\n        -moz-transition-duration: inherit;\r\n        -webkit-transition-duration: inherit;\r\n        transition-duration: inherit;\r\n        -moz-transition-timing-function: inherit;\r\n        -webkit-transition-timing-function: inherit;\r\n        transition-timing-function: inherit;\r\n    }\r\n    /* WRAPPER */\r\n    .CSS_slideshow_wrapper {\r\n        display: block;\r\n        width: 600px;\r\n        height: 400px;\r\n        position: relative;\r\n        /* Styling */\r\n        text-align: center;\r\n    }\r\n        /* Indicators */\r\n        .CSS_slideshow[data-show-indicators=\"true\"] input {\r\n            width: 10px;\r\n            height: 10px;\r\n            outline: none;\r\n            position: relative;\r\n            top: calc(100% + 7px);\r\n            -ms-transform: scale(1); /* Fallback for Internet Explorer: supports radio button resizing, does not support :after. Not necessary, put for readibility. */ \r\n            -moz-transform: scale(0.6); /* Fallback for Firefox: does not radio button resizing, does not support :after */\r\n            -webkit-appearance: none; /* hide radio buttons for Webkit: supports :after */\r\n        }\r\n        .CSS_slideshow[data-show-indicators=\"true\"] input:checked {\r\n            -ms-transform: scale(1.25); /* Fallback for Internet Explorer: supports radio button resizing, does not support :after */\r\n            -moz-transform: scale(0.9); /* Fallback for Firefox: it does not do radio button resizing, does not support :after */\r\n        }\r\n        /* Webkit-only goodness - for now */\r\n        .CSS_slideshow[data-show-indicators=\"true\"] input:after {\r\n            content: '';\r\n            display: block;\r\n            position: absolute;\r\n            left: 0;\r\n            width: 8px;\r\n            height: 8px;\r\n            border: 1px solid;\r\n            border-radius: 100%;\r\n            cursor: pointer;\r\n            z-index: 4;\r\n            -moz-transition-property: transform, background;\r\n            -webkit-transition-property: transform, background;\r\n            transition-property: transform, background;\r\n        }\r\n        .CSS_slideshow[data-show-indicators=\"true\"][data-indicators-position=\"under\"] input:after {\r\n            top: -2px;\r\n            background: rgba(0, 0, 0, 0);\r\n            border-color: rgb(0, 0, 0);\r\n        }\r\n        .CSS_slideshow[data-show-indicators=\"true\"][data-indicators-position=\"in\"] input:after {\r\n            top: -35px;\r\n            box-shadow: inset 0 0 2px rgba(0, 0, 0, 0.25), 0 0 2px rgba(0, 0, 0, 0.25);\r\n            background: rgba(235, 235, 235, 0);\r\n            border-color: rgb(235, 235, 235);\r\n        }\r\n        .CSS_slideshow[data-show-indicators=\"true\"] input:checked:after {\r\n            -webkit-transform: scale(1.25);\r\n        }\r\n        .CSS_slideshow[data-show-indicators=\"true\"][data-indicators-position=\"under\"] input:checked:after {\r\n            background: rgb(0, 0, 0)\r\n        }\r\n        .CSS_slideshow[data-show-indicators=\"true\"][data-indicators-position=\"in\"] input:checked:after {\r\n            box-shadow: 0 0 2px rgba(0, 0, 0, 0.25);\r\n            background: rgb(235, 235, 235);\r\n        }\r\n        .CSS_slideshow:not([data-show-indicators=\"true\"]) input {\r\n            display: none;\r\n        }\r\n        /* SLIDES */\r\n        .CSS_slideshow label {\r\n            display: inline-block;\r\n            width: 100%;\r\n            height: 100%;\r\n            position: absolute;\r\n            top: 0;\r\n        }\r\n        .CSS_slideshow[data-animation-style=\"slide\"] label {\r\n            -moz-transition-property: left;\r\n            -webkit-transition-property: left;\r\n            transition-property: left;\r\n        }\r\n        .CSS_slideshow label img {\r\n            width: 100%;\r\n            height: 100%;\r\n        }\r\n        /* Puts all the slides on the left... */\r\n        .CSS_slideshow label {\r\n            left: -100%;\r\n        }\r\n        /* ...except the ones coming after input:checked - those are put on the right... */\r\n        .CSS_slideshow input:checked ~ label {\r\n            left: 100%;\r\n        }\r\n        /* ...except the one coming directly after input:checked - this is our current slide and it's in the middle */\r\n        .CSS_slideshow input:checked + label {\r\n            left: 0;\r\n        }\r\n            /* PREV/NEXT ARROWS */\r\n            .CSS_slideshow[data-show-buttons=\"true\"] label:before,\r\n            .CSS_slideshow[data-show-buttons=\"true\"] label:after {\r\n                display: block;\r\n                position: absolute;\r\n                width: 60px;\r\n                height: 60px;\r\n                top: calc((100% - 60px) / 2);\r\n                /* Styling */\r\n                background: rgb(235, 235, 235);\r\n                font-size: 35px;\r\n                font-weight: 800;\r\n                font-family: Consolas;\r\n                line-height: 56px;\r\n                color: black;\r\n                z-index: 1;\r\n                cursor: pointer;\r\n            }\r\n            .CSS_slideshow[data-show-buttons=\"true\"][data-animation-style=\"slide\"] label:before,\r\n            .CSS_slideshow[data-show-buttons=\"true\"][data-animation-style=\"slide\"] label:after {\r\n                -moz-transition-property: left, right;\r\n                -webkit-transition-property: left, right;\r\n                transition-property: left, right;\r\n            }\r\n            .CSS_slideshow[data-show-buttons=\"true\"] label:hover:before,\r\n            .CSS_slideshow[data-show-buttons=\"true\"] label:hover:after {\r\n                /* Styling */\r\n                background: rgb(245, 245, 245);\r\n            }\r\n            /* Slides on the left */\r\n            /* Since the slides are on the left, we need to move the buttons 100% to the right */\r\n            .CSS_slideshow[data-show-buttons=\"true\"] label:before {\r\n                right: -100%;\r\n                opacity: 0;\r\n                /* Styling */\r\n                content: '&gt;'; /* next */\r\n            }\r\n            .CSS_slideshow[data-show-buttons=\"true\"] label:after {\r\n                left: 100%;\r\n                opacity: 1;\r\n                /* Styling */\r\n                content: '&lt;'; /* previous */\r\n            }\r\n            /* Slides on the right */\r\n            /* Since the slides are on the right, we need to move the buttons 100% to the left */\r\n            .CSS_slideshow[data-show-buttons=\"true\"] input:checked ~ label:before {\r\n                right: 100%;\r\n                opacity: 1;\r\n            }\r\n            .CSS_slideshow[data-show-buttons=\"true\"] input:checked ~ label:after {\r\n                left: -100%;\r\n                opacity: 0;\r\n                cursor: default;\r\n            }\r\n            /* Active slide */\r\n            /* And for the active slide - just usual positioning */\r\n            .CSS_slideshow[data-show-buttons=\"true\"] input:checked + label:before {\r\n                right: 0;\r\n                opacity: 0;\r\n                cursor: default;\r\n            }\r\n            .CSS_slideshow[data-show-buttons=\"true\"] input:checked + label:after {\r\n                left: 0;\r\n            }\r\n            /* Buttons positioning */\r\n            .CSS_slideshow[data-show-buttons=\"true\"] label:after {\r\n                z-index: 3; /* move \"previous\" buttons forward... */\r\n            }\r\n            .CSS_slideshow[data-show-buttons=\"true\"] input:checked ~ label:after {\r\n                z-index: 1; /* ...except the one for an active slide - this should be hidden - causes the \"previous\" arrow from the previous slide to be on top */\r\n            }\r\n            .CSS_slideshow[data-show-buttons=\"true\"] input:checked + label + input + label:before {\r\n                z-index: 3; /* move \"next\" button one slide ahead forward - causes the \"next\" arrow from the next slide to be on top */\r\n            }\r\n            /* WRAP ARROWS */\r\n            /* We'll reuse \"previous\" arrow from the first slide and \"next\" arrow from the last to make \"wrap\" buttons, based on roughly the same principles */\r\n            .CSS_slideshow[data-show-buttons=\"true\"][data-show-wrap-buttons=\"true\"] label:first-of-type:before,\r\n            .CSS_slideshow[data-show-buttons=\"true\"][data-show-wrap-buttons=\"true\"] label:last-of-type:after {\r\n                z-index: 2 !important;\r\n                opacity: 1 !important;\r\n                cursor: pointer !important;\r\n                /* Styling */\r\n                letter-spacing: -9px;\r\n                text-align: left;\r\n                padding-left: 14px;\r\n                width: 46px;\r\n            }\r\n            .CSS_slideshow[data-show-buttons=\"true\"][data-show-wrap-buttons=\"true\"] label:first-of-type:before {\r\n                content: '&lt;&lt;'; /* jump to first */\r\n                right: 0 !important;\r\n            }\r\n            .CSS_slideshow[data-show-buttons=\"true\"][data-show-wrap-buttons=\"true\"] input:not(:checked) + label:first-of-type:before {\r\n                right: -100% !important;\r\n            }\r\n            .CSS_slideshow[data-show-buttons=\"true\"][data-show-wrap-buttons=\"true\"] label:last-of-type:after {\r\n                content: '&gt;&gt;'; /* jump to last */\r\n                left: 0 !important;\r\n            }\r\n            .CSS_slideshow[data-show-buttons=\"true\"][data-show-wrap-buttons=\"true\"] input:not(:checked) + label:last-of-type:after {\r\n                left: -100% !important;\r\n            }\r\n\r\n\r\n/* Non-CSS slideshow CSS */\r\nbody {\r\n    font-family: Segoe UI, Tahoma, sans-serif;\r\n    font-size: 14px;    \r\n}\r\n\r\n#license {\r\n    margin-top: 3em;\r\n    text-align: center;\r\n    font-size: 10px;\r\n}\r\n    #license * {\r\n        font-size: 10px;\r\n    }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div\r\n    class=\"CSS_slideshow\"\r\n    data-show-indicators=\"true\"\r\n    data-indicators-position=\"in\"\r\n    data-show-buttons=\"true\"\r\n    data-show-wrap-buttons=\"true\"\r\n    data-animation-style=\"slide\"\r\n    style=\"-moz-transition-duration: 0.3s; -webkit-transition-duration: 0.3s; transition-duration: 0.3s;\"\r\n&gt;\r\n    &lt;div class=\"CSS_slideshow_wrapper\"&gt;\r\n        &lt;input type=\"radio\" name=\"css3slideshow\" id=\"slide1\" checked /&gt;&lt;!--\r\n     --&gt;&lt;label for=\"slide1\"&gt;&lt;img src=\"https://placekitten.com/g/602/400\" /&gt;&lt;/label&gt;&lt;!--\r\n     --&gt;&lt;input type=\"radio\" name=\"css3slideshow\" id=\"slide2\" /&gt;&lt;!--\r\n     --&gt;&lt;label for=\"slide2\"&gt;&lt;img src=\"https://placekitten.com/g/605/400\" /&gt;&lt;/label&gt;&lt;!--\r\n     --&gt;&lt;input type=\"radio\" name=\"css3slideshow\" id=\"slide3\" /&gt;&lt;!--\r\n     --&gt;&lt;label for=\"slide3\"&gt;&lt;img src=\"https://placekitten.com/g/600/400\" /&gt;&lt;/label&gt;&lt;!--\r\n     --&gt;&lt;input type=\"radio\" name=\"css3slideshow\" id=\"slide4\" /&gt;&lt;!--\r\n     --&gt;&lt;label for=\"slide4\"&gt;&lt;img src=\"https://placekitten.com/g/603/400\" /&gt;&lt;/label&gt;&lt;!--\r\n     --&gt;&lt;input type=\"radio\" name=\"css3slideshow\" id=\"slide5\" /&gt;&lt;!--\r\n     --&gt;&lt;label for=\"slide5\"&gt;&lt;img src=\"https://placekitten.com/g/604/400\" /&gt;&lt;/label&gt; \r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div id=\"license\"&gt;\r\n    &lt;a rel=\"license\" href=\"http://creativecommons.org/licenses/by-sa/4.0/\"&gt;&lt;img alt=\"Creative Commons License\" style=\"border-width:0\" src=\"https://i.creativecommons.org/l/by-sa/4.0/88x31.png\" /&gt;&lt;/a&gt;&lt;br /&gt;&lt;span xmlns:dct=\"http://purl.org/dc/terms/\" href=\"http://purl.org/dc/dcmitype/InteractiveResource\" property=\"dct:title\" rel=\"dct:type\"&gt;Pure CSS slideshow&lt;/span&gt; by &lt;a xmlns:cc=\"http://creativecommons.org/ns#\" href=\"http://wojtekmaj.pl\" property=\"cc:attributionName\" rel=\"cc:attributionURL\"&gt;Wojciech Maj&lt;/a&gt; is licensed under a &lt;a rel=\"license\" href=\"http://creativecommons.org/licenses/by-sa/4.0/\"&gt;Creative Commons Attribution-ShareAlike 4.0 International License&lt;/a&gt;.\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<h1><a href=\"http://jsfiddle.net/wojtekmaj/8qgmL2ko/\" rel=\"nofollow\">JSFiddle</a></h1>\n\n<p>You can read more about customizations and some technical limitations on my fiddle.</p>\n", "title": "How can I make an image carousel with only CSS?", "answer_id": 30495320, "link": "http://stackoverflow.com/questions/30295085/how-can-i-make-an-image-carousel-with-only-css/30495320#30495320", "tags": ["javascript", "jquery", "html", "css"]}, {"body": "<p>Why not making it smooth and nice looking with only CSS?</p>\n\n<blockquote>\n  <p><a href=\"http://jsfiddle.net/franciscop/wwfby2y8/\" rel=\"nofollow\">Picnic CSS 4.0 Tabs</a></p>\n</blockquote>\n\n<p>This is part of a library I created, <a href=\"http://picnicss.com/\" rel=\"nofollow\">Picnic CSS</a>. However, that jsfiddle includes the library and all of the plugins for the <em>next</em> version (4.0 is <a href=\"https://github.com/picnicss/picnic/issues/45\" rel=\"nofollow\">being finished now</a>). You can see the current 3.x version of the same plugin here, which also fulfills all of your requirements, but it's not so smooth as I'd like:</p>\n\n<blockquote>\n  <p><a href=\"http://www.picnicss.com/plugins/tabs/\" rel=\"nofollow\">Picnic CSS 3.x Tabs</a></p>\n</blockquote>\n\n<p>Right now you can only see the <a href=\"https://github.com/picnicss/picnic/tree/dev/plugins/tabs\" rel=\"nofollow\">scss source code in the dev branch</a> but it is scheduled to be released in the following days, so I'll update my answer.</p>\n\n<p>Some code please! This is the HTML that you need for the 4.0 version, as others commented, you basically play with <code>&lt;input type='radio'&gt;</code> and <code>&lt;label&gt;</code> to achieve the desired effect:</p>\n\n<pre><code>&lt;div class=\"tabs three\" style=\"text-align: center;\"&gt;\n  &lt;input id='tabC-1' type='radio' name='tabgroupC' checked /&gt;\n  &lt;label class=\"pseudo button\" for=\"tabC-1\"&gt;1&lt;/label&gt;\n  \u276d\n  &lt;input id='tabC-2' type='radio' name='tabgroupC'&gt;\n  &lt;label class=\"pseudo button\" for=\"tabC-2\"&gt;2&lt;/label&gt;\n  \u276d\n  &lt;input id='tabC-3' type='radio' name='tabgroupC'&gt;\n  &lt;label class=\"pseudo button\" for=\"tabC-3\"&gt;3&lt;/label&gt;\n  &lt;div class=\"row\" style=\"text-align: left;\"&gt;\n    &lt;div&gt;\n      &lt;div class=\"card\" style=\"margin: 10px 20px;\"&gt;\n        &lt;header&gt;\n          &lt;h3&gt;Super important notice!&lt;/h3&gt;\n        &lt;/header&gt;\n        &lt;p&gt;Thank you for registering! By doing so you agree to the &lt;a href=\"#\"&gt;Terms and conditions&lt;/a&gt;&lt;/p&gt;\n        &lt;footer&gt;\n          &lt;label class=\"button\" for=\"tabC-2\"&gt;Agree&lt;/label&gt;\n        &lt;/footer&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div&gt;\n      &lt;div class=\"card\" style=\"margin: 10px 20px;\"&gt;\n        &lt;header&gt;\n          &lt;h3&gt;Your basic data&lt;/h3&gt;\n        &lt;/header&gt;\n        &lt;section&gt;\n          &lt;input type=\"text\" placeholder=\"Full Name\"&gt;\n        &lt;/section&gt;\n        &lt;section&gt;\n          &lt;div class=\"select\"&gt;\n            &lt;select&gt;\n              &lt;option&gt;Where did you find us?&lt;/option&gt;\n              &lt;option&gt;Facebook&lt;/option&gt;\n              &lt;option&gt;Twitter&lt;/option&gt;\n              &lt;option&gt;Linkedin&lt;/option&gt;\n            &lt;/select&gt;\n          &lt;/div&gt;\n        &lt;/section&gt;\n        &lt;footer&gt;\n          &lt;label class=\"button\" for=\"tabC-3\"&gt;Next&lt;/label&gt;\n          &lt;label class=\"button dangerous\" for=\"tabC-1\"&gt;Back&lt;/label&gt;\n        &lt;/footer&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div&gt;\n      &lt;div class=\"card\" style=\"margin: 10px 20px;\"&gt;\n        &lt;header&gt;\n          &lt;h3&gt;Create account&lt;/h3&gt;\n        &lt;/header&gt;\n        &lt;section&gt;\n          &lt;input type=\"email\" placeholder=\"Email\"&gt;\n        &lt;/section&gt;\n        &lt;section&gt;\n          &lt;input type=\"password\" placeholder=\"Password\"&gt;\n        &lt;/section&gt;\n        &lt;footer&gt;\n          &lt;button class=\"success\"&gt;Finish!&lt;/button&gt;\n          &lt;label class=\"button dangerous\" for=\"tabC-2\"&gt;Back&lt;/label&gt;\n        &lt;/footer&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n", "title": "How can I make an image carousel with only CSS?", "answer_id": 30520433, "link": "http://stackoverflow.com/questions/30295085/how-can-i-make-an-image-carousel-with-only-css/30520433#30520433", "tags": ["javascript", "jquery", "html", "css"]}, {"body": "<p>Please check this link for CSS only carousel with Auto Play option in the beginning, Left Right navs buttons, nav dots, and resumes play when clicked on button... </p>\n\n<p>Demo Link - <a href=\"http://blog.puneets.in/2016/02/pure-responsive-css3-slider-with.html\" rel=\"nofollow\"><a href=\"http://blog.puneets.in/2016/02/pure-responsive-css3-slider-with.html\" rel=\"nofollow\">http://blog.puneets.in/2016/02/pure-responsive-css3-slider-with.html</a></a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.csslider1 {\r\n\t\tdisplay: inline-block;\r\n\t\tposition: relative;\r\n\t\tmax-width: 830px;\r\n\t\t\r\n\t\twidth: 100%;\r\n\t\tmargin-top: 10px;\r\n\t}\r\n\t.csslider1 &gt; .cs_anchor {\r\n\t\tdisplay: none;\r\n\t}\r\n\t.csslider1 &gt; ul {\r\n\t\tposition: relative;\r\n\t\tz-index: 1;\r\n\t\tfont-size: 0;\r\n\t\tline-height: 0;\r\n\t\tmargin: 0 auto;\r\n\t\tpadding: 0;\r\n\t\t\r\n\t\toverflow: hidden;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\t.csslider1 &gt; ul &gt; div {\r\n\t\twidth: 100%;\r\n\t\tvisibility: hidden;\r\n\t\tfont-size: 0px;\r\n\t\tline-height: 0;\r\n\t}\r\n\t.csslider1 &gt; ul &gt; li.img img {\r\n\t\twidth: 100%;\r\n\t}\r\n\t.csslider1 &gt; ul &gt; li.img {\r\n\t\tfont-size: 0pt;\r\n\t}\r\n\t.csslider1 &gt; ul &gt; li {\r\n\t\tposition: relative;\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\toverflow: hidden;\r\n\t\tfont-size: 15px;\r\n\t\tfont-size: initial;\r\n\t\tline-height: normal;\r\n\t\twhite-space: normal;\r\n\t\tvertical-align: top;\r\n\t\t-webkit-box-sizing: border-box;\r\n\t\t-moz-box-sizing: border-box;\r\n\t\tbox-sizing: border-box;\r\n\r\n\t\t-webkit-transform: translate3d(0,0,0);\r\n\t\t-moz-transform: translate3d(0,0,0);\r\n\t\t-ms-transform: translate3d(0,0,0);\r\n\t\t-o-transform: translate3d(0,0,0);\r\n\t\ttransform: translate3d(0,0,0);\r\n\t}\r\n\t.csslider1 .cs_lnk{\r\n\t\tposition: absolute;\r\n\t\ttop: -9999px;\r\n\t\tleft: -9999px;\r\n\t\tfont-size: 0pt;\r\n\t\topacity: 0;\r\n\t\tfilter: alpha(opacity=0);\r\n\t}\r\n\r\n\t.csslider1 &gt; ul &gt; li.img,\r\n\t.csslider1 &gt; .cs_arrowprev,\r\n\t.csslider1 &gt; .cs_arrownext,\r\n\t.csslider1 &gt; .cs_bullets,\r\n\t.csslider1 &gt; .cs_play_pause {\r\n\t\t-webkit-touch-callout: none;\r\n\t\t-webkit-user-select: none;\r\n\t\t-khtml-user-select: none;\r\n\t\t-moz-user-select: none;\r\n\t\t-ms-user-select: none;\r\n\t\tuser-select: none;\r\n\t}.csslider1 &gt; .cs_arrowprev,\r\n\t.csslider1 &gt; .cs_arrownext {\r\n\t\tposition: absolute;\r\n\t\ttop: 50%;\r\n\t\t-webkit-box-sizing: content-box;\r\n\t\t-moz-box-sizing: content-box;\r\n\t\tbox-sizing: content-box;\r\n\t\tz-index: 5;\r\n\t}\r\n\t.csslider1 &gt; .cs_arrowprev &gt; label,\r\n\t.csslider1 &gt; .cs_arrownext &gt; label {\r\n\t\tposition: absolute;\r\n\r\n\t\ttext-decoration: none;\r\n\t\tcursor: pointer;\r\n\t\topacity: 0;\r\n\t\tz-index: -1;\r\n\t}\r\n\t.csslider1 &gt; .cs_arrowprev {\r\n\t\tleft: 0;\r\n\t}\r\n\t.csslider1 &gt; .cs_arrownext {\r\n\t\tright: 0;\r\n\t}\r\n\r\n\t.csslider1 &gt; .slide:checked ~ .cs_arrowprev &gt; label,\r\n\t.csslider1 &gt; .slide:checked ~ .cs_arrownext &gt; label {\r\n\t\topacity: 0;\r\n\t\tz-index: -1;\r\n\t}\r\n\r\n\t.csslider1 &gt; #cs_slide1_0:checked ~ .cs_arrowprev &gt; label.num2,\r\n\t.csslider1 &gt; #cs_pause1_0:checked ~ .cs_arrowprev &gt; label.num2,\r\n\t.csslider1 &gt; #cs_slide1_0:checked ~ .cs_arrownext &gt; label.num1,\r\n\t.csslider1 &gt; #cs_pause1_0:checked ~ .cs_arrownext &gt; label.num1, \r\n\t.csslider1 &gt; #cs_slide1_1:checked ~ .cs_arrowprev &gt; label.num0,\r\n\t.csslider1 &gt; #cs_pause1_1:checked ~ .cs_arrowprev &gt; label.num0,\r\n\t.csslider1 &gt; #cs_slide1_1:checked ~ .cs_arrownext &gt; label.num2,\r\n\t.csslider1 &gt; #cs_pause1_1:checked ~ .cs_arrownext &gt; label.num2, \r\n\t.csslider1 &gt; #cs_slide1_2:checked ~ .cs_arrowprev &gt; label.num1,\r\n\t.csslider1 &gt; #cs_pause1_2:checked ~ .cs_arrowprev &gt; label.num1,\r\n\t.csslider1 &gt; #cs_slide1_2:checked ~ .cs_arrownext &gt; label.num0,\r\n\t.csslider1 &gt; #cs_pause1_2:checked ~ .cs_arrownext &gt; label.num0 {\r\n\t\topacity: 1;\r\n\t\tz-index: 5;\r\n\t}\r\n\r\n\t@-webkit-keyframes arrow {\r\n\t\t0%, 33.32333333333334% { opacity: 1; z-index: 5; }\r\n\t\t33.333333333333336%, 100%\t{ opacity: 0; z-index: -1; }\r\n\t}\r\n\t@-moz-keyframes arrow {\r\n\t\t0%, 33.32333333333334% { opacity: 1; z-index: 5; }\r\n\t\t33.333333333333336%, 100%\t{ opacity: 0; z-index: -1; }\r\n\t}\r\n\t@keyframes arrow {\r\n\t\t0%, 33.32333333333334% { opacity: 1; z-index: 5; }\r\n\t\t33.333333333333336%, 100%\t{ opacity: 0; z-index: -1; }\r\n\t}\r\n\r\n\r\n\t.csslider1 &gt; #cs_play1:checked ~ .cs_arrowprev &gt; label.num2,\r\n\t.csslider1 &gt; #cs_play1:checked ~ .cs_arrownext &gt; label.num1 {\r\n\t\t-webkit-animation: arrow 12300ms infinite -1000ms;\r\n\t\t-moz-animation: arrow 12300ms infinite -1000ms;\r\n\t\tanimation: arrow 12300ms infinite -1000ms;\r\n\t\t\r\n\t}\r\n\t.csslider1 &gt; #cs_play1:checked ~ .cs_arrowprev &gt; label.num0,\r\n\t.csslider1 &gt; #cs_play1:checked ~ .cs_arrownext &gt; label.num2 {\r\n\t\t-webkit-animation: arrow 12300ms infinite 3100ms;\r\n\t\t-moz-animation: arrow 12300ms infinite 3100ms;\r\n\t\tanimation: arrow 12300ms infinite 3100ms;\r\n\t\t\r\n\t}\r\n\t.csslider1 &gt; #cs_play1:checked ~ .cs_arrowprev &gt; label.num1,\r\n\t.csslider1 &gt; #cs_play1:checked ~ .cs_arrownext &gt; label.num0 {\r\n\t\t-webkit-animation: arrow 12300ms infinite 7200ms;\r\n\t\t-moz-animation: arrow 12300ms infinite 7200ms;\r\n\t\tanimation: arrow 12300ms infinite 7200ms;\r\n\t\t\r\n\t}\r\n\r\n\t.csslider1 &gt; .slide:checked ~ .cs_arrowprev &gt; label,\r\n\t.csslider1 &gt; .slide:checked ~ .cs_arrownext &gt; label,\r\n\t.csslider1 &gt; .pause:checked ~ .cs_arrowprev &gt; label,\r\n\t.csslider1 &gt; .pause:checked ~ .cs_arrownext &gt; label {\r\n\t\t-webkit-animation: none;\r\n\t\t-moz-animation: none;\r\n\t\t-ms-animation: none;\r\n\t\t-o-animation: none;\r\n\t\tanimation: none;\r\n\t}\r\n\r\n\t.csslider1 &gt; .cs_bullets {\r\n\t\tposition: absolute;\r\n\t\tleft: 0;\r\n\t\twidth: 100%;\r\n\t\tz-index: 6;\r\n\t\tfont-size: 0;\r\n\t\tline-height: 8pt;\r\n\t\ttext-align: center;\r\n\t}\r\n\t.csslider1 &gt; .cs_bullets &gt; div {\r\n\t\tmargin-left: -50%;\r\n\t\twidth: 100%;\r\n\t}\r\n\t.csslider1 &gt; .cs_bullets &gt; label {\r\n\t\tposition: relative;\r\n\t\tdisplay: inline-block;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t.csslider1 &gt; .cs_bullets &gt; label &gt; .cs_thumb {\r\n\t\tvisibility: hidden;\r\n\t\tposition: absolute;\r\n\t\topacity: 0;\r\n\t\tz-index: 1;\r\n\t\tline-height: 0;\r\n\t\tleft: -55px;\r\n\t\ttop: -48px;\r\n\t}\r\n\t.csslider1 &gt; .cs_bullets &gt; label &gt; .cs_thumb &gt; img {\r\n\t\tmax-width: none;\r\n\t}\r\n\t.csslider1.cs_handle {\r\n\t\tcursor: -webkit-grab;\r\n\t\tcursor: -moz-grab;\r\n\t\tcursor: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAABwSURBVEjH7ZJBEsAgCAMT/v/n9NCOSqe2oD2yNx1JggB4BCEFWyFASP2KMQE7ywWhe/tTRGCGogLk02tFctiW/SUgaMyQG4PdPzDn31rQbMb8FiAXgvsEJNax1yVlVGAjA93apP3HFhZTGIqiKH7iADB6HxPlHdNVAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE0LTA3LTA3VDEzOjQ5OjEwKzAyOjAwm7WiFAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxNC0wNy0wN1QxMzo0OToxMCswMjowMOroGqgAAAAASUVORK5CYII=\"), move;\r\n\t}\r\n\t.csslider1.cs_handle.cs_grab {\r\n\t\tcursor: -webkit-grabbing;\r\n\t\tcursor: -moz-grabbing;\r\n\t\tcursor: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAABaSURBVEjH7ZMxCkAhDEOT8u9/5TpJ+xWkFse8IYutJgEB8RCHL1qCc90BEFnT6QH7mwgFHBUf8wJyS1TDLuc3vmighx37LZdIth3E5hKj9n6O0HRh+oJCiFcMxRUUDxR1CTMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTQtMDctMDdUMTM6NDk6MzgrMDI6MDDqf+sOAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE0LTA3LTA3VDEzOjQ5OjM4KzAyOjAwmyJTsgAAAABJRU5ErkJggg==\"), move;\r\n\t}\r\n\r\n\t.csslider1 &gt; ul &gt; li.num0 {\r\n\t\tleft: 0%;\r\n\t}\r\n\t.csslider1 &gt; ul &gt; li.num1 {\r\n\t\tleft: 100%;\r\n\t}\r\n\t.csslider1 &gt; ul &gt; li.num2 {\r\n\t\tleft: 200%;\r\n\t}\r\n\r\n\t.csslider1 &gt; #cs_slide1_0:checked ~ ul &gt; li,\r\n\t.csslider1 &gt; #cs_pause1_0:checked ~ ul &gt; li {\r\n\t\t-webkit-transform: translateX(0%);\r\n\t\t-moz-transform: translateX(0%);\r\n\t\ttransform: translateX(0%);\r\n\t\t\r\n\t}\r\n\t.csslider1 &gt; #cs_slide1_1:checked ~ ul &gt; li,\r\n\t.csslider1 &gt; #cs_pause1_1:checked ~ ul &gt; li {\r\n\t\t-webkit-transform: translateX(-100%);\r\n\t\t-moz-transform: translateX(-100%);\r\n\t\ttransform: translateX(-100%);\r\n\t\t\r\n\t}\r\n\t.csslider1 &gt; #cs_slide1_2:checked ~ ul &gt; li,\r\n\t.csslider1 &gt; #cs_pause1_2:checked ~ ul &gt; li {\r\n\t\t-webkit-transform: translateX(-200%);\r\n\t\t-moz-transform: translateX(-200%);\r\n\t\ttransform: translateX(-200%);\r\n\t\t\r\n\t}\r\n\r\n\t.csslider1 &gt; ul &gt; li {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tdisplay: inline-block;\r\n\t\topacity: 1;\r\n\r\n\t\t-webkit-transition: -webkit-transform 1000ms;\r\n\t\t-moz-transition: -moz-transform 1000ms;\r\n\t\ttransition: transform 1000ms;\r\n\t\t\r\n\r\n\t\t\r\n\t\t-webkit-transform: scale(1);\r\n\t\t-moz-transform: scale(1);\r\n\t\ttransform: scale(1);\r\n\t\t\r\n\t}\r\n\r\n\t\r\n\t@-webkit-keyframes slide {\r\n\t\t0%, 25.203252032520325%\t{ -webkit-transform: translateX(0%); }\r\n\t\t33.333333333333336%, 58.53658536585366%\t{ -webkit-transform: translateX(-100%); }\r\n\t\t66.66666666666667%, 91.869918699187%\t{ -webkit-transform: translateX(-200%); }\r\n\t\t\r\n\t}\r\n\t@-moz-keyframes slide {\r\n\t\t0%, 25.203252032520325%\t{ -moz-transform: translateX(0%); }\r\n\t\t33.333333333333336%, 58.53658536585366%\t{ -moz-transform: translateX(-100%); }\r\n\t\t66.66666666666667%, 91.869918699187%\t{ -moz-transform: translateX(-200%); }\r\n\t\t\r\n\t}\r\n\t@keyframes slide {\r\n\t\t0%, 25.203252032520325%\t{ transform: translateX(0%); }\r\n\t\t33.333333333333336%, 58.53658536585366%\t{ transform: translateX(-100%); }\r\n\t\t66.66666666666667%, 91.869918699187%\t{ transform: translateX(-200%); }\r\n\t\t\r\n\t}\r\n\r\n\r\n\t.csslider1  &gt; #cs_play1:checked ~ ul &gt; li {\r\n\t\t-webkit-animation: slide 12300ms infinite;\r\n\t\t-moz-animation: slide 12300ms infinite;\r\n\t\tanimation: slide 12300ms infinite;\r\n\t\t\r\n\t}\r\n\r\n\r\n\t.csslider1 &gt; #cs_play1:checked ~ ul &gt; li,\r\n\t.csslider1 &gt; .pause:checked ~ ul &gt; li {\r\n\t\t-webkit-transition: none;\r\n\t\t-moz-transition: none;\r\n\t\ttransition: none;\r\n\t\t\r\n\t}\r\n\r\n\r\n\t/* /calculate autoplay */\r\n\t.csslider1 &gt; .cs_arrowprev,\r\n\t.csslider1 &gt; .cs_arrownext {\r\n\t\ttop: 0;\r\n\t\tbottom: 0;\r\n\t\twidth: 15%;\r\n\t\topacity: .5;\r\n\t}\r\n\t.csslider1 &gt; .cs_arrowprev:hover,\r\n\t.csslider1 &gt; .cs_arrownext:hover {\r\n\t\topacity: .9;\r\n\t}\r\n\t.csslider1 &gt; .cs_arrowprev {\r\n\t\tleft: 0;\r\n\t\tbackground-image: -webkit-linear-gradient(left, rgba(0,0,0,0.5) 0, rgba(0,0,0,0.0001) 100%);\r\n\t\tbackground-image: linear-gradient(to right, rgba(0,0,0,0.5) 0, rgba(0,0,0,0.0001) 100%);\r\n\t\tfilter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#80000000', endColorstr='#00000000', GradientType=1);\r\n\t\tbackground-repeat: repeat-x;\r\n\t}\r\n\t.csslider1 &gt; .cs_arrownext {\r\n\t\tright: 0;\r\n\t\tbackground-image: -webkit-linear-gradient(left, rgba(0,0,0,0.0001) 0, rgba(0,0,0,0.5) 100%);\r\n\t\tbackground-image: linear-gradient(to right, rgba(0,0,0,0.0001) 0, rgba(0,0,0,0.5) 100%);\r\n\t\tfilter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#00000000', endColorstr='#80000000', GradientType=1);\r\n\t\tbackground-repeat: repeat-x;\r\n\t}\r\n\r\n\t.csslider1 &gt; .cs_arrowprev &gt; label,\r\n\t.csslider1 &gt; .cs_arrownext &gt; label {\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tbottom: 0;\r\n\t\twidth: 100%;\r\n\t}\r\n\t.csslider1 &gt; .cs_arrowprev &gt; label span,\r\n\t.csslider1 &gt; .cs_arrownext &gt; label span {\r\n\t\tdisplay: block;\r\n\t\tposition: absolute;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\t.csslider1 &gt; .cs_arrowprev &gt; label span {\r\n\t\tfloat: left;\r\n\t}\r\n\t.csslider1 &gt; .cs_arrownext &gt; label span {\r\n\t\tfloat: right;\r\n\t}\r\n\r\n\t.csslider1 &gt; .cs_arrowprev &gt; label span:after,\r\n\t.csslider1 &gt; .cs_arrownext &gt; label span:after {\r\n\t\tdisplay: block;\r\n\t\tposition: absolute;\r\n\t\twidth: 30px;\r\n\t\theight:30px;\r\n\t\ttop: 50%;\r\n\t\tmargin-top: -23px;\r\n\t\tcolor: #fff;\r\n\t\ttext-align: center;\r\n\t\tcontent:'';\r\n\t}\r\n\r\n\t.csslider1 &gt; .cs_arrowprev &gt; label span:after {\r\n\t    background: url('https://s3.amazonaws.com/www.betaoutcdn.com/210522016/02/1455161770.png');\r\n\t    background-size:100% auto; \r\n\t}\r\n\t.csslider1 &gt; .cs_arrownext &gt; label span:after {\r\n\t    background: url('https://s3.amazonaws.com/www.betaoutcdn.com/210522016/02/1455161750.png');\r\n\t\tbackground-size:100% auto; \r\n\t}\r\n\t.csslider1 &gt; .cs_bullets {\r\n\t\tbottom: 20px;\r\n\t\twidth: 70%;\r\n\t\tleft: 15%;\r\n\t}\r\n\t.csslider1 &gt; .cs_bullets &gt; label {\r\n\t\tmargin: 0 2px;\r\n\t\tpadding: 5px;\r\n\t\tborder-radius: 50%;\r\n\t\tbackground: transparent;\r\n\t\t-webkit-box-shadow: inset 0 0 0 1px #fff;\r\n\t\tbox-shadow: inset 0 0 0 1px #fff; \r\n\t}\r\n\r\n\t.csslider1 &gt; .cs_bullets &gt; label &gt; .cs_thumb {\r\n\t\tborder: 3px solid #fff;\r\n\t\tmargin-top: -13px;\r\n\t\t-webkit-transition: opacity .3s, visibility .3s;\r\n\t\t-moz-transition: opacity .3s, visibility .3s;\r\n\t\ttransition: opacity .3s, visibility .3s;\r\n\t\t\r\n\t}\r\n\t.csslider1 &gt; .cs_bullets &gt; label &gt; .cs_thumb:before {\r\n\t\tcontent: '';\r\n\t\tposition: absolute;\r\n\t\twidth: 0; \r\n\t\theight: 0; \r\n\t\tleft: 50%;\r\n\t\tmargin-left: -5px;\r\n\t\tbottom: -10px;\r\n\t\tborder-left: 7px solid transparent;\r\n\t\tborder-right: 7px solid transparent;\r\n\t\t\r\n\t\tborder-top: 7px solid #fff;\r\n\t}\r\n\t.csslider1 &gt; .cs_bullets &gt; label:hover &gt; .cs_thumb {\r\n\t\topacity: 1;\r\n\t\tvisibility: visible;\r\n\t}\r\n\r\n\t.csslider1 &gt; #cs_slide1_0:checked ~ .cs_bullets &gt; label.num0,\r\n\t.csslider1 &gt; #cs_pause1_0:checked ~ .cs_bullets &gt; label.num0,\r\n\t.csslider1 &gt; #cs_slide1_1:checked ~ .cs_bullets &gt; label.num1,\r\n\t.csslider1 &gt; #cs_pause1_1:checked ~ .cs_bullets &gt; label.num1,\r\n\t.csslider1 &gt; #cs_slide1_2:checked ~ .cs_bullets &gt; label.num2,\r\n\t.csslider1 &gt; #cs_pause1_2:checked ~ .cs_bullets &gt; label.num2 {\r\n\t\tbackground: #fff;\r\n\t\tpadding: 6px;\r\n\t\t-webkit-box-shadow: none;\r\n\t\tbox-shadow: none; \r\n\t}\r\n\r\n\t@-webkit-keyframes bullet {\r\n\t\t0%, 33.32333333333334%\t{\r\n\t\t\t-webkit-box-shadow: none;\r\n\t\t\tbackground: #fff;\r\n\t\t\tpadding: 6px;\r\n\t\t}\r\n\t\t33.333333333333336%, 100% {\r\n\t\t\t-webkit-box-shadow: inset 0 0 0 1px #fff;\r\n\t\t\tbackground: transparent;\r\n\t\t\tpadding: 5px;\r\n\t\t\tmargin-bottom: 0;\r\n\t\t}\r\n\t}\r\n\t@-moz-keyframes bullet {\r\n\t\t0%, 33.32333333333334%\t{\r\n\t\t\t-moz-box-shadow: none;\r\n\t\t\tbackground: #fff;\r\n\t\t\tpadding: 6px;\r\n\t\t}\r\n\t\t33.333333333333336%, 100% {\r\n\t\t\t-moz-box-shadow: inset 0 0 0 1px #fff;\r\n\t\t\tbackground: transparent;\r\n\t\t\tpadding: 5px;\r\n\t\t\tmargin-bottom: 0;\r\n\t\t}\r\n\t}\r\n\t@keyframes bullet {\r\n\t\t0%, 33.32333333333334%\t{\r\n\t\t\tbox-shadow: none;\r\n\t\t\tbackground: #fff;\r\n\t\t\tpadding: 6px;\r\n\t\t}\r\n\t\t33.333333333333336%, 100% {\r\n\t\t\tbox-shadow: inset 0 0 0 1px #fff;\r\n\t\t\tbackground: transparent;\r\n\t\t\tpadding: 5px;\r\n\t\t\tmargin-bottom: 0;\r\n\t\t}\r\n\t}\r\n\r\n\t.csslider1 &gt; #cs_play1:checked ~ .cs_bullets &gt; label.num0 {\r\n\t\t-webkit-animation: bullet 12300ms infinite -1000ms;\r\n\t\t-moz-animation: bullet 12300ms infinite -1000ms;\r\n\t\tanimation: bullet 12300ms infinite -1000ms;\r\n\t\t\r\n\t}\r\n\t.csslider1 &gt; #cs_play1:checked ~ .cs_bullets &gt; label.num1 {\r\n\t\t-webkit-animation: bullet 12300ms infinite 3100ms;\r\n\t\t-moz-animation: bullet 12300ms infinite 3100ms;\r\n\t\tanimation: bullet 12300ms infinite 3100ms;\r\n\t\t\r\n\t}\r\n\t.csslider1 &gt; #cs_play1:checked ~ .cs_bullets &gt; label.num2 {\r\n\t\t-webkit-animation: bullet 12300ms infinite 7200ms;\r\n\t\t-moz-animation: bullet 12300ms infinite 7200ms;\r\n\t\tanimation: bullet 12300ms infinite 7200ms;\r\n\t\t\r\n\t}\r\n\r\n\t.csslider1 &gt; #cs_play1:checked ~ .cs_bullets &gt; label &gt; .cs_point,\r\n\t.csslider1 &gt; .pause:checked ~ .cs_bullets &gt; label &gt; .cs_point {\r\n\t\t-webkit-transition: none;\r\n\t\t-moz-transition: none;\r\n\t\ttransition: none;\r\n\t\t\r\n\t}\r\n\r\n\t.csslider1 &gt; .slide:checked ~ .cs_bullets &gt; label &gt; .cs_point,\r\n\t.csslider1 &gt; .pause:checked ~ .cs_bullets &gt; label &gt; .cs_point {\r\n\t\t-webkit-animation: none;\r\n\t\t-moz-animation: none;\r\n\t\t-ms-animation: none;\r\n\t\t-o-animation: none;\r\n\t\tanimation: none;\r\n\t}\r\n\r\n\t\r\n\t/* ------------- Play ------------- */\r\n\t.csslider1 &gt; .cs_play_pause{display:block;}\r\n\t\r\n\t.csslider1 &gt; .cs_play_pause {\r\n\t  position: absolute;\r\n\t  bottom: 0;\r\n\t  right: 0;\r\n\t  z-index: 5;\r\n\t}\r\n\t.csslider1 &gt; .cs_play_pause &gt; label {\r\n\t  cursor: pointer;\r\n\t}\r\n\t.csslider1 &gt; #cs_play1:checked ~ .cs_play_pause &gt; .cs_pause,\r\n\t.csslider1 &gt; .slide:checked ~ .cs_play_pause &gt; .cs_play,\r\n\t.csslider1 &gt; .pause:checked ~ .cs_play_pause &gt; .cs_play {\r\n\t  display: block;\r\n\t  z-index: 5;\r\n\t}\r\n\t.csslider1 &gt; #cs_play1:checked ~ .cs_play_pause &gt; .cs_play,\r\n\t.csslider1 &gt; .slide:checked ~ .cs_play_pause &gt; .cs_pause,\r\n\t.csslider1 &gt; .pause:checked ~ .cs_play_pause &gt; .cs_pause {\r\n\t  display: none;\r\n\t  z-index: -1;\r\n\t}\r\n\r\n\r\n\r\n\t@-webkit-keyframes pauseChange {\r\n\t  0%, 33.32333333333334% { opacity: 1; z-index: 5; }\r\n\t  33.333333333333336%, 100%  { opacity: 0; z-index: -1; }\r\n\t}\r\n\t@keyframes pauseChange {\r\n\t  0%, 33.32333333333334% { opacity: 1; z-index: 5; }\r\n\t  33.333333333333336%, 100%  { opacity: 0; z-index: -1; }\r\n\t}\r\n\r\n\r\n\t.csslider1 &gt; #cs_play1:checked ~ .cs_play_pause &gt; .cs_pause.num0 {\r\n\t  opacity: 0;\r\n\t  z-index: -1;\r\n\t  -webkit-animation: pauseChange 10800ms infinite -1900ms;\r\n\t  animation: pauseChange 10800ms infinite -1900ms;\r\n\t}\r\n\t.csslider1 &gt; #cs_play1:checked ~ .cs_play_pause{display:none;}\r\n\t\r\n\t.csslider1 &gt; #cs_play1:checked ~ .cs_play_pause &gt; .cs_pause.num1 {\r\n\t  opacity: 0;\r\n\t  z-index: -1;\r\n\t  -webkit-animation: pauseChange 10800ms infinite 1700ms;\r\n\t  animation: pauseChange 10800ms infinite 1700ms;\r\n\t}\r\n\t.csslider1 &gt; #cs_play1:checked ~ .cs_play_pause &gt; .cs_pause.num2 {\r\n\t  opacity: 0;\r\n\t  z-index: -1;\r\n\t  -webkit-animation: pauseChange 10800ms infinite 5300ms;\r\n\t  animation: pauseChange 10800ms infinite 5300ms;\r\n\t}\r\n\r\n\r\n\t.csslider1 &gt; .slide:checked ~ .cs_play_pause &gt; .cs_pause,\r\n\t.csslider1 &gt; .pause:checked ~ .cs_play_pause &gt; .cs_pause {\r\n\t  -webkit-animation: none;\r\n\t  animation: none;\r\n\t}\r\n\r\n\t/* ------------- Play Pause CSS ------------- */\r\n\t.csslider1{position:relative}\r\n\t.csslider1 &gt; .slide:checked ~ .cs_play_pause &gt; .cs_play{\r\n\t    display: block;\r\n\t    background: rgba(0,0,0,0.5);\r\n\t    z-index: 5;\r\n\t    color: #fff;\r\n\t    padding: 5px;\r\n\t    font-family: arial;\r\n\t    font-size: 9px;\r\n\t}\r\n\t.csslider1 &gt; .slide:checked ~ .cs_play_pause &gt; .cs_play:hover{ background: rgba(0,0,0,1);}\r\n\t.csslider1 &gt; .cs_play_pause {\r\n\t    position: absolute;\r\n\t    bottom: 0;\r\n\t    z-index: 5;\r\n\t    margin-right: 0;\r\n\t    z-index: 111;\r\n\t}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"csslider1 autoplay cs_handle\" style=\"width:200px;\"&gt;\r\n        &lt;input name=\"cs_anchor1\" id=\"cs_slide1_0\" type=\"radio\" class=\"cs_anchor slide\"&gt;\r\n        &lt;input name=\"cs_anchor1\" id=\"cs_slide1_1\" type=\"radio\" class=\"cs_anchor slide\"&gt;\r\n        &lt;input name=\"cs_anchor1\" id=\"cs_slide1_2\" type=\"radio\" class=\"cs_anchor slide\"&gt;\r\n        &lt;input name=\"cs_anchor1\" id=\"cs_play1\" type=\"radio\" class=\"cs_anchor\" checked=\"\"&gt;\r\n        &lt;input name=\"cs_anchor1\" id=\"cs_pause1_0\" type=\"radio\" class=\"cs_anchor pause\"&gt;\r\n        &lt;input name=\"cs_anchor1\" id=\"cs_pause1_1\" type=\"radio\" class=\"cs_anchor pause\"&gt;\r\n        &lt;input name=\"cs_anchor1\" id=\"cs_pause1_2\" type=\"radio\" class=\"cs_anchor pause\"&gt;\r\n\r\n        &lt;ul&gt;\r\n            &lt;div&gt;\r\n                &lt;img src=\"https://s3.amazonaws.com/www.betaoutcdn.com/210522016/02/1455163105.png\" style=\"width: 100%;\"&gt;\r\n            &lt;/div&gt;\r\n            &lt;li class=\"num0 img\"&gt;\r\n                &lt;a href=\"http://betaout.com\" target=\"_blank\"&gt;\r\n                    &lt;img src=\"https://s3.amazonaws.com/www.betaoutcdn.com/210522016/02/1455163105.png\" alt=\"\" title=\"\"&gt;\r\n                &lt;/a&gt;\r\n            &lt;/li&gt;\r\n            &lt;li class=\"num1 img\"&gt;\r\n                &lt;a href=\"http://betaout.com\" target=\"_blank\"&gt;\r\n                    &lt;img src=\"https://s3.amazonaws.com/www.betaoutcdn.com/210522016/02/1455163167.png\" alt=\"\" title=\"\"&gt;\r\n                &lt;/a&gt;\r\n            &lt;/li&gt;\r\n            &lt;li class=\"num2 img\"&gt;\r\n                &lt;a href=\"http://betaout.com\" target=\"_blank\"&gt;\r\n                    &lt;img src=\"https://s3.amazonaws.com/www.betaoutcdn.com/210522016/02/1455163189.png\" alt=\"\" title=\"\"&gt;\r\n                &lt;/a&gt;\r\n            &lt;/li&gt;\r\n        &lt;/ul&gt;\r\n\r\n\t&lt;div class=\"cs_play_pause\"&gt;\r\n\t\t&lt;label class=\"cs_play\" for=\"cs_play1\"&gt;Play&lt;/label&gt;\t\r\n\t&lt;/div&gt;\r\n\t\r\n        &lt;div class=\"cs_arrowprev\"&gt;\r\n                &lt;label class=\"num0\" for=\"cs_slide1_0\"&gt;&lt;span&gt;&lt;i&gt;&lt;/i&gt;&lt;/span&gt;&lt;/label&gt;\r\n                &lt;label class=\"num1\" for=\"cs_slide1_1\"&gt;&lt;span&gt;&lt;i&gt;&lt;/i&gt;&lt;/span&gt;&lt;/label&gt;\r\n                &lt;label class=\"num2\" for=\"cs_slide1_2\"&gt;&lt;span&gt;&lt;i&gt;&lt;/i&gt;&lt;/span&gt;&lt;/label&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=\"cs_arrownext\"&gt;\r\n                &lt;label class=\"num0\" for=\"cs_slide1_0\"&gt;&lt;span&gt;&lt;i&gt;&lt;/i&gt;&lt;/span&gt;&lt;/label&gt;\r\n                &lt;label class=\"num1\" for=\"cs_slide1_1\"&gt;&lt;span&gt;&lt;i&gt;&lt;/i&gt;&lt;/span&gt;&lt;/label&gt;\r\n                &lt;label class=\"num2\" for=\"cs_slide1_2\"&gt;&lt;span&gt;&lt;i&gt;&lt;/i&gt;&lt;/span&gt;&lt;/label&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div class=\"cs_bullets\"&gt;\r\n                &lt;label class=\"num0\" for=\"cs_slide1_0\"&gt;\r\n                    &lt;span class=\"cs_point\"&gt;&lt;/span&gt;\r\n                &lt;/label&gt;\r\n                &lt;label class=\"num1\" for=\"cs_slide1_1\"&gt;\r\n                    &lt;span class=\"cs_point\"&gt;&lt;/span&gt;\r\n                &lt;/label&gt;\r\n                &lt;label class=\"num2\" for=\"cs_slide1_2\"&gt;\r\n                    &lt;span class=\"cs_point\"&gt;&lt;/span&gt;\r\n                &lt;/label&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How can I make an image carousel with only CSS?", "answer_id": 35338692, "link": "http://stackoverflow.com/questions/30295085/how-can-i-make-an-image-carousel-with-only-css/35338692#35338692", "tags": ["javascript", "jquery", "html", "css"]}], "question_id": 30295085}, {"body": "<p>After failing to get something like the following to compile:</p>\n\n<pre><code>public class Gen&lt;T&gt; where T : System.Array\n{\n}\n</code></pre>\n\n<p>with the error</p>\n\n<blockquote>\n  <p>A constraint cannot be special class `System.Array'</p>\n</blockquote>\n\n<p>I started wondering, what exactly <em>is</em> a \"special class\"?</p>\n\n<p>People often seem to get the same kind of error when they specify <code>System.Enum</code> in a generic constraint. I got the same results with <code>System.Object</code>, <code>System.Delegate</code>, <code>System.MulticastDelegate</code> and <code>System.ValueType</code> too.</p>\n\n<p>Are there more of them? I cannot find any info on \"special classes\" in C#.</p>\n\n<p>Also, what <em>is</em> so special about those classes that we can't use them as a generic type constraint?</p>\n", "title": "What exactly is a &quot;Special Class&quot;?", "tags": ["c#", "class", "generics", "generic-constraints"], "answer_count": 7, "link": "http://stackoverflow.com/questions/29961823/what-exactly-is-a-special-class", "answers": [{"body": "<p>I don't think, that there exists any official definition of \"special classes\"/\"special types\".</p>\n\n<p>You may think about them a a types, which can't be used with semantic of \"regular\" types:</p>\n\n<ul>\n<li>you can't instantiate them directly;</li>\n<li>you can't inherit custom type from them directly;</li>\n<li>there is some compiler magic to work with them (optionally);</li>\n<li>the direct usage of their instances at least useless (optionally; imagine, that you've created generic above, what generic code are you going to write?)</li>\n</ul>\n\n<p>P.S. I'd add <code>System.Void</code> to the list.</p>\n", "title": "What exactly is a &quot;Special Class&quot;?", "answer_id": 29962123, "link": "http://stackoverflow.com/questions/29961823/what-exactly-is-a-special-class/29962123#29962123", "tags": ["c#", "class", "generics", "generic-constraints"]}, {"body": "<p>According to <a href=\"https://msdn.microsoft.com/en-us/library/56b2hk61.aspx\">MSDN</a> it's a static list of classes:</p>\n\n<p><strong>Compiler Error CS0702</strong></p>\n\n<p>Constraint cannot be special class 'identifier' The following types may not be used as constraints: </p>\n\n<ul>\n<li>System.Object</li>\n<li>System.Array</li>\n<li>System.Delegate</li>\n<li>System.Enum</li>\n<li>System.ValueType.</li>\n</ul>\n", "title": "What exactly is a &quot;Special Class&quot;?", "answer_id": 29962133, "link": "http://stackoverflow.com/questions/29961823/what-exactly-is-a-special-class/29962133#29962133", "tags": ["c#", "class", "generics", "generic-constraints"]}, {"body": "<p>From the Roslyn source code, it looks like a list of hardcoded types:</p>\n\n<pre><code>switch (type.SpecialType)\n{\n    case SpecialType.System_Object:\n    case SpecialType.System_ValueType:\n    case SpecialType.System_Enum:\n    case SpecialType.System_Delegate:\n    case SpecialType.System_MulticastDelegate:\n    case SpecialType.System_Array:\n        // \"Constraint cannot be special class '{0}'\"\n        Error(diagnostics, ErrorCode.ERR_SpecialTypeAsBound, syntax, type);\n        return false;\n}\n</code></pre>\n\n<p>Source: <a href=\"http://source.roslyn.codeplex.com/#Microsoft.CodeAnalysis.CSharp/Binder/Binder_Constraints.cs,14be8263fd49892c\">Binder_Constraints.cs IsValidConstraintType</a><br>\nI've found it using a GitHub search: <a href=\"https://github.com/dotnet/roslyn/search?utf8=%E2%9C%93&amp;q=%22A+constraint+cannot+be+special+class%22&amp;type=Code\">\"A constraint cannot be special class\"</a></p>\n", "title": "What exactly is a &quot;Special Class&quot;?", "answer_id": 29962146, "link": "http://stackoverflow.com/questions/29961823/what-exactly-is-a-special-class/29962146#29962146", "tags": ["c#", "class", "generics", "generic-constraints"]}, {"body": "<p>The following can be found in CLR via C# 4th Edition:</p>\n\n<h2>Primary Constraints</h2>\n\n<p>A type parameter can specify zero primary constraints or one primary constraint. A primary\nconstraint can be a reference type that identifies a class that is not sealed. You cannot specify one\nof the following special reference types: <strong>System.Object</strong>, <strong>System.Array</strong>, <strong>System.Delegate</strong>,\n<strong>System.MulticastDelegate</strong>,\n<strong>System.ValueType</strong>, <strong>System.Enum</strong>, or <strong>System.Void</strong>.\nWhen specifying a reference type constraint, you are promising the compiler that a specified type\nargument will either be of the same type or of a type derived from the constraint type.</p>\n", "title": "What exactly is a &quot;Special Class&quot;?", "answer_id": 29962175, "link": "http://stackoverflow.com/questions/29961823/what-exactly-is-a-special-class/29962175#29962175", "tags": ["c#", "class", "generics", "generic-constraints"]}, {"body": "<p>I found a Jon Skeet comment from 2008 on a similar question:\nWhy is the <code>System.Enum</code> constraint <strong>not</strong> supported.</p>\n\n<p><em>I know this is a bit off topic</em>, but he asked Eric Lippert (the C# team) about it and they provided this answer:</p>\n\n<blockquote>\n  <p>First off, your conjecture is correct; the restrictions on constraints\n  are by and large artefacts of the language, not so much the CLR. (Were\n  we to do these features there would be a few minor things we'd like to\n  change in the CLR regarding how enumerable types are specified, but\n  mostly this would be language work.)</p>\n  \n  <p>Second, I would personally love to have delegate constraints, enum\n  constraints, and the ability to specify constraints that are illegal\n  today because the compiler is trying to save you from yourself. (That\n  is, making sealed types legal as constraints, and so on.)</p>\n  \n  <p>However, due to scheduling restrictions, we will likely not be able to\n  get these features into the next version of the language.</p>\n</blockquote>\n\n<p><a href=\"http://objectmix.com/csharp/380169-compiler-error-cs0702-4.html\">Here</a> is the full thread.</p>\n", "title": "What exactly is a &quot;Special Class&quot;?", "answer_id": 29962377, "link": "http://stackoverflow.com/questions/29961823/what-exactly-is-a-special-class/29962377#29962377", "tags": ["c#", "class", "generics", "generic-constraints"]}, {"body": "<p>As per C# 4.0 Language Specification (Coded : [10.1.5] Type parameter constraints) tells two things:</p>\n\n<blockquote>\n  <p>1] The type must not be object. Because all types derive from object,\n  such a constraint would have no effect if it were permitted.<br> </p>\n  \n  <p>2] If T has no primary constraints or type parameter constraints, its effective\n  base class is object.</p>\n</blockquote>\n\n<p>When you define a generic class, you can apply restrictions to the kinds of types that client code can use for type arguments when it instantiates your class. If client code tries to instantiate your class by using a type that is not allowed by a constraint, the result is a compile-time error. These restrictions are called constraints. Constraints are specified by using the where contextual keyword. \n<strong>If you want to constrain a generic type to be a reference type, use : class.</strong></p>\n\n<pre><code>public class Gen&lt;T&gt; where T : class\n{\n}\n</code></pre>\n\n<p>This will prohibit the generic type from being a value type, such as int or a struct etc.</p>\n\n<p>Also, Constraint cannot be special class 'identifier' The following types may not be used as constraints:</p>\n\n<ul>\n<li>System.Object</li>\n<li>System.Array</li>\n<li>System.Delegate</li>\n<li>System.Enum</li>\n<li>System.ValueType.</li>\n</ul>\n", "title": "What exactly is a &quot;Special Class&quot;?", "answer_id": 29962477, "link": "http://stackoverflow.com/questions/29961823/what-exactly-is-a-special-class/29962477#29962477", "tags": ["c#", "class", "generics", "generic-constraints"]}, {"body": "<p>There are certain classes in the Framework which effectively pass on special characteristics to all types derived from them <em>but do not possess those characteristics themselves</em>.  The CLR itself imposes no prohibition against using those classes as constraints, but generic types constrained to them would not acquire the non-inherited characteristics the way concrete types would.  The creators of C# decided that because such behavior might confuse some people, and they failed to see any usefulness to it, they should prohibit such constraints rather than allow them to behave as they do in the CLR.</p>\n\n<p>If, for example, one were allowed to write: <code>void CopyArray&lt;T&gt;(T dest, T source, int start, int count)</code>; one would be able to pass <code>dest</code> and <code>source</code> to methods which expect an argument of type <code>System.Array</code>; further, one would get compile-time validation that <code>dest</code> and <code>source</code> were the compatible array types, but one would not be able to access elements of the array using the <code>[]</code> operator.</p>\n\n<p>The inability to use <code>Array</code> as a constraint is mostly pretty easy to work around, since <code>void CopyArray&lt;T&gt;(T[] dest, T[] source, int start, int count)</code> will work in almost all situation where the former method would work.  It does, however, have a weakness: the former method would work in the scenario that one or both of the arguments was of type <code>System.Array</code> while rejecting cases where the arguments are incompatible array types; adding an overload where both arguments were of type <code>System.Array</code> would make the code accept the additional cases it should accept, but also make it erroneously accept cases it should not.</p>\n\n<p>I find the decision to outlaw most of the special constraints irksome.  The only one which would have zero semantic meaning would be <code>System.Object</code> [since if that were legal as a constraint, anything would satisfy it].  <code>System.ValueType</code> probably wouldn't be very useful, since references of type <code>ValueType</code> don't really have much in common with value types, but it might plausibly have some value in cases involving Reflection.  Both <code>System.Enum</code> and <code>System.Delegate</code> would have some real uses, but since the creators of C# didn't think of them they're outlawed for no good reason.</p>\n", "title": "What exactly is a &quot;Special Class&quot;?", "answer_id": 29969661, "link": "http://stackoverflow.com/questions/29961823/what-exactly-is-a-special-class/29969661#29969661", "tags": ["c#", "class", "generics", "generic-constraints"]}], "question_id": 29961823}], "quota_max": 300, "page_size": 100, "quota_remaining": 298, "page": 1}