{"has_more": true, "items": [{"body": "<p>The following code produces the output \"Hello World!\" (no really, try it).</p>\n\n<pre><code>public static void main(String... args) {\n\n   // The comment below is not a typo.\n   // \\u000d System.out.println(\"Hello World!\");\n}\n</code></pre>\n\n<p>The reason for this is that the Java compiler parses the Unicode character <code>\\u000d</code> as a new line and gets transformed into:</p>\n\n<pre><code>public static void main(String... args) {\n\n   // The comment below is not a typo.\n   //\n   System.out.println(\"Hello World!\");\n}\n</code></pre>\n\n<p>Thus resulting into a comment being \"executed\".</p>\n\n<p>Since this can be used to \"hide\" malicious code or whatever an evil programmer can conceive, <strong>why is it allowed in comments</strong>?</p>\n\n<p>Why is this allowed by the Java specification?</p>\n", "title": "Why is executing Java code in comments with certain Unicode characters allowed?", "tags": ["java", "unicode", "comments"], "answer_count": 7, "link": "http://stackoverflow.com/questions/30727515/why-is-executing-java-code-in-comments-with-certain-unicode-characters-allowed", "answers": [{"body": "<p>Unicode decoding takes place before any other lexical translation. The key benefit of this is that it makes it trivial to go back and forth between ASCII and any other encoding. You don't even need to figure out where comments begin and end!</p>\n\n<p>As stated in <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-3.html#jls-3.3\">JLS Section 3.3</a> this allows any ASCII based tool to process the source files:</p>\n\n<blockquote>\n  <p>[...] The Java programming language specifies a standard way of transforming a program written in Unicode into ASCII that changes a program into a form that can be processed by ASCII-based tools. [...]</p>\n</blockquote>\n\n<p>This gives a fundamental guarantee for platform independence (independence of supported character sets) which has always been a key goal for the Java platform. </p>\n\n<p>Being able to write any Unicode character anywhere in the file is a neat feature, and especially important in comments, when documenting code in non-latin languages. The fact that it can interfere with the semantics in such subtle ways is just an (unfortunate) side-effect.</p>\n\n<p>There are many gotchas on this theme and <a href=\"http://www.javapuzzlers.com/\"><em>Java Puzzlers</em></a> by Joshua Bloch and Neal Gafter included the following variant:</p>\n\n<blockquote>\n  <p>Is this a legal Java program? If so, what does it print?</p>\n\n<pre><code>\\u0070\\u0075\\u0062\\u006c\\u0069\\u0063\\u0020\\u0020\\u0020\\u0020\n\\u0063\\u006c\\u0061\\u0073\\u0073\\u0020\\u0055\\u0067\\u006c\\u0079\n\\u007b\\u0070\\u0075\\u0062\\u006c\\u0069\\u0063\\u0020\\u0020\\u0020\n\\u0020\\u0020\\u0020\\u0020\\u0073\\u0074\\u0061\\u0074\\u0069\\u0063\n\\u0076\\u006f\\u0069\\u0064\\u0020\\u006d\\u0061\\u0069\\u006e\\u0028\n\\u0053\\u0074\\u0072\\u0069\\u006e\\u0067\\u005b\\u005d\\u0020\\u0020\n\\u0020\\u0020\\u0020\\u0020\\u0061\\u0072\\u0067\\u0073\\u0029\\u007b\n\\u0053\\u0079\\u0073\\u0074\\u0065\\u006d\\u002e\\u006f\\u0075\\u0074\n\\u002e\\u0070\\u0072\\u0069\\u006e\\u0074\\u006c\\u006e\\u0028\\u0020\n\\u0022\\u0048\\u0065\\u006c\\u006c\\u006f\\u0020\\u0077\\u0022\\u002b\n\\u0022\\u006f\\u0072\\u006c\\u0064\\u0022\\u0029\\u003b\\u007d\\u007d\n</code></pre>\n</blockquote>\n\n<p>(This program turns out to be a plain \"Hello World\" program.)</p>\n\n<p>In the solution to the puzzler, they point out the following:</p>\n\n<blockquote>\n  <p>More seriously, this puzzle serves to reinforce the lessons of the previous three: <strong>Unicode escapes are essential when you need to insert characters that can\u2019t be represented in any other way into your program. Avoid them in all other cases.</strong></p>\n</blockquote>\n", "title": "Why is executing Java code in comments with certain Unicode characters allowed?", "answer_id": 30727799, "question_id": 30727515, "tags": ["java", "unicode", "comments"]}, {"body": "<p>The <code>\\u000d</code> escape terminates a comment because <code>\\u</code> escapes are uniformly converted to the corresponding Unicode characters <em>before</em> the program is tokenized.  You could equally use <code>\\u0057\\u0057</code> instead of <code>//</code> to <em>begin</em> a comment.</p>\n\n<p>This is a bug in your IDE, which should syntax-highlight the line to make it clear that the <code>\\u000d</code> ends the comment.</p>\n\n<p>This is also a design error in the language.  It can't be corrected now, because that would break programs that depend on it.  <code>\\u</code> escapes should either be converted to the corresponding Unicode character by the compiler only in contexts where that \"makes sense\" (string literals and identifiers, and probably nowhere else) or they should have been forbidden to generate characters in the U+0000\u2013007F range, or both.  Either of those semantics would have prevented the comment from being terminated by the <code>\\u000d</code> escape, without interfering with the cases where <code>\\u</code> escapes are useful\u2014note that that <em>includes</em> use of <code>\\u</code> escapes inside comments as a way to encode comments in a non-Latin script, because the text editor could take a broader view of where <code>\\u</code> escapes are significant than the compiler does.  (I am not aware of any editor or IDE that will display <code>\\u</code> escapes as the corresponding characters in <em>any</em> context, though.)</p>\n\n<p>There is a similar design error in the C family,<sup>1</sup> where backslash-newline is processed before comment boundaries are determined, so e.g.</p>\n\n<pre><code>// this is a comment \\\n   this is still in the comment!\n</code></pre>\n\n<p>I bring this up to illustrate that it happens to be easy to make this particular design error, and not realize that it's an error until it is too late to correct it, if you are used to thinking about tokenization and parsing the way compiler programmers think about tokenization and parsing.  Basically, if you have already defined your formal grammar and then someone comes up with a syntactic special case &mdash; trigraphs, backslash-newline, encoding arbitrary Unicode characters in source files limited to ASCII, whatever &mdash; that needs to be wedged in, it's easier to add a transformation pass <em>before</em> the tokenizer than it is to redefine the tokenizer to pay attention to where it makes sense to use that special case.</p>\n\n<p><sup>1</sup> For pedants: I am aware that this aspect of C was 100% intentional, with the rationale &mdash; I am not making this up &mdash; that it would allow you to mechanically force-fit code with arbitrarily long lines onto punched cards.  It was still an incorrect design decision.</p>\n", "title": "Why is executing Java code in comments with certain Unicode characters allowed?", "answer_id": 30736170, "question_id": 30727515, "tags": ["java", "unicode", "comments"]}, {"body": "<p>I agree with @zwol that this is a design mistake; but I'm even more critical of it.</p>\n\n<p><code>\\u</code> escape is useful in string and char literals; and that's the only place that it should exist. It should be handled the same way as other escapes like <code>\\n</code>; and <code>\"\\u000A\"</code> <em>should</em> mean exactly <code>\"\\n\"</code>.</p>\n\n<p>There is absolutely no point of having <code>\\uxxxx</code> in comments - nobody can read that.</p>\n\n<p>Similarly, there's no point of using <code>\\uxxxx</code> in other part of the program. The only exception is probably in public APIs that are coerced to contain some non-ascii chars - what's the last time we've seen that?</p>\n\n<p>The designers had their reasons in 1995, but 20 years later, this appears to be a wrong choice.</p>\n\n<p><em>(question to readers - why does this question keep getting new votes? is this question linked from somewhere popular?)</em></p>\n", "title": "Why is executing Java code in comments with certain Unicode characters allowed?", "answer_id": 30738171, "question_id": 30727515, "tags": ["java", "unicode", "comments"]}, {"body": "<p>Since this hasn\u2019t addressed yet, here an explanation, why the translation of Unicode escapes happens before any other source code processing:</p>\n\n<p>The idea behind it was that it allows lossless translations of Java source code between different character encodings. Today, there is widespread Unicode support, and this doesn\u2019t look like a problem, but back then it wasn\u2019t easy for a developer from a western country to receive some source code from his Asian colleague containing Asian characters, make some changes (including compiling and testing it) and sending the result back, all without damaging something.</p>\n\n<p>So, Java source code can be written in any encoding and allows a wide range of characters within identifiers, character and <code>String</code> literals and comments. Then, in order to transfer it losslessly, all characters not supported by the target encoding are replaced by their Unicode escapes.</p>\n\n<p>This is a reversible process and the interesting point is that the translation can be done by a tool which doesn\u2019t need to know anything about the Java source code syntax as the translation rule is not dependent on it. This works as the translation to their actual Unicode characters inside the compiler happens independently to the Java source code syntax as well. It implies that you can perform an arbitrary number of translation steps in both directions without ever changing the meaning of the source code.</p>\n\n<p>This is the reason for another weird feature which hasn\u2019t even mentioned: the <code>\\uuuuuuxxxx</code> syntax:</p>\n\n<p>When a translation tool is escaping characters and encounters a sequence that is already an escaped sequence, it should insert an additional <code>u</code> into the sequence, converting <code>\\ucafe</code> to <code>\\uucafe</code>. The meaning doesn\u2019t change, but when converting into the other direction, the tool should just remove one <code>u</code> and replace only sequences containing a single <code>u</code> by their Unicode characters. That way, even Unicode escapes are retained in their original form when converting back and forth. I guess, no-one ever used that feature\u2026</p>\n", "title": "Why is executing Java code in comments with certain Unicode characters allowed?", "answer_id": 30739477, "question_id": 30727515, "tags": ["java", "unicode", "comments"]}, {"body": "<p>This was an intentional design choice that goes all the way back to the original design of Java.</p>\n\n<p>To those folks who ask \"who wants Unicode escapes in comments?\", I presume they are folks whose native language uses the Latin character set. In other words, it is inherent in the original design of Java that folks could use arbitrary Unicode characters wherever legal in a Java program, most typically in comments and strings.</p>\n\n<p>It is arguably a shortcoming in programs (like IDEs) used to view the source text that such programs cannot interpret the Unicode escapes and display the corresponding glyph.</p>\n", "title": "Why is executing Java code in comments with certain Unicode characters allowed?", "answer_id": 30740325, "question_id": 30727515, "tags": ["java", "unicode", "comments"]}, {"body": "<p>I'm going to completely ineffectually add the point, just because I can't help myself and I haven't seen it made yet, that the question is invalid since it contains a hidden premise which is wrong, namely that the code is in a comment!</p>\n\n<p>In Java source code \\u000d is equivalent in every way to an ASCII CR character. It is a line ending, plain and simple, wherever it occurs. The formatting in the question is misleading, what that sequence of characters actually syntactically corresponds to is:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String... args) {\n   // The comment below is no typo. \n   // \n System.out.println(\"Hello World!\");\n}\n</code></pre>\n\n<p>IMHO the most correct answer is therefore: the code executes because it isn't in a comment; it's on the next line. \"Executing code in comments\" is not allowed in Java, just like you would expect.</p>\n\n<p>Much of the confusion stems from the fact that syntax highlighters and IDEs aren't sophisticated enough to take this situation into account. They either don't process the unicode escapes at all, or they do it after parsing the code instead of before, like <code>javac</code> does.</p>\n", "title": "Why is executing Java code in comments with certain Unicode characters allowed?", "answer_id": 30763499, "question_id": 30727515, "tags": ["java", "unicode", "comments"]}, {"body": "<p>The only people who can answer why Unicode escapes were implemented as they were are the people who wrote the specification.</p>\n\n<p>A plausible reason for this is that there was the desire to allow the entire BMP as possible characters of Java source code. This presents a problem though:</p>\n\n<ul>\n<li>You want to be able to use any BMP character.</li>\n<li>You want to be able to input any BMP charater reasonably easy. A way to do this is with Unicode escapes.</li>\n<li>You want to keep the lexical specification easy for humans to read and write, and reasonably easy to implement as well.</li>\n</ul>\n\n<p>This is incredibly difficult when Unicode escapes enter the fray: it creates a whole load of new lexer rules.</p>\n\n<p>The easy way out is to do lexing in two steps: first search and replace all Unicode escapes with the character it represents, and then parse the resulting document as if Unicode escapes don't exist.</p>\n\n<p>The upside to this is that it's easy to specify, so it makes the specification simpler, and it's easy to implement.</p>\n\n<p>The downside is, well, your example.</p>\n", "title": "Why is executing Java code in comments with certain Unicode characters allowed?", "answer_id": 30802558, "question_id": 30727515, "tags": ["java", "unicode", "comments"]}], "question_id": 30727515}, {"body": "<p>What setting do I need to put in my <code>info.plist</code> to enable <code>http</code> mode as per the following error message?</p>\n\n<p><strong>Transport security has blocked a cleartext HTTP (http://) resource load since it is insecure. Temporary exceptions can be configured via your app's Info.plist file.</strong></p>\n\n<p><a href=\"http://i.stack.imgur.com/phCr2.png\"><img src=\"http://i.stack.imgur.com/phCr2.png\" alt=\"Enter image description here\"></a></p>\n", "title": "Transport security has blocked a cleartext HTTP", "tags": ["ios", "xcode", "swift", "ios9", "app-transport-security"], "answer_count": 24, "link": "http://stackoverflow.com/questions/31254725/transport-security-has-blocked-a-cleartext-http", "answers": [{"body": "<p>See the forum post <em><a href=\"https://forums.developer.apple.com/thread/3544\">Application Transport Security?</a></em>.</p>\n\n<p>Also the page <em><a href=\"http://ste.vn/2015/06/10/configuring-app-transport-security-ios-9-osx-10-11/\">Configuring App Transport Security Exceptions in iOS 9 and OSX 10.11</a></em>.</p>\n\n<p>For example, you can add a specific domain like:</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n  &lt;key&gt;NSExceptionDomains&lt;/key&gt;\n  &lt;dict&gt;\n    &lt;key&gt;yourserver.com&lt;/key&gt;\n    &lt;dict&gt;\n      &lt;!--Include to allow subdomains--&gt;\n      &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;\n      &lt;true/&gt;\n      &lt;!--Include to allow HTTP requests--&gt;\n      &lt;key&gt;NSTemporaryExceptionAllowsInsecureHTTPLoads&lt;/key&gt;\n      &lt;true/&gt;\n      &lt;!--Include to specify minimum TLS version--&gt;\n      &lt;key&gt;NSTemporaryExceptionMinimumTLSVersion&lt;/key&gt;\n      &lt;string&gt;TLSv1.1&lt;/string&gt;\n    &lt;/dict&gt;\n  &lt;/dict&gt;\n&lt;/dict&gt;\n</code></pre>\n\n<p>The lazy option is:</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n  &lt;!--Include to allow all connections (DANGER)--&gt;\n  &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n      &lt;true/&gt;\n&lt;/dict&gt;\n</code></pre>\n\n<h3>Note:</h3>\n\n<p><code>info.plist</code> is an XML file so you can place this code more or less anywhere inside the file.</p>\n", "title": "Transport security has blocked a cleartext HTTP", "answer_id": 31254874, "question_id": 31254725, "tags": ["ios", "xcode", "swift", "ios9", "app-transport-security"]}, {"body": "<p>Use:</p>\n\n<p><a href=\"http://i.stack.imgur.com/CJ8FA.png\"><img src=\"http://i.stack.imgur.com/CJ8FA.png\" alt=\"Enter image description here\"></a></p>\n\n<p>You have to set the <strong>NSAllowsArbitraryLoads</strong> key to <strong>YES</strong> under <strong>NSAppTransportSecurity</strong> dictionary in your .plist file.</p>\n\n<p><a href=\"http://i.stack.imgur.com/QSnGS.png\"><img src=\"http://i.stack.imgur.com/QSnGS.png\" alt=\"Plist configuration\"></a></p>\n", "title": "Transport security has blocked a cleartext HTTP", "answer_id": 31807139, "question_id": 31254725, "tags": ["ios", "xcode", "swift", "ios9", "app-transport-security"]}, {"body": "<p>This is a quick workaround (but not recommended) to add this in the plist:</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n    &lt;true/&gt;\n&lt;/dict&gt;\n</code></pre>\n\n<p>Which means (according to <a href=\"https://developer.apple.com/library/prerelease/ios/technotes/App-Transport-Security-Technote/\">Apple's documentation</a>):</p>\n\n<blockquote>\n  <p>NSAllowsArbitraryLoads <br/>\n  A Boolean value used to disable App Transport Security for any domains not listed in the NSExceptionDomains dictionary. Listed domains use the settings specified for that domain.</p>\n  \n  <p>The default value of NO requires the default App Transport Security behaviour for all connections.</p>\n</blockquote>\n\n<p>I really recommend links:</p>\n\n<ul>\n<li><a href=\"https://developer.apple.com/library/prerelease/ios/technotes/App-Transport-Security-Technote/\">Apple's technical note</a></li>\n<li><a href=\"https://developer.apple.com/videos/wwdc/2015/?id=706\">WWDC 2015 session 706 (Security and Your Apps)</a> starts around 1:50</li>\n<li><a href=\"https://developer.apple.com/videos/play/wwdc2015-711/\">WWDC 2015 session 711 (Networking with NSURLSession)</a></li>\n<li>Blog post <em><a href=\"http://timekl.com/blog/2015/08/21/shipping-an-app-with-app-transport-security/\">Shipping an App With App Transport Security</a></em></li>\n</ul>\n\n<p>which help me understand reasons and all the implications.</p>\n\n<p>The XML (in file Info.plist) below will:</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n    &lt;false/&gt;\n    &lt;key&gt;NSExceptionDomains&lt;/key&gt;\n    &lt;dict&gt;\n        &lt;key&gt;PAGE_FOR_WHICH_SETTINGS_YOU_WANT_TO_OVERRIDE&lt;/key&gt;\n        &lt;dict&gt;\n            &lt;key&gt;NSExceptionAllowsInsecureHTTPLoads&lt;/key&gt;\n            &lt;true/&gt;\n        &lt;/dict&gt;\n    &lt;/dict&gt;\n&lt;/dict&gt;\n</code></pre>\n\n<p>disallow arbitrary calls for all pages, but for <code>PAGE_FOR_WHICH_SETTINGS_YOU_WANT_TO_OVERRIDE</code> will allow that connections use the HTTP protocol.</p>\n\n<p>To the XML above you can add:</p>\n\n<pre><code>&lt;key&gt;NSIncludesSubdomains&lt;/key&gt;\n&lt;true/&gt;\n</code></pre>\n\n<p>if you want to allow insecure connections for the subdomains of the specified address.</p>\n\n<p>The best approach is to block all arbitrary loads (set to false) and add exceptions to allow only addresses we know are fine.</p>\n\n<p><a href=\"https://www.dzombak.com/blog/2015/09/Nobody-is-using-App-Transport-Security--what-s-next-.html\">For interested readers</a></p>\n", "title": "Transport security has blocked a cleartext HTTP", "answer_id": 32331282, "question_id": 31254725, "tags": ["ios", "xcode", "swift", "ios9", "app-transport-security"]}, {"body": "<p>This was tested and was working on iOS 9 GM seed - this is the configuration to allow a <em>specific</em> domain to use HTTP instead of HTTPS:</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n      &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n      &lt;false/&gt;\n       &lt;key&gt;NSExceptionDomains&lt;/key&gt;\n       &lt;dict&gt;\n            &lt;key&gt;yourdomain.com&lt;/key&gt;\n            &lt;dict&gt;\n                &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;\n                &lt;true/&gt;\n                &lt;key&gt;NSTemporaryExceptionAllowsInsecureHTTPLoads&lt;/key&gt;\n                &lt;true/&gt;\n                &lt;key&gt;NSTemporaryExceptionMinimumTLSVersion&lt;/key&gt;\n                &lt;string&gt;TLSv1.1&lt;/string&gt;\n            &lt;/dict&gt;\n       &lt;/dict&gt;\n&lt;/dict&gt;\n</code></pre>\n\n<p><code>NSAllowsArbitraryLoads</code> must be <code>false</code>, because it disallows <strong>all</strong> insecure connection, but the exceptions list allows connection to <strong>some</strong> domains without HTTPS.</p>\n", "title": "Transport security has blocked a cleartext HTTP", "answer_id": 32560433, "question_id": 31254725, "tags": ["ios", "xcode", "swift", "ios9", "app-transport-security"]}, {"body": "<p>It works for me too; just copy and paste the following into your info.plist file:</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n      &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n      &lt;false/&gt;\n       &lt;key&gt;NSExceptionDomains&lt;/key&gt;\n       &lt;dict&gt;\n            &lt;key&gt;yourdomain.com&lt;/key&gt;\n            &lt;dict&gt;\n                &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;\n                &lt;true/&gt;\n                &lt;key&gt;NSTemporaryExceptionAllowsInsecureHTTPLoads&lt;/key&gt;\n                &lt;true/&gt;\n                &lt;key&gt;NSTemporaryExceptionMinimumTLSVersion&lt;/key&gt;\n                &lt;string&gt;TLSv1.1&lt;/string&gt;\n            &lt;/dict&gt;\n       &lt;/dict&gt;\n&lt;/dict&gt;\n</code></pre>\n", "title": "Transport security has blocked a cleartext HTTP", "answer_id": 32621793, "question_id": 31254725, "tags": ["ios", "xcode", "swift", "ios9", "app-transport-security"]}, {"body": "<p>Transport security is available on iOS 9.0 or later. You may have this warning when trying to call a WS inside your application:</p>\n\n<blockquote>\n  <p>Application Transport Security has blocked a cleartext HTTP (http://) resource load since it is insecure. Temporary exceptions can be configured via your app's Info.plist file.</p>\n</blockquote>\n\n<p>Adding the following to your Info.plist will disable ATS:</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n     &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;&lt;true/&gt;\n&lt;/dict&gt;\n</code></pre>\n", "title": "Transport security has blocked a cleartext HTTP", "answer_id": 32657943, "question_id": 31254725, "tags": ["ios", "xcode", "swift", "ios9", "app-transport-security"]}, {"body": "<p>Use:</p>\n\n<p><a href=\"http://i.stack.imgur.com/WTTGJ.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/WTTGJ.png\" alt=\"PList Screenshot to understand better\"></a></p>\n\n<p>Add a new item, <strong>NSAppTransportSecurity</strong>, in the plist file with type <strong>Dictionary</strong>, then add sub item <strong>NSAllowsArbitraryLoads</strong> in dictionary of type <strong>Boolean</strong>, and set bool value <strong>YES</strong>. This works for me.</p>\n", "title": "Transport security has blocked a cleartext HTTP", "answer_id": 32691375, "question_id": 31254725, "tags": ["ios", "xcode", "swift", "ios9", "app-transport-security"]}, {"body": "<p>For those of you who want a more context on <strong><em>why</em></strong> this is happening, in addition to how to fix it, then read below.</p>\n\n<p>With the introduction of iOS 9, to improve the security of connections between an app and web services, <em>secure connections between an app and its web service must follow best practices</em>. The best practices behavior is enforced by the <strong>App Transport Security</strong> to:</p>\n\n<ul>\n<li>prevent accidental disclosure, and</li>\n<li>provide a default behavior that is secure.</li>\n</ul>\n\n<p>As explained in the <a href=\"https://developer.apple.com/library/prerelease/ios/technotes/App-Transport-Security-Technote/\">App Transport Security Technote</a>, when communicating with your web service, App Transport Security now has the following requirements and behavior:</p>\n\n<blockquote>\n  <ul>\n  <li>The server must support at least Transport Layer Security (TLS) protocol version 1.2.</li>\n  <li>Connection ciphers are limited to those that provide forward secrecy (see the list of ciphers below.)</li>\n  <li>Certificates must be signed using a SHA256 or better signature hash algorithm, with either a 2048 bit or greater RSA key or a 256 bit or\n  greater Elliptic-Curve (ECC) key.</li>\n  <li>Invalid certificates result in a hard failure and no connection.</li>\n  </ul>\n</blockquote>\n\n<p>In other words, your web service request should: a.) use <em>HTTPS</em> and b.) be encrypted using TLS v1.2 with forward secrecy.</p>\n\n<p>However, as was mentioned in other posts, you can override this new behavior from App Transport Security by specifying the insecure domain in the <code>Info.plist</code> of your app.</p>\n\n<hr>\n\n<p>To override, you will need to add the <code>NSAppTransportSecurity</code> > <code>NSExceptionDomains</code> dictionary properties to your <code>Info.plist</code>. Next, you will add your web service's domain to the <code>NSExceptionDomains</code> dictionary.</p>\n\n<p>For example, if I want to bypass the App Transport Security behavior for a web service on the host <strong>www.yourwebservicehost.com</strong> then I would do the following:</p>\n\n<ol>\n<li><p>Open your app in Xcode.</p></li>\n<li><p>Find the <code>Info.plist</code> file in Project Navigator and \"right-mouse\" click on it and choose the <em>Open As</em> > <em>Source Code</em> menu option. The property list file will appear in the right pane.</p></li>\n<li><p>Put the following properties block inside of the main properties dictionary (under the first <code>&lt;dict&gt;</code>).</p></li>\n</ol>\n\n<hr>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;NSExceptionDomains&lt;/key&gt;\n    &lt;dict&gt;\n        &lt;key&gt;www.yourwebservicedomain.com&lt;/key&gt;\n        &lt;dict&gt;\n            &lt;key&gt;NSExceptionAllowsInsecureHTTPLoads&lt;/key&gt;\n            &lt;true/&gt;\n            &lt;key&gt;NSExceptionMinimumTLSVersion&lt;/key&gt;\n            &lt;string&gt;TLSv1.1&lt;/string&gt;\n            &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;\n            &lt;true/&gt;\n        &lt;/dict&gt;\n    &lt;/dict&gt;\n&lt;/dict&gt;\n</code></pre>\n\n<p>If you need to provide exceptions for additional domains then you would add another dictionary property beneath <code>NSExceptionDomains</code>.</p>\n\n<p>To find out more about the keys referenced above, read <a href=\"https://developer.apple.com/library/prerelease/ios/technotes/App-Transport-Security-Technote/\">this already mentioned technote</a>.</p>\n", "title": "Transport security has blocked a cleartext HTTP", "answer_id": 32701693, "question_id": 31254725, "tags": ["ios", "xcode", "swift", "ios9", "app-transport-security"]}, {"body": "<p>In Xcode 7 we need to do like this:</p>\n\n<p>In file Info.plist, add:</p>\n\n<ul>\n<li>NSAppTransportSecurity As Dictionary &amp; child as</li>\n<li>NSAllowsArbitraryLoads As Boolean value to be YES</li>\n</ul>\n", "title": "Transport security has blocked a cleartext HTTP", "answer_id": 32714466, "question_id": 31254725, "tags": ["ios", "xcode", "swift", "ios9", "app-transport-security"]}, {"body": "<p>Add this code into the <code>info.plist</code> file:</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n     &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;&lt;true/&gt;\n&lt;/dict&gt;\n</code></pre>\n", "title": "Transport security has blocked a cleartext HTTP", "answer_id": 32753260, "question_id": 31254725, "tags": ["ios", "xcode", "swift", "ios9", "app-transport-security"]}, {"body": "<p>On 2015-09-25 (after Xcode updates on 2015-09-18):</p>\n\n<p>I used a non-lazy method, but it didn't work. The followings are my tries.</p>\n\n<p>First,</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;NSExceptionDomains&lt;/key&gt;\n    &lt;dict&gt;\n        &lt;key&gt;www.xxx.yyy.zzz&lt;/key&gt;\n        &lt;dict&gt;\n            &lt;key&gt;NSTemporaryExceptionAllowsInsecureHTTPLoads&lt;/key&gt;\n            &lt;true/&gt;\n            &lt;key&gt;NSTemporaryExceptionMinimumTLSVersion&lt;/key&gt;\n            &lt;string&gt;TLSv1.1&lt;/string&gt;\n            &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;\n            &lt;true/&gt;\n        &lt;/dict&gt;\n    &lt;/dict&gt;\n&lt;/dict&gt;\n</code></pre>\n\n<p>And second,</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;NSExceptionDomains&lt;/key&gt;\n    &lt;dict&gt;\n        &lt;key&gt;www.xxx.yyy.zzz&lt;/key&gt;\n        &lt;dict&gt;\n            &lt;key&gt;NSExceptionAllowsInsecureHTTPLoads&lt;/key&gt;\n            &lt;true/&gt;\n            &lt;key&gt;NSExceptionMinimumTLSVersion&lt;/key&gt;\n            &lt;string&gt;TLSv1.1&lt;/string&gt;\n            &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;\n            &lt;true/&gt;\n        &lt;/dict&gt;\n    &lt;/dict&gt;\n&lt;/dict&gt;\n</code></pre>\n\n<p>Finally, I used the lazy method:</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n    &lt;true/&gt;\n&lt;/dict&gt;\n</code></pre>\n\n<p>It might be a little insecure, but I couldn't find other solutions.</p>\n", "title": "Transport security has blocked a cleartext HTTP", "answer_id": 32773957, "question_id": 31254725, "tags": ["ios", "xcode", "swift", "ios9", "app-transport-security"]}, {"body": "<p>Like many have noted, this is a feature issue that comes with iOS 9.0. They have added a thing called App Transport Security, and I too was annoyed when it broke my Apps.</p>\n\n<p>You can bandage it with the NSAllowsArbitraryLoads key to YES under NSAppTransportSecurity dictionary in your .plist file, but ultimately you will need to re-write the code that forms your URLs to form the HTTPS:// prefix.</p>\n\n<p>Apple has re-written the NSUrlConnection class in iOS 9.0. You can read about it in <em><a href=\"https://developer.apple.com/library/prerelease/ios/documentation/Cocoa/Reference/Foundation/Classes/NSURLConnection_Class/index.html#//apple_ref/doc/uid/TP40003755\" rel=\"nofollow\">NSURLConnection</a></em>.</p>\n\n<p>Else, you may have to back out of iOS 9.0 until you have time to implement the correct solution. </p>\n", "title": "Transport security has blocked a cleartext HTTP", "answer_id": 32894623, "question_id": 31254725, "tags": ["ios", "xcode", "swift", "ios9", "app-transport-security"]}, {"body": "<p>Figuring out what settings to use can be performed automatically, as mentioned in <a href=\"https://developer.apple.com/library/watchos/technotes/App-Transport-Security-Technote/index.html\">this technote</a>:</p>\n\n<pre><code>/usr/bin/nscurl --ats-diagnostics --verbose https://your-domain.com\n</code></pre>\n", "title": "Transport security has blocked a cleartext HTTP", "answer_id": 32987371, "question_id": 31254725, "tags": ["ios", "xcode", "swift", "ios9", "app-transport-security"]}, {"body": "<p>It may be worth mentioning how to get there...</p>\n\n<p>Info.plist is one of the files below the Main.storyboard or viewController.swift.</p>\n\n<p>When you click on it the first time, it usually is in a table format, so right click the file and 'open as' Source code and then add the code below towards the end, i.e.:</p>\n\n<pre><code> &lt;key&gt;NSAppTransportSecurity&lt;/key&gt;&lt;dict&gt;&lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;&lt;true/&gt;&lt;/dict&gt;\n</code></pre>\n\n<p>Copy paste the code just above</p>\n\n<pre><code> \"&lt;/dict&gt;\n&lt;/plist&gt;\"\n</code></pre>\n\n<p>which is at the end.</p>\n", "title": "Transport security has blocked a cleartext HTTP", "answer_id": 33332605, "question_id": 31254725, "tags": ["ios", "xcode", "swift", "ios9", "app-transport-security"]}, {"body": "<p>Update for Xcode 7.1, facing problem 27.10.15:</p>\n\n<p>The new value in the Info.plist is \"App Transport Security Settings\".\nFrom there, this dictionary should contain:</p>\n\n<ul>\n<li>Allow Arbitrary Loads = YES</li>\n<li>Exception Domains (insert here your http domain)</li>\n</ul>\n", "title": "Transport security has blocked a cleartext HTTP", "answer_id": 33376771, "question_id": 31254725, "tags": ["ios", "xcode", "swift", "ios9", "app-transport-security"]}, {"body": "<p>For me, adding <strong>NSAppTransportSecurity</strong> and <strong>NSExceptionDomains</strong> directly into the info.plist file <strong>via the standard XCode Editor did not work</strong>. (Adding it to the file in a textedit in the style mentioned above did work fine.)</p>\n\n<p>After adding it via the textedit, info.plist looks like this:</p>\n\n<p><a href=\"http://i.stack.imgur.com/qV8vY.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/qV8vY.png\" alt=\"Enter image description here\"></a></p>\n\n<p>Therefore, I think you have to type these <em>words</em> into info.plist if you do it directly by Xcode. These words (\"App Transport ...\" and \"Exception Do ..\") are also suggested by Xcode if you begin to type them into the textfield.</p>\n", "title": "Transport security has blocked a cleartext HTTP", "answer_id": 33506882, "question_id": 31254725, "tags": ["ios", "xcode", "swift", "ios9", "app-transport-security"]}, {"body": "<p>I do not like editing the plist directly. You can easily add it to the plist using the GUI:</p>\n\n<ul>\n<li>Click on the Info.plist in the Navigator on the left. </li>\n<li><p>Now change the data in the main area:</p>\n\n<ul>\n<li>On the last line add the +</li>\n<li>Enter the name of the group: <strong>App Transport Security Settings</strong></li>\n<li>Right click on the group and select <code>Add Row</code></li>\n<li>Enter <strong>Allow Arbitrary Loads</strong> </li>\n<li>Set the value on the right to <strong>YES</strong></li>\n</ul></li>\n</ul>\n\n<p><a href=\"http://i.stack.imgur.com/PaFlE.png\"><img src=\"http://i.stack.imgur.com/PaFlE.png\" alt=\"Example\"></a></p>\n", "title": "Transport security has blocked a cleartext HTTP", "answer_id": 33562114, "question_id": 31254725, "tags": ["ios", "xcode", "swift", "ios9", "app-transport-security"]}, {"body": "<p>Here are the settings visually:</p>\n\n<p><a href=\"http://i.stack.imgur.com/LqXFE.png\"><img src=\"http://i.stack.imgur.com/LqXFE.png\" alt=\"visual settings for NSAllowsArbitraryLoads in info.plist via Xcode GUI\"></a></p>\n", "title": "Transport security has blocked a cleartext HTTP", "answer_id": 33712228, "question_id": 31254725, "tags": ["ios", "xcode", "swift", "ios9", "app-transport-security"]}, {"body": "<h2>Development Example</h2>\n\n<p>Here is a screenshot of a plist which keeps ATS intact (=secure), but allows that connections to <strong>localhost</strong> can be made via <strong>HTTP instead of HTTPS</strong>. It works in Xcode 7.1.1.</p>\n\n<p><a href=\"http://i.stack.imgur.com/o6x8f.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/o6x8f.png\" alt=\"Enter image description here\"></a></p>\n", "title": "Transport security has blocked a cleartext HTTP", "answer_id": 33994584, "question_id": 31254725, "tags": ["ios", "xcode", "swift", "ios9", "app-transport-security"]}, {"body": "<p><a href=\"http://i.stack.imgur.com/073wY.png\"><img src=\"http://i.stack.imgur.com/073wY.png\" alt=\"Apple Document 1\"></a></p>\n\n<p><a href=\"http://i.stack.imgur.com/7QkhE.png\"><img src=\"http://i.stack.imgur.com/7QkhE.png\" alt=\"Apple Document 2\"></a></p>\n\n<p>There are two solutions for this :</p>\n\n<p><strong>Solutions 1 :</strong> </p>\n\n<ol>\n<li>In <code>Info.plist</code> file add a dictionary with key '<code>NSAppTransportSecurity</code>'</li>\n<li>Add another element inside dictionary with key <code>'Allow Arbitrary Loads'</code></li>\n</ol>\n\n<p><code>Plist</code> structure should appear as shown in below image.</p>\n\n<p><a href=\"http://i.stack.imgur.com/ao49Y.png\"><img src=\"http://i.stack.imgur.com/ao49Y.png\" alt=\"Solution 1\"></a></p>\n\n<p><strong>Solution 2 :</strong></p>\n\n<ol>\n<li>In <code>Info.plist</code> file add a dictionary with key '<code>NSAppTransportSecurity</code>'</li>\n<li>Add another element inside dictionary with key '<code>NSExceptionDomains</code>'</li>\n<li>Add element with key <code>'MyDomainName.com'</code> of type NSDictionary</li>\n<li>Add element with key '<code>NSIncludesSubdomains</code>' of type <code>Boolean</code> and value set as <code>YES</code></li>\n<li>Add element with key '<code>NSTemporaryExceptionAllowsInsecureHTTPLoads</code>' of type <code>Boolean</code> and value set as <code>YES</code></li>\n</ol>\n\n<p><code>Plist</code> structure should appear as shown in below image.</p>\n\n<p><a href=\"http://i.stack.imgur.com/Gv9nB.png\"><img src=\"http://i.stack.imgur.com/Gv9nB.png\" alt=\"Solution 2\"></a></p>\n\n<p><em>Solution 2 is preferred since it allows only selected domain whereas solution 1 allows all insecure HTTP connections.</em></p>\n", "title": "Transport security has blocked a cleartext HTTP", "answer_id": 35915209, "question_id": 31254725, "tags": ["ios", "xcode", "swift", "ios9", "app-transport-security"]}, {"body": "<p>For Cordova, if you want to add it into your ios.json, do the following:</p>\n\n<pre><code>\"NSAppTransportSecurity\": [\n   {\n      \"xml\": \"&lt;dict&gt;&lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;&lt;true /&gt;&lt;/dict&gt;\"\n   }\n]\n</code></pre>\n\n<p>And it should be inside of:</p>\n\n<pre><code>\"*-Info.plist\": {\n   \"parents\": {\n   }\n}\n</code></pre>\n", "title": "Transport security has blocked a cleartext HTTP", "answer_id": 36131315, "question_id": 31254725, "tags": ["ios", "xcode", "swift", "ios9", "app-transport-security"]}, {"body": "<p>According to Apple, generally disabling ATS will lead to app rejection, unless you have a good reason to do so. Even then, you should add exceptions for domains that you can access safely.</p>\n\n<p>Apple has an excellent tool that tells you exactly what settings to use: In Terminal, enter</p>\n\n<pre><code>/usr/bin/nscurl --ats-diagnostics --verbose https://www.myurl.com/whatever\n</code></pre>\n\n<p>and nscurl will check whether this request fails, and then try a variety of settings and tell you exactly which one passes, and what to do. For example, for some third-party URL that I visit, this command told me that this dictionary passes:</p>\n\n<pre><code>{\n    NSExceptionDomains = {\n        \"www.thirdparty.com\" = {\n            NSExceptionRequiresForwardSecrecy = false;\n        };\n    };\n}\n</code></pre>\n\n<p>To distinguish between your own sites and third-party sites that are out of your control, use, for example, the key NSThirdPartyExceptionRequiresForwardSecrecy.</p>\n", "title": "Transport security has blocked a cleartext HTTP", "answer_id": 36683521, "question_id": 31254725, "tags": ["ios", "xcode", "swift", "ios9", "app-transport-security"]}, {"body": "<p>Just use <strong>Info.plist</strong> inside easy and effective way;</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n     &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;&lt;true/&gt;\n&lt;/dict&gt;\n</code></pre>\n", "title": "Transport security has blocked a cleartext HTTP", "answer_id": 39118833, "question_id": 31254725, "tags": ["ios", "xcode", "swift", "ios9", "app-transport-security"]}, {"body": "<p>NOTE: The exception domain in your plist should be in LOWER-CASE.  </p>\n\n<p>Example: you have named your machine \"MyAwesomeMacbook\" under Settings->Sharing; your server (for test purposes) is running on MyAwesomeMacbook.local:3000, and your app needs to send a request to <a href=\"http://MyAwesomeMacbook.local:3000/files\" rel=\"nofollow\">http://MyAwesomeMacbook.local:3000/files</a>..., your plist you will need to specify \"myawesomemacbook.local\" as the exception domain.</p>\n\n<p>--</p>\n\n<p>Your info.plist would contain...</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n  &lt;key&gt;NSExceptionDomains&lt;/key&gt;\n  &lt;dict&gt;\n    &lt;key&gt;myawesomemacbook.local&lt;/key&gt;\n    &lt;dict&gt;\n      &lt;!--Include to allow subdomains--&gt;\n      &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;\n      &lt;true/&gt;\n      &lt;!--Include to allow HTTP requests--&gt;\n      &lt;key&gt;NSExceptionAllowsInsecureHTTPLoads&lt;/key&gt;\n      &lt;true/&gt;\n    &lt;/dict&gt;\n  &lt;/dict&gt;\n&lt;/dict&gt;\n</code></pre>\n", "title": "Transport security has blocked a cleartext HTTP", "answer_id": 39456379, "question_id": 31254725, "tags": ["ios", "xcode", "swift", "ios9", "app-transport-security"]}], "question_id": 31254725}, {"body": "<p>It is my understanding that the <code>range()</code> function, which is actually <a href=\"https://docs.python.org/3/library/stdtypes.html#typesseq-range\">an object type in Python 3</a>, generates its contents on the fly, similar to a generator. </p>\n\n<p>This being the case, I would have expected the following line to take an inordinate amount of time, because in order to determine whether 1 quadrillion is in the range, a quadrillion values would have to be generated: </p>\n\n<pre><code>1000000000000000 in range(1000000000000001)\n</code></pre>\n\n<p>Furthermore: it seems that no matter how many zeroes I add on, the calculation more or less takes the same amount of time (basically instantaneous). </p>\n\n<p>I have also tried things like this, but the calculation is still almost instant: </p>\n\n<pre><code>1000000000000000000000 in range(0,1000000000000000000001,10) # count by tens\n</code></pre>\n\n<p>If I try to implement my own range function, the result is not so nice!! </p>\n\n<pre><code>def my_crappy_range(N):\n    i = 0\n    while i &lt; N:\n        yield i\n        i += 1\n    return\n</code></pre>\n\n<p>What is the <code>range()</code> object doing under the hood that makes it so fast? </p>\n\n<hr>\n\n<p>EDIT: This has turned out to be a much more nuanced topic than I anticipated - there seems to be a bit of history behind the optimization of <code>range()</code>. </p>\n\n<p><a href=\"http://stackoverflow.com/a/30081318/2437514\">Martijn Pieters' answer</a> was chosen for its completeness, but also see <a href=\"http://stackoverflow.com/a/30081894/2437514\">abarnert's first answer</a> for a good discussion of what it means for <code>range</code> to be a full-fledged <em>sequence</em> in Python 3, and some information/warning regarding potential inconsistency for <code>__contains__</code> function optimization across Python implementations. <a href=\"http://stackoverflow.com/a/30088140/2437514\">abarnert's other answer</a> goes into some more detail and provides links for those interested in the history behind the optimization in Python 3 (and lack of optimization of <code>xrange</code> in Python 2). Answers <a href=\"http://stackoverflow.com/a/30081467/2437514\">by poke</a> and <a href=\"http://stackoverflow.com/a/30081470/2437514\">by wim</a> provide the relevant C source code and explanations for those who are interested. </p>\n", "title": "Why is &quot;1000000000000000 in range(1000000000000001)&quot; so fast in Python 3?", "tags": ["python", "performance", "python-3.x", "range", "python-internals"], "answer_count": 6, "link": "http://stackoverflow.com/questions/30081275/why-is-1000000000000000-in-range1000000000000001-so-fast-in-python-3", "answers": [{"body": "<p>The Python 3 <code>range()</code> object doesn't produce numbers immediately; it is a smart sequence object that produces numbers <em>on demand</em>. All it contains is your start, stop and step values, then as you iterate over the object the next integer is calculated each iteration.</p>\n\n<p>The object also implements the <a href=\"https://docs.python.org/3/reference/datamodel.html#object.__contains__\"><code>object.__contains__</code> hook</a>, and <em>calculates</em> if your number is part of its range. Calculating is a O(1) constant time operation. There is never a need to scan through all possible integers in the range.</p>\n\n<p>From the <a href=\"https://docs.python.org/3/library/stdtypes.html#range\"><code>range()</code> object documentation</a>:</p>\n\n<blockquote>\n  <p>The advantage of the <code>range</code> type over a regular <code>list</code> or <code>tuple</code> is that a range object will always take the same (small) amount of memory, no matter the size of the range it represents (as it only stores the <code>start</code>, <code>stop</code> and <code>step</code> values, calculating individual items and subranges as needed).</p>\n</blockquote>\n\n<p>So at a minimum, your <code>range()</code> object would do:</p>\n\n<pre><code>class my_range(object):\n    def __init__(self, start, stop=None, step=1):\n        if stop is None:\n            start, stop = 0, start\n        self.start, self.stop, self.step = start, stop, step\n        if step &lt; 0:\n            lo, hi = stop, start\n        else:\n            lo, hi = start, stop\n        self.length = ((hi - lo - 1) // abs(step)) + 1\n\n    def __iter__(self):\n        current = self.start\n        if self.step &lt; 0:\n            while current &gt; self.stop:\n                yield current\n                current += self.step\n        else:\n            while current &lt; self.stop:\n                yield current\n                current += self.step\n\n    def __len__(self):\n        return self.length\n\n    def __getitem__(self, i):\n        if 0 &lt;= i &lt; self.length:\n            return self.start + i * self.step\n        raise IndexError('Index out of range: {}'.format(i))\n\n    def __contains__(self, num):\n        if self.step &lt; 0:\n            if not (self.stop &lt; num &lt;= self.start):\n                return False\n        else:\n            if not (self.start &lt;= num &lt; self.stop):\n                return False\n        return (num - self.start) % self.step == 0\n</code></pre>\n\n<p>This is still missing several things that a real <code>range()</code> supports (such as the <code>.index()</code> or <code>.count()</code> methods, hashing, equality testing, or slicing), but should give you an idea.</p>\n\n<p>I also simplified the <code>__contains__</code> implementation to only focus on integer tests; if you give a real <code>range()</code> object a non-integer value (including subclasses of <code>int</code>), a slow scan is initiated to see if there is a match, just as if you use a containment test against a list of all the contained values. This was done to continue to support other numeric types that just happen to support equality testing with integers but are not expected to support integer arithmetic as well. See the original <a href=\"http://bugs.python.org/issue1766304\">Python issue</a> that implemented the containment test.</p>\n", "title": "Why is &quot;1000000000000000 in range(1000000000000001)&quot; so fast in Python 3?", "answer_id": 30081318, "question_id": 30081275, "tags": ["python", "performance", "python-3.x", "range", "python-internals"]}, {"body": "<p>To add to Martijn\u2019s answer, this is the relevant part of <a href=\"https://hg.python.org/cpython/file/7f8cd879687b/Objects/rangeobject.c#l415\">the source</a> (in C, as the range object is written in native code):</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>static int\nrange_contains(rangeobject *r, PyObject *ob)\n{\n    if (PyLong_CheckExact(ob) || PyBool_Check(ob))\n        return range_contains_long(r, ob);\n\n    return (int)_PySequence_IterSearch((PyObject*)r, ob,\n                                       PY_ITERSEARCH_CONTAINS);\n}\n</code></pre>\n\n<p>So for <code>PyLong</code> objects (which is <code>int</code> in Python 3), it will use the <code>range_contains_long</code> function to determine the result. And that function essentially checks if <code>ob</code> is in the specified range (although it looks a bit more complex in C).</p>\n\n<p>If it\u2019s not an <code>int</code> object, it falls back to iterating until it finds the value (or not).</p>\n\n<p>The whole logic could be translated to pseudo-Python like this:</p>\n\n<pre><code>def range_contains (rangeObj, obj):\n    if isinstance(obj, int):\n        return range_contains_long(rangeObj, obj)\n\n    # default logic by iterating\n    return any(obj == x for x in rangeObj)\n\ndef range_contains_long (r, num):\n    if r.step &gt; 0:\n        # positive step: r.start &lt;= num &lt; r.stop\n        cmp2 = r.start &lt;= num\n        cmp3 = num &lt; r.stop\n    else:\n        # negative step: r.start &gt;= num &gt; r.stop\n        cmp2 = num &lt;= r.start\n        cmp3 = r.stop &lt; num\n\n    # outside of the range boundaries\n    if not cmp2 or not cmp3:\n        return False\n\n    # num must be on a valid step inside the boundaries\n    return (num - r.start) % r.step == 0\n</code></pre>\n", "title": "Why is &quot;1000000000000000 in range(1000000000000001)&quot; so fast in Python 3?", "answer_id": 30081467, "question_id": 30081275, "tags": ["python", "performance", "python-3.x", "range", "python-internals"]}, {"body": "<p>Use the <a href=\"https://github.com/python/cpython/blob/cff677abe1823900e954592035a170eb67840971/Objects/rangeobject.c#L364-L413\" rel=\"nofollow\">source</a>, Luke!</p>\n\n<p>In CPython, <code>range(...).__contains__</code> (a method wrapper) will eventually delegate to a simple calculation which checks if the value can possibly be in the range.  The reason for the speed here is we're using <strong>mathematical reasoning about the bounds, rather than a direct iteration of the range object</strong>.  To explain the logic used: </p>\n\n<ol>\n<li>Check that the number is between <code>start</code> and <code>stop</code>, and</li>\n<li>Check that the stride value doesn't \"step over\" our number.  </li>\n</ol>\n\n<p>For example, <code>994</code> is in <code>range(4, 1000, 2)</code> because:</p>\n\n<ol>\n<li><code>4 &lt;= 994 &lt; 1000</code>, and</li>\n<li><code>(994 - 4) % 2 == 0</code>.</li>\n</ol>\n\n<p>The full C code is included below, which is a bit more verbose because of memory management and reference counting details, but the basic idea is there:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>static int\nrange_contains_long(rangeobject *r, PyObject *ob)\n{\n    int cmp1, cmp2, cmp3;\n    PyObject *tmp1 = NULL;\n    PyObject *tmp2 = NULL;\n    PyObject *zero = NULL;\n    int result = -1;\n\n    zero = PyLong_FromLong(0);\n    if (zero == NULL) /* MemoryError in int(0) */\n        goto end;\n\n    /* Check if the value can possibly be in the range. */\n\n    cmp1 = PyObject_RichCompareBool(r-&gt;step, zero, Py_GT);\n    if (cmp1 == -1)\n        goto end;\n    if (cmp1 == 1) { /* positive steps: start &lt;= ob &lt; stop */\n        cmp2 = PyObject_RichCompareBool(r-&gt;start, ob, Py_LE);\n        cmp3 = PyObject_RichCompareBool(ob, r-&gt;stop, Py_LT);\n    }\n    else { /* negative steps: stop &lt; ob &lt;= start */\n        cmp2 = PyObject_RichCompareBool(ob, r-&gt;start, Py_LE);\n        cmp3 = PyObject_RichCompareBool(r-&gt;stop, ob, Py_LT);\n    }\n\n    if (cmp2 == -1 || cmp3 == -1) /* TypeError */\n        goto end;\n    if (cmp2 == 0 || cmp3 == 0) { /* ob outside of range */\n        result = 0;\n        goto end;\n    }\n\n    /* Check that the stride does not invalidate ob's membership. */\n    tmp1 = PyNumber_Subtract(ob, r-&gt;start);\n    if (tmp1 == NULL)\n        goto end;\n    tmp2 = PyNumber_Remainder(tmp1, r-&gt;step);\n    if (tmp2 == NULL)\n        goto end;\n    /* result = (int(ob) - start % step) == 0 */\n    result = PyObject_RichCompareBool(tmp2, zero, Py_EQ);\n  end:\n    Py_XDECREF(tmp1);\n    Py_XDECREF(tmp2);\n    Py_XDECREF(zero);\n    return result;\n}\n\nstatic int\nrange_contains(rangeobject *r, PyObject *ob)\n{\n    if (PyLong_CheckExact(ob) || PyBool_Check(ob))\n        return range_contains_long(r, ob);\n\n    return (int)_PySequence_IterSearch((PyObject*)r, ob,\n                                       PY_ITERSEARCH_CONTAINS);\n}\n</code></pre>\n\n<p>The \"meat\" of the idea is mentioned in the line:</p>\n\n<pre><code>/* result = (int(ob) - start % step) == 0 */ \n</code></pre>\n\n<p>Fortunately this line was just a comment summarising the algorithm, because it would have been a bug!  The <code>start % step</code> will be evaluated before the subtraction because <a href=\"http://en.cppreference.com/w/c/language/operator_precedence\" rel=\"nofollow\">remainder operator has precedence over subtraction</a> in C code.  However, you can see in the real implementation it's done in the correct order on separate lines. </p>\n\n<p>As a final note - look at the <code>range_contains</code> function at the bottom of the code snippet.  If the exact type check fails then we don't use the clever algorithm described, instead falling back to a dumb iteration search of the range using <code>_PySequence_IterSearch</code>!  You can check this behaviour in the interpreter (I'm using v3.5.0 here):</p>\n\n<pre><code>&gt;&gt;&gt; x, r = 1000000000000000, range(1000000000000001)\n&gt;&gt;&gt; class MyInt(int):\n...     pass\n... \n&gt;&gt;&gt; x_ = MyInt(x)\n&gt;&gt;&gt; x in r  # calculates immediately :) \nTrue\n&gt;&gt;&gt; x_ in r  # iterates for ages.. :( \n^\\Quit (core dumped)\n</code></pre>\n", "title": "Why is &quot;1000000000000000 in range(1000000000000001)&quot; so fast in Python 3?", "answer_id": 30081470, "question_id": 30081275, "tags": ["python", "performance", "python-3.x", "range", "python-internals"]}, {"body": "<p>The fundamental misunderstanding here is in thinking that <code>range</code> is a generator. It's not. In fact, it's not any kind of iterator.</p>\n\n<p>You can tell this pretty easily:</p>\n\n<pre><code>&gt;&gt;&gt; a = range(5)\n&gt;&gt;&gt; print(list(a))\n[0, 1, 2, 3, 4]\n&gt;&gt;&gt; print(list(a))\n[0, 1, 2, 3, 4]\n</code></pre>\n\n<p>If it were a generator, iterating it once would exhaust it:</p>\n\n<pre><code>&gt;&gt;&gt; b = my_crappy_range(5)\n&gt;&gt;&gt; print(list(b))\n[0, 1, 2, 3, 4]\n&gt;&gt;&gt; print(list(b))\n[]\n</code></pre>\n\n<p>What <code>range</code> actually is, is a sequence, just like a list. You can even test this:</p>\n\n<pre><code>&gt;&gt;&gt; import collections.abc\n&gt;&gt;&gt; isinstance(a, collections.abc.Sequence)\nTrue\n</code></pre>\n\n<p>This means it has to follow all the rules of being a sequence:</p>\n\n<pre><code>&gt;&gt;&gt; a[3]\n3\n</code></pre>\n\n<hr>\n\n<p>The difference between a <code>range</code> and a <code>list</code> is that a <code>range</code> is a <em>lazy</em> or <em>dynamic</em> sequence; it doesn't remember all of its values, it just remembers its <code>start</code>, <code>stop</code>, and <code>step</code>, and creates the values on demand on <code>__getitem__</code>.</p>\n\n<p>(As a side note, if you <code>print(iter(a))</code>, you'll notice that <code>range</code> uses the same <code>listiterator</code> type as <code>list</code>. How does that work? A <code>listiterator</code> doesn't use anything special about <code>list</code> except for the fact that it provides a C implementation of <code>__getitem__</code>, so it works fine for <code>range</code> too.)</p>\n\n<hr>\n\n<p>Now, there's nothing that says that <code>Sequence.__contains__</code> has to be constant time\u2014in fact, for obvious examples of sequences like <code>list</code>, it isn't. But there's nothing that says it <em>can't</em> be. And it's easier to implement <code>range.__contains__</code> to just check it mathematically (<code>(val - start) % step</code>, but with some extra complexity to deal with negative steps) than to actually generate and test all the values, so why <em>shouldn't</em> it do it the better way?</p>\n\n<p>But there doesn't seem to be anything in the language that <em>guarantees</em> this will happen. As Ashwini Chaudhari points out, if you give it a non-integral value, instead of converting to integer and doing the mathematical test, it will fall back to iterating all the values and comparing them one by one. And just because CPython 3.2+ and PyPy 3.x versions happen to contain this optimization, and it's an obvious good idea and easy to do, there's no reason that IronPython or NewKickAssPython 3.x couldn't leave it out. (And in fact CPython 3.0-3.1 <em>didn't</em> include it.)</p>\n\n<hr>\n\n<p>If <code>range</code> actually were a generator, like <code>my_crappy_range</code>, then it wouldn't make sense to test <code>__contains__</code> this way, or at least the way it makes sense wouldn't be obvious. If you'd already iterated the first 3 values, is <code>1</code> still <code>in</code> the generator? Should testing for <code>1</code> cause it to iterate and consume all the values up to <code>1</code> (or up to the first value <code>&gt;= 1</code>)?</p>\n", "title": "Why is &quot;1000000000000000 in range(1000000000000001)&quot; so fast in Python 3?", "answer_id": 30081894, "question_id": 30081275, "tags": ["python", "performance", "python-3.x", "range", "python-internals"]}, {"body": "<p>The other answers explained it well already, but I'd like to offer another experiment illustrating the nature of range objects:</p>\n\n<pre><code>&gt;&gt;&gt; r = range(5)\n&gt;&gt;&gt; for i in r:\n        print(i, 2 in r, list(r))\n\n0 True [0, 1, 2, 3, 4]\n1 True [0, 1, 2, 3, 4]\n2 True [0, 1, 2, 3, 4]\n3 True [0, 1, 2, 3, 4]\n4 True [0, 1, 2, 3, 4]\n</code></pre>\n\n<p>As you can see,  a range object is an object that remembers its range and can be used many times (even while iterating over it), not just a one-time generator.</p>\n", "title": "Why is &quot;1000000000000000 in range(1000000000000001)&quot; so fast in Python 3?", "answer_id": 30081959, "question_id": 30081275, "tags": ["python", "performance", "python-3.x", "range", "python-internals"]}, {"body": "<p>If you're wondering <em>why</em> this optimization was added to <code>range.__contains__</code>, and why it <em>wasn't</em> added to <code>xrange.__contains__</code> in 2.7:</p>\n\n<p>First, as Ashwini Chaudhary discovered, <a href=\"http://bugs.python.org/issue1766304\">issue 1766304</a> was opened explicitly to optimize <code>[x]range.__contains__</code>. A patch for this was <a href=\"https://hg.python.org/cpython/rev/d599a3f2e72d/\">accepted and checked in for 3.2</a>, but not backported to 2.7 because \"xrange has behaved like this for such a long time that I don't see what it buys us to commit the patch this late.\" (2.7 was nearly out at that point.)</p>\n\n<p>Meanwhile:</p>\n\n<p>Originally, <code>xrange</code> was a not-quite-sequence object. As <a href=\"https://docs.python.org/3.1/library/stdtypes.html#range-type\">the 3.1 docs</a> say:</p>\n\n<blockquote>\n  <p>Range objects have very little behavior: they only support indexing, iteration, and the <code>len</code> function.</p>\n</blockquote>\n\n<p>This wasn't quite true; an <code>xrange</code> object actually supported a few other things that come automatically with indexing and <code>len</code>,<sup>*</sup> including <code>__contains__</code> (via linear search). But nobody thought it was worth making them full sequences at the time.</p>\n\n<p>Then, as part of implementing the <a href=\"https://www.python.org/dev/peps/pep-3119/\">Abstract Base Classes</a> PEP, it was important to figure out which builtin types should be marked as implementing which ABCs, and <code>xrange</code>/<code>range</code> claimed to implement <code>collections.Sequence</code>, even though it still only handled the same \"very little behavior\". Nobody noticed that problem until <a href=\"http://bugs.python.org/issue9213\">issue 9213</a>. The patch for that issue not only added <code>index</code> and <code>count</code> to 3.2's <code>range</code>, it also re-worked the optimized <code>__contains__</code> (which shares the same math with <code>index</code>, and is directly used by <code>count</code>).<sup>**</sup> <a href=\"https://github.com/python/cpython/commit/8ee11f7e599b2c5b4de39047bf11bde2246e968f\">This change</a> went in for 3.2 as well, and was not backported to 2.x, because \"it's a bugfix that adds new methods\". (At this point, 2.7 was already past rc status.)</p>\n\n<p>So, there were two chances to get this optimization backported to 2.7, but they were both rejected.</p>\n\n<hr>\n\n<p><sub>* In fact, you even get iteration for free with <code>len</code> and indexing, but <a href=\"https://docs.python.org/2/whatsnew/2.3.html#optimizations\">in 2.3</a> <code>xrange</code> objects got a custom iterator. Which they then lost in 3.x, which uses the same <code>listiterator</code> type as <code>list</code>.</sub></p>\n\n<p><sub>** The first version actually reimplemented it, and got the details wrong\u2014e.g., it would give you <code>MyIntSubclass(2) in range(5) == False</code>. But Daniel Stutzbach's updated version of the patch restored most of the previous code, including the fallback to the generic, slow <code>_PySequence_IterSearch</code> that pre-3.2 <code>range.__contains__</code> was implicitly using when the optimization doesn't apply.</sub></p>\n", "title": "Why is &quot;1000000000000000 in range(1000000000000001)&quot; so fast in Python 3?", "answer_id": 30088140, "question_id": 30081275, "tags": ["python", "performance", "python-3.x", "range", "python-internals"]}], "question_id": 30081275}, {"body": "<p>I'm tried to upload my App to iTunes Connect resp. AppStore and get the following error:</p>\n\n<blockquote>\n  <p>Failed to locate or generate matching signing assets</p>\n  \n  <p>Xcode attempted to locate or generate matching signing assets and failed to do so because of the following issues.</p>\n  \n  <p>Missing iOS Distribution signing identity for ... \n        Xcode can request one for you.\n  </p>\n</blockquote>\n\n<p>Before I setup a new development machine, exported the developer accounts via Xcode 7 from the old to the new machine. </p>\n\n<p>What can I do to fix this?</p>\n", "title": "Xcode 7 error: &quot;Missing iOS Distribution signing identity for ...&quot;", "tags": ["ios", "xcode", "itunesconnect", "code-signing", "testflight"], "answer_count": 9, "link": "http://stackoverflow.com/questions/32821189/xcode-7-error-missing-ios-distribution-signing-identity-for", "answers": [{"body": "<p>After searching for a while I found out that it is not sufficient to export the developer accounts from Xcode and import these on the new machine, again via Xcode. </p>\n\n<p>Additionally I needed to copy the Certficate named \"<em>Apple World Wide Developer Relations Certificate Authority</em>\" from the keychain of the former development machine to the keychain of the new one. </p>\n\n<p>This solved the problem for me.</p>\n", "title": "Xcode 7 error: &quot;Missing iOS Distribution signing identity for ...&quot;", "answer_id": 32821249, "question_id": 32821189, "tags": ["ios", "xcode", "itunesconnect", "code-signing", "testflight"]}, {"body": "<p><a href=\"https://developer.apple.com/support/certificates/expiration/\" rel=\"nofollow\">From Apple</a> - </p>\n\n<blockquote>\n  <p>Thanks for bringing this to the attention of the community and\n  apologies for the issues you\u2019ve been having. This issue stems from\n  having a copy of the expired WWDR Intermediate certificate in both\n  your System and Login keychains. To resolve the issue, you should\n  first download and install the new <a href=\"https://developer.apple.com/certificationauthority/AppleWWDRCA.cer\" rel=\"nofollow\">WWDR intermediate certificate</a> (by\n  double-clicking on the file). Next, in the Keychain Access\n  application, select the System keychain. Make sure to select \u201cShow\n  Expired Certificates\u201d in the View menu and then delete the expired\n  version of the Apple Worldwide Developer Relations Certificate\n  Authority Intermediate certificate (expired on February 14, 2016).\n  Your certificates should now appear as valid in Keychain Access and be\n  available to Xcode for submissions to the App Store.</p>\n</blockquote>\n\n<p>As noted in a comment below, the expired certificate also needs to be removed from the <code>login</code> section, as well:</p>\n\n<blockquote>\n  <p>To all that cannot get it working despite the instructions... There\n  are two expired WWDR certs. One is in login keychain, and the other\n  one is in the System. You have to delete both of them in order to make\n  things working</p>\n</blockquote>\n", "title": "Xcode 7 error: &quot;Missing iOS Distribution signing identity for ...&quot;", "answer_id": 35401483, "question_id": 32821189, "tags": ["ios", "xcode", "itunesconnect", "code-signing", "testflight"]}, {"body": "<p>I also faced the same issue today. The following steps fixed my issue.</p>\n\n<ol>\n<li>Download <a href=\"https://developer.apple.com/certificationauthority/AppleWWDRCA.cer\">https://developer.apple.com/certificationauthority/AppleWWDRCA.cer</a></li>\n<li>Double-click to install to Keychain.</li>\n<li>Then in Keychain, Select View -> \"Show Expired Certificates\" in Keychain app.</li>\n<li>It will list all the expired certifcates.</li>\n<li>Delete \"Apple Worldwide Developer Relations Certificate Authority certificates\" from \"login\" tab</li>\n<li>And also delete it from \"System\" tab.</li>\n</ol>\n\n<p>Now you are ready go.</p>\n", "title": "Xcode 7 error: &quot;Missing iOS Distribution signing identity for ...&quot;", "answer_id": 35406327, "question_id": 32821189, "tags": ["ios", "xcode", "itunesconnect", "code-signing", "testflight"]}, {"body": "<p>Apple has made following changes so download new certificate <a href=\"https://developer.apple.com/support/certificates/expiration/\">developer.apple.com</a></p>\n\n<p><a href=\"https://developer.apple.com/certificationauthority/AppleWWDRCA.cer\"> renewed certificate</a> and place it as below screen shots .In the keychain as below screen shots click on system and then certificate. Delete the expired certificate . Then drag and drop the AppleWWDRCA.cer that you downloaded from above link</p>\n\n<blockquote>\n  <p><strong>Apple Worldwide Developer Relations Intermediate Certificate Expiration</strong></p>\n  \n  <p>To help protect customers and developers, we require that all third\n  party apps, passes for Apple Wallet, Safari Extensions, Safari Push\n  Notifications, and App Store purchase receipts are signed by a trusted\n  certificate authority. The Apple Worldwide Developer Relations\n  Certificate Authority issues the certificates you use to sign your\n  software for Apple devices, allowing our systems to confirm that your\n  software is delivered to users as intended and has not been modified.</p>\n  \n  <p>The Apple Worldwide Developer Relations Certification Intermediate\n  Certificate expires soon and we've issued a renewed certificate that\n  must be included when signing all new Apple Wallet Passes, push\n  packages for Safari Push Notifications, and Safari Extensions starting\n  February 14, 2016.</p>\n  \n  <p>While most developers and users will not be affected by the\n  certificate change, we recommend that all developers download and\n  install the renewed certificate on their development systems and\n  servers as a best practice. All apps will remain available on the App\n  Store for iOS, Mac, and Apple TV.</p>\n  \n  <p>Since different methods can be used for validating receipts and\n  delivering remote notifications, we recommend that you test your\n  services to ensure no implementation-specific issues exist. Your apps\n  may experience receipt verification failure if the receipt checking\n  code makes incorrect assumptions about the certificate. Make sure that\n  your code adheres to the Receipt Validation Programming Guide and\n  resolve all receipt validation issues before February 14, 2016.</p>\n</blockquote>\n\n<p><a href=\"http://i.stack.imgur.com/KEbXu.png\"><img src=\"http://i.stack.imgur.com/KEbXu.png\" alt=\"enter image description here\"></a></p>\n", "title": "Xcode 7 error: &quot;Missing iOS Distribution signing identity for ...&quot;", "answer_id": 35406953, "question_id": 32821189, "tags": ["ios", "xcode", "itunesconnect", "code-signing", "testflight"]}, {"body": "<p>I imported the new Apple WWDR Certificate that expires in 2023, but I was still getting problems and my developer certificates were showing the invalid issuer error.</p>\n\n<p>In keychain access, go to View -> Show Expired Certificates, then in your login keychain highlight the expired WWDR Certificate and delete it.\nI also had the same expired certificate in my System keychain, so I deleted it from there too.(Important)</p>\n\n<p>After deleting the expired cert from the login and System keychains, I was able to build for Distribution again.</p>\n", "title": "Xcode 7 error: &quot;Missing iOS Distribution signing identity for ...&quot;", "answer_id": 35407441, "question_id": 32821189, "tags": ["ios", "xcode", "itunesconnect", "code-signing", "testflight"]}, {"body": "<p>I removed old AppleWWDRCA, downloaded and installed <a href=\"https://developer.apple.com/certificationauthority/AppleWWDRCA.cer\" rel=\"nofollow\">AppleWWDRCA</a>, but problem remained. I also, checked my distribution and development certificates from Keychain Access, and see below error;</p>\n\n<pre><code>\"This certificate has an invalid issuer.\"\n</code></pre>\n\n<p>Then, </p>\n\n<ol>\n<li>I revoked both development and distribution certificates on member center. </li>\n<li>Re-created CSR file and add development and distribution certificates from zero, downloaded them, and installed. </li>\n</ol>\n\n<p>This fixed certificate problem. </p>\n\n<p>Since old certificates revoked, existing provisioning profiles become invalid. To fix this;</p>\n\n<ol>\n<li>On member center, opened provisioning profiles.</li>\n<li>Opened profile detail by clicking \"Edit\", checked certificate from the list, and clicked \"Generate\" button.</li>\n<li>Downloaded and installed both development and distribution profiles.</li>\n</ol>\n\n<p>I hope this helps.</p>\n", "title": "Xcode 7 error: &quot;Missing iOS Distribution signing identity for ...&quot;", "answer_id": 35411478, "question_id": 32821189, "tags": ["ios", "xcode", "itunesconnect", "code-signing", "testflight"]}, {"body": "<p>I kept running into the issue and saw that all my certs were invalidated -- oh no!</p>\n\n<p>It turns out I never deleted the expired cert.  It was not showing up for me, until I selected from Keychain Access application:</p>\n\n<p>View->Show Expired Certificates</p>\n\n<p>then</p>\n\n<p>System->All Items</p>\n\n<p>will finally display that gnarly expired cert.  Delete that and retry from XCode will pick up the new valid certs.</p>\n\n<p>Just make sure you search \"All Items\" in the Keychain Access app.  The invalidated certs are a result of pointing to the expired certificate that has not been deleted yet.</p>\n", "title": "Xcode 7 error: &quot;Missing iOS Distribution signing identity for ...&quot;", "answer_id": 35417855, "question_id": 32821189, "tags": ["ios", "xcode", "itunesconnect", "code-signing", "testflight"]}, {"body": "<p>The below process will solve the problem,</p>\n\n<p>1: Open KeyChain access, and Delete \"Apple world wide Developer relations certification authority\" (Which expires on 14th Feb 2016) from both \"Login\" and \"System\" sections. If you can't find it, use \u201cShow Expired Certificates\u201d in the 'View' menu.</p>\n\n<p><a href=\"http://i.stack.imgur.com/7vMP2.png\"><img src=\"http://i.stack.imgur.com/7vMP2.png\" alt=\"enter image description here\"></a></p>\n\n<p>2: Now download <a href=\"https://developer.apple.com/certificationauthority/AppleWWDRCA.cer\">https://developer.apple.com/certificationauthority/AppleWWDRCA.cer</a> and double click the certificate to add it to Keychain access > certificates (which expires on 8th Feb 2023). \nNow the valid status of the certificates should turn green like below.</p>\n\n<p><a href=\"http://i.stack.imgur.com/4tVrm.png\"><img src=\"http://i.stack.imgur.com/4tVrm.png\" alt=\"enter image description here\"></a></p>\n\n<p>Once check the status.</p>\n", "title": "Xcode 7 error: &quot;Missing iOS Distribution signing identity for ...&quot;", "answer_id": 35449779, "question_id": 32821189, "tags": ["ios", "xcode", "itunesconnect", "code-signing", "testflight"]}, {"body": "<p>Don't forget to also install the iOS cert for your <a href=\"https://developer.apple.com\" rel=\"nofollow\">Apple Developer Account</a>.</p>\n", "title": "Xcode 7 error: &quot;Missing iOS Distribution signing identity for ...&quot;", "answer_id": 36602110, "question_id": 32821189, "tags": ["ios", "xcode", "itunesconnect", "code-signing", "testflight"]}], "question_id": 32821189}, {"body": "<p>When attempting to run a build on a connected iOS device in Xcode I get the error <code>Could not find Developer Disk Image</code>:</p>\n\n<p><a href=\"http://i.stack.imgur.com/AWRcs.png\"><img src=\"http://i.stack.imgur.com/AWRcs.png\" alt=\"Screenshot of error message\"></a></p>\n\n<p>I saw that there was a public beta for Xcode, so I installed it.</p>\n\n<p>One of the new features is that you don't need to have a Developer Program Account Dingus to upload your app directly to your iPhone. However, on my iPhone 4s, I also did a public beta update to iOS 8.4, problem being, that there's no Developer Disk Image available for it. Where do I to find it or how can it be fixed?</p>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "tags": ["ios", "iphone", "xcode", "swift"], "answer_count": 18, "link": "http://stackoverflow.com/questions/30736932/xcode-error-could-not-find-developer-disk-image", "answers": [{"body": "<p>I personally downloaded Xcode 6.4 beta and 7.0 beta and I was very happy to find the solution by searching \"8.4\" inside the application folder of the 6.4 beta. By doing this, I found the folder <code>8.4 (12H4125a)</code> containing the iOS 8.4 image and I copied this folder to the same path of the 7.0 beta. The path is the following:</p>\n\n<pre><code>/Applications/Xcode-beta.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport \n</code></pre>\n\n<p>When you will reopen Xcode 7 and choose your device, there will be an error message; just click on <code>fix issue</code> and that should do it!</p>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "answer_id": 31013217, "question_id": 30736932, "tags": ["ios", "iphone", "xcode", "swift"]}, {"body": "<p>My problem was with Xcode 7 and Xcode 6.4 beta and iOS 8.4 - device not compatible.</p>\n\n<p>In case of the same problem for better understanding how to fix, do next:</p>\n\n<ol>\n<li>Go to /Applications/Xcode-beta.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport</li>\n<li>Go to<br>\n/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSup\u200c\u200bport/</li>\n<li>Copy folder iOS 8.4 in another folder</li>\n</ol>\n\n<p><img src=\"http://i.stack.imgur.com/W6XBr.png\" alt=\"Enter image description here\"></p>\n\n<ol start=\"4\">\n<li>Restart Xcode</li>\n</ol>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "answer_id": 31326725, "question_id": 30736932, "tags": ["ios", "iphone", "xcode", "swift"]}, {"body": "<p>If you have iOS 9.1 on your phone, just download <a href=\"http://en.wikipedia.org/wiki/Xcode\" rel=\"nofollow\">Xcode</a> 7.1 beta instead of using GM.</p>\n\n<p>See Apple's response: <em><a href=\"https://forums.developer.apple.com/thread/18282\" rel=\"nofollow\">Could not find developer disk image for iOS 9.1</a></em></p>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "answer_id": 32545520, "question_id": 30736932, "tags": ["ios", "iphone", "xcode", "swift"]}, {"body": "<p>For people who would have similar problems in the future, beware that this problem is fundamentally rooted in the mismatch of your iOS version and <a href=\"http://en.wikipedia.org/wiki/Xcode\">Xcode</a> version.</p>\n\n<p>Check the compatibility of iOS and Xcode.</p>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "answer_id": 33460470, "question_id": 30736932, "tags": ["ios", "iphone", "xcode", "swift"]}, {"body": "<p>I got the same error message <em>(Couldn't find developer disk image)</em> after I updated my devices to iOS 9.2, but forgot to update to Xcode 7.2. </p>\n\n<p>So in my case, the <strong>fix was easy:</strong> just update to Xcode 7.2 via Mac App Store.</p>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "answer_id": 34237493, "question_id": 30736932, "tags": ["ios", "iphone", "xcode", "swift"]}, {"body": "<h2>This error occurs <strong>when the version of Xcode predates that of the device</strong>.</h2>\n\n<p>For example, attempting to run a build on a device running iOS 9.3 in Xcode 7.2 results in this error; <code>Could not find Developer Disk Image</code>.</p>\n\n<p>Why an error message that actually describes what the hell is going on can't be provided is beyond me (Apple, I'm looking at you \ud83d\udc40).</p>\n\n<p>Update to the latest version of Xcode through the App Store or <a href=\"https://developer.apple.com/downloads/\">via direct download</a> to guarantee interoperability with connected iOS hardware.</p>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "answer_id": 34312968, "question_id": 30736932, "tags": ["ios", "iphone", "xcode", "swift"]}, {"body": "<p>This message appears when your version of Xcode is too old for the device's version of iOS. Upgrade Xcode to the latest.</p>\n\n<p>If the App Store doesn't offer an update for Xcode, see if you have the latest Mac OS X. In the past, Apple has been rather aggressive about dropping support for past versions of Mac OS X in the latest Xcode.</p>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "answer_id": 34427168, "question_id": 30736932, "tags": ["ios", "iphone", "xcode", "swift"]}, {"body": "<p>I have experienced the same issue:</p>\n\n<blockquote>\n  <p><strong>Could not find Developer Disk Image</strong></p>\n</blockquote>\n\n<p>My Xcode version was 7.0.1, and I updated my iPhone's version to 9.2, and upon using Xcode I ran into this problem.</p>\n\n<p>The solution is pretty simple: Just download the latest version of Xcode 7.2 <a href=\"https://developer.apple.com/downloads/\" rel=\"nofollow\">which was released on 8 Dec, 2015</a> and install it. Everything works fine for you as it was before.</p>\n\n<p><strong>Note: The actual problem is your Xcode version is not compatible/outdated with the version on your device.</strong></p>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "answer_id": 34649018, "question_id": 30736932, "tags": ["ios", "iphone", "xcode", "swift"]}, {"body": "<p>It works, in my case for Xcode from 7.3 TO 7.1. Copy directory 9.2, for iOS device OS 9.2.1.</p>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "answer_id": 35296830, "question_id": 30736932, "tags": ["ios", "iphone", "xcode", "swift"]}, {"body": "<p>This problem is a <strong>mismatch</strong> of your iOS version and Xcode version.</p>\n\n<p>Example:</p>\n\n<p>You have an iPhone with <strong>iOS 9.3 GM</strong> and your Xcode version is <strong>7.2.1</strong>. This leads to the issue that you have to update your Xcode to <strong>7.3</strong> which includes SDKs and related stuff for <strong>iOS 9.3</strong>.</p>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "answer_id": 36163172, "question_id": 30736932, "tags": ["ios", "iphone", "xcode", "swift"]}, {"body": "<p>I just got this, and I'm on Xcode 7.2.1... It appeared when I downloaded iOS 9.3. Check your Project -> Base SDK and if it isn't the same or ahead of your device version, then that's the issue. I didn't see anything in the \"Updates\" section, but when I searched \"Xcode\" in the App Store it had an update for 7.3.</p>\n\n<p>Upgrading to <strong>iOS 9.3 and Xcode 7.3 requires <a href=\"https://en.wikipedia.org/wiki/OS_X_El_Capitan\" rel=\"nofollow\">Mac&nbsp;OS&nbsp;X v10.11</a> (El Capitan)</strong> for Xcode to run, and that's why auto update isn't upgrading Xcode versions.</p>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "answer_id": 36187541, "question_id": 30736932, "tags": ["ios", "iphone", "xcode", "swift"]}, {"body": "<p>There actually is a way to deploy to a device running a newer iOS that the particular version of Xcode might not actually support.  What you need to do is copy over the folder that contains the Developer Disk Image from the newer version of Xcode.</p>\n\n<p>For example, you can deploy to a device running iOS 9.3 using Xcode 7.2.1 (which only supports up to iOS 9.2) using this method.  Go to the Xcode 7.3 install and navigate to:</p>\n\n<p>/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport</p>\n\n<p>From here, copy over the folder that contains the version you are trying to run on the older version of Xcode (for this example, it's 9.3 with the build number in parenthesis).  Copy this folder over to the other install of Xcode, and now you should be able to deploy to a device running that particular version of iOS.</p>\n\n<p>This will fail, however, if you're utilizing API calls that were specifically added to the newer version of the SDK.  In that case, you will be forced to update Xcode.</p>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "answer_id": 36227365, "question_id": 30736932, "tags": ["ios", "iphone", "xcode", "swift"]}, {"body": "<p>As others suggested, this issue is caused by incompatible iOS version (which is higher than the max version that Xcode supports). Normally it can be addressed by updating Xcode, but sometimes you may be restricted to do so, hence here's another work-around.</p>\n\n<p>Head to developer.apple.com/downloads (or google similar stuff if this link dies) to grab the newest Xcode <code>dmg</code> image manually, and then mount it. If you're doing this already, the new Xcode is not likely working for you, but you can <code>cp /Volumes/Xcode/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport/NEW_IOS_VERSION /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport/</code> to copy the image you want into the old Xcode you've installed.</p>\n\n<p>Of course it's not guaranteed to work for future versions, but it's definitely worth trying. For me, my iOS version is <code>9.3.1 (13E238)</code>, but I copied <code>9.3 (13E230)</code> and it works just fine.</p>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "answer_id": 37129265, "question_id": 30736932, "tags": ["ios", "iphone", "xcode", "swift"]}, {"body": "<p>If you're using Xcode 7.3 and want to run onto iOS 10 devices, then do this trick. This basically make a symbolic link from iOS 10 Device Support in Xcode 8 to Xcode 7.3</p>\n\n<p><a href=\"https://gist.github.com/steipete/d9b44d8e9f341e81414e86d7ff8fb62d\">https://gist.github.com/steipete/d9b44d8e9f341e81414e86d7ff8fb62d</a></p>\n\n<p>For Xcode 8 &amp; iOS 10</p>\n\n<pre><code>sudo ln -s /Applications/Xcode-beta.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport/10.0\\ \\(14A5261u\\) /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport\n</code></pre>\n\n<p>For Xcode 8 beta 3 &amp; iOS 10 beta 3</p>\n\n<pre><code>sudo ln -s /Applications/Xcode-beta.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport/10.0\\ \\(14A5309d\\) /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport\n</code></pre>\n\n<p>For Xcode 8 beta 4 &amp; iOS 10 beta 4 (from Kashif 's comment below, updated)</p>\n\n<pre><code>sudo ln -s /Applications/Xcode-beta.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport/10.0\\ \\(14A5322e\\)/ /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport\n</code></pre>\n\n<p>For Xcode 8 beta 5 and iOS 10 beta 5 (from Legoless 's comment below)</p>\n\n<pre><code>sudo ln -s /Applications/Xcode-beta.app/Contents/Developer/Platforms/iPhoneOS.platform/Devi\u200c\u200bceSupport/10.0\\ \\(14A5335a\\)/ /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSup\u200c\u200bport\n</code></pre>\n\n<p>For Xcode 8 beta 6 and iOS 10 beta 6 (from Legoless 's comment below)</p>\n\n<pre><code>sudo ln -s /Applications/Xcode-\u200c\u200bbeta.app/Contents/Dev\u200c\u200beloper/Platforms/iPho\u200c\u200bneOS.platform/DeviceS\u200c\u200bupport/10.0\\ \\(14A5339a\\)/ /Applications/Xcode.\u200c\u200bapp/Contents/Develope\u200c\u200br/Platforms/iPhoneOS.\u200c\u200bplatform/DeviceSuppor\u200c\u200bt\n</code></pre>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "answer_id": 37940175, "question_id": 30736932, "tags": ["ios", "iphone", "xcode", "swift"]}, {"body": "<p>This happens when your Xcode version doesn't have a necessary component to build the application to your target OS. <strong>You should update your Xcode</strong>.</p>\n\n<p>If you are building a new application for a <strong>beta OS version</strong> that no stable Xcode version is able to build, you should download the <strong>newest Xcode beta</strong> version.</p>\n\n<p>I also had this problem. I was using Xcode 7.3 for my iOS 10 beta iPhone,  so I went to install Xcode 8-beta, and I did the following step to <strong>continue using the stable version of Xcode</strong> with new build tool:</p>\n\n<p>Just like <a href=\"http://stackoverflow.com/a/37940175/2655063\">@onmyway133 answer</a>, but more user-friendly is after finish installing the <code>Xcode 8-beta</code> version, go to Xcode 7.3 preferences (<code>Cmd</code> + <code>,</code>), go to the tab locations, change the <code>Command Line Tools</code> to <code>Xcode 8</code> in the dropdown list.</p>\n\n<p>I successfully built to both iOS simulator 9.3 and my device iOS 10 beta using Xcode 7.3.</p>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "answer_id": 38004851, "question_id": 30736932, "tags": ["ios", "iphone", "xcode", "swift"]}, {"body": "<p>just my cent for iOS10 (under NDA, but for people that can use it legally...)</p>\n\n<ul>\n<li>copying full folder (as other people said) works</li>\n<li>symbolic link seems not.</li>\n</ul>\n\n<p>tested using Xcode 7.3 (std from Store) \nAND iPhone 6Plus with 10.0 (14A5261v)</p>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "answer_id": 38410355, "question_id": 30736932, "tags": ["ios", "iphone", "xcode", "swift"]}, {"body": "<p>This error will come when your Xcode does not support your device IOS version</p>\n\n<p>Means when you are trying debug application with Xcode version 6 in device which have latest iOS version 9.0 then you got the \u201cXcode error Could not find Developer Disk Image\u201d error.</p>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "answer_id": 38790507, "question_id": 30736932, "tags": ["ios", "iphone", "xcode", "swift"]}, {"body": "<p>For ios 10 beta 7 add the following Link in command line:</p>\n\n<pre><code>sudo ln -s /Applications/Xcode-beta.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport/10.0\\ \\(14A5339a\\) /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport\n</code></pre>\n", "title": "Xcode error &quot;Could not find Developer Disk Image&quot;", "answer_id": 39145704, "question_id": 30736932, "tags": ["ios", "iphone", "xcode", "swift"]}], "question_id": 30736932}, {"body": "<p>I've always programmed Android with Eclipse and decided to start migrating to <a href=\"https://en.wikipedia.org/wiki/Android_Studio\">Android Studio</a>. I decided to use the same SDK I already had for Eclipse, then:</p>\n\n<ul>\n<li>Started a new project</li>\n<li>Set minimum SDK 4.0 (API Level 14)</li>\n<li>Choose Blank Activity option</li>\n<li>Used Default names for Activity Name and Layout Name</li>\n<li>Hit Finish</li>\n</ul>\n\n<p>After a few seconds Gradle finishes the build, and it throws me two errors with the following messages in file Teste4\\app\\build\\intermediates/exploded-aar\\com.android.support\\appcompat-v7\\23.0.0\\res\\values-v23\\values-v23.xml:</p>\n\n<blockquote>\n  <p>Error:(2) Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Material.Widget.Button.Inverse'. <br/>\n    <br/>\n  Error:(2) Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Material.Button.Colored'. <br/></p>\n</blockquote>\n\n<p>Under <em>File -> Project Structure -> Modules: app (left column) -> Properties tab</em>, I have the following versions set up:</p>\n\n<ul>\n<li>\"Compile Sdk Version\": Android 5.1 (API Level 22)</li>\n<li>\"Build Tools Version\": 23.0.2</li>\n</ul>\n\n<p>What should I do in order to fix this?</p>\n\n<p>I already tried what was suggested in Stack Overflow question <em><a href=\"http://stackoverflow.com/questions/26431676\">appcompat-v7:21.0.0&#39;: No resource found that matches the given name: attr &#39;android:actionModeShareDrawable&#39;</a></em>, but it didn't work.</p>\n", "title": "Error retrieving parent for item: No resource found that matches the given name after upgrading to AppCompat v23", "tags": ["android", "android-studio", "gradle"], "answer_count": 19, "link": "http://stackoverflow.com/questions/32075498/error-retrieving-parent-for-item-no-resource-found-that-matches-the-given-name", "answers": [{"body": "<p>Your compile SDK version must match the support library's major version.</p>\n\n<p>Since you are using version 23 of the support library, you need to compile against version 23 of the Android SDK.</p>\n\n<p>Alternatively you can continue compiling against version 22 of the Android SDK by switching to the latest support library v22.</p>\n", "title": "Error retrieving parent for item: No resource found that matches the given name after upgrading to AppCompat v23", "answer_id": 32075678, "question_id": 32075498, "tags": ["android", "android-studio", "gradle"]}, {"body": "<p>I agree with the previous answer. Your compile SDK version must match the support library. Here is what I did.</p>\n\n<ol>\n<li>You can go to SDK Manager and under SDK Platform, install the Android 5.X with API level 23.</li>\n<li>Under Project Structure, change compile SDK Version to API 23, and Build Tools Version to 23.0.0</li>\n</ol>\n\n<p>Then it should build without problem.</p>\n", "title": "Error retrieving parent for item: No resource found that matches the given name after upgrading to AppCompat v23", "answer_id": 32186220, "question_id": 32075498, "tags": ["android", "android-studio", "gradle"]}, {"body": "<p>This happens because after updates Android Studio uses <strong>API version 23</strong> by default.</p>\n\n<p>The following worked for me:</p>\n\n<p>Press <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>Alt</kbd> + <kbd>S</kbd> to get to the project structure page.  Go to the properties tab and change <strong>23.0.0</strong> to <strong>22.0.1</strong> (or equivalent to what you were using earlier) in the build tool area and rebuild your project.</p>\n\n<p>If that doesn't work, go to <strong>gradle:app</strong> and then</p>\n\n<pre><code>compile fileTree(dir: 'libs', include: ['*.jar'])\ncompile 'com.android.support:appcompat-v7:22.2.1'\n</code></pre>\n\n<p>Edit <strong>v7:23.0.0</strong> to <strong>v7:22.2.1</strong> as shown above and sync gradle. This will definitely work.</p>\n", "title": "Error retrieving parent for item: No resource found that matches the given name after upgrading to AppCompat v23", "answer_id": 32239866, "question_id": 32075498, "tags": ["android", "android-studio", "gradle"]}, {"body": "<p>If you are getting errors even after downloading the newest SDK and Android Studio, here is what I did:</p>\n\n<ol>\n<li>Download the most recent SDK</li>\n<li>Open file-Project structure (<kbd>Ctrl</kbd> + <kbd>Alt</kbd> + <kbd>Shift</kbd> + <kbd>S</kbd>)</li>\n<li>In modules, select app</li>\n<li>In the properties tab: Change compile SDK version to API 23 Android 6.0 marshmallow (latest)</li>\n</ol>\n\n<p>I hope it helps someone so that he won't suffer like I did for these couple of days.</p>\n", "title": "Error retrieving parent for item: No resource found that matches the given name after upgrading to AppCompat v23", "answer_id": 32317608, "question_id": 32075498, "tags": ["android", "android-studio", "gradle"]}, {"body": "<p>As pointed out by Tanis.7x, the support library version (23) does not match the targetSdkVersion (22)</p>\n\n<p>You can fix this by doing the following: </p>\n\n<p>In the <code>build.grade</code> file of your app module, change the following line of code</p>\n\n<pre><code>compile 'com.android.support:appcompat-v7:23.0.0'\n</code></pre>\n\n<p>To </p>\n\n<pre><code>compile 'com.android.support:appcompat-v7:22.+'\n</code></pre>\n\n<p>This will use the latest version of the appcompat version that is compatible with SdkVersion 22.</p>\n", "title": "Error retrieving parent for item: No resource found that matches the given name after upgrading to AppCompat v23", "answer_id": 32333341, "question_id": 32075498, "tags": ["android", "android-studio", "gradle"]}, {"body": "<p><strong>When you update your Android Studio, it uses API version 23 by default,\nwhich is the main reason of its occurrence. So,</strong></p>\n\n<p>At first, check your AppCompat version in build.gradle(Module:app)\nThat is,</p>\n\n<p><a href=\"http://i.stack.imgur.com/zdA9P.jpg\"><img src=\"http://i.stack.imgur.com/zdA9P.jpg\" alt=\"Enter image description here\"></a></p>\n\n<p>If after changing to 23 there occurs an error then just download</p>\n\n<p><code>Compile Sdk Version to API 23, and Build Tools Version to 23.0.0</code></p>\n\n<p>from SDK Manager. If already downloaded then:</p>\n\n<pre><code>1. Go to SDK Manager and\n2. Under Project Structure, change *Compile SDK Version* to API 23, and *Build Tools Version* to 23.0.0\n</code></pre>\n\n<p>Click SDK Manager Button and open the dialog.</p>\n\n<p><a href=\"http://i.stack.imgur.com/bAoOZ.jpg\"><img src=\"http://i.stack.imgur.com/bAoOZ.jpg\" alt=\"Enter image description here\"></a></p>\n\n<p>Click SDK Platform and check if Android 6.0 is downloaded or not.</p>\n\n<p>if not, then download that first. After completing the download, click <kbd>Apply</kbd>.</p>\n\n<p><a href=\"http://i.stack.imgur.com/VDKen.jpg\"><img src=\"http://i.stack.imgur.com/VDKen.jpg\" alt=\"Enter image description here\"></a></p>\n\n<p>Now you need to apply changes to your project from setting.\nThen press <strong><kbd>Ctrl</kbd> + <kbd>Alt</kbd> + <kbd>Shift</kbd> + <kbd>S</kbd></strong> to open setting</p>\n\n<ol>\n<li>Click app from list.</li>\n<li>Click properties</li>\n<li>Change your <em>Compile SDK Version</em> to API 23</li>\n<li>Change your <em>Build Tools Version</em> to 23.0.0</li>\n</ol>\n\n<p><a href=\"http://i.stack.imgur.com/tl5P7.jpg\"><img src=\"http://i.stack.imgur.com/tl5P7.jpg\" alt=\"Enter image description here\"></a></p>\n\n<p>Don't forget to rebuild your project.</p>\n\n<p>Then your error will be gone.</p>\n", "title": "Error retrieving parent for item: No resource found that matches the given name after upgrading to AppCompat v23", "answer_id": 32368780, "question_id": 32075498, "tags": ["android", "android-studio", "gradle"]}, {"body": "<p>I found the solution, Problem started when I updated sdk, after that I used different <strong>buildToolsVersion ('22.0.1')</strong>  and I was using different <strong>support</strong> library like <strong>compile 'com.android.support:appcompat-v7:23.0.0'</strong>, showing you in image below</p>\n\n<p><a href=\"http://i.stack.imgur.com/8yyvY.png\"><img src=\"http://i.stack.imgur.com/8yyvY.png\" alt=\"enter image description here\"></a></p>\n\n<p>This was raising problem of \"<strong>android.widget.Material</strong>...\"\nThen I used same version for support library like  <strong>compile 'com.android.support:appcompat-v7:22.0.1'</strong> and its DONE. (Showing you in below screenshot) </p>\n\n<p><a href=\"http://i.stack.imgur.com/sSw1Y.png\"><img src=\"http://i.stack.imgur.com/sSw1Y.png\" alt=\"enter image description here\"></a></p>\n", "title": "Error retrieving parent for item: No resource found that matches the given name after upgrading to AppCompat v23", "answer_id": 32370099, "question_id": 32075498, "tags": ["android", "android-studio", "gradle"]}, {"body": "<p>You should compile your project with latest version so update &amp; install from your SDK. Sync your project with <code>sync project with Gradle file</code> Button.<br>\nYou can also continue with the existing version but check it installed properly below image indicate to API 22 that is properly installed. <a href=\"http://i.stack.imgur.com/opa28.jpg\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/opa28.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>And sync your project if needed. </p>\n\n<p><a href=\"http://i.stack.imgur.com/NRM5B.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/NRM5B.png\" alt=\"enter image description here\"></a></p>\n\n<p>it may help.</p>\n", "title": "Error retrieving parent for item: No resource found that matches the given name after upgrading to AppCompat v23", "answer_id": 32431220, "question_id": 32075498, "tags": ["android", "android-studio", "gradle"]}, {"body": "<p>Another solution :\nnavigate to</p>\n\n<pre><code>\\sdk\\extras\\android\\m2repository\\com\\android\\support\\appcompat-v7\\23.x.x\n</code></pre>\n\n<p>open <code>.aar</code> file with 7-zip or winrar , in res folder remove <code>values-23</code> folder and save changes .</p>\n", "title": "Error retrieving parent for item: No resource found that matches the given name after upgrading to AppCompat v23", "answer_id": 32473747, "question_id": 32075498, "tags": ["android", "android-studio", "gradle"]}, {"body": "<pre><code>android {\n    compileSdkVersion 23\n    buildToolsVersion '23.0.1'\n\ndefaultConfig {\n    applicationId \"\"\n    minSdkVersion 14\n    targetSdkVersion 22\n    versionCode 1\n    versionName \"1.0\"\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n  }\n}\n\ndependencies {\ncompile fileTree(dir: 'libs', include: ['*.jar'])\ncompile 'com.google.code.gson:gson:2.3.1'\ncompile 'com.android.support:recyclerview-v7:23.0.0'\ncompile 'com.android.support:appcompat-v7:23.0.1'\n</code></pre>\n\n<p>}</p>\n", "title": "Error retrieving parent for item: No resource found that matches the given name after upgrading to AppCompat v23", "answer_id": 32587329, "question_id": 32075498, "tags": ["android", "android-studio", "gradle"]}, {"body": "<p>on module: app (Gradle)</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 21\n    buildToolsVersion \"21.1.2\"\n\n    defaultConfig {\n        applicationId \"com.namepack.nameappxxxxx\"\n        minSdkVersion 16\n        targetSdkVersion 21\n        versionCode 1\n        versionName \"1.0\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    compile 'com.android.support:appcompat-v7:21.0.3'\n}\n</code></pre>\n\n<p>project: nameAppXXXX (Gradle)</p>\n\n<pre><code>buildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:1.2.3'\n\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n    }\n}\n</code></pre>\n\n<p>and edit your activity of AppCompatActivity to for example Activity:</p>\n\n<pre><code>package com.namepack.nameappxxxxx;\n\n\nimport android.os.Bundle;\nimport android.support.v7.app.ActionBarActivity;\nimport android.view.Menu;\nimport android.view.MenuItem;\n\npublic class NameClass extends ActionBarActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main_activity);\n    }\n\n\n}\n</code></pre>\n", "title": "Error retrieving parent for item: No resource found that matches the given name after upgrading to AppCompat v23", "answer_id": 32770625, "question_id": 32075498, "tags": ["android", "android-studio", "gradle"]}, {"body": "<p><strong>This issue is raised because now the compile SDK version must match the Android Support library's major version.</strong></p>\n\n<p>In my case i have the <code>Android Support Library</code> version 23, so i had to compile against the <code>Android SDK version 23</code>, and I had to change this in my <code>build.gradle</code> file:</p>\n\n<p><a href=\"http://i.stack.imgur.com/GYWZB.png\"><img src=\"http://i.stack.imgur.com/GYWZB.png\" alt=\"enter image description here\"></a></p>\n\n<p>Well some of you will need to install the SDK, <code>Android 6.0 (API 23)</code></p>\n\n<p><a href=\"http://i.stack.imgur.com/7jH6Y.png\"><img src=\"http://i.stack.imgur.com/7jH6Y.png\" alt=\"enter image description here\"></a></p>\n\n<p>and don\u00b4t forget to <strong>Sync project with gradle files</strong></p>\n", "title": "Error retrieving parent for item: No resource found that matches the given name after upgrading to AppCompat v23", "answer_id": 33027718, "question_id": 32075498, "tags": ["android", "android-studio", "gradle"]}, {"body": "<p>You need to set compileSdkVersion to 23.</p>\n\n<p>Since API 23 Android removed the deprecated Apache Http packages, so if you use them for server requests, you'll need to add useLibrary <code>'org.apache.http.legacy'</code> to <code>build.gradle</code> as stated in this link:</p>\n\n<pre><code>android {\n    compileSdkVersion 23\n    buildToolsVersion \"23.0.0\"\n    ...\n\n    //only if you use Apache packages\n    useLibrary 'org.apache.http.legacy'\n}\n</code></pre>\n", "title": "Error retrieving parent for item: No resource found that matches the given name after upgrading to AppCompat v23", "answer_id": 33194635, "question_id": 32075498, "tags": ["android", "android-studio", "gradle"]}, {"body": "<p>I got the same problems. I solved my problem by updating gradle.build for each sub-module to latest compiler version.</p>\n", "title": "Error retrieving parent for item: No resource found that matches the given name after upgrading to AppCompat v23", "answer_id": 33519868, "question_id": 32075498, "tags": ["android", "android-studio", "gradle"]}, {"body": "<p>If you've tried to change target to a previous GooglePlayServices or AppCompatv7 version and it doesn't work, check if you have any project-libraries dependency, this project will be targeting the latest version of any of these libraries. It happened to me with the Google Maps Utils Library project:</p>\n\n<p>replace:</p>\n\n<pre><code>compile 'com.google.android.gms:play-services:+'\n</code></pre>\n\n<p>to</p>\n\n<pre><code>compile 'com.google.android.gms:play-services:8.3.0'\n</code></pre>\n\n<p>Then you can continue full targeting API 22</p>\n\n<p>If it still doesn't compile, sometimes is useful to set compileSdkVersion API to 23 and targetSdkVersion to 22.</p>\n", "title": "Error retrieving parent for item: No resource found that matches the given name after upgrading to AppCompat v23", "answer_id": 34352023, "question_id": 32075498, "tags": ["android", "android-studio", "gradle"]}, {"body": "<p><a href=\"http://i.stack.imgur.com/irmPA.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/irmPA.png\" alt=\"SDK Manager\"></a></p>\n\n<p>Make sure that all these are in upto date.</p>\n", "title": "Error retrieving parent for item: No resource found that matches the given name after upgrading to AppCompat v23", "answer_id": 35789070, "question_id": 32075498, "tags": ["android", "android-studio", "gradle"]}, {"body": "<p>Upgrade Android Studio.</p>\n\n<p>I had this issue with Android Studio 1.3.1 and none of the other answers worked for me, but after updating to 1.5.1 there were no problems.</p>\n", "title": "Error retrieving parent for item: No resource found that matches the given name after upgrading to AppCompat v23", "answer_id": 35805132, "question_id": 32075498, "tags": ["android", "android-studio", "gradle"]}, {"body": "<p>This is what helped me: <a href=\"https://forum.ionicframework.com/t/build-failed-android/38071/7\" rel=\"nofollow\">Adding specific android platform</a></p>\n\n<p>What should be done is the following... In my case it was <code>cordova</code> but the same is relevant for <code>ionic</code>, <code>phonegap</code> and other frameworks like these:</p>\n\n<ol>\n<li>list all platforms installed for your project: <code>cordova platform list</code>. You'll see something like this:</li>\n</ol>\n\n<p><a href=\"http://i.stack.imgur.com/hH6o1.jpg\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/hH6o1.jpg\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"2\">\n<li><p>remove the android platform: <code>cordova platform remove android</code>.</p></li>\n<li><p>then add the specific android platform: <code>cordova platform add android@5.0.0</code>.</p></li>\n</ol>\n\n<p>Good luck! :)</p>\n", "title": "Error retrieving parent for item: No resource found that matches the given name after upgrading to AppCompat v23", "answer_id": 36126199, "question_id": 32075498, "tags": ["android", "android-studio", "gradle"]}, {"body": "<p>In my case it was an higher version of Google-play-services. I set them to 7.0.0 (not 8.x) and all was ok.</p>\n", "title": "Error retrieving parent for item: No resource found that matches the given name after upgrading to AppCompat v23", "answer_id": 36746013, "question_id": 32075498, "tags": ["android", "android-studio", "gradle"]}], "question_id": 32075498}, {"body": "<p>I recently compared the processing speeds of <code>[]</code> and <code>list()</code> and was surprised to discover that <code>[]</code> runs <em>more than three times faster</em> than <code>list()</code>. I ran the same test with <code>{}</code> and <code>dict()</code> and the results were practically identical: <code>[]</code> and <code>{}</code> both took around 0.128sec / million cycles, while <code>list()</code> and <code>dict()</code> took roughly 0.428sec / million cycles each.</p>\n\n<p>Why is this? Do <code>[]</code> and <code>{}</code> (probably <code>()</code> and <code>''</code>, too) immediately pass back a copies of some empty stock literal while their explicitly-named counterparts (<code>list()</code>, <code>dict()</code>, <code>tuple()</code>, <code>str()</code>) fully go about creating an object, whether or not they actually have elements?</p>\n\n<p>I have no idea how these two methods differ but I'd love to find out.\nI couldn't find an answer in the <code>docs</code> or on SO, and searching for empty brackets turned out to be more complicated than I'd expected.</p>\n\n<p>I got my timing results by calling <code>timeit.timeit(\"[]\")</code> and <code>timeit.timeit(\"list()\")</code>, and <code>timeit.timeit(\"{}\")</code> and <code>timeit.timeit(\"dict()\")</code>, to compare lists and dictionaries, respectively. I'm running Python 2.7.9.</p>\n\n<p>I recently discovered \"<a href=\"http://stackoverflow.com/questions/18123965/why-if-true-is-slower-than-if-1\">Why is if True slower than if 1?</a>\" that compares the performance of <code>if True</code> to <code>if 1</code> and seems to touch on a similar literal-versus-global scenario; perhaps it's worth considering as well.</p>\n", "title": "Why is [] faster than list()?", "tags": ["python", "performance", "list", "instantiation", "literals"], "answer_count": 3, "link": "http://stackoverflow.com/questions/30216000/why-is-faster-than-list", "answers": [{"body": "<p>Because <code>list</code> is a <a href=\"https://docs.python.org/2/library/functions.html#list\">function</a> to convert say a string to a list object, while <code>[]</code> is used to create a list off the bat. Try this (might make more sense to you):</p>\n\n<pre><code>x = \"wham bam\"\na = list(x)\n&gt;&gt;&gt; a\n[\"w\", \"h\", \"a\", \"m\", ...]\n</code></pre>\n\n<p>While</p>\n\n<pre><code>y = [\"wham bam\"]\n&gt;&gt;&gt; y\n[\"wham bam\"]\n</code></pre>\n\n<p>Gives you a actual list containing whatever you put in it.</p>\n", "title": "Why is [] faster than list()?", "answer_id": 30216145, "question_id": 30216000, "tags": ["python", "performance", "list", "instantiation", "literals"]}, {"body": "<p>Because <code>[]</code> and <code>{}</code> are <em>literal syntax</em>. Python can create bytecode just to create the list or dictionary objects:</p>\n\n<pre><code>&gt;&gt;&gt; import dis\n&gt;&gt;&gt; dis.dis(compile('[]', '', 'eval'))\n  1           0 BUILD_LIST               0\n              3 RETURN_VALUE        \n&gt;&gt;&gt; dis.dis(compile('{}', '', 'eval'))\n  1           0 BUILD_MAP                0\n              3 RETURN_VALUE        \n</code></pre>\n\n<p><code>list()</code> and <code>dict()</code> are separate objects. Their names need to be resolved, the stack has to be involved to push the arguments, the frame has to be stored to retrieve later, and a call has to be made. That all takes more time.</p>\n\n<p>For the empty case, that means you have at the very least a <a href=\"https://docs.python.org/2/library/dis.html#opcode-LOAD_NAME\"><code>LOAD_NAME</code></a> (which has to search through the global namespace as well as the <a href=\"https://docs.python.org/2/library/__builtin__.html\"><code>__builtin__</code> module</a>) followed by a <a href=\"https://docs.python.org/2/library/dis.html#opcode-CALL_FUNCTION\"><code>CALL_FUNCTION</code></a>, which has to preserve the current frame:</p>\n\n<pre><code>&gt;&gt;&gt; dis.dis(compile('list()', '', 'eval'))\n  1           0 LOAD_NAME                0 (list)\n              3 CALL_FUNCTION            0\n              6 RETURN_VALUE        \n&gt;&gt;&gt; dis.dis(compile('dict()', '', 'eval'))\n  1           0 LOAD_NAME                0 (dict)\n              3 CALL_FUNCTION            0\n              6 RETURN_VALUE        \n</code></pre>\n\n<p>You can time the name lookup separately with <code>timeit</code>:</p>\n\n<pre><code>&gt;&gt;&gt; import timeit\n&gt;&gt;&gt; timeit.timeit('list', number=10**7)\n0.30749011039733887\n&gt;&gt;&gt; timeit.timeit('dict', number=10**7)\n0.4215109348297119\n</code></pre>\n\n<p>The time discrepancy there is probably a dictionary hash collision. Subtract those times from the times for calling those objects, and compare the result against the times for using literals:</p>\n\n<pre><code>&gt;&gt;&gt; timeit.timeit('[]', number=10**7)\n0.30478692054748535\n&gt;&gt;&gt; timeit.timeit('{}', number=10**7)\n0.31482696533203125\n&gt;&gt;&gt; timeit.timeit('list()', number=10**7)\n0.9991960525512695\n&gt;&gt;&gt; timeit.timeit('dict()', number=10**7)\n1.0200958251953125\n</code></pre>\n\n<p>So having to call the object takes an additional <code>1.00 - 0.31 - 0.30 == 0.39</code> seconds per 10 million calls.</p>\n\n<p>You can avoid the global lookup cost by aliasing the global names as locals (using a <code>timeit</code> setup, everything you bind to a name is a local):</p>\n\n<pre><code>&gt;&gt;&gt; timeit.timeit('_list', '_list = list', number=10**7)\n0.1866450309753418\n&gt;&gt;&gt; timeit.timeit('_dict', '_dict = dict', number=10**7)\n0.19016098976135254\n&gt;&gt;&gt; timeit.timeit('_list()', '_list = list', number=10**7)\n0.841480016708374\n&gt;&gt;&gt; timeit.timeit('_dict()', '_dict = dict', number=10**7)\n0.7233691215515137\n</code></pre>\n\n<p>but you never can overcome that <code>CALL_FUNCTION</code> cost.</p>\n", "title": "Why is [] faster than list()?", "answer_id": 30216156, "question_id": 30216000, "tags": ["python", "performance", "list", "instantiation", "literals"]}, {"body": "<p><code>list()</code> requires a global lookup and a function call but <code>[]</code> compiles to a single instruction. See:</p>\n\n<pre><code>Python 2.7.3\n&gt;&gt;&gt; import dis\n&gt;&gt;&gt; print dis.dis(lambda: list())\n  1           0 LOAD_GLOBAL              0 (list)\n              3 CALL_FUNCTION            0\n              6 RETURN_VALUE        \nNone\n&gt;&gt;&gt; print dis.dis(lambda: [])\n  1           0 BUILD_LIST               0\n              3 RETURN_VALUE        \nNone\n</code></pre>\n", "title": "Why is [] faster than list()?", "answer_id": 30216174, "question_id": 30216000, "tags": ["python", "performance", "list", "instantiation", "literals"]}], "question_id": 30216000}, {"body": "<p>I've read <a href=\"http://stackoverflow.com/questions/32021763/what-could-be-the-downsides-of-using-redux-instead-of-flux\">this answer</a>, <a href=\"http://rackt.github.io/redux/docs/recipes/ReducingBoilerplate.html\">reducing boilerplate</a>, looked at few GitHub examples and even tried redux a little bit (todo apps). </p>\n\n<p>As I understand, <a href=\"http://redux.js.org/docs/introduction/Motivation.html\">official redux doc motivations</a> provide pros comparing to traditional MVC architectures. BUT it doesn't provide an answer to the question: </p>\n\n<p><strong>Why you should use Redux over Facebook Flux?</strong> </p>\n\n<p><em>Is that only a question of programming styles: functional vs non-functional? Or the question is in abilities/dev-tools that follow from redux approach? Maybe scaling? Or testing?</em></p>\n\n<p><em>Am I right if I say that redux is a flux for people who comes from functional languages?</em> </p>\n\n<p><strong>To answer this question you may compare complexity of implementation redux's motivation points on flux vs redux.</strong></p>\n\n<p>Here are motivation points from <a href=\"http://redux.js.org/docs/introduction/Motivation.html\">official redux doc motivations</a>:</p>\n\n<ol>\n<li>Handling optimistic updates (<em>as I understand, it hardly depends on 5th point. Is it hard to implement it in fb flux?</em>)</li>\n<li>Rendering on the server (<em>fb flux also can do this. Any benefits comparing to redux?</em>)</li>\n<li>Fetching data before performing route transitions (<em>Why it can't be achieved in fb flux? What's the benefits?</em>)</li>\n<li>Hot reload (<em>It's possible with <a href=\"http://gaearon.github.io/react-hot-loader/\">React Hot Reload</a>. Why do we need redux?</em>)</li>\n<li>Undo/Redo functionality</li>\n<li>Any other points? Like persisting state...</li>\n</ol>\n", "title": "Why use Redux over Facebook Flux?", "tags": ["javascript", "reactjs", "reactjs-flux", "flux", "redux"], "answer_count": 3, "link": "http://stackoverflow.com/questions/32461229/why-use-redux-over-facebook-flux", "answers": [{"body": "<p>You might be best starting with reading this post by Dan Abramov where he discusses various implementations of Flux and their trade-offs at the time he was writing redux:\n<a href=\"https://medium.com/@dan_abramov/the-evolution-of-flux-frameworks-6c16ad26bb31\">The Evolution of Flux Frameworks</a></p>\n\n<p>Secondly that motivations page you link to does not really discuss the motivations of Redux so much as the motivations behind Flux (and React). The <a href=\"http://rackt.github.io/redux/docs/introduction/ThreePrinciples.html\">Three Principles</a> is more Redux specific though still does not deal with the implementation differences from the standard Flux architecture.</p>\n\n<p>Basically Flux has multiple \"Stores\" that compute state change in response to UI/API interactions with components and broadcast these changes as events that components can subscribe to. In Redux there is only one Store that every component subscribes to. IMO it feels at least like Redux further simplifies and unifies the flow of data by unifying (or reducing as Redux would say) the flow of data back to the components - whereas Flux concentrates on unifying the other side of the data flow - view to model.</p>\n", "title": "Why use Redux over Facebook Flux?", "answer_id": 32742821, "question_id": 32461229, "tags": ["javascript", "reactjs", "reactjs-flux", "flux", "redux"]}, {"body": "<p>Redux author here!  </p>\n\n<p>Redux is not <em>that</em> different from Flux. Overall it's the same architecture, but Redux is able to cut some complexity corners by using functional composition where Flux uses callback registration.</p>\n\n<p>It's not fundamentally different, but I find it that Redux makes certain abstractions easier, or at least possible to implement, that would be hard or impossible to implement in Flux.</p>\n\n<h2>Reducer Composition</h2>\n\n<p>Take, for example, pagination. My <a href=\"https://github.com/gaearon/flux-react-router-example\">Flux + React Router example</a> handles pagination, but the code for that is awful. One of the reasons it's awful is that <strong>Flux makes it unnatural to reuse functionality across stores.</strong> If two stores need to handle pagination in response to different actions, they either need to inherit from a common base store (bad! you're locking yourself into a particular design when you use inheritance), or call a function from the handler, which will need to somehow operate on the Flux store's private state. The whole thing is messy (although definitely in the realm of possible).</p>\n\n<p>On the other hand, with Redux pagination is natural thanks to reducer composition. It's reducers all the way down, so you can write a <a href=\"https://github.com/reactjs/redux/blob/ecb1bb453a60408543f5760bba0aa4c767650ba2/examples/real-world/reducers/paginate.js\">reducer factory that generates pagination reducers</a> and then <a href=\"https://github.com/reactjs/redux/blob/ecb1bb453a60408543f5760bba0aa4c767650ba2/examples/real-world/reducers/index.js#L29-L46\">use it in your reducer tree</a>. The key to why it's so easy is because <strong>in Flux, stores are flat, but in Redux, reducers can be nested via functional composition, just like React components can be nested.</strong></p>\n\n<p>This pattern also enables wonderful features like no-user-code <a href=\"https://github.com/omnidan/redux-undo\">undo/redo</a>. <strong>Can you imagine plugging Undo/Redo into a Flux app being two lines of code? Hardly. With Redux, it is</strong>\u2014again, thanks to reducer composition pattern. I need to highlight there's nothing new about it\u2014this is the pattern pioneered and described in detail in <a href=\"https://github.com/evancz/elm-architecture-tutorial/\">Elm Architecture</a> which was itself influenced by Flux.</p>\n\n<h2>Server Rendering</h2>\n\n<p>People have been rendering on the server fine with Flux, but seeing that we have 20 Flux libraries each attempting to make server rendering \u201ceasier\u201d, perhaps Flux has some rough edges on the server. The truth is Facebook doesn't do much server rendering, so they haven't been very concerned about it, and rely on the ecosystem to make it easier.</p>\n\n<p>In traditional Flux, stores are singletons. This means it's hard to separate the data for different requests on the server. Not impossible, but hard. This is why most Flux libraries (as well as the new <a href=\"https://facebook.github.io/flux/docs/flux-utils.html\">Flux Utils</a>) now suggest you use classes instead of singletons, so you can instantiate stores per request.</p>\n\n<p>There are still the following problems that you need to solve in Flux (either yourself or with the help of your favorite Flux library such as <a href=\"https://github.com/acdlite/flummox\">Flummox</a> or <a href=\"https://github.com/goatslacker/alt\">Alt</a>):</p>\n\n<ul>\n<li>If stores are classes, how do I create and destroy them with dispatcher per request? When do I register stores?</li>\n<li>How do I hydrate the data from the stores and later rehydrate it on the client? Do I need to implement special methods for this?</li>\n</ul>\n\n<p>Admittedly Flux frameworks (not vanilla Flux) have solutions to these problems, but I find them overcomplicated. For example, <a href=\"http://acdlite.github.io/flummox/docs/api/store\">Flummox asks you to implement <code>serialize()</code> and <code>deserialize()</code> in your stores</a>. Alt solves this nicer by providing <a href=\"http://alt.js.org/docs/takeSnapshot/\"><code>takeSnapshot()</code></a> that automatically serializes your state in a JSON tree.</p>\n\n<p>Redux just goes further: <strong>since there is just a single store (managed by many reducers), you don't need any special API to manage the (re)hydration.</strong> You don't need to \u201cflush\u201d or \u201chydrate\u201d stores\u2014there's just a single store, and you can read its current state, or create a new store with a new state. Each request gets a separate store instance. <a href=\"http://redux.js.org/docs/recipes/ServerRendering.html\">Read more about server rendering with Redux.</a></p>\n\n<p>Again, this is a case of something possible both in Flux and Redux, but Flux libraries solve this problem by introducing a ton of API and conventions, and Redux doesn't even have to solve it because it doesn't have that problem in the first place thanks to conceptual simplicity.</p>\n\n<h2>Developer Experience</h2>\n\n<p>I didn't actually intend Redux to become a popular Flux library\u2014I wrote it as I was working on my <a href=\"http://youtube.com/watch?v=xsSnOQynTHs\">ReactEurope talk on hot reloading with time travel</a>. I had one main objective: <strong>make it possible to change reducer code on the fly or even \u201cchange the past\u201d by crossing out actions, and see the state being recalculated.</strong></p>\n\n<p><img src=\"https://camo.githubusercontent.com/a0d66cf145fe35cbe5fb341494b04f277d5d85dd/687474703a2f2f692e696d6775722e636f6d2f4a34476557304d2e676966\" alt=\"\"></p>\n\n<p>I haven't seen a single Flux library that is able to do this. React Hot Loader also doesn't let you do this\u2014in fact it breaks if you edit Flux stores because it doesn't know what to do with them.</p>\n\n<p>When Redux needs to reload the reducer code, it calls <a href=\"http://redux.js.org/docs/api/Store.html#replaceReducer\"><code>replaceReducer()</code></a>, and the app runs with the new code. In Flux, data and functions are entangled in Flux stores, so you can't \u201cjust replace the functions\u201d. Moreover, you'd have to somehow re-register the new versions with the Dispatcher\u2014something Redux doesn't even have.</p>\n\n<h2>Ecosystem</h2>\n\n<p>Redux has a <a href=\"https://github.com/xgrommx/awesome-redux\">rich and fast-growing ecosystem</a>. This is because it provides a few extension points such as <a href=\"http://redux.js.org/docs/advanced/Middleware.html\">middleware</a>. It was designed with use cases such as <a href=\"https://github.com/fcomb/redux-logger\">logging</a>, support for <a href=\"https://github.com/acdlite/redux-promise\">Promises</a>, <a href=\"https://github.com/acdlite/redux-rx\">Observables</a>, <a href=\"https://github.com/reactjs/react-router-redux\">routing</a>, <a href=\"https://github.com/leoasis/redux-immutable-state-invariant\">immutability dev checks</a>, <a href=\"https://github.com/elgerlambert/redux-localstorage/\">persistence</a>, etc, in mind. Not all of these will turn out to be useful, but it's nice to have access to a set of tools that can be easily combined to work together.</p>\n\n<h2>Simplicity</h2>\n\n<p>Redux preserves all the benefits of Flux (recording and replaying of actions, unidirectional data flow, dependent mutations) and adds new benefits (easy undo-redo, hot reloading) without introducing Dispatcher and store registration.</p>\n\n<p>Keeping it simple is important because it keeps you sane while you implement higher-level abstractions.</p>\n\n<p>Unlike most Flux libraries, Redux API surface is tiny. If you remove the developer warnings, comments, and sanity checks, it's <a href=\"https://gist.github.com/gaearon/ffd88b0e4f00b22c3159\">99 lines</a>. There is no tricky async code to debug.</p>\n\n<p>You can actually read it and understand all of Redux.</p>\n\n<hr>\n\n<p>See also <a href=\"http://stackoverflow.com/a/32916602/458193\">my answer on downsides of using Redux compared to Flux</a>.</p>\n", "title": "Why use Redux over Facebook Flux?", "answer_id": 32920459, "question_id": 32461229, "tags": ["javascript", "reactjs", "reactjs-flux", "flux", "redux"]}, {"body": "<p>I'm an early adopter and implemented a mid-large single page application using the Facebook Flux library.</p>\n\n<p>As I'm a little late to the conversation I'll just point out that despite my best hopes Facebook seem to consider their Flux implementation to be a proof of concept and it has never received the attention it deserves.</p>\n\n<p>I'd encourage you to play with it, as it exposes more of the inner working of the Flux architecture which is quite educational, but at the same time it does not provide many of the benefits that libraries like Redux provide (which aren't that important for small projects, but become very valuable for bigger ones).</p>\n\n<p>We have decided that moving forward we will be moving to Redux and I suggest you do the same ;)</p>\n", "title": "Why use Redux over Facebook Flux?", "answer_id": 34613221, "question_id": 32461229, "tags": ["javascript", "reactjs", "reactjs-flux", "flux", "redux"]}], "question_id": 32461229}, {"body": "<p>If I do this:</p>\n\n<pre><code>&gt;&gt;&gt; False in [False, True]\nTrue\n</code></pre>\n\n<p>That returns <code>True</code>. Simply because <code>False</code> is in the list.</p>\n\n<p>But if I do:</p>\n\n<pre><code>&gt;&gt;&gt; not(True) in [False, True]\nFalse\n</code></pre>\n\n<p>That returns <code>False</code>. Whereas <code>not(True)</code> is equal to <code>False</code>:</p>\n\n<pre><code>&gt;&gt;&gt; not(True)\nFalse\n</code></pre>\n\n<p>Why?</p>\n", "title": "Why does &quot;not(True) in [False, True]&quot; return False?", "tags": ["python", "python-2.7", "python-3.x"], "answer_count": 8, "link": "http://stackoverflow.com/questions/31421379/why-does-nottrue-in-false-true-return-false", "answers": [{"body": "<p>Operator precedence. <code>in</code> binds more tightly than <code>not</code>, so your expression is equivalent to <code>not((True) in [False, True])</code>.</p>\n", "title": "Why does &quot;not(True) in [False, True]&quot; return False?", "answer_id": 31421407, "question_id": 31421379, "tags": ["python", "python-2.7", "python-3.x"]}, {"body": "<p>It's all about <a href=\"https://docs.python.org/2/reference/expressions.html\">operator precedence</a> (<code>in</code> is stronger than <code>not</code>). But it can be easily corrected by adding parentheses at the right place:</p>\n\n<pre><code>(not(True)) in [False, True]  # prints true\n</code></pre>\n\n<p>writing:</p>\n\n<pre><code>not(True) in [False, True]\n</code></pre>\n\n<p>is the same like:</p>\n\n<pre><code>not((True) in [False, True])\n</code></pre>\n\n<p>which looks if <code>True</code> is in the list and returns the \"not\" of the result.</p>\n", "title": "Why does &quot;not(True) in [False, True]&quot; return False?", "answer_id": 31421410, "question_id": 31421379, "tags": ["python", "python-2.7", "python-3.x"]}, {"body": "<p><strong>Operator precedence</strong> <sup><a href=\"https://docs.python.org/2/reference/expressions.html#operator-precedence\">2.x</a>, <a href=\"https://docs.python.org/3/reference/expressions.html#operator-precedence\">3.x</a></sup>. The precedence of <code>not</code> is lower than that of <code>in</code>. So it is equivalent to:</p>\n\n<pre><code>&gt;&gt;&gt; not (True in [False, True])\nFalse\n</code></pre>\n\n<p>This is what you want:</p>\n\n<pre><code>&gt;&gt;&gt; (not True) in [False, True]\nTrue\n</code></pre>\n\n<hr>\n\n<p>As @Ben points out: It's recommended to never write <code>not(True)</code>, prefer <code>not True</code>. The former makes it look like a function call, while <code>not</code> is an operator, not a function.</p>\n", "title": "Why does &quot;not(True) in [False, True]&quot; return False?", "answer_id": 31421411, "question_id": 31421379, "tags": ["python", "python-2.7", "python-3.x"]}, {"body": "<p>It is evaluating as <code>not True in [False, True]</code>, which returns <code>False</code> because <code>True</code> is in <code>[False, True]</code> </p>\n\n<p>If you try </p>\n\n<pre><code>&gt;&gt;&gt;(not(True)) in [False, True]\nTrue\n</code></pre>\n\n<p>You get the expected result.</p>\n", "title": "Why does &quot;not(True) in [False, True]&quot; return False?", "answer_id": 31421418, "question_id": 31421379, "tags": ["python", "python-2.7", "python-3.x"]}, {"body": "<p><strong><code>not x in y</code></strong> is evaluated as <strong><code>x not in y</code></strong></p>\n\n<p>You can see exactly what's happening by disassembling the code.  The first case works as you expect:</p>\n\n<pre><code>&gt;&gt;&gt; x = lambda: False in [False, True]\n&gt;&gt;&gt; dis.dis(x)\n  1           0 LOAD_GLOBAL              0 (False)\n              3 LOAD_GLOBAL              0 (False)\n              6 LOAD_GLOBAL              1 (True)\n              9 BUILD_LIST               2\n             12 COMPARE_OP               6 (in)\n             15 RETURN_VALUE\n</code></pre>\n\n<p>The second case, evaluates to <code>True not in [False, True]</code>, which is <code>False</code> clearly:</p>\n\n<pre><code>&gt;&gt;&gt; x = lambda: not(True) in [False, True]\n&gt;&gt;&gt; dis.dis(x)\n  1           0 LOAD_GLOBAL              0 (True)\n              3 LOAD_GLOBAL              1 (False)\n              6 LOAD_GLOBAL              0 (True)\n              9 BUILD_LIST               2\n             12 COMPARE_OP               7 (not in)\n             15 RETURN_VALUE        \n&gt;&gt;&gt; \n</code></pre>\n\n<p>What you wanted to express instead was <code>(not(True)) in [False, True]</code>, which as expected is <code>True</code>, and you can see why:</p>\n\n<pre><code>&gt;&gt;&gt; x = lambda: (not(True)) in [False, True]\n&gt;&gt;&gt; dis.dis(x)\n  1           0 LOAD_GLOBAL              0 (True)\n              3 UNARY_NOT           \n              4 LOAD_GLOBAL              1 (False)\n              7 LOAD_GLOBAL              0 (True)\n             10 BUILD_LIST               2\n             13 COMPARE_OP               6 (in)\n             16 RETURN_VALUE        \n</code></pre>\n", "title": "Why does &quot;not(True) in [False, True]&quot; return False?", "answer_id": 31421636, "question_id": 31421379, "tags": ["python", "python-2.7", "python-3.x"]}, {"body": "<p>Let's see it as a collection containment checking operation: <code>[False, True]</code> is a list containing some elements.</p>\n\n<p>The expression <code>True in [False, True]</code> returns <code>True</code>, as <code>True</code> is an element contained in the list.</p>\n\n<p>Therefore, <code>not True in [False, True]</code> gives the \"boolean opposite\", <code>not</code> result of the above expression (without any parentheses to preserve precedence, as <code>in</code> has greater precedence than <code>not</code> operator).\nTherefore, <code>not True</code> will result <code>False</code>.</p>\n\n<p>On the other hand, <code>(not True) in [False, True]</code>, is equal to <code>False in [False, True]</code>, which is <code>True</code> (<code>False</code> is contained in the list).</p>\n", "title": "Why does &quot;not(True) in [False, True]&quot; return False?", "answer_id": 31438942, "question_id": 31421379, "tags": ["python", "python-2.7", "python-3.x"]}, {"body": "<p>Along side the other answers that mentioned the precedence of <code>not</code> is lower than <code>in</code>, actually your statement is equivalent to :</p>\n\n<pre><code>not (True in [False, True])\n</code></pre>\n\n<p>But note that if you don't separate your condition from others python will use 2 role <code>precedence</code> or <code>chaining</code> to separate that,and in this case python used precedence, also note that if you want to separate a condition you need to put all the condition in parenthesis not just the object or value :</p>\n\n<pre><code>(not True) in [False, True]\n</code></pre>\n\n<hr>\n\n<p>But as mentioned, there is another modification by python on operators that is <strong>chaining</strong>:</p>\n\n<p>Based on python <a href=\"https://docs.python.org/3/reference/expressions.html#operator-precedence\" rel=\"nofollow\"><em>documentation</em></a> :</p>\n\n<blockquote>\n  <p>Note that comparisons, membership tests, and identity tests, all have the same precedence and have a left-to-right <strong>chaining</strong> feature as described in the Comparisons section.</p>\n</blockquote>\n\n<p>For example the result of following statement is <code>False</code>:</p>\n\n<pre><code>&gt;&gt;&gt; True == False in [False, True]\nFalse\n</code></pre>\n\n<p>Because python will chain the statements like following :</p>\n\n<pre><code>(True == False) and (False in [False, True])\n</code></pre>\n\n<p>Which exactly is <code>False and True</code> that is <code>False</code>. </p>\n\n<p>You can assume that the central object will be shared between 2 operations and other objects (False in this case).</p>\n\n<p>And note that its also true for all Comparisons, including membership tests and identity tests operations which are following operands :</p>\n\n<pre><code>in, not in, is, is not, &lt;, &lt;=, &gt;, &gt;=, !=, ==\n</code></pre>\n\n<p>Example :</p>\n\n<pre><code>&gt;&gt;&gt; 1 in [1,2] == True\nFalse\n</code></pre>\n\n<p>Another famous example is number range :</p>\n\n<pre><code>7&lt;x&lt;20\n</code></pre>\n\n<p>which is equal to :</p>\n\n<pre><code>7&lt;x and x&lt;20   \n</code></pre>\n", "title": "Why does &quot;not(True) in [False, True]&quot; return False?", "answer_id": 31458009, "question_id": 31421379, "tags": ["python", "python-2.7", "python-3.x"]}, {"body": "<p>To clarify on some of the other answers, adding parentheses <em>after</em> a unary operator does not change its precedence. <code>not(True)</code> does not make <code>not</code> bind more tightly to <code>True</code>. It's just a redundant set of parentheses around <code>True</code>. It's much the same as <code>(True) in [True, False]</code>. The parentheses don't do anything.  If you want the binding to be more tight, you have to put the parentheses around the whole expression, meaning both the operator and the operand, i.e., <code>(not True) in [True, False]</code>.</p>\n\n<p>To see this another way, consider </p>\n\n<pre><code>&gt;&gt;&gt; -2**2\n-4\n</code></pre>\n\n<p><code>**</code> binds more tightly than <code>-</code>, which is why you get the negative of two squared, not the square of negative two (which would be positive four). </p>\n\n<p>What if you did want the square of negative two? Obviously, you'd add parentheses:</p>\n\n<pre><code>&gt;&gt;&gt; (-2)**2\n4\n</code></pre>\n\n<p>However, it's not reasonable to expect the following to give <code>4</code></p>\n\n<pre><code>&gt;&gt;&gt; -(2)**2\n-4\n</code></pre>\n\n<p>because <code>-(2)</code> is the same as <code>-2</code>. The parentheses do absolutely nothing. <code>not(True)</code> is exactly the same. </p>\n", "title": "Why does &quot;not(True) in [False, True]&quot; return False?", "answer_id": 31496786, "question_id": 31421379, "tags": ["python", "python-2.7", "python-3.x"]}], "question_id": 31421379}, {"body": "<p>I have this piece of code (taken from <a href=\"http://stackoverflow.com/a/5827895/5665799\">this question</a>):</p>\n\n<pre><code>var walk = function(dir, done) {\n    var results = [];\n\n    fs.readdir(dir, function(err, list) {\n        if (err)\n            return done(err);\n\n        var pending = list.length;\n\n        if (!pending) \n            return done(null, results);\n\n        list.forEach(function(file) {\n            file = path.resolve(dir, file);\n            fs.stat(file, function(err, stat) {\n                if (stat &amp;&amp; stat.isDirectory()) {\n                    walk(file, function(err, res) {\n                        results = results.concat(res);\n\n                        if (!--pending)\n                            done(null, results);\n                    });\n                } else {\n                    results.push(file);\n\n                    if (!--pending) \n                        done(null, results);\n                }\n            });\n        });\n    });\n};\n</code></pre>\n\n<p>I'm trying to follow it, and I think I understand everything except for near the end where it says <code>!--pending</code>. In this context, what does that command do?</p>\n\n<p>Edit: I appreciate all the further comments, but the question has been answered many times. Thanks anyway!</p>\n", "title": "What does &quot;!--&quot; do in JavaScript?", "tags": ["javascript", "decrement", "prefix-operator", "not-operator"], "answer_count": 11, "link": "http://stackoverflow.com/questions/34323527/what-does-do-in-javascript", "answers": [{"body": "<p>That's not a special operator, it's 2 standard operators one after the other:</p>\n\n<ol>\n<li>A prefix decrement (<code>--</code>)</li>\n<li>A logical not (<code>!</code>)</li>\n</ol>\n\n<p>This causes <code>pending</code> to be decremented and then tested to see if it's zero.</p>\n", "title": "What does &quot;!--&quot; do in JavaScript?", "answer_id": 34323564, "question_id": 34323527, "tags": ["javascript", "decrement", "prefix-operator", "not-operator"]}, {"body": "<p><code>!</code> is the JavaScript <a href=\"https://msdn.microsoft.com/en-us/library/zz722703(v=vs.94).aspx\">NOT</a> operator</p>\n\n<p><code>--</code> is a pre-decrement operator. So,</p>\n\n<pre><code>x = 1;\nif (!x) // false\nif (!--x) // becomes 0 and then uses the NOT operator,\n          // which makes the condition to be true\n</code></pre>\n", "title": "What does &quot;!--&quot; do in JavaScript?", "answer_id": 34323576, "question_id": 34323527, "tags": ["javascript", "decrement", "prefix-operator", "not-operator"]}, {"body": "<p>It's a shorthand.</p>\n\n<p><code>!</code> is \"not\".</p>\n\n<p><code>--</code> decrements a value.</p>\n\n<p>So <code>!--</code> checks if the value obtained from negating the result of decrementing a value is false.</p>\n\n<p>Try this:</p>\n\n<pre><code>var x = 2;\nconsole.log(!--x);\nconsole.log(!--x);\n</code></pre>\n\n<p>The first is false, since the value of x is 1, the second is true, since the value of x is 0.</p>\n\n<p>Side note:\n<code>!x--</code> would check if x is false first, and then decrement it.</p>\n", "title": "What does &quot;!--&quot; do in JavaScript?", "answer_id": 34323584, "question_id": 34323527, "tags": ["javascript", "decrement", "prefix-operator", "not-operator"]}, {"body": "<p><code>!</code> inverts a value, and gives you the opposite boolean:</p>\n\n<pre><code>!true == false\n!false == true\n!1 == false\n!0 == true\n</code></pre>\n\n<p><code>--[value]</code> subtracts one (1) from a number, and then returns that number to be worked with:</p>\n\n<pre><code>var a = 1, b = 2;\n--a == 0\n--b == 1\n</code></pre>\n\n<p>So, <code>!--pending</code> subtracts one from pending, and then returns the opposite of its truthy/falsy value (whether or not it's <code>0</code>).</p>\n\n<pre><code>pending = 2; !--pending == false \npending = 1; !--pending == true\npending = 0; !--pending == false\n</code></pre>\n\n<p>And yes, follow the ProTip.  This may be a common idiom in other programming languages, but for most declarative JavaScript programming this looks quite alien.</p>\n", "title": "What does &quot;!--&quot; do in JavaScript?", "answer_id": 34323590, "question_id": 34323527, "tags": ["javascript", "decrement", "prefix-operator", "not-operator"]}, {"body": "<p>It's the not operator followed by the in-place pre-decrementer.</p>\n\n<p>So if <code>pending</code> was an integer with a value of 1:</p>\n\n<pre><code>val = 1;\n--val; // val is 0 here\n!val // evaluates to true\n</code></pre>\n", "title": "What does &quot;!--&quot; do in JavaScript?", "answer_id": 34323597, "question_id": 34323527, "tags": ["javascript", "decrement", "prefix-operator", "not-operator"]}, {"body": "<p>It merely decreases <code>pending</code> by one and obtains its logical complement (negation). The logical complement of any number different than 0 is <code>false</code>, for 0 it is <code>true</code>.</p>\n", "title": "What does &quot;!--&quot; do in JavaScript?", "answer_id": 34323608, "question_id": 34323527, "tags": ["javascript", "decrement", "prefix-operator", "not-operator"]}, {"body": "<p>A number of answers describes <em>what</em> this command does, but not <em>why</em> it is done that way here.</p>\n\n<p>I come from the C world, and I read <code>!--pending</code> as \"count down <code>pending</code> and check if it is zero\" without really thinking about it.  It is an idiom that I think programmers in similar languages should know.</p>\n\n<p>The function uses <code>readdir</code> to get a list of files and subdirectories, which I will collectively call \"entries\".  </p>\n\n<p>The variable <code>pending</code> keeps track of how many of these remains to be processed. It starts out as the length of the list, and counts downward towards zero as each entry is processed.</p>\n\n<p>These entries may be processed out of order, which is why it is necessary to count down rather than just using a simple loop.  When <em>all</em> the entries have been processed the callback <code>done</code> is called to notify the original caller of this fact.</p>\n\n<p>In the first call to <code>done</code> is prepended with <code>return</code>, not because we want to return a value, but simply to make the function stop executing at that point.  It would have been cleaner code to drop the <code>return</code> and put the alternative in an <code>else</code>.</p>\n", "title": "What does &quot;!--&quot; do in JavaScript?", "answer_id": 34331093, "question_id": 34323527, "tags": ["javascript", "decrement", "prefix-operator", "not-operator"]}, {"body": "<pre><code>if(!--pending)\n</code></pre>\n\n<p>means</p>\n\n<pre><code>if(0 == --pending)\n</code></pre>\n\n<p>means</p>\n\n<pre><code>pending = pending - 1;\nif(0 == pending)\n</code></pre>\n", "title": "What does &quot;!--&quot; do in JavaScript?", "answer_id": 34340066, "question_id": 34323527, "tags": ["javascript", "decrement", "prefix-operator", "not-operator"]}, {"body": "<p>The real problem here is the lack of a space between the two operators <code>!</code> and <code>--</code>.</p>\n\n<p>I don't know why people get it in their heads that you can't ever use a space after the <code>!</code> operator. I think it comes from rigid application of mechanical whitespace rules instead of common sense. Just about every coding standard I've seen prohibits spaces after all unary operators, but why?</p>\n\n<p>If there were ever a case where you clearly <em>need</em> that space, this is one.</p>\n\n<p>Consider this bit of code:</p>\n\n<pre><code>if (!--pending)\n    done(null, results);\n</code></pre>\n\n<p>Not only are <code>!</code> and <code>--</code> mashed together, you've got that <code>(</code> slammed against them too. No wonder it's hard to tell what is connected to what.</p>\n\n<p>A bit more whitespace makes the code much more clear:</p>\n\n<pre><code>if( ! --pending )\n    done( null, results );\n</code></pre>\n\n<p>Sure, if you're used to mechanical rules like \"no space inside parens\" and \"no space after a unary operator\", this may seem a bit foreign.</p>\n\n<p>But look at how the extra whitespace groups and separates the various parts of the <code>if</code> statement and expression: You've got <code>--pending</code>, so the <code>--</code> is clearly its own operator and is tied closely to <code>pending</code>. (It decrements <code>pending</code> and returns the decremented result.) Then you've got the <code>!</code> separated from that so it's obviously a distinct operator, negating the result. Finally, you've got <code>if(</code> and <code>)</code> surrounding the whole expression to make it an <code>if</code> statement.</p>\n\n<p>And yes, I removed the space between <code>if</code> and <code>(</code>, because the <code>(</code> <em>belongs</em> to the <code>if</code>. This <code>(</code> isn't part of some kind of <code>(!--</code> syntax as it appears to be in the original, the <code>(</code> if part of the syntax of the <code>if</code> statement itself.</p>\n\n<p>The whitespace here serves to communicate the <em>meaning</em>, instead of following some mechanical coding standard.</p>\n", "title": "What does &quot;!--&quot; do in JavaScript?", "answer_id": 34369482, "question_id": 34323527, "tags": ["javascript", "decrement", "prefix-operator", "not-operator"]}, {"body": "<h1>Explanation</h1>\n\n<p>This is 2 operators, a <code>!</code> and a <code>--</code></p>\n\n<pre><code>!--x \n</code></pre>\n\n<p>So, this detriments x by 1, and checks to see if it's a boolean.</p>\n\n<p>If you wanted to make it more readable, you can:</p>\n\n<pre><code>var x = 1\nx = x - 1   \nif(!x){ //=&gt; true\n    console.log(\"I understand `!--` now!\") \n}\nx //=&gt; 0\n</code></pre>\n\n<h1>Try it out:</h1>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>/* This is an example of the above, you can read this, but it is not needed for !-- */function interactive(a){$(\"span.code\").keydown(function(e){if(13==(e.keyCode||e.which)){var t=$(this);t.clone().html(\"code\").insertAfter(t.next().next()).show().focus().after(template.clone().removeClass(\"result-template\").show()).next().after(\"&lt;br&gt;\"),interactive(),e.preventDefault()}}).keyup(function(e){13!=(e.keyCode||e.which)&amp;&amp;run()})}var template=$(\".result-template\").hide(),code=$(\"span.code\");code.attr(\"contenteditable\",\"true\").each(function(e,t){template.clone().removeClass(\"result-template\").insertAfter(t)}),interactive(),$.fn.reduce=[].reduce;function run(){var b=!1,context={};$(\"span.code\").each(function(){var a=$(this),res=a.next().show().removeClass(\"error\");try{with(context)res.html(b?\"\":\"  //=&gt; \"+eval(a.text()))}catch(e){b=e,res.html(\"  Error: \"+b.message).addClass(\"error\")}})};run();</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>/* This is an example of the above, you can read this, but it is not needed for !-- */span.result.error{display:block;color:red}.code{min-width:10px}body{font-family:Helvetica,sans-serif}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!-- This is an example of the above, you can read this, but it is not needed for `!--` --&gt;&lt;span class=\"result result-template\"&gt; //=&gt; unknown &lt;/span&gt; &lt;h2&gt;Edit This Code:&lt;/h2&gt;&lt;code&gt;&lt;span class=\"code\"&gt;x = 1&lt;/span&gt;&lt;br&gt;&lt;span class=\"code\"&gt;!--x&lt;/span&gt;&lt;br&gt;&lt;span class=\"code\"&gt; x &lt;/span&gt;&lt;br&gt;&lt;/code&gt; &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><a href=\"https://jsfiddle.net/q19akbt7/10/\" rel=\"nofollow\">Fiddle (Try Out Code)</a> </p>\n", "title": "What does &quot;!--&quot; do in JavaScript?", "answer_id": 34426778, "question_id": 34323527, "tags": ["javascript", "decrement", "prefix-operator", "not-operator"]}, {"body": "<p><code>if (!--pending)</code> is basically equal to <code>if (pending == 1)</code></p>\n\n<p><strong>Proof:</strong></p>\n\n<p><code>!0 = 1 = true</code></p>\n\n<p><code>!(value other than zero) = 0 =  false</code></p>\n\n<p>lets say <code>pending = 1</code> then <code>--pending = 0</code> and <code>!--pending = 1 = true</code>. If value of pending is other than 1 then <code>--pending</code> will not be 0 and <code>!--pending</code> will always be false</p>\n", "title": "What does &quot;!--&quot; do in JavaScript?", "answer_id": 34751523, "question_id": 34323527, "tags": ["javascript", "decrement", "prefix-operator", "not-operator"]}], "question_id": 34323527}, {"body": "<p>I have this new warning about the Google Framework in my app:</p>\n\n<blockquote>\n  <p>(null): URGENT: all bitcode will be dropped because\n  '/Users/myname/Library/Mobile\n  Documents/com~apple~CloudDocs/foldername/appname/GoogleMobileAds.framework/GoogleMobileAds(GADSlot+AdEvents.o)'\n  was built without bitcode. You must rebuild it with bitcode enabled\n  (Xcode setting ENABLE_BITCODE), obtain an updated library from the\n  vendor, or disable bitcode for this target. Note: This will be an\n  error in the future.</p>\n</blockquote>\n\n<p>Xcode 7 is giving me around 204 warnings about this same concept, and I could not get around with this. Also I have a problem accessing the network from my app. This is the error from the Debugging Area:</p>\n\n<blockquote>\n  <p>-canOpenURL: failed for URL: \"kindle://home\" - error: \"This app is\n  not allowed to query for scheme kindle\"</p>\n</blockquote>\n\n<p>All of these problems were not present in iOS 8.</p>\n", "title": "New warnings in iOS 9", "tags": ["xcode", "ios9", "bitcode"], "answer_count": 8, "link": "http://stackoverflow.com/questions/30848208/new-warnings-in-ios-9", "answers": [{"body": "<p>Your library was compiled without bitcode, but the bitcode option is enabled in your project settings. Say <code>NO</code> to <code>Enable Bitcode</code> in your target Build Settings and the Library Build Settings to remove the warnings.</p>\n\n<p>For those wondering if enabling bitcode is required: </p>\n\n<blockquote>\n  <p>Note: For iOS apps, bitcode is the default, but optional. If you\n  provide bitcode, all apps and frameworks in the app bundle need to\n  include bitcode. For watchOS apps, bitcode is required.</p>\n</blockquote>\n\n<p><a href=\"https://developer.apple.com/library/prerelease/watchos/documentation/IDEs/Conceptual/AppDistributionGuide/AppThinning/AppThinning.html\">https://developer.apple.com/library/prerelease/watchos/documentation/IDEs/Conceptual/AppDistributionGuide/AppThinning/AppThinning.html</a></p>\n", "title": "New warnings in iOS 9", "answer_id": 30856364, "question_id": 30848208, "tags": ["xcode", "ios9", "bitcode"]}, {"body": "<p>After Xcode 7, the bitcode option will be enabled by default. If your library was compiled without bitcode, but the bitcode option is enabled in your project settings, you can:</p>\n\n<ol>\n<li>Update your library with bit code, </li>\n<li>Say NO to <em>Enable Bitcode</em> in your target <em>Build Settings</em></li>\n</ol>\n\n<blockquote>\n  <p><img src=\"https://i.imgur.com/OoOogUe.gif\" alt=\"Enter image description here\"></p>\n</blockquote>\n\n<p>And the Library Build Settings to remove the warnings.</p>\n\n<p>For more information, go to <a href=\"https://developer.apple.com/library/prerelease/watchos/documentation/IDEs/Conceptual/AppDistributionGuide/AppThinning/AppThinning.html#//apple_ref/doc/uid/TP40012582-CH35-SW2\">documentation of bitcode in developer library</a>.</p>\n\n<p>And WWDC 2015 Session 102: <a href=\"https://developer.apple.com/videos/wwdc/2015/?id=102\">\"Platforms State of the Union\"</a></p>\n\n<p><img src=\"http://mobileforward.net/wp-content/uploads/2015/06/Screen-Shot-2015-06-12-at-6.57.54-PM-697x351.png\" alt=\"Enter image description here\"></p>\n", "title": "New warnings in iOS 9", "answer_id": 30905883, "question_id": 30848208, "tags": ["xcode", "ios9", "bitcode"]}, {"body": "<p>Method <code>canOpenUrl</code> is in iOS 9 (due to privacy) changed and is not free to use any more. Your banner provider checks for installed apps so that they do not show banners for an app that is already installed.</p>\n\n<p>That gives all the log statements like</p>\n\n<p>-canOpenURL: failed for URL: \"kindle://home\" - error: \"This app is not allowed to query for scheme kindle\"</p>\n\n<p>The providers should update their logic for this.</p>\n\n<p>If you need to query for installed apps/available schemes you need to add them to your <code>info.plist</code> file.</p>\n\n<p>Add the key 'LSApplicationQueriesSchemes' to your plist as an array. Then add strings in that array like 'kindle'.</p>\n\n<p>Of course this is not really an option for the banner ads (since those are dynamic), but you can still query that way for your own apps or specific other apps like Twitter and Facebook.</p>\n\n<p>Documentation of the canOpenUrl: method\n<a href=\"https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UIApplication_Class/#//apple_ref/occ/instm/UIApplication/canOpenURL:\" rel=\"nofollow\">canOpenUrl:</a></p>\n\n<p><a href=\"https://developer.apple.com/library/prerelease/ios/documentation/General/Reference/InfoPlistKeyReference/Articles/LaunchServicesKeys.html#//apple_ref/doc/uid/TP40009250-SW14\" rel=\"nofollow\">Documentation about the LSApplicationQueriesSchemes key</a></p>\n", "title": "New warnings in iOS 9", "answer_id": 32497488, "question_id": 30848208, "tags": ["xcode", "ios9", "bitcode"]}, {"body": "<p>To fix the issues with the canOpenURL failing. This is because of the new App Transport Security feature in iOS9</p>\n\n<p>Read this post to fix that issue <a href=\"http://discoverpioneer.com/blog/2015/09/18/updating-facebook-integration-for-ios-9/\" rel=\"nofollow\">http://discoverpioneer.com/blog/2015/09/18/updating-facebook-integration-for-ios-9/</a></p>\n", "title": "New warnings in iOS 9", "answer_id": 32657020, "question_id": 30848208, "tags": ["xcode", "ios9", "bitcode"]}, {"body": "<p>In my case for avoiding that problem:</p>\n\n<ol>\n<li><p>Be sure that you are dealing with <strong>Xcode 7</strong>, NOT lower versions. In lower version this flag does not exist.</p></li>\n<li><p>Setup: <strong>Project>Build Settings>All>Build Options>Enable Bitcode = NO</strong></p></li>\n</ol>\n\n<p><a href=\"http://i.stack.imgur.com/yHSWb.png\"><img src=\"http://i.stack.imgur.com/yHSWb.png\" alt=\"enter image description here\"></a></p>\n", "title": "New warnings in iOS 9", "answer_id": 32692000, "question_id": 30848208, "tags": ["xcode", "ios9", "bitcode"]}, {"body": "<p>Disclaimer: This is intended for those supporting a <a href=\"http://en.wikipedia.org/wiki/Continuous_integration\" rel=\"nofollow\">continuous integration</a> workflow that require an automated process. If you don't, please use Xcode as described in <a href=\"http://stackoverflow.com/a/32692000/890242\">Javier's answer</a>.</p>\n\n<p>This worked for me to set <code>ENABLE_BITCODE = NO</code> via the command line:</p>\n\n<pre><code>find . -name *project.pbxproj | xargs sed -i -e 's/\\(GCC_VERSION = \"\";\\)/\\1\\ ENABLE_BITCODE = NO;/g'\n</code></pre>\n\n<p>Note that this is likely to be unstable across Xcode versions. It was tested with Xcode 7.0.1 and as part of a Cordova 4.0 project.</p>\n", "title": "New warnings in iOS 9", "answer_id": 32846813, "question_id": 30848208, "tags": ["xcode", "ios9", "bitcode"]}, {"body": "<p>If you are using <strong>CocoaPods</strong> and you want to disable Bitcode for all libraries, use the following command in the Podfile </p>\n\n<pre><code>post_install do |installer|\n    installer.pods_project.targets.each do |target|\n        target.build_configurations.each do |config|\n            config.build_settings['ENABLE_BITCODE'] = 'NO'\n        end\n    end\nend\n</code></pre>\n", "title": "New warnings in iOS 9", "answer_id": 32891418, "question_id": 30848208, "tags": ["xcode", "ios9", "bitcode"]}, {"body": "<p>This issue has been recently fixed (Nov 2010) by Google, see <a href=\"https://code.google.com/p/analytics-issues/issues/detail?id=671\" rel=\"nofollow\">https://code.google.com/p/analytics-issues/issues/detail?id=671</a>. But be aware that as a good fix it brings more bugs :)</p>\n\n<p>You will also have to follow the initialisation method listed here: <a href=\"https://developers.google.com/analytics/devguides/collection/ios/v2\" rel=\"nofollow\">https://developers.google.com/analytics/devguides/collection/ios/v2</a>.</p>\n\n<p>The latest instructions are going to give you a headache because it references utilities not included in the pod. Below will fail with the cocoapod</p>\n\n<pre><code>// Configure tracker from GoogleService-Info.plist.\nNSError *configureError;\n[[GGLContext sharedInstance] configureWithError:&amp;configureError];\nNSAssert(!configureError, @\"Error configuring Google services: %@\", configureError);\n</code></pre>\n", "title": "New warnings in iOS 9", "answer_id": 33647841, "question_id": 30848208, "tags": ["xcode", "ios9", "bitcode"]}], "question_id": 30848208}, {"body": "<p>This is not a duplicate of <a href=\"http://stackoverflow.com/questions/25719713/untrusted-app-developer-message-when-installing-enterprise-ios-application\">Untrusted App Developer</a>. Since iOS9 there is no option to trust an enterprise build. Has anyone found a workaround? </p>\n\n<p><img src=\"http://i.stack.imgur.com/YKTGq.png\" alt=\"enter image description here\"></p>\n", "title": "iOS9 Untrusted Enterprise Developer with no option to trust", "tags": ["ios-enterprise", "ios9"], "answer_count": 6, "link": "http://stackoverflow.com/questions/30722883/ios9-untrusted-enterprise-developer-with-no-option-to-trust", "answers": [{"body": "<p>In iOS 9.1 and lower, go to Settings - General - Profiles - tap on your Profile - tap on Trust button.</p>\n\n<p>In iOS 9.2+, go to Settings - General - Device Management - tap on your Profile - tap on Trust button. </p>\n", "title": "iOS9 Untrusted Enterprise Developer with no option to trust", "answer_id": 30726375, "question_id": 30722883, "tags": ["ios-enterprise", "ios9"]}, {"body": "<p>Do it like this:</p>\n\n<p><img src=\"https://i.imgur.com/AdGNYHe.gif\" alt=\"Enter image description here\"></p>\n\n<p>Go to <em>Settings</em> -> <em>General</em> -> <em>Profiles</em> - tap on your Profile - tap on the <em>Trust</em> button.</p>\n", "title": "iOS9 Untrusted Enterprise Developer with no option to trust", "answer_id": 30881984, "question_id": 30722883, "tags": ["ios-enterprise", "ios9"]}, {"body": "<p>For iOS 9 beta 3,4 users. Since the option to view profiles is not viewable do the following from Xcode. </p>\n\n<ol>\n<li>Open Xcode 7. </li>\n<li>Go to window, devices. </li>\n<li>Select your device. </li>\n<li>Delete all of the profiles loaded on the device. </li>\n<li>Delete the old app on your device. </li>\n<li>Clean and rebuild the app to your device. </li>\n</ol>\n", "title": "iOS9 Untrusted Enterprise Developer with no option to trust", "answer_id": 31660039, "question_id": 30722883, "tags": ["ios-enterprise", "ios9"]}, {"body": "<p><strong>Device</strong>: iPad Mini</p>\n\n<p><strong>OS</strong>: iOS 9 Beta 3</p>\n\n<p><strong>App downloaded from</strong>: Hockey App</p>\n\n<p><strong>Provisioning profile with Trust issues</strong>: Enterprise</p>\n\n<p>In my case, when I navigate to  Settings > General > Profiles, I could not see on any Apple provisioning profile. All I could see is a Configuration Profile which is HockeyApp Config.</p>\n\n<p><a href=\"http://i.stack.imgur.com/2yQ7p.jpg\"><img src=\"http://i.stack.imgur.com/2yQ7p.jpg\" alt=\"Settings&gt;General&gt;Profile\"></a></p>\n\n<p>Here are the steps that I followed:</p>\n\n<ol>\n<li>Connect the Device</li>\n<li>Open Xcode</li>\n<li>Navigate to Window > Devices</li>\n<li>Right click on the Device and select Show Provisioning Profiles...</li>\n<li>Delete your Enterprise provisioning profile. Hit Done.\n<a href=\"http://i.stack.imgur.com/M9LxN.png\"><img src=\"http://i.stack.imgur.com/M9LxN.png\" alt=\"Window&gt;Device&gt;Provisioning Profile\"></a></li>\n<li>Open HockeyApp. Install your app.</li>\n<li>Once the app finished installing, go back to Settings>General>Profiles. You should now be able to see your Enterprise provisioning profile.\n<a href=\"http://i.stack.imgur.com/mJYOY.jpg\"><img src=\"http://i.stack.imgur.com/mJYOY.jpg\" alt=\"enter image description here\"></a></li>\n<li>Click Trust\n<a href=\"http://i.stack.imgur.com/cJSbv.jpg\"><img src=\"http://i.stack.imgur.com/cJSbv.jpg\" alt=\"enter image description here\"></a></li>\n</ol>\n\n<p>That's it! You're done! You can now go back to your app and open it successfully. Hope this helped. :)</p>\n", "title": "iOS9 Untrusted Enterprise Developer with no option to trust", "answer_id": 31846230, "question_id": 30722883, "tags": ["ios-enterprise", "ios9"]}, {"body": "<p><strong>Changes to Enterprise App Distribution Coming in iOS 9</strong></p>\n\n<blockquote>\n  <p>iOS 9 introduces a new feature to help protect users from installing\n  in-house apps from untrusted sources. While no new app signing or\n  provisioning methods are required, the way your enterprise users\n  manage in-house apps installed on their iOS 9 devices will change. </p>\n  \n  <p>In-house apps installed using an MDM solution are explicitly trusted\n  and will no longer prompt the user to trust the developer that signed\n  and provisioned the app. If your enterprise app does not use an MDM\n  solution, users who install your app for the first time will be\n  prompted to trust the developer. All users who install your app for\n  the first time will need an internet connection.</p>\n  \n  <p>Using a new restriction, organizations can limit the apps installed on their devices to the in-house apps that they create. And a new interface in Settings allows users to see all enterprise apps installed from their organization.</p>\n</blockquote>\n\n<p><a href=\"http://i.stack.imgur.com/aEAuh.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/aEAuh.png\" alt=\"Changes to Enterprise App Distribution Coming in iOS 9\"></a></p>\n\n<p><em>Source:</em> Official email sent from developer@insideapple.apple.com to existing enterprise app developers.</p>\n", "title": "iOS9 Untrusted Enterprise Developer with no option to trust", "answer_id": 32262529, "question_id": 30722883, "tags": ["ios-enterprise", "ios9"]}, {"body": "<p>On iOS 9.2 <code>Profiles</code> renamed to <code>Device Management</code>.<br>\nNow navigation looks like that:<br>\n<code>Settings -&gt; General -&gt; Device Management -&gt; Tap on necessary profile in list -&gt; Trust.</code></p>\n", "title": "iOS9 Untrusted Enterprise Developer with no option to trust", "answer_id": 34211389, "question_id": 30722883, "tags": ["ios-enterprise", "ios9"]}], "question_id": 30722883}, {"body": "<p>I was baffled when a colleague showed me this line of JavaScript alerting 42.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>alert(2+\u168040);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>It quickly turns out that what looks like a minus sign is actually an arcane Unicode character with clearly different semantics.</p>\n\n<p>This left me wondering why that character doesn't produce a syntax error when the expression is parsed. I'd also like to know if there are more characters behaving like this.</p>\n", "title": "Why does 2+\u168040 equal 42?", "tags": ["javascript", "unicode"], "answer_count": 5, "link": "http://stackoverflow.com/questions/31507143/why-does-2-40-equal-42", "answers": [{"body": "<p>That character is <a href=\"https://codepoints.net/U+1680\">\"OGHAM SPACE MARK\"</a>, which is a space character. So the code is equivalent to <code>alert(2+ 40)</code>.</p>\n\n<blockquote>\n  <p>I'd also like to know if there are more characters behaving like this.</p>\n</blockquote>\n\n<p>Any Unicode character in the Zs class <a href=\"http://www.ecma-international.org/ecma-262/6.0/#sec-white-space\">is a white space character in JavaScript</a>, <a href=\"https://codepoints.net/search?q=&amp;na=&amp;int=&amp;gc[]=Zs&amp;Bidi_M=&amp;Bidi_C=&amp;CE=&amp;Comp_Ex=&amp;XO_NFC=&amp;XO_NFD=&amp;XO_NFKC=&amp;XO_NFKD=&amp;Join_C=&amp;Upper=&amp;Lower=&amp;OUpper=&amp;OLower=&amp;CI=&amp;Cased=&amp;CWCF=&amp;CWCM=&amp;CWL=&amp;CWKCF=&amp;CWT=&amp;CWU=&amp;IDS=&amp;OIDS=&amp;XIDS=&amp;IDC=&amp;OIDC=&amp;XIDC=&amp;Pat_Syn=&amp;Pat_WS=&amp;Dash=&amp;Hyphen=&amp;QMark=&amp;Term=&amp;STerm=&amp;Dia=&amp;Ext=&amp;SD=&amp;Alpha=&amp;OAlpha=&amp;Math=&amp;OMath=&amp;Hex=&amp;AHex=&amp;DI=&amp;ODI=&amp;LOE=&amp;WSpace=&amp;Gr_Base=&amp;Gr_Ext=&amp;OGr_Ext=&amp;Gr_Link=&amp;Ideo=&amp;UIdeo=&amp;IDSB=&amp;IDST=&amp;Radical=&amp;Dep=&amp;VS=&amp;NChar=\">but there don't seem to be that many</a>.</p>\n\n<p>However, <a href=\"https://mathiasbynens.be/notes/javascript-identifiers-es6\">JavaScript also allows Unicode characters in identifiers</a>, which lets you use interesting variable names like <code>\u0ca0_\u0ca0</code>.</p>\n", "title": "Why does 2+\u168040 equal 42?", "answer_id": 31507213, "question_id": 31507143, "tags": ["javascript", "unicode"]}, {"body": "<p>I guess it has to do something with the fact that for some strange reason it classifies as whitespace:</p>\n\n<pre><code>$ unicode \u1680\nU+1680 OGHAM SPACE MARK\nUTF-8: e1 9a 80  UTF-16BE: 1680  Decimal: &amp;#5760;\n\u1680 (\u1680)\nUppercase: U+1680\nCategory: Zs (Separator, Space)\nBidi: WS (Whitespace)\n</code></pre>\n", "title": "Why does 2+\u168040 equal 42?", "answer_id": 31507214, "question_id": 31507143, "tags": ["javascript", "unicode"]}, {"body": "<p>It appears that the character that you are using is actually longer than what the actual minus sign (a hyphen) is.</p>\n\n<pre><code>\u1680\n-\n</code></pre>\n\n<p>The top is what you are using, the bottom is what the minus sign should be. You do seem to know that already, so now let's see why Javascript does this.</p>\n\n<p>The character that you use is actually the <a href=\"http://www.fileformat.info/info/unicode/char/1680/index.htm\">ogham space mark</a> which is a whitespace character, so it is basically interpreted as the same thing as a space, which means that your statement looks like <code>alert(2+ 40)</code> to Javascript.</p>\n\n<p>There are other characters like this in Javascript. You can see a full list <a href=\"https://en.wikipedia.org/wiki/Whitespace_character#Unicode\">here on Wikipedia</a>.</p>\n\n<hr>\n\n<p>Something interesting I noticed about this character is the way that Google Chrome (and possible other browsers) interprets it in the top bar of the page.</p>\n\n<p><img src=\"http://i.stack.imgur.com/Rconv.png\" alt=\"enter image description here\"></p>\n\n<p>It is a block with <code>1680</code> inside of it. That is actually the unicode number for the ogham space mark. It appears to be just my machine doing this, but it is a strange thing.</p>\n\n<hr>\n\n<p>I decided to try this out in other languages to see what happens and these are the results that I got.</p>\n\n<hr>\n\n<h3>Languages it doesn't work in:</h3>\n\n<p><strong>Python 2 &amp; 3</strong></p>\n\n<pre><code>&gt;&gt; 2+\u168040\n  File \"&lt;stdin&gt;\", line 1\n    2+\u168040\n        ^\nSyntaxError: invalid character in identifier\n</code></pre>\n\n<p><strong>Ruby</strong> </p>\n\n<pre><code>&gt;&gt; 2+\u168040\nNameError: undefined local variable or method `\u168040' for main:Object\n    from (irb):1\n    from /home/michaelpri/.rbenv/versions/2.2.2/bin/irb:11:in `&lt;main&gt;'\n</code></pre>\n\n<p><strong>Java</strong> (inside the <code>main</code> method)</p>\n\n<pre><code>&gt;&gt; System.out.println(2+\u168040);\nMain.java:3: error: illegal character: \\5760\n            System.out.println(2+?40);\n                                 ^\nMain.java:3: error: ';' expected\n            System.out.println(2+?40);\n                                  ^\nMain.java:3: error: illegal start of expression\n            System.out.println(2+?40);\n                                    ^\n3 errors\n</code></pre>\n\n<p><strong>PHP</strong></p>\n\n<pre><code>&gt;&gt; 2+\u168040;\nUse of undefined constant \u168040 - assumed '\u168040' :1\n</code></pre>\n\n<p><strong>C</strong></p>\n\n<pre><code>&gt;&gt; 2+\u168040\nmain.c:1:1: error: expected identifier or '(' before numeric constant\n 2+\u168040\n ^\nmain.c:1:1: error: stray '\\341' in program\nmain.c:1:1: error: stray '\\232' in program\nmain.c:1:1: error: stray '\\200' in program\n\nexit status 1\n</code></pre>\n\n<p><strong>Go</strong></p>\n\n<pre><code>&gt;&gt; 2+\u168040\ncan't load package: package .: \nmain.go:1:1: expected 'package', found 'INT' 2\nmain.go:1:3: illegal character U+1680\n\nexit status 1\n</code></pre>\n\n<p><strong>Perl 5</strong></p>\n\n<pre><code>&gt;&gt; perl -e'2+\u168040'                                                                                                                                   \nUnrecognized character \\xE1; marked by &lt;-- HERE after 2+&lt;-- HERE near column 3 at -e line 1.\n</code></pre>\n\n<hr>\n\n<h3>Languages it does work in:</h3>\n\n<p><strong>Scheme</strong></p>\n\n<pre><code>&gt;&gt; (+ 2 \u168040)\n=&gt; 42\n</code></pre>\n\n<p><strong>C#</strong>\n(inside the <code>Main()</code> method)</p>\n\n<pre><code>Console.WriteLine(2+\u168040);\n\nOutput: 42\n</code></pre>\n\n<p><strong>Perl 6</strong></p>\n\n<pre><code>&gt;&gt; ./perl6 -e'say 2+\u168040' \n42\n</code></pre>\n", "title": "Why does 2+\u168040 equal 42?", "answer_id": 31507224, "question_id": 31507143, "tags": ["javascript", "unicode"]}, {"body": "<p>After reading the other answers, I wrote a simple script to find all Unicode characters in the range U+0000\u2013U+FFFF that behave like white spaces. As it seems, there are 26 or 27 of them depending on the browser, with disagreements about U+0085 and U+FFFE.</p>\n\n<p>Note that most of these characters just look like a regular white space.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function isSpace(ch)\r\n{\r\n    try\r\n    {\r\n        return Function('return 2 +' + ch + ' 2')() === 4;\r\n    }\r\n    catch(e)\r\n    {\r\n        return false;\r\n    }\r\n}\r\n\r\nfor (var i = 0; i &lt;= 0xffff; ++i)\r\n{\r\n    var ch = String.fromCharCode(i);\r\n    if (isSpace(ch))\r\n    {\r\n        document.body.appendChild(document.createElement('DIV')).textContent = 'U+' + ('000' + i.toString(16).toUpperCase()).slice(-4) + '    \"' + ch + '\"';\r\n    }\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>div { font-family: monospace; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "Why does 2+\u168040 equal 42?", "answer_id": 31507591, "question_id": 31507143, "tags": ["javascript", "unicode"]}, {"body": "<blockquote>\n  <p>I'd also like to know if there are more characters behaving like this.</p>\n</blockquote>\n\n<p>I seem to remember reading a piece a while back about mischievously replacing semi-colons (U+003B) in someone's code with U+037E which is the Greek question mark.</p>\n\n<p>They both look the same (to the extent that I believe the Greeks themselves use U+003B) but this article stated that the other one wouldn't work.</p>\n\n<p>Some more information on this from Wikipedia is here: <a href=\"https://en.wikipedia.org/wiki/Question_mark#Greek_question_mark\" rel=\"nofollow\">https://en.wikipedia.org/wiki/Question_mark#Greek_question_mark</a></p>\n\n<p>And a (closed) question on using this as prank from SO itself. Not where I originally read it AFAIR though:\n<a href=\"http://stackoverflow.com/questions/26965331/javascript-prank-joke\">JavaScript Prank / Joke</a></p>\n", "title": "Why does 2+\u168040 equal 42?", "answer_id": 31550995, "question_id": 31507143, "tags": ["javascript", "unicode"]}], "question_id": 31507143}, {"body": "<p>With new android API 22 <code>getResources().getDrawable()</code> is now deprecated.\nNow the best approach is to use only <code>getDrawable()</code>.</p>\n\n<p>What change? </p>\n", "title": "Android getResources().getDrawable() deprecated API 22", "tags": ["android", "android-drawable", "android-resources", "android-5.1.1-lollipop"], "answer_count": 6, "link": "http://stackoverflow.com/questions/29041027/android-getresources-getdrawable-deprecated-api-22", "answers": [{"body": "<h3>Edit: see <a href=\"http://www.androiddesignpatterns.com/2016/08/contextcompat-getcolor-getdrawable.html\">my blog post</a> on the subject for a more complete explanation</h3>\n\n<hr>\n\n<p>You should use the following code from the support library instead:</p>\n\n<pre><code>ContextCompat.getDrawable(context, R.drawable.***)\n</code></pre>\n\n<p>Using this method is equivalent to calling:</p>\n\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n    return resources.getDrawable(id, context.getTheme());\n} else {\n    return resources.getDrawable(id);\n}\n</code></pre>\n\n<p>As of API 21, you should use the <code>getDrawable(int, Theme)</code> method instead of <code>getDrawable(int)</code>, as it allows you to fetch a drawable object associated with a particular resource ID for the given screen density/theme. Calling the deprecated <code>getDrawable(int)</code> method is equivalent to calling <code>getDrawable(int, null)</code>.</p>\n", "title": "Android getResources().getDrawable() deprecated API 22", "answer_id": 29041466, "question_id": 29041027, "tags": ["android", "android-drawable", "android-resources", "android-5.1.1-lollipop"]}, {"body": "<p>Replace this line :\n    <code>getResources().getDrawable(R.drawable.your_drawable)</code></p>\n\n<p>with <code>ResourcesCompat.getDrawable(getResources(), R.drawable.your_drawable, null)</code></p>\n\n<p>EDIT</p>\n\n<p><code>ResourcesCompat</code> is also deprecated now. But you can use this:</p>\n\n<p><code>ContextCompat.getDrawable(this, R.drawable.your_drawable)</code> (Here <code>this</code> is the context)</p>\n\n<p>for more details follow this link: <a href=\"https://developer.android.com/reference/android/support/v4/content/ContextCompat.html\" rel=\"nofollow\">ContextCompat</a></p>\n", "title": "Android getResources().getDrawable() deprecated API 22", "answer_id": 29117227, "question_id": 29041027, "tags": ["android", "android-drawable", "android-resources", "android-5.1.1-lollipop"]}, {"body": "<p>You have some options to handle this deprecation the right (and <strong>future proof</strong>) way, depending on which kind of drawable you are loading:</p>\n\n<p><strong>A)</strong> drawables <em>without</em> theme attributes</p>\n\n<pre><code>ResourcesCompat.getDrawable(getResources(), R.drawable.name, null);\n</code></pre>\n\n<p>You'll get your unstyled drawable the old way. This is probably what you need. </p>\n\n<p>Please note: <code>ResourcesCompat.getDrawable()</code> is <strong>not</strong> deprecated!</p>\n\n<p><strong>B)</strong> drawables <em>with</em> theme attributes</p>\n\n<pre><code>ContextCompat.getDrawable(getActivity(), R.drawable.name);\n</code></pre>\n\n<p>You'll obtain a styled Drawable as your Activity theme instructs.</p>\n\n<p><strong>EXTRA)</strong> drawables <em>with</em> theme attributes from <em>another</em> theme</p>\n\n<pre><code>ResourcesCompat.getDrawable(getResources(), R.drawable.name, anotherTheme);\n</code></pre>\n\n<p>Explanation:</p>\n\n<p>Android 21 (5.0 Lollipop) introduced some new theme attributes such as <code>android:colorAccent</code> that modify the appearance of drawables that hold references to those new theme attributes values.\nThe AppCompat library handles pre and post-Lollipop drawable styling for you.</p>\n\n<p>If you do use the deprecated <code>getDrawable()</code> method to obtain a drawable resource with theme attributes, you will get a partially-styled drawable and a logcat warning.\nYou can see this in API 22 <code>android.content.res.Resources</code> source code:</p>\n\n<pre><code>@Deprecated\n@Nullable\npublic Drawable getDrawable(int id) throws NotFoundException {\n    final Drawable d = getDrawable(id, null);\n    if (d != null &amp;&amp; d.canApplyTheme()) {\n        Log.w(TAG, \"Drawable \" + getResourceName(id) + \" has unresolved theme \"\n                + \"attributes! Consider using Resources.getDrawable(int, Theme) or \"\n                + \"Context.getDrawable(int).\", new RuntimeException());\n    }\n    return d;\n}\n</code></pre>\n\n<p>See <a href=\"http://developer.android.com/reference/android/support/v4/content/ContextCompat.html#getDrawable(android.content.Context,%20int)\">ContextCompat Reference</a>, <a href=\"https://developer.android.com/reference/android/support/v4/content/res/ResourcesCompat.html#getDrawable(android.content.res.Resources,%20int,%20android.content.res.Resources.Theme)\">ResourcesCompat Reference</a> and <a href=\"https://plus.google.com/+BenjaminWeiss/posts/M1dYFaobyBM\">Benjamin Weiss g+ post</a></p>\n", "title": "Android getResources().getDrawable() deprecated API 22", "answer_id": 29146895, "question_id": 29041027, "tags": ["android", "android-drawable", "android-resources", "android-5.1.1-lollipop"]}, {"body": "<h3><a href=\"https://developer.android.com/reference/android/content/res/Resources.html#getDrawable(int)\" rel=\"nofollow\"><code>getResources().getDrawable()</code></a> was deprecated in API level 22. Now we must add the theme:</h3>\n\n<p><a href=\"https://developer.android.com/reference/android/content/res/Resources.html#getDrawable(int,%20android.content.res.Resources.Theme)\" rel=\"nofollow\">getDrawable (int id, Resources.Theme theme)</a>  (Added in API level 21)</p>\n\n<p>This is an example:</p>\n\n<pre><code>myImgView.setImageDrawable(getResources().getDrawable(R.drawable.myimage, getApplicationContext().getTheme()));\n</code></pre>\n\n<p>This is an example how to validate for later versions:</p>\n\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) { //&gt;= API 21\n     myImgView.setImageDrawable(getResources().getDrawable(R.drawable.myimage, getApplicationContext().getTheme()));\n   } else { \n     myImgView.setImageDrawable(getResources().getDrawable(R.drawable.myimage));\n}\n</code></pre>\n", "title": "Android getResources().getDrawable() deprecated API 22", "answer_id": 32854026, "question_id": 29041027, "tags": ["android", "android-drawable", "android-resources", "android-5.1.1-lollipop"]}, {"body": "<p>Build.VERSION_CODES.LOLLIPOP should now be changed to BuildVersionCodes.Lollipop\ni.e:</p>\n\n<pre><code>  if (Build.VERSION.SdkInt &gt;= BuildVersionCodes.Lollipop)\n                {\n                    this.Control.Background = this.Resources.GetDrawable(Resource.Drawable.AddBorder, Context.Theme);\n                 }\n                else\n                {\n                    this.Control.Background = this.Resources.GetDrawable(Resource.Drawable.AddBorder);\n\n                }\n</code></pre>\n", "title": "Android getResources().getDrawable() deprecated API 22", "answer_id": 34033187, "question_id": 29041027, "tags": ["android", "android-drawable", "android-resources", "android-5.1.1-lollipop"]}, {"body": "<p>Just an example of how I fixed the problem in an array to load a listView, hope it helps.</p>\n\n<pre><code> mItems = new ArrayList&lt;ListViewItem&gt;();\n//    Resources resources = getResources();\n\n//    mItems.add(new ListViewItem(resources.getDrawable(R.drawable.az_lgo), getString(R.string.st_az), getString(R.string.all_nums)));\n//    mItems.add(new ListViewItem(resources.getDrawable(R.drawable.ca_lgo), getString(R.string.st_ca), getString(R.string.all_nums)));\n//    mItems.add(new ListViewItem(resources.getDrawable(R.drawable.co_lgo), getString(R.string.st_co), getString(R.string.all_nums)));\n    mItems.add(new ListViewItem(ResourcesCompat.getDrawable(getResources(), R.drawable.az_lgo, null), getString(R.string.st_az), getString(R.string.all_nums)));\n    mItems.add(new ListViewItem(ResourcesCompat.getDrawable(getResources(), R.drawable.ca_lgo, null), getString(R.string.st_ca), getString(R.string.all_nums)));\n    mItems.add(new ListViewItem(ResourcesCompat.getDrawable(getResources(), R.drawable.co_lgo, null), getString(R.string.st_co), getString(R.string.all_nums)));\n</code></pre>\n", "title": "Android getResources().getDrawable() deprecated API 22", "answer_id": 34750353, "question_id": 29041027, "tags": ["android", "android-drawable", "android-resources", "android-5.1.1-lollipop"]}], "question_id": 29041027}, {"body": "<p>I was trying to create a branch from <code>master</code> with the following command,</p>\n\n<pre><code>git branch SSLOC-201_Implement___str__()_of_ProductSearchQuery\n</code></pre>\n\n<p>when Git suddenly stopped responding. I suspect the unescaped <code>()</code> must have done something to it. Now, whenever I try to run any Git command, I get the same error:</p>\n\n<pre><code>git:176: command not found: _of_ProductSearchQuery\n</code></pre>\n\n<p>(with the number after <code>git</code> increasing every time I type a command)</p>\n\n<p>Can anyone explain what happened? And how do I get back to normal? I'd love to be able to delete that branch, but Git won't work for me.</p>\n", "title": "Complex Git branch name broke all Git commands", "tags": ["git", "zsh", "git-branch", "parentheses"], "answer_count": 1, "link": "http://stackoverflow.com/questions/32355540/complex-git-branch-name-broke-all-git-commands", "answers": [{"body": "<h1>Problem</h1>\n\n<blockquote>\n  <p>Can anyone explain what happened? [...] I'd love to be able to delete that branch, but Git won't work for me.</p>\n</blockquote>\n\n<p>By running</p>\n\n<pre><code>git branch SSLOC-201_Implement___str__()_of_ProductSearchQuery\n</code></pre>\n\n<p>in zsh, <strong>you did not create any branch</strong>. Instead, you accidentally defined three <em>shell functions</em>, called <code>git</code>, <code>branch</code>, and <code>SSLOC-201_Implement___str__</code>, which ignore their parameters (if any) and whose body is <code>_of_ProductSearchQuery</code>. You can check for yourself that this is indeed what happened, by invoking the builtin zsh command called <code>functions</code>, which lists all existing shell functions:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>$ functions                                                     \nSSLOC-201_Implement___str__ () {\n    _of_ProductSearchQuery\n}\nbranch () {\n    _of_ProductSearchQuery\n}\ngit () {\n    _of_ProductSearchQuery\n}\n</code></pre>\n\n<p>Unfortunately, although the other two shell functions are not problematic, <strong>the shell function called \"git\" now shadows the <em>bona fide</em> <code>git</code> command!</strong></p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>$ which git\ngit () {\n    _of_ProductSearchQuery\n}\n# but the real \"git\" is a binary file that lives in /usr/local/bin/git (or some similar path)\n</code></pre>\n\n<p>Therefore, you will subsequently get the error</p>\n\n<pre><code>command not found: _of_ProductSearchQuery\n</code></pre>\n\n<p>whenever you attempt to run a Git command, e.g. <code>git log</code>, <code>git status</code>, etc. (assuming, of course, that no command called <code>_of_ProductSearchQuery</code> exists).</p>\n\n<h2>Side note</h2>\n\n<blockquote>\n  <p>[...] I get the same error:</p>\n\n<pre><code>git:176: command not found: _of_ProductSearchQuery\n</code></pre>\n  \n  <p>(with the number after <code>git</code> increasing every time I type a command)</p>\n</blockquote>\n\n<p>That number simply corresponds to the value of <code>HISTCMD</code>, an environment variable that holds</p>\n\n<blockquote>\n  <p>[t]he current history event number in an interactive shell, in other words the event number for the command that caused <code>$HISTCMD</code> to be read.</p>\n</blockquote>\n\n<p>See the <a href=\"http://zsh.sourceforge.net/Doc/Release/Parameters.html#Parameters-Set-By-The-Shell\" rel=\"nofollow\">zsh manual</a> for more details.</p>\n\n<h1>Solution</h1>\n\n<blockquote>\n  <p>And how do I get back to normal?</p>\n</blockquote>\n\n<p>Simply delete the problematic shell function (and the other two you created by accident, while you're at it):</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>unset -f git\nunset -f branch SSLOC-201_Implement___str__\n</code></pre>\n\n<p>Then everything should be fine.</p>\n\n<hr>\n\n<h2>Branch-naming tips</h2>\n\n<h3>Avoid any special shell characters</h3>\n\n<p>Yes, as pointed out in the comments, parentheses are valid characters in Git branch names; you just need to quote the name appropriately, e.g.</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>$ git branch 'foo()bar'\n$ git branch\n  foo()bar\n* master\n$ git checkout 'foo()bar'\nSwitched to branch 'foo()bar'\n</code></pre>\n\n<p>However, the need for quoting such names <em>every single time</em> when used as command-line arguments should convince you to eschew parentheses in reference names. More generally, you should (as much as possible) avoid characters that have a special meaning in shells, to prevent surprises like this one.</p>\n\n<h3>Use simple branch names</h3>\n\n<p>You should keep your branch names short and sweet anyway. Long descriptions like</p>\n\n<blockquote>\n  <p>SSLOC-201_Implement___str__()_of_ProductSearchQuery</p>\n</blockquote>\n\n<p>belong in commit messages, not in branch names.</p>\n", "title": "Complex Git branch name broke all Git commands", "answer_id": 32356243, "question_id": 32355540, "tags": ["git", "zsh", "git-branch", "parentheses"]}], "question_id": 32355540}, {"body": "<p>I'm looking for a way to test whether or not a given string repeats itself for the entire string or not.</p>\n\n<p>Examples:</p>\n\n<pre><code>[\n    '0045662100456621004566210045662100456621',             # '00456621'\n    '0072992700729927007299270072992700729927',             # '00729927'\n    '001443001443001443001443001443001443001443',           # '001443'\n    '037037037037037037037037037037037037037037037',        # '037'\n    '047619047619047619047619047619047619047619',           # '047619'\n    '002457002457002457002457002457002457002457',           # '002457'\n    '001221001221001221001221001221001221001221',           # '001221'\n    '001230012300123001230012300123001230012300123',        # '00123'\n    '0013947001394700139470013947001394700139470013947',    # '0013947'\n    '001001001001001001001001001001001001001001001001001',  # '001'\n    '001406469760900140646976090014064697609',              # '0014064697609'\n]\n</code></pre>\n\n<p>are strings which repeat themselves, and</p>\n\n<pre><code>[\n    '004608294930875576036866359447',\n    '00469483568075117370892018779342723',\n    '004739336492890995260663507109',\n    '001508295625942684766214177978883861236802413273',\n    '007518796992481203',\n    '0071942446043165467625899280575539568345323741',\n    '0434782608695652173913',\n    '0344827586206896551724137931',\n    '002481389578163771712158808933',\n    '002932551319648093841642228739',\n    '0035587188612099644128113879',\n    '003484320557491289198606271777',\n    '00115074798619102416570771',\n]\n</code></pre>\n\n<p>are examples of ones that do not.</p>\n\n<p>The repeating sections of the strings I'm given can be quite long, and the strings themselves can be 500 or more characters, so looping through each character trying to build a pattern then checking the pattern vs the rest of the string seems awful slow. Multiply that by potentially hundreds of strings and I can't see any intuitive solution.</p>\n\n<p>I've looked into regexes a bit and they seem good for when you know what you're looking for, or at least the length of the pattern you're looking for. Unfortunately, I know neither.</p>\n\n<p>How can I tell if a string is repeating itself and if it is, what the shortest repeating subsequence is?</p>\n", "title": "How can I tell if a string repeats itself in Python?", "tags": ["python", "string", "pattern-matching"], "answer_count": 12, "link": "http://stackoverflow.com/questions/29481088/how-can-i-tell-if-a-string-repeats-itself-in-python", "answers": [{"body": "<p>Here's a solution using regular expressions.</p>\n\n<pre><code>import re\n\nREPEATER = re.compile(r\"(.+?)\\1+$\")\n\ndef repeated(s):\n    match = REPEATER.match(s)\n    return match.group(1) if match else None\n</code></pre>\n\n<p>Iterating over the examples in the question:</p>\n\n<pre><code>examples = [\n    '0045662100456621004566210045662100456621',\n    '0072992700729927007299270072992700729927',\n    '001443001443001443001443001443001443001443',\n    '037037037037037037037037037037037037037037037',\n    '047619047619047619047619047619047619047619',\n    '002457002457002457002457002457002457002457',\n    '001221001221001221001221001221001221001221',\n    '001230012300123001230012300123001230012300123',\n    '0013947001394700139470013947001394700139470013947',\n    '001001001001001001001001001001001001001001001001001',\n    '001406469760900140646976090014064697609',\n    '004608294930875576036866359447',\n    '00469483568075117370892018779342723',\n    '004739336492890995260663507109',\n    '001508295625942684766214177978883861236802413273',\n    '007518796992481203',\n    '0071942446043165467625899280575539568345323741',\n    '0434782608695652173913',\n    '0344827586206896551724137931',\n    '002481389578163771712158808933',\n    '002932551319648093841642228739',\n    '0035587188612099644128113879',\n    '003484320557491289198606271777',\n    '00115074798619102416570771',\n]\n\nfor e in examples:\n    sub = repeated(e)\n    if sub:\n        print(\"%r: %r\" % (e, sub))\n    else:\n        print(\"%r does not repeat.\" % e)\n</code></pre>\n\n<p>... produces this output:</p>\n\n<pre><code>'0045662100456621004566210045662100456621': '00456621'\n'0072992700729927007299270072992700729927': '00729927'\n'001443001443001443001443001443001443001443': '001443'\n'037037037037037037037037037037037037037037037': '037'\n'047619047619047619047619047619047619047619': '047619'\n'002457002457002457002457002457002457002457': '002457'\n'001221001221001221001221001221001221001221': '001221'\n'001230012300123001230012300123001230012300123': '00123'\n'0013947001394700139470013947001394700139470013947': '0013947'\n'001001001001001001001001001001001001001001001001001': '001'\n'001406469760900140646976090014064697609': '0014064697609'\n'004608294930875576036866359447' does not repeat.\n'00469483568075117370892018779342723' does not repeat.\n'004739336492890995260663507109' does not repeat.\n'001508295625942684766214177978883861236802413273' does not repeat.\n'007518796992481203' does not repeat.\n'0071942446043165467625899280575539568345323741' does not repeat.\n'0434782608695652173913' does not repeat.\n'0344827586206896551724137931' does not repeat.\n'002481389578163771712158808933' does not repeat.\n'002932551319648093841642228739' does not repeat.\n'0035587188612099644128113879' does not repeat.\n'003484320557491289198606271777' does not repeat.\n'00115074798619102416570771' does not repeat.\n</code></pre>\n\n<p>The regular expression <code>(.+?)\\1+$</code> is divided into three parts:</p>\n\n<ol>\n<li><p><code>(.+?)</code> is a matching group containing at least one (but as few as possible) of any character (because <a href=\"https://docs.python.org/3/library/re.html#regular-expression-syntax\"><code>+?</code> is non-greedy</a>).</p></li>\n<li><p><code>\\1+</code> checks for at least one repetition of the matching group in the first part.</p></li>\n<li><p><code>$</code> checks for the end of the string, to ensure that there's no extra, non-repeating content after the repeated substrings (and using <a href=\"https://docs.python.org/3/library/re.html#re.match\"><code>re.match()</code></a> ensures that there's no non-repeating text <em>before</em> the repeated substrings).</p></li>\n</ol>\n\n<p>In Python 3.4 and later, you could drop the <code>$</code> and use <a href=\"https://docs.python.org/3/library/re.html#re.fullmatch\"><code>re.fullmatch()</code></a> instead, or (in any Python at least as far back as 2.3) go the other way and use <a href=\"https://docs.python.org/3/library/re.html#re.search\"><code>re.search()</code></a> with the regex <code>^(.+?)\\1+$</code>, all of which are more down to personal taste than anything else.</p>\n", "title": "How can I tell if a string repeats itself in Python?", "answer_id": 29481228, "question_id": 29481088, "tags": ["python", "string", "pattern-matching"]}, {"body": "<p>Non-regex solution:</p>\n\n<pre><code>def repeat(string):\n    for i in range(1, len(string)//2+1):\n        if not len(string)%len(string[0:i]) and string[0:i]*(len(string)//len(string[0:i])) == string:\n            return string[0:i]\n</code></pre>\n\n<p>Faster non-regex solution, thanks to @ThatWeirdo (see comments):</p>\n\n<pre><code>def repeat(string):\n    l = len(string)\n    for i in range(1, len(string)//2+1):\n        if l%i: continue\n        s = string[0:i]\n        if s*(l//i) == string:\n            return s\n</code></pre>\n\n<p>The above solution is very rarely slower than the original by a few percent, but it's usually a good bit faster - sometimes a whole lot faster. It's still not faster than davidism's for longer strings, and zero's regex solution is superior for short strings. It comes out to the fastest (according to davidism's test on github - see his answer) with strings of about 1000-1500 characters. Regardless, it's reliably second-fastest (or better) in all cases I tested. Thanks, ThatWeirdo.</p>\n\n<p>Test:</p>\n\n<pre><code>print(repeat('009009009'))\nprint(repeat('254725472547'))\nprint(repeat('abcdeabcdeabcdeabcde'))\nprint(repeat('abcdefg'))\nprint(repeat('09099099909999'))\nprint(repeat('02589675192'))\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code>009\n2547\nabcde\nNone\nNone\nNone\n</code></pre>\n", "title": "How can I tell if a string repeats itself in Python?", "answer_id": 29481244, "question_id": 29481088, "tags": ["python", "string", "pattern-matching"]}, {"body": "<p>You can make the observation that for a string to be considered repeating, its length must be divisible by the length of its repeated sequence. Given that, here is a solution that generates divisors of the length from <code>1</code> to <code>n / 2</code> inclusive, divides the original string into substrings with the length of the divisors, and tests the equality of the result set:</p>\n\n<pre><code>from math import sqrt, floor\n\ndef divquot(n):\n    if n &gt; 1:\n        yield 1, n\n    swapped = []\n    for d in range(2, int(floor(sqrt(n))) + 1):\n        q, r = divmod(n, d)\n        if r == 0:\n            yield d, q\n            swapped.append((q, d))\n    while swapped:\n        yield swapped.pop()\n\ndef repeats(s):\n    n = len(s)\n    for d, q in divquot(n):\n        sl = s[0:d]\n        if sl * q == s:\n            return sl\n    return None\n</code></pre>\n\n<p><strong>EDIT:</strong> In Python 3, the <code>/</code> operator has changed to do float division by default. To get the <code>int</code> division from Python 2, you can use the <code>//</code> operator instead. Thank you to @TigerhawkT3 for bringing this to my attention.</p>\n\n<p>The <code>//</code> operator performs integer division in both Python 2 and Python 3, so I've updated the answer to support both versions. The part where we test to see if all the substrings are equal is now a short-circuiting operation using <code>all</code> and a generator expression.</p>\n\n<p><strong>UPDATE:</strong> In response to a change in the original question, the code has now been updated to return the smallest repeating substring if it exists and <code>None</code> if it does not. @godlygeek has suggested using <code>divmod</code> to reduce the number of iterations on the <code>divisors</code> generator, and the code has been updated to match that as well. It now returns all positive divisors of <code>n</code> in ascending order, exclusive of <code>n</code> itself.</p>\n\n<p><strong>Further update for high performance:</strong> After multiple tests, I've come to the conclusion that  simply testing for string equality has the best performance out of any slicing or iterator solution in Python. Thus, I've taken a leaf out of @TigerhawkT3 's book and updated my solution. It's now over 6x as fast as before, noticably faster than Tigerhawk's solution but slower than David's.</p>\n", "title": "How can I tell if a string repeats itself in Python?", "answer_id": 29481262, "question_id": 29481088, "tags": ["python", "string", "pattern-matching"]}, {"body": "<p>Here's a straight forward solution, without regexes. </p>\n\n<p>For substrings of <code>s</code> starting from zeroth index, of lengths 1 through <code>len(s)</code>, check if that substring, <code>substr</code> is the repeated pattern. This check can be performed by concatenating <code>substr</code> with itself <code>ratio</code> times, such that the length of the string thus formed is equal to the length of <code>s</code>. Hence <code>ratio=len(s)/len(substr)</code>. </p>\n\n<p>Return when first such substring is found. This would provide the smallest possible substring, if one exists.</p>\n\n<pre><code>def check_repeat(s):\n    for i in range(1, len(s)):\n        substr = s[:i]\n        ratio = len(s)/len(substr)\n        if substr * ratio == s:\n            print 'Repeating on \"%s\"' % substr\n            return\n    print 'Non repeating'\n\n&gt;&gt;&gt; check_repeat('254725472547')\nRepeating on \"2547\"\n&gt;&gt;&gt; check_repeat('abcdeabcdeabcdeabcde')\nRepeating on \"abcde\"\n</code></pre>\n", "title": "How can I tell if a string repeats itself in Python?", "answer_id": 29482465, "question_id": 29481088, "tags": ["python", "string", "pattern-matching"]}, {"body": "<p>First, halve the string as long as it's a \"2 part\" duplicate.  This reduces the search space if there are an even number of repeats.  Then, working forwards to find the smallest repeating string, check if splitting the full string by increasingly larger sub-string results in only empty values.  Only sub-strings up to <code>length // 2</code> need to be tested since anything over that would have no repeats.</p>\n\n<pre><code>def shortest_repeat(orig_value):\n    if not orig_value:\n        return None\n\n    value = orig_value\n\n    while True:\n        len_half = len(value) // 2\n        first_half = value[:len_half]\n\n        if first_half != value[len_half:]:\n            break\n\n        value = first_half\n\n    len_value = len(value)\n    split = value.split\n\n    for i in (i for i in range(1, len_value // 2) if len_value % i == 0):\n        if not any(split(value[:i])):\n            return value[:i]\n\n    return value if value != orig_value else None\n</code></pre>\n\n<p>This returns the shortest match or None if there is no match.</p>\n", "title": "How can I tell if a string repeats itself in Python?", "answer_id": 29482830, "question_id": 29481088, "tags": ["python", "string", "pattern-matching"]}, {"body": "<p>Here are some benchmarks for the various answers to this question. There were some surprising results, including wildly different performance depending on the string being tested.</p>\n\n<p>Some functions were modified to work with Python 3 (mainly by replacing <code>/</code> with <code>//</code> to ensure integer division). If you see something wrong, want to add your function, or want to add another test string, ping @ZeroPiraeus in the <a href=\"http://chat.stackoverflow.com/rooms/6/python\">Python chatroom</a>.</p>\n\n<p>In summary: there's about a 50x difference between the best- and worst-performing solutions for the large set of example data supplied by OP <a href=\"http://paste.ubuntu.com/10765231/\">here</a> (via <a href=\"http://stackoverflow.com/questions/29481088/how-can-i-tell-if-a-string-repeats-itself-in-python#comment47156601_29481088\">this</a> comment). <a href=\"http://stackoverflow.com/a/29489919\">David Zhang's solution</a> is the clear winner, outperforming all others by around 5x for the large example set.</p>\n\n<p>A couple of the answers are <em>very</em> slow in extremely large \"no match\" cases. Otherwise, the functions seem to be equally matched or clear winners depending on the test.</p>\n\n<p>Here are the results, including plots made using matplotlib and seaborn to show the different distributions:</p>\n\n<hr>\n\n<p><strong>Corpus 1 (supplied examples - small set)</strong></p>\n\n<pre><code>mean performance:\n 0.0003  david_zhang\n 0.0009  zero\n 0.0013  antti\n 0.0013  tigerhawk_2\n 0.0015  carpetpython\n 0.0029  tigerhawk_1\n 0.0031  davidism\n 0.0035  saksham\n 0.0046  shashank\n 0.0052  riad\n 0.0056  piotr\n\nmedian performance:\n 0.0003  david_zhang\n 0.0008  zero\n 0.0013  antti\n 0.0013  tigerhawk_2\n 0.0014  carpetpython\n 0.0027  tigerhawk_1\n 0.0031  davidism\n 0.0038  saksham\n 0.0044  shashank\n 0.0054  riad\n 0.0058  piotr\n</code></pre>\n\n<p><a href=\"http://i.stack.imgur.com/Xx34F.png\"><img src=\"http://i.stack.imgur.com/Xx34F.png\" alt=\"Corpus 1 graph\"></a></p>\n\n<hr>\n\n<p><strong>Corpus 2 (supplied examples - large set)</strong></p>\n\n<pre><code>mean performance:\n 0.0006  david_zhang\n 0.0036  tigerhawk_2\n 0.0036  antti\n 0.0037  zero\n 0.0039  carpetpython\n 0.0052  shashank\n 0.0056  piotr\n 0.0066  davidism\n 0.0120  tigerhawk_1\n 0.0177  riad\n 0.0283  saksham\n\nmedian performance:\n 0.0004  david_zhang\n 0.0018  zero\n 0.0022  tigerhawk_2\n 0.0022  antti\n 0.0024  carpetpython\n 0.0043  davidism\n 0.0049  shashank\n 0.0055  piotr\n 0.0061  tigerhawk_1\n 0.0077  riad\n 0.0109  saksham\n</code></pre>\n\n<p><a href=\"http://i.stack.imgur.com/KZgxr.png\"><img src=\"http://i.stack.imgur.com/KZgxr.png\" alt=\"Corpus 1 graph\"></a></p>\n\n<hr>\n\n<p><strong>Corpus 3 (edge cases)</strong></p>\n\n<pre><code>mean performance:\n 0.0123  shashank\n 0.0375  david_zhang\n 0.0376  piotr\n 0.0394  carpetpython\n 0.0479  antti\n 0.0488  tigerhawk_2\n 0.2269  tigerhawk_1\n 0.2336  davidism\n 0.7239  saksham\n 3.6265  zero\n 6.0111  riad\n\nmedian performance:\n 0.0107  tigerhawk_2\n 0.0108  antti\n 0.0109  carpetpython\n 0.0135  david_zhang\n 0.0137  tigerhawk_1\n 0.0150  shashank\n 0.0229  saksham\n 0.0255  piotr\n 0.0721  davidism\n 0.1080  zero\n 1.8539  riad\n</code></pre>\n\n<p><a href=\"http://i.stack.imgur.com/w0qqT.png\"><img src=\"http://i.stack.imgur.com/w0qqT.png\" alt=\"Corpus 3 graph\"></a></p>\n\n<hr>\n\n<p>The tests and raw results are available <a href=\"https://bitbucket.org/snippets/schesis/nMnR/benchmarking-answers-to-http\">here</a>.</p>\n", "title": "How can I tell if a string repeats itself in Python?", "answer_id": 29482936, "question_id": 29481088, "tags": ["python", "string", "pattern-matching"]}, {"body": "<p>This version tries only those candidate sequence lengths that are factors of the string length; and uses the <code>*</code> operator to build a full-length string from the candidate sequence:</p>\n\n<pre><code>def get_shortest_repeat(string):\n    length = len(string)\n    for i in range(1, length // 2 + 1):\n        if length % i:  # skip non-factors early\n            continue\n\n        candidate = string[:i]\n        if string == candidate * (length // i):\n            return candidate\n\n    return None\n</code></pre>\n\n<p>Thanks to TigerhawkT3 for noticing that <code>length // 2</code> without <code>+ 1</code> would fail to match the <code>abab</code> case.</p>\n", "title": "How can I tell if a string repeats itself in Python?", "answer_id": 29484962, "question_id": 29481088, "tags": ["python", "string", "pattern-matching"]}, {"body": "<p>Here's a concise solution which avoids regular expressions and slow in-Python loops:</p>\n\n<pre><code>def principal_period(s):\n    i = (s+s).find(s, 1, -1)\n    return None if i == -1 else s[:i]\n</code></pre>\n\n<p>See the <a href=\"http://stackoverflow.com/a/29482936/2447250\">Community Wiki answer</a> started by @davidism for benchmark results. In summary,</p>\n\n<blockquote>\n  <p>David Zhang's solution is the clear winner, outperforming all others by at least 5x for the large example set.</p>\n</blockquote>\n\n<p>(That answer's words, not mine.)</p>\n\n<p>This is based on the observation that a string is periodic if and only if it is equal to a nontrivial rotation of itself. Kudos to @AleksiTorhamo for realizing that we can then recover the principal period from the index of the first occurrence of <code>s</code> in <code>(s+s)[1:-1]</code>, and for informing me of the optional <code>start</code> and <code>end</code> arguments of Python's <code>string.find</code>.</p>\n", "title": "How can I tell if a string repeats itself in Python?", "answer_id": 29489919, "question_id": 29481088, "tags": ["python", "string", "pattern-matching"]}, {"body": "<p>The problem may also be solved in <code>O(n)</code> in worst case with prefix function.</p>\n\n<p>Note, it may be slower in general case(UPD: and is much slower) than other solutions which depend on number of divisors of <code>n</code>, but usually find fails sooner, I think one of bad cases for them will be <code>aaa....aab</code>, where there are <code>n - 1 = 2 * 3 * 5 * 7 ... *p_n - 1</code> <code>a</code>'s</p>\n\n<p>First of all you need to calculate prefix function</p>\n\n<pre><code>def prefix_function(s):\n    n = len(s)\n    pi = [0] * n\n    for i in xrange(1, n):\n        j = pi[i - 1]\n        while(j &gt; 0 and s[i] != s[j]):\n            j = pi[j - 1]\n        if (s[i] == s[j]):\n            j += 1\n        pi[i] = j;\n    return pi\n</code></pre>\n\n<p>then either there's no answer or the shortest period is</p>\n\n<pre><code>k = len(s) - prefix_function(s[-1])\n</code></pre>\n\n<p>and you just have to check if <code>k != n and n % k == 0</code> (if <code>k != n and n % k == 0</code> then answer is <code>s[:k]</code>, else there's no answer</p>\n\n<p>You may check the proof <a href=\"http://e-maxx.ru/algo/prefix_function#header_12\">here</a> (in Russian, but online translator will probably do the trick)</p>\n\n<pre><code>def riad(s):\n    n = len(s)\n    pi = [0] * n\n    for i in xrange(1, n):\n        j = pi[i - 1]\n        while(j &gt; 0 and s[i] != s[j]):\n            j = pi[j - 1]\n        if (s[i] == s[j]):\n            j += 1\n        pi[i] = j;\n    k = n - pi[-1]\n    return s[:k] if (n != k and n % k == 0) else None\n</code></pre>\n", "title": "How can I tell if a string repeats itself in Python?", "answer_id": 29519746, "question_id": 29481088, "tags": ["python", "string", "pattern-matching"]}, {"body": "<p>I started with more than eight solutions to this problem. Some were bases on regex (match, findall, split), some of string slicing and testing, and some with string methods (find, count, split). Each had benefits in code clarity, code size, speed and memory consumption. I was going to post my answer here when I noticed that execution speed was ranked as important, so I did more testing and improvement to arrive at this:</p>\n\n\n\n<pre class=\"lang-python prettyprint-override\"><code>def repeating(s):\n    size = len(s)\n    incr = size % 2 + 1\n    for n in xrange(1, size//2+1, incr):\n        if size % n == 0:\n            if s[:n] * (size//n) == s:\n                return s[:n]\n</code></pre>\n\n<p>This answer seems similar to a few other answers here, but it has a few speed optimisations others have not used:</p>\n\n<ul>\n<li><code>xrange</code> is a little faster in this application,</li>\n<li>if an input string is an odd length, do not check any even length substrings,</li>\n<li>by using <code>s[:n]</code> directly, we avoid creating a variable in each loop.</li>\n</ul>\n\n<p>I would be interested to see how this performs in the standard tests with common hardware. I believe it will be well short of David Zhang's excellent algorithm in most tests, but should be quite fast otherwise.</p>\n\n<p>I found this problem to be very counter-intuitive. The solutions I thought would be fast were slow. The solutions that looked slow were fast! It seems that Python's string creation with the multiply operator and string comparisons are highly optimised.</p>\n", "title": "How can I tell if a string repeats itself in Python?", "answer_id": 29543743, "question_id": 29481088, "tags": ["python", "string", "pattern-matching"]}, {"body": "<p>This function runs very quickly (tested and it's over 3 times faster than fastest solution here on strings with over 100k characters and the difference gets bigger the longer the repeating pattern is). It tries to minimise the number of comparisons needed to get the answer:</p>\n\n<pre><code>def repeats(string):\n    n = len(string)\n    tried = set([])\n    best = None\n    nums = [i for i in  xrange(2, int(n**0.5) + 1) if n % i == 0]\n    nums = [n/i for i in nums if n/i!=i] + list(reversed(nums)) + [1]\n    for s in nums:\n        if all(t%s for t in tried):\n            print 'Trying repeating string of length:', s\n            if string[:s]*(n/s)==string:\n                best = s\n            else:\n                tried.add(s)\n    if best:\n        return string[:best]\n</code></pre>\n\n<p>Note that for example for string of length 8 it checks only fragment of size 4 and it does not have to test further because pattern of length 1 or 2 would result in repeating pattern of length 4:</p>\n\n<pre><code>&gt;&gt;&gt; repeats('12345678')\nTrying repeating string of length: 4\nNone\n\n# for this one we need only 2 checks \n&gt;&gt;&gt; repeats('1234567812345678')\nTrying repeating string of length: 8\nTrying repeating string of length: 4\n'12345678'\n</code></pre>\n", "title": "How can I tell if a string repeats itself in Python?", "answer_id": 29785400, "question_id": 29481088, "tags": ["python", "string", "pattern-matching"]}, {"body": "<p><em>Here is the code in python that checks for repetition of sub string in the main string given by the user</em>.</p>\n\n<pre><code>print \"Enter a string....\"\n#mainstring = String given by user\nmainstring=raw_input(\"&gt;\")\nif(mainstring==''):\n    print \"Invalid string\"\n    exit()\n#charlist = Character list of mainstring\ncharlist=list(mainstring)\nstrarr=''\nprint \"Length of your string :\",len(mainstring)\nfor i in range(0,len(mainstring)):\n    strarr=strarr+charlist[i]\n    splitlist=mainstring.split(strarr)\n    count = 0\n    for j in splitlist:\n        if j =='':\n            count+=1\n    if count == len(splitlist):\n        break\nif count == len(splitlist):\n    if count == 2:\n        print \"No repeating Sub-String found in string %r\"%(mainstring)\n\n    else:\n        print \"Sub-String %r repeats in string %r\"%(strarr,mainstring)\nelse :\n    print \"No repeating Sub-String found in string %r\"%(mainstring)\n</code></pre>\n\n<p><em>Input</em>:  </p>\n\n<blockquote>\n  <p>0045662100456621004566210045662100456621  </p>\n</blockquote>\n\n<p><em>Output</em> :</p>\n\n<blockquote>\n  <p>Length of your string : 40    </p>\n  \n  <p>Sub-String '00456621' repeats in string '0045662100456621004566210045662100456621' </p>\n</blockquote>\n\n<p><em>Input</em> :</p>\n\n<blockquote>\n  <p>004608294930875576036866359447</p>\n</blockquote>\n\n<p><em>Output</em>:  </p>\n\n<blockquote>\n  <p>Length of your string : 30</p>\n  \n  <p>No repeating Sub-String found in string '004608294930875576036866359447'</p>\n</blockquote>\n", "title": "How can I tell if a string repeats itself in Python?", "answer_id": 29880583, "question_id": 29481088, "tags": ["python", "string", "pattern-matching"]}], "question_id": 29481088}, {"body": "<p>I've just upgraded my app to use the newly released v22.1.0 AppCompat and I'm now getting the following exception when I open my app.</p>\n\n<pre><code>Caused by: java.lang.IllegalArgumentException: AppCompat does not support the current theme features\n        at android.support.v7.app.AppCompatDelegateImplV7.ensureSubDecor(AppCompatDelegateImplV7.java:360)\n        at android.support.v7.app.AppCompatDelegateImplV7.setContentView(AppCompatDelegateImplV7.java:246)\n        at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:106)\n</code></pre>\n\n<p>How do I fix it?</p>\n", "title": "Upgraded to AppCompat v22.1.0 and now getting IllegalArgumentException: AppCompat does not support the current theme features", "tags": ["android", "appcompat"], "answer_count": 4, "link": "http://stackoverflow.com/questions/29790070/upgraded-to-appcompat-v22-1-0-and-now-getting-illegalargumentexception-appcompa", "answers": [{"body": "<p>AppCompat is now more strict on what it expect in theme window flags, more closely matching what you would get from the framework.</p>\n\n<p>The main reason behind this is to support <a href=\"https://developer.android.com/reference/android/support/v7/app/AppCompatDialog.html\">AppCompatDialogs</a> which we were also adding in this release. They make heavy use of the <code>windowNoTitle</code> flag, which AppCompat previously didn't pay much attention to.</p>\n\n<p>So to fix your issue you have two options:</p>\n\n<p>The easy way is to just use <code>Theme.AppCompat.NoActionBar</code> as your parent theme. This will always do the right thing.</p>\n\n<p>If you can't do that though (maybe you need to support action bar and no action bar), you should do the following:</p>\n\n<pre><code>&lt;style name=\"MyTheme\" parent=\"Theme.AppCompat\"&gt;\n    ...\n&lt;/style&gt;\n\n&lt;style name=\"MyTheme.NoActionBar\"&gt;\n    &lt;!-- Both of these are needed --&gt;\n    &lt;item name=\"windowActionBar\"&gt;false&lt;/item&gt;\n    &lt;item name=\"windowNoTitle\"&gt;true&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>You should be back on track now.</p>\n", "title": "Upgraded to AppCompat v22.1.0 and now getting IllegalArgumentException: AppCompat does not support the current theme features", "answer_id": 29790071, "question_id": 29790070, "tags": ["android", "appcompat"]}, {"body": "<p>Just use this in your <code>style.xml</code> in values-v21 folder no other editing is needed</p>\n\n<pre><code> &lt;style name=\"AppTheme\" parent=\"Theme.AppCompat\"&gt;\n\n    &lt;!-- theme customizations --&gt;\n\n   &lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n    &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n    &lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n &lt;/style&gt;\n</code></pre>\n\n<p>Don't add anything in to activity file please leave it</p>\n\n<pre><code>public class Main extends ActionBarActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.main, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        // Handle action bar item clicks here. The action bar will\n        // automatically handle clicks on the Home/Up button, so long\n        // as you specify a parent activity in AndroidManifest.xml.\n        int id = item.getItemId();\n        if (id == R.id.action_settings) {\n            return true;\n        }\n        return super.onOptionsItemSelected(item);\n    }\n}\n</code></pre>\n", "title": "Upgraded to AppCompat v22.1.0 and now getting IllegalArgumentException: AppCompat does not support the current theme features", "answer_id": 30499490, "question_id": 29790070, "tags": ["android", "appcompat"]}, {"body": "<p>I added    </p>\n\n<pre><code>&lt;item name=\"windowActionBar\"&gt;false&lt;/item&gt;\n&lt;item name=\"windowNoTitle\"&gt;true&lt;/item&gt;\n</code></pre>\n\n<p>but it wasnt enough. \nFinally, moving super.onCreate before setContentView in Activity - fixed my issue :) </p>\n\n<pre><code>   public void onCreate(Bundle savedInstanceState) {    \n\n        super.onCreate(savedInstanceState);    \n        setContentView(R.layout.v2_main_dash);\n        ...\n</code></pre>\n", "title": "Upgraded to AppCompat v22.1.0 and now getting IllegalArgumentException: AppCompat does not support the current theme features", "answer_id": 31387059, "question_id": 29790070, "tags": ["android", "appcompat"]}, {"body": "<p>Those who're still getting error after all of those fix. </p>\n\n<p>Please inherit from </p>\n\n<pre><code>Theme.AppCompat.Light.NoActionBar\n</code></pre>\n\n<p>and don't use </p>\n\n<pre><code>&lt;item name=\"windowActionBar\"&gt;false&lt;/item&gt;\n</code></pre>\n\n<p>Then, you won't get any error.</p>\n", "title": "Upgraded to AppCompat v22.1.0 and now getting IllegalArgumentException: AppCompat does not support the current theme features", "answer_id": 32133262, "question_id": 29790070, "tags": ["android", "appcompat"]}], "question_id": 29790070}, {"body": "<p>The <code>Resources.getColor(int id)</code> method has been deprecated.</p>\n\n<pre><code>@ColorInt\n@Deprecated\npublic int getColor(@ColorRes int id) throws NotFoundException {\n    return getColor(id, null);\n}\n</code></pre>\n\n<p>What can I do?</p>\n", "title": "getColor(int id) deprecated on Android 6.0 Marshmallow (API 23)", "tags": ["android", "android-resources", "android-6.0-marshmallow", "android-mnc"], "answer_count": 12, "link": "http://stackoverflow.com/questions/31590714/getcolorint-id-deprecated-on-android-6-0-marshmallow-api-23", "answers": [{"body": "<p><strong>UPDATE 2015-08-22</strong></p>\n\n<p>Starting from Android Support Library 23, a new <a href=\"http://developer.android.com/reference/android/support/v4/content/ContextCompat.html#getColor(android.content.Context,%20int)\">getColor()</a> method has been added to ContextCompat.</p>\n\n<p>So, just call:</p>\n\n<pre><code>ContextCompat.getColor(context, R.color.your_color);\n</code></pre>\n\n<p>Description from the official JavaDoc:</p>\n\n<blockquote>\n  <p>Returns a color associated with a particular resource ID</p>\n  \n  <p>Starting in M, the returned color will be styled for the specified Context's theme.</p>\n</blockquote>\n\n<p>This is the <code>ContextCompat.getColor()</code> <a href=\"https://github.com/android/platform_frameworks_support/blob/master/v4/java/android/support/v4/content/ContextCompat.java\">source code</a> from the Support Library:</p>\n\n<pre><code>public static final int getColor(Context context, int id) {\n    final int version = Build.VERSION.SDK_INT;\n    if (version &gt;= 23) {\n        return ContextCompatApi23.getColor(context, id);\n    } else {\n        return context.getResources().getColor(id);\n    }\n}\n</code></pre>\n", "title": "getColor(int id) deprecated on Android 6.0 Marshmallow (API 23)", "answer_id": 31590927, "question_id": 31590714, "tags": ["android", "android-resources", "android-6.0-marshmallow", "android-mnc"]}, {"body": "<p><strong>TL;DR</strong></p>\n\n<pre><code>ContextCompat.getColor(context, R.color.my_color)\n</code></pre>\n\n<p><strong>Complete and detailed answer:</strong></p>\n\n<p>You need to use <a href=\"http://developer.android.com/reference/android/support/v4/content/ContextCompat.html#getColor(android.content.Context,%20int)\">ContextCompat.getColor()</a>, which is part of the Support V4 Library (so it will work for all the previous APIs).</p>\n\n<pre><code>ContextCompat.getColor(context, R.color.my_color)\n</code></pre>\n\n<p><code>ContextCompat</code> is part of the Support V4 library. You'll need to add the following to the <code>dependencies</code> array inside your app <code>build.gradle</code> (note: <em>it's optional if you already use the appcompat (V7) library on Android Studio</em>):</p>\n\n<pre><code>compile 'com.android.support:support-v4:23.0.0' # or any version above\n</code></pre>\n\n<p>If you care about themes, the documentation specifies that the method will use the provided context's theme: </p>\n\n<blockquote>\n  <p>Starting in M, the returned color will be styled for the specified\n  Context's theme </p>\n</blockquote>\n", "title": "getColor(int id) deprecated on Android 6.0 Marshmallow (API 23)", "answer_id": 32149275, "question_id": 31590714, "tags": ["android", "android-resources", "android-6.0-marshmallow", "android-mnc"]}, {"body": "<p>In Android Marshmallow many methods are deprecated.</p>\n\n<p>For example, to get color use </p>\n\n<pre><code>ContextCompat.getColor(context, R.color.color_name);\n</code></pre>\n\n<p>Also to get drawable use</p>\n\n<pre><code>ContextCompat.getDrawable(context, R.drawable.drawble_name);\n</code></pre>\n", "title": "getColor(int id) deprecated on Android 6.0 Marshmallow (API 23)", "answer_id": 32263669, "question_id": 31590714, "tags": ["android", "android-resources", "android-6.0-marshmallow", "android-mnc"]}, {"body": "<p>I don't want to include the Support library just for <em>getColor</em>, so I'm using something like</p>\n\n<pre><code>public static int getColorWrapper(Context context, int id) {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n        return context.getColor(id);\n    } else {\n        //noinspection deprecation\n        return context.getResources().getColor(id);\n    }\n}\n</code></pre>\n\n<p>I guess the code should work just fine, and the deprecated getColor cannot disappear from API &lt; 23.</p>\n", "title": "getColor(int id) deprecated on Android 6.0 Marshmallow (API 23)", "answer_id": 32523573, "question_id": 31590714, "tags": ["android", "android-resources", "android-6.0-marshmallow", "android-mnc"]}, {"body": "<p>Even though <code>getColor()</code> is deprecated in marshmallow, the replacement method<br>\n<code>getColor(int, Theme)</code> is available. Which can be used as an alternative to <code>ContextCompat.getColor(context, R.color.your_color);</code></p>\n\n<p>refer <a href=\"http://developer.android.com/reference/android/content/res/Resources.html#getColor(int,%20android.content.res.Resources.Theme)\" rel=\"nofollow\">this</a> for more information.</p>\n", "title": "getColor(int id) deprecated on Android 6.0 Marshmallow (API 23)", "answer_id": 32951359, "question_id": 31590714, "tags": ["android", "android-resources", "android-6.0-marshmallow", "android-mnc"]}, {"body": "<p>Use the <code>getColor(Resources, int, Theme)</code> method of the <code>ResourcesCompat</code> from the Android Support Library.</p>\n\n<pre><code>int white = new ResourcesCompat().getColor(getResources(), R.color.white, null);\n</code></pre>\n\n<p>I think it reflect better your question than the <code>getColor(Context, int)</code> of the <code>ContextCompat</code> since you ask about <code>Resources</code>. Prior to API level 23, the theme will not be applied and the method calls through to <code>getColor(int)</code> but you'll not have the deprecated warning. The theme also may be <code>null</code>.</p>\n", "title": "getColor(int id) deprecated on Android 6.0 Marshmallow (API 23)", "answer_id": 33790404, "question_id": 31590714, "tags": ["android", "android-resources", "android-6.0-marshmallow", "android-mnc"]}, {"body": "<p>This way:</p>\n\n<pre><code>fab.setBackgroundTintList(ColorStateList.valueOf(ContextCompat.getColor(this, R.color.badge_participants_counter_color)));\n</code></pre>\n", "title": "getColor(int id) deprecated on Android 6.0 Marshmallow (API 23)", "answer_id": 34057311, "question_id": 31590714, "tags": ["android", "android-resources", "android-6.0-marshmallow", "android-mnc"]}, {"body": "<p>For Drawable</p>\n\n<pre><code>ContextCompat.getDrawable(getApplicationContext(),R.drawable.back_arrow)\n</code></pre>\n\n<p>For Color</p>\n\n<pre><code> ContextCompat.getColor(getApplicationContext(),R.color.red)\n</code></pre>\n", "title": "getColor(int id) deprecated on Android 6.0 Marshmallow (API 23)", "answer_id": 34740421, "question_id": 31590714, "tags": ["android", "android-resources", "android-6.0-marshmallow", "android-mnc"]}, {"body": "<p>In Mono / xamarin.android I had the same issue and the following code worked perfectly:</p>\n\n<pre><code>ContextCompat.GetColor (context, Resource.Color.myColor)\n</code></pre>\n\n<p>In my case the context is my activity (Android.Support.V7.App.AppCompatActivity) so a my real-usage example is:</p>\n\n<pre><code>var color = new Android.Graphics.Color(ContextCompat.GetColor(this, Resource.Color.myColor))    \n</code></pre>\n", "title": "getColor(int id) deprecated on Android 6.0 Marshmallow (API 23)", "answer_id": 37810162, "question_id": 31590714, "tags": ["android", "android-resources", "android-6.0-marshmallow", "android-mnc"]}, {"body": "<p>shortest answer is:</p>\n\n<blockquote>\n  <p>ContextCompat.getColor(context, R.color.colorAccent);</p>\n</blockquote>\n", "title": "getColor(int id) deprecated on Android 6.0 Marshmallow (API 23)", "answer_id": 38627800, "question_id": 31590714, "tags": ["android", "android-resources", "android-6.0-marshmallow", "android-mnc"]}, {"body": "<pre><code>ContextCompat.getColor(context, R.color.colorAccent);\n</code></pre>\n", "title": "getColor(int id) deprecated on Android 6.0 Marshmallow (API 23)", "answer_id": 38931226, "question_id": 31590714, "tags": ["android", "android-resources", "android-6.0-marshmallow", "android-mnc"]}, {"body": "<p>You can use:</p>\n\n<pre><code>if(Build.VERSION.SDK_INT &gt;= 23){\n return ctx.getColor(R.color.YOURCOLOR);\n}else{\n return ctx.getRecources().getColor(R.color.YOURCOLOR);\n}\n</code></pre>\n\n<p>I hope it helps. I tested it and it on Android m and it worked.</p>\n", "title": "getColor(int id) deprecated on Android 6.0 Marshmallow (API 23)", "answer_id": 39184387, "question_id": 31590714, "tags": ["android", "android-resources", "android-6.0-marshmallow", "android-mnc"]}], "question_id": 31590714}, {"body": "<p>I observed that <code>rand()</code> library function when it is called just once within a loop, it almost always produces positive numbers.</p>\n\n<pre><code>for (i = 0; i &lt; 100; i++) {\n    printf(\"%d\\n\", rand());\n}\n</code></pre>\n\n<p>But when I add two <code>rand()</code> calls, the numbers generated now have more negative numbers.</p>\n\n<pre><code>for (i = 0; i &lt; 100; i++) {\n    printf(\"%d = %d\\n\", rand(), (rand() + rand()));\n}\n</code></pre>\n\n<p>Can someone explain why I am seeing negative numbers in the second case?</p>\n\n<p>PS: I initialize the seed before the loop as <code>srand(time(NULL))</code>.</p>\n", "title": "Why does rand() + rand() produce negative numbers?", "tags": ["c", "random"], "answer_count": 8, "link": "http://stackoverflow.com/questions/30821406/why-does-rand-rand-produce-negative-numbers", "answers": [{"body": "<p><code>rand()</code> is defined to return an integer between <code>0</code> and <code>RAND_MAX</code>.</p>\n\n<pre><code>rand() + rand()\n</code></pre>\n\n<p>could overflow. What you observe is likely a result of <a href=\"https://en.wikipedia.org/wiki/Undefined_behavior\">undefined behaviour</a> caused by integer overflow.</p>\n", "title": "Why does rand() + rand() produce negative numbers?", "answer_id": 30821428, "question_id": 30821406, "tags": ["c", "random"]}, {"body": "<p>The problem is the addition. <a href=\"http://port70.net/~nsz/c/c11/n1570.html#7.22.2.1\" rel=\"nofollow\"><code>rand()</code></a> returns an <code>int</code> value of <code>0...RAND_MAX</code>. So, if you add two of them, you will get up to <code>RAND_MAX * 2</code>. If that exceeds <code>INT_MAX</code>, the result of the addition overflows the valid range an <code>int</code> can hold. Overflow of signed values is undefined behaviour and may lead to your keyboard talking to you in foreign tongues.</p>\n\n<p>As there is no gain here in adding two random results, the simple idea is to just not do it. Alternatively you can cast each result to <code>unsigned int</code> before the addition if that can hold the sum. Or use a larger type. Note that <code>long</code> is not necessarily wider than <code>int</code>, the same applies to <code>long long</code> if <code>int</code> is at least 64 bits!</p>\n\n<p>Conclusion: Just avoid the addition. It does not provide more \"randomness\". If you need more bits, you might concatenate the values <code>sum = a + b * (RAND_MAX + 1)</code>, but that also likely requires a larger data type than <code>int</code>.</p>\n\n<p>As your stated reason is to avoid a zero-result: That cannot be avoided by adding the results of two <code>rand()</code> calls, as both can be zero. Instead, you can just increment. If <code>RAND_MAX == INT_MAX</code>, this cannot be done in <code>int</code>. However, <code>(unsigned int)rand() + 1</code> will do very, very likely. Likely (not definitively), because it does require <code>UINT_MAX &gt; INT_MAX</code>, which I am not sure is guaranteed, but valid for all implementations I actually know about (and that is not just x86/64 or ARM).</p>\n\n<p><strong>Warning:</strong></p>\n\n<p>Although already sprinkled in comments here, please note that adding two random values does <em>not</em> get a uniform distribution, but a triangular distribution like rolling two dice: to get <code>12</code> (two dice) both dice have to show <code>6</code>. for <code>11</code> there are already two possible variants: <code>6 + 5</code> or <code>5 + 6</code>, etc.</p>\n\n<p>So, the addition is also bad from this aspect.</p>\n\n<p>Also note that the results <code>rand()</code> generates are not independent of each other, as they are generated by a <a href=\"https://en.wikipedia.org/wiki/Pseudorandom_number_generator\" rel=\"nofollow\"><em>pseudorandom number generator</em></a>. Note also that the standard does not specify the quality or uniform distribution of the calculated values.</p>\n", "title": "Why does rand() + rand() produce negative numbers?", "answer_id": 30821874, "question_id": 30821406, "tags": ["c", "random"]}, {"body": "<p>This is an answer to a clarification of the question made in comment to <a href=\"http://stackoverflow.com/a/30821874/1294207\">this answer</a>,</p>\n\n<blockquote>\n  <p>the reason i was adding was to avoid '0' as the random number in my code. rand()+rand() was the quick dirty solution which readily came to my mind.</p>\n</blockquote>\n\n<p>The problem was to avoid 0. There are (at least) two problems with the proposed solution. One is, as the other answers indicate, that <code>rand()+rand()</code> can invoke undefined behavior. Best advice is to never invoke undefined behavior. Another issue is there's no guarantee that <code>rand()</code> won't produce 0 twice in a row.</p>\n\n<p>The following rejects zero, avoids undefined behavior, and in the vast majority of cases will be faster than two calls to <code>rand()</code>:</p>\n\n<pre><code>int rnum;\nfor (rnum = rand(); rnum == 0; rnum = rand()) {}\n// or do rnum = rand(); while (rnum == 0);\n</code></pre>\n", "title": "Why does rand() + rand() produce negative numbers?", "answer_id": 30824135, "question_id": 30821406, "tags": ["c", "random"]}, {"body": "<p>While what everyone else has said about the likely overflow could very well be the cause of the negative, even when you use unsigned integers. The real problem is actually using time/date functionality as the seed. If you have truly become familiar with this functionality you will know exactly why I say this. As what it really does is give a distance (elapsed time) since a given date/time. While the use of the date/time functionality as the seed to a rand(), is a very common practice, it really is not the best option. You should search better alternatives, as there are many theories on the topic and I could not possibly go into all of them. You add into this equation the possibility of overflow and this approach was doomed from the beginning.</p>\n\n<p>Those that posted the rand()+1 are using the solution that most use in order to guarantee that they do not get a negative number. But, that approach is really not the best way either.</p>\n\n<p>The best thing you can do is take the extra time to write and use proper exception handling, and only add to the rand() number if and/or when you end up with a zero result. And, to deal with negative numbers properly. The rand() functionality is not perfect, and therefore needs to be used in conjunction with exception handling to ensure that you end up with the desired result.</p>\n\n<p>Taking the extra time and effort to investigate, study, and properly implement the rand() functionality is well worth the time and effort. Just my two cents. Good luck in your endeavors...</p>\n", "title": "Why does rand() + rand() produce negative numbers?", "answer_id": 30852538, "question_id": 30821406, "tags": ["c", "random"]}, {"body": "<p>May be you could try rather a tricky approach by ensuring that the value returned by sum of 2 rand() never exceeds the value of RAND_MAX. A possible approach could be sum = rand()/2 + rand()/2; This would ensure that for a 16 bit compiler with RAND_MAX value of 32767 even if both rand happens to return 32767, even then (32767/2 = 16383) 16383+16383 = 32766, thus would not result in negative sum.</p>\n", "title": "Why does rand() + rand() produce negative numbers?", "answer_id": 30861725, "question_id": 30821406, "tags": ["c", "random"]}, {"body": "<p>To avoid 0, try this: </p>\n\n<pre><code>int rnumb = rand()%(INT_MAX-1)+1;\n</code></pre>\n\n<p>You need to include limits.h.</p>\n\n<p>Sorry for my bad english.</p>\n", "title": "Why does rand() + rand() produce negative numbers?", "answer_id": 30874813, "question_id": 30821406, "tags": ["c", "random"]}, {"body": "<p>Basically <code>rand()</code> produce numbers between <code>0</code> and <code>RAND_MAX</code>, and <code>2 RAND_MAX &gt; INT_MAX</code> in your case.</p>\n\n<p>You can modulus with the max value of your data-type to prevent overflow. This ofcourse will disrupt the distribution of the random numbers, but <code>rand</code> is just a way to get quick random numbers.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;limits.h&gt;\n\nint main(void)\n{\n    int i=0;\n\n    for (i=0; i&lt;100; i++)\n        printf(\" %d : %d \\n\", rand(), ((rand() % (INT_MAX/2))+(rand() % (INT_MAX/2))));\n\n    for (i=0; i&lt;100; i++)\n        printf(\" %d : %ld \\n\", rand(), ((rand() % (LONG_MAX/2))+(rand() % (LONG_MAX/2))));\n\n    return 0;\n}\n</code></pre>\n", "title": "Why does rand() + rand() produce negative numbers?", "answer_id": 30911245, "question_id": 30821406, "tags": ["c", "random"]}, {"body": "<blockquote>\n  <p>the reason i was adding was to avoid '0' as the random number in my code. rand()+rand() was the quick dirty solution which readily came to my mind.</p>\n</blockquote>\n\n<p>A simple solution (okay, call it a \"Hack\") which never produces a zero result and will never overflow is:  </p>\n\n<pre><code>x=(rand()/2)+1    // using divide  -or-\nx=(rand()&gt;&gt;1)+1   // using shift which may be faster\n                  // compiler optimization may use shift in both cases\n</code></pre>\n\n<p>This will limit your maximum value, but if you don't care about that, then this should work fine for you.</p>\n", "title": "Why does rand() + rand() produce negative numbers?", "answer_id": 30966725, "question_id": 30821406, "tags": ["c", "random"]}], "question_id": 30821406}, {"body": "<p>I'm having trouble installing a Python package (specifically, JPype1 0.5.7) on my Windows machine, and would like to install it with Christoph Gohlke's Window binaries. (Which, to my experience, alleviated much of the fuss for many other package installations.)</p>\n\n<p>However, while Christoph used to provide .exe files in the past, recently it seems he's uploading .whl files instead.</p>\n\n<p><a href=\"http://www.lfd.uci.edu/~gohlke/pythonlibs/#jpype\">http://www.lfd.uci.edu/~gohlke/pythonlibs/#jpype</a></p>\n\n<p>But how do I install .whl files?</p>\n\n<blockquote>\n  <p>Notes:</p>\n  \n  <ul>\n  <li>I've found <a href=\"https://wheel.readthedocs.org/en/latest/\">documents on wheel</a>, but they don't seem so staightforward in explaining how to install .whl files.</li>\n  <li>This question is a duplicate with <a href=\"http://stackoverflow.com/questions/27041264/how-to-install-whl-file-in-python-windows\">this question</a>, which wasn't directly answered.</li>\n  </ul>\n</blockquote>\n", "title": "How do I install a Python package with a .whl file?", "tags": ["python", "windows", "pip", "python-wheel", "jpype"], "answer_count": 8, "link": "http://stackoverflow.com/questions/27885397/how-do-i-install-a-python-package-with-a-whl-file", "answers": [{"body": "<p>To install from wheel, give it the directory where the wheel is downloaded. For example, to install <code>package_name.whl</code>:</p>\n\n<pre><code>pip install --use-wheel --no-index --find-links=/where/its/downloaded package_name\n</code></pre>\n\n<p>Make sure you have updated pip first to enable wheel support:</p>\n\n<pre><code>pip install --upgrade pip\n</code></pre>\n", "title": "How do I install a Python package with a .whl file?", "answer_id": 27885547, "question_id": 27885397, "tags": ["python", "windows", "pip", "python-wheel", "jpype"]}, {"body": "<p>I just used the following which was quite simple. First open a console then cd to where you've downloaded your file like some-package.whl and use</p>\n\n<pre><code>pip install some-package.whl\n</code></pre>\n\n<p>Note: if pip.exe is not recognized, you may find it in the \"Scripts\" directory from where python has been installed. If pip is not installed, this page can help:\n<a href=\"http://stackoverflow.com/questions/4750806/how-to-install-pip-on-windows\">How do I install pip on Windows?</a></p>\n\n<p><em>Note: for clarification</em><br>\nIf you copy the <code>*.whl</code> file to your local drive (ex. <strong>C:\\some-dir\\some-file.whl</strong>) use the following command line parameters --  </p>\n\n<pre><code>pip install C:/some-dir/some-file.whl\n</code></pre>\n", "title": "How do I install a Python package with a .whl file?", "answer_id": 27909082, "question_id": 27885397, "tags": ["python", "windows", "pip", "python-wheel", "jpype"]}, {"body": "<p>in same boat as OP.</p>\n\n<p>using windows command prompt, from directory:</p>\n\n<pre><code>C:\\Python34\\Scripts&gt;\npip install wheel\n</code></pre>\n\n<p>seemed to work.</p>\n\n<p>changing directory to where the whl was located it just tells me 'pip is not recognized'.  going back to <code>C:\\Python34\\Scripts&gt;</code>, then using the full command above to provide the 'where/its/downloaded' location, it says <code>Requirement 'scikit_image-...-win32.whl' looks like a filename, but the filename does not exist</code>.  So I dropped a copy of the .whl in Python34/Scripts, ran the exact same command over again (with the <code>--find-links=</code> still going to the other folder), and this time it worked. </p>\n", "title": "How do I install a Python package with a .whl file?", "answer_id": 28157796, "question_id": 27885397, "tags": ["python", "windows", "pip", "python-wheel", "jpype"]}, {"body": "<p>You have to run pip.exe from the command prompt...on my computer\nI type C:/Python27/Scripts/pip2.exe install numpy</p>\n", "title": "How do I install a Python package with a .whl file?", "answer_id": 28676490, "question_id": 27885397, "tags": ["python", "windows", "pip", "python-wheel", "jpype"]}, {"body": "<p>On Windows you can't just upgrade using <code>pip install --upgrade pip</code>, because the <code>pip.exe</code> is in use and there would be an error replacing it. Instead, you should upgrade <code>pip</code> like this:</p>\n\n<pre><code>easy_install --upgrade pip\n</code></pre>\n\n<p>Then check the <code>pip</code> version:</p>\n\n<pre><code>pip --version\n</code></pre>\n\n<p>If it shows <code>6.x</code> series, there is wheel support.</p>\n\n<p>Only then, you can install a wheel package like this:</p>\n\n<pre><code>pip install your-package.whl\n</code></pre>\n", "title": "How do I install a Python package with a .whl file?", "answer_id": 29886593, "question_id": 27885397, "tags": ["python", "windows", "pip", "python-wheel", "jpype"]}, {"body": "<p>There are several file versions on the great Christoph Gohlke's site.</p>\n\n<p>Something I have found important when installing wheels from this site is to run first from the python console:</p>\n\n<pre><code>import pip\nprint(pip.pep425tags.get_supported())\n</code></pre>\n\n<p>so that you know which version you should install for your computer. Picking the wrong version may fail the installing of the package (especially if you don't use the right cpython tag, eg. cp27)</p>\n", "title": "How do I install a Python package with a .whl file?", "answer_id": 30672710, "question_id": 27885397, "tags": ["python", "windows", "pip", "python-wheel", "jpype"]}, {"body": "<p>To be able to install wheel files with a simple doubleclick on them you can do one the following:</p>\n\n<p>1) Run two commands in command line under administrator privileges:</p>\n\n<pre><code>assoc .whl=pythonwheel\nftype pythonwheel=cmd /c pip.exe install \"%1\" &amp; pause\n</code></pre>\n\n<p>2) Alternatively, they can be copied into a <code>wheel.bat</code> file and executed with 'Run as administrator' checkbox in the properties.</p>\n\n<p>PS pip.exe is assumed to be in the PATH.</p>\n", "title": "How do I install a Python package with a .whl file?", "answer_id": 33692493, "question_id": 27885397, "tags": ["python", "windows", "pip", "python-wheel", "jpype"]}, {"body": "<p>to save on having to download such files, you can try:</p>\n\n<p>pip install --use-wheel pillow</p>\n\n<p><a href=\"http://www.mechonomics.com/installing-python-pillow-in-a-virtualenv-on-windows/\" rel=\"nofollow\">for more info</a></p>\n", "title": "How do I install a Python package with a .whl file?", "answer_id": 37610006, "question_id": 27885397, "tags": ["python", "windows", "pip", "python-wheel", "jpype"]}], "question_id": 27885397}, {"body": "<p>I'm working with android studio 1.1 Preview 1</p>\n\n<p>And I noticed that when I create a new project I'm getting next hierarchy:</p>\n\n<p><img src=\"http://i.stack.imgur.com/6UnvM.png\" alt=\"enter image description here\"></p>\n\n<p>mipmap folders for diffrent DPIs, No more diffrent DPIs drawable folders.</p>\n\n<p>Should I put all my resources in the mipmap folders, or just the app icon?</p>\n", "title": "mipmap vs drawable folders", "tags": ["android", "android-studio", "android-drawable", "mipmaps"], "answer_count": 1, "link": "http://stackoverflow.com/questions/28065267/mipmap-vs-drawable-folders", "answers": [{"body": "<p>The mipmap folders are for placing your app/launcher icons (which are shown on the homescreen) in only. Any other drawable assets you use should be placed in the relevant drawable folders as before.</p>\n\n<p>According to <a href=\"http://android-developers.blogspot.co.uk/2014/10/getting-your-apps-ready-for-nexus-6-and.html\">this Google blogpost</a>:</p>\n\n<blockquote>\n  <p>It\u2019s best practice to place your app icons in <strong>mipmap-</strong> folders (not the drawable- folders) because they are used at resolutions different from the device\u2019s current density.</p>\n</blockquote>\n\n<p>When referencing the <strong>mipmap-</strong> folders ensure you are using the following reference:</p>\n\n<pre><code>android:icon=\"@mipmap/ic_launcher\"\n</code></pre>\n\n<p>The reason they use a different density is that some launchers actually display the icons larger than they were intended. Because of this, they use the next size up.</p>\n", "title": "mipmap vs drawable folders", "answer_id": 28065664, "question_id": 28065267, "tags": ["android", "android-studio", "android-drawable", "mipmaps"]}], "question_id": 28065267}, {"body": "<p>The logical expression <code>( a &amp;&amp; b )</code> <em>(both <code>a</code> and <code>b</code> have boolean values)</em> can be written like <code>!(!a || !b)</code>, for example. Doesn't this mean that <code>&amp;&amp;</code> is \"unneccesary\"? Does this mean that <em>all</em> logical expressions can be made only using <code>||</code> and <code>!</code>? </p>\n", "title": "Are || and ! operators sufficient to make every possible logical expression?", "tags": ["logic", "logical-operators"], "answer_count": 6, "link": "http://stackoverflow.com/questions/33155331/are-and-operators-sufficient-to-make-every-possible-logical-expression", "answers": [{"body": "<p>Take the time to read up on <a href=\"https://en.wikipedia.org/wiki/De_Morgan%27s_laws\">DeMorgan's Laws</a> if you can.</p>\n\n<p>You will find the answer in the reading there, as well as references to the logical proofs.</p>\n\n<p>But essentially, the answer is yes.</p>\n\n<p><strong>EDIT</strong>: For explicitness, my point is that one can logically infer an OR expression from an AND expression, and vice-versa. There are more laws as well for logical equivalence and inference, but I think this one most apropos.</p>\n\n<hr>\n\n<p><strong>EDIT 2</strong>: Here's a proof via truth-table showing the logical equivalence of the following expression.</p>\n\n<p>DeMorgan's Law: <code>!(!A || !B) -&gt; A &amp;&amp; B</code></p>\n\n<pre>\n _____________________________________________________\n| A | B | !A  | !B  | !A || !B | !(!A || !B) | A && B | \n-------------------------------------------------------\n| 0 | 0 |  1  |  1  |    1     |      0      |   0    | \n-------------------------------------------------------\n| 0 | 1 |  1  |  0  |    1     |      0      |   0    |\n-------------------------------------------------------\n| 1 | 0 |  0  |  1  |    1     |      0      |   0    |\n-------------------------------------------------------\n| 1 | 1 |  0  |  0  |    0     |      1      |   1    |\n_______________________________________________________\n</pre>\n", "title": "Are || and ! operators sufficient to make every possible logical expression?", "answer_id": 33155412, "question_id": 33155331, "tags": ["logic", "logical-operators"]}, {"body": "<p>Yes. </p>\n\n<p><a href=\"https://en.wikipedia.org/wiki/NOR_logic\">All logic gates can be made from NOR gates.</a></p>\n\n<p>Since a NOR gate can be made from a NOT and an OR, the result follows.</p>\n", "title": "Are || and ! operators sufficient to make every possible logical expression?", "answer_id": 33155433, "question_id": 33155331, "tags": ["logic", "logical-operators"]}, {"body": "<p>What you are describing is <a href=\"https://en.wikipedia.org/wiki/Functional_completeness\"><em>functional completeness</em></a>.</p>\n\n<p>This describes a set of logical operators that is sufficient to \"express all possible truth tables\".  Your Java operator set, {<code>||</code>, <code>!</code>}, is sufficient; it corresponds to the set {\u2228, \u00ac}, which is listed under the section \"Minimal functionally complete operator sets\".</p>\n\n<p>The set of all truth tables means all possible sets of 4 boolean values that can be the result of an operation between 2 boolean values.  Because there are 2 possible values for a boolean, there are 2<sup>4</sup>, or 16, possible truth tables.</p>\n\n<pre><code>A B | 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15\n----+------------------------------------------------\nT T | T  T  T  T  T  T  T  T  F  F  F  F  F  F  F  F\nT F | T  T  T  T  F  F  F  F  T  T  T  T  F  F  F  F\nF T | T  T  F  F  T  T  F  F  T  T  F  F  T  T  F  F \nF F | T  F  T  F  T  F  T  F  T  F  T  F  T  F  T  F\n</code></pre>\n\n<p>Here is a table of the truth table numbers (0-15), the <code>||</code> and <code>!</code> combinations that yield it, and a description.</p>\n\n<pre><code>Table  |  Operation(s)                    | Description\n-------+----------------------------------+-------------\n  0    | A || !A                          | TRUE\n  1    | A || B                           | OR\n  2    | A || !B                          | B IMPLIES A\n  3    | A                                | A\n  4    | !A || B                          | A IMPLIES B\n  5    | B                                | B\n  6    | !(!A || !B) || !(A || B)         | XNOR (equals)\n  7    | !(!A || !B)                      | AND\n  8    | !A || !B                         | NAND\n  9    | !(A || !B) || !(!A || B)         | XOR\n 10    | !B                               | NOT B\n 11    | !(!A || B)                       | NOT A IMPLIES B\n 12    | !A                               | NOT A\n 13    | !(A || !B)                       | NOT B IMPLIES A\n 14    | !(A || B)                        | NOR\n 15    | !(A || !A)                       | FALSE\n</code></pre>\n\n<p>There are plenty of other such functionally complete sets, including the one element sets {NAND} and {NOR}, which don't have corresponding single operators in Java.</p>\n", "title": "Are || and ! operators sufficient to make every possible logical expression?", "answer_id": 33155470, "question_id": 33155331, "tags": ["logic", "logical-operators"]}, {"body": "<p>Yes, as the other answers pointed out, the set of operators comprising of <code>||</code> and <code>!</code> is <a href=\"https://en.wikipedia.org/wiki/Functional_completeness\">functionally complete</a>. Here's a constructive proof of that, showing how to use them to express all sixteen possible logical connectives between the boolean variables <code>A</code> and <code>B</code>:</p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Tautology_(logic)\">True</a>: <code>A || !A</code></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Sheffer_stroke\">A NAND B</a>: <code>!A || !B</code></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Converse_implication\">B implies A</a>: <code>!B || A</code></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Material_conditional\">A implies B</a>: <code>!A || B</code></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Logical_disjunction\">A OR B</a>: <code>A || B</code></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Negation\">Not B</a>: <code>!B</code></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Negation\">Not A</a>: <code>!A</code></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Exclusive_or\">A XOR B</a>: <code>!(!A || B) || !(A || !B)</code></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Logical_biconditional\">A XNOR B</a>: <code>!(!A || !B) || !(A || B)</code></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Statement_(logic)\">A</a>: <code>A</code></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Statement_(logic)\">B</a>: <code>B</code></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Logical_NOR\">A NOR B</a>: <code>!(A || B)</code></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Material_nonimplication\">A does not imply B</a>: <code>!(!A || B)</code></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Converse_nonimplication\">B does not imply A</a>: <code>!(!B || A)</code></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Logical_conjunction\">A AND B</a>: <code>!(!A || !B)</code></li>\n<li><a href=\"https://en.wikipedia.org/wiki/False_(logic)\">False</a>: <code>!(A || !A)</code></li>\n</ul>\n\n<p>Note that both NAND and NOR are by themselves functionally complete (which can be proved using the same method above), so if you want to verify that a set of operators is functionally complete, it's enough to show that you can express either NAND or NOR with it. </p>\n\n<p>Here's a graph showing the <a href=\"https://en.wikipedia.org/wiki/Venn_diagram\">Venn diagrams</a> for each of the connectives listed above:</p>\n\n<p><a href=\"http://i.stack.imgur.com/exMFW.png\"><img src=\"http://i.stack.imgur.com/exMFW.png\" alt=\"enter image description here\"></a></p>\n\n<p>[<a href=\"https://commons.wikimedia.org/wiki/File:Logical_connectives_Hasse_diagram.svg\">source</a>]</p>\n", "title": "Are || and ! operators sufficient to make every possible logical expression?", "answer_id": 33161222, "question_id": 33155331, "tags": ["logic", "logical-operators"]}, {"body": "<p>Yes, according to Boolean algebra, any Boolean function can be expressed as a sum of minterms or a product of maxterms, which is called <em>canonical normal form</em>. There is no reason why such logic couldn't be applied to the same operators used in computer science.</p>\n\n<p><a href=\"https://en.wikipedia.org/wiki/Canonical_normal_form\">https://en.wikipedia.org/wiki/Canonical_normal_form</a></p>\n", "title": "Are || and ! operators sufficient to make every possible logical expression?", "answer_id": 33242163, "question_id": 33155331, "tags": ["logic", "logical-operators"]}, {"body": "<p><a href=\"https://en.wikipedia.org/wiki/NAND_gate\">NAND</a> and <a href=\"https://en.wikipedia.org/wiki/NOR_gate\">NOR</a> are universal they can be used to build up any logical operation you want anywhere; other operator are available in programming languages to make it easy to write and make readable codes.</p>\n\n<p>Also all the logical operations which are needed to be hardwired in circuit are also developed using either NAND or NOR only ICs.</p>\n", "title": "Are || and ! operators sufficient to make every possible logical expression?", "answer_id": 33251120, "question_id": 33155331, "tags": ["logic", "logical-operators"]}], "question_id": 33155331}, {"body": "<p>I know the uninitialized local variable is undefined behaviour(<em>UB</em>), and also the value may have trap representations which may affect further operation, but sometimes I want to use the random number only for visual representation and will not further use them in other part of program, for example, set something with random color in a visual effect, for example:</p>\n\n<pre><code>void updateEffect(){\n    for(int i=0;i&lt;1000;i++){\n        int r;\n        int g;\n        int b;\n        star[i].setColor(r%255,g%255,b%255);\n        bool isVisible;\n        star[i].setVisible(isVisible);\n    }\n}\n</code></pre>\n\n<p>is it that faster than</p>\n\n<pre><code>void updateEffect(){\n    for(int i=0;i&lt;1000;i++){\n        star[i].setColor(rand()%255,rand()%255,rand()%255);\n        star[i].setVisible(rand()%2==0?true:false);\n    }\n}\n</code></pre>\n\n<p>and also faster than other random number generator?</p>\n", "title": "Is uninitialized local variable the fastest random number generator?", "tags": ["c++", "c", "undefined-behavior", "garbage"], "answer_count": 21, "link": "http://stackoverflow.com/questions/31739792/is-uninitialized-local-variable-the-fastest-random-number-generator", "answers": [{"body": "<p>No, it's terrible.</p>\n\n<p>The behaviour of using an uninitialised variable is undefined in both C and C++, and it's very unlikely that such a scheme would have desirable statistical properties.</p>\n\n<p>If you want a \"quick and dirty\" random number generator, then <code>rand()</code> is your best bet. In its implementation, all it does is a multiplication, an addition, and a modulus.</p>\n\n<p>The fastest generator I know of requires you to use a <code>uint32_t</code> as the type of the pseudo-random variable <code>I</code>, and use</p>\n\n<p><code>I = 1664525 * I + 1013904223</code></p>\n\n<p>to generate successive values. You can choose any initial value of <code>I</code> (called the <em>seed</em>) that takes your fancy. Obviously you can code that inline. The standard-guaranteed wraparound of an unsigned type acts as the modulus. (The numeric constants are hand-picked by that remarkable scientific programmer Donald Knuth.)</p>\n", "title": "Is uninitialized local variable the fastest random number generator?", "answer_id": 31739806, "question_id": 31739792, "tags": ["c++", "c", "undefined-behavior", "garbage"]}, {"body": "<p>Undefined behavior means that the authors of compilers are free to ignore the problem because programmers will never have a right to complain whatever happens.</p>\n\n<p>While in theory when entering UB land <strong>anything can happen</strong> (including a <a href=\"http://dictionary.reference.com/browse/nasal+demons\">daemon flying off your nose</a>) what normally means is that compiler authors just won't care and, for local variables, the value will be whatever happens to be in the stack memory at that point.</p>\n\n<p>This also means that often the content will be \"strange\" but fixed or slightly random or variable but with a clear evident pattern (e.g. increasing values at each iteration).</p>\n\n<p>For sure you <strong>cannot</strong> expect it being a decent random generator.</p>\n", "title": "Is uninitialized local variable the fastest random number generator?", "answer_id": 31739856, "question_id": 31739792, "tags": ["c++", "c", "undefined-behavior", "garbage"]}, {"body": "<p>Good question!</p>\n\n<p>Undefined does not mean it's random.  Think about it, the values you'd get in global uninitialized variables were left there by the system or your/other applications running. Depending what your system does with no longer used memory and/or what kind of values the system and applications generate, you may get:</p>\n\n<ol>\n<li>Always the same.</li>\n<li>Be one of a small set of values.</li>\n<li>Get values in one or more small ranges.</li>\n<li>See many values dividable by 2/4/8 from pointers on 16/32/64-bit system</li>\n<li>...</li>\n</ol>\n\n<p>The values you'll get completely depend on which non-random values are left by the system and/or applications.  So, indeed there will be some noise (unless your system wipes no longer used memory), but the value pool from which you'll draw will by no means be random.</p>\n\n<p>Things get much worse for local variables because these come directly from the stack of your own program.  There is a very good chance that your program will actually write these stack locations during the execution of other code.  I estimate the chances for luck in this situation very low, and a 'random' code change you make tries this luck.</p>\n\n<p>Read about <a href=\"https://en.m.wikipedia.org/wiki/Randomness\">randomness</a>. As you'll see randomness is a very specific and hard to obtain property. It's a common mistake to think that if you just take something that's hard to track (like your suggestion) you'll get a random value.</p>\n", "title": "Is uninitialized local variable the fastest random number generator?", "answer_id": 31739910, "question_id": 31739792, "tags": ["c++", "c", "undefined-behavior", "garbage"]}, {"body": "<p>Because of security reasons, new memory assigned to a program has to be cleaned, otherwise the information could be used, and passwords could leak from one application into another. Only when you reuse memory, you get different values than 0. And it is very likely, that on a stack the previous value is just fixed, because the previous use of that memory is fixed.</p>\n", "title": "Is uninitialized local variable the fastest random number generator?", "answer_id": 31739991, "question_id": 31739792, "tags": ["c++", "c", "undefined-behavior", "garbage"]}, {"body": "<p>As others have noted, this is Undefined Behavior (UB).</p>\n\n<p>In practice, it will (probably) actually (kindof) work.  Reading from an uninitialized register on x86[-64] architectures will indeed produce garbage results, and probably won't do anything bad (as opposed to e.g. Itanium, where <a href=\"http://blogs.msdn.com/b/oldnewthing/archive/2004/01/19/60162.aspx\">registers can be flagged as invalid</a>, so that reads propagate errors like NaN).</p>\n\n<p>There are two main problems though:</p>\n\n<ol>\n<li><p><strong>It won't be particularly random.</strong>  In this case, you're reading from the stack, so you'll get whatever was there previously.  Which might be effectively random, completely structured, the password you entered ten minutes ago, or your grandmother's cookie recipe.</p></li>\n<li><p><strong>It's Bad (capital 'B')</strong> practice to let things like this creep into your code.  Technically, the compiler could insert <code>reformat_hdd();</code> every time you read an undefined variable.  It <em>won't</em>, but you shouldn't do it anyway.  Don't do unsafe things.  The fewer exceptions you make, the safer you are from accidental mistakes <em>all</em> the time.</p>\n\n<p>The more pressing issue with UB is that it makes your entire program's behavior undefined.  Modern compilers can use this to elide huge swaths of your code or even <a href=\"http://blogs.msdn.com/b/oldnewthing/archive/2014/06/27/10537746.aspx\">go back in time</a>.  Playing with UB is like a victorian engineer dismantling a live nuclear reactor.  There's a zillion things to go wrong, and you probably won't know half of the underlying principles or implemented technology.  It <em>might</em> be okay, but you still shouldn't let it happen.  Look at the other nice answers for details.</p></li>\n</ol>\n\n<p>Also, I'd fire you.</p>\n", "title": "Is uninitialized local variable the fastest random number generator?", "answer_id": 31740129, "question_id": 31739792, "tags": ["c++", "c", "undefined-behavior", "garbage"]}, {"body": "<p>As most of people here mentioned undefined behavior. Undefined also means that you may get some valid integer value (luckily) and in this case this will be faster (as rand function call is not made).\nBut don't practically use it. I am sure this will terrible results as luck is not with you all the time.</p>\n", "title": "Is uninitialized local variable the fastest random number generator?", "answer_id": 31740352, "question_id": 31739792, "tags": ["c++", "c", "undefined-behavior", "garbage"]}, {"body": "<p>Not mentioned yet, but code paths that invoke undefined behavior are allowed to do whatever the compiler wants, e.g.</p>\n\n<pre><code>void updateEffect(){}\n</code></pre>\n\n<p>Which is certainly faster than your correct loop, and because of UB, is perfectly conformant.</p>\n", "title": "Is uninitialized local variable the fastest random number generator?", "answer_id": 31741335, "question_id": 31739792, "tags": ["c++", "c", "undefined-behavior", "garbage"]}, {"body": "<p>Let me say this clearly: <strong>we do not invoke undefined behavior in our programs</strong>. It is never ever a good idea, period. There are rare exceptions to this rule; for example, if you are a <a href=\"http://stackoverflow.com/q/6433339/1708801\">library implementer implementing offsetof</a>. If your case falls under such an exception you likely know this already. In this case we <a href=\"http://stackoverflow.com/q/23415661/1708801\">know using uninitialized automatic variables is undefined behavior</a>.</p>\n\n<p>Compilers have become very aggressive with optimizations around undefined behavior and we can find many cases where undefined behavior has lead to security flaws. The most infamous case is probably the <a href=\"http://blog.regehr.org/archives/970\" rel=\"nofollow\">Linux kernel null pointer check removal</a> which I mention in <a href=\"http://stackoverflow.com/a/32507135/1708801\">my answer to C++ compilation bug?</a> where a compiler optimization around undefined behavior turned a finite loop into an infinite one.</p>\n\n<p>We can read CERT's <a href=\"https://www.securecoding.cert.org/confluence/download/attachments/26017980/SD+West+Dangerous+Optimizations.pdf?version=1\" rel=\"nofollow\">Dangerous Optimizations and the Loss of Causality</a> which says, amongst other things:</p>\n\n<blockquote>\n  <p>Increasingly, compiler writers are taking advantage of undefined\n  behaviors in the C and C++ programming languages to improve\n  optimizations.</p>\n  \n  <p>Frequently, these optimizations are interfering with\n  the ability of developers to perform cause-effect analysis on their\n  source code, that is, analyzing the dependence of downstream results\n  on prior results.</p>\n  \n  <p>Consequently, these optimizations are eliminating\n  causality in software and are increasing the probability of software\n  faults, defects, and vulnerabilities.</p>\n</blockquote>\n\n<p>Specifically with respect to indeterminate values, the C standard <a href=\"http://www.open-std.org/Jtc1/sc22/WG14/www/docs/dr_451.htm\" rel=\"nofollow\">defect report 451: Instability of uninitialized automatic variables</a> makes for some interesting reading. It has not been resolved yet but introduces the concept of <em>wobbly values</em> which means the indeterminatness of a value may propagate through the program and can have different indeterminate values at different points in the program.</p>\n\n<p>I don't know of any examples where this happens but at this point we can't rule it out.</p>\n\n<p><B>Real examples, not the result you expect</B></p>\n\n<p>You are unlikely to get random values. A compiler could optimize the away the loop altogether. For example, with this simplified case:</p>\n\n<pre><code>void updateEffect(int  arr[20]){\n    for(int i=0;i&lt;20;i++){\n        int r ;    \n        arr[i] = r ;\n    }\n}\n</code></pre>\n\n<p>clang optimizes it away (<em><a href=\"http://gcc.godbolt.org/#%7B%22version%22%3A3%2C%22filterAsm%22%3A%7B%22labels%22%3Atrue%2C%22directives%22%3Atrue%2C%22commentOnly%22%3Atrue%2C%22colouriseAsm%22%3Atrue%7D%2C%22compilers%22%3A%5B%7B%22sourcez%22%3A%22FANw9glgJgBArgBygQwC4FMCiAzb6DGqAFBAHaowzIBO1A2gEwAMAugJQDewll2Y1JcjAgBeJgG4IAHmaSA1HM7ceKshWoxxK5Sso16EFjBEwN4nTAC%2Bwa0A%22%2C%22compiler%22%3A%22clang37x%22%2C%22options%22%3A%22-std%3Dc%2B%2B14%20-O3%20-Wall%20-Wextra%20-fverbose-asm%20-fno-inline%22%7D%5D%7D\" rel=\"nofollow\">see it live</a></em>):</p>\n\n<pre><code>updateEffect(int*):                     # @updateEffect(int*)\n    retq\n</code></pre>\n\n<p>or perhaps get all zeros, as with this modified case:</p>\n\n<pre><code>void updateEffect(int  arr[20]){\n    for(int i=0;i&lt;20;i++){\n        int r ;    \n        arr[i] = r%255 ;\n    }\n}\n</code></pre>\n\n<p><a href=\"http://gcc.godbolt.org/#%7B%22version%22%3A3%2C%22filterAsm%22%3A%7B%22labels%22%3Atrue%2C%22directives%22%3Atrue%2C%22commentOnly%22%3Atrue%2C%22colouriseAsm%22%3Atrue%7D%2C%22compilers%22%3A%5B%7B%22sourcez%22%3A%22FANw9glgJgBArgBygQwC4FMCiAzb6DGqAFBAHaowzIBO1A2gEwAMAugJQDewll2Y1JcjAgBeJgG4IAHmaSA1HM7ceKshWoxxK5Sso16EFjBExqAUgYBWS5p0wAvsEdAA%22%2C%22compiler%22%3A%22clang37x%22%2C%22options%22%3A%22-std%3Dc%2B%2B14%20-O3%20-Wall%20-Wextra%20-fverbose-asm%20-fno-inline%22%7D%5D%7D\" rel=\"nofollow\">see it live</a>:</p>\n\n<pre><code>updateEffect(int*):                     # @updateEffect(int*)\n    xorps   %xmm0, %xmm0\n    movups  %xmm0, 64(%rdi)\n    movups  %xmm0, 48(%rdi)\n    movups  %xmm0, 32(%rdi)\n    movups  %xmm0, 16(%rdi)\n    movups  %xmm0, (%rdi)\n    retq\n</code></pre>\n\n<p>Both of these cases are perfectly acceptable forms of undefined behavior.</p>\n\n<p>Note, if we are on an Itanium we could <a href=\"http://pdos.csail.mit.edu/papers/ub:apsys12.pdf\" rel=\"nofollow\">end up with a trap value</a>:</p>\n\n<blockquote>\n  <p>[...]if the register happens to hold a special not-a-thing value,\n  reading the register traps except for a few instructions[...]</p>\n</blockquote>\n\n<p><B>Other important notes</B></p>\n\n<p>It is interesting to note the <a href=\"http://blog.regehr.org/archives/1234\" rel=\"nofollow\">variance between gcc and clang noted in the UB Canaries project</a> over how willing they are to take advantage of undefined behavior with respect to uninitialized memory. The article notes (<em>emphasis mine</em>):</p>\n\n<blockquote>\n  <p>Of course we need to be completely clear with ourselves that any such expectation has nothing to do with the language standard and everything to do with what a particular compiler happens to do, either because the providers of that compiler are unwilling to exploit that UB <strong>or just because they have not gotten around to exploiting it yet</strong>. When no real guarantee from the compiler provider exists, <strong>we like to say that as-yet unexploited UBs are time bombs</strong>: they\u2019re waiting to go off next month or next year when the compiler gets a bit more aggressive.</p>\n</blockquote>\n\n<p>As Matthieu M. points out <a href=\"http://blog.llvm.org/2011/05/what-every-c-programmer-should-know_14.html\" rel=\"nofollow\">What Every C Programmer Should Know About Undefined Behavior #2/3</a> is also relevant to this question. It says amongst other things (<em>emphasis mine</em>):</p>\n\n<blockquote>\n  <p>The important and scary thing to realize is that <strong>just about <em>any</em>\n  optimization based on undefined behavior can start being triggered on\n  buggy code at any time in the future</strong>. Inlining, loop unrolling, memory\n  promotion and other optimizations will keep getting better, and a\n  significant part of their reason for existing is to expose secondary\n  optimizations like the ones above.</p>\n  \n  <p>To me, this is deeply dissatisfying, partially because the compiler\n  inevitably ends up getting blamed, but also because it means that huge\n  bodies of C code are <strong>land mines just waiting to explode.</strong></p>\n</blockquote>\n\n<p>For completeness sake I should probably mention that implementations can choose to make undefined behavior well defined, for example <a href=\"https://gcc.gnu.org/onlinedocs/gcc/Optimize-Options.html#Type-punning\" rel=\"nofollow\">gcc allows type punning through unions</a> while <a href=\"http://stackoverflow.com/questions/11373203/accessing-inactive-union-member-undefined\">in C++ this seems like undefined behavior</a>. If this is the case the implementation should document it and this will usually not be portable.</p>\n", "title": "Is uninitialized local variable the fastest random number generator?", "answer_id": 31746063, "question_id": 31739792, "tags": ["c++", "c", "undefined-behavior", "garbage"]}, {"body": "<p>As others have said, it will be fast, but not random.</p>\n\n<p>What most compilers will do for local variables is to grab some space for them on the stack, but not bother setting it to anything (the standard says they don't need to, so why slow down the code you're generating?).</p>\n\n<p>In this case, the value you'll get will depend on what was on previously on the stack - if you call a function before this one that has a hundred local char variables all set to 'Q' and then call you're function after that returns, then you'll probably find your \"random\" values behave as if you've <code>memset()</code> them all to 'Q's.</p>\n\n<p>Importantly for your example function trying to use this, these values wont change each time you read them, they'll be the same every time. So you'll get a 100 stars all set to the same colour and visibility.</p>\n\n<p>Also, nothing says that the compiler shouldn't initialize these value - so a future compiler might do so.</p>\n\n<p>In general: bad idea, don't do it.\n(like a lot of \"clever\" code level optimizations really...)</p>\n", "title": "Is uninitialized local variable the fastest random number generator?", "answer_id": 31747136, "question_id": 31739792, "tags": ["c++", "c", "undefined-behavior", "garbage"]}, {"body": "<p>As others have already mentioned, this is undefined behavior (<em>UB</em>), but it may \"work\".   </p>\n\n<p>Except from problems already mentioned by others, I see one other problem (disadvantage) - it will not work in any language other than C and C++. I know that this question is about C++, but if you can write code which will be good C++ and Java code and it's not a problem then why not? Maybe some day someone will have to port it to other language and searching for bugs caused by <s>\"magic tricks\"</s> UB like this definitely will be a nightmare (especially for an inexperienced C/C++ developer).   </p>\n\n<p><a href=\"http://stackoverflow.com/questions/19559133/conflict-between-a-stanford-tutorial-and-gcc\">Here</a> there is question about another similar UB. Just imagine yourself trying to find bug like this without knowing about this UB. If you want to read more about such strange things in C/C++, read answers for question from link and see <a href=\"http://www.slideshare.net/olvemaudal/deep-c\" rel=\"nofollow\">this</a> <strong>GREAT</strong> slideshow. It will help you understand what's under the hood and how it's working; it's not not just another slideshow full of \"magic\". I'm quite sure that even most of experienced C/c++ programmers can learn a lot from this.</p>\n", "title": "Is uninitialized local variable the fastest random number generator?", "answer_id": 31748521, "question_id": 31739792, "tags": ["c++", "c", "undefined-behavior", "garbage"]}, {"body": "<p>Your particular code example would probably not do what you are expecting.  While technically each iteration of the loop re-creates the local variables for the r, g, and b values, in practice it's the exact same memory space on the stack.  Hence it won't get re-randomized with each iteration, and you will end up assigning the same 3 values for each of the 1000 colors, regardless of how random the r, g, and b are individually and initially.</p>\n\n<p>Indeed, if it did work, I would be very curious as to what's re-randomizing it.  The only thing I can think of would be an interleaved interrupt that piggypacked atop that stack, highly unlikely.  Perhaps internal optimization that kept those as register variables rather than as true memory locations, where the registers get re-used further down in the loop, would do the trick, too, especially if the set visibility function is particularly register-hungry.  Still, far from random.</p>\n", "title": "Is uninitialized local variable the fastest random number generator?", "answer_id": 31748728, "question_id": 31739792, "tags": ["c++", "c", "undefined-behavior", "garbage"]}, {"body": "<p>Really bad! Bad habit, bad result.\nConsider:</p>\n\n<pre><code>A_Function_that_use_a_lot_the_Stack();\nupdateEffect();\n</code></pre>\n\n<p>If the function <code>A_Function_that_use_a_lot_the_Stack()</code> make always the same initialization it leaves the stack with the same data on it. That data is what we get calling <code>updateEffect()</code>: <strong>always same value!</strong>.</p>\n", "title": "Is uninitialized local variable the fastest random number generator?", "answer_id": 31749873, "question_id": 31739792, "tags": ["c++", "c", "undefined-behavior", "garbage"]}, {"body": "<p>Using uninitialized data for randomness is not necessarily a bad thing if done properly.  In fact, OpenSSL does exactly this to seed its PRNG.</p>\n\n<p>Apparently this usage wasn't well documented however, because someone noticed Valgrind complaining about using uninitialized data and \"fixed\" it, causing a <a href=\"https://www.schneier.com/blog/archives/2008/05/random_number_b.html\" rel=\"nofollow\">bug in the PRNG</a>.</p>\n\n<p>So you can do it, but you need to know what you're doing and make sure that anyone reading your code understands this.</p>\n", "title": "Is uninitialized local variable the fastest random number generator?", "answer_id": 31750117, "question_id": 31739792, "tags": ["c++", "c", "undefined-behavior", "garbage"]}, {"body": "<p>There are certain situations in which uninitialized memory may be safely read using type \"unsigned char*\" [e.g. a buffer returned from <code>malloc</code>].  Code may read such memory without having to worry about the compiler throwing causality out the window, and there are times when it may be more efficient to have code be prepared for anything memory might contain than to ensure that uninitialized data won't be read (a commonplace example of this would be using <code>memcpy</code> on partially-initialized buffer rather than discretely copying all of the elements that contain meaningful data).</p>\n\n<p>Even in such cases, however, one should always assume that if any combination of bytes will be particularly vexatious, reading it will always yield that pattern of bytes (and if a certain pattern would be vexatious in production, but not in development, such a pattern won't appear until code is in production).</p>\n\n<p>Reading uninitialized memory might be useful as part of a random-generation strategy in an embedded system where one can be sure the memory has never been written with substantially-non-random content since the last time the system was powered on, and if the manufacturing process used for the memory causes its power-on state to vary in semi-random fashion.  Code should work even if all devices always yield the same data, but in cases where e.g. a group of nodes each need to select arbitrary unique IDs as quickly as possible, having a \"not very random\" generator which gives half the nodes the same initial ID might be better than not having any initial source of randomness at all.</p>\n", "title": "Is uninitialized local variable the fastest random number generator?", "answer_id": 31751583, "question_id": 31739792, "tags": ["c++", "c", "undefined-behavior", "garbage"]}, {"body": "<p>Many good answers, but allow me to add another and stress the point that in a deterministic computer, nothing is random. This is true for both the numbers produced by an pseudo-RNG and the seemingly \"random\" numbers found in areas of memory reserved for C/C++ local variables on the stack.</p>\n\n<p>BUT... there is a crucial difference.</p>\n\n<p>The numbers generated by a good pseudorandom generator have the properties that make them statistically similar to truly random draws. For instance, the distribution is uniform. The cycle length is long: you can get millions of random numbers before the cycle repeats itself. The sequence is not autocorrelated: for instance, you will not begin to see strange patterns emerge if you take every 2nd, 3rd, or 27th number, or if you look at specific digits in the generated numbers.</p>\n\n<p>In contrast, the \"random\" numbers left behind on the stack have none of these properties. Their values and their apparent randomness depend entirely on how the program is constructed, how it is compiled, and how it is optimized by the compiler. By way of example, here is a variation of your idea as a self-contained program:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nnotrandom()\n{\n        int r, g, b;\n\n        printf(\"R=%d, G=%d, B=%d\", r&amp;255, g&amp;255, b&amp;255);\n}\n\nint main(int argc, char *argv[])\n{\n        int i;\n        for (i = 0; i &lt; 10; i++)\n        {\n                notrandom();\n                printf(\"\\n\");\n        }\n\n        return 0;\n}\n</code></pre>\n\n<p>When I compile this code with GCC on a Linux machine and run it, it turns out to be rather unpleasantly deterministic:</p>\n\n<pre><code>R=0, G=19, B=0\nR=130, G=16, B=255\nR=130, G=16, B=255\nR=130, G=16, B=255\nR=130, G=16, B=255\nR=130, G=16, B=255\nR=130, G=16, B=255\nR=130, G=16, B=255\nR=130, G=16, B=255\nR=130, G=16, B=255\n</code></pre>\n\n<p>If you looked at the compiled code with a disassembler, you could reconstruct what was going on, in detail. The first call to notrandom() used an area of the stack that was not used by this program previously; who knows what was in there. But after that call to notrandom(), there is a call to printf() (which the GCC compiler actually optimizes to a call to putchar(), but never mind) and that overwrites the stack. So the next and subsequent times, when notrandom() is called, the stack will contain stale data from the execution of putchar(), and since putchar() is always called with the same arguments, this stale data will always be the same, too.</p>\n\n<p>So there is absolutely <em>nothing</em> random about this behavior, nor do the numbers obtained this way have any of the desirable properties of a well-written pseudorandom number generator. In fact, in most real-life scenarios, their values will be repetitive and highly correlated.</p>\n\n<p>Indeed, as others, I would also seriously consider firing someone who tried to pass off this idea as a \"high performance RNG\".</p>\n", "title": "Is uninitialized local variable the fastest random number generator?", "answer_id": 31752816, "question_id": 31739792, "tags": ["c++", "c", "undefined-behavior", "garbage"]}, {"body": "<p>There is one more possibility to consider.</p>\n\n<p>Modern compilers (ahem g++) are so intelligent that they go through your code to see what instructions affect state, and what don't, and if an instruction is guaranteed to NOT affect the state, g++ will simply remove that instruction.</p>\n\n<p>So here's what will happen. g++ will definitely see that you are reading, performing arithmetic on, saving, what is essentially a garbage value, which produces more garbage. Since there is no guarantee that the new garbage is any more useful than the old one, it will simply do away with your loop. BLOOP!</p>\n\n<p>This method is useful, but here's what I would do. Combine UB (Undefined Behaviour) with rand() speed.</p>\n\n<p>Of course, reduce <code>rand()</code>s executed, but mix them in so compiler doesn't do anything you don't want it to.</p>\n\n<p>And I won't fire you.</p>\n", "title": "Is uninitialized local variable the fastest random number generator?", "answer_id": 31753942, "question_id": 31739792, "tags": ["c++", "c", "undefined-behavior", "garbage"]}, {"body": "<p>You need to have a definition of what you mean by 'random'.\nA sensible definition involves that the values you get should have little correlation. That's something you can measure. It's also not trivial to achieve in a controlled, reproducible manner. So undefined behaviour is certainly not what you are looking for.</p>\n", "title": "Is uninitialized local variable the fastest random number generator?", "answer_id": 31774584, "question_id": 31739792, "tags": ["c++", "c", "undefined-behavior", "garbage"]}, {"body": "<p>I performed a very simple test, and it wasn't random at all.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint main() {\n\n    int a;\n    printf(\"%d\\n\", a);\n    return 0;\n}\n</code></pre>\n\n<p>Every time I ran the program, it printed the same number (<code>32767</code> in my case) -- you can't get much less random than that. This is presumably whatever the startup code in the runtime library left on the stack. Since it uses the same startup code every time the program runs, and nothing else varies in the program between runs, the results are perfectly consistent.</p>\n", "title": "Is uninitialized local variable the fastest random number generator?", "answer_id": 31836461, "question_id": 31739792, "tags": ["c++", "c", "undefined-behavior", "garbage"]}, {"body": "<p>Use <code>7757</code> every place you are tempted to use uninitialized variables.  I picked it randomly from a list of prime numbers:</p>\n\n<ol>\n<li><p>it is defined behavior</p></li>\n<li><p>it is guaranteed to not always be 0</p></li>\n<li><p>it is prime</p></li>\n<li><p>it is likely to be as statistically random as uninitualized\nvariables</p></li>\n<li><p>it is likely to be faster than uninitialized variables since its\nvalue is known at compile time</p></li>\n</ol>\n", "title": "Is uninitialized local variable the fastest random number generator?", "answer_id": 31932703, "question_id": 31739792, "tags": ["c++", "c", "undefined-behavior", "garbage"]}, {"body": "<p><strong>Not</strong> a good idea to rely our any logic on language undefined behaviour. In addition to whatever mentioned/discussed in this post, I would like to mention that with modern C++ approach/style such program may not be compile.</p>\n\n<p>This was mentioned in my previous post which contains the advantage of <strong>auto</strong> feature and useful link for the same.</p>\n\n<p><a href=\"http://stackoverflow.com/a/26170069/2724703\">http://stackoverflow.com/a/26170069/2724703</a></p>\n\n<p>So, if we change the above code and replace the actual types with <strong>auto</strong>, the program would not even compile.</p>\n\n<pre><code>void updateEffect(){\n    for(int i=0;i&lt;1000;i++){\n        auto r;\n        auto g;\n        auto b;\n        star[i].setColor(r%255,g%255,b%255);\n        auto isVisible;\n        star[i].setVisible(isVisible);\n    }\n}\n</code></pre>\n", "title": "Is uninitialized local variable the fastest random number generator?", "answer_id": 31946871, "question_id": 31739792, "tags": ["c++", "c", "undefined-behavior", "garbage"]}, {"body": "<p>I like your way of thinking. Really outside the box. However the tradeoff is really not worth it. <em>Memory-runtime tradeoff</em> is a thing, including  undefined behavior for runtime is <strong>not</strong>.</p>\n\n<p>It must give you a very unsettling feeling to know you are using such \"random\" as your business logic. I woudn't do it.</p>\n", "title": "Is uninitialized local variable the fastest random number generator?", "answer_id": 32048120, "question_id": 31739792, "tags": ["c++", "c", "undefined-behavior", "garbage"]}], "question_id": 31739792}, {"body": "<p>It is well-known that NaNs propagate in arithmetic, but I couldn't find any demonstrations, so I wrote a small test:</p>\n\n<pre><code>#include &lt;limits&gt;\n#include &lt;cstdio&gt;\n\nint main(int argc, char* argv[]) {\n    float qNaN = std::numeric_limits&lt;float&gt;::quiet_NaN();\n\n    float neg = -qNaN;\n\n    float sub1 = 6.0f - qNaN;\n    float sub2 = qNaN - 6.0f;\n    float sub3 = qNaN - qNaN;\n\n    float add1 = 6.0f + qNaN;\n    float add2 = qNaN + qNaN;\n\n    float div1 = 6.0f / qNaN;\n    float div2 = qNaN / 6.0f;\n    float div3 = qNaN / qNaN;\n\n    float mul1 = 6.0f * qNaN;\n    float mul2 = qNaN * qNaN;\n\n    printf(\n        \"neg: %f\\nsub: %f %f %f\\nadd: %f %f\\ndiv: %f %f %f\\nmul: %f %f\\n\",\n        neg, sub1,sub2,sub3, add1,add2, div1,div2,div3, mul1,mul2\n    );\n\n    return 0;\n}\n</code></pre>\n\n<p>The example (<a href=\"http://ideone.com/FjphJj\">running live here</a>) produces basically what I would expect (the negative is a little weird, but it kind of makes sense):</p>\n\n<pre><code>neg: -nan\nsub: nan nan nan\nadd: nan nan\ndiv: nan nan nan\nmul: nan nan\n</code></pre>\n\n<p>MSVC 2015 produces something similar. However, Intel C++ 15 produces:</p>\n\n<pre><code>neg: -nan(ind)\nsub: nan nan 0.000000\nadd: nan nan\ndiv: nan nan nan\nmul: nan nan\n</code></pre>\n\n<p>Specifically, <code>qNaN - qNaN == 0.0</code>.</p>\n\n<p>This... can't be right, right? What do the relevant standards (ISO C, ISO C++, IEEE 754) say about this, and why is there a difference in behavior between the compilers?</p>\n", "title": "Why does NaN - NaN == 0.0 with the Intel C++ Compiler?", "tags": ["c++", "c", "floating-point", "ieee-754", "intel-c++"], "answer_count": 3, "link": "http://stackoverflow.com/questions/32195949/why-does-nan-nan-0-0-with-the-intel-c-compiler", "answers": [{"body": "<p>The default floating point handling in Intel C++ compiler is <code>/fp:fast</code>, which handles <code>NaN</code>'s unsafely (which also results in <code>NaN == NaN</code> being <code>true</code> for example). Try specifying <code>/fp:strict</code> or <code>/fp:precise</code> and see if that helps.</p>\n", "title": "Why does NaN - NaN == 0.0 with the Intel C++ Compiler?", "answer_id": 32196157, "question_id": 32195949, "tags": ["c++", "c", "floating-point", "ieee-754", "intel-c++"]}, {"body": "<p><em>This . . . can't be right, right? My question: what do the relevant standards (ISO C, ISO C++, IEEE 754) say about this?</em></p>\n\n<p>Petr Abdulin already answered why the compiler gives a <code>0.0</code> answer.</p>\n\n<p>Here is what IEEE-754:2008 says:</p>\n\n<blockquote>\n  <p>(6.2 Operations with NaNs) \"[...] For an operation with quiet NaN inputs, other than maximum and minimum operations, if a floating-point result is to be delivered the result shall be a quiet NaN which should be one of the input NaNs.\"</p>\n</blockquote>\n\n<p>So the only valid result for the subtraction of two quiet NaN operand is a quiet NaN; any other result is not valid.</p>\n\n<p>The C Standard says:</p>\n\n<blockquote>\n  <p>(C11, F.9.2 Expression transformations p1) \"[...]</p>\n  \n  <p>x \u2212 x \u2192 0. 0 \"The expressions x \u2212 x and 0. 0 are not equivalent if x is a NaN or\n  infinite\"</p>\n</blockquote>\n\n<p>(where here NaN denotes a quiet NaN as per F.2.1p1 \"This specification does not define the behavior of signaling NaNs. It generally uses the term NaN to denote quiet NaNs\")</p>\n", "title": "Why does NaN - NaN == 0.0 with the Intel C++ Compiler?", "answer_id": 32222181, "question_id": 32195949, "tags": ["c++", "c", "floating-point", "ieee-754", "intel-c++"]}, {"body": "<p>Since I see an answer impugning the standards compliance of Intel's compiler, and no one else has mentioned this, I will point out that both GCC and Clang have a mode in which they do something quite similar.  Their default behavior is IEEE-compliant \u2014</p>\n\n<pre><code>$ g++ -O2 test.cc &amp;&amp; ./a.out \nneg: -nan\nsub: nan nan nan\nadd: nan nan\ndiv: nan nan nan\nmul: nan nan\n\n$ clang++ -O2 test.cc &amp;&amp; ./a.out \nneg: -nan\nsub: -nan nan nan\nadd: nan nan\ndiv: nan nan nan\nmul: nan nan\n</code></pre>\n\n<p>\u2014 but if you ask for speed at the expense of correctness, you get what you ask for \u2014</p>\n\n<pre><code>$ g++ -O2 -ffast-math test.cc &amp;&amp; ./a.out \nneg: -nan\nsub: nan nan 0.000000\nadd: nan nan\ndiv: nan nan 1.000000\nmul: nan nan\n\n$ clang++ -O2 -ffast-math test.cc &amp;&amp; ./a.out \nneg: -nan\nsub: -nan nan 0.000000\nadd: nan nan\ndiv: nan nan nan\nmul: nan nan\n</code></pre>\n\n<p>I think it is entirely fair to criticize ICC's choice of <em>default</em>, but I would not read the entire Unix wars back into that decision.</p>\n", "title": "Why does NaN - NaN == 0.0 with the Intel C++ Compiler?", "answer_id": 32287416, "question_id": 32195949, "tags": ["c++", "c", "floating-point", "ieee-754", "intel-c++"]}], "question_id": 32195949}, {"body": "<p>I have seen the following macro definitions in a coding book.</p>\n\n<pre><code>#define TRUE  '/'/'/'\n#define FALSE '-'-'-'\n</code></pre>\n\n<p>There was no explanation.</p>\n\n<p>Please explain to me how these will work as <code>TRUE</code> and <code>FALSE</code>.</p>\n", "title": "Strange definitions of TRUE and FALSE macros", "tags": ["c++", "c", "macros", "boolean", "obfuscation"], "answer_count": 6, "link": "http://stackoverflow.com/questions/34062595/strange-definitions-of-true-and-false-macros", "answers": [{"body": "<p>It's just another way of writing</p>\n\n<pre><code>#define TRUE 1\n#define FALSE 0\n</code></pre>\n\n<p>The expression <code>'/'/'/'</code> will divide the char value of <code>'/'</code> by itself, which will give 1 as a result.</p>\n\n<p>The expression <code>'-'-'-'</code> will substract the char value of <code>'-'</code> from itself, which will give 0 as a result.</p>\n\n<p>Brackets around the whole <code>define</code> expressions are missing though, which can lead to errors in the code using these macros. <a href=\"http://stackoverflow.com/a/34062687/3854322\">Jay's answer</a> adresses that pretty well.</p>\n\n<p>An example of \"real-life\" scenario where forgetting the brackets can be harmful is the combined use of these macros with a C-style cast operator. If someone decides to cast these expressions to <code>bool</code> in C++ for instance:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\n#define TRUE  '/'/'/'\n#define FALSE '-'-'-'\n\nint main() {\n    std::cout &lt;&lt; \"True: \" &lt;&lt; (bool) TRUE &lt;&lt; std::endl;\n    std::cout &lt;&lt; \"False: \" &lt;&lt; (bool) FALSE &lt;&lt; std::endl;\n    return 0;\n}\n</code></pre>\n\n<p>Here's what we get:</p>\n\n<pre><code>True: 0\nFalse: -44\n</code></pre>\n\n<p>So <code>(bool) TRUE</code> would actually evaluate to <code>false</code>, and <code>(bool) FALSE</code> would evaluate to <code>true</code>.</p>\n", "title": "Strange definitions of TRUE and FALSE macros", "answer_id": 34062671, "question_id": 34062595, "tags": ["c++", "c", "macros", "boolean", "obfuscation"]}, {"body": "<p>It is equivalent to writing</p>\n\n<pre><code>#define TRUE 1\n#define FALSE 0\n</code></pre>\n\n<p>What the expression <code>'/'/'/'</code> actually does is dividing the character <code>/</code> (whatever its numeric value is) by itself, so it becomes <code>1</code>.</p>\n\n<p>Similarly, the expression <code>'-'-'-'</code> subtracts the character <code>-</code> from itself and evaluates to <code>0</code>.</p>\n\n<p>It would be better to write</p>\n\n<pre><code>#define TRUE ('/'/'/')\n#define FALSE ('-'-'-')\n</code></pre>\n\n<p>to avoid accidental change of values when used with other higher-precedence operators.</p>\n", "title": "Strange definitions of TRUE and FALSE macros", "answer_id": 34062673, "question_id": 34062595, "tags": ["c++", "c", "macros", "boolean", "obfuscation"]}, {"body": "<p>Let's see: <code>'/' / '/'</code> means the <code>char</code> literal <code>/</code>, divided by the <code>char</code> literal <code>'/'</code> itself. The result is one, which sounds reasonable for <code>TRUE</code>.</p>\n\n<p>And <code>'-' - '-'</code> means the <code>char</code> literal <code>'-'</code>, subtracted from itself. This is zero (<code>FALSE</code>).</p>\n\n<p>There are two problems with this: first, it's not readable. Using <code>1</code> and <code>0</code> is absolutely better. Also, as  TartanLlama and KerrekSB have pointed out, if you are ever going to use that definition, please do add parentheses around them so you won't have any surprises:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\n#define TRUE  '/'/'/'\n#define FALSE '-'-'-'\n\nint main() {\n        printf (\"%d\\n\", 2 * FALSE);\n        return 0;\n}\n</code></pre>\n\n<p>This will print the value of the <code>char</code> literal <code>'-'</code> (45 on my system).</p>\n\n<p>With parentheses:</p>\n\n<pre><code>#define TRUE  ('/'/'/')\n#define FALSE ('-'-'-')\n</code></pre>\n\n<p>the program correctly prints zero, even though it doesn't make much sense to multiply a truth value by an integer, but it's just an example of the kind of unexpected bugs that could bite you if you don't parenthesize your macros.</p>\n", "title": "Strange definitions of TRUE and FALSE macros", "answer_id": 34062687, "question_id": 34062595, "tags": ["c++", "c", "macros", "boolean", "obfuscation"]}, {"body": "<p>Let's start with true. You can read it as <code>'/' / '/'</code>, which means \"character '/' divided by character '/'\". Since each character, in C, is a numeric value (on one byte), it can be read as \"the ASCII value of character '/' divided by the ASCII value of that same character\", which means 1 (because, obviously, x/x is 1). Hence, <code>TRUE</code> is 1.</p>\n\n<p>For <code>FALSE</code>, its the same reasoning: <code>'-'-'-'</code> reads <code>'-' - '-'</code>, i.e \"the ASCII value of '-' minus the ASCII value of '-'\", which is 0. Hence, <code>FALSE</code> is 0.</p>\n\n<p>This is a nasty way to state the obvious.</p>\n", "title": "Strange definitions of TRUE and FALSE macros", "answer_id": 34062688, "question_id": 34062595, "tags": ["c++", "c", "macros", "boolean", "obfuscation"]}, {"body": "<p><a href=\"http://stackoverflow.com/a/34062687/1119701\">Jay</a> already answered why the values of these expressions are <code>0</code> and  <code>1</code>.</p>\n\n<p>For history sake, these expressions <code>'/'/'/'</code> and <code>'-'-'-'</code> come from one of the entries of <a href=\"http://www.ioccc.org/years.html#1984\">1st International Obfuscated C Code Contest in 1984</a>:</p>\n\n<pre><code>int i;main(){for(;i[\"]&lt;i;++i){--i;}\"];read('-'-'-',i+++\"hell\\\no, world!\\n\",'/'/'/'));}read(j,i,p){write(j/p+p,i---j,i/i);}\n</code></pre>\n\n<p>(Link to the program <a href=\"http://www.ioccc.org/1984/anonymous.c\">here</a>, there is a hint of what this program does in the IOCCC page above.) </p>\n\n<p>Also if I remember correctly these expressions as obfuscated macros for <code>TRUE</code> and <code>FALSE</code> were also covered in <a href=\"http://rads.stackoverflow.com/amzn/click/0471578053\">\"Obfuscated C and Other Mysteries\"</a> book by Don Libes (1993). </p>\n", "title": "Strange definitions of TRUE and FALSE macros", "answer_id": 34295933, "question_id": 34062595, "tags": ["c++", "c", "macros", "boolean", "obfuscation"]}, {"body": "<p>It hilarious way for writing macros for <code>True</code> and <code>False</code>.</p>\n\n<p>As many explanations have been provided <code>/</code> means a 1 byte number(as per ASCII) when divided by itself it give you <code>1</code> which will be treat as <code>True</code> and likewise  <code>-</code> is again a byte number when subtracted the same value it give you <code>0</code> which will be interpreted as <code>false</code></p>\n\n<pre><code>#define TRUE  '/'/'/'\n#define FALSE '-'-'-'\n</code></pre>\n\n<p>hence we can replace <code>/</code> or <code>-</code> with any char we like, for example:</p>\n\n<pre><code>#define TRUE  '!'/'!'\n#define FALSE 'o'-'o'\n</code></pre>\n\n<p>Will keep the same meaning as the original expression.</p>\n", "title": "Strange definitions of TRUE and FALSE macros", "answer_id": 34411751, "question_id": 34062595, "tags": ["c++", "c", "macros", "boolean", "obfuscation"]}], "question_id": 34062595}, {"body": "<p>In my humble opinion the answers to the famous question <a href=\"http://stackoverflow.com/questions/44965/what-is-a-monad\">\"What is a monad?\"</a>, especially the most voted ones, try to explain what is a monad without clearly explaining <em>why monads are really necessary</em>.  Can they be explained as the solution to a problem?</p>\n", "title": "Why do we need monads?", "tags": ["haskell", "monads"], "answer_count": 7, "link": "http://stackoverflow.com/questions/28139259/why-do-we-need-monads", "answers": [{"body": "<h2>Why do we need monads?</h2>\n\n<ol>\n<li>We want to program <strong>only using functions</strong>. (\"functional programming (FP)\" after all).</li>\n<li><p>Then, we have a first big problem. This is a program:</p>\n\n<p><code>f(x) = 2 * x</code></p>\n\n<p><code>g(x,y) = x / y</code></p>\n\n<p>How can we say  <strong>what is to be executed first</strong>? How can we form an ordered sequence of functions (i.e. <strong>a program</strong>) <em>using no more than functions</em>?</p>\n\n<p>Solution: <strong>compose functions</strong>. If you want first <code>g</code> and then <code>f</code>, just write <code>f(g(x,y))</code>. This way, \"the program\" is a function as well: <code>main = f(g(x,y))</code>. OK, but ...</p></li>\n<li><p>More problems: some functions <strong>might fail</strong> (i.e. <code>g(2,0)</code>, divide by 0). We have <strong>no \"exceptions\"</strong> in FP (an exception is not a function). How do we solve it?</p>\n\n<p>Solution: Let's <strong>allow functions to return two kind of things</strong>: instead of having <code>g : Real,Real -&gt; Real</code> (function from two reals into a real), let's allow <code>g : Real,Real -&gt; Real | Nothing</code> (function from two reals into (real or nothing)). </p></li>\n<li><p>But functions should (to be simpler) return only <strong>one thing</strong>. </p>\n\n<p>Solution: let's create a new type of data to be returned, a \"<strong>boxing type</strong>\" that encloses maybe a real or be simply nothing. Hence, we can have <code>g : Real,Real -&gt; Maybe Real</code>. OK, but ...</p></li>\n<li><p>What happens now to <code>f(g(x,y))</code>? <code>f</code> is not ready to consume a <code>Maybe Real</code>. And, we don't want to change every function we could connect with <code>g</code> to consume a <code>Maybe Real</code>.</p>\n\n<p>Solution: let's <strong>have a special function to \"connect\"/\"compose\"/\"link\" functions</strong>. That way, we can, behind the scenes, adapt the output of one function to feed the following one. </p>\n\n<p>In our case:  <code>g &gt;&gt;= f</code> (connect/compose <code>g</code> to <code>f</code>). We want <code>&gt;&gt;=</code> to get <code>g</code>'s output, inspect it and, in case it is <code>Nothing</code> just don't call <code>f</code> and return <code>Nothing</code>; or on the contrary, extract the boxed <code>Real</code> and feed <code>f</code> with it. (This algorithm is just the implementation of <code>&gt;&gt;=</code> for the <code>Maybe</code> type). Also note that <code>&gt;&gt;=</code> must be written <strong>only once</strong> per \"boxing type\" (different box, different adapting algorithm).</p></li>\n<li><p>Many other problems arise which can be solved using this same pattern: 1. Use a \"box\" to codify/store different meanings/values, and have functions like <code>g</code> that return those \"boxed values\". 2. Have a composer/linker <code>g &gt;&gt;= f</code> to help connecting <code>g</code>'s output to <code>f</code>'s input, so we don't have to change any <code>f</code> at all.</p></li>\n<li><p>Remarkable problems that can be solved using this technique are: </p>\n\n<ul>\n<li><p>having a global state that every function in the sequence of functions (\"the program\") can share: solution <code>StateMonad</code>. </p></li>\n<li><p>We don't like \"impure functions\": functions that yield <em>different</em> output for <em>same</em> input. Therefore, let's mark those functions, making them to return a tagged/boxed value: <code>IO</code> monad.</p></li>\n</ul></li>\n</ol>\n\n<p>Total happiness!</p>\n", "title": "Why do we need monads?", "answer_id": 28139260, "question_id": 28139259, "tags": ["haskell", "monads"]}, {"body": "<p>The answer is, of course, <strong>\"We don't\"</strong>. As with all abstractions, it isn't necessary.</p>\n\n<p>Haskell does not need a monad abstraction. It isn't necessary for performing IO in a pure language. The <code>IO</code> type takes care of that just fine by itself. The existing monadic desugaring of <code>do</code> blocks could be replaced with desugaring to <code>bindIO</code>, <code>returnIO</code>, and <code>failIO</code> as defined in the <code>GHC.Base</code> module. (It's not a documented module on hackage, so I'll have to point at <a href=\"https://github.com/ghc/ghc/blob/f006ed7965a0fa918d720cc387b33cb8e7083854/libraries/base/GHC/Base.hs#L1063\">its source</a> for documentation.) So no, there's no need for the monad abstraction.</p>\n\n<p>So if it's not needed, why does it exist? Because it was found that many patterns of computation form monadic structures. Abstraction of a structure allows for writing code that works across all instances of that structure. To put it more concisely - code reuse.</p>\n\n<p>In functional languages, the most powerful tool found for code reuse has been composition of functions. The good old <code>(.) :: (b -&gt; c) -&gt; (a -&gt; b) -&gt; (a -&gt; c)</code> operator is exceedingly powerful. It makes it easy to write tiny functions and glue them together with minimal syntactic or semantic overhead.</p>\n\n<p>But there are cases when the types don't work out quite right.  What do you do when you have <code>foo :: (b -&gt; Maybe c)</code> and <code>bar :: (a -&gt; Maybe b)</code>? <code>foo . bar</code> doesn't typecheck, because <code>b</code> and <code>Maybe b</code> aren't the same type.</p>\n\n<p>But.. It's almost right. You just want a bit of leeway. You want to be able to treat <code>Maybe b</code> as if it was basically <code>b</code>. It's a poor idea to just flat-out treat them as the same type, though. That's more or less the same thing as null pointers, which Tony Hoare famously called <a href=\"http://www.infoq.com/presentations/Null-References-The-Billion-Dollar-Mistake-Tony-Hoare\">the billion-dollar mistake</a>. So if you can't treat them as the same type, maybe you can find a way to extend the composition mechanism <code>(.)</code> provides.</p>\n\n<p>In that case, it's important to really examine the theory underlying <code>(.)</code>. Fortunately, someone has already done this for us. It turns out that the combination of <code>(.)</code> and <code>id</code> form a mathematical construct known as a <a href=\"http://bartoszmilewski.com/2014/11/04/category-the-essence-of-composition/\">category</a>. But there are other ways to form categories. A Kleisli category, for instance, allows the objects being composed to be augmented a bit. A Kleisli category for <code>Maybe</code> would consist of <code>(.) :: (b -&gt; Maybe c) -&gt; (a -&gt; Maybe b) -&gt; (a -&gt; Maybe c)</code> and <code>id :: a -&gt; Maybe a</code>. That is, the objects in the category augment the <code>(-&gt;)</code> with a <code>Maybe</code>, so <code>(a -&gt; b)</code> becomes <code>(a -&gt; Maybe b)</code>.</p>\n\n<p>And suddenly, we've extended the power of composition to things that the traditional <code>(.)</code> operation doesn't work on. This is a source of new abstraction power. Kleisli categories work with more types than just <code>Maybe</code>. They work with every type that can assemble a proper category, obeying the category laws.</p>\n\n<ol>\n<li>Left identity: <code>id . f</code> = <code>f</code></li>\n<li>Right identity: <code>f . id</code> = <code>f</code></li>\n<li>Associativity: <code>f . (g . h)</code> = <code>(f . g) . h</code></li>\n</ol>\n\n<p>As long as you can prove that your type obeys those three laws, you can turn it into a Kleisli category. And what's the big deal about that? Well, it turns out that monads are exactly the same thing as Kleisli categories. <code>Monad</code>'s <code>return</code> is the same as Kleisli <code>id</code>. <code>Monad</code>'s <code>(&gt;&gt;=)</code> isn't identical to Kleisli <code>(.)</code>, but it turns out to be very easy to write each in terms of the other. And the category laws are the same as the monad laws, when you translate them across the difference between <code>(&gt;&gt;=)</code> and <code>(.)</code>.</p>\n\n<p>So why go through all this bother? Why have a <code>Monad</code> abstraction in the language? As I alluded to above, it enables code reuse. It even enables code reuse along two different dimensions.</p>\n\n<p>The first dimension of code reuse comes directly from the presence of the abstraction. You can write code that works across all instances of the abstraction. There's the entire <a href=\"https://hackage.haskell.org/package/monad-loops\">monad-loops</a> package consisting of loops that work with any instance of <code>Monad</code>.</p>\n\n<p>The second dimension is indirect, but it follows from the existence of composition. When composition is easy, it's natural to write code in small, reusable chunks. This is the same way having the <code>(.)</code> operator for functions encourages writing small, reusable functions.</p>\n\n<p>So why does the abstraction exist? Because it's proven to be a tool that enables more composition in code, resulting in creating reusable code and encouraging the creation of more reusable code. Code reuse is one of the holy grails of programming. The monad abstraction exists because it moves us a little bit towards that holy grail.</p>\n", "title": "Why do we need monads?", "answer_id": 28141248, "question_id": 28139259, "tags": ["haskell", "monads"]}, {"body": "<p>Benjamin Pierce said in <a href=\"http://www.cis.upenn.edu/~bcpierce/tapl/\">TAPL</a></p>\n\n<blockquote>\n  <p>A type system can be regarded as calculating a kind of static\n  approximation to the run-time behaviours of the terms in a program.</p>\n</blockquote>\n\n<p>That's why a language equipped with a powerful type system is strictly more expressive, than a poorly typed language. You can think about monads in the same way.</p>\n\n<p>As @Carl and <a href=\"http://blog.sigfpe.com/2006/08/you-could-have-invented-monads-and.html\">sigfpe</a> point, you can equip a datatype with all operations you want without resorting to monads, typeclasses or whatever other abstract stuff. However monads allow you not only to write reusable code, but also to abstract away all redundant detailes.</p>\n\n<p>As an example, let's say we want to filter a list. The simplest way is to use the <code>filter</code> function: <code>filter (&gt; 3) [1..10]</code>, which equals <code>[4,5,6,7,8,9,10]</code>.</p>\n\n<p>A slightly more complicated version of <code>filter</code>, that also passes an accumulator from left to right, is</p>\n\n<pre><code>swap (x, y) = (y, x)\n(.*) = (.) . (.)\n\nfilterAccum :: (a -&gt; b -&gt; (Bool, a)) -&gt; a -&gt; [b] -&gt; [b]\nfilterAccum f a xs = [x | (x, True) &lt;- zip xs $ snd $ mapAccumL (swap .* f) a xs]\n</code></pre>\n\n<p>To get all <code>i</code>, such that <code>i &lt;= 10, sum [1..i] &gt; 4, sum [1..i] &lt; 25</code>, we can write</p>\n\n<pre><code>filterAccum (\\a x -&gt; let a' = a + x in (a' &gt; 4 &amp;&amp; a' &lt; 25, a')) 0 [1..10]\n</code></pre>\n\n<p>which equals <code>[3,4,5,6]</code>.</p>\n\n<p>Or we can redefine the <code>nub</code> function, that removes duplicate elements from a list, in terms of <code>filterAccum</code>:</p>\n\n<pre><code>nub' = filterAccum (\\a x -&gt; (x `notElem` a, x:a)) []\n</code></pre>\n\n<p><code>nub' [1,2,4,5,4,3,1,8,9,4]</code> equals <code>[1,2,4,5,3,8,9]</code>. A list is passed as an accumulator here. The code works, because it's possible to leave the list monad, so the whole computation stays pure (<code>notElem</code> doesn't use <code>&gt;&gt;=</code> actually, but it could). However it's not possible to safely leave the IO monad (i.e. you cannot execute an IO action and return a pure value \u2014 the value always will be wrapped in the IO monad). Another example is mutable arrays: after you have leaved the ST monad, where a mutable array live, you cannot update the array in constant time anymore. So we need a monadic filtering from the <code>Control.Monad</code> module:</p>\n\n<pre><code>filterM          :: (Monad m) =&gt; (a -&gt; m Bool) -&gt; [a] -&gt; m [a]\nfilterM _ []     =  return []\nfilterM p (x:xs) =  do\n   flg &lt;- p x\n   ys  &lt;- filterM p xs\n   return (if flg then x:ys else ys)\n</code></pre>\n\n<p><code>filterM</code> executes a monadic action for all elements from a list, yielding elements, for which the monadic action returns <code>True</code>.</p>\n\n<p>A filtering example with an array:</p>\n\n<pre><code>nub' xs = runST $ do\n        arr &lt;- newArray (1, 9) True :: ST s (STUArray s Int Bool)\n        let p i = readArray arr i &lt;* writeArray arr i False\n        filterM p xs\n\nmain = print $ nub' [1,2,4,5,4,3,1,8,9,4]\n</code></pre>\n\n<p>prints <code>[1,2,4,5,3,8,9]</code> as expected.</p>\n\n<p>And a version with the IO monad, which asks what elements to return:</p>\n\n<pre><code>main = filterM p [1,2,4,5] &gt;&gt;= print where\n    p i = putStrLn (\"return \" ++ show i ++ \"?\") *&gt; readLn\n</code></pre>\n\n<p>E.g.</p>\n\n<pre><code>return 1? -- output\nTrue      -- input\nreturn 2?\nFalse\nreturn 4?\nFalse\nreturn 5?\nTrue\n[1,5]     -- output\n</code></pre>\n\n<p>And as a final illustration, <code>filterAccum</code> can be defined in terms of <code>filterM</code>:</p>\n\n<pre><code>filterAccum f a xs = evalState (filterM (state . flip f) xs) a\n</code></pre>\n\n<p>with the <code>StateT</code> monad, that is used under the hood, being just an ordinary datatype.</p>\n\n<p>This example illustrates, that monads not only allow you to abstract computational context and write clean reusable code (due to the composability of monads, as @Carl explains), but also to treat user-defined datatypes and built-in primitives uniformly.</p>\n", "title": "Why do we need monads?", "answer_id": 28146074, "question_id": 28139259, "tags": ["haskell", "monads"]}, {"body": "<p><em>I don't think <code>IO</code> should be seen as a particularly outstanding monad, but it's certainly one of the more astounding ones for beginners, so I'll use it for my explanation.</em></p>\n\n<h2>Na&iuml;vely building an IO system for Haskell</h2>\n\n<p>The simplest conceivable IO system for a purely-functional language (and in fact the one Haskell started out with) is this:</p>\n\n<pre><code>main0 :: String -&gt; String\nmain0 _ = \"Hello World\"\n</code></pre>\n\n<p>With lazyness, that simple signature is enough to actually build interactive terminal programs &ndash; <em>very</em> limited, though. Most frustrating is that we can only output text. What if we added some more exciting output possibilities?</p>\n\n<pre><code>data Output = TxtOutput String\n            | Beep Double\n\nmain1 :: String -&gt; [Output]\nmain1 _ = [ TxtOutput \"Hello World\"\n          -- , Beep 440  -- for debugging\n          ]\n</code></pre>\n\n<p>cute, but of course a much more realistic &ldquo;alterative output&rdquo; would be <em>writing to a file</em>. But then you'd also want some way to <em>read from</em> files. Any chance?</p>\n\n<p>Well, when we take our <code>main1</code> program and simply <em>pipe a file to the process</em> (using operating system facilities), we have essentially implemented file-reading. If we could do that within the Haskell language...</p>\n\n<pre><code>readFile :: Filepath -&gt; (String -&gt; [Output]) -&gt; [Output]\n</code></pre>\n\n<p>This would use an &ldquo;interactive program&rdquo;, feed it a string obtained from a file, and yield a non-interactive program. There's one problem here: we don't really have a notion of <em>when</em> the file is read; the <code>[Output]</code> list sure gives a nice order to the outputs but we don't get an order for when the <em>inputs</em> will be done.</p>\n\n<p>Solution: allow inputs as well in the list of things to do.</p>\n\n<pre><code>data IO0 = TxtOut String\n         | TxtIn (String -&gt; [Output])\n         | FileWrite FilePath String\n         | FileRead FilePath (String -&gt; [Output])\n         | Beep Double\n\nmain2 :: String -&gt; [IO0]\nmain2 _ = [ FileRead \"/dev/null\" $ \\_ -&gt;\n             [TxtOutput \"Hello World\"]\n          ]\n</code></pre>\n\n<p>Ok, now you'll immediately spot an imbalance: you can read a file and depend output on it, but not other input. Obvious solution:</p>\n\n<pre><code>data IO1 = TxtOut String\n         | TxtIn (String -&gt; [IO1])\n      {- | FileWrite ...\n         | ...             -}\n\nmain3 :: String -&gt; [IO1]\nmain2 _ = [ TxtIn $ \\_ -&gt;\n             [TxtOut \"Hello World\"]\n          ]\n</code></pre>\n\n<p>That would now actually allow you to express any file operation you might want in a program (performance aside), but it's somewhat overcomplicated:</p>\n\n<ul>\n<li><p><code>main3</code> has the same signature as found in the <code>TxtIn</code> constructor. Why don't we simply use the signature <code>:: IO1</code>, which has this as a special case?</p></li>\n<li><p>The lists don't really give a reliable overview of program flow anymore: most subsequent computations will only be &ldquo;announced&rdquo; as the result of some input operation. So we might as well ditch the list structure, and simply cons a &ldquo;and then do&rdquo; to each output operation.</p></li>\n</ul>\n\n\n\n<pre><code>data IO2 = TxtOut String IO2\n         | TxtIn (String -&gt; IO2)\n         | Terminate\n\nmain4 :: IO2\nmain4 = TxtIn $ \\_ -&gt;\n         TxtOut \"Hello World\"\n          Terminate\n</code></pre>\n\n<p>Not too bad!</p>\n\n<h2>So what about monads?</h2>\n\n<p>In practice, you wouldn't want to use plain constructors to define all your programs. There would sure need to be a good couple of those for all fundamental operations, but for most higher-level stuff we would like to write a lowercase function with some nice signature. Turns out most of these would look quite similar:</p>\n\n<pre><code>getTime :: (UTCTime -&gt; IO2) -&gt; IO2\nrandomRIO :: Random r =&gt; (r,r) -&gt; (r -&gt; IO2) -&gt; IO2\nfindFile :: RegEx -&gt; (Maybe FilePath -&gt; IO2) -&gt; IO2\n</code></pre>\n\n<p>There's evidently a pattern here, and we'd better use</p>\n\n<pre><code>type IO3 a = (a -&gt; IO2) -&gt; IO2       -- Yup, it's Cont.\n\ngetTime :: IO3 UTCTime\nrandomRIO :: Random r =&gt; (r,r) -&gt; IO3 r\nfindFile :: RegEx -&gt; IO3 (Maybe FilePath)\n</code></pre>\n\n<p>Now that starts to look familiar, but we still have plain functions under the hood: each &ldquo;value-action&rdquo; has the responsibility of actually passing on the resulting action of any contained function. We'd better make that requirement explicit. Well, it turns out those are the monad laws, though I'm not sure we can really formulate them without the standard bind/join operators.</p>\n\n<p>At any rate, we've now reached a formulation of IO that has a proper monad instance:</p>\n\n<pre><code>data IO4 a = TxtOut String (IO4 a)\n           | TxtIn (String -&gt; IO4 a)\n           | TerminateWith a\n\ntxtOut :: String -&gt; IO4 ()\ntxtOut s = TxtOut s $ TerminateWith ()\n\ntxtIn :: IO4 String\ntxtIn = TxtIn $ TerminateWith\n\ninstance Functor IO4 where\n  fmap f (TerminateWith a) = TerminateWith $ f a\n  fmap f (TxtIn g) = TxtIn $ fmap f . g\n  fmap f (TxtOut s c) = TxtOut s $ fmap f c\n\ninstance Applicative IO4 where\n  pure = TerminateWith\n  (&lt;*&gt;) = ap\n\ninstance Monad IO4 where\n  TerminateWith x &gt;&gt;= f = f x\n  TxtOut s c &gt;&gt;= f = TxtOut s $ c &gt;&gt;= f\n  TxtIn g &gt;&gt;= f = TxtIn $ (&gt;&gt;=f) . g\n</code></pre>\n\n<p>Obviously this is not an efficient implementation of IO, but it's usable.</p>\n", "title": "Why do we need monads?", "answer_id": 28148780, "question_id": 28139259, "tags": ["haskell", "monads"]}, {"body": "<p>You need monads if you have a <strong>type constructor</strong> and <strong>functions that returns values of that type family</strong>. Eventually, you would like to <strong>combine these kind of functions together</strong>. These are the three key elements to answer <em>why</em>.</p>\n\n<p>Let me elaborate. You have <code>Int</code>, <code>String</code> and <code>Real</code> and functions of type <code>Int -&gt; String</code>, <code>String -&gt; Real</code> and so on. You can combine these functions easily, ending with <code>Int -&gt; Real</code>. Life is good. </p>\n\n<p>Then, one day, you need to create a <strong>new <em>family</em> of types</strong>. It could be because you need to consider the possibility of returning no value (<code>Maybe</code>), returning an error (<code>Either</code>), multiple results (<code>List</code>) and so on.</p>\n\n<p>Notice that <code>Maybe</code> is a type constructor. It takes a type, like <code>Int</code> and returns a new type <code>Maybe Int</code>. First thing to remember, <strong>no type constructor, no monad.</strong> </p>\n\n<p>Of course, <strong>you want to use your type constructor</strong> in your code, and soon you end with functions like <code>Int -&gt; Maybe String</code> and <code>String -&gt; Maybe Float</code>. Now, you can't easily combine your functions. Life is not good anymore.</p>\n\n<p>And here's when monads come to the rescue. They allow you to combine that kind of functions again. You just need to change the composition <strong>.</strong> for <strong>>==</strong>. </p>\n", "title": "Why do we need monads?", "answer_id": 28237600, "question_id": 28139259, "tags": ["haskell", "monads"]}, {"body": "<p><em>Monads</em> are just a convenient framework for solving a class of recurring problems. First, monads must be <em>functors</em> (i.e. must support mapping without looking at the elements (or their type)), they must also bring a <em>binding</em> (or chaining) operation and a way to create a monadic value from an element type (<code>return</code>). Finally, <code>bind</code> and <code>return</code> must satisfy two equations (left and right identities), also called the monad laws. (Alternatively one could define monads to have a <code>flattening operation</code> instead of binding.)</p>\n\n<p>The <em>list monad</em> is commonly used to deal with non-determinism. The bind operation selects one element of the list (intuitively all of them in <em>parallel worlds</em>), lets the programmer to do some computation with them, and then combines the results in all worlds to single list (by concatenating, or flattening, a nested list). Here is how one would define a permutation function in the monadic framework of Haskell:</p>\n\n<pre><code>perm [e] = [[e]]\nperm l = do (leader, index) &lt;- zip l [0 :: Int ..]\n            let shortened = take index l ++ drop (index + 1) l\n            trailer &lt;- perm shortened\n            return (leader : trailer)\n</code></pre>\n\n<p>Here is an example <em>repl</em> session:</p>\n\n<pre><code>*Main&gt; perm \"a\"\n[\"a\"]\n*Main&gt; perm \"ab\"\n[\"ab\",\"ba\"]\n*Main&gt; perm \"\"\n[]\n*Main&gt; perm \"abc\"\n[\"abc\",\"acb\",\"bac\",\"bca\",\"cab\",\"cba\"]\n</code></pre>\n\n<p>It should be noted that the list monad is in no way a side effecting computation. A mathematical structure being a monad (i.e. conforming to the above mentioned interfaces and laws) does not imply side effects, though side-effecting phenomena often nicely fit into the monadic framework.</p>\n", "title": "Why do we need monads?", "answer_id": 31590384, "question_id": 28139259, "tags": ["haskell", "monads"]}, {"body": "<p>Monads serve basically to compose functions together in a chain. Period.</p>\n\n<p>Now the way they compose differs across the existing monads, thus resulting in different behaviors (e.g., to simulate mutable state in the state monad).</p>\n\n<p>The confusion about monads is that being so general, i.e., a mechanism to compose functions, they can be used for many things, thus leading people to believe that monads are about state, about IO, etc, when they are only about \"composing functions\".</p>\n\n<p>Now, one interesting thing about monads, is that the result of the composition is always of type \"M a\", that is, a value inside an envelope tagged with \"M\". This feature happens to be really nice to implement, for example, a clear separation between pure from impure code: declare all impure actions as functions of type \"IO a\" and provide no function, when defining the IO monad, to take out the \"a\" value from inside the \"IO a\". The result is that no function can be pure and at the same time take out a value from an \"IO a\", because there is no way to take such value while staying pure (the function must be inside the \"IO\" monad to use such value). (NOTE: well, nothing is perfect, so the \"IO straitjacket\" can be broken using \"unsafePerformIO : IO a -> a\" thus polluting what was supposed to be a pure function, but this should be used very sparingly and when you really know to be not introducing any impure code with side-effects.</p>\n", "title": "Why do we need monads?", "answer_id": 37902770, "question_id": 28139259, "tags": ["haskell", "monads"]}], "question_id": 28139259}, {"body": "<p>So, the new beta SDK of iOS released last night has \"App Transport Security\" which encourages developers to use https instead of http. In principle, this is a great idea, and I already use https in our staging/production environments. However, I don't have https set up in my local development environment, when the iOS app is connecting to a web service I'm running on my laptop.</p>\n\n<p>From a bit of playing around this morning, it appears that the URL loading system will, even if you hand it an http URL, decide to use https instead. Does anyone know how to disable this behaviour -- even just for particular URLs?</p>\n", "title": "How do I load an HTTP URL with App Transport Security enabled in iOS 9?", "tags": ["ios", "url", "nsurl", "ios9", "app-transport-security"], "answer_count": 8, "link": "http://stackoverflow.com/questions/30731785/how-do-i-load-an-http-url-with-app-transport-security-enabled-in-ios-9", "answers": [{"body": "<p>See Apple\u2019s <a href=\"https://developer.apple.com/library/ios/documentation/General/Reference/InfoPlistKeyReference/Articles/CocoaKeys.html#//apple_ref/doc/uid/TP40009251-SW33\">Info.plist reference</a> for full details (thanks @gnasher729).</p>\n\n<p>You can add exceptions for specific domains in your Info.plist:</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;NSExceptionDomains&lt;/key&gt;\n    &lt;dict&gt;\n        &lt;key&gt;testdomain.com&lt;/key&gt;\n        &lt;dict&gt;\n            &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;\n            &lt;true/&gt;\n            &lt;key&gt;NSExceptionAllowsInsecureHTTPLoads&lt;/key&gt;\n            &lt;true/&gt;\n            &lt;key&gt;NSExceptionRequiresForwardSecrecy&lt;/key&gt;\n            &lt;true/&gt;\n            &lt;key&gt;NSExceptionMinimumTLSVersion&lt;/key&gt;\n            &lt;string&gt;TLSv1.2&lt;/string&gt;\n            &lt;key&gt;NSThirdPartyExceptionAllowsInsecureHTTPLoads&lt;/key&gt;\n            &lt;false/&gt;\n            &lt;key&gt;NSThirdPartyExceptionRequiresForwardSecrecy&lt;/key&gt;\n            &lt;true/&gt;\n            &lt;key&gt;NSThirdPartyExceptionMinimumTLSVersion&lt;/key&gt;\n            &lt;string&gt;TLSv1.2&lt;/string&gt;\n            &lt;key&gt;NSRequiresCertificateTransparency&lt;/key&gt;\n            &lt;false/&gt;\n        &lt;/dict&gt;\n    &lt;/dict&gt;\n&lt;/dict&gt;\n</code></pre>\n\n<p>All the keys for each excepted domain are optional. The speaker did not elaborate on any of the keys, but I think they\u2019re all reasonably obvious.</p>\n\n<p>(Source: <a href=\"https://developer.apple.com/videos/wwdc/2015/?id=703\">WWDC 2015 session 703, \u201cPrivacy and Your App\u201d</a>, 30:18)</p>\n\n<p>You can also ignore all app transport security restrictions with a single key, if your app has a good reason to do so:</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n    &lt;true/&gt;\n&lt;/dict&gt;\n</code></pre>\n\n<p>If your app does not have a good reason, you may risk rejection:</p>\n\n<blockquote>\n  <p>Setting NSAllowsArbitraryLoads to true will allow it to work, but Apple was very clear in that they intend to reject apps who use this flag without a specific reason. The main reason to use NSAllowsArbitraryLoads I can think of would be user created content (link sharing, custom web browser, etc). And in this case, Apple still expects you to include exceptions that enforce the ATS for the URLs you are in control of.</p>\n  \n  <p>If you do need access to specific URLs that are not served over TLS 1.2, you need to write specific exceptions for those domains, not use NSAllowsArbitraryLoads set to yes. You can find more info in the NSURLSesssion WWDC session.</p>\n  \n  <p>Please be careful in sharing the NSAllowsArbitraryLoads solution. It is not the recommended fix from Apple.</p>\n</blockquote>\n\n<p>\u2014 <a href=\"https://github.com/AFNetworking/AFNetworking/issues/2779#issuecomment-112030880\">kcharwood</a> (thanks @marco-tolman)</p>\n", "title": "How do I load an HTTP URL with App Transport Security enabled in iOS 9?", "answer_id": 30732693, "question_id": 30731785, "tags": ["ios", "url", "nsurl", "ios9", "app-transport-security"]}, {"body": "<p>As accepted answer has provided required info, and for more info about using and <a href=\"http://www.fiveminutewatchkit.com/blog/2015/6/9/how-to-disable-app-transport-security\">disabling App Transport Security one can find more on this</a>.</p>\n\n<p>For Per-Domain Exceptions add these to the <strong>Info.plist</strong>:</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n  &lt;key&gt;NSExceptionDomains&lt;/key&gt;\n  &lt;dict&gt;\n    &lt;key&gt;yourserver.com&lt;/key&gt;\n    &lt;dict&gt;\n      &lt;!--Include to allow subdomains--&gt;\n      &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;\n      &lt;true/&gt;\n      &lt;!--Include to allow HTTP requests--&gt;\n      &lt;key&gt;NSTemporaryExceptionAllowsInsecureHTTPLoads&lt;/key&gt;\n      &lt;true/&gt;\n      &lt;!--Include to specify minimum TLS version--&gt;\n      &lt;key&gt;NSTemporaryExceptionMinimumTLSVersion&lt;/key&gt;\n      &lt;string&gt;TLSv1.1&lt;/string&gt;\n    &lt;/dict&gt;\n  &lt;/dict&gt;\n&lt;/dict&gt;\n</code></pre>\n\n<p><strong>But What If I Don\u2019t Know All the Insecure Domains I Need to Use?</strong>\nUse following key in your <strong>Info.plist</strong></p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n  &lt;!--Include to allow all connections (DANGER)--&gt;\n  &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n      &lt;true/&gt;\n&lt;/dict&gt;\n</code></pre>\n\n<p><a href=\"http://ste.vn/2015/06/10/configuring-app-transport-security-ios-9-osx-10-11/\">For more detail you can get from this link.</a></p>\n", "title": "How do I load an HTTP URL with App Transport Security enabled in iOS 9?", "answer_id": 30751597, "question_id": 30731785, "tags": ["ios", "url", "nsurl", "ios9", "app-transport-security"]}, {"body": "<p>Compiling answers given by @adurdin and @User</p>\n\n<p>Add followings to your info.plist &amp; change <code>localhost.com</code> with your corresponding domain name, you can add multiple domains as well:</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n    &lt;true/&gt;\n    &lt;key&gt;NSExceptionDomains&lt;/key&gt;\n    &lt;dict&gt;\n        &lt;key&gt;localhost.com&lt;/key&gt;\n        &lt;dict&gt;\n            &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;\n            &lt;false/&gt;\n            &lt;key&gt;NSExceptionAllowsInsecureHTTPLoads&lt;/key&gt;\n            &lt;false/&gt;\n            &lt;key&gt;NSExceptionRequiresForwardSecrecy&lt;/key&gt;\n            &lt;true/&gt;\n            &lt;key&gt;NSExceptionMinimumTLSVersion&lt;/key&gt;\n            &lt;string&gt;TLSv1.2&lt;/string&gt;\n            &lt;key&gt;NSThirdPartyExceptionAllowsInsecureHTTPLoads&lt;/key&gt;\n            &lt;false/&gt;\n            &lt;key&gt;NSThirdPartyExceptionRequiresForwardSecrecy&lt;/key&gt;\n            &lt;true/&gt;\n            &lt;key&gt;NSThirdPartyExceptionMinimumTLSVersion&lt;/key&gt;\n            &lt;string&gt;TLSv1.2&lt;/string&gt;\n            &lt;key&gt;NSRequiresCertificateTransparency&lt;/key&gt;\n            &lt;false/&gt;\n        &lt;/dict&gt;\n    &lt;/dict&gt;\n&lt;/dict&gt;\n&lt;/plist&gt;\n</code></pre>\n\n<p>You info.plist must looks like this:</p>\n\n<p><a href=\"http://i.stack.imgur.com/HQmFL.png\"><img src=\"http://i.stack.imgur.com/HQmFL.png\" alt=\"enter image description here\"></a></p>\n", "title": "How do I load an HTTP URL with App Transport Security enabled in iOS 9?", "answer_id": 31921214, "question_id": 30731785, "tags": ["ios", "url", "nsurl", "ios9", "app-transport-security"]}, {"body": "<p>If you just want to disable App Transport Policy for local dev servers then the following solutions work well. It's useful when you're unable, or it's impractical, to set up HTTPS (e.g. when using the Google App Engine dev server).</p>\n\n<p>As others have said though, ATP should definitely not be turned off for production apps.</p>\n\n<h2>1) Use a different plist for Debug</h2>\n\n<p>Copy your Plist file and NSAllowsArbitraryLoads. Use this Plist for debugging.</p>\n\n<p><a href=\"http://i.stack.imgur.com/5WVxH.png\"><img src=\"http://i.stack.imgur.com/5WVxH.png\" alt=\"XCode Debug\"></a></p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n    &lt;true/&gt;\n&lt;/dict&gt;\n</code></pre>\n\n<h2>2) Exclude local servers</h2>\n\n<p>Alternatively, you can use a single plist file and exclude specific servers. However, <a href=\"http://stackoverflow.com/a/31454806/578821\">it doesn't look like you can exclude IP 4 addresses</a> so you might need to use the server name instead (found in System Preferences -> Sharing, or configured in your local DNS).</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;NSExceptionDomains&lt;/key&gt;\n    &lt;dict&gt;\n        &lt;key&gt;server.local&lt;/key&gt;\n        &lt;dict/&gt;\n        &lt;key&gt;NSExceptionAllowsInsecureHTTPLoads&lt;/key&gt;\n        &lt;true/&gt;\n    &lt;/dict&gt;\n&lt;/dict&gt;\n</code></pre>\n", "title": "How do I load an HTTP URL with App Transport Security enabled in iOS 9?", "answer_id": 32764234, "question_id": 30731785, "tags": ["ios", "url", "nsurl", "ios9", "app-transport-security"]}, {"body": "<p>Configurations above didn't work for me. I tried a lot of combinations of keys, this one work fine:</p>\n\n<p><a href=\"http://i.stack.imgur.com/vaw8U.png\"><img src=\"http://i.stack.imgur.com/vaw8U.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;NSExceptionDomains&lt;/key&gt;\n    &lt;dict&gt;\n        &lt;key&gt;mydomain.com&lt;/key&gt;\n        &lt;dict&gt;\n            &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;\n            &lt;true/&gt;\n            &lt;key&gt;NSExceptionAllowsInsecureHTTPLoads&lt;/key&gt;\n            &lt;true/&gt;\n            &lt;key&gt;NSExceptionRequiresForwardSecrecy&lt;/key&gt;\n            &lt;false/&gt;\n        &lt;/dict&gt;\n    &lt;/dict&gt;\n&lt;/dict&gt;\n</code></pre>\n", "title": "How do I load an HTTP URL with App Transport Security enabled in iOS 9?", "answer_id": 32779508, "question_id": 30731785, "tags": ["ios", "url", "nsurl", "ios9", "app-transport-security"]}, {"body": "<p>Followed it: <a href=\"http://stackoverflow.com/a/32631185/2905967\">http://stackoverflow.com/a/32631185/2905967</a></p>\n\n<p>I have solved it with adding some key in info.plist.\nThe steps I followed are:</p>\n\n<ol>\n<li><p>Opened my Projects <code>info.plist</code> file</p></li>\n<li><p>Added a Key called <code>NSAppTransportSecurity</code> as a <code>Dictionary</code>.</p></li>\n<li>Added a Subkey called <code>NSAllowsArbitraryLoads</code> as <code>Boolean</code> and set its value to <code>YES</code> as like following image.\n<a href=\"http://i.stack.imgur.com/CnBlN.png\"><img src=\"http://i.stack.imgur.com/CnBlN.png\" alt=\"enter image description here\"></a></li>\n</ol>\n\n<p>Clean the Project and Now Everything is Running fine as like before.</p>\n\n<p>Ref Link: <a href=\"http://stackoverflow.com/a/32609970\">http://stackoverflow.com/a/32609970</a></p>\n", "title": "How do I load an HTTP URL with App Transport Security enabled in iOS 9?", "answer_id": 32817873, "question_id": 30731785, "tags": ["ios", "url", "nsurl", "ios9", "app-transport-security"]}, {"body": "<p>I have solved as plist file. </p>\n\n<ol>\n<li>Add a NSAppTransportSecurity : Dictionary. </li>\n<li>Add Subkey named \" NSAllowsArbitraryLoads \" as Boolean : YES</li>\n</ol>\n\n<p><a href=\"http://i.stack.imgur.com/ou0wo.png\"><img src=\"http://i.stack.imgur.com/ou0wo.png\" alt=\"enter image description here\"></a></p>\n", "title": "How do I load an HTTP URL with App Transport Security enabled in iOS 9?", "answer_id": 33007661, "question_id": 30731785, "tags": ["ios", "url", "nsurl", "ios9", "app-transport-security"]}, {"body": "<p>Here's what worked for me:</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n    &lt;false/&gt;\n    &lt;key&gt;NSExceptionDomains&lt;/key&gt;\n    &lt;dict&gt;\n        &lt;key&gt;&lt;!-- your_remote_server.com / localhost --&gt;&lt;/key&gt;\n        &lt;dict&gt;\n            &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;\n            &lt;true/&gt;\n            &lt;key&gt;NSExceptionAllowsInsecureHTTPLoads&lt;/key&gt;\n            &lt;true/&gt;\n            &lt;key&gt;NSExceptionRequiresForwardSecrecy&lt;/key&gt;\n            &lt;true/&gt;\n        &lt;/dict&gt;\n    &lt;!-- add more domain here --&gt;\n    &lt;/dict&gt;\n&lt;/dict&gt;\n</code></pre>\n\n<p>I just wanna add this to help others and save some time:</p>\n\n<p>if you are using: <code>CFStreamCreatePairWithSocketToHost</code>. make sure your <code>host</code> is the same with what you have in your <code>.plist</code> or if you have separate domain for socket just add it there.</p>\n\n<pre><code>CFStreamCreatePairWithSocketToHost(NULL, (__bridge CFStringRef)/*from .plist*/, (unsigned int)port, &amp;readStream, &amp;writeStream);\n</code></pre>\n\n<p>Hope this is helpful. Cheers. :)</p>\n", "title": "How do I load an HTTP URL with App Transport Security enabled in iOS 9?", "answer_id": 33210575, "question_id": 30731785, "tags": ["ios", "url", "nsurl", "ios9", "app-transport-security"]}], "question_id": 30731785}, {"body": "<p>When comparing floats to integers, some pairs of values take much longer to be evaluated than other values of a similar magnitude.</p>\n\n<p>For example:</p>\n\n<pre><code>&gt;&gt;&gt; import timeit\n&gt;&gt;&gt; timeit.timeit(\"562949953420000.7 &lt; 562949953421000\") # run 1 million times\n0.5387085462592742\n</code></pre>\n\n<p>But if the float or integer is made smaller or larger by a certain amount, the comparison runs much more quickly:</p>\n\n<pre><code>&gt;&gt;&gt; timeit.timeit(\"562949953420000.7 &lt; 562949953422000\") # integer increased by 1000\n0.1481498428446173\n&gt;&gt;&gt; timeit.timeit(\"562949953423001.8 &lt; 562949953421000\") # float increased by 3001.1\n0.1459577925548956\n</code></pre>\n\n<p>Changing the comparison operator (e.g. using <code>==</code> or <code>&gt;</code> instead) does not affect the times in any noticeable way. </p>\n\n<p>This is not <em>solely</em> related to magnitude because picking larger or smaller values can result in faster comparisons, so I suspect it is down to some unfortunate way the bits line up. </p>\n\n<p>Clearly, comparing these values is more than fast enough for most use cases. I am simply curious as to why Python seems to struggle more with some pairs of values than with others.</p>\n", "title": "Why are some float &lt; integer comparisons four times slower than others?", "tags": ["python", "performance", "floating-point", "cpython", "python-internals"], "answer_count": 2, "link": "http://stackoverflow.com/questions/30100725/why-are-some-float-integer-comparisons-four-times-slower-than-others", "answers": [{"body": "<p>A comment in the Python source code for float objects acknowledges that:</p>\n\n<blockquote>\n  <p><a href=\"https://hg.python.org/cpython/file/ea33b61cac74/Objects/floatobject.c#l285\">Comparison is pretty much a nightmare</a></p>\n</blockquote>\n\n<p>This is especially true when comparing a float to an integer, because, unlike floats, integers in Python can be arbitrarily large and are always exact. Trying to cast the integer to a float might lose precision and make the comparison inaccurate. Trying to cast the float to an integer is not going to work either because any fractional part will be lost.</p>\n\n<p>To get around this problem, Python performs a series of checks, returning the result if one of the checks succeeds. It compares the signs of the two values, then whether the integer is \"too big\" to be a float, then compares the exponent of the float to the length of the integer. If all of these checks fail, it is necessary to construct two new Python objects to compare in order to obtain the result.</p>\n\n<p>When comparing a float <code>v</code> to an integer/long <code>w</code>, the worst case is that:</p>\n\n<ul>\n<li><code>v</code> and <code>w</code> have the same sign (both positive or both negative),</li>\n<li>the integer <code>w</code> has few enough bits that it can be held in the <a href=\"http://stackoverflow.com/a/2550799/3923281\"><code>size_t</code></a> type (typically 32 or 64 bits),</li>\n<li>the integer <code>w</code> has at least 49 bits,</li>\n<li>the exponent of the float <code>v</code> is the same as the number of bits in <code>w</code>.</li>\n</ul>\n\n<p>And this is exactly what we have for the values in the question:</p>\n\n<pre><code>&gt;&gt;&gt; import math\n&gt;&gt;&gt; math.frexp(562949953420000.7) # gives the float's (significand, exponent) pair\n(0.9999999999976706, 49)\n&gt;&gt;&gt; (562949953421000).bit_length()\n49\n</code></pre>\n\n<p>We see that 49 is both the exponent of the float and the number of bits in the integer. Both numbers are positive and so the four criteria above are met.</p>\n\n<p>Choosing one of the values to be larger (or smaller) can change the number of bits of the integer, or the value of the exponent, and so Python is able to determine the result of the comparison without performing the expensive final check.</p>\n\n<p>This is specific to the CPython implementation of the language.</p>\n\n<hr>\n\n<h3>The comparison in more detail</h3>\n\n<p>The <a href=\"https://hg.python.org/cpython/file/ea33b61cac74/Objects/floatobject.c#l301\"><code>float_richcompare</code></a> function handles the comparison between two values <code>v</code> and <code>w</code>.</p>\n\n<p>Below is a step-by-step description of the checks that the function performs. The comments in the Python source are actually very helpful when trying to understand what the function does, so I've left them in where relevant. I've also summarised these checks in a list at the foot of the answer.</p>\n\n<p>The main idea is to map the Python objects <code>v</code> and <code>w</code> to two appropriate C doubles, <code>i</code> and <code>j</code>, which can then be easily compared to give the correct result. Both Python 2 and Python 3 use the same ideas to do this (the former just handles <code>int</code> and <code>long</code> types separately).</p>\n\n<p>The first thing to do is check that <code>v</code> is definitely a Python float and map it to a C double <code>i</code>. Next the function looks at whether <code>w</code> is also a float and maps it to a C double <code>j</code>. This is the best case scenario for the function as all the other checks can be skipped. The function also checks to see whether <code>v</code> is <code>inf</code> or <code>nan</code>: </p>\n\n<pre class=\"lang-C prettyprint-override\"><code>static PyObject*\nfloat_richcompare(PyObject *v, PyObject *w, int op)\n{\n    double i, j;\n    int r = 0;\n    assert(PyFloat_Check(v));       \n    i = PyFloat_AS_DOUBLE(v);       \n\n    if (PyFloat_Check(w))           \n        j = PyFloat_AS_DOUBLE(w);   \n\n    else if (!Py_IS_FINITE(i)) {\n        if (PyLong_Check(w))\n            j = 0.0;\n        else\n            goto Unimplemented;\n    }\n</code></pre>\n\n<p>Now we know that if <code>w</code> failed these checks, it is not a Python float. Now the function checks if it's a Python integer. If this is the case, the easiest test is to extract the sign of <code>v</code> and the sign of <code>w</code> (return <code>0</code> if zero, <code>-1</code> if negative, <code>1</code> if positive). If the signs are different, this is all the information needed to return the result of the comparison:</p>\n\n<pre class=\"lang-C prettyprint-override\"><code>    else if (PyLong_Check(w)) {\n        int vsign = i == 0.0 ? 0 : i &lt; 0.0 ? -1 : 1;\n        int wsign = _PyLong_Sign(w);\n        size_t nbits;\n        int exponent;\n\n        if (vsign != wsign) {\n            /* Magnitudes are irrelevant -- the signs alone\n             * determine the outcome.\n             */\n            i = (double)vsign;\n            j = (double)wsign;\n            goto Compare;\n        }\n    }   \n</code></pre>\n\n<p>If this check failed, then <code>v</code> and <code>w</code> have the same sign. </p>\n\n<p>The next check counts the number of bits in the integer <code>w</code>. If it has too many bits then it can't possibly be held as a float and so must be larger in magnitude than the float <code>v</code>:</p>\n\n<pre class=\"lang-C prettyprint-override\"><code>    nbits = _PyLong_NumBits(w);\n    if (nbits == (size_t)-1 &amp;&amp; PyErr_Occurred()) {\n        /* This long is so large that size_t isn't big enough\n         * to hold the # of bits.  Replace with little doubles\n         * that give the same outcome -- w is so large that\n         * its magnitude must exceed the magnitude of any\n         * finite float.\n         */\n        PyErr_Clear();\n        i = (double)vsign;\n        assert(wsign != 0);\n        j = wsign * 2.0;\n        goto Compare;\n    }\n</code></pre>\n\n<p>On the other hand, if the integer <code>w</code> has 48 or fewer bits, it can safely turned in a C double <code>j</code> and compared:</p>\n\n<pre class=\"lang-C prettyprint-override\"><code>    if (nbits &lt;= 48) {\n        j = PyLong_AsDouble(w);\n        /* It's impossible that &lt;= 48 bits overflowed. */\n        assert(j != -1.0 || ! PyErr_Occurred());\n        goto Compare;\n    }\n</code></pre>\n\n<p>From this point onwards, we know that <code>w</code> has 49 or more bits. It will be convenient to treat <code>w</code> as a positive integer, so change the sign and the comparison operator as necessary:</p>\n\n<pre class=\"lang-C prettyprint-override\"><code>    if (nbits &lt;= 48) {\n        /* \"Multiply both sides\" by -1; this also swaps the\n         * comparator.\n         */\n        i = -i;\n        op = _Py_SwappedOp[op];\n    }\n</code></pre>\n\n<p>Now the function looks at the exponent of the float. Recall that a float can be written (ignoring sign) as significand * 2<sup>exponent</sup> and that the significand represents a number between 0.5 and 1:</p>\n\n<pre class=\"lang-C prettyprint-override\"><code>    (void) frexp(i, &amp;exponent);\n    if (exponent &lt; 0 || (size_t)exponent &lt; nbits) {\n        i = 1.0;\n        j = 2.0;\n        goto Compare;\n    }\n</code></pre>\n\n<p>This checks two things. If the exponent is less than 0 then the float is smaller than 1 (and so smaller in magnitude than any integer). Or, if the exponent is less than the number of bits in <code>w</code> then we have that <code>v &lt; |w|</code> since significand * 2<sup>exponent</sup> is less than 2<sup>nbits</sup>. </p>\n\n<p>Failing these two checks, the function looks to see whether the exponent is greater than the number of bit in <code>w</code>. This shows that significand * 2<sup>exponent</sup> is greater than 2<sup>nbits</sup> and so <code>v &gt; |w|</code>:</p>\n\n<pre class=\"lang-C prettyprint-override\"><code>    if ((size_t)exponent &gt; nbits) {\n        i = 2.0;\n        j = 1.0;\n        goto Compare;\n    }\n</code></pre>\n\n<p>If this check did not succeed we know that the exponent of the float <code>v</code> is the same as the number of bits in the integer <code>w</code>.</p>\n\n<p>The only way that the two values can be compared now is to construct two new Python integers from <code>v</code> and <code>w</code>. The idea is to discard the fractional part of <code>v</code>, double the integer part, and then add one. <code>w</code> is also doubled and these two new Python objects can be compared to give the correct return value. Using an example with small values, <code>4.65 &lt; 4</code> would be determined by the comparison <code>(2*4)+1 == 9 &lt; 8 == (2*4)</code> (returning false).</p>\n\n<pre class=\"lang-C prettyprint-override\"><code>    {\n        double fracpart;\n        double intpart;\n        PyObject *result = NULL;\n        PyObject *one = NULL;\n        PyObject *vv = NULL;\n        PyObject *ww = w;\n\n        // snip\n\n        fracpart = modf(i, &amp;intpart); // split i (the double that v mapped to)\n        vv = PyLong_FromDouble(intpart);\n\n        // snip\n\n        if (fracpart != 0.0) {\n            /* Shift left, and or a 1 bit into vv\n             * to represent the lost fraction.\n             */\n            PyObject *temp;\n\n            one = PyLong_FromLong(1);\n\n            temp = PyNumber_Lshift(ww, one); // left-shift doubles an integer\n            ww = temp;\n\n            temp = PyNumber_Lshift(vv, one);\n            vv = temp;\n\n            temp = PyNumber_Or(vv, one); // a doubled integer is even, so this adds 1\n            vv = temp;\n        }\n        // snip\n    }\n}\n</code></pre>\n\n<p>For brevity I've left out the additional error-checking and garbage-tracking Python has to do when it creates these new objects. Needless to say, this adds additional overhead and explains why the values highlighted in the question are significantly slower to compare than others.</p>\n\n<hr>\n\n<p>Here is a summary of the checks that are performed by the comparison function.</p>\n\n<p>Let <code>v</code> be a float and cast it as a C double. Now, if <code>w</code> is also a float:</p>\n\n<ul>\n<li><p>Check whether <code>w</code> is <code>nan</code> or <code>inf</code>. If so, handle this special case separately depending on the type of <code>w</code>.</p></li>\n<li><p>If not, compare <code>v</code> and <code>w</code> directly by their representations as C doubles.</p></li>\n</ul>\n\n<p>If <code>w</code> is an integer:</p>\n\n<ul>\n<li><p>Extract the signs of <code>v</code> and <code>w</code>. If they are different then we know <code>v</code> and <code>w</code> are different and which is the greater value.</p></li>\n<li><p>(<em>The signs are the same.</em>) Check whether <code>w</code> has too many bits to be a float (more than <code>size_t</code>). If so, <code>w</code> has greater magnitude than <code>v</code>.</p></li>\n<li><p>Check if <code>w</code> has 48 or fewer bits. If so, it can be safely cast to a C double without losing its precision and compared with <code>v</code>.</p></li>\n<li><p>(<em><code>w</code> has more than 48 bits. We will now treat <code>w</code> as a positive integer having changed the compare op as appropriate.</em>) </p></li>\n<li><p>Consider the exponent of the float <code>v</code>. If the exponent is negative, then <code>v</code> is less than <code>1</code> and therefore less than any positive integer. Else, if the exponent is less than the number of bits in <code>w</code> then it must be less than <code>w</code>.</p></li>\n<li><p>If the exponent of <code>v</code> is greater than the number of bits in <code>w</code> then <code>v</code> is greater than <code>w</code>.</p></li>\n<li><p>(<em>The exponent is the same as the number of bits in <code>w</code>.</em>)</p></li>\n<li><p>The final check. Split <code>v</code> into its integer and fractional parts. Double the integer part and add 1 to compensate for the fractional part. Now double the integer <code>w</code>. Compare these two new integers instead to get the result.</p></li>\n</ul>\n", "title": "Why are some float &lt; integer comparisons four times slower than others?", "answer_id": 30100743, "question_id": 30100725, "tags": ["python", "performance", "floating-point", "cpython", "python-internals"]}, {"body": "<p>Using <code>gmpy2</code> with arbitrary precision floats and integers it is possible to get more uniform comparison performance:</p>\n\n<pre><code>~ $ ptipython\nPython 3.5.1 |Anaconda 4.0.0 (64-bit)| (default, Dec  7 2015, 11:16:01) \nType \"copyright\", \"credits\" or \"license\" for more information.\n\nIPython 4.1.2 -- An enhanced Interactive Python.\n?         -&gt; Introduction and overview of IPython's features.\n%quickref -&gt; Quick reference.\nhelp      -&gt; Python's own help system.\nobject?   -&gt; Details about 'object', use 'object??' for extra details.\n\nIn [1]: import gmpy2\n\nIn [2]: from gmpy2 import mpfr\n\nIn [3]: from gmpy2 import mpz\n\nIn [4]: gmpy2.get_context().precision=200\n\nIn [5]: i1=562949953421000\n\nIn [6]: i2=562949953422000\n\nIn [7]: f=562949953420000.7\n\nIn [8]: i11=mpz('562949953421000')\n\nIn [9]: i12=mpz('562949953422000')\n\nIn [10]: f1=mpfr('562949953420000.7')\n\nIn [11]: f&lt;i1\nOut[11]: True\n\nIn [12]: f&lt;i2\nOut[12]: True\n\nIn [13]: f1&lt;i11\nOut[13]: True\n\nIn [14]: f1&lt;i12\nOut[14]: True\n\nIn [15]: %timeit f&lt;i1\nThe slowest run took 10.15 times longer than the fastest. This could mean that an intermediate result is being cached.\n1000000 loops, best of 3: 441 ns per loop\n\nIn [16]: %timeit f&lt;i2\nThe slowest run took 12.55 times longer than the fastest. This could mean that an intermediate result is being cached.\n10000000 loops, best of 3: 152 ns per loop\n\nIn [17]: %timeit f1&lt;i11\nThe slowest run took 32.04 times longer than the fastest. This could mean that an intermediate result is being cached.\n1000000 loops, best of 3: 269 ns per loop\n\nIn [18]: %timeit f1&lt;i12\nThe slowest run took 36.81 times longer than the fastest. This could mean that an intermediate result is being cached.\n1000000 loops, best of 3: 231 ns per loop\n\nIn [19]: %timeit f&lt;i11\nThe slowest run took 78.26 times longer than the fastest. This could mean that an intermediate result is being cached.\n10000000 loops, best of 3: 156 ns per loop\n\nIn [20]: %timeit f&lt;i12\nThe slowest run took 21.24 times longer than the fastest. This could mean that an intermediate result is being cached.\n10000000 loops, best of 3: 194 ns per loop\n\nIn [21]: %timeit f1&lt;i1\nThe slowest run took 37.61 times longer than the fastest. This could mean that an intermediate result is being cached.\n1000000 loops, best of 3: 275 ns per loop\n\nIn [22]: %timeit f1&lt;i2\nThe slowest run took 39.03 times longer than the fastest. This could mean that an intermediate result is being cached.\n1000000 loops, best of 3: 259 ns per loop\n</code></pre>\n", "title": "Why are some float &lt; integer comparisons four times slower than others?", "answer_id": 36638366, "question_id": 30100725, "tags": ["python", "performance", "floating-point", "cpython", "python-internals"]}], "question_id": 30100725}, {"body": "<p>In order to turn off linting rule for a particular line in JSHint we use the following rule:</p>\n\n<pre><code>/* jshint ignore:start*/\n$scope.someVar = ConstructorFunction();\n/* jshint ignore:end */\n</code></pre>\n\n<p>I have been trying to locate the equivalent of the above for eslint. \nI didn't find it in eslint docs or by googling it. </p>\n\n<p>I know that turning off the \"capIsNew\" flag will work in my case, but I don't want to turn the option off at project level.</p>\n", "title": "Turning off eslint rule for a specific line", "tags": ["javascript", "jshint", "eslint"], "answer_count": 4, "link": "http://stackoverflow.com/questions/27732209/turning-off-eslint-rule-for-a-specific-line", "answers": [{"body": "<p>You can use the following</p>\n\n<pre><code>/*eslint-disable */\n\n//suppress all warnings between comments\nalert('foo');\n\n/*eslint-enable */\n</code></pre>\n\n<p>Which is slightly buried the \"configuring rules\" section of the <a href=\"http://eslint.org/docs/configuring/\">docs</a>;</p>\n\n<p>To disable a warning for an entire file, you can include a comment at the top of the file e.g. </p>\n\n<pre><code>/*eslint eqeqeq:0*/\n</code></pre>\n\n<h2>Update</h2>\n\n<p>ESlint has now been updated with a better way disable a single line, see @goofballLogic's <a href=\"http://stackoverflow.com/a/29592334/437\">excellent answer</a>.</p>\n", "title": "Turning off eslint rule for a specific line", "answer_id": 27732264, "question_id": 27732209, "tags": ["javascript", "jshint", "eslint"]}, {"body": "<p>You can use the single line syntax now:</p>\n\n<pre><code>var thing = new Thing(); // eslint-disable-line no-use-before-define\nthing.sayHello();\n\nfunction Thing() {\n\n     this.sayHello = function() { console.log(\"hello\"); };\n\n}\n</code></pre>\n\n<p>Or if you don't want to have a comment on the same line with the actual code, it is possible to disable next line:</p>\n\n<pre><code>// eslint-disable-next-line no-use-before-define\nvar thing = new Thing();\n</code></pre>\n\n<p>Requested docs link: <a href=\"http://eslint.org/docs/user-guide/configuring.html#configuring-rules\">http://eslint.org/docs/user-guide/configuring.html#configuring-rules</a></p>\n", "title": "Turning off eslint rule for a specific line", "answer_id": 29592334, "question_id": 27732209, "tags": ["javascript", "jshint", "eslint"]}, {"body": "<p>You can also disable a <strong>specific rule/rules</strong> (rather than all) by specifying them in the enable (open) and disable (close) blocks:</p>\n\n<pre><code>/*eslint-disable no-alert, no-console */\n\nalert('foo');\nconsole.log('bar');\n\n/*eslint-enable no-alert */\n</code></pre>\n\n<p>via @goofballMagic's link above: <a href=\"http://eslint.org/docs/user-guide/configuring.html#configuring-rules\">http://eslint.org/docs/user-guide/configuring.html#configuring-rules</a></p>\n", "title": "Turning off eslint rule for a specific line", "answer_id": 34678386, "question_id": 27732209, "tags": ["javascript", "jshint", "eslint"]}, {"body": "<p>The general end of line comment, <code>// eslint-disable-line</code>, does not need anything after it: no need to look up a code to specify what you wish ES Lint to ignore.</p>\n\n<p>If you need to have any syntax ignored for any reason other than a quick debugging, you have problems: why not update your delint config?</p>\n\n<p>I enjoy <code>// eslint-disable-line</code> to allow me to insert <code>console</code> for a quick inspection of a service, without my development environment holding me back because of the breach of protocol. (I generally ban <code>console</code>, and use a logging class - which sometimes builds upon <code>console</code>.)</p>\n", "title": "Turning off eslint rule for a specific line", "answer_id": 35015622, "question_id": 27732209, "tags": ["javascript", "jshint", "eslint"]}], "question_id": 27732209}, {"body": "<p>Embarcadero's Delphi compilers use an LLVM backend to produce native ARM code for Android devices. I have large amounts of Pascal code that I need to compile into Android applications and I would like to know how to make Delphi generate more efficient code. Right now, I'm not even talking about advanced features like automatic SIMD optimizations, just about producing reasonable code. Surely there must be a way to pass parameters to the LLVM side, or somehow affect the result? Usually, any compiler will have many options to affect code compilation and optimization, but Delphi's ARM targets seem to be just \"optimization on/off\" and that's it.</p>\n\n<p>LLVM is supposed to be capable of producing reasonably tight and sensible code, but it seems that Delphi is using its facilities in a weird way. Delphi wants to use the stack very heavily, and it generally only utilizes the processor's registers r0-r3 as temporary variables. Perhaps the craziest of all, it seems to be loading normal 32 bit integers as four 1-byte load operations. How to make Delphi produce better ARM code, and without the byte-by-byte hassle it is making for Android? </p>\n\n<p>At first I thought the byte-by-byte loading was for swapping byte order from big-endian, but that was not the case, it is really just loading a 32 bit number with 4 single-byte loads.*  It might be to load the full 32 bits without doing an unaligned word-sized memory load. (whether it SHOULD avoid that is another thing, which would hint to the whole thing being a compiler bug)*</p>\n\n<p>Let's look at this simple function:</p>\n\n<pre class=\"lang-pascal prettyprint-override\"><code>function ReadInteger(APInteger : PInteger) : Integer;\nbegin\n  Result := APInteger^;\nend;\n</code></pre>\n\n<p>Even with optimizations switched on, Delphi XE7 with update pack 1, as well as XE6, produce the following ARM assembly code for that function:</p>\n\n<pre class=\"lang-asm prettyprint-override\"><code>Disassembly of section .text._ZN16Uarmcodetestform11ReadIntegerEPi:\n\n00000000 &lt;_ZN16Uarmcodetestform11ReadIntegerEPi&gt;:\n   0:   b580        push    {r7, lr}\n   2:   466f        mov r7, sp\n   4:   b083        sub sp, #12\n   6:   9002        str r0, [sp, #8]\n   8:   78c1        ldrb    r1, [r0, #3]\n   a:   7882        ldrb    r2, [r0, #2]\n   c:   ea42 2101   orr.w   r1, r2, r1, lsl #8\n  10:   7842        ldrb    r2, [r0, #1]\n  12:   7803        ldrb    r3, [r0, #0]\n  14:   ea43 2202   orr.w   r2, r3, r2, lsl #8\n  18:   ea42 4101   orr.w   r1, r2, r1, lsl #16\n  1c:   9101        str r1, [sp, #4]\n  1e:   9000        str r0, [sp, #0]\n  20:   4608        mov r0, r1\n  22:   b003        add sp, #12\n  24:   bd80        pop {r7, pc}\n</code></pre>\n\n<p>Just count the number of instructions and memory accesses Delphi needs for that. And constructing a 32 bit integer from 4 single-byte loads... If I change the function a little bit and use a var parameter instead of a pointer, it is slightly less convoluted:</p>\n\n<pre class=\"lang-asm prettyprint-override\"><code>Disassembly of section .text._ZN16Uarmcodetestform14ReadIntegerVarERi:\n\n00000000 &lt;_ZN16Uarmcodetestform14ReadIntegerVarERi&gt;:\n   0:   b580        push    {r7, lr}\n   2:   466f        mov r7, sp\n   4:   b083        sub sp, #12\n   6:   9002        str r0, [sp, #8]\n   8:   6801        ldr r1, [r0, #0]\n   a:   9101        str r1, [sp, #4]\n   c:   9000        str r0, [sp, #0]\n   e:   4608        mov r0, r1\n  10:   b003        add sp, #12\n  12:   bd80        pop {r7, pc}\n</code></pre>\n\n<p>I won't include the disassembly here, but for iOS, Delphi produces identical code for the pointer and var parameter versions, and they are almost but not exactly the same as the Android var parameter version. \n<em>Edit: to clarify, the byte-by-byte loading is only on Android. And only on Android, the pointer and var parameter versions differ from each other. On iOS both versions generate exactly the same code.</em></p>\n\n<p>For comparison, here's what FPC 2.7.1 (SVN trunk version from March 2014) thinks of the function with optimization level -O2. The pointer and var parameter versions are exactly the same.</p>\n\n<pre class=\"lang-asm prettyprint-override\"><code>Disassembly of section .text.n_p$armcodetest_$$_readinteger$pinteger$$longint:\n\n00000000 &lt;P$ARMCODETEST_$$_READINTEGER$PINTEGER$$LONGINT&gt;:\n\n   0:   6800        ldr r0, [r0, #0]\n   2:   46f7        mov pc, lr\n</code></pre>\n\n<p>I also tested an equivalent C function with the C compiler that comes with the Android NDK.</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>int ReadInteger(int *APInteger)\n{\n    return *APInteger;\n}\n</code></pre>\n\n<p>And this compiles into essentially the same thing FPC made:</p>\n\n<pre class=\"lang-asm prettyprint-override\"><code>Disassembly of section .text._Z11ReadIntegerPi:\n\n00000000 &lt;_Z11ReadIntegerPi&gt;:\n   0:   6800        ldr r0, [r0, #0]\n   2:   4770        bx  lr\n</code></pre>\n", "title": "How to affect Delphi XEx code generation for Android/ARM targets?", "tags": ["android", "delphi", "android-ndk", "arm", "llvm"], "answer_count": 1, "link": "http://stackoverflow.com/questions/27946387/how-to-affect-delphi-xex-code-generation-for-android-arm-targets", "answers": [{"body": "<blockquote>\n  <p>We are investigating the issue. In short, it depends on the potential mis-alignment (to 32 boundary) of the Integer referenced by a pointer. Need a little more time to have all of the answers... and a plan to address this.</p>\n  \n  <p><em>Marco Cant\u00f9, moderator on <a href=\"https://plus.google.com/116741183961858352601/posts/aw3Beve3nAu\" rel=\"nofollow\">Delphi Developers</a></em></p>\n</blockquote>\n\n<p>Also reference <a href=\"http://stackoverflow.com/questions/27821277/why-are-the-delphi-zlib-and-zip-libraries-so-slow-under-64-bit\">Why are the Delphi zlib and zip libraries so slow under 64 bit?</a> as Win64 libraries are shipped built without optimizations.</p>\n", "title": "How to affect Delphi XEx code generation for Android/ARM targets?", "answer_id": 38582072, "question_id": 27946387, "tags": ["android", "delphi", "android-ndk", "arm", "llvm"]}], "question_id": 27946387}, {"body": "<p>Tried to perform REST GET through python requests with the following code and I got error.</p>\n\n<p>Code snip:</p>\n\n<pre><code>import requests\nheader = {'Authorization': 'Bearer...'}\nurl = az_base_url + az_subscription_id + '/resourcegroups/Default-Networking/resources?' + az_api_version\nr = requests.get(url, headers=header)\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>/usr/local/lib/python2.7/dist-packages/requests/packages/urllib3/util/ssl_.py:79: \n          InsecurePlatformWarning: A true SSLContext object is not available. \n          This prevents urllib3 from configuring SSL appropriately and may cause certain SSL connections to fail. \n          For more information, see https://urllib3.readthedocs.org/en/latest/security.html#insecureplatformwarning.\n  InsecurePlatformWarning\n</code></pre>\n\n<p>My python version is 2.7.3. I tried to install urllib3 and requests[security] as some other thread suggests, I still got the same error.</p>\n\n<p>Wonder if anyone can provide some tips?</p>\n", "title": "InsecurePlatformWarning: A true SSLContext object is not available. This prevents urllib3 from configuring SSL appropriately", "tags": ["python", "rest", "ssl"], "answer_count": 2, "link": "http://stackoverflow.com/questions/29134512/insecureplatformwarning-a-true-sslcontext-object-is-not-available-this-prevent", "answers": [{"body": "<p>If you are <strong>not able to upgrade</strong> your Python version to 2.7.9, and want to suppress warnings, </p>\n\n<p>you can <strong>downgrade your 'requests'</strong> version to 2.5.3:</p>\n\n<pre><code>sudo pip install requests==2.5.3\n</code></pre>\n\n<p>About version:\n<a href=\"http://fossies.org/diffs/requests/2.5.3_vs_2.6.0/requests/packages/urllib3/util/ssl_.py-diff.html\">http://fossies.org/diffs/requests/2.5.3_vs_2.6.0/requests/packages/urllib3/util/ssl_.py-diff.html</a></p>\n", "title": "InsecurePlatformWarning: A true SSLContext object is not available. This prevents urllib3 from configuring SSL appropriately", "answer_id": 29154908, "question_id": 29134512, "tags": ["python", "rest", "ssl"]}, {"body": "<p><a href=\"https://urllib3.readthedocs.org/en/latest/security.html#pyopenssl\">The docs give a fair indicator of what's required.</a>, however <code>requests</code> allow us to skip a few steps:</p>\n\n<p>You only need to install the <code>security</code> <a href=\"https://github.com/kennethreitz/requests/blob/5a799dd0f505e6c6c2ff67e227f6a3d25c086342/setup.py#L71\">package extras</a> (thanks @admdrew for pointing it out)</p>\n\n<pre><code>$ pip install requests[security]\n</code></pre>\n\n<p>or, install them directly:</p>\n\n<pre><code>$ pip install pyopenssl ndg-httpsclient pyasn1\n</code></pre>\n\n<p><a href=\"https://github.com/kennethreitz/requests/blob/a57c87a459d51c5b17d20285109e901b8aa95752/requests/__init__.py#L54\">Requests will then automatically inject <code>pyopenssl</code> into <code>urllib3</code></a></p>\n\n<hr>\n\n<p>If you're on ubuntu, you may run into trouble installing  <code>pyopenssl</code>, you'll need these dependencies:</p>\n\n<pre><code>$ apt-get install libffi-dev libssl-dev\n</code></pre>\n", "title": "InsecurePlatformWarning: A true SSLContext object is not available. This prevents urllib3 from configuring SSL appropriately", "answer_id": 29202163, "question_id": 29134512, "tags": ["python", "rest", "ssl"]}], "question_id": 29134512}, {"body": "<p>I have below a simple program:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\n#define INT32_MIN        (-0x80000000)\n\nint main(void) \n{\n    long long bal = 0;\n\n    if(bal &lt; INT32_MIN )\n    {\n        printf(\"Failed!!!\");\n    }\n    else\n    {\n        printf(\"Success!!!\");\n    }\n    return 0;\n}\n</code></pre>\n\n<p>The condition <code>if(bal &lt; INT32_MIN )</code> is always true. How is it possible?</p>\n\n<p>It works fine if I change the macro to:</p>\n\n<pre><code>#define INT32_MIN        (-2147483648L)\n</code></pre>\n\n<p>Can anyone point out the issue?</p>\n", "title": "Why is 0 &lt; -0x80000000?", "tags": ["c", "signed", "numeric-limits", "numeric-conversion"], "answer_count": 6, "link": "http://stackoverflow.com/questions/34182672/why-is-0-0x80000000", "answers": [{"body": "<p><code>0x80000000</code> is an <code>unsigned</code> literal with value 2147483648.</p>\n\n<p>Applying the unary minus on this <em>still</em> gives you an unsigned type with a non-zero value. (In fact, for a non-zero value <code>x</code>, the value you end up with is <code>UINT_MAX - x + 1</code>.)</p>\n", "title": "Why is 0 &lt; -0x80000000?", "answer_id": 34182933, "question_id": 34182672, "tags": ["c", "signed", "numeric-limits", "numeric-conversion"]}, {"body": "<p>The numeric constant <code>0x80000000</code> is of type <code>unsigned int</code>.  If we take <code>-0x80000000</code> and do 2s compliment math on it, we get this:</p>\n\n<pre><code>~0x80000000 = 0x7FFFFFFF\n0x7FFFFFFF + 1 = 0x80000000\n</code></pre>\n\n<p>So <code>-0x80000000 == 0x80000000</code>.  And comparing <code>(0 &lt; 0x80000000)</code> (since <code>0x80000000</code> is unsigned) is true.</p>\n", "title": "Why is 0 &lt; -0x80000000?", "answer_id": 34182943, "question_id": 34182672, "tags": ["c", "signed", "numeric-limits", "numeric-conversion"]}, {"body": "<p>This integer literal <code>0x80000000</code> has type <code>unsigned int</code>. </p>\n\n<p>According to the C Standard (6.4.4.1 Integer constants)</p>\n\n<blockquote>\n  <p>5 The type of an integer constant is the first of the corresponding\n  list in which its value can be represented.</p>\n</blockquote>\n\n<p>And this integer constant can be represented by the type of <code>unsigned int</code>.</p>\n\n<p>So this expression</p>\n\n<p><code>-0x80000000</code> has the same <code>unsigned int</code> type. Moreover it has the same value\n<code>0x80000000</code> in the two's complement representation that calculates the following way</p>\n\n<pre><code>-0x80000000 = ~0x80000000 + 1 =&gt; 0x7FFFFFFF + 1 =&gt; 0x80000000\n</code></pre>\n\n<p>This has a side effect if to write for example</p>\n\n<pre><code>int x = INT_MIN;\nx = abs( x );\n</code></pre>\n\n<p>The result will be again <code>INT_MIN</code>.</p>\n\n<p>Thus in in this condition </p>\n\n<pre><code>bal &lt; INT32_MIN\n</code></pre>\n\n<p>there is compared <code>0</code> with <strong>unsigned</strong> value <code>0x80000000</code> converted to type long long int according to the rules of the usual arithmetic conversions. </p>\n\n<p>It is evident that 0 is less than <code>0x80000000</code>.</p>\n", "title": "Why is 0 &lt; -0x80000000?", "answer_id": 34182979, "question_id": 34182672, "tags": ["c", "signed", "numeric-limits", "numeric-conversion"]}, {"body": "<p>This is quite subtle.</p>\n\n<p>Every integer literal in your program has a type. Which type it has is regulated by a table in 6.4.4.1:</p>\n\n<pre><code>Suffix      Decimal Constant    Octal or Hexadecimal Constant\n\nnone        int                 int\n            long int            unsigned int\n            long long int       long int\n                                unsigned long int\n                                long long int\n                                unsigned long long int\n</code></pre>\n\n<p>If a literal number can't fit inside the default <code>int</code> type, it will attempt the next larger type as indicated in the above table. So for regular decimal integer literals it goes like: </p>\n\n<ul>\n<li>Try <code>int</code></li>\n<li>If it can't fit, try <code>long</code></li>\n<li>If it can't fit, try <code>long long</code>.</li>\n</ul>\n\n<p><em>Hex literals behave differently though!</em> If the literal can't fit inside a signed type like <code>int</code>, it will first try <code>unsigned int</code> before moving on to trying larger types. See the difference in the above table.</p>\n\n<p>So on a 32 bit system, your literal <code>0x80000000</code> is of type <code>unsigned int</code>.</p>\n\n<p>This means that you can apply the unary <code>-</code> operator on the literal without invoking implementation-defined behavior, as you otherwise would when overflowing a signed integer. Instead, you will get the value <code>0x80000000</code>, a positive value.</p>\n\n<p><code>bal &lt; INT32_MIN</code> invokes the usual arithmetic conversions and the result of the expression <code>0x80000000</code> is promoted from <code>unsigned int</code> to <code>long long</code>. The value <code>0x80000000</code> is preserved and 0 is less than 0x80000000, hence the result.</p>\n\n<p>When you replace the literal with <code>2147483648L</code> you use decimal notation and therefore the compiler doesn't pick <code>unsigned int</code>, but rather tries to fit it inside a <code>long</code>. Also the L suffix says that you want a <code>long</code> <em>if possible</em>. The L suffix actually has similar rules if you continue to read the mentioned table in 6.4.4.1: if the number doesn't fit inside the requested <code>long</code>, which it doesn't in the 32 bit case, the compiler will give you a <code>long long</code> where it will fit just fine.</p>\n", "title": "Why is 0 &lt; -0x80000000?", "answer_id": 34183176, "question_id": 34182672, "tags": ["c", "signed", "numeric-limits", "numeric-conversion"]}, {"body": "<p>C has a rule that the integer literal may be <code>signed</code> or <code>unsigned</code> depends on whether it fits in <code>signed</code> or <code>unsigned</code> (integer promotion). On a <code>32</code>-bit machine the literal <code>0x80000000</code> will be <code>unsigned</code>. 2's complement of <code>-0x80000000</code> is <code>0x80000000</code>  on a 32-bit machine. Therefore, the comparison <code>bal &lt; INT32_MIN</code> is between <code>signed</code> and <code>unsigned</code> and before comparison as per the C rule <code>unsigned int</code> will be converted to <code>long long</code>.   </p>\n\n<h3>C11: 6.3.1.8/1:</h3>\n\n<blockquote>\n  <p>[...] Otherwise, if the type of the operand with signed integer type can represent all of the values of the type of the operand with unsigned integer type, then the operand with unsigned integer type is converted to the type of the operand with signed integer type.  </p>\n</blockquote>\n\n<p>Therefore, <code>bal &lt; INT32_MIN</code> is always <code>true</code>.</p>\n", "title": "Why is 0 &lt; -0x80000000?", "answer_id": 34183417, "question_id": 34182672, "tags": ["c", "signed", "numeric-limits", "numeric-conversion"]}, {"body": "<p>A point of confusion occurs in thinking the <code>-</code> is part of the numeric constant.</p>\n\n<p>In the below code <code>0x80000000</code> is the numeric constant.  Its type is determine only on that.  The <code>-</code> is applied afterward and <em>does not change the type</em>.</p>\n\n<pre><code>#define INT32_MIN        (-0x80000000)\nlong long bal = 0;\nif (bal &lt; INT32_MIN )\n</code></pre>\n\n<p><em>Raw</em> unadorned numeric constants are positive.  </p>\n\n<p>If it is decimal, then the type assigned is first type that will hold it: <code>int</code>, <code>long</code>, <code>long long</code>.</p>\n\n<p>If the constant is octal or hexadecimal, it gets the first type that holds it: <code>int</code>, <code>unsigned</code>, <code>long</code>, <code>unsigned long</code>, <code>long long</code>, <code>unsigned long long</code>.</p>\n\n<p><code>0x80000000</code>, on OP's system  gets the type of <code>unsigned</code> or <code>unsigned long</code>.  Either way, it is some unsigned type.  </p>\n\n<p><code>-0x80000000</code> is also some non-zero value and being some unsigned type, it is greater than 0.  When code compares that to a <code>long long</code>, the <em>values</em> are not changed on the 2 sides of the compare, so <code>0 &lt; INT32_MIN</code> is true.</p>\n\n<hr>\n\n<p>An alternate definition avoids this curious behavior</p>\n\n<pre><code>#define INT32_MIN        (-2147483647 - 1)\n</code></pre>\n\n<hr>\n\n<p>Let us walk in  fantasy land for a while where <code>int</code> and <code>unsigned</code> are 48-bit.</p>\n\n<p>Then <code>0x80000000</code> fits in <code>int</code> and so is the type <code>int</code>.  <code>-0x80000000</code> is then a negative number and the result of the print out is different.</p>\n\n<p>[Back to real-word]</p>\n\n<p>Since <code>0x80000000</code> fits in some unsigned type before a signed type as it is just larger than <code>some_signed_MAX</code> yet within <code>some_unsigned_MAX</code>, it is some unsigned type.</p>\n", "title": "Why is 0 &lt; -0x80000000?", "answer_id": 34184024, "question_id": 34182672, "tags": ["c", "signed", "numeric-limits", "numeric-conversion"]}], "question_id": 34182672}, {"body": "<p>What is the equivalent of <kbd>Ctrl</kbd> + <kbd>K</kbd> + <kbd>F</kbd> and <kbd>Ctrl</kbd> + <kbd>K</kbd> + <kbd>D</kbd> on Windows in Visual Studio for formatting, or \"beautifying\" code in the Visual Studio Code editor?</p>\n", "title": "How do you format code in Visual Studio Code (VSCode)", "tags": ["code-formatting", "vscode"], "answer_count": 17, "link": "http://stackoverflow.com/questions/29973357/how-do-you-format-code-in-visual-studio-code-vscode", "answers": [{"body": "<p>On Windows, code formatting is available in VSCode through the shortcut <kbd>Shift</kbd> + <kbd>Alt</kbd> + <kbd>F</kbd>.</p>\n\n<p>On Mac, it is available through the shortcut <kbd>Shift</kbd> + <kbd>Option</kbd> + <kbd>F</kbd>.</p>\n\n<p>Alternatively, you can find the shortcut, as well as other shortcuts, through the search functionality provided in the editor with <kbd>Ctrl</kbd> +<kbd>Shift</kbd>+ <kbd>P</kbd> (or <kbd>Command</kbd> + <kbd>Shift</kbd> + <kbd>P</kbd> on Mac), and then searching for <strong><em>format code</strong>.</em></p>\n", "title": "How do you format code in Visual Studio Code (VSCode)", "answer_id": 29973358, "question_id": 29973357, "tags": ["code-formatting", "vscode"]}, {"body": "<p>You can add a keybinding in \"Preferences->Keyboard shortcuts\"</p>\n\n<pre><code>{ \"key\": \"cmd+k cmd+d\", \"command\": \"editor.action.format\" }\n</code></pre>\n\n<p>Or Visual Studio like:</p>\n\n<pre><code>{ \"key\": \"ctrl+k ctrl+d\", \"command\": \"editor.action.format\" }\n</code></pre>\n", "title": "How do you format code in Visual Studio Code (VSCode)", "answer_id": 29988116, "question_id": 29973357, "tags": ["code-formatting", "vscode"]}, {"body": "<p>Also note that as of today formatting is available for these languages:</p>\n\n<ul>\n<li>xml</li>\n<li>html</li>\n<li>json</li>\n<li>javascript</li>\n<li>typescript</li>\n<li>c#</li>\n</ul>\n", "title": "How do you format code in Visual Studio Code (VSCode)", "answer_id": 30031398, "question_id": 29973357, "tags": ["code-formatting", "vscode"]}, {"body": "<p>On Visual Studio Code, \"shift+alt+f\" is doing what \"ctrl+K+D\" is doing on Visual Studio.</p>\n", "title": "How do you format code in Visual Studio Code (VSCode)", "answer_id": 31102205, "question_id": 29973357, "tags": ["code-formatting", "vscode"]}, {"body": "<p>The right key combination is  <kbd>shift</kbd>+<kbd>alt</kbd>+<kbd>f</kbd></p>\n", "title": "How do you format code in Visual Studio Code (VSCode)", "answer_id": 31315391, "question_id": 29973357, "tags": ["code-formatting", "vscode"]}, {"body": "<p>ctrl+shift+i. The other suggestions don't work. </p>\n", "title": "How do you format code in Visual Studio Code (VSCode)", "answer_id": 32519085, "question_id": 29973357, "tags": ["code-formatting", "vscode"]}, {"body": "<p>The format shortcut in <code>C#</code> didn't work for me until i installed <code>Mono</code> for <code>Mac OS X</code>, <code>DNVM</code> and <code>DNX</code>. Before i installed Mono, the auto-format shortcut <code>(shift+alt+f)</code> worked only for the <code>.json</code> files.</p>\n", "title": "How do you format code in Visual Studio Code (VSCode)", "answer_id": 33479730, "question_id": 29973357, "tags": ["code-formatting", "vscode"]}, {"body": "<p>On ubuntu it's <code>Ctrl + Shift + i</code></p>\n", "title": "How do you format code in Visual Studio Code (VSCode)", "answer_id": 34248738, "question_id": 29973357, "tags": ["code-formatting", "vscode"]}, {"body": "<p>In keybindings, format exists shift+alt+f<br>\nbut for C++, it does not work (as on May 16), so switched to net beans editor for now.</p>\n", "title": "How do you format code in Visual Studio Code (VSCode)", "answer_id": 37245866, "question_id": 29973357, "tags": ["code-formatting", "vscode"]}, {"body": "<p>Visual Studio code allows user can customize the default settings. </p>\n\n<p>If you want to auto format your content while saving add this below code snippet in work space settings of visual studio code.  </p>\n\n<p><strong>File --> Preferences --> Workspace Settings</strong> </p>\n\n<pre><code>{\n    // Controls if the editor should automatically format the line after typing\n      \"beautify.onSave\": true\n}\n</code></pre>\n\n<p>Note: It is not support TypeScript, Only Supported JavaScript, HTML, CSS</p>\n", "title": "How do you format code in Visual Studio Code (VSCode)", "answer_id": 37429293, "question_id": 29973357, "tags": ["code-formatting", "vscode"]}, {"body": "<p>not this one,use this:\n  <strong>File --> Preferences --> Workspace Settings</strong>\n  \"editor.formatOnType\": true</p>\n", "title": "How do you format code in Visual Studio Code (VSCode)", "answer_id": 38603296, "question_id": 29973357, "tags": ["code-formatting", "vscode"]}, {"body": "<p>For Fedora</p>\n\n<ol>\n<li>Click <code>File</code> -> <code>Preferences</code> -> <code>Keyboard shortcuts</code>.</li>\n<li>Under <code>Default Keyboard Shortcuts</code>, search (Ctrl+F) for <code>editor.action.format</code>.</li>\n</ol>\n\n<p>Mine read <code>\"key\": \"ctrl+shift+i\"</code></p>\n\n<p>You can change it as well. Refer to @kblok's answer on how to... or if you are too lazy to scroll up: </p>\n\n<hr>\n\n<blockquote>\n  <p>You can add a keybinding in \"Preferences->Keyboard shortcuts\"</p>\n  \n  <p><code>{ \"key\": \"cmd+k cmd+d\", \"command\": \"editor.action.format\" }</code></p>\n  \n  <p>Or Visual Studio like:</p>\n  \n  <p><code>{ \"key\": \"ctrl+k ctrl+d\", \"command\": \"editor.action.format\" }</code></p>\n</blockquote>\n\n<hr>\n\n<p>Please note: <code>cmd</code> key is only for Macs. For Windows and Fedora (Windows keyboard) use <code>Ctrl</code></p>\n", "title": "How do you format code in Visual Studio Code (VSCode)", "answer_id": 38781680, "question_id": 29973357, "tags": ["code-formatting", "vscode"]}, {"body": "<p>in windows os  : <kbd>CTRL</kbd> + <kbd>K</kbd>  <kbd>CTRL</kbd> + <kbd>D</kbd></p>\n", "title": "How do you format code in Visual Studio Code (VSCode)", "answer_id": 38903237, "question_id": 29973357, "tags": ["code-formatting", "vscode"]}, {"body": "<p>Use extension..</p>\n\n<p>Enables auto formatting of the code when you save a file. </p>\n\n<p>Launch VS Code Quick Open (Ctrl+P), paste the following command, and press enter.</p>\n\n<blockquote>\n  <p>ext install format-on-save</p>\n</blockquote>\n\n<p><a href=\"https://marketplace.visualstudio.com/items?itemName=gyuha.format-on-save\" rel=\"nofollow\">https://marketplace.visualstudio.com/items?itemName=gyuha.format-on-save</a></p>\n", "title": "How do you format code in Visual Studio Code (VSCode)", "answer_id": 38990850, "question_id": 29973357, "tags": ["code-formatting", "vscode"]}, {"body": "<p>For those that want to customize what JavaScript files to format, you can use the any extension on the <code>JSfiles</code> property same applies to HTML.</p>\n\n<pre><code>{\n    \"beautify.onSave\": true,\n    \"beautify.JSfiles\": [\"js\", \"json\", \"jsbeautifyrc\", \"jshintrc\", \"ts\"],\n    \"beautify.HTMLfiles\": [\"htm\", \"html\"]\n}\n</code></pre>\n\n<p>This will enable beautify on save for TypeScript, you can add in XML to the HTML option.</p>\n", "title": "How do you format code in Visual Studio Code (VSCode)", "answer_id": 39311665, "question_id": 29973357, "tags": ["code-formatting", "vscode"]}, {"body": "<p>While changing the default behavior for Visual Studio Code requires extension, you may override the default behavior in workspace or user level and works for most of the supported languages (I can guarantee html, javascript, c#)</p>\n\n<h2>Workspace level</h2>\n\n<p><strong>Benefits</strong></p>\n\n<ul>\n<li>Does not requires extension</li>\n<li>Can be shared among team</li>\n</ul>\n\n<p><strong>Outcomes</strong></p>\n\n<ul>\n<li><code>.vscode/settings.json</code> is created in project root folder</li>\n</ul>\n\n<p><strong>How To?</strong></p>\n\n<ol>\n<li><p>Go to: <strong>File --> Preferences --> Workspace Settings</strong></p></li>\n<li><p>Add and save <code>\"editor.formatOnType\": true</code> to settings.json (which overrides default behavior for the project you work on by creating .vscode/settings.json file).\n<a href=\"http://i.stack.imgur.com/q9rnS.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/q9rnS.png\" alt=\"How it looks\"></a></p></li>\n</ol>\n\n<h2>User environment level</h2>\n\n<p><strong>Benefits</strong></p>\n\n<ul>\n<li>Does not requires extension</li>\n<li>Personal development environment tweeking to rule them all (settings:))</li>\n</ul>\n\n<p><strong>Outcomes</strong></p>\n\n<ul>\n<li>User's <code>settings.json</code> is modified (see location by operating system below)</li>\n</ul>\n\n<p><strong>How To?</strong></p>\n\n<ol>\n<li><p>Go to: <strong>File --> Preferences --> User Settings</strong></p></li>\n<li><p>Add or change the value of <code>\"editor.formatOnType\": false</code> to <code>\"editor.formatOnType\": true</code> in the user settings.json</p></li>\n</ol>\n\n<p>Your Visual Studio Code user's <code>settings.json</code> location is:</p>\n\n<blockquote>\n  <p>Settings File Locations Depending on your platform, the user settings\n  file is located here:</p>\n  \n  <p>Windows %APPDATA%\\Code\\User\\settings.json Mac\n  $HOME/Library/Application Support/Code/User/settings.json Linux\n  $HOME/.config/Code/User/settings.json The workspace setting file is\n  located under the .vscode folder in your project.</p>\n</blockquote>\n\n<p>More details may be found <a href=\"https://code.visualstudio.com/docs/customization/userandworkspace#_creating-user-and-workspace-settings\" rel=\"nofollow\">here</a></p>\n", "title": "How do you format code in Visual Studio Code (VSCode)", "answer_id": 39385801, "question_id": 29973357, "tags": ["code-formatting", "vscode"]}, {"body": "<p>Have to install the appropriate plug-in first (i.e. XML, C#, etc.). Formatting won't become available until you've installed the relevant plugin, and saved the file with an appropriate extension.</p>\n", "title": "How do you format code in Visual Studio Code (VSCode)", "answer_id": 39399738, "question_id": 29973357, "tags": ["code-formatting", "vscode"]}], "question_id": 29973357}, {"body": "<p>I keep getting this error when I try to submit my app to the store using Xcode:  </p>\n\n<p><strong>ERROR ITMS-90475: \"Invalid Bundle. iPad Multitasking support requires launch storyboard in bundle 'com.companyname.appname.'\"</strong></p>\n\n<p>Anyone know what this error really means?</p>\n", "title": "Invalid Bundle Error - &quot;requires launch storyboard&quot;", "tags": ["xcode", "ipad", "upload", "app-store", "multitasking"], "answer_count": 6, "link": "http://stackoverflow.com/questions/32557783/invalid-bundle-error-requires-launch-storyboard", "answers": [{"body": "<p>I solved the problem in this way, see <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/WindowsViews/Conceptual/AdoptingMultitaskingOniPad/QuickStartForSlideOverAndSplitView.html#//apple_ref/doc/uid/TP40015145-CH13-SW1\">here</a>:</p>\n\n<blockquote>\n  <p>If you must opt out of Slide Over and Split View, do so explicitly by adding the UIRequiresFullScreen key to your Xcode project\u2019s Info.plist file and apply the Boolean value YES. </p>\n</blockquote>\n", "title": "Invalid Bundle Error - &quot;requires launch storyboard&quot;", "answer_id": 32561780, "question_id": 32557783, "tags": ["xcode", "ipad", "upload", "app-store", "multitasking"]}, {"body": "<p>This is because you need to specify how your app is supposed to handle <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/WindowsViews/Conceptual/AdoptingMultitaskingOniPad/QuickStartForSlideOverAndSplitView.html\">multitasking</a> on iPad.</p>\n\n<p>If you don't want to handle multitasking right now, you can simply disable it by going to the \"General\" tab of your target:</p>\n\n<p><a href=\"http://i.stack.imgur.com/T9VOj.png\"><img src=\"http://i.stack.imgur.com/T9VOj.png\" alt=\"enter image description here\"></a></p>\n", "title": "Invalid Bundle Error - &quot;requires launch storyboard&quot;", "answer_id": 32563605, "question_id": 32557783, "tags": ["xcode", "ipad", "upload", "app-store", "multitasking"]}, {"body": "<p>You need to add a Launch Screen (Xcode > File > New). \nUnder iOS > User Interface you select \"Launch Screen\" to add it to the project.</p>\n\n<p>For the iPad you need to support all 4 orientations.</p>\n\n<p>Select in Xcode your target file, and under the General Tab, go to the \"App icons and Launch Images\".\nHere you select the Launch Screen file you created.\nWhen you launch the app you'll see the launch (bitmap) images are not used, but the Launch Screen Storyboard.</p>\n", "title": "Invalid Bundle Error - &quot;requires launch storyboard&quot;", "answer_id": 32671651, "question_id": 32557783, "tags": ["xcode", "ipad", "upload", "app-store", "multitasking"]}, {"body": "<p>You can either do it as Andr\u00e9 showed or directly add:</p>\n\n<pre><code>&lt;key&gt;UIRequiresFullScreen&lt;/key&gt;\n&lt;true/&gt;\n</code></pre>\n\n<p>On your .plist file.</p>\n", "title": "Invalid Bundle Error - &quot;requires launch storyboard&quot;", "answer_id": 32730962, "question_id": 32557783, "tags": ["xcode", "ipad", "upload", "app-store", "multitasking"]}, {"body": "<p>If you are using Cordova, you might want to use the <a href=\"https://github.com/chancezeus/cordova-ios-requires-fullscreen\">cordova-ios-requires-fullscreen</a> plugin (see <a href=\"http://forum.ionicframework.com/t/how-to-disable-ios9-multitasking-through-ionic-cordova/33242\">How to disable iOS9 multitasking through Ionic/Cordova</a>?)</p>\n\n<p><strong>Update</strong>: you can also use the <a href=\"https://github.com/rafelbev/cordova-plugin-ipad-multitasking\">cordova-plugin-ipad-multitasking</a>, which seems to also prevent another issue (ITMS-90474)</p>\n\n<p><strong>Update</strong>: this should now be fixed using Cordova tools 5.4 without the need for these plugins.</p>\n", "title": "Invalid Bundle Error - &quot;requires launch storyboard&quot;", "answer_id": 33151890, "question_id": 32557783, "tags": ["xcode", "ipad", "upload", "app-store", "multitasking"]}, {"body": "<p>You can find  \"Requires full screen\" checkbox under General > Targets</p>\n\n<p><a href=\"http://i.stack.imgur.com/V8EL7.jpg\"><img src=\"http://i.stack.imgur.com/V8EL7.jpg\" alt=\"enter image description here\"></a></p>\n", "title": "Invalid Bundle Error - &quot;requires launch storyboard&quot;", "answer_id": 35473560, "question_id": 32557783, "tags": ["xcode", "ipad", "upload", "app-store", "multitasking"]}], "question_id": 32557783}, {"body": "<pre><code>&gt;&gt;&gt; timeit.timeit(\"'x' in ('x',)\")\n0.04869917374131205\n&gt;&gt;&gt; timeit.timeit(\"'x' == 'x'\")\n0.06144205736110564\n</code></pre>\n\n<p>Also works for tuples with multiple elements, both versions seem to grow linearly:</p>\n\n<pre><code>&gt;&gt;&gt; timeit.timeit(\"'x' in ('x', 'y')\")\n0.04866674801541748\n&gt;&gt;&gt; timeit.timeit(\"'x' == 'x' or 'x' == 'y'\")\n0.06565782838087131\n&gt;&gt;&gt; timeit.timeit(\"'x' in ('y', 'x')\")\n0.08975995576448526\n&gt;&gt;&gt; timeit.timeit(\"'x' == 'y' or 'x' == 'y'\")\n0.12992391047427532\n</code></pre>\n\n<p>Based on this, I think I should <em>totally</em> start using <code>in</code> everywhere instead of <code>==</code>!</p>\n", "title": "Why is &#39;x&#39; in (&#39;x&#39;,) faster than &#39;x&#39; == &#39;x&#39;?", "tags": ["python", "performance", "python-3.x", "python-internals"], "answer_count": 2, "link": "http://stackoverflow.com/questions/28885132/why-is-x-in-x-faster-than-x-x", "answers": [{"body": "<p>There are three factors at play here which, combined, produce this surprising behavior.</p>\n\n<p>First: the <code>in</code> operator takes a shortcut and checks identity (<code>x is y</code>) before it checks equality (<code>x == y</code>):</p>\n\n<pre><code>&gt;&gt;&gt; n = float('nan')\n&gt;&gt;&gt; n in (n, )\nTrue\n&gt;&gt;&gt; n == n\nFalse\n&gt;&gt;&gt; n is n\nTrue\n</code></pre>\n\n<p>Second: because of Python's string interning, both <code>\"x\"</code>s in <code>\"x\" in (\"x\", )</code> will be identical:</p>\n\n<pre><code>&gt;&gt;&gt; \"x\" is \"x\"\nTrue\n</code></pre>\n\n<p>(big warning: this is implementation-specific behavior! <code>is</code> should <em>never</em> be used to compare strings because it <em>will</em> give surprising answers sometimes; for example <code>\"x\" * 100 is \"x\" * 100 ==&gt; False</code>)</p>\n\n<p>Third: as detailed in <a href=\"http://stackoverflow.com/a/28889838/71522\">Veedrac's fantastic answer</a>, <code>tuple.__contains__</code> (<code>x in (y, )</code> is <em>roughly</em> equivalent to <code>(y, ).__contains__(x)</code>) gets to the point of performing the identity check faster than <code>str.__eq__</code> (again, <code>x == y</code> is <em>roughly</em> equivalent to <code>x.__eq__(y)</code>) does.</p>\n\n<p>You can see evidence for this because <code>x in (y, )</code> is significantly slower than the logically equivalent, <code>x == y</code>:</p>\n\n<pre><code>In [18]: %timeit 'x' in ('x', )\n10000000 loops, best of 3: 65.2 ns per loop\n\nIn [19]: %timeit 'x' == 'x'    \n10000000 loops, best of 3: 68 ns per loop\n\nIn [20]: %timeit 'x' in ('y', ) \n10000000 loops, best of 3: 73.4 ns per loop\n\nIn [21]: %timeit 'x' == 'y'    \n10000000 loops, best of 3: 56.2 ns per loop\n</code></pre>\n\n<p>The <code>x in (y, )</code> case is slower because, after the <code>is</code> comparison fails, the <code>in</code> operator falls back to normal equality checking (i.e., using <code>==</code>), so the comparison takes about the same amount of time as <code>==</code>, rendering the entire operation slower because of the overhead of creating the tuple, walking its members, etc.</p>\n\n<p>Note also that <code>a in (b, )</code> is <em>only</em> faster when <code>a is b</code>:</p>\n\n<pre><code>In [48]: a = 1             \n\nIn [49]: b = 2\n\nIn [50]: %timeit a is a or a == a\n10000000 loops, best of 3: 95.1 ns per loop\n\nIn [51]: %timeit a in (a, )      \n10000000 loops, best of 3: 140 ns per loop\n\nIn [52]: %timeit a is b or a == b\n10000000 loops, best of 3: 177 ns per loop\n\nIn [53]: %timeit a in (b, )      \n10000000 loops, best of 3: 169 ns per loop\n</code></pre>\n\n<p>(why is <code>a in (b, )</code> faster than <code>a is b or a == b</code>? My guess would be fewer virtual machine instructions \u2014\u00a0<code>a in (b, )</code> is only ~3 instructions, where <code>a is b or a == b</code> will be quite a few more VM instructions)</p>\n\n<p>Veedrac's answer \u2014 <a href=\"http://stackoverflow.com/a/28889838/71522\">http://stackoverflow.com/a/28889838/71522</a> \u2014 goes into much more detail on specifically what happens during each of <code>==</code> and <code>in</code> and is well worth the read.</p>\n", "title": "Why is &#39;x&#39; in (&#39;x&#39;,) faster than &#39;x&#39; == &#39;x&#39;?", "answer_id": 28885213, "question_id": 28885132, "tags": ["python", "performance", "python-3.x", "python-internals"]}, {"body": "<p>As I mentioned to David Wolever, there's more to this than meets the eye; both methods dispatch to <code>is</code>; you can prove this by doing</p>\n\n<pre><code>min(Timer(\"x == x\", setup=\"x = 'a' * 1000000\").repeat(10, 10000))\n#&gt;&gt;&gt; 0.00045456900261342525\n\nmin(Timer(\"x == y\", setup=\"x = 'a' * 1000000; y = 'a' * 1000000\").repeat(10, 10000))\n#&gt;&gt;&gt; 0.5256857610074803\n</code></pre>\n\n<p>The first can only be so fast because it checks by identity.</p>\n\n<p>To find out why one would take longer than the other, let's trace through execution.</p>\n\n<p>They both start in <code>ceval.c</code>, from <code>COMPARE_OP</code> since that is the bytecode involved</p>\n\n<pre><code>TARGET(COMPARE_OP) {\n    PyObject *right = POP();\n    PyObject *left = TOP();\n    PyObject *res = cmp_outcome(oparg, left, right);\n    Py_DECREF(left);\n    Py_DECREF(right);\n    SET_TOP(res);\n    if (res == NULL)\n        goto error;\n    PREDICT(POP_JUMP_IF_FALSE);\n    PREDICT(POP_JUMP_IF_TRUE);\n    DISPATCH();\n}\n</code></pre>\n\n<p>This pops the values from the stack (technically it only pops one)</p>\n\n<pre><code>PyObject *right = POP();\nPyObject *left = TOP();\n</code></pre>\n\n<p>and runs the compare:</p>\n\n<pre><code>PyObject *res = cmp_outcome(oparg, left, right);\n</code></pre>\n\n<p><code>cmp_outcome</code> is this:</p>\n\n<pre><code>static PyObject *\ncmp_outcome(int op, PyObject *v, PyObject *w)\n{\n    int res = 0;\n    switch (op) {\n    case PyCmp_IS: ...\n    case PyCmp_IS_NOT: ...\n    case PyCmp_IN:\n        res = PySequence_Contains(w, v);\n        if (res &lt; 0)\n            return NULL;\n        break;\n    case PyCmp_NOT_IN: ...\n    case PyCmp_EXC_MATCH: ...\n    default:\n        return PyObject_RichCompare(v, w, op);\n    }\n    v = res ? Py_True : Py_False;\n    Py_INCREF(v);\n    return v;\n}\n</code></pre>\n\n<p>This is where the paths split. The <code>PyCmp_IN</code> branch does</p>\n\n<pre><code>int\nPySequence_Contains(PyObject *seq, PyObject *ob)\n{\n    Py_ssize_t result;\n    PySequenceMethods *sqm = seq-&gt;ob_type-&gt;tp_as_sequence;\n    if (sqm != NULL &amp;&amp; sqm-&gt;sq_contains != NULL)\n        return (*sqm-&gt;sq_contains)(seq, ob);\n    result = _PySequence_IterSearch(seq, ob, PY_ITERSEARCH_CONTAINS);\n    return Py_SAFE_DOWNCAST(result, Py_ssize_t, int);\n}\n</code></pre>\n\n<p>Note that a tuple is defined as</p>\n\n<pre><code>static PySequenceMethods tuple_as_sequence = {\n    ...\n    (objobjproc)tuplecontains,                  /* sq_contains */\n};\n\nPyTypeObject PyTuple_Type = {\n    ...\n    &amp;tuple_as_sequence,                         /* tp_as_sequence */\n    ...\n};\n</code></pre>\n\n<p>So the branch</p>\n\n<pre><code>if (sqm != NULL &amp;&amp; sqm-&gt;sq_contains != NULL)\n</code></pre>\n\n<p>will be taken and <code>*sqm-&gt;sq_contains</code>, which is the function <code>(objobjproc)tuplecontains</code>, will be taken.</p>\n\n<p>This does</p>\n\n<pre><code>static int\ntuplecontains(PyTupleObject *a, PyObject *el)\n{\n    Py_ssize_t i;\n    int cmp;\n\n    for (i = 0, cmp = 0 ; cmp == 0 &amp;&amp; i &lt; Py_SIZE(a); ++i)\n        cmp = PyObject_RichCompareBool(el, PyTuple_GET_ITEM(a, i),\n                                           Py_EQ);\n    return cmp;\n}\n</code></pre>\n\n<p>...Wait, wasn't that <code>PyObject_RichCompareBool</code> what the other branch took? Nope, that was <code>PyObject_RichCompare</code>.</p>\n\n<p>That code path was short so it likely just comes down to the speed of these two. Let's compare.</p>\n\n<pre><code>int\nPyObject_RichCompareBool(PyObject *v, PyObject *w, int op)\n{\n    PyObject *res;\n    int ok;\n\n    /* Quick result when objects are the same.\n       Guarantees that identity implies equality. */\n    if (v == w) {\n        if (op == Py_EQ)\n            return 1;\n        else if (op == Py_NE)\n            return 0;\n    }\n\n    ...\n}\n</code></pre>\n\n<p>The code path in <code>PyObject_RichCompareBool</code> pretty much immediately terminates. For <code>PyObject_RichCompare</code>, it does</p>\n\n<pre><code>PyObject *\nPyObject_RichCompare(PyObject *v, PyObject *w, int op)\n{\n    PyObject *res;\n\n    assert(Py_LT &lt;= op &amp;&amp; op &lt;= Py_GE);\n    if (v == NULL || w == NULL) { ... }\n    if (Py_EnterRecursiveCall(\" in comparison\"))\n        return NULL;\n    res = do_richcompare(v, w, op);\n    Py_LeaveRecursiveCall();\n    return res;\n}\n</code></pre>\n\n<p>The <code>Py_EnterRecursiveCall</code>/<code>Py_LeaveRecursiveCall</code> combo are not taken in the previous path, but these are relatively quick macros that'll short-circuit after incrementing and decrementing some globals.</p>\n\n<p><code>do_richcompare</code> does:</p>\n\n<pre><code>static PyObject *\ndo_richcompare(PyObject *v, PyObject *w, int op)\n{\n    richcmpfunc f;\n    PyObject *res;\n    int checked_reverse_op = 0;\n\n    if (v-&gt;ob_type != w-&gt;ob_type &amp;&amp; ...) { ... }\n    if ((f = v-&gt;ob_type-&gt;tp_richcompare) != NULL) {\n        res = (*f)(v, w, op);\n        if (res != Py_NotImplemented)\n            return res;\n        ...\n    }\n    ...\n}\n</code></pre>\n\n<p>This does some quick checks to call <code>v-&gt;ob_type-&gt;tp_richcompare</code> which is</p>\n\n<pre><code>PyTypeObject PyUnicode_Type = {\n    ...\n    PyUnicode_RichCompare,      /* tp_richcompare */\n    ...\n};\n</code></pre>\n\n<p>which does</p>\n\n<pre><code>PyObject *\nPyUnicode_RichCompare(PyObject *left, PyObject *right, int op)\n{\n    int result;\n    PyObject *v;\n\n    if (!PyUnicode_Check(left) || !PyUnicode_Check(right))\n        Py_RETURN_NOTIMPLEMENTED;\n\n    if (PyUnicode_READY(left) == -1 ||\n        PyUnicode_READY(right) == -1)\n        return NULL;\n\n    if (left == right) {\n        switch (op) {\n        case Py_EQ:\n        case Py_LE:\n        case Py_GE:\n            /* a string is equal to itself */\n            v = Py_True;\n            break;\n        case Py_NE:\n        case Py_LT:\n        case Py_GT:\n            v = Py_False;\n            break;\n        default:\n            ...\n        }\n    }\n    else if (...) { ... }\n    else { ...}\n    Py_INCREF(v);\n    return v;\n}\n</code></pre>\n\n<p>Namely, this shortcuts on <code>left == right</code>... but only after doing </p>\n\n<pre><code>    if (!PyUnicode_Check(left) || !PyUnicode_Check(right))\n\n    if (PyUnicode_READY(left) == -1 ||\n        PyUnicode_READY(right) == -1)\n</code></pre>\n\n<p>All in all the paths then look something like this (manually recursively inlining, unrolling and pruning known branches)</p>\n\n<pre><code>POP()                           # Stack stuff\nTOP()                           #\n                                #\ncase PyCmp_IN:                  # Dispatch on operation\n                                #\nsqm != NULL                     # Dispatch to builtin op\nsqm-&gt;sq_contains != NULL        #\n*sqm-&gt;sq_contains               #\n                                #\ncmp == 0                        # Do comparison in loop\ni &lt; Py_SIZE(a)                  #\nv == w                          #\nop == Py_EQ                     #\n++i                             # \ncmp == 0                        #\n                                #\nres &lt; 0                         # Convert to Python-space\nres ? Py_True : Py_False        #\nPy_INCREF(v)                    #\n                                #\nPy_DECREF(left)                 # Stack stuff\nPy_DECREF(right)                #\nSET_TOP(res)                    #\nres == NULL                     #\nDISPATCH()                      #\n</code></pre>\n\n<p>vs</p>\n\n<pre><code>POP()                           # Stack stuff\nTOP()                           #\n                                #\ndefault:                        # Dispatch on operation\n                                #\nPy_LT &lt;= op                     # Checking operation\nop &lt;= Py_GE                     #\nv == NULL                       #\nw == NULL                       #\nPy_EnterRecursiveCall(...)      # Recursive check\n                                #\nv-&gt;ob_type != w-&gt;ob_type        # More operation checks\nf = v-&gt;ob_type-&gt;tp_richcompare  # Dispatch to builtin op\nf != NULL                       #\n                                #\n!PyUnicode_Check(left)          # ...More checks\n!PyUnicode_Check(right))        #\nPyUnicode_READY(left) == -1     #\nPyUnicode_READY(right) == -1    #\nleft == right                   # Finally, doing comparison\ncase Py_EQ:                     # Immediately short circuit\nPy_INCREF(v);                   #\n                                #\nres != Py_NotImplemented        #\n                                #\nPy_LeaveRecursiveCall()         # Recursive check\n                                #\nPy_DECREF(left)                 # Stack stuff\nPy_DECREF(right)                #\nSET_TOP(res)                    #\nres == NULL                     #\nDISPATCH()                      #\n</code></pre>\n\n<p>Now, <code>PyUnicode_Check</code> and <code>PyUnicode_READY</code> are pretty cheap since they only check a couple of fields, but it should be obvious that the top one is a smaller code path, it has fewer function calls, only one switch\nstatement and is just a bit thinner.</p>\n\n<h3>TL;DR:</h3>\n\n<p>Both dispatch to <code>if (left_pointer == right_pointer)</code>; the difference is just how much work they do to get there. <code>in</code> just does less.</p>\n", "title": "Why is &#39;x&#39; in (&#39;x&#39;,) faster than &#39;x&#39; == &#39;x&#39;?", "answer_id": 28889838, "question_id": 28885132, "tags": ["python", "performance", "python-3.x", "python-internals"]}], "question_id": 28885132}, {"body": "<p>In all programming languages (that I use at least), you must open a file before you can read or write to it. </p>\n\n<p>But what does this open operation actually do?</p>\n\n<p>Manual pages for typical functions dont actually tell you anything other than it 'opens a file for reading/writing':</p>\n\n<p><a href=\"http://www.cplusplus.com/reference/cstdio/fopen/\">http://www.cplusplus.com/reference/cstdio/fopen/</a></p>\n\n<p><a href=\"https://docs.python.org/2/library/functions.html#open\">https://docs.python.org/2/library/functions.html#open</a></p>\n\n<p>Obviously, through usage of the function you can tell it involves creation of some kind of object which facilitates accessing a file. </p>\n\n<p>Another way of putting this would be, if I were to implement an <code>open</code> function, what would it need to do on Linux?</p>\n", "title": "What does opening a file actually do?", "tags": ["c", "linux"], "answer_count": 7, "link": "http://stackoverflow.com/questions/33495283/what-does-opening-a-file-actually-do", "answers": [{"body": "<p>In almost every high-level language, the function that opens a file is a wrapper around the corresponding kernel system call. It may do other fancy stuff as well, but in contemporary operating systems, opening a file must always go through the kernel.</p>\n\n<p>This is why the arguments of the <code>fopen</code> library function, or Python's <code>open</code> closely resemble the arguments of the <code>open(2)</code> system call.</p>\n\n<p>In addition to opening the file, these functions usually set up a buffer that will be consequently used with the read/write operations. The purpose of this buffer is to ensure that whenever you want to read N bytes, the corresponding library call will return N bytes, regardless of whether the calls to the underlying system calls return less.</p>\n\n<blockquote>\n  <p>I am not actually interested in implementing my own function; just in understanding what the hell is going on...'beyond the language' if you like.</p>\n</blockquote>\n\n<p>In Unix-like operating systems, a successful call to <code>open</code> returns a \"file descriptor\" which is merely an integer in the context of the user process. This descriptor is consequently passed to any call that interacts with the opened file, and after calling <code>close</code> on it, the descriptor becomes invalid.</p>\n\n<p>It is important to note that the call to <code>open</code> acts like a validation point at which various checks are made. If not all of the conditions are met, the call fails by returning <code>-1</code> instead of the descriptor, and the kind of error is indicated in <code>errno</code>. The essential checks are:</p>\n\n<ul>\n<li>Whether the file exists;</li>\n<li>Whether the calling process is privileged to open this file in the specified mode. This is determined by matching the file permissions, owner ID and group ID to the respective ID's of the calling process.</li>\n</ul>\n\n<p>In the context of the kernel, there has to be some kind of mapping between the process' file descriptors and the physically opened files. The internal data structure that is mapped to the descriptor may contain yet another buffer that deals with block-based devices, or an internal pointer that points to the current read/write position.</p>\n", "title": "What does opening a file actually do?", "answer_id": 33495557, "question_id": 33495283, "tags": ["c", "linux"]}, {"body": "<p>It depends on the operating system what exactly happens when you open a file. Below I describe what happens in Linux as it gives you an idea what happens when you open a file and you could check the source code if you are interested in more detail. I am not covering permissions as it would make this answer too long.</p>\n\n<p>In Linux every file is recognised by a structure called <a href=\"https://en.wikipedia.org/wiki/Inode#Implications\">inode</a>. Each structure has an unique number and every file only gets one inode number. This structure stores meta data for a file, for example file-size, file-permissions, time stamps and pointer to disk blocks, however, not the actual file name itself. Each file (and directory) contains a file name entry and the inode number for lookup. When you open a file, assuming you have the relevant permissions, a file descriptor is created using the unique inode number associated with file name. As many processes/applications can point to the same file, inode has a link field that maintains the total count of links to the file. If a file is present in a directory, its link count is one, if it has a hard link its link count will be two and if a file is opened by a process, the link count will be incremented by 1. </p>\n", "title": "What does opening a file actually do?", "answer_id": 33495706, "question_id": 33495283, "tags": ["c", "linux"]}, {"body": "<p>At the core of it when opening for reading nothing fancy actually <em>needs</em> to happen. All it needs to do is check the file exists and the application has enough privileges to read it and create a handle on which you can issue read commands to the file.</p>\n\n<p>It's on those commands that actual reading will get dispatched.</p>\n\n<p>The OS will often get a head start on reading by starting a read operation to fill the buffer associated with the handle. Then when you actually do the read it can return the contents of the buffer immediately rather then needing to wait on disk IO.</p>\n\n<p>For opening a new file for write the OS will need to add a entry in the directory for the new (currently empty) file. And again a handle is created on which you can issue the write commands.</p>\n", "title": "What does opening a file actually do?", "answer_id": 33497014, "question_id": 33495283, "tags": ["c", "linux"]}, {"body": "<p><em>Any file system or operating system you want to talk about is fine by me.</em> Nice!</p>\n\n<hr>\n\n<p>On a ZX Spectrum, initializing a <code>LOAD</code> command will put the system into a tight loop, reading the Audio In line.</p>\n\n<p>Start-of-data is indicated by a constant tone, and after that a sequence of long/short pulses follow, where a short pulse is for a binary <code>0</code> and a longer one for a binary <code>1</code> (<a href=\"https://en.wikipedia.org/wiki/ZX_Spectrum_software\" rel=\"nofollow\">https://en.wikipedia.org/wiki/ZX_Spectrum_software</a>). The tight load loop gathers bits until it fills a byte (8 bits), stores this into memory, increases the memory pointer, then loops back to scan for more bits.</p>\n\n<p>Typically, the first thing a loader would read is a short, fixed format <em>header</em>, indicating at least the number of bytes to expect, and possibly additional information such as file name, file type and loading address. After reading this short header, the program could decide whether to continue loading the main bulk of the data, or exit the loading routine and display an appropriate message for the user.</p>\n\n<p>An End-of-file state could be recognized by receiving as many bytes as expected (either a fixed number of bytes, hardwired in the software, or a variable number such as indicated in a header). An error was thrown if the loading loop did not receive a pulse in the expected frequency range for a certain amount of time.</p>\n\n<hr>\n\n<p><em>A little background on this answer</em></p>\n\n<p>The procedure described loads data from a regular audio tape - hence the need to scan Audio In (it connected with a standard plug to tape recorders). A <code>LOAD</code> command is technically the same as <code>open</code> a file - but it's physically tied to <em>actually</em> loading the file. This is because the tape recorder is not controlled by the computer, and you cannot (successfully) open a file but not load it.</p>\n\n<p>The \"tight loop\" is mentioned because (1) the CPU, a Z80-A (if memory serves), was really slow: 3.5 MHz, and (2) the Spectrum had no internal clock! That means that it had to accurately keep count of the <em>T-states</em> (instruction times) for every. single. instruction. inside that loop, just to maintain the accurate beep timing.<br>\nFortunately, that low CPU speed had the distinct advantage that you could calculate the number of cycles on a piece of paper, and thus the real world time that they would take.</p>\n", "title": "What does opening a file actually do?", "answer_id": 33497192, "question_id": 33495283, "tags": ["c", "linux"]}, {"body": "<p>I'd suggest you take a look at <a href=\"https://www.win.tue.nl/~aeb/linux/vfs/trail-2.html\">this guide through a simplified version of the <code>open()</code> system call</a>. It uses the following code snippet, which is representative of what happens behind the scenes when you open a file.</p>\n\n<pre><code>0  int sys_open(const char *filename, int flags, int mode) {\n1      char *tmp = getname(filename);\n2      int fd = get_unused_fd();\n3      struct file *f = filp_open(tmp, flags, mode);\n4      fd_install(fd, f);\n5      putname(tmp);\n6      return fd;\n7  }\n</code></pre>\n\n<p>Briefly, here's what that code does, line by line:</p>\n\n<ol>\n<li>Allocate a block of kernel-controlled memory and copy the filename into it from user-controlled memory.</li>\n<li>Pick an unused file descriptor, which you can think of as an integer index into a growable list of currently open files. Each process has its own such list, though it's maintained by the kernel; your code can't access it directly. An entry in the list contains whatever information the underlying filesystem will use to pull bytes off the disk, such as inode number, process permissions, open flags, and so on.</li>\n<li><p>The <code>filp_open</code> function has the implementation</p>\n\n<pre><code>struct file *filp_open(const char *filename, int flags, int mode) {\n        struct nameidata nd;\n        open_namei(filename, flags, mode, &amp;nd);\n        return dentry_open(nd.dentry, nd.mnt, flags);\n}\n</code></pre>\n\n<p>which does two things:</p>\n\n<ol>\n<li>Use the filesystem to look up the inode (or more generally, whatever sort of internal identifier the filesystem uses) corresponding to the filename or path that was passed in.</li>\n<li>Create a <code>struct file</code> with the essential information about the inode and return it. This struct becomes the entry in that list of open files that I mentioned earlier.</li>\n</ol></li>\n<li><p>Store (\"install\") the returned struct into the process's list of open files.</p></li>\n<li>Free the allocated block of kernel-controlled memory.</li>\n<li>Return the file descriptor, which can then be passed to file operation functions like <code>read()</code>, <code>write()</code>, and <code>close()</code>. Each of these will hand off control to the kernel, which can use the file descriptor to look up the corresponding file pointer in the process's list, and use the information in that file pointer to actually perform the reading, writing, or closing.</li>\n</ol>\n\n<p>If you're feeling ambitious, you can compare this simplified example to the implementation of the <code>open()</code> system call in the Linux kernel, a function called <a href=\"https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/tree/fs/open.c?id=refs/tags/v4.3#n1010\"><code>do_sys_open()</code></a>. You shouldn't have any trouble finding the similarities.</p>\n\n<hr>\n\n<p>Of course, this is only the \"top layer\" of what happens when you call <code>open()</code> - or more precisely, it's the highest-level piece of kernel code that gets invoked in the process of opening a file. A high-level programming language might add additional layers on top of this. There's a lot that goes on at lower levels. (Thanks to <a href=\"https://stackoverflow.com/users/673852/ruslan\">Ruslan</a> and <a href=\"https://stackoverflow.com/users/108719/pjc50\">pjc50</a> for explaining.) Roughly, from top to bottom:</p>\n\n<ul>\n<li><code>open_namei()</code> and <code>dentry_open()</code> invoke filesystem code, which is also part of the kernel, to access metadata and content for files and directories. The <a href=\"http://www.tldp.org/LDP/sag/html/filesystems.html\">filesystem</a> reads raw bytes from the disk and interprets those byte patterns as a tree of files and directories.</li>\n<li>The filesystem uses the <a href=\"http://www.makelinux.net/books/lkd2/ch13\">block device layer</a>, again part of the kernel, to obtain those raw bytes from the drive. (Fun fact: Linux lets you access raw data from the block device layer using <code>/dev/sda</code> and the like.)</li>\n<li>The block device layer invokes a storage device driver, which is also kernel code, to translate from a medium-level instruction like \"read sector X\" to individual <a href=\"https://docs.oracle.com/cd/E19455-01/806-3773/6jct9o0aj/index.html\">input/output instructions</a> in machine code. There are several types of storage device drivers, including <a href=\"https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/tree/drivers/ide\">IDE</a>, <a href=\"https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/tree/drivers/ata\">(S)ATA</a>, <a href=\"https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/tree/drivers/scsi\">SCSI</a>, <a href=\"https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/tree/drivers/firewire\">Firewire</a>, and so on, corresponding to the different communication standards that a drive could use. (Note that the naming is a mess.)</li>\n<li>The I/O instructions use the built-in capabilities of the processor chip and the motherboard controller to send and receive electrical signals on the wire going to the physical drive. This is hardware, not software.</li>\n<li>On the other end of the wire, the disk's firmware (embedded control code) interprets the electrical signals to spin the platters and move the heads (HDD), or read a flash ROM cell (SSD), or whatever is necessary to access data on that type of storage device.</li>\n</ul>\n\n<p>This may also be <a href=\"http://shouldiblamecaching.com/\">somewhat incorrect due to caching</a>. :-P Seriously though, there are many details that I've left out - a person (not me) could write multiple books describing how this whole process works. But that should give you an idea.</p>\n", "title": "What does opening a file actually do?", "answer_id": 33502563, "question_id": 33495283, "tags": ["c", "linux"]}, {"body": "<p>Bookkeeping, mostly. This includes various checks like \"Does the file exist?\" and \"Do I have the permissions to open this file for writing?\".</p>\n\n<p>But that's all kernel stuff - unless you're implementing your own toy OS, there isn't much to delve into (if you are, have fun - it's a great learning experience). Of course, you should still learn all the possible error codes you can receive while opening a file, so that you can handle them properly - but those are usually nice little abstractions.</p>\n\n<p>The most important part on the code level is that it gives you a <em>handle</em> to the open file, which you use for all of the other operations you do with a file. Couldn't you use the filename instead of this arbitrary handle? Well, sure - but using a handle gives you some advantages:</p>\n\n<ul>\n<li>The system can keep track of all the files that are currently open, and prevent them from being deleted (for example).</li>\n<li>Modern OSs are built around handles - there's tons of useful things you can do with handles, and all the different kinds of handles behave almost identically. For example, when an asynchronous I/O operation completes on a Windows file handle, the handle is signalled - this allows you to block on the handle until it's signalled, or to complete the operation entirely asynchronously. Waiting on a file handle is exactly the same as waiting on a thread handle (signalled e.g. when the thread ends), a process handle (again, signalled when the process ends), or a socket (when some asynchronous operation completes). Just as importantly, handles are owned by their respective processes, so when a process is terminated unexpectedly (or the application is poorly written), the OS knows what handles it can release.</li>\n<li>Most operations are positional - you <code>read</code> from the last position in your file. By using a handle to identify a particular \"opening\" of a file, you can have multiple concurrent handles to the same file, each reading from their own places. In a way, the handle acts as a moveable window into the file (and a way to issue asynchronous I/O requests, which are very handy).</li>\n<li>Handles are <em>much</em> smaller than file names. A handle is usually the size of a pointer, typically 4 or 8 bytes. On the other hand, filenames can have hundreds of bytes.</li>\n<li>Handles allow the OS to <em>move</em> the file, even though applications have it open - the handle is still valid, and it still points to the same file, even though the file name has changed.</li>\n</ul>\n\n<p>There's also some other tricks you can do (for example, share handles between processes to have a communication channel <em>without</em> using a physical file; on unix systems, files are also used for devices and various other virtual channels, so this isn't strictly necessary), but they aren't really tied to the <code>open</code> operation itself, so I'm not going to delve into that.</p>\n", "title": "What does opening a file actually do?", "answer_id": 33522073, "question_id": 33495283, "tags": ["c", "linux"]}, {"body": "<p>Basically, a call to open needs to find the file, and then record whatever it needs to so that later I/O operations can find it again. That's quite vague, but it will be true on all the operating systems I can immediately think of. The specifics vary from platform to platform. Many answers already on here talk about modern-day desktop operating systems. I've done a little programming on CP/M, so I will offer my knowledge about how it works on CP/M (MS-DOS probably works in the same way, but for security reasons, it is not normally done like this today).</p>\n\n<p>On CP/M you have a thing called the FCB (as you mentioned C, you could call it a struct; it really is a 35-byte contiguous area in RAM containing various fields). The FCB has fields to write the file-name and a (4-bit) integer identifying the disk drive. Then, when you call the kernel's Open File, you pass a pointer to this struct by placing it in one of the CPU's registers. Some time later, the operating system returns with the struct slightly changed. Whatever I/O you do to this file, you pass a pointer to this struct to the system call.</p>\n\n<p>What does CP/M do with this FCB? It reserves certain fields for its own use, and uses these to keep track of the file, so you had better not ever touch them from inside your program. The Open File operation searches through the table at the start of the disk for a file with the same name as what's in the FCB (the '?' wildcard character matches any character). If it finds a file, it copies some information into the FCB, including the file's physical location(s) on the disk, so that subsequent I/O calls ultimately call the BIOS which may pass these locations to the disk driver. At this level, specifics vary. </p>\n", "title": "What does opening a file actually do?", "answer_id": 33530649, "question_id": 33495283, "tags": ["c", "linux"]}], "question_id": 33495283}, {"body": "<p>Is it possible to get a random number between 1-100 and keep the results mainly within the 40-60 range? I mean, it will go out of that range rarely, but I want it to be mainly within that range... Is it possible with JavaScript/jQuery?</p>\n\n<p>Right now I'm just using the basic <code>Math.random() * 100 + 1</code>.</p>\n", "title": "Get a random number focused on center", "tags": ["javascript", "algorithm", "random", "numbers"], "answer_count": 20, "link": "http://stackoverflow.com/questions/30492259/get-a-random-number-focused-on-center", "answers": [{"body": "<p>Sure it is possible. Make a random 1-100. If the number is &lt;30 then generate number in range 1-100 if not generate in range 40-60. </p>\n", "title": "Get a random number focused on center", "answer_id": 30492333, "question_id": 30492259, "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<p>It <em>looks</em> stupid but you can use rand twice:</p>\n\n<pre><code>var choice = Math.random() * 3;\nvar result;\n\nif (choice &lt; 2){\n    result = Math.random() * 20 + 40; //you have 2/3 chance to go there\n}\nelse {\n    result = Math.random() * 100 + 1;\n}\n</code></pre>\n", "title": "Get a random number focused on center", "answer_id": 30492419, "question_id": 30492259, "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<p>I might do something like setup a \"chance\" for the number to be allowed to go \"out of bounds\". In this example, a 20% chance the number will be 1-100, otherwise, 40-60:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(function () {\r\n    $('button').click(function () {\r\n        var outOfBoundsChance = .2;\r\n        var num = 0;\r\n        if (Math.random() &lt;= outOfBoundsChance) {\r\n            num = getRandomInt(1, 100);\r\n        } else {\r\n            num = getRandomInt(40, 60);\r\n        }\r\n        $('#out').text(num);\r\n    });\r\n    \r\n    function getRandomInt(min, max) {\r\n        return Math.floor(Math.random() * (max - min + 1)) + min;\r\n    }\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;button&gt;Generate&lt;/button&gt;\r\n&lt;div id=\"out\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>fiddle: <a href=\"http://jsfiddle.net/kbv39s9w/\">http://jsfiddle.net/kbv39s9w/</a></p>\n", "title": "Get a random number focused on center", "answer_id": 30492471, "question_id": 30492259, "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<p>What about using something like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var loops = 10;\r\nvar tries = 10;\r\nvar div = $(\"#results\").html(random());\r\nfunction random() {\r\n    var values = \"\";\r\n    for(var i=0; i &lt; loops; i++) {\r\n        var numTries = tries;\r\n        do {\r\n            var num = Math.floor((Math.random() * 100) + 1);\r\n            numTries--;\r\n        }\r\n        while((num &lt; 40 || num &gt;60) &amp;&amp; numTries &gt; 1)\r\n        values += num + \"&lt;br/&gt;\";\r\n    }\r\n    return values;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"results\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The way I've coded it allows you to set a couple of variables:<br/>\n<strong>loops</strong> = number of results<br/>\n<strong>tries</strong> = number of times the function will try to get a number between 40-60 before it stops running through the while loop</p>\n\n<p>Added bonus: It uses do while!!! Awesomeness at its best</p>\n", "title": "Get a random number focused on center", "answer_id": 30492497, "question_id": 30492259, "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<pre><code>var randNum;\n// generate random number from 1-5\nvar freq = Math.floor(Math.random() * (6 - 1) + 1);\n// focus on 40-60 if the number is odd (1,3, or 5)\n// this should happen %60 of the time\nif (freq % 2){\n    randNum = Math.floor(Math.random() * (60 - 40) + 40);\n}\nelse {\n    randNum = Math.floor(Math.random() * (100 - 1) + 1);\n}\n</code></pre>\n", "title": "Get a random number focused on center", "answer_id": 30492530, "question_id": 30492259, "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<p>Here's a weighted solution at 3/4 40-60 and 1/4 outside that range.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function weighted() {\r\n\r\n  var w = 4;\r\n\r\n  // number 1 to w\r\n  var r = Math.floor(Math.random() * w) + 1;\r\n\r\n  if (r === 1) { // 1/w goes to outside 40-60\r\n    var n = Math.floor(Math.random() * 80) + 1;\r\n    if (n &gt;= 40 &amp;&amp; n &lt;= 60) n += 40;\r\n    return n\r\n  }\r\n  // w-1/w goes to 40-60 range.\r\n  return Math.floor(Math.random() * 21) + 40;\r\n}\r\n\r\nfunction test() {\r\n  var counts = [];\r\n\r\n  for (var i = 0; i &lt; 2000; i++) {\r\n    var n = weighted();\r\n    if (!counts[n]) counts[n] = 0;\r\n    counts[n] ++;\r\n  }\r\n  var output = document.getElementById('output');\r\n  var o = \"\";\r\n  for (var i = 1; i &lt;= 100; i++) {\r\n    o += i + \" - \" + (counts[i] | 0) + \"\\n\";\r\n  }\r\n  output.innerHTML = o;\r\n}\r\n\r\ntest();</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;pre id=\"output\"&gt;&lt;/pre&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "Get a random number focused on center", "answer_id": 30492701, "question_id": 30492259, "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<p>Ok, so I decided to add another answer because I felt like my last answer, as well as most answers here, use some sort of half-statistical way of obtaining a bell-curve type result return. The code I provide below works the same way as when you roll a dice. Therefore, it is hardest to get 1 or 99, but easiest to get 50.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var loops = 10; //Number of numbers generated\r\nvar min = 1,\r\n    max = 50;\r\nvar div = $(\"#results\").html(random());\r\n\r\nfunction random() {\r\n    var values = \"\";\r\n    for (var i = 0; i &lt; loops; i++) {\r\n        var one = generate();\r\n        var two = generate();\r\n        var ans = one + two - 1;\r\n        var num = values += ans + \"&lt;br/&gt;\";\r\n    }\r\n    return values;\r\n}\r\n\r\nfunction generate() {\r\n    return Math.floor((Math.random() * (max - min + 1)) + min);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"results\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "Get a random number focused on center", "answer_id": 30492965, "question_id": 30492259, "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<p>The simplest way would be to generate two random numbers from 0-50 and add them together.</p>\n\n<p>This gives a distribution biased towards 50, in the same way rolling two dice biases towards 7.</p>\n\n<p>By using different settings (<code>bellFactor</code>) as @Falco suggests, you can easily choose from even distribution or triangle distribution or different bell curves:</p>\n\n<pre><code>function weightedRandom(max, bellFactor) {\n    var num = 0;\n    for (var i = 0; i &lt; bellFactor; i++) {\n        num += Math.random() * (max/bellFactor);\n    }    \n    return num;\n}\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/WskvS.png\" alt=\"Weighted random numbers\"></p>\n\n<p>JSFiddle: <a href=\"http://jsfiddle.net/797qhcza/1/\">http://jsfiddle.net/797qhcza/1/</a></p>\n", "title": "Get a random number focused on center", "answer_id": 30495228, "question_id": 30492259, "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<p>I needed to solve this problem a few years ago and my solution was easier than any of the other answers. </p>\n\n<p>I generated 3 randoms between the bounds and averaged them. This pulls the result towards the centre but leaves it completely possible to reach the extremities. </p>\n", "title": "Get a random number focused on center", "answer_id": 30498545, "question_id": 30492259, "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<p>Taking arrays of numbers, etc. isn't efficient. You should take a mapping which takes a random number between 0 to 100 and maps to the distribution you need. So in your case, you could take <code>f(x)=-(1/25)x<sup>2</sup>+4x</code> to get a distribution with the most values in the middle of your range.</p>\n\n<p><img src=\"http://i.stack.imgur.com/kCfOL.png\" alt=\"Distribution\"></p>\n", "title": "Get a random number focused on center", "answer_id": 30498855, "question_id": 30492259, "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<p>There is a lot of different ways to generate such random numbers. One way to do it is to compute the sum of multiple uniformly random numbers. How many random numbers you sum and what their range is will determine how the final distribution will look.</p>\n\n<p>The more numbers you sum up, the more it will be biased towards the center. Using the <em>sum of 1 random number</em> was already proposed in your question, but as you notice is not biased towards the center of the range. Other answers have propose using the <a href=\"http://stackoverflow.com/a/30495228/3476849\">sum of 2 random numbers</a> or the <a href=\"http://stackoverflow.com/a/30498545/3476849\">sum of 3 random numbers</a>.</p>\n\n<p>You can get even more bias towards the center of the range by taking the sum of more random numbers. At the extreme you could take the sum of 99 random numbers which each were either 0 or 1. That would be a binomial distribution. (Binomial distributions can in some sense be seen as the discrete version of normal distributions). This can still in theory cover the full range, but it has so much bias towards the center that you should never expect to see it reach the endpoints.</p>\n\n<p>This approach means you can tweak just how much bias you want.</p>\n", "title": "Get a random number focused on center", "answer_id": 30504383, "question_id": 30492259, "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<p>You can write a function that maps random values between <code>[0, 1)</code> to <code>[1, 100]</code> according to weight. Consider this example:</p>\n\n<p><img src=\"http://i.stack.imgur.com/9VsHy.png\" alt=\"0.0-1.0 to 1-100 by percentage weight\"></p>\n\n<p>Here, the value <code>0.95</code> maps to value between <code>[61, 100]</code>.<br>\nIn fact we have <code>.05 / .1 = 0.5</code>, which, when mapped to <code>[61, 100]</code>, yields <code>81</code>.</p>\n\n<p>Here is the function:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>/*\r\n * Function that returns a function that maps random number to value according to map of probability\r\n */\r\nfunction createDistributionFunction(data) {\r\n  // cache data + some pre-calculations\r\n  var cache = [];\r\n  var i;\r\n  for (i = 0; i &lt; data.length; i++) {\r\n    cache[i] = {};\r\n    cache[i].valueMin = data[i].values[0];\r\n    cache[i].valueMax = data[i].values[1];\r\n    cache[i].rangeMin = i === 0 ? 0 : cache[i - 1].rangeMax;\r\n    cache[i].rangeMax = cache[i].rangeMin + data[i].weight;\r\n  }\r\n  return function(random) {\r\n    var value;\r\n    for (i = 0; i &lt; cache.length; i++) {\r\n      // this maps random number to the bracket and the value inside that bracket\r\n      if (cache[i].rangeMin &lt;= random &amp;&amp; random &lt; cache[i].rangeMax) {\r\n        value = (random - cache[i].rangeMin) / (cache[i].rangeMax - cache[i].rangeMin);\r\n        value *= cache[i].valueMax - cache[i].valueMin + 1;\r\n        value += cache[i].valueMin;\r\n        return Math.floor(value);\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\n/*\r\n * Example usage\r\n */\r\nvar distributionFunction = createDistributionFunction([\r\n  { weight: 0.1, values: [1, 40] },\r\n  { weight: 0.8, values: [41, 60] },\r\n  { weight: 0.1, values: [61, 100] }\r\n]);\r\n\r\n/*\r\n * Test the example and draw results using Google charts API\r\n */\r\nfunction testAndDrawResult() {\r\n  var counts = [];\r\n  var i;\r\n  var value;\r\n  // run the function in a loop and count the number of occurrences of each value\r\n  for (i = 0; i &lt; 10000; i++) {\r\n    value = distributionFunction(Math.random());\r\n    counts[value] = (counts[value] || 0) + 1;\r\n  }\r\n  // convert results to datatable and display\r\n  var data = new google.visualization.DataTable();\r\n  data.addColumn(\"number\", \"Value\");\r\n  data.addColumn(\"number\", \"Count\");\r\n  for (value = 0; value &lt; counts.length; value++) {\r\n    if (counts[value] !== undefined) {\r\n      data.addRow([value, counts[value]]);\r\n    }\r\n  }\r\n  var chart = new google.visualization.ColumnChart(document.getElementById(\"chart\"));\r\n  chart.draw(data);\r\n}\r\ngoogle.load(\"visualization\", \"1\", { packages: [\"corechart\"] });\r\ngoogle.setOnLoadCallback(testAndDrawResult);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://www.google.com/jsapi\"&gt;&lt;/script&gt;\r\n&lt;div id=\"chart\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "Get a random number focused on center", "answer_id": 30506894, "question_id": 30492259, "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<p>You have some good answers here that give specific solutions; let me describe for you the general solution.  The problem is:</p>\n\n<ul>\n<li>I have a source of more-or-less <em>uniformly</em> distributed random numbers between 0 and 1.</li>\n<li>I wish to produce a sequence of random numbers that follow a different distribution.</li>\n</ul>\n\n<p>The general solution to this problem is to work out the <em>quantile function</em> of your desired distribution, and then apply the quantile function to the output of your uniform source.</p>\n\n<p>The quantile function is the <em>inverse</em> of the <em>integral</em> of your desired <em>distribution function</em>. The distribution function is the function where the area under a portion of the curve is equal to the probability that the randomly-chosen item will be in that portion.</p>\n\n<p>I give an example of how to do so here:</p>\n\n<p><a href=\"http://ericlippert.com/2012/02/21/generating-random-non-uniform-data/\">http://ericlippert.com/2012/02/21/generating-random-non-uniform-data/</a></p>\n\n<p>The code in there is in C#, but the principles apply to any language; it should be straightforward to adapt the solution to JavaScript.</p>\n", "title": "Get a random number focused on center", "answer_id": 30519350, "question_id": 30492259, "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<p>The best solution targeting this very problem is the one proposed by <a href=\"http://stackoverflow.com/a/30495228/2144232\">BlueRaja - Danny Pflughoeft</a> but I think a somewhat faster and more general solution is also worth mentioning.</p>\n\n<hr>\n\n<p>When I have to generate random numbers (strings, coordinate pairs, etc.) satisfying the two requirements of</p>\n\n<ol>\n<li>The result set is quite small. (not larger than 16K numbers)</li>\n<li>The result set is discreet. (like integer numbers only)</li>\n</ol>\n\n<p>I usually start by creating an array of numbers (strings, coordinate pairs, etc.) fulfilling the requirement (In your case: an array of numbers containing the more probable ones multiple times.), then choose a random item of that array. This way, you only have to call the expensive random function once per item.</p>\n", "title": "Get a random number focused on center", "answer_id": 30524667, "question_id": 30492259, "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<p>The best way to do that is generating a random number that is distributed equally in a certain set of numbers, and then apply a projection function to the set between 0 and a 100 where the projection is more likely to hit the numbers you want.</p>\n\n<p>Typically the mathematical way of achieving this is plotting a probability function of the numbers you want. We could use the bell curve, but let's for the sake of easier calculation just work with a flipped parabola.</p>\n\n<p>Let's make a parabola such that its roots are at 0 and 100 without skewing it. We get the following equation:</p>\n\n<pre><code>f(x) = -(x-0)(x-100) = -x * (x-100) = -x^2 + 100x\n</code></pre>\n\n<p>Now, all the area under the curve between 0 and 100 is representative of our first set where we want the numbers generated. There, the generation is completely random. So, all we need to do is find the bounds of our first set.</p>\n\n<p>The lower bound is, of course, 0. The upper bound is the integral of our function at 100, which is</p>\n\n<pre><code>F(x) = -x^3/3 + 50x^2\nF(100) = 500,000/3 = 166,666.66666 (let's just use 166,666, because rounding up would make the target out of bounds)\n</code></pre>\n\n<p>So we know that we need to generate a number somewhere between 0 and 166,666. Then, we simply need to take that number and project it to our second set, which is between 0 and 100.</p>\n\n<p>We know that the random number we generated is some integral of our parabola with an input x between 0 and 100. That means that we simply have to assume that the random number is the result of F(x), and solve for x.</p>\n\n<p>In this case, F(x) is a cubic equation, and in the form <code>F(x) = ax^3 + bx^2 + cx + d = 0</code>, the following statements are true:</p>\n\n<pre><code>a = -1/3\nb = 50\nc = 0\nd = -1 * (your random number)\n</code></pre>\n\n<p>Solving this for x yields you the actual random number your are looking for, which is guaranteed to be in the [0, 100] range and a much higher likelihood to be close to the center than the edges.</p>\n", "title": "Get a random number focused on center", "answer_id": 30581754, "question_id": 30492259, "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<p>I'd recommend using the <a href=\"http://en.wikipedia.org/wiki/Beta_distribution\">beta distribution</a> to generate a number between 0-1, then scale it up. It's quite flexible and can create many different shapes of distributions.</p>\n\n<p>Here's a quick and dirty sampler:</p>\n\n<pre><code>rbeta = function(alpha, beta) {\n var a = 0   \n for(var i = 0; i &lt; alpha; i++)   \n    a -= Math.log(Math.random())\n\n var b = 0   \n for(var i = 0; i &lt; beta; i++)   \n    b -= Math.log(Math.random())\n\n  return Math.ceil(100 * a / (a+b))\n}\n</code></pre>\n", "title": "Get a random number focused on center", "answer_id": 30607900, "question_id": 30492259, "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<p>You can use a helper random number to whether generate random numbers in 40-60 or 1-100:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// 90% of random numbers should be between 40 to 60.\r\nvar weight_percentage = 90;\r\n\r\nvar focuse_on_center = ( (Math.random() * 100) &lt; weight_percentage );\r\n\r\nif(focuse_on_center)\r\n{\r\n\t// generate a random number within the 40-60 range.\r\n\talert (40 + Math.random() * 20 + 1);\r\n}\r\nelse\r\n{\r\n\t// generate a random number within the 1-100 range.\r\n\talert (Math.random() * 100 + 1);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "Get a random number focused on center", "answer_id": 30616868, "question_id": 30492259, "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<p>If you can use the <code>gaussian</code> function, use it. This function returns normal number with <code>average 0</code> and <code>sigma 1</code>.</p>\n\n<p>95% of this number are within <code>average +/- 2*sigma</code>. Your <code>average = 50</code>, and <code>sigma = 5</code> so</p>\n\n<pre><code>randomNumber = 50 + 5*gaussian()\n</code></pre>\n", "title": "Get a random number focused on center", "answer_id": 30625160, "question_id": 30492259, "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<p><a href=\"http://stackoverflow.com/a/30495228/1237747\">This answer is really good</a>. But I would like to post implementation instructions (I'm not into JavaScript, so I hope you will understand) for different situation.</p>\n\n<hr>\n\n<p>Assume you have ranges and weights for every range:</p>\n\n<pre><code>ranges - [1, 20], [21, 40], [41, 60], [61, 100]\nweights - {1, 2, 100, 5}\n</code></pre>\n\n<hr>\n\n<p>Initial Static Information, could be cached:</p>\n\n<ol>\n<li>Sum of all weights (108 in sample)</li>\n<li>Range selection boundaries. It basically this formula: <code>Boundary[n] = Boundary[n - 1] + weigh[n - 1]</code> and <code>Boundary[0] = 0</code>. Sample has <code>Boundary = {0, 1, 3, 103, 108}</code></li>\n</ol>\n\n<p>Number generation:</p>\n\n<ol>\n<li>Generate random number <code>N</code> from range [0, Sum of all weights).</li>\n<li><code>for (i = 0; i &lt; size(Boundary) &amp;&amp; N &gt; Boundary[i + 1]; ++i)</code></li>\n<li>Take <code>i</code>th range and generate random number in that range.</li>\n</ol>\n\n<hr>\n\n<p>Additional note for performance optimizations. Ranges don't have to be ordered neither ascending nor descending order, so for faster range look-up range that has highest weight should go first and one with lowest weight should go last.</p>\n", "title": "Get a random number focused on center", "answer_id": 30645575, "question_id": 30492259, "tags": ["javascript", "algorithm", "random", "numbers"]}, {"body": "<p>Distribution</p>\n\n<pre><code> 5% for [ 0,39]\n90% for [40,59]\n 5% for [60,99]\n</code></pre>\n\n<p>Solution</p>\n\n<pre><code>var f = Math.random();\nif (f &lt; 0.05) return random(0,39);\nelse if (f &lt; 0.95) return random(40,59);\nelse return random(60,99);\n</code></pre>\n\n<p>Generic Solution</p>\n\n<pre><code>random_choose([series(0,39),series(40,59),series(60,99)],[0.05,0.90,0.05]);\n\nfunction random_choose (collections,probabilities)\n{\n    var acc = 0.00;\n    var r1 = Math.random();\n    var r2 = Math.random();\n\n    for (var i = 0; i &lt; probabilities.length; i++)\n    {\n      acc += probabilities[i];\n      if (r1 &lt; acc)\n        return collections[i][Math.floor(r2*collections[i].length)];\n    }\n\n    return (-1);\n}\n\nfunction series(min,max)\n{\n    var i = min; var s = [];\n    while (s[s.length-1] &lt; max) s[s.length]=i++;\n    return s;\n}\n</code></pre>\n", "title": "Get a random number focused on center", "answer_id": 30652696, "question_id": 30492259, "tags": ["javascript", "algorithm", "random", "numbers"]}], "question_id": 30492259}, {"body": "<p>I have recently started to learn C and I am taking a class with C as the subject. I'm currently playing around with loops and I'm running into some odd behaviour which I don't know how to explain. </p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint main()\n{\n  int array[10],i;\n\n  for (i = 0; i &lt;=10 ; i++)\n  {\n    array[i]=0; /*code should never terminate*/\n    printf(\"test \\n\");\n\n  }\n  printf(\"%d \\n\", sizeof(array)/sizeof(int));\n  return 0;\n}\n</code></pre>\n\n<p>On my laptop running Ubuntu 14.04, this code does not break. It runs to completion. On my school's computer running CentOS 6.6, it also runs fine. On Windows 8.1, the loop never terminates. </p>\n\n<p>What's even more strange is that when I edit the condition of the <code>for</code> loop to: <code>i &lt;= 11</code>, the code only terminates on my laptop running Ubuntu. It never terminates in CentOS and Windows. </p>\n\n<p>Can anyone explain what's happening in the memory and why the different OSes running the same code give different outcomes? </p>\n\n<p>EDIT: I know the for loop goes out of bounds. I'm doing it intentionally. I just can't figure out how the behaviour can be different across different OSes and computers. </p>\n", "title": "Why does this for loop exit on some platforms and not on others?", "tags": ["c", "debugging", "undefined-behavior", "buffer-overflow"], "answer_count": 14, "link": "http://stackoverflow.com/questions/31016660/why-does-this-for-loop-exit-on-some-platforms-and-not-on-others", "answers": [{"body": "<p>Unlike Java, C doesn't do array boundary check, i.e, there's no <code>ArrayIndexOutOfBoundsException</code>, the job of making sure the array index is valid is left to the programmer. Doing this on purpose leads to undefined behavior, anything could happen.</p>\n\n<hr>\n\n<p>For an array:</p>\n\n<pre><code>int array[10]\n</code></pre>\n\n<p>indexes are only valid in the range <code>0</code> to <code>9</code>. However, you are trying to:</p>\n\n<pre><code>for (i = 0; i &lt;=10 ; i++)\n</code></pre>\n\n<p>access <code>array[10]</code> here, change the condition to <code>i &lt; 10</code></p>\n", "title": "Why does this for loop exit on some platforms and not on others?", "answer_id": 31016691, "question_id": 31016660, "tags": ["c", "debugging", "undefined-behavior", "buffer-overflow"]}, {"body": "<p>The bug lies between these pieces of code:</p>\n\n<pre><code>int array[10],i;\n\nfor (i = 0; i &lt;=10 ; i++)\n\narray[i]=0;\n</code></pre>\n\n<p>Since <code>array</code> only has 10 elements, in the last iteration <code>array[10] = 0;</code> is a buffer overflow. Buffer overflows are <strong>UNDEFINED BEHAVIOR</strong>, which means they might format your hard drive or cause demons to fly out of your nose.</p>\n\n<p>It is fairly common for all stack variables to be laid out adjacent to each other. If <code>i</code> is located where <code>array[10]</code> writes to, then the UB will reset <code>i</code> to <code>0</code>, thus leading to the unterminated loop.</p>\n\n<p>To fix, change the loop condition to <code>i &lt; 10</code>.</p>\n", "title": "Why does this for loop exit on some platforms and not on others?", "answer_id": 31016696, "question_id": 31016660, "tags": ["c", "debugging", "undefined-behavior", "buffer-overflow"]}, {"body": "<p>Since you created an array of size 10, for loop condition should be as follows:</p>\n\n<pre><code>int array[10],i;\n\nfor (i = 0; i &lt;10 ; i++)\n{\n</code></pre>\n\n<p>Currently you are trying to access the unassigned location from the memory using <code>array[10]</code> and it is causing the <strong>undefined behavior</strong>.  Undefined behavior means your program will behave undetermined fashion, so it can give different outputs in each execution.</p>\n", "title": "Why does this for loop exit on some platforms and not on others?", "answer_id": 31016697, "question_id": 31016660, "tags": ["c", "debugging", "undefined-behavior", "buffer-overflow"]}, {"body": "<p>You declare <code>int array[10]</code> means <code>array</code> has index <code>0</code> to <code>9</code> (total <code>10</code> integer elements it can hold). But the following loop,</p>\n\n<pre><code>for (i = 0; i &lt;=10 ; i++)\n</code></pre>\n\n<p>will loop <code>0</code> to <code>10</code> means <code>11</code> time. Hence when <code>i = 10</code> it will overflow the buffer and cause <a href=\"https://en.wikipedia.org/wiki/Undefined_behavior\" rel=\"nofollow\">Undefined Behavior</a>.</p>\n\n<p>So try this:</p>\n\n<pre><code>for (i = 0; i &lt; 10 ; i++)\n</code></pre>\n\n<p>or,</p>\n\n<pre><code>for (i = 0; i &lt;= 9 ; i++)\n</code></pre>\n", "title": "Why does this for loop exit on some platforms and not on others?", "answer_id": 31016711, "question_id": 31016660, "tags": ["c", "debugging", "undefined-behavior", "buffer-overflow"]}, {"body": "<p>You have a bounds violation, and on the non-terminating platforms, I believe you are inadvertently setting <code>i</code> to zero at the end of the loop, so that it starts over again.</p>\n\n<p><code>array[10]</code> is invalid; it contains 10 elements, <code>array[0]</code> through <code>array[9]</code>, and <code>array[10]</code> is the 11th.  Your loop should be written to stop <em>before</em> <code>10</code>, as follows:</p>\n\n<pre><code>for (i = 0; i &lt; 10; i++)\n</code></pre>\n\n<p>Where <code>array[10]</code> lands is implementation-defined, and amusingly, on two of your platforms, it lands on <code>i</code>, which those platforms apparently lay out directly after <code>array</code>.  <code>i</code> is set to zero and the loop continues forever.  For your other platforms, <code>i</code> may be located before <code>array</code>, or <code>array</code> may have some padding after it.</p>\n", "title": "Why does this for loop exit on some platforms and not on others?", "answer_id": 31016733, "question_id": 31016660, "tags": ["c", "debugging", "undefined-behavior", "buffer-overflow"]}, {"body": "<p>Well, C compiler traditionally does not check for bounds.  You can get a segmentation fault in case you refer to a location that does not \"belong\" to your process.  However, the local variables are allocated on stack and depending on the way the memory is allocated, the area just beyond the array (<code>array[10]</code>) may belong to the process' memory segment.  Thus, no segmentation fault trap is thrown and that is what you seem to experience.  As others have pointed out, this is undefined behavior in C and your code may be considered erratic.  Since you are learning C, you are better off getting into the habit of checking for bounds in your code.</p>\n", "title": "Why does this for loop exit on some platforms and not on others?", "answer_id": 31016782, "question_id": 31016660, "tags": ["c", "debugging", "undefined-behavior", "buffer-overflow"]}, {"body": "<blockquote>\n  <p>On my laptop running Ubuntu 14.04, this code does not break it runs to completion. On my school's computer running CentOS 6.6, it also runs fine. On Windows 8.1, the loop never terminates.</p>\n  \n  <p>What is more strange is when I edit the conditional of the <code>for</code> loop to: <code>i &lt;= 11</code>, the code only terminates on my laptop running Ubuntu. CentOS and Windows never terminates. </p>\n</blockquote>\n\n<p>You've just discovered memory stomping.  You can read more about it here: <a href=\"http://stackoverflow.com/questions/13669329/what-is-a-memory-stomp\">What is a \u201cmemory stomp\u201d?</a></p>\n\n<p>When you allocate <code>int array[10],i;</code>, those variables go into memory (specifically, they're allocated on the stack, which is a block of memory associated with the function).  <code>array[]</code> and <code>i</code> are probably adjacent to each other in memory.  It seems that on Windows 8.1, <code>i</code> is located at <code>array[10]</code>.  On CentOS, <code>i</code> is located at <code>array[11]</code>.  And on Ubuntu, it's in neither spot (maybe it's at <code>array[-1]</code>?).</p>\n\n<p>Try adding these debugging statements to your code.  You should notice that on iteration 10 or 11, <code>array[i]</code> points at <code>i</code>.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint main() \n{ \n  int array[10],i; \n\n  printf (\"array: %p, &amp;i: %p\\n\", array, &amp;i); \n  printf (\"i is offset %d from array\\n\", &amp;i - array);\n\n  for (i = 0; i &lt;=11 ; i++) \n  { \n    printf (\"%d: Writing 0 to address %p\\n\", i, &amp;array[i]); \n    array[i]=0; /*code should never terminate*/ \n  } \n  return 0; \n} \n</code></pre>\n", "title": "Why does this for loop exit on some platforms and not on others?", "answer_id": 31016813, "question_id": 31016660, "tags": ["c", "debugging", "undefined-behavior", "buffer-overflow"]}, {"body": "<p>There are two things wrong here. The int i is actually an array element, array[10], as seen on the stack. Because you have allowed the indexing to actually make array[10] = 0, the loop index, i, will never exceed 10. Make it <code>for(i=0; i&lt;10; i+=1)</code>.</p>\n\n<p>i++ is, as <a href=\"https://en.wikipedia.org/wiki/The_C_Programming_Language\" rel=\"nofollow\">K&amp;R</a> would call it, 'bad style'. It is incrementing i by the size of i, not 1. i++ is for pointer math and i+=1 is for algebra. While this depends on the compiler, it is not a good convention for portability. </p>\n", "title": "Why does this for loop exit on some platforms and not on others?", "answer_id": 31030444, "question_id": 31016660, "tags": ["c", "debugging", "undefined-behavior", "buffer-overflow"]}, {"body": "<p>In what should be the last run of the loop,you write to <code>array[10]</code>, but there are only 10 elements in the array, numbered 0 through 9. The C language specification says that this is \u201cundefined behavior\u201d. What this means in practice is that your program will attempt to write to the <code>int</code>-sized piece of memory that lies immediately after <code>array</code> in memory. What happens then depends on what does, in fact, lie there, and this depends not only on the operating system but more so on the compiler, on the compiler options (such as optimization settings), on the processor architecture, on the surrounding code, etc. It could even vary from execution to execution, e.g. due to <a href=\"https://en.wikipedia.org/wiki/Address_space_layout_randomization\">address space randomization</a> (probably not on this toy example, but it does happen in real life). Some possibilities include:</p>\n\n<ul>\n<li>The location wasn't used. The loop terminates normally.</li>\n<li>The location was used for something which happened to have the value 0. The loop terminates normally.</li>\n<li>The location contained the function's return address. The loop terminates normally, but then the program crashes because it tries to jump to the address 0.</li>\n<li>The location contains the variable <code>i</code>. The loop never terminates because <code>i</code> restarts at 0.</li>\n<li>The location contains some other variable. The loop terminates normally, but then \u201cinteresting\u201d things happen.</li>\n<li>The location is an invalid memory address, e.g. because <code>array</code> is right at the end of a virtual memory page and the next page isn't mapped.</li>\n<li><a href=\"http://catb.org/jargon/html/N/nasal-demons.html\">Demons fly out of your nose</a>. Fortunately most computers lack the requisite hardware.</li>\n</ul>\n\n<p>What you observed on Windows was that the compiler decided to place the variable <code>i</code> immediately after the array in memory, so <code>array[10] = 0</code> ended up assigning to <code>i</code>. On Ubuntu and CentOS, the compiler didn't place <code>i</code> there. Almost all C implementations do group local variables in memory, on a <a href=\"https://en.wikipedia.org/wiki/Stack-based_memory_allocation\">memory stack</a>, with one major exception: some local variables can be placed entirely in <a href=\"https://en.wikipedia.org/wiki/Processor_register\">registers</a>. Even if the variable is on the stack, the order of variables is determined by the compiler, and it may depend not only on the order in the source file but also on their types (to avoid wasting memory to alignment constraints that would leave holes), on their names, on some hash value used in a compiler's internal data structure, etc.</p>\n\n<p>If you want to find out what your compiler decided to do, you can tell it to show you the assembler code. Oh, and learn to decipher assembler (it's easier than writing it). With GCC (and some other compilers, especially in the Unix world), pass the option <code>-S</code> to produce assembler code instead of a binary. For example, here's the assembler snippet for the loop from compiling with GCC on amd64 with the optimization option <code>-O0</code> (no optimization), with comments added manually:</p>\n\n<pre><code>.L3:\n    movl    -52(%rbp), %eax           ; load i to register eax\n    cltq\n    movl    $0, -48(%rbp,%rax,4)      ; set array[i] to 0\n    movl    $.LC0, %edi\n    call    puts                      ; printf of a constant string was optimized to puts\n    addl    $1, -52(%rbp)             ; add 1 to i\n.L2:\n    cmpl    $10, -52(%rbp)            ; compare i to 10\n    jle     .L3\n</code></pre>\n\n<p>Here the variable <code>i</code> is 52 bytes below the top of the stack, while the array starts 48 bytes below the top of the stack. So this compiler happens to have placed <code>i</code> just before the array; you'd overwrite <code>i</code> if you happened to write to <code>array[-1]</code>. If you change <code>array[i]=0</code> to <code>array[9-i]=0</code>, you'll get an infinite loop on this particular platform with these particular compiler options.</p>\n\n<p>Now let's compile your program with <code>gcc -O1</code>.</p>\n\n<pre><code>    movl    $11, %ebx\n.L3:\n    movl    $.LC0, %edi\n    call    puts\n    subl    $1, %ebx\n    jne     .L3\n</code></pre>\n\n<p>That's shorter! The compiler has not only declined to allocate a stack location for <code>i</code> \u2014 it's only ever stored in the register <code>ebx</code> \u2014 but it hasn't bothered to allocate any memory for <code>array</code>, or to generate code to set its elements, because it noticed that none of the elements are ever used.</p>\n\n<p>To make this example more telling, let's ensure that the array assignments are performed by providing the compiler with something it isn't able to optimize away. An easy way to do that is to use the array from another file \u2014\u00a0because of separate compilation, the compiler doesn't know what happens in another file (unless it optimizes at link time, which <code>gcc -O0</code> or <code>gcc -O1</code> doesn't). Create a source file <code>use_array.c</code> containing</p>\n\n<pre><code>void use_array(int *array) {}\n</code></pre>\n\n<p>and change your source code to</p>\n\n<pre><code>#include &lt;stdio.h&gt;\nvoid use_array(int *array);\n\nint main()\n{\n  int array[10],i;\n\n  for (i = 0; i &lt;=10 ; i++)\n  {\n    array[i]=0; /*code should never terminate*/\n    printf(\"test \\n\");\n\n  }\n  printf(\"%zd \\n\", sizeof(array)/sizeof(int));\n  use_array(array);\n  return 0;\n}\n</code></pre>\n\n<p>Compile with</p>\n\n<pre><code>gcc -c use_array.c\ngcc -O1 -S -o with_use_array1.c with_use_array.c use_array.o\n</code></pre>\n\n<p>This time the assembler code looks like this:</p>\n\n<pre><code>    movq    %rsp, %rbx\n    leaq    44(%rsp), %rbp\n.L3:\n    movl    $0, (%rbx)\n    movl    $.LC0, %edi\n    call    puts\n    addq    $4, %rbx\n    cmpq    %rbp, %rbx\n    jne     .L3\n</code></pre>\n\n<p>Now the array is on the stack, 44 bytes from the top. What about <code>i</code>? It doesn't appear anywhere! But the loop counter is kept in the register <code>rbx</code>. It's not exactly <code>i</code>, but the address of the <code>array[i]</code>. The compiler has decided that since the value of <code>i</code> was never used directly, there was no point in performing arithmetic to calculate where to store 0 during each run of the loop. Instead that address is the loop variable, and the arithmetic to determine the boundaries was performed partly at compile time (multiply 11 iterations by 4 bytes per array element to get 44) and partly at run time but once and for all before the loop starts (perform a subtraction to get the initial value).</p>\n\n<p>Even on this very simple example, we've seen how changing compiler options (turn on optimization) or changing something minor (<code>array[i]</code> to <code>array[9-i]</code>) or even changing something apparently unrelated (adding the call to <code>use_array</code>) can make a significant difference to what the executable program generated by the compiler does. <strong>Compiler optimizations can do a lot of things that may appear unintuitive on programs that invoke undefined behavior</strong>. That's why undefined behavior is left completely undefined. When you deviate ever so slightly from the tracks, in real-world programs, it can be very hard to understand the relationship between what the code does and what it should have done, even for experienced programmers.</p>\n", "title": "Why does this for loop exit on some platforms and not on others?", "answer_id": 31030598, "question_id": 31016660, "tags": ["c", "debugging", "undefined-behavior", "buffer-overflow"]}, {"body": "<p>Beyond the possibility that memory might be laid out so that an attempt to write to <code>a[10]</code> actually overwrites <code>i</code>, it would also be possible that an optimizing compiler might determine that the loop test cannot be reached with a value of <code>i</code> greater than ten without code having first accessed the non-existent array element <code>a[10]</code>.</p>\n\n<p>Since an attempt to access that element would be undefined behavior, the compiler would have no obligations with regard to what the program might do after that point. More specifically, since the compiler would have no obligation to generate code to check the loop index in any case where it might be greater than ten, it would have no obligation to generate code to check it at all; it could instead assume that the <code>&lt;=10</code> test will always yield true. Note that this would be true even if the code would read <code>a[10]</code> rather than writing it.</p>\n", "title": "Why does this for loop exit on some platforms and not on others?", "answer_id": 31032544, "question_id": 31016660, "tags": ["c", "debugging", "undefined-behavior", "buffer-overflow"]}, {"body": "<p>When you iterate past <code>i==9</code> you assign zero to the 'array items' which are actually located <strong>past the array</strong>, so you're overwritnig some other data. Most probably you overwrite the <code>i</code> variable, which is located after <code>a[]</code>. That way you simply <strong>reset the <code>i</code> variable to zero</strong> and thus restart the loop.</p>\n\n<p>You could discover that yourself if you printed <code>i</code> in the loop:  </p>\n\n<pre><code>      printf(\"test i=%d\\n\", i);\n</code></pre>\n\n<p>instead of just</p>\n\n<pre><code>      printf(\"test \\n\");\n</code></pre>\n\n<p>Of course that result strongly depends on the memory allocation for your variables, which in turn depends on a compiler and its settings, so it is generally <strong>Undefined Behavior</strong> \u2014 that's why results on different machines or different operating systems or on different compilers may differ.</p>\n", "title": "Why does this for loop exit on some platforms and not on others?", "answer_id": 31041499, "question_id": 31016660, "tags": ["c", "debugging", "undefined-behavior", "buffer-overflow"]}, {"body": "<p>It is undefined at <code>array[10]</code>, and gives <strong>undefined behavior</strong> as described before. Think about it like this:</p>\n\n<p>I have 10 items in my grocery cart. They are:</p>\n\n<p>0: A box of cereal<br>\n1: Bread<br>\n2: Milk<br>\n3: Pie<br>\n4: Eggs<br>\n5: Cake<br>\n6: A 2 liter of soda<br>\n7: Salad<br>\n8: Burgers<br>\n9: Ice cream<br></p>\n\n<p><code>cart[10]</code> is undefined, and may give an out of bounds exception in some compilers. But, a lot apparently don't. The apparent 11th item is an item not <strong>actually in the cart.</strong> The 11th item is pointing to, what I'm going to call, a \"poltergeist item.\" It never existed, but it was there.</p>\n\n<p>Why some compilers give <code>i</code> an index of <code>array[10]</code> or <code>array[11]</code> or even <code>array[-1]</code> is because of your initialization/declaration statement. Some compilers interpret this as:</p>\n\n<ul>\n<li>\"Allocate 10 blocks of <code>int</code>s for <code>array[10]</code> and another <code>int</code> block. <strong>to make it easier,</strong> put them right next to each other.\"</li>\n<li>Same as before, but move it a space or two away, so that <code>array[10]</code> doesn't point to <code>i</code>.</li>\n<li>Do the same as before, but allocate <code>i</code> at <code>array[-1]</code> (because an index of an array can't, or shouldn't, be negative), or allocate it at a completely different spot because the OS can handle it, and it's <strong>safer.</strong></li>\n</ul>\n\n<p>Some compilers want things to go quicker, and some compilers prefer safety. It's all about the context. If I was developing an app for the ancient BREW OS (the OS of a basic phone), for example, it wouldn't care about safety. If I was developing for an iPhone 6, then it could run fast no matter what, so I would need an emphasis on safety. (Seriously, have you read Apple's App Store Guidelines, or read up on the development of Swift and Swift 2.0?)</p>\n", "title": "Why does this for loop exit on some platforms and not on others?", "answer_id": 31088644, "question_id": 31016660, "tags": ["c", "debugging", "undefined-behavior", "buffer-overflow"]}, {"body": "<p>the error is in portion array[10] w/c is also address of i (int array[10],i;). \nwhen array[10] is set to 0 then the i would be 0 w/c resets the entire loop and \ncauses the infinite loop. \n    there will be infinite loop if  array[10] is between 0-10.the correct loop should be for (i = 0; i &lt;10 ; i++) {...} \n            int array[10],i;\n            for (i = 0; i &lt;=10 ; i++)\n            array[i]=0;</p>\n", "title": "Why does this for loop exit on some platforms and not on others?", "answer_id": 31543682, "question_id": 31016660, "tags": ["c", "debugging", "undefined-behavior", "buffer-overflow"]}, {"body": "<p>I will suggest something that I dint find above:</p>\n\n<p>Try assigning array[i] = 20;</p>\n\n<p>I guess this should terminate the code everywhere.. (given you keep i&lt; =10 or ll)</p>\n\n<p>If this runs you can firmly decide that the answers specified here already are correct [the answer related to memory stomping one for ex.] </p>\n", "title": "Why does this for loop exit on some platforms and not on others?", "answer_id": 31547189, "question_id": 31016660, "tags": ["c", "debugging", "undefined-behavior", "buffer-overflow"]}], "question_id": 31016660}, {"body": "<p>Using IntelliJ IDE can't compile any projects. Screenshots of settings below:</p>\n\n<p>Used JDK:</p>\n\n<p><a href=\"http://i.stack.imgur.com/cpggk.png\"><img src=\"http://i.stack.imgur.com/cpggk.png\" alt=\"http://gyazo.com/b6e32119af7b04090d890cad04db6373\"></a></p>\n\n<p>Project SDK and Language level:</p>\n\n<p><a href=\"http://i.stack.imgur.com/0gEQl.png\"><img src=\"http://i.stack.imgur.com/0gEQl.png\" alt=\"http://gyazo.com/55a5fc9f7f2bb721a04780ce9d74eeab\"></a></p>\n\n<p>Language Level:</p>\n\n<p><a href=\"http://i.stack.imgur.com/8z6A4.png\"><img src=\"http://i.stack.imgur.com/8z6A4.png\" alt=\"http://gyazo.com/143bffad63fd89cafc231298729df2fc\"></a></p>\n\n<p>Anybody have any ideas?</p>\n", "title": "Error:java: javacTask: source release 8 requires target release 1.8", "tags": ["java", "intellij-idea"], "answer_count": 9, "link": "http://stackoverflow.com/questions/29888592/errorjava-javactask-source-release-8-requires-target-release-1-8", "answers": [{"body": "<p>This looks like the kind of error that Maven generates when you don't have the compiler plugin configured correctly.  Here's an example of a Java 8 compiler config.</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n     xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n\n&lt;!-- ... --&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;!-- ... --&gt;\n\n&lt;/project&gt;\n</code></pre>\n", "title": "Error:java: javacTask: source release 8 requires target release 1.8", "answer_id": 29889811, "question_id": 29888592, "tags": ["java", "intellij-idea"]}, {"body": "<ol>\n<li><strong>File > Settings > Build, Execution, Deployment > Java Compiler</strong></li>\n<li>Change <strong>Target bytecode version</strong> to <strong>1.8</strong> of the module that you are working for.</li>\n</ol>\n\n<p><strong>If you are using Maven</strong></p>\n\n<p>Add this to <code>pom.xml</code> under the top-level <code>project</code> node:</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>(Hoisted from the comments.)</p>\n", "title": "Error:java: javacTask: source release 8 requires target release 1.8", "answer_id": 30524848, "question_id": 29888592, "tags": ["java", "intellij-idea"]}, {"body": "<p>You need to go to Settings and set under the Java compiler the following:\n<a href=\"http://i.stack.imgur.com/OW3jL.png\"><img src=\"http://i.stack.imgur.com/OW3jL.png\" alt=\"enter image description here\"></a></p>\n\n<p>also check the Project Settings</p>\n", "title": "Error:java: javacTask: source release 8 requires target release 1.8", "answer_id": 32141090, "question_id": 29888592, "tags": ["java", "intellij-idea"]}, {"body": "<p>There are two ways to solve this problem:</p>\n\n<ol>\n<li>Set settings <code>(File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Java Compiler)</code>:\n<a href=\"http://i.stack.imgur.com/4b9of.png\"><img src=\"http://i.stack.imgur.com/4b9of.png\" alt=\"enter image description here\"></a></li>\n<li>Add a build section to your <code>pom.xml</code>:\n<a href=\"http://i.stack.imgur.com/T7B1Z.png\"><img src=\"http://i.stack.imgur.com/T7B1Z.png\" alt=\"enter image description here\"></a></li>\n</ol>\n", "title": "Error:java: javacTask: source release 8 requires target release 1.8", "answer_id": 33742637, "question_id": 29888592, "tags": ["java", "intellij-idea"]}, {"body": "<ul>\n<li>press:<strong>CTRL + SHIFT + A</strong></li>\n<li>type: <strong>java compiler</strong></li>\n<li>press: <strong>ENTER</strong></li>\n</ul>\n\n<p>In the setting window set the Target bytecode to <strong>1.8</strong></p>\n", "title": "Error:java: javacTask: source release 8 requires target release 1.8", "answer_id": 33827082, "question_id": 29888592, "tags": ["java", "intellij-idea"]}, {"body": "<p>I fixed this by going to <strong>Project Structure</strong> -> <strong>Modules</strong>, find the module in question, click on <strong>Dependencies</strong> tab, change <code>Module SDK</code> to <code>Project SDK</code>.</p>\n", "title": "Error:java: javacTask: source release 8 requires target release 1.8", "answer_id": 34324604, "question_id": 29888592, "tags": ["java", "intellij-idea"]}, {"body": "<p>I fixed it by modify my POM file. Notice the last comment under the highest voted answer.</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.3.2&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n            &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n        &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>The source must matches the target.</p>\n", "title": "Error:java: javacTask: source release 8 requires target release 1.8", "answer_id": 34650407, "question_id": 29888592, "tags": ["java", "intellij-idea"]}, {"body": "<p>In my case I fixed this issue by opening <strong>.iml file</strong> of project (it is located in project root folder and have name same as the name of project) and changing line <code>&lt;orderEntry type=\"jdk\" jdkName=\"1.7\" jdkType=\"JavaSDK\" /&gt;</code> to <code>&lt;orderEntry type=\"jdk\" jdkName=\"1.8\" jdkType=\"JavaSDK\" /&gt;</code> </p>\n\n<p>I had everything configured as in others answers here but by some reason Idea updated .iml file incorrectly.</p>\n", "title": "Error:java: javacTask: source release 8 requires target release 1.8", "answer_id": 35061064, "question_id": 29888592, "tags": ["java", "intellij-idea"]}, {"body": "<p>I fixed it just by changing target compile version to 1.8. Its in:</p>\n\n<p>File >> Settings >> Build, Execution, Deployment >> Compiler >> Java Compiler</p>\n", "title": "Error:java: javacTask: source release 8 requires target release 1.8", "answer_id": 36558227, "question_id": 29888592, "tags": ["java", "intellij-idea"]}], "question_id": 29888592}, {"body": "<p>I have restructured my code to <a href=\"https://en.wikipedia.org/wiki/Futures_and_promises\">promises</a>, and built a wonderful long <strong>flat promise chain</strong>, consisting of multiple <code>.then()</code> callbacks. In the end I want to return some composite value, and need to access multiple <strong>intermediate promise results</strong>. However the resolution values from the middle of the sequence are not in scope in the last callback, how do I access them?</p>\n\n<pre><code>function getExample() {\n    return promiseA(\u2026).then(function(resultA) {\n        // Some processing\n        return promiseB(\u2026);\n    }).then(function(resultB) {\n        // More processing\n        return // How do I gain access to resultA here?\n    });\n}\n</code></pre>\n", "title": "How do I access previous promise results in a .then() chain?", "tags": ["javascript", "scope", "promise", "bluebird", "es6-promise"], "answer_count": 9, "link": "http://stackoverflow.com/questions/28250680/how-do-i-access-previous-promise-results-in-a-then-chain", "answers": [{"body": "<h1>Nesting (and) closures</h1>\n\n<p>Using closures for maintaining the scope of variables (in our case, the success callback function parameters) is the natural JavaScript solution. With promises, we can arbitrarily <a href=\"http://stackoverflow.com/a/22000931/1048572\">nest and flatten</a> <code>.then()</code> callbacks - they are semantically equivalent, except for the scope of the inner one.</p>\n\n<pre><code>function getExample() {\n    return promiseA(\u2026).then(function(resultA) {\n        // some processing\n        return promiseB(\u2026).then(function(resultB) {\n            // more processing\n            return // something using both resultA and resultB;\n        });\n    });\n}\n</code></pre>\n\n<p>Of course, this is building an indentation pyramid. If indentation is getting too large, you still can apply the old tools to counter the <a href=\"http://callbackhell.com/\">pyramid of doom</a>: modularize, use extra named functions, and flatten the promise chain as soon as you don't need a variable any more.<br>\nIn theory, you can always avoid more than two levels of nesting (by making all closures explicit), in practise use as many as are reasonable.</p>\n\n<pre><code>function getExample() {\n    // preprocessing\n    return promiseA(\u2026).then(makeAhandler(\u2026));\n}\nfunction makeAhandler(\u2026)\n    return function(resultA) {\n        // some processing\n        return promiseB(\u2026).then(makeBhandler(resultA, \u2026));\n    };\n}\nfunction makeBhandler(resultA, \u2026) {\n    return function(resultB) {\n        // more processing\n        return // anything that uses the variables in scope\n    };\n}\n</code></pre>\n\n<p>You can also use helper functions for this kind of <a href=\"https://en.wikipedia.org/wiki/Partial_application\">partial application</a>, like <code>_.partial</code> from <a href=\"http://underscorejs.org/#partial\">Underscore</a>/<a href=\"https://lodash.com/docs#partial\">lodash</a> or the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind\">native <code>.bind()</code> method</a>, to further decrease indentation:</p>\n\n<pre><code>function getExample() {\n    // preprocessing\n    return promiseA(\u2026).then(handlerA);\n}\nfunction handlerA(resultA) {\n    // some processing\n    return promiseB(\u2026).then(handlerB.bind(null, resultA));\n}\nfunction handlerB(resultA, resultB) {\n    // more processing\n    return // anything that uses resultA and resultB\n}\n</code></pre>\n", "title": "How do I access previous promise results in a .then() chain?", "answer_id": 28250687, "question_id": 28250680, "tags": ["javascript", "scope", "promise", "bluebird", "es6-promise"]}, {"body": "<h1>Explicit pass-through</h1>\n\n<p>Similar to nesting the callbacks, this technique relies on closures. Yet, the chain stays flat - instead of passing only the latest result, some state object is passed for every step. These state objects accumulate the results of the previous actions, handing down all values that will be needed later again plus the result of the current task.</p>\n\n<pre><code>function getExample() {\n    return promiseA(\u2026).then(function(resultA) {\n        // some processing\n        return promiseB(\u2026).then(function(b) { return [resultA, b] });\n    }).spread(function(resultA, resultB) {\n        // more processing\n        return // something using both resultA and resultB\n    });\n}\n</code></pre>\n\n<p>Here, that little <code>function(b) { return [resultA, b] }</code> is the function that closes over <code>resultA</code>, and passes an array of both results to the next step.\nThe <code>.spread()</code> method is a nifty helper that is available in many promise libraries (<a href=\"https://github.com/kriskowal/q/wiki/API-Reference#promisespreadonfulfilled-onrejected\">Q</a>, <a href=\"http://bluebirdjs.com/docs/api/spread.html\">Bluebird</a>, <a href=\"https://github.com/cujojs/when/blob/master/docs/api.md#promisespread\">when</a>, \u2026) and breaks the array into multiple function arguments, it will be displaced by destructuring in ES6.</p>\n\n<p>Of course, that closure needed here can be further simplified by some helper functions, e.g.</p>\n\n<pre><code>function addTo(x) {\n    // imagine complex `arguments` fiddling or anything that helps usability\n    // but you get the idea with this simple one:\n    return function(res) { return [x, res]; };\n}\n\n\u2026\nreturn promiseB(\u2026).then(addTo(resultA));\n</code></pre>\n\n<p>Alternatively, you can employ <code>Promise.all</code> to produce the promise for the array:</p>\n\n<pre><code>function getExample() {\n    return promiseA(\u2026).then(function(resultA) {\n        // some processing\n        return Promise.all([resultA, promiseB(\u2026)]); // resultA will implicitly be wrapped\n                                                    // as if passed to Promise.resolve()\n    }).spread(function(resultA, resultB) {\n        // more processing\n        return // something using both resultA and resultB\n    });\n}\n</code></pre>\n\n<p>And you might not only use arrays, but arbitrarily complex objects. For example, with <a href=\"http://underscorejs.org/#extend\"><code>_.extend</code></a> in a different helper function:</p>\n\n<pre><code>function augment(obj, name) {\n    return function (res) { var r = _.extend({}, obj); r[name] = res; return r; };\n}\n\nfunction getExample() {\n    return promiseA(\u2026).then(function(resultA) {\n        // some processing\n        return promiseB(\u2026).then(augment({resultA: resultA}, \"resultB\"));\n    }).then(function(obj) {\n        // more processing\n        return // something using both obj.resultA and obj.resultB\n    });\n}\n</code></pre>\n\n<p>While this pattern guarantees a flat chain and explicit state objects can improve clarity, it will become tedious for a long chain. Especially when you need the state only sporadically, you still have to pass it through every step. With this fixed interface, the single callbacks in the chain are rather tightly coupled and inflexible to change. It makes factoring out single steps harder, and callbacks cannot be supplied directly from other modules - they always need to be wrapped in boilerplate code that cares about the state. Abstract helper functions like the above can ease the pain a bit, but it will always be present.</p>\n", "title": "How do I access previous promise results in a .then() chain?", "answer_id": 28250693, "question_id": 28250680, "tags": ["javascript", "scope", "promise", "bluebird", "es6-promise"]}, {"body": "<h1>ECMAScript Harmony</h1>\n\n<p>Of course, this problem was recognized by the language designers as well. </p>\n\n<p>And they are working on a solution which will probably come with ECMAScript 8: <a href=\"http://tc39.github.io/ecmascript-asyncawait/\">async functions</a>. You won't need a single <code>then</code> invocation or callback function any more, as in an asynchronous function (that returns a promise when being called) you can simply wait for promises to resolve directly. It will also feature arbitrary control structures like conditions, loops and try-catch-clauses, but for the sake of convenience we don't need them here:</p>\n\n<pre><code>async function getExample() {\n    var resultA = await promiseA(\u2026);\n    // some processing\n    var resultB = await promiseB(\u2026);\n    // more processing\n    return // something using both resultA and resultB\n}\n</code></pre>\n\n<h2>ECMAScript 6</h2>\n\n<p>While we are waiting for ES8, we already can use a very similar kind of syntax. ES6 comes with <a href=\"http://davidwalsh.name/es6-generators\">generator functions</a>, which allow to break the execution apart in pieces at arbitrarily placed <code>yield</code> keywords. Those slices can be run after each other, independently, even asynchronously - and that's just what we do when we want to wait for a promise resolution before running the next step.</p>\n\n<p>There are dedicated libraries (like <a href=\"https://github.com/tj/co\">co</a> or <a href=\"http://taskjs.org/\">task.js</a>), but also many promise libraries have helper functions (<a href=\"https://github.com/kriskowal/q/wiki/API-Reference#generators\">Q</a>, <a href=\"http://bluebirdjs.com/docs/api/generators.html\">Bluebird</a>, <a href=\"https://github.com/cujojs/when/blob/master/docs/api.md#es6-generators\">when</a>, \u2026) that do <a href=\"http://stackoverflow.com/a/23554399/1048572\">this async step-by-step execution</a> for you when you give them a generator function that yields promises.</p>\n\n<pre><code>var getExample = Promise.coroutine(function* () {\n//               ^^^^^^^^^^^^^^^^^ Bluebird syntax\n    var resultA = yield promiseA(\u2026);\n    // some processing\n    var resultB = yield promiseB(\u2026);\n    // more processing\n    return // something using both resultA and resultB\n});\n</code></pre>\n\n<p>This already works in Node.js, also a few browsers (or their dev editions) do support generator syntax.</p>\n\n<h2>ECMAScript 5</h2>\n\n<p>However, if you want/need to be backwards-compatible you cannot use those without a transpiler. Both generator functions and async functions are supported by the current tooling, see for example the documentation of Babel on <a href=\"http://babeljs.io/docs/learn-es2015/#generators\">generators</a> (by default) and <a href=\"http://babeljs.io/docs/plugins/#experimental\">async functions</a> (experimental, included in the <a href=\"http://babeljs.io/docs/plugins/preset-stage-3/\">stage-3 preset</a>).</p>\n\n<p>And then, there are also many other <a href=\"https://github.com/jashkenas/coffeescript/wiki/List-of-languages-that-compile-to-JS#synchronous-to-asynchronous-javascript-compilers-cps\">compile-to-JS languages</a>\nthat are dedicated to easing asynchronous programming. They usually use a syntax similar to <code>await</code>, (e.g. <a href=\"http://maxtaco.github.io/coffee-script/\">Iced CoffeeScript</a>), but there are also others that feature a Haskell-like <code>do</code>-notation (e.g. <a href=\"http://lattejs.com/\">LatteJs</a>, <a href=\"https://www.npmjs.com/package/monadic\">monadic</a>, <a href=\"http://www.purescript.org/\">PureScript</a> or <a href=\"http://lispyscript.com/\">LispyScript</a>).</p>\n", "title": "How do I access previous promise results in a .then() chain?", "answer_id": 28250697, "question_id": 28250680, "tags": ["javascript", "scope", "promise", "bluebird", "es6-promise"]}, {"body": "<h1>Mutable contextual state</h1>\n\n<p>The trivial (but inelegant and rather errorprone) solution is to just use higher-scope variables (to which all callbacks in the chain have access) and write result values to them when you get them:</p>\n\n<pre><code>function getExample() {\n    var resultA;\n    return promiseA(\u2026).then(function(_resultA) {\n        resultA = _resultA;\n        // some processing\n        return promiseB(\u2026);\n    }).then(function(resultB) {\n        // more processing\n        return // something using both resultA and resultB\n    });\n}\n</code></pre>\n\n<p>Instead of many variables one might also use an (initially empty) object, on which the results are stored as dynamically created properties.</p>\n\n<p>This solution has several drawbacks:</p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/q/844536/1048572\">Mutable state is ugly</a>, and <a href=\"http://programmers.stackexchange.com/questions/148108/why-is-global-state-so-evil\">global variables are evil</a>.</li>\n<li>This pattern doesn't work across function boundaries, modularising the functions is harder as their declarations must not leave the shared scope</li>\n<li>The scope of the variables does not prevent to access them before they are initialized. This is especially likely for complex promise constructions (loops, branching, excptions) where race conditions might happen. Passing state explicitly, a <a href=\"http://en.wikipedia.org/wiki/Declarative_programming\">declarative design</a> that promises encourage, forces a cleaner coding style which can prevent this.</li>\n<li>One must choose the scope for those shared variables correctly. It needs to be local to the executed function to prevent race conditions between multiple parallel invocations. This fallacy is especially likely when one stores the state of an asynchronous method on the instance.</li>\n</ul>\n\n<p>The Bluebird library encourages the use of an object that is passed along, using <a href=\"http://bluebirdjs.com/docs/api/bind.html\">their <code>bind()</code> method</a> to assign a context object to a promise chain. It will be accessible from each callback function via the otherwise unusable <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this\"><code>this</code> keyword</a>. While object properties are more prone to undetected typos than variables, the pattern is quite clever:</p>\n\n<pre><code>function getExample() {\n    return promiseA(\u2026)\n    .bind({}) // Bluebird only!\n    .then(function(resultA) {\n        this.resultA = resultA;\n        // some processing\n        return promiseB(\u2026);\n    }).then(function(resultB) {\n        // more processing\n        return // something using both this.resultA and resultB\n    }).bind(); // don't forget to unbind the object if you don't want the\n               // caller to access it\n}\n</code></pre>\n\n<p>This approach can be easily simulated in promise libraries that do not support .bind (although in a somewhat more verbose way and cannot be used in an expression):</p>\n\n<pre><code>function getExample() {\n    var ctx = {};\n    return promiseA(\u2026)\n    .then(function(resultA) {\n        this.resultA = resultA;\n        // some processing\n        return promiseB(\u2026);\n    }.bind(ctx)).then(function(resultB) {\n        // more processing\n        return // something using both this.resultA and resultB\n    }.bind(ctx));\n}\n</code></pre>\n", "title": "How do I access previous promise results in a .then() chain?", "answer_id": 28250700, "question_id": 28250680, "tags": ["javascript", "scope", "promise", "bluebird", "es6-promise"]}, {"body": "<h1>Break the chain</h1>\n\n<p>When you need to access the intermediate values in your chain, you should split your chain apart in those single pieces that you need. Instead of attaching one callback and somehow trying to use its parameter multiple times, attach multiple callbacks to the same promise - wherever you need the result value. Don't forget, a <a href=\"http://stackoverflow.com/a/22540276/1048572\">promise just represents (proxies) a future value</a>! Next to deriving one promise from the other in a linear chain, use the promise combinators that are given to you by your library to build the result value.</p>\n\n<p>This will result in a very straightforward control flow, clear composition of functionalities and therefore easy modularisation.</p>\n\n<pre><code>function getExample() {\n    var a = promiseA(\u2026);\n    var b = a.then(function(resultA) {\n        // some processing\n        return promiseB(\u2026);\n    });\n    return Promise.all([a, b]).spread(function(resultA, resultB) {\n        // more processing\n        return // something using both resultA and resultB\n    });\n}\n</code></pre>\n\n<p>Bluebird also features a dedicated <a href=\"http://bluebirdjs.com/docs/api/promise.join.html\"><code>join</code> function</a> to replace that <code>Promise.all</code>+<code>spread</code> combination with a simpler (and more efficient) construct:</p>\n\n<pre><code>\u2026\nreturn Promise.join(a, b, function(resultA, resultB) { \u2026 });\n</code></pre>\n", "title": "How do I access previous promise results in a .then() chain?", "answer_id": 28250704, "question_id": 28250680, "tags": ["javascript", "scope", "promise", "bluebird", "es6-promise"]}, {"body": "<h1>Synchronous inspection</h1>\n\n<p>Assigning promises-for-later-needed-values to variables and then getting their value via synchronous inspection. The example uses bluebird's <code>.value()</code> method but many libraries provide similar method.</p>\n\n<pre><code>function getExample() {\n    var a = promiseA(\u2026);\n\n    return a.then(function() {\n        // some processing\n        return promiseB(\u2026);\n    }).then(function(resultB) {\n        // a is guaranteed to be fulfilled here so we can just retrieve its\n        // value synchronously\n        var aValue = a.value();\n    });\n}\n</code></pre>\n\n<p>This can be used for as many values as you like:</p>\n\n<pre><code>function getExample() {\n    var a = promiseA(\u2026);\n\n    var b = a.then(function() {\n        return promiseB(\u2026)\n    });\n\n    var c = b.then(function() {\n        return promiseC(\u2026);\n    });\n\n    var d = c.then(function() {\n        return promiseD(\u2026);\n    });\n\n    return d.then(function() {\n        return a.value() + b.value() + c.value() + d.value();\n    });\n}\n</code></pre>\n", "title": "How do I access previous promise results in a .then() chain?", "answer_id": 28252015, "question_id": 28250680, "tags": ["javascript", "scope", "promise", "bluebird", "es6-promise"]}, {"body": "<p>I am not going to use this pattern in my own code since I'm not a big fan of using global variables. However, in a pinch it will work.</p>\n\n<p>User is a promisified Mongoose model.</p>\n\n<pre><code>var globalVar = '';\n\nUser.findAsync({}).then(function(users){\n  globalVar = users;\n}).then(function(){\n  console.log(globalVar);\n});\n</code></pre>\n", "title": "How do I access previous promise results in a .then() chain?", "answer_id": 31949478, "question_id": 28250680, "tags": ["javascript", "scope", "promise", "bluebird", "es6-promise"]}, {"body": "<p>Another answer, using <code>babel-node</code> version &lt;6 </p>\n\n<p>Using <code>async - await</code> </p>\n\n<p><code>npm install -g babel@5.6.14</code></p>\n\n<p><code>example.js:</code></p>\n\n<pre><code>async function getExample(){\n\n  let response = await returnPromise();\n\n  let response2 = await returnPromise2();\n\n  console.log(response, response2)\n\n}\n\ngetExample()\n</code></pre>\n\n<p>Then, run <code>babel-node example.js</code> and voila!</p>\n", "title": "How do I access previous promise results in a .then() chain?", "answer_id": 33835112, "question_id": 28250680, "tags": ["javascript", "scope", "promise", "bluebird", "es6-promise"]}, {"body": "<p>When using bluebird, you can use <code>.bind</code> method to share variables in promise chain:</p>\n\n<pre><code>somethingAsync().bind({})\n.spread(function (aValue, bValue) {\n    this.aValue = aValue;\n    this.bValue = bValue;\n    return somethingElseAsync(aValue, bValue);\n})\n.then(function (cValue) {\n    return this.aValue + this.bValue + cValue;\n});\n</code></pre>\n\n<p>please check this link for further information:</p>\n\n<p><a href=\"http://bluebirdjs.com/docs/api/promise.bind.html\" rel=\"nofollow\">http://bluebirdjs.com/docs/api/promise.bind.html</a></p>\n", "title": "How do I access previous promise results in a .then() chain?", "answer_id": 37771394, "question_id": 28250680, "tags": ["javascript", "scope", "promise", "bluebird", "es6-promise"]}], "question_id": 28250680}, {"body": "<p>I'm getting this warning in my project gradle file:</p>\n\n<blockquote>\n  <p>Warning:(16, 5) 'buildTypes' cannot be applied to '(groovy.lang.Closure&lt; com.android.build.gradle.internal.dsl.BuildType>)'</p>\n</blockquote>\n\n<p>My buildTypes section is:</p>\n\n<pre><code>    buildTypes {\n        debug {\n            debuggable true\n        }\n        release {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-project.txt'\n        }\n    }\n</code></pre>\n\n<p>I'm currently using Android Studio 1.1.0, compileSdkVersion 22, buildToolsVersion 22.0.0, and targetSdkVersion 22. I tried backing down to 21 but was still getting the warning.</p>\n\n<p>What causes this warning &amp; how is it fixed?</p>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "tags": ["android-studio", "android-gradle"], "answer_count": 19, "link": "http://stackoverflow.com/questions/29133601/buildtypes-cannot-be-applied-to-groovy-lang-closure", "answers": [{"body": "<p>I had the same problem. I started a new project and it worked, so I just copied the build.gradle file. In my case the only difference was the lack of the compileOptions section. I removed it from my project, synced gradle, re-inserted the compileOptions section and then synced gradle again.</p>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 29192655, "question_id": 29133601, "tags": ["android-studio", "android-gradle"]}, {"body": "<p>I had the same issue. Moving the buildTypes as the last entry in the android section worked for me.</p>\n\n<pre><code>android {\n    ...\n    buildTypes {\n    }\n}\n</code></pre>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 29354337, "question_id": 29133601, "tags": ["android-studio", "android-gradle"]}, {"body": "<p>Changing distributionUrl=https://services.gradle.org/distributions/gradle-2.1-bin.zip to gradle-2.1-all.zip in gradle-wrapper.properties solved problem for me.</p>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 29472005, "question_id": 29133601, "tags": ["android-studio", "android-gradle"]}, {"body": "<p>1 Cut and Paste the \"buildTypes\" at the same position in \"android\" section </p>\n\n<p>2 Re Sync Project</p>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 29495234, "question_id": 29133601, "tags": ["android-studio", "android-gradle"]}, {"body": "<p>this worked for me:</p>\n\n<pre><code>buildTypes.debug {\n    ext.enableCrashlytics = false\n}\n\nbuildTypes.release {\n    debuggable false\n    zipAlignEnabled true\n    minifyEnabled false\n    signingConfig signingConfigs.release\n}\n</code></pre>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 30000493, "question_id": 29133601, "tags": ["android-studio", "android-gradle"]}, {"body": "<p>For me the problem was not solved by applying the above solution. Instead I had to go to the settings within Android Studio and select \"Use gradle wrapper\":</p>\n\n<p>In Android Studio select:\n<strong>File\\Settings\\Build, Execution, Deployment\\Build tools\\Gradle</strong> </p>\n\n<p>(Mac Users: <strong>Android Studio\\Preferences...\\Build, Execution, Deployment\\Build tools\\Gradle</strong> )</p>\n\n<p>Mark: <strong>Use default gradle wrapper (default)</strong></p>\n\n<p>This removed all 'cannot be applied to '(groovy.lang.Closure') warnings in the build files.</p>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 30828772, "question_id": 29133601, "tags": ["android-studio", "android-gradle"]}, {"body": "<p>The easiest way to fix this Gradle issues is recreating the project to let Android Studio reconfigure Gradle.</p>\n\n<p>Simply select \"Open an existing Android Studio project\" and pick your project folder.</p>\n\n<p>More details <a href=\"http://alessio.franceschelli.me/android/fix-gradle-warnings-after-android-studio-1-3-update/\">here</a>.</p>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 30976437, "question_id": 29133601, "tags": ["android-studio", "android-gradle"]}, {"body": "<p>To solve this issue, in your Android Studio go to <strong>File -> Settings</strong>.\nIn settings choose <strong>Build, Execution, Deployment -> Build Tools -> Gradle</strong>\nand select <strong>\"Use default gradle wrapper (recommended)\"</strong> option.</p>\n\n<p>After rebuild your <strong>build.gradle</strong> will be totally fine.</p>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 31181127, "question_id": 29133601, "tags": ["android-studio", "android-gradle"]}, {"body": "<p>The problem presents when you import a project into your environment and the Gradle plugin is installed in a different location than what it was in the original. You just need to point out where your Gradle installation is.</p>\n\n<p>Moving buildTypes or defaultConfig or whatever between each other is not a complete solution</p>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 31191561, "question_id": 29133601, "tags": ["android-studio", "android-gradle"]}, {"body": "<p>EDIT: \nThis how i finally solved this problem...</p>\n\n<ol>\n<li><p>Navigate in Android Studio to:</p>\n\n<p>File | Settings | Build, Execution, Deployment | Build Tools | Gradle</p></li>\n<li><p>Ensure that this is unchecked, despite that it is recommended to keep ...</p>\n\n<p>Use Default Gradle Wrapper (recommended)</p></li>\n<li><p>and that this one is checked ...</p>\n\n<p>Use local gradle distribution</p></li>\n<li><p>and that Gradle Home is set to this, with possibly a later gradle-n.n ...</p>\n\n<p>C:/Program Files/Android/Android Studio1/gradle/gradle-2.4</p></li>\n</ol>\n\n<p>You may have to restart Android Studio, rebuild the project, etc but the problem is solved.</p>\n\n<p>End of EDIT.</p>\n\n<p>I am posting this to advise anyone else new to this problem to ignore it. The project runs perfectly regardless. This is quite simply a bug in the build system, hopefully to be fixed soon. I posted a comment and voted here where it is again an active topic ...</p>\n\n<p><a href=\"https://code.google.com/p/android/issues/detail?can=2&amp;start=0&amp;num=100&amp;q=&amp;colspec=ID%20Type%20Status%20Owner%20Summary%20Stars&amp;groupby=&amp;sort=&amp;id=76719\" rel=\"nofollow\">https://code.google.com/p/android/issues/detail?can=2&amp;start=0&amp;num=100&amp;q=&amp;colspec=ID%20Type%20Status%20Owner%20Summary%20Stars&amp;groupby=&amp;sort=&amp;id=76719</a></p>\n\n<p>After trying, unsuccessfully, the suggestions in the following three threads, i re-made the entire project from scratch. I started a new Android Studio project, copied all of the original libs and main files into it ignoring any files which are generated by the build system and rebuilt the project. Everything was fine except all those \"cannot be applied to '(groovy.lang.Closure)'\" warnings re-appeared with a vengence. Then i went thru these suggestions again just to be certain that i had not overlooked something.</p>\n\n<p>1\n<a href=\"http://stackoverflow.com/questions/29133601/buildtypes-cannot-be-applied-to-groovy-lang-closure\">buildTypes cannot be applied to groovy.lang.Closure</a>\ngo to the settings within Android Studio and select \"Use gradle wrapper\":\nIn Android Studio select: File\\Settings\\Build, Execution, Deployment\\Build tools\\Gradle\nMark: Use default gradle wrapper (default)\nThis removed all 'cannot be applied to '(groovy.lang.Closure') warnings in the build files.</p>\n\n<p>2\n<a href=\"http://stackoverflow.com/questions/29769988/dependencies-cannot-be-applied-to-groovy-lang-closure\">&#39;dependencies&#39; cannot be applied to &#39;(groovy.lang.Closure)&#39;</a>\nOpen and edit file: yourproject/gradle/wrapper/gradle-wrapper.propertie. Edit content as below image then save.\nDelete this folder: yourproject/.gradle.\nClick Sync project with gradle files, then you are good to go.</p>\n\n<p>3\n<a href=\"https://github.com/DrKLO/Telegram/issues/870\" rel=\"nofollow\">https://github.com/DrKLO/Telegram/issues/870</a></p>\n\n<p>My configuration is:\nAndroid Studio 1.3,  compileSdk Version 22, buildTools Version \"22.0.1\"</p>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 31923462, "question_id": 29133601, "tags": ["android-studio", "android-gradle"]}, {"body": "<p>In your Android Studio go to File -> Settings. Next choose Build, Execution, Deployment -> Build Tools -> Gradle and select \"Use default gradle wrapper (recommended)\".</p>\n\n<p>Rebuild project.</p>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 32265769, "question_id": 29133601, "tags": ["android-studio", "android-gradle"]}, {"body": "<p>If none of the above options work, then do the Following</p>\n\n<ol>\n<li>Change the project to <code>Project</code> perspective in the \"Project Explorer\".</li>\n<li>Delete <code>.gradle</code> and <code>build</code> folders.</li>\n<li>Click <strong>File</strong> -> <strong>Invalidate Caches / Restart...</strong> -> <strong>Invalidate and Restart</strong></li>\n<li>Now its working, happy coding.</li>\n</ol>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 32558132, "question_id": 29133601, "tags": ["android-studio", "android-gradle"]}, {"body": "<p>I used to have this warning, after I updated Android Studio. </p>\n\n<p>When I went to <em>Settings>>Build Tools>>Gradle</em> I found Local Gradle path was invalid, since gradle version was updated as well from 2.6 to 2.8.</p>\n\n<p>Fixed the new path and re-sync gradle removed the warning.</p>\n\n<p>Another way is to use <strong><code>gradlewrapper</code></strong>.</p>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 33603883, "question_id": 29133601, "tags": ["android-studio", "android-gradle"]}, {"body": "<p>delete gradle folder under the app folder and resync project</p>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 33695796, "question_id": 29133601, "tags": ["android-studio", "android-gradle"]}, {"body": "<p>The issue at hand is that your Android Studio settings that you <em>probably</em> imported at upgrade, was still pointing to gradle-2.4 or some other versions than Android Studio 1.5 expects.</p>\n\n<p>To solve this problem, you should open up <strong>Settings</strong> and go to <strong>Build, Execution, Deployment > Build Tools > Gradle</strong> and change your local gradle distribution's home path <strong>or</strong> select the default gradle wrapper.</p>\n\n<p>Apply and re-sync your project.</p>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 33821691, "question_id": 29133601, "tags": ["android-studio", "android-gradle"]}, {"body": "<p>I managed to solve my issue by simply doing this:\nClick \"File\" then select \"Invalidate Caches/ Restart</p>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 35961083, "question_id": 29133601, "tags": ["android-studio", "android-gradle"]}, {"body": "<p>All I had to do to remove</p>\n\n<pre><code>productFlavors {\n}\n</code></pre>\n\n<p>From</p>\n\n<pre><code>buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    productFlavors {\n    }\n}\n</code></pre>\n\n<p>and the warning went away. </p>\n\n<p>Final look was like this</p>\n\n<pre><code>buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n</code></pre>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 38070892, "question_id": 29133601, "tags": ["android-studio", "android-gradle"]}, {"body": "<p>In my case my <code>buildTypes</code> section was above my <code>productFlavors</code> section. Interchanging their positions got rid of the warning:</p>\n\n<p>BEFORE:</p>\n\n<pre><code>buildTypes {\n\n        debug {\n            minifyEnabled false\n            shrinkResources false\n            ...//etc\n        }\n }\n\n productFlavors {\n    demo {\n        ...//etc\n    }\n }\n</code></pre>\n\n<p>AFTER:</p>\n\n<pre><code> productFlavors {\n    demo {\n        ...//etc\n    }\n }    \n\n buildTypes {\n\n        debug {\n            minifyEnabled false\n            shrinkResources false\n            ...//etc\n        }\n }\n</code></pre>\n\n<p>I am using Android Studio 2.1.2 with the following config at the top of my <code>android</code> section:</p>\n\n<pre><code>android {\n    compileSdkVersion 24\n    buildToolsVersion \"23.0.3\"\n\n    defaultConfig {\n        applicationId \"com.xyz.abc\"\n        minSdkVersion 14\n        targetSdkVersion 24\n        //..etc\n</code></pre>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 38090720, "question_id": 29133601, "tags": ["android-studio", "android-gradle"]}, {"body": "<p>Changing the <code>buildToolsVersion</code> from</p>\n\n<pre><code>android {\n    compileSdkVersion 24\n    buildToolsVersion \"24.0.2\" \n.. \n}\n</code></pre>\n\n<p>to</p>\n\n<pre><code>android {\n    compileSdkVersion 24\n    buildToolsVersion \"24.0.1\" \n.. \n}\n</code></pre>\n\n<p>worked for me.</p>\n", "title": "buildTypes cannot be applied to groovy.lang.Closure", "answer_id": 39451905, "question_id": 29133601, "tags": ["android-studio", "android-gradle"]}], "question_id": 29133601}, {"body": "<p>I would like to use google web starter kit. I installed node.js v0.12.0, <code>node-sass</code> &amp; <code>gulp</code>.</p>\n\n<p>And then ran:</p>\n\n<pre><code>$ sudo npm install\n</code></pre>\n\n<p>When I typed <code>gulp serve</code> then got this error:</p>\n\n<pre><code>Using gulpfile ~/web-starter-kit/gulpfile.js Starting 'styles'... 'styles' errored after 93 ms \nError: `libsass` bindings not found. Try reinstalling `node-sass`? at getBinding\n</code></pre>\n\n<p>I reinstalled node and gulp but this doesn't help.</p>\n\n<p>What should I do next?</p>\n", "title": "Try reinstalling `node-sass` on node 0.12?", "tags": ["node.js", "sass", "gulp"], "answer_count": 15, "link": "http://stackoverflow.com/questions/28409100/try-reinstalling-node-sass-on-node-0-12", "answers": [{"body": "<p>Downgrading Node to 0.10.36 should do it per this thread on the node-sass github page: <a href=\"https://github.com/sass/node-sass/issues/490#issuecomment-70388754\">https://github.com/sass/node-sass/issues/490#issuecomment-70388754</a></p>\n\n<p>If you have NVM you can just: </p>\n\n<pre><code>nvm install 0.10\n</code></pre>\n\n<p>If you don't, you can find NVM and instructions here: <a href=\"https://www.npmjs.com/package/nvm\">https://www.npmjs.com/package/nvm</a></p>\n", "title": "Try reinstalling `node-sass` on node 0.12?", "answer_id": 28724282, "question_id": 28409100, "tags": ["node.js", "sass", "gulp"]}, {"body": "<p>I ran into this error using node <code>0.12.0</code> and it was fixed by deleting the existing <code>/node_modules</code> directory and running <code>npm update</code>.</p>\n", "title": "Try reinstalling `node-sass` on node 0.12?", "answer_id": 28974608, "question_id": 28409100, "tags": ["node.js", "sass", "gulp"]}, {"body": "<p>I had the same issue:</p>\n\n<ul>\n<li>installing node-sass</li>\n<li>being told at the end of installation that the installation completed successfully</li>\n<li>then being asked to re-install node-sass.</li>\n</ul>\n\n<p>The solution is to <strong>install node-sass version 2</strong> which supports current versions of node. See <a href=\"https://github.com/sass/node-sass/issues/490#issuecomment-70388754\">https://github.com/sass/node-sass/issues/490#issuecomment-70388754</a></p>\n\n<p>Run:</p>\n\n<pre><code>npm install node-sass@2\n</code></pre>\n\n<p>Then re-test:</p>\n\n<pre><code>$ npm ls node-sass\nmyapp@0.0.0 /var/www/myapp\n\u2514\u2500\u2500 node-sass@2.0.1\n\n$ gulp sass\n[09:48:42] Using gulpfile /var/www/myapp/gulpfile.js\n[09:48:42] Starting 'sass'...\n[09:48:42] Finished 'sass' after 15 ms\n</code></pre>\n", "title": "Try reinstalling `node-sass` on node 0.12?", "answer_id": 29156211, "question_id": 28409100, "tags": ["node.js", "sass", "gulp"]}, {"body": "<p>you may also want to <code>npm remove gulp-sass</code> and re-install gulp-sass if you've switched node versions.</p>\n", "title": "Try reinstalling `node-sass` on node 0.12?", "answer_id": 29993193, "question_id": 28409100, "tags": ["node.js", "sass", "gulp"]}, {"body": "<p>I found this useful command:</p>\n\n<pre><code>npm rebuild node-sass\n</code></pre>\n\n<p>From the <code>rebuild</code> <a href=\"https://docs.npmjs.com/cli/rebuild\">documentation</a>:</p>\n\n<blockquote>\n  <p>This is useful when you install a new version of node (or switch node\n  versions), and must recompile all your C++ addons with the new node.js\n  binary.</p>\n</blockquote>\n\n<p><a href=\"http://laravel.io/forum/10-29-2014-laravel-elixir-sass-error\">http://laravel.io/forum/10-29-2014-laravel-elixir-sass-error</a></p>\n", "title": "Try reinstalling `node-sass` on node 0.12?", "answer_id": 30067395, "question_id": 28409100, "tags": ["node.js", "sass", "gulp"]}, {"body": "<p>If you use Gulp then try:</p>\n\n<p><code>npm install gulp-sass</code></p>\n\n<p>I had the same problem and the <code>gulp-sass</code> package was the problem.</p>\n", "title": "Try reinstalling `node-sass` on node 0.12?", "answer_id": 30079399, "question_id": 28409100, "tags": ["node.js", "sass", "gulp"]}, {"body": "<p>For me, this issue was caused in my build system (Travis CI) by doing something kind of dumb in my <code>.travis.yml</code> file. In effect, I was calling <code>npm install</code> <em>before</em> <code>nvm use 0.12</code>, and this was causing <code>node-sass</code> to be built for <code>0.10</code> instead of <code>0.12</code>. My solution was simply moving <code>nvm use</code> out of the <code>.travis.yml</code> file\u2019s <code>before_script</code> section to before the <code>npm install</code> command, which was in the <code>before_install</code> section.</p>\n\n<p>In your case, it is likely that whatever process you are starting with <code>gulp</code> is using a different version of <code>node</code> (than what you would expect).</p>\n", "title": "Try reinstalling `node-sass` on node 0.12?", "answer_id": 31816317, "question_id": 28409100, "tags": ["node.js", "sass", "gulp"]}, {"body": "<p>This answer is a bit orthogonal to the the OP, but --</p>\n\n<p>libsass bindings don't install properly with the node-sass wrapper on Node v4.0.0. I got the same error message as in the question (<code>Error: 'libsass' bindings not found. Try reinstalling 'node-sass')</code> but I ended up uninstalling Node v4.0.0 and installing v0.12.7 using nvm, via this script:</p>\n\n<p><a href=\"https://gist.github.com/brock/5b1b70590e1171c4ab54\" rel=\"nofollow\">https://gist.github.com/brock/5b1b70590e1171c4ab54</a></p>\n\n<p>and now libsass and node-sass are behaving properly.</p>\n", "title": "Try reinstalling `node-sass` on node 0.12?", "answer_id": 32490619, "question_id": 28409100, "tags": ["node.js", "sass", "gulp"]}, {"body": "<p><code>npm rebuild node-sass</code> was giving me errors (Ubuntu) and <code>npm install gulp-sass</code> didn't make the error go away.</p>\n\n<p>Saw a solution on GitHub which worked for me:</p>\n\n<p><code>npm uninstall --save-dev gulp-sass</code></p>\n\n<p><code>npm install --save-dev gulp-sass</code></p>\n", "title": "Try reinstalling `node-sass` on node 0.12?", "answer_id": 32593065, "question_id": 28409100, "tags": ["node.js", "sass", "gulp"]}, {"body": "<p>If your node version is 4 and you are using gulp-sass, then try</p>\n\n<pre><code>npm uninstall --save-dev gulp-sass\n\nnpm install --save-dev gulp-sass@2\n</code></pre>\n", "title": "Try reinstalling `node-sass` on node 0.12?", "answer_id": 32666240, "question_id": 28409100, "tags": ["node.js", "sass", "gulp"]}, {"body": "<p>I have same issue when gulp-sass version is 1.3.0, and fix it after upgrading to 2.1.0.</p>\n", "title": "Try reinstalling `node-sass` on node 0.12?", "answer_id": 33675923, "question_id": 28409100, "tags": ["node.js", "sass", "gulp"]}, {"body": "<p>I had the same issue as @Kos had, only for some reason I had to modify the gulp-sass package from the old <code>package.json</code> file I had. It then installed the dependencies currently and now it finally works!</p>\n", "title": "Try reinstalling `node-sass` on node 0.12?", "answer_id": 33743626, "question_id": 28409100, "tags": ["node.js", "sass", "gulp"]}, {"body": "<p>If you came here because you upgraded nodejs systemwide &amp; suddenly your emberjs ^1.13 app is failing with this message, make sure you're not using an outdated version of <code>ember-cli-sass</code>. You'll need to <code>rm -rf node_modules bower_components dist tmp</code> within the Ember app, then update your <code>package.json</code> with the appropriate <code>ember-cli-sass</code> version, and finally <code>npm install --save-dev</code>. This fixed it for me, without having to rebuild or change any other dependencies.</p>\n", "title": "Try reinstalling `node-sass` on node 0.12?", "answer_id": 34884024, "question_id": 28409100, "tags": ["node.js", "sass", "gulp"]}, {"body": "<p>My issue was that I was on a machine with <code>node version 0.12.2</code>, but that had an old <code>1.x.x</code> version of <code>npm</code>. Be sure to update your version of npm: <code>sudo npm install -g npm</code> Once that is done, remove any existing <code>node-sass</code> and reinstall it via npm.</p>\n", "title": "Try reinstalling `node-sass` on node 0.12?", "answer_id": 36038605, "question_id": 28409100, "tags": ["node.js", "sass", "gulp"]}, {"body": "<p>I removed all the <code>/node_modules</code> folder then ran <code>npm install</code> and it worked.</p>\n\n<p>I have node v5.5.0, npm 3.3.12</p>\n", "title": "Try reinstalling `node-sass` on node 0.12?", "answer_id": 36180873, "question_id": 28409100, "tags": ["node.js", "sass", "gulp"]}], "question_id": 28409100}, {"body": "<p>I have two iphone devices( 4s and 5 ) connected to my computer and i am trying to install an application in both the devices. It installs pretty well in iphone 5 but it gives an error '<code>The application could not be verified</code>.' when attempted to install in the iphone 4s device. </p>\n\n<p>The UDIDs of both the devices have been added in the provisioning profile generated for the application. </p>\n\n<p>Also, to add a note, I have just updated my iphone version to 8.1.3 in my 4s device. I am not sure though if the error has anything to do with it. </p>\n\n<p>Any help on this would be much appreciated. I have been stuck on this for some time now. </p>\n\n<p>EDIT: </p>\n\n<p>I just connected this to another iPhone device and the issue seems to be there again. Basically this means that the app, for some reason, installs only in the phone which I have been using for some time now and not in any other phone. Once again, I am pretty sure that the provisioning profile contains the UDIDs of all these 3 devices. </p>\n", "title": "iOS app &#39;The application could not be verified&#39; only on one device", "tags": ["ios", "iphone", "xcode", "xcode6.1"], "answer_count": 12, "link": "http://stackoverflow.com/questions/28231338/ios-app-the-application-could-not-be-verified-only-on-one-device", "answers": [{"body": "<p>I had something similar happen to me just recently.  I updated my iPhone to 8.1.3, and started getting the 'application could not be verified' error message from Xcode on an app that installed just fine on the same iOS device from the same Mac just a few days ago.</p>\n\n<p>I deleted the app from the device, restarted Xcode, and the app subsequently installed on the device just fine without any error message.  Not sure if deleting the app was the fix, or the problem was due to \"the phase of the moon\".</p>\n", "title": "iOS app &#39;The application could not be verified&#39; only on one device", "answer_id": 28232381, "question_id": 28231338, "tags": ["ios", "iphone", "xcode", "xcode6.1"]}, {"body": "<p>just delete the app and try again, it happens to me when i try to launch over a device that has the same app but generated by an ipa file.</p>\n", "title": "iOS app &#39;The application could not be verified&#39; only on one device", "answer_id": 28372719, "question_id": 28231338, "tags": ["ios", "iphone", "xcode", "xcode6.1"]}, {"body": "<p>Might have figured it out... Deleting the app from the device worked for me, as others mentioned before (thanks!).  </p>\n\n<p>I think the reason is that the app on the device was actually signed with a separate provisioning profile, specifically a distribution profile in my case.</p>\n", "title": "iOS app &#39;The application could not be verified&#39; only on one device", "answer_id": 28639945, "question_id": 28231338, "tags": ["ios", "iphone", "xcode", "xcode6.1"]}, {"body": "<p>Had the same issue on my iPad running 8.1.3 Deleting the app and installing again fixed the issue. I use two different provisioning profiles on two different machines and that could have caused this issue.</p>\n", "title": "iOS app &#39;The application could not be verified&#39; only on one device", "answer_id": 28683289, "question_id": 28231338, "tags": ["ios", "iphone", "xcode", "xcode6.1"]}, {"body": "<p>I faced this issue a lot. I am not sure if this is the issue, but I think, when xCode saw that there is an app with the same bundle identifier as of the app, I am trying to install, it didn't allow me. So, I had to delete the older one and attempted to install and it worked. However sometimes for testing purpose, I needed multiple version of the same app and in that case, I would change the bundle identifier and try to install. It only works if, I am using an wildcard provisioning profile.</p>\n", "title": "iOS app &#39;The application could not be verified&#39; only on one device", "answer_id": 28722017, "question_id": 28231338, "tags": ["ios", "iphone", "xcode", "xcode6.1"]}, {"body": "<p>You probably used the \"Fix Issue\" option in Xcode when plugging in a new device. Old question but I believe this is the actual answer to <strong>WHY</strong> this is happening. When you install an app on a device it is signed with a specific development provisioning profile. If, for instance, you plug in another device that is not registered on your developer account Xcode will ask you to \"fix the issue\". When you press that the device is added and another provisioning profile is created/modified. If you try to overwrite an existing app you'll receive that error. Deleting the app and reinstalling it works since the profile has been altered. I find this often happens when a Team is set and a member plugs in a new device then Xcode \"Fixes\" the problem. </p>\n", "title": "iOS app &#39;The application could not be verified&#39; only on one device", "answer_id": 28774448, "question_id": 28231338, "tags": ["ios", "iphone", "xcode", "xcode6.1"]}, {"body": "<p>To others not using RubyMotion and don't think that deleting the app is acceptable (as in, you want to do upgrade testing). Check out the bottom of these docs from Apple:</p>\n\n<p><a href=\"https://developer.apple.com/library/ios/technotes/tn2319/_index.html\">https://developer.apple.com/library/ios/technotes/tn2319/_index.html</a></p>\n\n<p>It looks like they changed something in 8.1.3 to check for this new rule.</p>\n\n<p><strong>The Fix</strong></p>\n\n<p>\"[Add] the installed application\u2019s application-identifier value, as logged in the second parentheses, to the previous-application-identifiers entitlement\u2019s array value for the app being installed (by resigning it or re-building it) and requesting new special provisioning profiles as shown below.\"</p>\n\n<pre><code>&lt;key&gt;previous-application-identifiers&lt;/key&gt;\n&lt;array&gt;\n    &lt;string&gt;{Your Old App ID Prefix}.YourApp.Bundle.ID&lt;/string&gt;\n&lt;/array&gt;\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>In order to do this, you need special provisioning profiles. You can request these from Apple:\n\"To enable signing with the previous-application-identifiers entitlement new special provisioning profiles are required that can be obtained by going to the Contact US page and requesting them.\" (from the docs linked above).</p>\n", "title": "iOS app &#39;The application could not be verified&#39; only on one device", "answer_id": 29376108, "question_id": 28231338, "tags": ["ios", "iphone", "xcode", "xcode6.1"]}, {"body": "<p>I also encountered the same issue. Deleting the app didn't work, but when I tried deleting another app which was the current one's 'parent'(I copied the whole project from the previous app, modified some urls and images, then I clicked 'Run' and saw the unhappy 'could not be verified' dialog). Seems the issue is related to provisioning and code signing and/or some configurations of the project. Very tricky.</p>\n", "title": "iOS app &#39;The application could not be verified&#39; only on one device", "answer_id": 29425517, "question_id": 28231338, "tags": ["ios", "iphone", "xcode", "xcode6.1"]}, {"body": "<p>As I notice <strong>The application could not be verified.</strong> raise up because in your device there is already an app installed with the same bundle identifier.</p>\n\n<p>I got this issue because in my device there is my app that download from App store. and i test its update Version from Xcode. And i used same identifier that is live app and my development testing app. So i just remove app-store Live app from my device and this error going to be fix.</p>\n", "title": "iOS app &#39;The application could not be verified&#39; only on one device", "answer_id": 30076687, "question_id": 28231338, "tags": ["ios", "iphone", "xcode", "xcode6.1"]}, {"body": "<p>Working &amp; tested solution, <strong>which does not require to delete application:</strong></p>\n\n<p>It looks like <strong>AppStore Distribution Provisioning Profile</strong> or just iOS Distribution certificate have special permissions and <em>\"Could not be verified...\"</em> problem does not apply to them. They <strong>will always override previous certificate</strong>.</p>\n\n<p>In other words: AppStore release will install successfully, even if already installed (testing, adhoc or enterprise) app has been signed by the certificate from different team.</p>\n\n<p>If you are lucky and have previously uploaded app to the AppStore account owned by the same team as in certificate you have a problem with - then things are very simple: just download &amp; install app from AppStore.</p>\n\n<p>When it installs - app certificate will be the same as the one you want to test with and problem goes away.</p>\n\n<p><strong>If your app is not on the AppStore yet - iTunesConnect beta comes to the rescue</strong>:</p>\n\n<p><strong><em>Disclaimer</em></strong>: I did not tested this but since cert an prev are the same as AppStore release, I bet it works:</p>\n\n<ol>\n<li>Archive your app with AppStore provisioning profile (iOS Distribution cert) and upload to iTunesConnect (to the account owned by the same developer team as included in the provisioning profile not you want to run).</li>\n<li>Invite person with the device you want to run on (yourself?) to beta test.</li>\n<li>Download &amp; install the app from iTunes connect beta.</li>\n<li>Now you are able to install your testing version.</li>\n</ol>\n", "title": "iOS app &#39;The application could not be verified&#39; only on one device", "answer_id": 30617406, "question_id": 28231338, "tags": ["ios", "iphone", "xcode", "xcode6.1"]}, {"body": "<p>TL;DR answer - There is no real solution besides \"delete app and reinstall\".</p>\n\n<p>This answer is not satisfactory for many situations, when you have an existing database that needs to not get deleted within the app.</p>\n\n<p>Lukasz and plivesey are the only ones with solutions that don't require delete, but neither worked for me.</p>\n", "title": "iOS app &#39;The application could not be verified&#39; only on one device", "answer_id": 33576215, "question_id": 28231338, "tags": ["ios", "iphone", "xcode", "xcode6.1"]}, {"body": "<p>The application could not be verified\" , in your device there could be already an app installed with the same bundle identifier.</p>\n\n<p>So Simple solution Just delete the App  &amp; try again..\n....</p>\n", "title": "iOS app &#39;The application could not be verified&#39; only on one device", "answer_id": 38086765, "question_id": 28231338, "tags": ["ios", "iphone", "xcode", "xcode6.1"]}], "question_id": 28231338}, {"body": "<p>I was reading Java's <code>ArrayList</code> source code and noticed some comparisons in if-statements.</p>\n\n<p>In Java 7, the method <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/util/ArrayList.java#ArrayList.grow%28int%29\"><code>grow(int)</code></a> uses</p>\n\n<pre><code>if (newCapacity - minCapacity &lt; 0)\n    newCapacity = minCapacity;\n</code></pre>\n\n<p>In Java 6, <code>grow</code> didn't exist. The method <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b27/java/util/ArrayList.java#ArrayList.ensureCapacity%28int%29\"><code>ensureCapacity(int)</code></a> however uses</p>\n\n<pre><code>if (newCapacity &lt; minCapacity)\n    newCapacity = minCapacity;\n</code></pre>\n\n<p>What was the reason behind the change? Was it a performance issue or just a style? </p>\n\n<p>I could imagine that comparing against zero is faster, but performing a complete subtraction just to check whether it's negative seems a bit overkill to me. Also in terms of bytecode, this would involve two instructions (<code>ISUB</code> and <code>IF_ICMPGE</code>) instead of one (<code>IFGE</code>).</p>\n", "title": "Difference between if (a - b &lt; 0) and if (a &lt; b)", "tags": ["java", "if-statement", "arraylist"], "answer_count": 4, "link": "http://stackoverflow.com/questions/33147339/difference-between-if-a-b-0-and-if-a-b", "answers": [{"body": "<p><code>a &lt; b</code> and <code>a - b &lt; 0</code> can mean two different things. Consider the following code:</p>\n\n<pre><code>int a = Integer.MAX_VALUE;\nint b = Integer.MIN_VALUE;\nif (a &lt; b) {\n    System.out.println(\"a &lt; b\");\n}\nif (a - b &lt; 0) {\n    System.out.println(\"a - b &lt; 0\");\n}\n</code></pre>\n\n<p>When run, this will only print <code>a - b &lt; 0</code>. What happens is that <code>a &lt; b</code> is clearly false, but <code>a - b</code> overflows and becomes <code>-1</code>, which is negative.</p>\n\n<p>Now, having said that, consider that the array has a length that is really close to <code>Integer.MAX_VALUE</code>. The code in <code>ArrayList</code> goes like this:</p>\n\n<pre><code>int oldCapacity = elementData.length;\nint newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);\nif (newCapacity - minCapacity &lt; 0)\n    newCapacity = minCapacity;\nif (newCapacity - MAX_ARRAY_SIZE &gt; 0)\n    newCapacity = hugeCapacity(minCapacity);\n</code></pre>\n\n<p><code>oldCapacity</code> is really close to <code>Integer.MAX_VALUE</code> so <code>newCapacity</code> (which is <code>oldCapacity + 0.5 * oldCapacity</code>) might overflow and become <code>Integer.MIN_VALUE</code> (i.e. negative). Then, subtracting <code>minCapacity</code> <em>underflows</em> back into a positive number.</p>\n\n<p>This check ensures that the <code>if</code> is not executed. If the code were written as <code>if (newCapacity &lt; minCapacity)</code>, it would be <code>true</code> in this case (since <code>newCapacity</code> is negative) so the <code>newCapacity</code> would be forced to <code>minCapacity</code> regardless of the <code>oldCapacity</code>.</p>\n\n<p>This overflow case is handled by the next if. When <code>newCapacity</code> has overflowed, this will be <code>true</code>: <code>MAX_ARRAY_SIZE</code> is defined as <code>Integer.MAX_VALUE - 8</code> and <code>Integer.MIN_VALUE - (Integer.MAX_VALUE - 8) &gt; 0</code> is <code>true</code>. The <code>newCapacity</code> is therefore rightly handled: <code>hugeCapacity</code> method returns <code>MAX_ARRAY_SIZE</code> or <code>Integer.MAX_VALUE</code>.</p>\n\n<p>NB: this is what the <code>// overflow-conscious code</code> comment in this method is saying.</p>\n", "title": "Difference between if (a - b &lt; 0) and if (a &lt; b)", "answer_id": 33147610, "question_id": 33147339, "tags": ["java", "if-statement", "arraylist"]}, {"body": "<p>I found <a href=\"http://mail.openjdk.java.net/pipermail/core-libs-dev/2010-March/003736.html\">this explanation</a>:</p>\n\n<blockquote>\n  <p>On Tue, Mar 9, 2010 at 03:02, Kevin L. Stern  wrote: <br/></p>\n  \n  <blockquote>\n    <p>I did a quick search and it appears that Java is indeed two's complement\n    based. Nonetheless, please allow me to point out that, in general, this\n    type of code worries me since I fully expect that at some point someone will\n    come along and do exactly what Dmytro suggested; that is, someone will\n    change:</p>\n\n<pre><code>if (a - b &gt; 0)\n</code></pre>\n    \n    <p>to</p>\n\n<pre><code>if (a &gt; b)\n</code></pre>\n    \n    <p>and the entire ship will sink. I, personally, like to avoid obscurities\n    such as making integer overflow an essential basis for my algorithm unless\n    there is a good reason to do so. I would, in general, prefer to avoid\n    overflow altogether and to make the overflow scenario more explicit:</p>\n\n<pre><code>if (oldCapacity &gt; RESIZE_OVERFLOW_THRESHOLD) {\n   // Do something\n} else {\n  // Do something else\n}\n</code></pre>\n  </blockquote>\n  \n  <p>It's a good point.</p>\n  \n  <p>In <code>ArrayList</code> we cannot do this (or at least not compatibly), because\n  <code>ensureCapacity</code> is a public API and effectively already accepts\n  negative numbers as requests for a positive capacity that cannot be\n  satisfied.</p>\n  \n  <p>The current API is used like this:</p>\n\n<pre><code>int newcount = count + len;\nensureCapacity(newcount);\n</code></pre>\n  \n  <p>If you want to avoid overflow, you would need to change to something\n  less natural like</p>\n\n<pre><code>ensureCapacity(count, len);\nint newcount = count + len;\n</code></pre>\n  \n  <p>Anyway, I'm keeping the overflow-conscious code, but adding more\n  warning comments, and \"out-lining\" huge array creation so that\n  <code>ArrayList</code>'s code now looks like:</p>\n\n<pre><code>/**\n * Increases the capacity of this &lt;tt&gt;ArrayList&lt;/tt&gt; instance, if\n * necessary, to ensure that it can hold at least the number of elements\n * specified by the minimum capacity argument.\n *\n * @param minCapacity the desired minimum capacity\n */\npublic void ensureCapacity(int minCapacity) {\n    modCount++;\n\n    // Overflow-conscious code\n    if (minCapacity - elementData.length &gt; 0)\n        grow(minCapacity);\n}\n\n/**\n * The maximum size of array to allocate.\n * Some VMs reserve some header words in an array.\n * Attempts to allocate larger arrays may result in\n * OutOfMemoryError: Requested array size exceeds VM limit\n */\nprivate static final int MAX_ARRAY_SIZE = Integer.MAX_VALUE - 8;\n\n/**\n * Increases the capacity to ensure that it can hold at least the\n * number of elements specified by the minimum capacity argument.\n *\n * @param minCapacity the desired minimum capacity\n */\nprivate void grow(int minCapacity) {\n    // Overflow-conscious code\n    int oldCapacity = elementData.length;\n    int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);\n    if (newCapacity - minCapacity &lt; 0)\n        newCapacity = minCapacity;\n    if (newCapacity - MAX_ARRAY_SIZE &gt; 0)\n        newCapacity = hugeCapacity(minCapacity);\n\n    // minCapacity is usually close to size, so this is a win:\n    elementData = Arrays.copyOf(elementData, newCapacity);\n}\n\nprivate int hugeCapacity(int minCapacity) {\n    if (minCapacity &lt; 0) // overflow\n        throw new OutOfMemoryError();\n    return (minCapacity &gt; MAX_ARRAY_SIZE) ?\n        Integer.MAX_VALUE :\n        MAX_ARRAY_SIZE;\n}\n</code></pre>\n  \n  <p>Webrev regenerated.</p>\n  \n  <p>Martin</p>\n</blockquote>\n\n<p>In Java 6, if you use the API as:</p>\n\n<pre><code>int newcount = count + len;\nensureCapacity(newcount);\n</code></pre>\n\n<p>And <code>newCount</code> overflows (this becomes negative), <code>if (minCapacity &gt; oldCapacity)</code> will return false and you may mistakenly assume that the <code>ArrayList</code> was increased by <code>len</code>.</p>\n", "title": "Difference between if (a - b &lt; 0) and if (a &lt; b)", "answer_id": 33147762, "question_id": 33147339, "tags": ["java", "if-statement", "arraylist"]}, {"body": "<p>Looking at the code:</p>\n\n<pre><code>int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);\n</code></pre>\n\n<p>If <code>oldCapacity</code> is quite large, this will overflow, and <code>newCapacity</code> will be a negative number. A comparison like <code>newCapacity &lt; oldCapacity</code> will incorrectly evaluate <code>true</code> and the <code>ArrayList</code> will fail to grow.</p>\n\n<p>Instead, the code as written (<code>newCapacity - minCapacity &lt; 0</code> returns false) will allow the negative value of <code>newCapacity</code> to be further evaluated in the next line, resulting in recalculating <code>newCapacity</code> by invoking <code>hugeCapacity</code> (<code>newCapacity = hugeCapacity(minCapacity);</code>) to allow for the <code>ArrayList</code> to grow up to <code>MAX_ARRAY_SIZE</code>.</p>\n\n<p>This is what the <code>// overflow-conscious code</code> comment is trying to communicate, though rather obliquely.</p>\n\n<p>So, bottom line, the new comparison protects against allocating an <code>ArrayList</code> larger than the predefined <code>MAX_ARRAY_SIZE</code> while allowing it to grow right up to that limit if needed.</p>\n", "title": "Difference between if (a - b &lt; 0) and if (a &lt; b)", "answer_id": 33148103, "question_id": 33147339, "tags": ["java", "if-statement", "arraylist"]}, {"body": "<p>The two forms behave exactly the same unless the expression <code>a - b</code> overflows, in which case they are opposite.  If <code>a</code> is a large negative, and <code>b</code> is a large positive, then <code>(a &lt; b)</code> is clearly true, but <code>a - b</code> will overflow to become positive, so <code>(a - b &lt; 0)</code> is false.</p>\n\n<p>If you're familiar with x86 assembly code, consider that <code>(a &lt; b)</code> is implemented by a <code>jge</code>, which branches around the body of the if statement when SF = OF.  On the other hand, <code>(a - b &lt; 0)</code> will act like a <code>jns</code>, which branches when SF = 0.  Hence, these behave differently precisely when OF = 1.</p>\n", "title": "Difference between if (a - b &lt; 0) and if (a &lt; b)", "answer_id": 36520025, "question_id": 33147339, "tags": ["java", "if-statement", "arraylist"]}], "question_id": 33147339}, {"body": "<p><strong>Question 1:</strong></p>\n\n<p>Why does the following code compile without having a return statement?</p>\n\n<pre><code>public int a() \n{\n    while(true);\n}\n</code></pre>\n\n<p>Notice: If I add return after the while then I get an <code>Unreachable Code Error</code>.</p>\n\n<p><strong>Question 2:</strong> </p>\n\n<p>On the other hand, why does the following code compile,</p>\n\n<pre><code>public int a() \n{\n    while(0 == 0);\n}\n</code></pre>\n\n<p>even though the following does not.</p>\n\n<pre><code>public int a(int b)\n{\n    while(b == b);\n}\n</code></pre>\n", "title": "Java method with return type compiles without return statement", "tags": ["java", "syntax", "while-loop", "compilation", "return"], "answer_count": 3, "link": "http://stackoverflow.com/questions/31050114/java-method-with-return-type-compiles-without-return-statement", "answers": [{"body": "<blockquote>\n  <p><strong>Question 1:</strong></p>\n  \n  <p>Why does the following code compile without having a return statement?</p>\n\n<pre><code>public int a() \n{\n    while(true);\n}\n</code></pre>\n</blockquote>\n\n<p>This is covered by <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4.7\">JLS\u00a78.4.7</a>:</p>\n\n<blockquote>\n  <p>If a method is declared to have a return type (\u00a78.4.5), then a compile-time error occurs if the body of the method can complete normally (\u00a714.1).</p>\n  \n  <p>In other words, a method with a return type must return only by using a return statement that provides a value return; the method is not allowed to \"drop off the end of its body\". See \u00a714.17 for the precise rules about return statements in a method body.</p>\n  \n  <p>It is possible for a method to have a return type and yet contain no return statements. Here is one example:</p>\n\n<pre><code>class DizzyDean {\n    int pitch() { throw new RuntimeException(\"90 mph?!\"); }\n}\n</code></pre>\n</blockquote>\n\n<p>Since the compiler knows that the loop will never terminate (<code>true</code> is always true, of course), it knows the function cannot \"return normally\" (drop off the end of its body), and thus it's okay that there's no <code>return</code>.</p>\n\n<blockquote>\n  <p><strong>Question 2:</strong></p>\n  \n  <p>On the other hand, why does the following code compile,</p>\n\n<pre><code>public int a() \n{\n    while(0 == 0);\n}\n</code></pre>\n  \n  <p>even though the following does not.</p>\n\n<pre><code>public int a(int b)\n{\n    while(b == b);\n}\n</code></pre>\n</blockquote>\n\n<p>In the <code>0 == 0</code> case, the compiler knows that the loop will never terminate (that <code>0 == 0</code> will always be true). But it <strong>doesn't</strong> know that for <code>b == b</code>.</p>\n\n<p>Why not?</p>\n\n<p>The compiler understands <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.28\">constant expressions (\u00a715.28)</a>. Quoting <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.2\">\u00a715.2 - Forms of Expressions</a> <em>(because oddly this sentence isn't in \u00a715.28)</em>:</p>\n\n<blockquote>\n  <p>Some expressions have a value that can be determined at compile time. These are <em>constant expressions</em> (\u00a715.28).</p>\n</blockquote>\n\n<p>In your <code>b == b</code> example, because there is a variable involved, it isn't a constant expression and isn't specified to be determined at compilation time. <strong>We</strong> can see that it's always going to be true in this case (although if <code>b</code> were a <code>double</code>, as QBrute <a href=\"http://stackoverflow.com/questions/31050114/java-method-with-return-type-compiles-without-actually-returning-anything/31050290#comment50126058_31050290\">pointed out</a>, we could easily be fooled by <code>Double.NaN</code>, which is <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.2.3\">not <code>==</code> itself</a>), but the JLS only specifies that constant expressions are determined at compile time, it doesn't allow the compiler to try to evaluate non-constant expressions. bayou.io <a href=\"http://stackoverflow.com/questions/31050114/java-method-with-return-type-compiles-without-actually-returning-anything#comment50122240_31050290\">raised a good point</a> for why not: If you start going down the road of trying to determine expressions involving variables at compilation time, where do you stop? <code>b == b</code> is obvious (er, for non-<code>NaN</code> values), but what about <code>a + b == b + a</code>? Or <code>(a + b) * 2 == a * 2 + b * 2</code>? Drawing the line at constants makes sense.</p>\n\n<p>So since it doesn't \"determine\" the expression, the compiler doesn't know that the loop will never terminate, so it thinks the method can return normally&nbsp;&mdash; which it's not allowed to do, because it's required to use <code>return</code>. So it complains about the lack of a <code>return</code>.</p>\n", "title": "Java method with return type compiles without return statement", "answer_id": 31050290, "question_id": 31050114, "tags": ["java", "syntax", "while-loop", "compilation", "return"]}, {"body": "<p>It can be interesting to think of the method return type not as a promise to return a value of the specified type, but as a promise not to return a value that is <em>not</em> of the specified type. Thus, if you never return anything, you are not breaking the promise, and so any of the following are legal:</p>\n\n<ol>\n<li><p>Looping forever:</p>\n\n<pre><code>X foo() {\n    for (;;);\n}\n</code></pre></li>\n<li><p>Recursing forever:</p>\n\n<pre><code>X foo() {\n    return foo();\n}\n</code></pre></li>\n<li><p>Throwing an exception:</p>\n\n<pre><code>X foo() {\n    throw new Error();\n}\n</code></pre></li>\n</ol>\n\n<p>(Since these methods never actually return a value, the type of <code>X</code> is unimportant.)</p>\n", "title": "Java method with return type compiles without return statement", "answer_id": 31057507, "question_id": 31050114, "tags": ["java", "syntax", "while-loop", "compilation", "return"]}, {"body": "<p>Looking at the byte code, if what is being returned does not match the definition, you will receive a compile error.  </p>\n\n<p><strong>Example:</strong></p>\n\n<p><code>for(;;)</code> will show the bytecodes:</p>\n\n<pre><code>L0\n    LINENUMBER 6 L0\n    FRAME SAME\n    GOTO L0\n</code></pre>\n\n<p><strong>Note the lack of any return bytecode</strong></p>\n\n<p>This does not ever hit a return, and thus does not return the wrong type.</p>\n\n<p>For comparison, a method like:</p>\n\n<pre><code>public String getBar() { \n    return bar; \n}\n</code></pre>\n\n<p>Will return the following bytecodes:</p>\n\n<pre><code>public java.lang.String getBar();\n    Code:\n      0:   aload_0\n      1:   getfield        #2; //Field bar:Ljava/lang/String;\n      4:   areturn\n</code></pre>\n\n<p>Note the \"areturn\" which means \"return a reference\"</p>\n\n<p>Now if we do the following:</p>\n\n<pre><code>public String getBar() { \n    return 1; \n}\n</code></pre>\n\n<p>Will return the following bytecodes:</p>\n\n<pre><code>public String getBar();\n  Code:\n   0:   iconst_1\n   1:   ireturn\n</code></pre>\n\n<p>Now we can see that the type in the definition does not match the return type of ireturn, which means return int.</p>\n\n<p>So really what it comes down to is that if the method has a return path, that path must match the return type.  But there are instances in the bytecode where no return path is generated at all, and thus no breaking of the rule.</p>\n", "title": "Java method with return type compiles without return statement", "answer_id": 31080894, "question_id": 31050114, "tags": ["java", "syntax", "while-loop", "compilation", "return"]}], "question_id": 31050114}, {"body": "<p>I just upgraded from Yosemite to El Capitan, and when I try to type for example <code>git status</code> inside a terminal, I get the following error:</p>\n\n<pre><code>xcrun: error: invalid active developer path\n (/Library/Developer/CommandLineTools), missing xcrun at:\n /Library/Developer/CommandLineTools/usr/bin/xcrun\n</code></pre>\n\n<p>I don't have Xcode installed, never did. \nAnyone have a solution?</p>\n", "title": "Command Line Tools not working - OS X El Capitan", "tags": ["osx", "osx-elcapitan"], "answer_count": 2, "link": "http://stackoverflow.com/questions/32893412/command-line-tools-not-working-os-x-el-capitan", "answers": [{"body": "<p>Found the fix for the problem <a href=\"http://tips.tutorialhorizon.com/2015/10/01/xcrun-error-invalid-active-developer-path-library-developer-commandline-tools-missing-xcrun/\">here</a>.</p>\n\n<pre><code>xcode-select --install\n</code></pre>\n\n<p>This will bring up a prompt to install the necessary command line tools.</p>\n", "title": "Command Line Tools not working - OS X El Capitan", "answer_id": 32894314, "question_id": 32893412, "tags": ["osx", "osx-elcapitan"]}, {"body": "<p>If you have issues with the <code>xcode-select --install</code> command; e.g. I kept getting a network problem timeout, then try downloading the dmg at <a href=\"http://developer.apple.com/downloads\">developer.apple.com/downloads</a> (Command line tools OS X 10.11) for Xcode 7.1</p>\n", "title": "Command Line Tools not working - OS X El Capitan", "answer_id": 33593066, "question_id": 32893412, "tags": ["osx", "osx-elcapitan"]}], "question_id": 32893412}, {"body": "<p>Are there are any cases where you would prefer <code>O(log n)</code> time complexity to <code>O(1)</code> time complexity? Or <code>O(n)</code> to <code>O(log n)</code>?</p>\n\n<p>Do you have any examples?</p>\n", "title": "Are there any cases where you would prefer a higher big-O time complexity algorithm over the lower one?", "tags": ["algorithm", "big-o", "time-complexity"], "answer_count": 22, "link": "http://stackoverflow.com/questions/34179968/are-there-any-cases-where-you-would-prefer-a-higher-big-o-time-complexity-algori", "answers": [{"body": "<p>There is always the hidden constant, which can be lower on the <em>O</em>(log <em>n</em>) algorithm. So it can work faster in practice for real-life data.</p>\n\n<p>There are also space concerns (e.g. running on a toaster).</p>\n\n<p>There's also developer time concern - <em>O</em>(log <em>n</em>) may be 1000\u00d7 easier to implement and verify.</p>\n", "title": "Are there any cases where you would prefer a higher big-O time complexity algorithm over the lower one?", "answer_id": 34180016, "question_id": 34179968, "tags": ["algorithm", "big-o", "time-complexity"]}, {"body": "<p>In contexts where data security is a concern, a more complex algorithm may be preferable to a less complex algorithm if the more complex algorithm has better resistance to <a href=\"https://en.wikipedia.org/wiki/Timing_attack\">timing attacks</a>.</p>\n", "title": "Are there any cases where you would prefer a higher big-O time complexity algorithm over the lower one?", "answer_id": 34185557, "question_id": 34179968, "tags": ["algorithm", "big-o", "time-complexity"]}, {"body": "<p>I'm surprised nobody has mentioned memory-bound applications yet.</p>\n\n<p>There may be an algorithm that has less floating point operations either due to its complexity (i.e. <em>O</em>(1) &lt; <em>O</em>(log <em>n</em>)) or because the constant in front of the complexity is smaller (i.e. <em>2<i>n</i><sup>2</sup> &lt; 6<i>n</i><sup>2</sup></em>). Regardless, you might still prefer the algorithm with more FLOP if the lower FLOP algorithm is more memory-bound.</p>\n\n<p>What I mean by \"memory-bound\" is that you are often accessing data that is constantly out-of-cache. In order to fetch this data, you have to pull the memory from your actually memory space into your cache before you can perform your operation on it. This fetching step is often quite slow - much slower than your operation itself. </p>\n\n<p>Therefore, if your algorithm requires more operations (yet these operations are performed on data that is already in cache [and therefore no fetching required]), it will still out-perform your algorithm with fewer operations (which must be performed on out-of-cache data [and therefore require a fetch]) in terms of actual wall-time.</p>\n", "title": "Are there any cases where you would prefer a higher big-O time complexity algorithm over the lower one?", "answer_id": 34187425, "question_id": 34179968, "tags": ["algorithm", "big-o", "time-complexity"]}, {"body": "<p>My answer here <a href=\"http://stackoverflow.com/questions/34187130/fast-random-weighted-selection-across-all-rows-of-a-stochastic-matrix/34190035#comment56127011_34190035\">Fast random weighted selection across all rows of a stochastic matrix</a> is an example where an algorithm with complexity O(m) is faster than one with complexity O(log(m)), when <code>m</code> is not too big.</p>\n", "title": "Are there any cases where you would prefer a higher big-O time complexity algorithm over the lower one?", "answer_id": 34190498, "question_id": 34179968, "tags": ["algorithm", "big-o", "time-complexity"]}, {"body": "<p>Consider a red-black tree. It has access, search, insert, and delete of <code>O(log n)</code>. Compare to an array, which has access of <code>O(1)</code> and the rest of the operations are <code>O(n)</code>.</p>\n\n<p>So given an application where we insert, delete, or search more often than we access and a choice between only these two structures, we would prefer the red-black tree. In this case, you might say we prefer the red-black tree's more cumbersome <code>O(log n)</code> access time.</p>\n\n<p>Why? Because the access is not our overriding concern. We are making a trade off: the performance of our application is more heavily influenced by factors other than this one. We allow this particular algorithm to suffer performance because we make large gains by optimizing other algorithms.</p>\n\n<p>So the answer to your question is simply this: <strong>when the algorithm's growth rate isn't what we want to optimize</strong>, when we want to optimize <em>something else</em>. All of the other answers are special cases of this. Sometimes we optimize the run time of other operations. Sometimes we optimize for memory. Sometimes we optimize for security. Sometimes we optimize maintainability. Sometimes we optimize for development time. Even the overriding constant being low enough to matter is optimizing for run time when you know the growth rate of the algorithm isn't the greatest impact on run time. (If your data set was outside this range, you would optimize for the growth rate of the algorithm because it would eventually dominate the constant.) Everything has a cost, and in many cases, we trade the cost of a higher growth rate for the algorithm to optimize something else.</p>\n", "title": "Are there any cases where you would prefer a higher big-O time complexity algorithm over the lower one?", "answer_id": 34193031, "question_id": 34179968, "tags": ["algorithm", "big-o", "time-complexity"]}, {"body": "<p>Alistra nailed it but failed to provide any examples so I will.</p>\n\n<p>You have a list of 10,000 UPC codes for what your store sells.  10 digit UPC, integer for price (price in pennies) and 30 characters of description for the receipt.</p>\n\n<p>O(log N) approach:  You have a sorted list.  44 bytes if ASCII, 84 if Unicode.  Alternately, treat the UPC as an int64 and you get 42 &amp; 72 bytes.  10,000 records--in the highest case you're looking at a bit under a megabyte of storage.</p>\n\n<p>O(1) approach:  Don't store the UPC, instead you use it as an entry into the array.  In the lowest case you're looking at almost a third of a terabyte of storage.</p>\n\n<p>Which approach you use depends on your hardware.  On most any reasonable modern configuration you're going to use the log N approach.  I can picture the second approach being the right answer if for some reason you're running in an environment where RAM is critically short but you have plenty of mass storage.  A third of a terabyte on a disk is no big deal, getting your data in one probe of the disk is worth something.  The simple binary approach takes 13 on average.  (Note, however, that by clustering your keys you can get this down to a guaranteed 3 reads and in practice you would cache the first one.)</p>\n", "title": "Are there any cases where you would prefer a higher big-O time complexity algorithm over the lower one?", "answer_id": 34194174, "question_id": 34179968, "tags": ["algorithm", "big-o", "time-complexity"]}, {"body": "<p>The possibility to execute an algorithm in parallel.</p>\n\n<p>I don't know if there is an example for the classes <code>O(log n)</code> and <code>O(1)</code>, but for some problems, you choose an algorithm with a higher complexity class when the algorithm is easier to execute in parallel.</p>\n\n<p>Some algorithms cannot be parallelized but have so low complexity class. Consider another algorithm which achieves the same result and can be parallelized easily, but has a higher complexity class. When executed on one machine, the second algorithm is slower, but when executed on multiple machines, the real execution time gets lower and lower while the first algorithm cannot speed up.</p>\n", "title": "Are there any cases where you would prefer a higher big-O time complexity algorithm over the lower one?", "answer_id": 34198238, "question_id": 34179968, "tags": ["algorithm", "big-o", "time-complexity"]}, {"body": "<p>Yes.</p>\n\n<p>In a real case, we ran some tests on doing table lookups with both short and long string keys.</p>\n\n<p>We used a <code>std::map</code>, a <code>std::unordered_map</code> with a hash that samples at most 10 times over the length of the string (our keys tend to be guid-like, so this is decent), and a hash that samples every character (in theory reduced collisions), an unsorted vector where we do a <code>==</code> compare, and (if I remember correctly) an unsorted vector where we also store a hash, first compare the hash, then compare the characters.</p>\n\n<p>These algorithms range from <code>O(1)</code> (unordered_map) to <code>O(n)</code> (linear search).</p>\n\n<p>For modest sized N, quite often the O(n) beat the O(1).  We suspect this is because the node-based containers required our computer to jump around in memory more, while the linear-based containers did not.</p>\n\n<p><code>O(lg n)</code> exists between the two.  I don't remember how it did.</p>\n\n<p>The performance difference wasn't that large, and on larger data sets the hash-based one performed much better.  So we stuck with the hash-based unordered map.</p>\n\n<p>In practice, for reasonable sized n, <code>O(lg n)</code> is <code>O(1)</code>.  If your computer only has room for 4 billion entries in your table, then <code>O(lg n)</code> is bounded above by <code>32</code>. (lg(2^32)=32) (in computer science, lg is short hand for log based 2).</p>\n\n<p>In practice, lg(n) algorithms are slower than O(1) algorithms not because of the logarithmic growth factor, but because the lg(n) portion usually means there is a certain level of complexity to the algorithm, and that complexity adds a larger constant factor than any of the \"growth\" from the lg(n) term.</p>\n\n<p>However, complex O(1) algorithms (like hash mapping) can easily have a similar or larger constant factor.</p>\n", "title": "Are there any cases where you would prefer a higher big-O time complexity algorithm over the lower one?", "answer_id": 34206814, "question_id": 34179968, "tags": ["algorithm", "big-o", "time-complexity"]}, {"body": "<p>A more general question is if there are situations where one would prefer an <code>O(f(n))</code> algorithm to an <code>O(g(n))</code> algorithm even though <code>g(n) &lt;&lt; f(n)</code> as <code>n</code> tends to infinity. As others have already mentioned, the answer is clearly \"yes\" in the case where <code>f(n) = log(n)</code> and <code>g(n) = 1</code>. It is sometimes yes even in the case that <code>f(n)</code> is polynomial but <code>g(n)</code> is exponential. A famous and important example is that of the <a href=\"https://en.wikipedia.org/wiki/Simplex_algorithm\">Simplex Algorithm</a> for solving linear programming problems. In the 1970s it was shown to be <code>O(2^n)</code>. Thus, its worse-case behavior is infeasible. But -- its <em>average case</em> behavior is extremely good, even for practical problems with tens of thousands of variables and constraints. In the 1980s, polynomial time algorithms (such a <a href=\"https://en.wikipedia.org/wiki/Karmarkar%27s_algorithm\">Karmarkar's interior-point algorithm</a>) for linear programming were discovered, but 30 years later the simplex algorithm still seems to be the algorithm of choice (except for certain very large problems). This is for the obvious reason that average-case behavior is often more important than worse-case behavior, but also for a more subtle reason that the simplex algorithm is in some sense more informative (e.g. sensitivity information is easier to extract).</p>\n", "title": "Are there any cases where you would prefer a higher big-O time complexity algorithm over the lower one?", "answer_id": 34212010, "question_id": 34179968, "tags": ["algorithm", "big-o", "time-complexity"]}, {"body": "<p>Let's say you're implementing a blacklist on an embedded system, where numbers between 0 and 1,000,000 might be blacklisted. That leaves you two possible options:</p>\n\n<ol>\n<li>Use a bitset of 1,000,000 bits</li>\n<li>Use a sorted array of the blacklisted integers and use a binary search to access them</li>\n</ol>\n\n<p>Access to the bitset will have guaranteed constant access. In terms of time complexity, it is optimal. Both from a theoretical and from a practical point view (it is O(1) with an extremely low constant overhead).</p>\n\n<p>Still, you might want to prefer the second solution. Especially if you expect the number of blacklisted integers to be very small, as it will be more memory efficient.</p>\n\n<p>And even if you do not develop for an embedded system where memory is scarce, I just can increase the arbitrary limit of 1,000,000 to 1,000,000,000,000 and make the same argument. Then the bitset would require about 125G of memory. Having a guaranteed worst-case complexitity of O(1) might not convince your boss to provide you such a powerful server.</p>\n\n<p>Here, I would strongly prefer a binary search (O(log n)) or binary tree (O(log n)) over the O(1) bitset. And probably, a hash table with its worst-case complexity of O(n) will beat all of them in practice.</p>\n", "title": "Are there any cases where you would prefer a higher big-O time complexity algorithm over the lower one?", "answer_id": 34214273, "question_id": 34179968, "tags": ["algorithm", "big-o", "time-complexity"]}, {"body": "<p>There is a good use case for using a O(log(n)) algorithm instead of an O(1) algorithm that the numerous other answers have ignored: immutability. Hash maps have O(1) puts and gets, assuming good distribution of hash values, but they require mutable state. Immutable tree maps have O(log(n)) puts and gets, which is asymptotically slower. However, immutability can be valuable enough to make up for worse performance and in the case where multiple versions of the map need to be retained, immutability allows you to avoid having to copy the map, which is O(n), and therefore can <em>improve</em> performance.</p>\n", "title": "Are there any cases where you would prefer a higher big-O time complexity algorithm over the lower one?", "answer_id": 34230795, "question_id": 34179968, "tags": ["algorithm", "big-o", "time-complexity"]}, {"body": "<p>People have already answered your exact question, so I'll tackle a slightly different question that people may actually be thinking of when coming here.</p>\n\n<p>A lot of the \"O(1) time\" algorithms and data structures actually only take <strong><em>expected</em></strong> O(1) time, meaning that their <em>average</em> running time is O(1), possibly only under certain assumptions.  </p>\n\n<p><strong>Common examples:</strong> hashtables, expansion of \"array lists\" (a.k.a. dynamically sized arrays/vectors).</p>\n\n<p>In such scenarios, you may prefer to use data structures or algorithms whose time is guaranteed to be <strong>absolutely</strong> bounded logarithmically, even though they may perform worse on average.<br>\nAn example might therefore be a balanced binary search tree, whose running time is worse on average but better in the worst case.</p>\n", "title": "Are there any cases where you would prefer a higher big-O time complexity algorithm over the lower one?", "answer_id": 34233881, "question_id": 34179968, "tags": ["algorithm", "big-o", "time-complexity"]}, {"body": "<p>There can be many reasons to prefer an algorithm with higher big O time complexity over the lower one:</p>\n\n<ul>\n<li>most of the time, lower big-O complexity is harder to achieve and requires skilled implementation, a lot of knowledge and a lot of testing.</li>\n<li><em>big-O hides the details about a constant</em>: algorithm that performs in <code>10^5</code> is better from big-O point of view than <code>1/10^5 * log(n)</code> (<code>O(1)</code> vs <code>O(log(n)</code>), but for most reasonable <code>n</code> the first one will perform better. For example the best complexity for matrix multiplication is <code>O(n^2.373)</code> but the constant is so high that no (to my knowledge) computational libraries use it.</li>\n<li>big-O makes sense when you calculate over something big. If you need to sort array of three numbers, it matters really little whether you use <code>O(n*log(n))</code> or <code>O(n^2)</code> algorithm.</li>\n<li>sometimes the advantage of the lowercase time complexity can be really negligible. For <a href=\"http://stackoverflow.com/questions/28294125/is-there-any-practical-application-of-tango-trees\">example there is a data structure tango tree</a> which gives a <code>O(log log N)</code> time complexity to find an item, but there is also a binary tree which finds the same in <code>O(log n)</code>. Even for huge numbers of <code>n = 10^20</code> the difference is negligible.</li>\n<li>time complexity is not everything. Imagine an algorithm that runs in <code>O(n^2)</code> and requires <code>O(n^2)</code> memory. It might be preferable over <code>O(n^3)</code> time and <code>O(1)</code> space when the n is not really big. The problem is that you can wait for a long time, but highly doubt you can find a RAM big enough to use it with your algorithm</li>\n<li>parallelization is a good feature in our distributed world. There are algorithms that are easily parallelizable, and there are some that do not parallelize at all. Sometimes is makes sense to run an algorithm on 1000 commodity machines with a higher complexity than using one machine with a slightly better complexity.</li>\n<li><strike>in some places (security) a complexity can be a requirement. No one wants to have a hash algorithm that can hash blazingly fast (because then other people can bruteforce you way faster)</strike></li>\n<li>although this is not related to switch of complexity, but some of the security functions should be written in a manner to <a href=\"https://en.wikipedia.org/wiki/Timing_attack\" rel=\"nofollow\">prevent timing attack</a>. They mostly stay in the same complexity class, but are modified in a way that it always takes worse case to do something. One example is comparing that strings are equal. In most applications it makes sense to break fast if the first bytes are different, but in security you will still wait for the very end to tell the bad news.</li>\n<li>somebody patented the lower-complexity algorithm and it is more economical for a company to use higher complexity than to pay money.</li>\n<li>some algorithms adapt well to particular situations. Insertion sort, for example, has an average time-complexity of <code>O(n^2)</code>, worse than quicksort or mergesort, but as an <a href=\"https://en.wikipedia.org/wiki/Online_algorithm\" rel=\"nofollow\">online algorithm</a> it can efficiently sort a list of values as they are received (as user input) where most other algorithms can only efficiently operate on a complete list of values.</li>\n</ul>\n", "title": "Are there any cases where you would prefer a higher big-O time complexity algorithm over the lower one?", "answer_id": 34237672, "question_id": 34179968, "tags": ["algorithm", "big-o", "time-complexity"]}, {"body": "<p>To put my 2 cents in:</p>\n\n<p>Sometimes a worse complexity algorithm is selected in place of a better one, when the algorithm runs on a certain hardware environment. Suppose our O(1) algorithm non-sequentially accesses every element of a very big, fixed-size array to solve our problem. Then put that array on a mechanical hard drive, or a magnetic tape.</p>\n\n<p>In that case, the O(logn) algorithm (suppose it accesses disk sequentially), becomes more favourable.</p>\n", "title": "Are there any cases where you would prefer a higher big-O time complexity algorithm over the lower one?", "answer_id": 34239801, "question_id": 34179968, "tags": ["algorithm", "big-o", "time-complexity"]}, {"body": "<p>In a realtime situation where you need a firm upper bound you would select e.g. a heapsort as opposed to a Quicksort, because heapsort's average behaviour is also its worst-case behaviour.</p>\n", "title": "Are there any cases where you would prefer a higher big-O time complexity algorithm over the lower one?", "answer_id": 34244953, "question_id": 34179968, "tags": ["algorithm", "big-o", "time-complexity"]}, {"body": "<p><strong>At any point when n is bounded and the constant multiplier of O(1) algorithm is higher than the bound on log(n).</strong>  For example, storing values in a hashset is O(1), but may require an expensive computation of a hash function.  If the data items can be trivially compared (with respect to some order) and the bound on n is such that log n is significantly less than the hash computation on any one item, then storing in a balanced binary tree may be faster than storing in a hashset.</p>\n", "title": "Are there any cases where you would prefer a higher big-O time complexity algorithm over the lower one?", "answer_id": 34244976, "question_id": 34179968, "tags": ["algorithm", "big-o", "time-complexity"]}, {"body": "<p>Simply: Because the coefficient - the costs associated with setup, storage, and the execution time of that step - can be much, much larger with a smaller big-O problem than with a larger one. Big-O is only a measure of the algorithms <em>scalability</em>.</p>\n\n<p>Consider the following example from the Hacker's Dictionary, proposing a sorting algorithm relying on the <a href=\"https://en.wikipedia.org/wiki/Many-worlds_interpretation\">Multiple Worlds Interpretation of Quantum Mechanics</a>:</p>\n\n<blockquote>\n  <ol>\n  <li>Permute the array randomly using a quantum process, </li>\n  <li>If the array is not sorted, destroy the universe.</li>\n  <li>All remaining universes are now sorted [including the one you are in].</li>\n  </ol>\n</blockquote>\n\n<p>(Source: <a href=\"http://catb.org/~esr/jargon/html/B/bogo-sort.html\">http://catb.org/~esr/jargon/html/B/bogo-sort.html</a>)</p>\n\n<p>Notice that the big-O of this algorithm is <code>O(n)</code>, which beats any known sorting algorithm to date on generic items.</p>\n", "title": "Are there any cases where you would prefer a higher big-O time complexity algorithm over the lower one?", "answer_id": 34247910, "question_id": 34179968, "tags": ["algorithm", "big-o", "time-complexity"]}, {"body": "<ol>\n<li>When the \"1\" work unit in O(1) is very high relative to the work unit in O(log n) and the expected set size is small-ish. For example, it's probably slower to compute Dictionary hash codes than iterate an array if there are only two or three items.</li>\n</ol>\n\n<p><em>or</em></p>\n\n<ol start=\"2\">\n<li>When the memory or other non-time resource requirements in the O(1) algorithm are exceptionally large relative to the O(log n) algorithm.</li>\n</ol>\n", "title": "Are there any cases where you would prefer a higher big-O time complexity algorithm over the lower one?", "answer_id": 34258876, "question_id": 34179968, "tags": ["algorithm", "big-o", "time-complexity"]}, {"body": "<p>Adding to the already good answers.A practical example would be Hash indexes vs B-tree indexes in postgres database.</p>\n\n<p>Hash indexes form a hash table index to access the data on the disk while btree as the name suggests uses a Btree data structure.</p>\n\n<p>In Big-O time these are O(1) vs O(logN).</p>\n\n<p>Hash indexes are presently discouraged in postgres since in a real life situation particularly in database systems, achieving hashing without collision is very hard(can  lead to a O(N) worst case complexity) and because of this, it is even more harder to make them crash safe (called write ahead logging - WAL in postgres).</p>\n\n<p>This tradeoff is made in this situation since O(logN) is good enough for indexes and implementing O(1) is pretty hard and the time difference would not really matter.</p>\n", "title": "Are there any cases where you would prefer a higher big-O time complexity algorithm over the lower one?", "answer_id": 34285814, "question_id": 34179968, "tags": ["algorithm", "big-o", "time-complexity"]}, {"body": "<p>When <code>n</code> is small, and <code>O(1)</code> is constantly slow.</p>\n", "title": "Are there any cases where you would prefer a higher big-O time complexity algorithm over the lower one?", "answer_id": 34301192, "question_id": 34179968, "tags": ["algorithm", "big-o", "time-complexity"]}, {"body": "<ol>\n<li>when redesigning a program, a procedure is found to be optimized with O(1) instead of O(lgN), but if it's not the bottleneck of this program, and it's hard to understand the O(1) alg. Then you would not have to use O(1) algorithm</li>\n<li>when O(1) needs much memory that you cannot supply, while the time of O(lgN) can be accepted.</li>\n</ol>\n", "title": "Are there any cases where you would prefer a higher big-O time complexity algorithm over the lower one?", "answer_id": 34311319, "question_id": 34179968, "tags": ["algorithm", "big-o", "time-complexity"]}, {"body": "<p>This is often the case for security applications that we want to design problems whose algorithms are slow on purpose in order to stop someone from obtaining an answer to a problem too quickly.</p>\n\n<p>Here are a couple of examples off the top of my head.</p>\n\n<ul>\n<li>Password hashing is sometimes made arbitrarily slow in order to make it harder to guess passwords by brute-force.  This <a href=\"http://security.stackexchange.com/a/31846/83361\">Information Security post</a> has a bullet point about it (and much more).</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Bitcoin_network#Bitcoin_mining\" rel=\"nofollow\">Bit Coin</a> uses a controllably slow problem for a network of computers to solve in order to \"mine\" coins.  This allows the currency to be mined at a controlled rate by the collective system.</li>\n<li>Asymmetric ciphers (like <a href=\"https://en.wikipedia.org/wiki/RSA\" rel=\"nofollow\">RSA</a>) are designed to make decryption without the keys intentionally slow in order to prevent someone else without the private key to crack the encryption.  The algorithms are designed to be cracked in hopefully <code>O(2^n)</code> time where <code>n</code> is the bit-length of the key (this is brute force).</li>\n</ul>\n\n<p>Elsewhere in CS, Quick Sort is <code>O(n^2)</code> in the worst case but in the general case is <code>O(n*log(n))</code>.  For this reason, \"Big O\" analysis sometimes isn't the only thing you care about when analyzing algorithm efficiency. </p>\n", "title": "Are there any cases where you would prefer a higher big-O time complexity algorithm over the lower one?", "answer_id": 35229516, "question_id": 34179968, "tags": ["algorithm", "big-o", "time-complexity"]}], "question_id": 34179968}, {"body": "<p>Today I uploaded my first build of first app successfully to App Store for beta testing. After making a few changes, when I tried to submit the new archive again Xcode crashed, and still crashes.</p>\n\n<p>It's the log:</p>\n\n<pre><code>Process:               Xcode [36810]\nPath:                  /Applications/Xcode.app/Contents/MacOS/Xcode\nIdentifier:            com.apple.dt.Xcode\nVersion:               6.3.2 (7718)\nBuild Info:            IDEFrameworks-7718000000000000~2\nApp Item ID:           497799835\nApp External ID:       812404257\nCode Type:             X86-64 (Native)\nParent Process:        ??? [1]\nResponsible:           Xcode [36810]\nUser ID:               501\n\nDate/Time:             2015-06-17 21:59:26.432 +0430\nOS Version:            Mac OS X 10.10.3 (14D136)\nReport Version:        11\nAnonymous UUID:        A70B5585-6ADF-B647-C184-94420293DB9F\n\nSleep/Wake UUID:       536542A5-38C8-405F-8A5E-28DBE775C033\n\nTime Awake Since Boot: 110000 seconds\nTime Since Wake:       18000 seconds\n\nCrashed Thread:        14  Dispatch queue: NSOperationQueue 0x7fdb9771af00 :: NSOperation 0x7fdb97679160 (QOS: USER_INITIATED)\n\nException Type:        EXC_CRASH (SIGABRT)\nException Codes:       0x0000000000000000, 0x0000000000000000\n\nApplication Specific Information:\nProductBuildVersion: 6D2105\nASSERTION FAILURE in /SourceCache/IDEFrameworks/IDEFrameworks-7718/IDEFoundation/Issues/IDEIssueManager.m:457\nDetails:  This method must only be called on the main thread\nObject:   &lt;IDEIssueManager&gt;\nMethod:   +_issueProviderInfo\nThread:   &lt;NSThread: 0x7fdb971db920&gt;{number = 80, name = (null)}\nHints:   None\nBacktrace:\n  0  0x0000000102e28b6a -[IDEAssertionHandler handleFailureInMethod:object:fileName:lineNumber:assertionSignature:messageFormat:arguments:] (in IDEKit)\n  1  0x0000000101b765df _DVTAssertionHandler (in DVTFoundation)\n  2  0x0000000101b768ce _DVTAssertionFailureHandler (in DVTFoundation)\n  3  0x00000001024f248e +[IDEIssueManager _issueProviderInfo] (in IDEFoundation)\n  4  0x00000001024f1b0d -[IDEIssueManager _updateIssueProviders] (in IDEFoundation)\n  5  0x0000000101b893de __73-[DVTObservingBlockToken observeValueForKeyPath:ofObject:change:context:]_block_invoke (in DVTFoundation)\n  6  0x0000000101afed5c DVTInvokeWithStrongOwnership (in DVTFoundation)\n  7  0x00000001019b03e4 -[DVTObservingBlockToken observeValueForKeyPath:ofObject:change:context:] (in DVTFoundation)\n  8  0x00007fff8a8af0f3 NSKeyValueNotifyObserver (in Foundation)\n  9  0x00007fff8a8bbd68 NSKeyValueDidChange (in Foundation)\n 10  0x00007fff8a87497d -[NSObject(NSKeyValueObserverNotification) didChangeValueForKey:] (in Foundation)\n 11  0x00007fff8befddaf doSetValuesInSourceWithKVO (in CoreFoundation)\n 12  0x00007fff8befdc46 _CFXPreferencesReplaceValuesInNamedVolatileSource (in CoreFoundation)\n 13  0x00007fff8aa4b027 -[NSUserDefaults(NSUserDefaults) setVolatileDomain:forName:] (in Foundation)\n 14  0x0000000119e34a13 -[NSUserDefaults(ITunesConnectFoundationExtensions) REPLACEMENT_setVolatileDomain:forName:] (in ITunesConnectFoundation)\n 15  0x0000000119e34f87 -[NSUserDefaults(ITunesConnectFoundationExtensions) synchronizeRegistrationDomains] (in ITunesConnectFoundation)\n 16  0x0000000119e34d5d -[NSUserDefaults(ITunesConnectFoundationExtensions) registerPriorityDefaults:] (in ITunesConnectFoundation)\n 17  0x0000000119e2669e -[MZJSONServiceClient processApplicationSettings:] (in ITunesConnectFoundation)\n 18  0x0000000119e26d7d -[MZJSONServiceClient connectionDidFinishLoading:] (in ITunesConnectFoundation)\n 19  0x00007fff8846d24d __65-[NSURLConnectionInternal _withConnectionAndDelegate:onlyActive:]_block_invoke (in CFNetwork)\n 20  0x00007fff8846d0b1 -[NSURLConnectionInternal _withConnectionAndDelegate:onlyActive:] (in CFNetwork)\n 21  0x00007fff8846cfb7 -[NSURLConnectionInternal _withActiveConnectionAndDelegate:] (in CFNetwork)\n 22  0x00007fff8846df74 ___ZN27URLConnectionClient_Classic26_delegate_didFinishLoadingEU13block_pointerFvvE_block_invoke (in CFNetwork)\n 23  0x00007fff88521703 ___ZN27URLConnectionClient_Classic18_withDelegateAsyncEPKcU13block_pointerFvP16_CFURLConnectionPK33CFURLConnectionClientCurrent_VMaxE_block_invoke_2 (in CFNetwork)\n 24  0x00007fff883c2cec RunloopBlockContext::_invoke_block(void const*, void*) (in CFNetwork)\n 25  0x00007fff8bf0e664 CFArrayApplyFunction (in CoreFoundation)\n 26  0x00007fff883c2bad RunloopBlockContext::perform() (in CFNetwork)\n 27  0x00007fff883c2998 MultiplexerSource::perform() (in CFNetwork)\n 28  0x00007fff883c27ba MultiplexerSource::_perform(void*) (in CFNetwork)\n 29  0x00007fff8bf42a01 __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE0_PERFORM_FUNCTION__ (in CoreFoundation)\n 30  0x00007fff8bf34b8d __CFRunLoopDoSources0 (in CoreFoundation)\n 31  0x00007fff8bf341bf __CFRunLoopRun (in CoreFoundation)\n 32  0x00007fff8bf33bd8 CFRunLoopRunSpecific (in CoreFoundation)\n 33  0x00007fff8a8fda59 -[NSRunLoop(NSRunLoop) runMode:beforeDate:] (in Foundation)\n 34  0x00007fff8a91bcce -[NSRunLoop(NSRunLoop) runUntilDate:] (in Foundation)\n 35  0x0000000119e25d00 -[MZJSONServiceClient getResultDictionary] (in ITunesConnectFoundation)\n 36  0x0000000119e28eb3 -[MZLabelServiceClient invokeSOAPCall] (in ITunesConnectFoundation)\n 37  0x0000000119e3097d -[MZWebServiceOperationWorker execute] (in ITunesConnectFoundation)\n 38  0x0000000119e30e11 -[MZWebServiceWorker run] (in ITunesConnectFoundation)\n 39  0x0000000119df854d -[MZWorkItem main] (in ITunesConnectFoundation)\n 40  0x00007fff8a8c6a6c -[__NSOperationInternal _start:] (in Foundation)\n 41  0x00007fff8a8c6543 __NSOQSchedule_f (in Foundation)\n 42  0x00007fff89468c13 _dispatch_client_callout (in libdispatch.dylib)\n 43  0x00007fff8946c365 _dispatch_queue_drain (in libdispatch.dylib)\n 44  0x00007fff8946decc _dispatch_queue_invoke (in libdispatch.dylib)\n 45  0x00007fff8946b6b7 _dispatch_root_queue_drain (in libdispatch.dylib)\n 46  0x00007fff89479fe4 _dispatch_worker_thread3 (in libdispatch.dylib)\n 47  0x00007fff86f91637 _pthread_wqthread (in libsystem_pthread.dylib)\n 48  0x00007fff86f8f40d start_wqthread (in libsystem_pthread.dylib)\n</code></pre>\n\n<p><strong>Note:</strong> I can validate the Archive without error. </p>\n\n<p>Will re-installing XCode help me to fix it?</p>\n", "title": "Xcode 6 crashes on submitting Archive", "tags": ["xcode", "xcode6"], "answer_count": 13, "link": "http://stackoverflow.com/questions/30898566/xcode-6-crashes-on-submitting-archive", "answers": [{"body": "<p>You might need to accept some new user agreements, try going to <a href=\"https://developer.apple.com/membercenter/\" rel=\"nofollow\">Apple Developer Member Center</a> and see if they're any new agreements you need to accept.</p>\n\n<p>If that doesn't work try this: open Xcode and go to [ Preferences ] -> [ Accounts ], select your Apple ID and click on [ View Details... ]. Once you do that click on the refresh icon at the bottom left. If you're missing anything it will let you know.</p>\n\n<p>If both of those don't work go back to the archive window in XCode and click on export on the right-hand side underneath the submit button. Save it where ever you want but remember the location. Once exported go back to XCode and go to [ Open Developer Tools ] -> [ Application Loader ]. You can submit your new version of your app through that.</p>\n\n<p>If none of those work then I have no idea, maybe someone else knows.</p>\n", "title": "Xcode 6 crashes on submitting Archive", "answer_id": 30899563, "question_id": 30898566, "tags": ["xcode", "xcode6"]}, {"body": "<p>Just got this problem. Seems to work if you close all other Xcode windows but keep the organizer window open.</p>\n", "title": "Xcode 6 crashes on submitting Archive", "answer_id": 30900770, "question_id": 30898566, "tags": ["xcode", "xcode6"]}, {"body": "<p>Had the same problem - uploaded my .ipa through the Application Loader.</p>\n", "title": "Xcode 6 crashes on submitting Archive", "answer_id": 30900814, "question_id": 30898566, "tags": ["xcode", "xcode6"]}, {"body": "<p>Close any projects or workspace windows you have open in Xcode but leave Organizer window open and re-submit worked for me.</p>\n", "title": "Xcode 6 crashes on submitting Archive", "answer_id": 30901172, "question_id": 30898566, "tags": ["xcode", "xcode6"]}, {"body": "<p>Had the same problem today. Problem turned out I still had the Reveal Framework included in my project. Make sure you don't have any non-public API usage in your archive. </p>\n", "title": "Xcode 6 crashes on submitting Archive", "answer_id": 30903313, "question_id": 30898566, "tags": ["xcode", "xcode6"]}, {"body": "<p>The original question is: \"Will re-installing XCode help me to fix it?\" \nThe answer is: \"No.\" Re-installation does not help the problem. The bug is pretty serious though, since submitting an app is central to app development. A fix should be in the App Store asap. Hence updating later may help. </p>\n", "title": "Xcode 6 crashes on submitting Archive", "answer_id": 30907272, "question_id": 30898566, "tags": ["xcode", "xcode6"]}, {"body": "<p>If that doesn't work, than it could also be that the used Certificate has expired. So check if your Certificate is still valid.</p>\n", "title": "Xcode 6 crashes on submitting Archive", "answer_id": 30912815, "question_id": 30898566, "tags": ["xcode", "xcode6"]}, {"body": "<p>I created an .ipa file using the Export utility in Organizer, then ran Application Loader. Selected the 'Deliver Your App' button. Choose the new created ipa file and the file appeared in iTuneConnect under the pre-release tab as expected for TestFlight distribution.</p>\n", "title": "Xcode 6 crashes on submitting Archive", "answer_id": 30917074, "question_id": 30898566, "tags": ["xcode", "xcode6"]}, {"body": "<p>Following steps worked for me:</p>\n\n<ol>\n<li>Archive the project.</li>\n<li>Open Organizer</li>\n<li>Press the top-left cross button of XCode which will close all projects without quiting XCode and Organiser will be opened</li>\n<li>Now resubmit the archive from organiser.</li>\n</ol>\n", "title": "Xcode 6 crashes on submitting Archive", "answer_id": 30921442, "question_id": 30898566, "tags": ["xcode", "xcode6"]}, {"body": "<p>Had this problem today. I was only able to successfully upload the Archive when the organizer window was open and all Xcode projects were closed.</p>\n", "title": "Xcode 6 crashes on submitting Archive", "answer_id": 30945004, "question_id": 30898566, "tags": ["xcode", "xcode6"]}, {"body": "<p>I had the same issue at June 17 night. I reinstalled my Xcode, and had the same issue. Looks like Apple updated something at that day, since I noticed the website of Member Center, the MAC certificate is also there. (YES!!! apple only charge once for iPhone and Mac)</p>\n", "title": "Xcode 6 crashes on submitting Archive", "answer_id": 30967271, "question_id": 30898566, "tags": ["xcode", "xcode6"]}, {"body": "<p>I encountered similar situation. However, my solution was somehow different.</p>\n\n<p>Noticing that you are trying to submit next build, please make sure your previous build is excluded from App Store submit form before uploading new build.</p>\n\n<p>I'm not sure why this has to be an issue, but it seems like that the submit form should be cleared before receiving new build.</p>\n", "title": "Xcode 6 crashes on submitting Archive", "answer_id": 31015892, "question_id": 30898566, "tags": ["xcode", "xcode6"]}, {"body": "<p>Archive using Xcode 6.4, submit using Xcode 7. Submission successful</p>\n", "title": "Xcode 6 crashes on submitting Archive", "answer_id": 31721544, "question_id": 30898566, "tags": ["xcode", "xcode6"]}], "question_id": 30898566}, {"body": "<p>How do I create a shape like this to display on a webpage?  </p>\n\n<p>I don't want to use <strong>images</strong> since they would get blurry on scaling  </p>\n\n<p><img src=\"http://i.stack.imgur.com/3dFQ5.png\" alt=\"Teardrop shape I need to make with HTML, CSS or SVG\"></p>\n\n<p>I tried with <em>CSS</em>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.tear {\r\n  display: inline-block;\r\n  transform: rotate(-30deg);\r\n  border: 5px solid green;\r\n  width: 50px;\r\n  height: 100px;\r\n  border-top-left-radius: 50%;\r\n  border-bottom-left-radius: 50%;\r\n  border-bottom-right-radius: 50%;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"tear\"&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>That turned out really screwed.</p>\n\n<p>And then I tried with SVG:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;svg viewBox=\"0 100 100\"&gt;\r\n  &lt;polygon points=\"50,0 100,70 50,100 0,70\"/&gt;\r\n&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>It did get the shape, but the bottom part wasn't curved.</p>\n\n<p>Is there a way to create this shape so it can be used in an HTML page?</p>\n", "title": "How do I create a teardrop in HTML?", "tags": ["html", "css", "css3", "svg", "css-shapes"], "answer_count": 11, "link": "http://stackoverflow.com/questions/30711203/how-do-i-create-a-teardrop-in-html", "answers": [{"body": "<h2>Basic Border-Radius</h2>\n\n<p>You can do this within CSS relatively easily using border-radius' and transforms. Your CSS was just a little bit out.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.tear {\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 0 50% 50% 50%;\r\n  border: 3px solid black;\r\n  transform: rotate(45deg);\r\n  margin-top: 20px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"tear\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<h2>Advanced Border-Radius</h2>\n\n<p>This will be very similar to above but gives it a bit more shape.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.tear {\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 80% 0 55% 50% / 55% 0 80% 50%;\r\n  border: 3px solid black;\r\n  transform: rotate(-45deg);\r\n  margin-top: 20px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"tear\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How do I create a teardrop in HTML?", "answer_id": 30711303, "question_id": 30711203, "tags": ["html", "css", "css3", "svg", "css-shapes"]}, {"body": "<p>Your main issue with your CSS code was: </p>\n\n<ol>\n<li>You used a different height than width</li>\n<li>You haven't rotated the correct angle size</li>\n</ol>\n\n<p>So, by 'fixing' these issues, you would generate:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.tear {\r\n  display: inline-block;\r\n  transform: rotate(-45deg);\r\n  border: 5px solid green;\r\n  width: 100px;\r\n  height: 100px;\r\n  border-top-left-radius: 50%;\r\n  border-bottom-left-radius: 50%;\r\n  border-bottom-right-radius: 50%;\r\n}\r\n/***for demo only***/\r\n\r\n.tear {\r\n  margin: 50px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"tear\"&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><em>Please also note to save on CSS length, you could re-write your border-radius properties to:</em></p>\n\n<pre><code>border-radius: 50% 0 50% 50%;\n</code></pre>\n\n<hr>\n\n<p>this could be enhanced with pseudo elements <a href=\"http://jsfiddle.net/jbutler483/h96rnho2/1/\"><strong>as shown in this fiddle</strong></a></p>\n\n<h1>Alternatives</h1>\n\n<p>I found <a href=\"http://codepen.io/VinayChalluru/pen/LKphA\">this</a> by <strong>Vinay Challuru</strong> on codepen.</p>\n\n<p>Please note that with the logic here, I was able to create the <strong>SVG</strong> to nearly any possible build shape/etc. For example, a quick output was:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;svg viewBox='0 0 400 400'&gt;\r\n  &lt;path fill=\"none\" stroke=\"#333\" stroke-width=\"5\" d=\"M200,40 C200,115 280,180 280,240 A80,80,0 0,1,120,240 C120,180 200,115 200,40\" stroke-linejoin='miter'&gt;&lt;/path&gt;\r\n&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>It's using an SVG and allows you to alter the shape in multiple ways, having the ability to alter its shape to the desired result:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var SVG = function() {\r\n  this.element = document.getElementsByTagName(\"svg\")[0];\r\n  this.namespace = \"http://www.w3.org/2000/svg\";\r\n  this.width = 400;\r\n  this.height = 400;\r\n}\r\n\r\n/****Let's initialise our SVG ready to draw our shape****/\r\nvar svg = new SVG();\r\n\r\n/****This sets up the user interface - we've included the script for this as an external library for the codepen****/\r\nvar gui = new dat.GUI();\r\n\r\n/****Here's where the code to create the shape begins!****/\r\nvar Teardrop = function() {\r\n  this.x = svg.width * 0.5;\r\n  this.y = svg.height * 0.1;\r\n  this.width = svg.width * 0.4;\r\n  this.triangleHeight = svg.height * 0.5;\r\n  this.yCP1 = svg.height * 0.2;\r\n  this.yCP2 = svg.height * 0.45;\r\n  this.element = null;\r\n  this.ctrlPoints = [];\r\n  this.anchors = [];\r\n  this.fill = \"none\";\r\n  this.stroke = \"#333\";\r\n  this.strokeWidth = 2;\r\n  this.showCtrlPoints = true;\r\n  this.init();\r\n}\r\n\r\nTeardrop.prototype.init = function() {\r\n  this.element = document.createElementNS(svg.namespace, \"path\");\r\n  svg.element.appendChild(this.element);\r\n  this.element.setAttribute(\"fill\", this.fill);\r\n  this.element.setAttribute(\"stroke\", this.stroke);\r\n  this.element.setAttribute(\"stroke-width\", this.strokeWidth);\r\n\r\n  for (var i = 0; i &lt; 3; i++) {\r\n    this.ctrlPoints.push(document.createElementNS(svg.namespace, \"circle\"));\r\n    svg.element.appendChild(this.ctrlPoints[i]);\r\n\r\n    this.ctrlPoints[i].setAttribute(\"fill\", this.fill);\r\n    this.ctrlPoints[i].setAttribute(\"stroke\", 'red');\r\n    this.ctrlPoints[i].setAttribute(\"stroke-width\", 1);\r\n\r\n\r\n    this.anchors.push(document.createElementNS(svg.namespace, \"line\"));\r\n    svg.element.appendChild(this.anchors[i]);\r\n\r\n    this.anchors[i].setAttribute(\"stroke-width\", 1);\r\n    this.anchors[i].setAttribute(\"stroke\", this.stroke);\r\n    this.anchors[i].setAttribute(\"stroke-dasharray\", \"3,2\");\r\n  }\r\n\r\n  this.draw();\r\n}\r\n\r\nTeardrop.prototype.draw = function() {\r\n  this.radius = this.width / 2;\r\n  path = [\r\n    \"M\", this.x, \",\", this.y,\r\n    \"C\", this.x, \",\", this.yCP1, \" \", this.x + this.width / 2, \",\", this.yCP2, \" \", this.x + this.width / 2, \",\", this.y + this.triangleHeight,\r\n    \"A\", this.radius, \",\", this.radius, \",\", \"0 0,1,\", this.x - this.width / 2, \",\", this.y + this.triangleHeight,\r\n    \"C\", this.x - this.width / 2, \",\", this.yCP2, \" \", this.x, \",\", this.yCP1, \" \", this.x, \",\", this.y\r\n  ];\r\n  this.element.setAttribute(\"d\", path.join(\"\"));\r\n\r\n  cpCoords = [];\r\n  cpCoords[0] = [this.x, this.yCP1];\r\n  cpCoords[1] = [this.x - this.width / 2, this.yCP2];\r\n  cpCoords[2] = [this.x + this.width / 2, this.yCP2];\r\n\r\n  anchorCoords = [];\r\n  anchorCoords[0] = [this.x, this.y];\r\n  anchorCoords[1] = [this.x - this.width / 2, this.y + this.triangleHeight];\r\n  anchorCoords[2] = [this.x + this.width / 2, this.y + this.triangleHeight];\r\n\r\n  for (var i = 0; i &lt; 3; i++) {\r\n    this.ctrlPoints[i].setAttribute(\"cx\", cpCoords[i][0]);\r\n    this.ctrlPoints[i].setAttribute(\"cy\", cpCoords[i][1]);\r\n\r\n    this.anchors[i].setAttribute(\"x1\", cpCoords[i][0]);\r\n    this.anchors[i].setAttribute(\"x2\", anchorCoords[i][0]);\r\n    this.anchors[i].setAttribute(\"y1\", cpCoords[i][1]);\r\n    this.anchors[i].setAttribute(\"y2\", anchorCoords[i][1]);\r\n\r\n    if (this.showCtrlPoints) {\r\n      this.ctrlPoints[i].setAttribute(\"r\", 2);\r\n      this.anchors[i].setAttribute(\"stroke-width\", 1);\r\n    } else {\r\n      this.ctrlPoints[i].setAttribute(\"r\", 0);\r\n      this.anchors[i].setAttribute(\"stroke-width\", 0);\r\n    }\r\n  }\r\n}\r\n\r\nvar teardrop = new Teardrop();\r\n\r\ngui.add(teardrop, 'triangleHeight', 0, svg.height * 0.75);\r\ngui.add(teardrop, 'width', 0, 200);\r\ngui.add(teardrop, 'yCP1', 0, svg.height);\r\ngui.add(teardrop, 'yCP2', 0, svg.height);\r\ngui.add(teardrop, 'showCtrlPoints', 0, svg.height);\r\n\r\nfor (var i in gui.__controllers) {\r\n  gui.__controllers[i].onChange(function() {\r\n    teardrop.draw();\r\n  });\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>html,\r\nbody {\r\n  height: 100%;\r\n}\r\nsvg {\r\n  display: block;\r\n  margin: 0 auto;\r\n  background: url('http://unitedshapes.com/images/graph-paper/graph-paper.png');\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"//cdnjs.cloudflare.com/ajax/libs/dat-gui/0.5/dat.gui.min.js\"&gt;&lt;/script&gt;\r\n&lt;svg width='400px' height='400px'&gt;&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<blockquote>\n  <p><strong>Disclaimer</strong> I did not write the above pen, only sourced it.</p>\n</blockquote>\n\n<hr>\n\n<h1>CSS Version</h1>\n\n<p>Although this is far from complete, you may also be able to generate this shape using CSS.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.tear{\r\n    height:200px;\r\n    width:200px;\r\n    background: linear-gradient(to bottom, rgba(0,0,0,0) 0%,rgba(0,0,0,0) 29%,rgba(0,0,0,1) 30%,rgba(0,0,0,1) 100%);\r\n    border-radius:50%;\r\n    margin:120px;\r\n    position:relative;\r\n}\r\n.tear:before{\r\n    content:\"\";\r\n    position:absolute;\r\n    top:-70%;left:0%;\r\n    height:100%;width:50%;\r\n    background: radial-gradient(ellipse at -50% -50%, rgba(0,0,0,0) 0%,rgba(0,0,0,0) 75%,rgba(0,0,0,1) 76%,rgba(0,0,0,1) 100%);\r\n}\r\n.tear:after{\r\n    content:\"\";\r\n    position:absolute;\r\n    top:-70%;left:50%;\r\n    height:100%;width:50%;\r\n    background: radial-gradient(ellipse at 150% -50%, rgba(0,0,0,0) 0%,rgba(0,0,0,0) 75%,rgba(0,0,0,1) 76%,rgba(0,0,0,1) 100%);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"tear\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<h1>SVG Version</h1>\n\n<p>I should know that SVG should be at the top of this answer, however, I like a challenge and so here is an attempt with SVG.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>svg {\r\n  height: 300px;\r\n}\r\nsvg path {\r\n  fill: tomato;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" viewBox=\"0 0 100 100\"&gt;\r\n\r\n  &lt;path d=\"M49.015,0.803\r\n    c-0.133-1.071-1.896-1.071-2.029,0\r\n    C42.57,36.344,20,43.666,20,68.367   \r\n    C20,83.627,32.816,96,48,96\r\n    s28-12.373,28-27.633\r\n    C76,43.666,53.43,36.344,49.015,0.803z \r\n    M44.751,40.09   \r\n    c-0.297,1.095-0.615,2.223-0.942,3.386\r\n    c-2.007,7.123-4.281,15.195-4.281,24.537\r\n    c0,5.055-2.988,6.854-5.784,6.854   \r\n    c-3.189,0-5.782-2.616-5.782-5.831\r\n    c0-11.034,5.315-18.243,10.005-24.604\r\n    c1.469-1.991,2.855-3.873,3.983-5.749   \r\n    c0.516-0.856,1.903-0.82,2.533,0.029\r\n    C44.781,39.116,44.879,39.619,44.751,40.09z\"/&gt;\r\n\r\n\r\n&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Altering the <code>path</code> values, you would be able to alter the shape of your teardrop design. </p>\n", "title": "How do I create a teardrop in HTML?", "answer_id": 30711437, "question_id": 30711203, "tags": ["html", "css", "css3", "svg", "css-shapes"]}, {"body": "<p>I'd personally use an SVG for this. You can create SVGs in most vector graphics software. I'd recommend:</p>\n\n<ul>\n<li><a href=\"https://inkscape.org/\">Inkscape</a></li>\n<li><a href=\"http://bohemiancoding.com/sketch/\">Sketch</a></li>\n<li>Adobe Illustrator</li>\n</ul>\n\n<p>I have made one below that is a tracing of your shape in Illustrator.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"223.14px\" height=\"319.008px\" viewBox=\"0 0 223.14 319.008\" enable-background=\"new 0 0 223.14 319.008\" xml:space=\"preserve\"&gt;\r\n  &lt;path fill=\"none\" stroke=\"#000000\" stroke-width=\"12\" stroke-miterlimit=\"10\" d=\"M111.57,13.291c0,0,57.179,86.984,72.719,108.819\r\n    \tc30.359,42.66,41.005,114.694,1.626,154.074c-20.464,20.463-47.533,30.293-74.344,29.488h-0.002\r\n    \tc-26.811,0.805-53.88-9.025-74.344-29.488C-2.154,236.804,8.492,164.77,38.851,122.11C54.391,100.275,111.57,13.291,111.57,13.291z\" /&gt;\r\n&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How do I create a teardrop in HTML?", "answer_id": 30711446, "question_id": 30711203, "tags": ["html", "css", "css3", "svg", "css-shapes"]}, {"body": "<p>It is quite easy to do this with SVG by just using an image conversion resource such as <a href=\"http://image.online-convert.com/convert-to-svg\">http://image.online-convert.com/convert-to-svg</a>, which was used to create the following:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" standalone=\"no\"?&gt;\r\n&lt;!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 20010904//EN\"\r\n \"http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd\"&gt;\r\n&lt;svg version=\"1.0\" xmlns=\"http://www.w3.org/2000/svg\"\r\n width=\"213.000000pt\" height=\"300.000000pt\" viewBox=\"0 0 213.000000 300.000000\"\r\n preserveAspectRatio=\"xMidYMid meet\"&gt;\r\n&lt;metadata&gt;\r\nCreated by potrace 1.12, written by Peter Selinger 2001-2015\r\n&lt;/metadata&gt;\r\n&lt;g transform=\"translate(0.000000,300.000000) scale(0.100000,-0.100000)\"\r\nfill=\"#000000\" stroke=\"none\"&gt;\r\n&lt;path d=\"M1035 2944 c-143 -250 -231 -380 -508 -752 -347 -465 -432 -616 -493\r\n-882 -91 -394 10 -753 285 -1013 508 -479 1334 -361 1677 240 126 221 165 494\r\n105 726 -66 254 -178 452 -609 1076 -96 140 -226 335 -288 435 -155 249 -135\r\n229 -169 170z m85 -212 c40 -69 192 -298 543 -818 268 -396 354 -593 364 -835\r\n12 -281 -82 -509 -296 -714 -103 -99 -236 -173 -396 -221 -82 -25 -105 -27\r\n-260 -28 -148 -1 -181 2 -255 22 -348 96 -611 357 -691 689 -41 167 -25 392\r\n41 587 62 185 154 334 444 716 177 235 320 444 402 592 27 49 51 88 54 88 3 0\r\n25 -35 50 -78z\"/&gt;\r\n&lt;/g&gt;\r\n&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How do I create a teardrop in HTML?", "answer_id": 30711460, "question_id": 30711203, "tags": ["html", "css", "css3", "svg", "css-shapes"]}, {"body": "<p>I also found <a href=\"http://codepen.io/thebabydino/pen/wshza\">this</a> on <a href=\"http://codepen.io/\">Codepen</a> made by user <a href=\"http://codepen.io/thebabydino/\">Ana Tudor</a> using CSS and the <code>box-shadow</code> style and parametric equations. Very simple, very little code. And many <a href=\"http://caniuse.com/#feat=css-boxshadow\">browsers</a> support the CSS3 Box-shadow style:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n  background-color: black;\r\n}\r\n.tear {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  margin: -0.125em;\r\n  width: 0.25em;\r\n  height: 0.25em;\r\n  border-radius: 50%;\r\n  box-shadow: 0em -5em red, 0.00118em -4.97592em #ff1800, 0.00937em -4.90393em #ff3000, 0.03125em -4.7847em #ff4800, 0.07283em -4.6194em #ff6000, 0.13915em -4.40961em #ff7800, 0.23408em -4.15735em #ff8f00, 0.36em -3.86505em #ffa700, 0.51777em -3.53553em #ffbf00, 0.70654em -3.17197em gold, 0.92382em -2.77785em #ffef00, 1.16547em -2.35698em #f7ff00, 1.42582em -1.91342em #dfff00, 1.69789em -1.45142em #c7ff00, 1.97361em -0.97545em #afff00, 2.2441em -0.49009em #97ff00, 2.5em 0.0em #80ff00, 2.73182em 0.49009em #68ff00, 2.93032em 0.97545em #50ff00, 3.08681em 1.45142em #38ff00, 3.19358em 1.91342em #20ff00, 3.24414em 2.35698em #08ff00, 3.23352em 2.77785em #00ff10, 3.15851em 3.17197em #00ff28, 3.01777em 3.53553em #00ff40, 2.81196em 3.86505em #00ff58, 2.54377em 4.15735em #00ff70, 2.21783em 4.40961em #00ff87, 1.84059em 4.6194em #00ff9f, 1.42017em 4.7847em #00ffb7, 0.96608em 4.90393em #00ffcf, 0.48891em 4.97592em #00ffe7, 0.0em 5em cyan, -0.48891em 4.97592em #00e7ff, -0.96608em 4.90393em #00cfff, -1.42017em 4.7847em #00b7ff, -1.84059em 4.6194em #009fff, -2.21783em 4.40961em #0087ff, -2.54377em 4.15735em #0070ff, -2.81196em 3.86505em #0058ff, -3.01777em 3.53553em #0040ff, -3.15851em 3.17197em #0028ff, -3.23352em 2.77785em #0010ff, -3.24414em 2.35698em #0800ff, -3.19358em 1.91342em #2000ff, -3.08681em 1.45142em #3800ff, -2.93032em 0.97545em #5000ff, -2.73182em 0.49009em #6800ff, -2.5em 0.0em #7f00ff, -2.2441em -0.49009em #9700ff, -1.97361em -0.97545em #af00ff, -1.69789em -1.45142em #c700ff, -1.42582em -1.91342em #df00ff, -1.16547em -2.35698em #f700ff, -0.92382em -2.77785em #ff00ef, -0.70654em -3.17197em #ff00d7, -0.51777em -3.53553em #ff00bf, -0.36em -3.86505em #ff00a7, -0.23408em -4.15735em #ff008f, -0.13915em -4.40961em #ff0078, -0.07283em -4.6194em #ff0060, -0.03125em -4.7847em #ff0048, -0.00937em -4.90393em #ff0030, -0.00118em -4.97592em #ff0018;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"tear\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How do I create a teardrop in HTML?", "answer_id": 30711533, "question_id": 30711203, "tags": ["html", "css", "css3", "svg", "css-shapes"]}, {"body": "<p>If you do choose to use SVG you should read up on paths. I would also suggest an SVG editor.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:svg=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"100%\" height=\"100%\" viewBox=\"-0.05 0 1195.1 703\" preserveAspectRatio=\"xMidYMid meet\" zoomAndPan=\"disable\" transform=\"\"&gt;\r\n    &lt;defs id=\"svgEditorDefs\"&gt;\r\n        &lt;line id=\"svgEditorLineDefs\" stroke=\"black\" style=\"fill: none; vector-effect: non-scaling-stroke; stroke-width: 1px;\"/&gt;\r\n    &lt;/defs&gt;\r\n    &lt;rect id=\"svgEditorBackground\" x=\"0\" y=\"0\" width=\"1195\" height=\"703\" style=\"fill: none; stroke: none;\"/&gt;\r\n    &lt;path stroke=\"black\" id=\"e1_circleArc\" style=\"fill: none; stroke-width: 1px; vector-effect: non-scaling-stroke;\" d=\"M 198 207 a 117.969 117.969 0 1 0 213 8\" transform=\"\"/&gt;\r\n    &lt;path stroke=\"black\" id=\"e4_circleArc\" style=\"fill: none; stroke-width: 1px; vector-effect: non-scaling-stroke;\" transform=\"\" d=\"M 411.348 215.696 a 349.677 349.677 0 0 0 -110.37 -131.718\"/&gt;\r\n    &lt;path stroke=\"black\" style=\"fill: none; stroke-width: 1px; vector-effect: non-scaling-stroke;\" transform=\"matrix(-0.182706 -0.983168 0.983168 -0.182706 157.664 417.408)\" id=\"e6_circleArc\" d=\"M 301.799 202.299 a 329.763 329.763 0 0 0 -102.951 -124.781\"/&gt;\r\n&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How do I create a teardrop in HTML?", "answer_id": 30711726, "question_id": 30711203, "tags": ["html", "css", "css3", "svg", "css-shapes"]}, {"body": "<h2>SVG approach:</h2>\n\n<p>You can achieve the double curve easily with an <strong>inline SVG</strong> and the <code>&lt;path/&gt;</code> element instead of the <code>&lt;polygon/&gt;</code> element which doesn't allow curved shapes.</p>\n\n<p>The following example uses the <code>&lt;path/&gt;</code> element with:</p>\n\n<ul>\n<li>2 <a href=\"https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Paths#Bezier_Curves\">quadratic bezier curve commands</a> for the 2 top curves (lines beginning with <code>Q</code>)</li>\n<li>1 <a href=\"https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Paths#Arcs\">arc command</a> for the big bottom one (line beginning with <code>A</code>)</li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;svg width=\"30%\" viewbox=\"0 0 30 42\"&gt;\r\n  &lt;path fill=\"transparent\" stroke=\"#000\" stroke-width=\"1.5\"\r\n        d=\"M15 3\r\n           Q16.5 6.8 25 18\r\n           A12.8 12.8 0 1 1 5 18\r\n           Q13.5 6.8 15 3z\" /&gt;\r\n&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>SVG is a great tool to make this kind of shapes with double curves. You can check this <a href=\"http://stackoverflow.com/questions/28986125/double-curved-shape\">post about double curves</a> with an SVG/CSS comparison. Some of the advantages of using SVG in this case are:</p>\n\n<ul>\n<li>Curve control</li>\n<li>Fill control (opacity, color)</li>\n<li>Stroke control (width, opacity, color)</li>\n<li>Amount of code</li>\n<li>Time to build and maintain the shape</li>\n<li>Scalable</li>\n<li>No HTTP request (if used inline like in the example)</li>\n</ul>\n\n<hr>\n\n<p><strong>Browser support</strong> for inline SVG goes back to Internet Explorer 9. See <a href=\"http://caniuse.com/#feat=svg-html5\">canIuse</a> for more information.</p>\n", "title": "How do I create a teardrop in HTML?", "answer_id": 30712432, "question_id": 30711203, "tags": ["html", "css", "css3", "svg", "css-shapes"]}, {"body": "<p>Or if your viewers' font supports it, use the Unicode characters</p>\n\n<h1>DROPLET: \ud83d\udca7 (<code>&amp;#128167;</code>)</h1>\n\n<p>or</p>\n\n<h1>BLACK DROPLET: \ud83c\udf22 (<code>&amp;#127778;</code>)</h1>\n\n<p>Scale accordingly!</p>\n", "title": "How do I create a teardrop in HTML?", "answer_id": 30716604, "question_id": 30711203, "tags": ["html", "css", "css3", "svg", "css-shapes"]}, {"body": "<p>IMO this shape requires <strong>smooth curve-to</strong> beziers to ensure continuity of the curve.</p>\n\n<h2>The Drop in question :</h2>\n\n<p>For the drop in question, </p>\n\n<ul>\n<li>smooth curves can't be used, as control points wont be of same length. But we still need to make the control points lie exactly opposite (180 deg) to the previous control points, <strong>to ensure full continuity of curve</strong> The picture given below illustrates this point :</li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/37Xqa.png\" alt=\"enter image description here\"><br>\n<strong>Note</strong>: Red and blue curves are two different quadratic curves.</p>\n\n<ul>\n<li><p><code>stroke-linejoin=\"miter\"</code>, for the pointed top part.</p></li>\n<li><p>AS this shape only uses successive <strong><code>c</code></strong> commands, we can omit it.</p></li>\n</ul>\n\n<p><strong>Here's the final snippet:</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;svg height=\"300px\" width=\"300px\" viewBox=\"0 0 12 16\"&gt;\r\n  &lt;path fill=\"#FFF\" stroke=\"black\" stroke-width=\"0.5\" stroke-linejoin=\"miter\" \r\n        d=\"M 6 1 c -2 3 -5 5 -5 9\r\n           0 7 10 7 10 0 \r\n           0 -4 -3 -6 -5 -9z\" /&gt;\r\n&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>TBH though</strong>, accepted answer's curves are not quite continuous.</p>\n\n<hr />\n\n<h2>For IE 5-8 (VML)</h2>\n\n<p>Only works in IE 5-8. <strong>VML</strong> uses different commands than <strong>SVG</strong>. Eg. it uses <strong>v for relative cubic beziers</strong>.</p>\n\n<p><strong>Note:</strong> This snippet won't run in IE 5-8 too. You need to create an html file and run it directly in the browser.</p>\n\n<pre><code>&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\"&gt;\n&lt;html xmlns:v=\"urn:schemas-microsoft-com:vml\"&gt;\n&lt;head&gt;\n    &lt;style&gt; v\\:* { behavior: url(#default#VML); }\n\n    &lt;/style &gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div style=\"width:240; height:320;\"&gt;\n        &lt;v:shape coordorigin=\"0 0\" coordsize=\"12 16\" fillcolor=\"white\" strokecolor=\"black\" strokewidth=\"1\"\n            strokeweight=\"5\" style=\"width:240; height:320\" \n            path=\"M 6 1 v -2 3 -5 5 -5 9\n           0 7 10 7 10 0 \n           0 -4 -3 -6 -5 -9 x e\"&gt;\n        &lt;/v:shape&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n", "title": "How do I create a teardrop in HTML?", "answer_id": 30723637, "question_id": 30711203, "tags": ["html", "css", "css3", "svg", "css-shapes"]}, {"body": "<h2>HTML Canvas</h2>\n\n<p>This is an option uncovered in this thread so far. The commands used for Canvas drawings are very similar to SVG (and web-tiki deserves the credits for the base idea used in this answer). </p>\n\n<p>The shape in question can be created either using canvas' own curve commands (Quadratic or Bezier) or the Path API. The answer contains examples for all three methods.</p>\n\n<p>The browser support for Canvas is <a href=\"http://caniuse.com/#search=canvas\" rel=\"nofollow\">quite good</a>.</p>\n\n<hr>\n\n<h3>Using Quadratic Curves</h3>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>window.onload = function() {\r\n  var canvas = document.getElementById('canvas');\r\n  if (canvas.getContext) {\r\n    var ctx = canvas.getContext('2d');\r\n\r\n    ctx.beginPath();\r\n    ctx.lineJoin = 'miter';\r\n    ctx.moveTo(120, 20);\r\n    ctx.quadraticCurveTo(117.5, 30, 148, 68);\r\n    ctx.arc(120, 88, 34.5, 5.75, 3.66, false);\r\n    ctx.quadraticCurveTo(117.5, 35, 120, 20);\r\n    ctx.closePath();\r\n    ctx.strokeStyle = '#000';\r\n    ctx.lineWidth = 2;\r\n    ctx.fillStyle = '#77CCEE'\r\n    ctx.stroke();\r\n    ctx.fill();\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>canvas {\r\n  margin: 50px;\r\n  height: 100px;\r\n  width: 200px;\r\n  transform: scale(1.5);\r\n}\r\n\r\nbody{\r\n  background-image: radial-gradient(circle, #3F9CBA 0%, #153346 100%);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id='canvas'&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Below is an <strong>advanced version</strong> with gradient fill and shadows. I have also included a <code>hover</code> effect on the shape to illustrate one drawback of Canvas when compared to SVG. Canvas is raster (pixel) based and hence would look blurred/pixelated when scaled beyond a certain point. The only solution to that would be to repaint the shape on every browser resize which is an overhead.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>window.onload = function() {\r\n  var canvas = document.getElementById('canvas');\r\n  if (canvas.getContext) {\r\n    var ctx = canvas.getContext('2d');\r\n    var lineargradient = ctx.createRadialGradient(135, 95, 1, 135, 95, 10);\r\n    lineargradient.addColorStop(0, 'white');\r\n    lineargradient.addColorStop(1, '#77CCEE');      \r\n    ctx.beginPath();\r\n    ctx.lineJoin = 'miter';\r\n    ctx.moveTo(120, 20);\r\n    ctx.quadraticCurveTo(117.5, 30, 148, 68);\r\n    ctx.arc(120, 88, 34.5, 5.75, 3.66, false);\r\n    ctx.quadraticCurveTo(117.5, 35, 120, 20);\r\n    ctx.closePath();\r\n    ctx.strokeStyle = '#333';\r\n    ctx.lineWidth = 3;\r\n    ctx.fillStyle = lineargradient;\r\n    ctx.shadowOffsetX = 2;\r\n    ctx.shadowOffsetY = 2;\r\n    ctx.shadowBlur = 2;\r\n    ctx.shadowColor = \"rgba(50, 50, 50, 0.5)\";      \r\n    ctx.stroke();\r\n    ctx.fill();\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>canvas {\r\n  margin: 50px;\r\n  height: 100px;\r\n  width: 200px;\r\n  transform: scale(1.5);\r\n}\r\n\r\n\r\n/* Just for demo */\r\n\r\nbody{\r\n  background-image: radial-gradient(circle, #3F9CBA 0%, #153346 100%);\r\n}\r\n\r\ncanvas{\r\n  transition: all 1s;\r\n}\r\n\r\ncanvas:hover{\r\n  transform: scale(2);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id='canvas'&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<hr>\n\n<h3>Using Bezier Curves</h3>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>window.onload = function() {\r\n  var canvas = document.getElementById('canvas');\r\n  if (canvas.getContext) {\r\n    var ctx = canvas.getContext('2d');\r\n    var lineargradient = ctx.createRadialGradient(135, 95, 1, 135, 95, 10);\r\n    lineargradient.addColorStop(0, 'white');\r\n    lineargradient.addColorStop(1, '#77CCEE');\r\n    ctx.beginPath();\r\n    ctx.lineJoin = 'miter';\r\n    ctx.arc(120, 88, 35, 5.74, 3.66, false);\r\n    ctx.bezierCurveTo(100, 55, 122, 27.5, 120, 20);\r\n    ctx.bezierCurveTo(122, 27.5, 121, 31.5, 150, 70);\r\n    ctx.closePath();\r\n    ctx.strokeStyle = 'rgba(109,195,250,0.2)';\r\n    ctx.lineWidth = 1;\r\n    ctx.fillStyle = lineargradient;\r\n    ctx.shadowOffsetX = 2;\r\n    ctx.shadowOffsetY = 2;\r\n    ctx.shadowBlur = 2;\r\n    ctx.shadowColor = \"rgba(50, 50, 50, 0.5)\";\r\n    ctx.stroke();\r\n    ctx.fill();\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>canvas {\r\n  margin: 75px;\r\n  height: 300px;\r\n  width: 300px;\r\n  transform: scale(1.5);\r\n}\r\nbody {\r\n  background-image: radial-gradient(circle, #3F9CBA 0%, #153346 100%);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id='canvas' height='300' width='300'&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<h3>Using Path API</h3>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>window.onload = function() {\r\n  var canvas = document.getElementById('canvas');\r\n  if (canvas.getContext) {\r\n    var ctx = canvas.getContext('2d');\r\n\r\n    ctx.lineJoin = 'miter';\r\n    var p = new Path2D(\"M120 20 Q117.5 30 146 68 A34 34 0 1 1 92 68 Q117.5 35 120 20z\");\r\n    ctx.strokeStyle = '#000';\r\n    ctx.lineWidth = 2;\r\n    ctx.fillStyle = '#77CCEE'\r\n    ctx.stroke(p);\r\n    ctx.fill(p);\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>canvas {\r\n  margin: 50px;\r\n  height: 100px;\r\n  width: 200px;\r\n  transform: scale(1.5);\r\n}\r\n\r\nbody {\r\n  background-image: radial-gradient(circle, #3F9CBA 0%, #153346 100%);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id='canvas'&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><sup><strong>Note:</strong> As mentioned in my answere <a href=\"http://stackoverflow.com/questions/9458239/draw-path-in-canvas-with-svg-path-data-svg-paths-to-canvas-paths/30830108#30830108\">here</a>, the Path API is not yet supported by IE and Safari.</sup></p>\n\n<hr>\n\n<p><strong>Further reading:</strong></p>\n\n<ul>\n<li><a href=\"http://www.sitepoint.com/7-reasons-to-consider-svgs-instead-of-canvas/\" rel=\"nofollow\">7 Reasons to Consider SVGs Instead of Canvas</a></li>\n<li><a href=\"http://www.htmlgoodies.com/html5/other/html5-canvas-vs.-svg-choose-the-best-tool-for-the-job.html\" rel=\"nofollow\">HTML5 Canvas vs. SVG: Choose the Best Tool for the Job</a></li>\n<li><a href=\"http://stackoverflow.com/questions/4996374/what-is-the-difference-between-svg-and-html5-canvas\">What is the difference between SVG and HTML5 Canvas?</a></li>\n</ul>\n", "title": "How do I create a teardrop in HTML?", "answer_id": 30749323, "question_id": 30711203, "tags": ["html", "css", "css3", "svg", "css-shapes"]}, {"body": "<h2>CSS Version</h2>\n\n<p>As there are a fair few answers here I thought why not add to it with another method. This is using both <strong>HTML</strong> and <strong>CSS</strong> to create the teardrop.</p>\n\n<p>This will allow you to change the colour of the border and background of the teardrop and also re-size the top part of it.</p>\n\n<p>Using a single <code>div</code> we can create a circle with <code>border</code> and <code>border-radius</code>. Then using pseudo elements (<code>:before</code> &amp; <code>:after</code>) we create a <a href=\"http://codepen.io/chriscoyier/pen/lotjh\" rel=\"nofollow\">CSS triangle</a> <sup><a href=\"https://css-tricks.com/snippets/css/css-triangle/\" rel=\"nofollow\">more here</a></sup>, this will act as the tip of the teardrop. Using the <code>:before</code> as the border we place <code>:after</code> on top with a smaller size and the desired background colour.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>div {\r\n  width: 100px;\r\n  height: 100px;\r\n  border-radius: 50%;\r\n  border: 4px solid;\r\n  margin: 80px auto;\r\n  position: relative;\r\n}\r\ndiv:before,\r\ndiv:after {\r\n  content: \"\";\r\n  display: block;\r\n  position: absolute;\r\n  width: 0;\r\n  height: 0;\r\n}\r\ndiv:before {\r\n  border-left: 50px solid transparent;\r\n  border-right: 50px solid transparent;\r\n  border-bottom: 104px solid black;\r\n  top: -75px;\r\n}\r\ndiv:after {\r\n  border-left: 46px solid transparent;\r\n  border-right: 46px solid transparent;\r\n  border-bottom: 96px solid #fff;\r\n  top: -66px;\r\n  left: 0;\r\n  right: 0;\r\n  margin: auto;\r\n  z-index: 1;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<hr>\n\n<p>Here is a demo of the teardrop with a background colour</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>div {\r\n  width: 100px;\r\n  height: 100px;\r\n  border-radius: 50%;\r\n  border: 4px solid;\r\n  background: red;\r\n  margin: 80px;\r\n  position: relative;\r\n}\r\ndiv:before,\r\ndiv:after {\r\n  content: \"\";\r\n  display: block;\r\n  position: absolute;\r\n  width: 0;\r\n  height: 0;\r\n}\r\ndiv:before {\r\n  border-left: 50px solid transparent;\r\n  border-right: 50px solid transparent;\r\n  border-bottom: 100px solid black;\r\n  top: -70px;\r\n}\r\ndiv:after {\r\n  border-left: 46px solid transparent;\r\n  border-right: 46px solid transparent;\r\n  border-bottom: 96px solid red;\r\n  top: -66px;\r\n  left: 0;\r\n  right: 0;\r\n  margin: auto;\r\n  z-index: 1;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>It is as simple as putting a background colour onto the <code>div</code> and changing <code>:after</code> <code>bottom-border</code> colour to the same. To change the border you will need to change <code>div</code> border colour and <code>:before</code> background colour too. </p>\n", "title": "How do I create a teardrop in HTML?", "answer_id": 30750542, "question_id": 30711203, "tags": ["html", "css", "css3", "svg", "css-shapes"]}], "question_id": 30711203}, {"body": "<p>I want to have a web page which has one centered word. </p>\n\n<p>I want this word to be drawn with an animation, such that the page \"writes\" the word out the same way that we would, i.e. it starts at one point and draws lines and curves over time such that the end result is a glyph. </p>\n\n<p>I do not care if this is done with <code>&lt;canvas&gt;</code> or the DOM, and I don't care whether it's done with JavaScript or CSS. The absence of jQuery would be nice, but not required.</p>\n\n<p>How can I do this? I've searched <em>exhaustively</em> with no luck.</p>\n", "title": "How can I animate the drawing of text on a web page?", "tags": ["javascript", "css", "canvas", "html5-canvas", "css-shapes"], "answer_count": 2, "link": "http://stackoverflow.com/questions/29911143/how-can-i-animate-the-drawing-of-text-on-a-web-page", "answers": [{"body": "<p>You can do something like this using svg's <code>stroke-dasharray</code> </p>\n\n<p><strong>EDIT</strong> The new hottie </p>\n\n<p>This can also be done by wrapping each letter with a tspan element manually</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var s = Snap('svg');\r\nvar text = 'Some Long Texts'\r\nvar len = text.length;\r\nvar array = [];\r\nfor (var x = 0; x &lt; len; x++) {\r\n  var t = text[x]\r\n  array.push(t);\r\n}\r\nvar txt = s.text(50, 50, array)\r\n$('tspan').css({\r\n  'font-size': 50,\r\n  fill: 'none',\r\n  stroke: 'red',\r\n  'stroke-dasharray': 300,\r\n  'stroke-dashoffset': 300\r\n})\r\n\r\n$('tspan').each(function(index) {\r\n  $(this).stop(true, true).delay(800 * index).animate({\r\n    'stroke-dashoffset': 0,\r\n  }, 800, function() {\r\n    $(this).css('fill', 'red')\r\n  })\r\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/snap.svg/0.3.0/snap.svg-min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;svg width=\"500\" height=\"500\"&gt;\r\n&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>text {\r\n  stroke-dasharray: 1000;\r\n  stroke-dashoffset: 1000;\r\n  -webkit-animation: draw 8s forwards;\r\n}\r\n@-webkit-keyframes draw {\r\n  100% {\r\n    stroke-dashoffset: 0;\r\n  }\r\n}\r\ntext {\r\n  stroke-dasharray: 1000;\r\n  stroke-dashoffset: 1000;\r\n  -webkit-animation: draw 8s forwards;\r\n  -moz-animation: draw 8s forwards;\r\n  -o-animation: draw 8s forwards;\r\n  -ms-animation: draw 8s forwards;\r\n  animation: draw 8s forwards;\r\n}\r\n@-webkit-keyframes draw {\r\n  100% {\r\n    stroke-dashoffset: 0;\r\n  }\r\n}\r\n@-moz-keyframes draw {\r\n  100% {\r\n    stroke-dashoffset: 0;\r\n  }\r\n}\r\n@-o-keyframes draw {\r\n  100% {\r\n    stroke-dashoffset: 0;\r\n  }\r\n}\r\n@-ms-keyframes draw {\r\n  100% {\r\n    stroke-dashoffset: 0;\r\n  }\r\n}\r\n@keyframes draw {\r\n  100% {\r\n    stroke-dashoffset: 0;\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;svg width=\"500\" height=\"500\"&gt;\r\n  &lt;text x=\"100\" y=\"80\" fill=\"none\" stroke=\"black\" stroke-width=\"1\" font-size=\"50\"&gt;Some text&lt;/text&gt;\r\n&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Without <code>keyframes</code> animation you can do something like this</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;svg width=\"500\" height=\"500\"&gt;\r\n  &lt;text x=\"100\" y=\"80\" fill=\"none\" stroke=\"black\" stroke-width=\"5\" font-size=\"50\"  stroke-dasharray=\"1000\"\r\n  stroke-dashoffset=\"1000\"&gt;Some text\r\n  &lt;animate attributeName=\"stroke-dashoffset\"\r\n    from=\"1000\"\r\n    to=\"0\" \r\n    dur=\"8s\"\r\n      fill=\"freeze\"&gt;\r\n          \r\n      &lt;/animate&gt; &lt;/text&gt;\r\n&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And for IE support you can use jquery/javascript </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('text').animate({\r\n    'stroke-dashoffset':'0'\r\n},8000)</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>text {\r\n  stroke-dasharray: 1000;\r\n  stroke-dashoffset: 1000;\r\n  }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;svg width=\"500\" height=\"500\"&gt;\r\n  &lt;text x=\"100\" y=\"80\" fill=\"none\" stroke=\"black\" stroke-width=\"1\" font-size=\"50\" \r\n &gt;Some text\r\n  &lt;/text&gt;\r\n&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How can I animate the drawing of text on a web page?", "answer_id": 29911203, "question_id": 29911143, "tags": ["javascript", "css", "canvas", "html5-canvas", "css-shapes"]}, {"body": "<blockquote>\n  <p>I want this word to be drawn with an animation, such that the page\n  \"writes\" the word out the same way that we would</p>\n</blockquote>\n\n<h2>Canvas version</h2>\n\n<p>This will draw single chars more like one would write by hand. It uses a long dash-pattern where the on/off order is swapped over time per char. It also has a speed parameter.</p>\n\n<p><img src=\"http://i.stack.imgur.com/XWQe1.gif\" alt=\"Snapshot\"><br>\n<sup><em>Example animation (see demo below)</em></sup></p>\n\n<p>To increase realism and the organic feel, I added random letter-spacing, an y delta offset, transparency, a very subtle rotation and finally using an already \"handwritten\" font. These can be wrapped up as dynamic parameters to provide a broad range of \"writing styles\".</p>\n\n<p>For a even more realistic look the path data would be required which it isn't by default. But this is a short and efficient piece of code which approximates hand-written behavior, and easy to implement.</p>\n\n<h2>How it works</h2>\n\n<p>By defining a dash pattern we can create marching ants, dotted lines and so forth. Taking advantage of this by defining a very long dot for the \"off\" dot and gradually increase the \"on\" dot, it will give the illusion of drawing the line on when stroked while animating the dot length. </p>\n\n<p>Since the off dot is so long the repeating pattern won't be visible (the length will vary with the size and characteristics of the typeface being used). The path of the letter will have a length so we need to make sure we are having each dot at least covering this length.</p>\n\n<p>For letters that consists of more than one path (f.ex. O, R, P etc.) as one is for the outline, one is for the hollow part, the lines will appear to be drawn simultaneously. We can't do much about that with this technique as it would require access to each path segment to be stroked separately.</p>\n\n<h2>Compatibility</h2>\n\n<p>For browsers that don't support the canvas element an alternative way to show the text can be placed between the tags, for example a styled text:</p>\n\n<pre><code>&lt;canvas ...&gt;\n    &lt;div class=\"txtStyle\"&gt;STROKE-ON CANVAS&lt;/div&gt;\n&lt;/canvas&gt;\n</code></pre>\n\n<h2>Demo</h2>\n\n<p>This produces the live animated stroke-on (<strong>no dependencies</strong>) -</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var ctx = document.querySelector(\"canvas\").getContext(\"2d\"),\r\n    dashLen = 220, dashOffset = dashLen, speed = 5,\r\n    txt = \"STROKE-ON CANVAS\", x = 30, i = 0;\r\n\r\nctx.font = \"50px Comic Sans MS, cursive, TSCu_Comic, sans-serif\"; \r\nctx.lineWidth = 5; ctx.lineJoin = \"round\"; ctx.globalAlpha = 2/3;\r\nctx.strokeStyle = ctx.fillStyle = \"#1f2f90\";\r\n\r\n(function loop() {\r\n  ctx.clearRect(x, 0, 60, 150);\r\n  ctx.setLineDash([dashLen - dashOffset, dashOffset - speed]); // create a long dash mask\r\n  dashOffset -= speed;                                         // reduce dash length\r\n  ctx.strokeText(txt[i], x, 90);                               // stroke letter\r\n\r\n  if (dashOffset &gt; 0) requestAnimationFrame(loop);             // animate\r\n  else {\r\n    ctx.fillText(txt[i], x, 90);                               // fill final letter\r\n    dashOffset = dashLen;                                      // prep next char\r\n    x += ctx.measureText(txt[i++]).width + ctx.lineWidth * Math.random();\r\n    ctx.setTransform(1, 0, 0, 1, 0, 3 * Math.random());        // random y-delta\r\n    ctx.rotate(Math.random() * 0.005);                         // random rotation\r\n    if (i &lt; txt.length) requestAnimationFrame(loop);\r\n  }\r\n})();</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>canvas {background:url(http://i.imgur.com/5RIXWIE.png)}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas width=630&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How can I animate the drawing of text on a web page?", "answer_id": 29912925, "question_id": 29911143, "tags": ["javascript", "css", "canvas", "html5-canvas", "css-shapes"]}], "question_id": 29911143}, {"body": "<p>Environment: Visual Studio 2015 RTM. (I haven't tried older versions.)</p>\n\n<p>Recently, I've been debugging some of my <a href=\"http://nodatime.org\">Noda Time</a> code, and I've noticed that when I've got a local variable of type <code>NodaTime.Instant</code> (one of the central <code>struct</code> types in Noda Time), the \"Locals\" and \"Watch\" windows don't appear to call its <code>ToString()</code> override. If I call <code>ToString()</code> explicitly in the watch window, I see the appropriate representation, but otherwise I just see:</p>\n\n<pre><code>variableName       {NodaTime.Instant}\n</code></pre>\n\n<p>which isn't very useful.</p>\n\n<p>If I change the override to return a constant string, the string <em>is</em> displayed in the debugger, so it's clearly able to pick up that it's there - it just doesn't want to use it in its \"normal\" state.</p>\n\n<p>I decided to reproduce this locally in a little demo app, and here's what I've come up with. (Note that in an early version of this post, <code>DemoStruct</code> was a class and <code>DemoClass</code> didn't exist at all - my fault, but it explains some comments which look odd now...)</p>\n\n<pre><code>using System;\nusing System.Diagnostics;\nusing System.Threading;\n\npublic struct DemoStruct\n{\n    public string Name { get; }\n\n    public DemoStruct(string name)\n    {\n        Name = name;\n    }\n\n    public override string ToString()\n    {\n        Thread.Sleep(1000); // Vary this to see different results\n        return $\"Struct: {Name}\";\n    }\n}\n\npublic class DemoClass\n{\n    public string Name { get; }\n\n    public DemoClass(string name)\n    {\n        Name = name;\n    }\n\n    public override string ToString()\n    {\n        Thread.Sleep(1000); // Vary this to see different results\n        return $\"Class: {Name}\";\n    }\n}\n\npublic class Program\n{\n    static void Main()\n    {\n        var demoClass = new DemoClass(\"Foo\");\n        var demoStruct = new DemoStruct(\"Bar\");\n        Debugger.Break();\n    }\n}\n</code></pre>\n\n<p>In the debugger, I now see:</p>\n\n<pre><code>demoClass    {DemoClass}\ndemoStruct   {Struct: Bar}\n</code></pre>\n\n<p>However, if I reduce the <code>Thread.Sleep</code> call down from 1 second to 900ms, there's still a short pause, but then I see <code>Class: Foo</code> as the value. It doesn't seem to matter how long the <code>Thread.Sleep</code> call is in <code>DemoStruct.ToString()</code>, it's always displayed properly - and the debugger displays the value before the sleep would have completed. (It's as if <code>Thread.Sleep</code> is disabled.)</p>\n\n<p>Now <code>Instant.ToString()</code> in Noda Time does a fair amount of work, but it certainly doesn't take a whole second - so presumably there are more conditions that cause the debugger to give up evaluating a <code>ToString()</code> call. And of course it's a struct anyway.</p>\n\n<p>I've tried recursing to see whether it's a stack limit, but that appears not to be the case.</p>\n\n<p>So, how can I work out what's stopping VS from fully evaluating <code>Instant.ToString()</code>? As noted below, <code>DebuggerDisplayAttribute</code> appears to help, but without knowing <em>why</em>, I'm never going to be entirely confident in when I need it and when I don't.</p>\n\n<p><strong>Update</strong></p>\n\n<p>If I use <a href=\"https://msdn.microsoft.com/en-us/library/system.diagnostics.debuggerdisplayattribute.debuggerdisplayattribute\"><code>DebuggerDisplayAttribute</code></a>, things change:</p>\n\n<pre><code>// For the sample code in the question...\n[DebuggerDisplay(\"{ToString()}\")]\npublic class DemoClass\n</code></pre>\n\n<p>gives me:</p>\n\n<pre><code>demoClass      Evaluation timed out\n</code></pre>\n\n<p>Whereas when I apply it in Noda Time:</p>\n\n<pre><code>[DebuggerDisplay(\"{ToString()}\")]\npublic struct Instant\n</code></pre>\n\n<p>a simple test app shows me the right result:</p>\n\n<pre><code>instant    \"1970-01-01T00:00:00Z\"\n</code></pre>\n\n<p>So presumably the problem in Noda Time is some condition that <code>DebuggerDisplayAttribute</code> <em>does</em> force through - even though it doesn't force through timeouts. (This would be in line with my expectation that <code>Instant.ToString</code> is easily fast enough to avoid a timeout.)</p>\n\n<p>This <em>may</em> be a good enough solution - but I'd still like to know what's going on, and whether I can change the code simply to avoid having to put the attribute on all the various value types in Noda Time.</p>\n\n<p><strong>Curiouser and curiouser</strong></p>\n\n<p>Whatever is confusing the debugger only confuses it sometimes. Let's create a class which <em>holds</em> an <code>Instant</code> and uses it for its own <code>ToString()</code> method:</p>\n\n<pre><code>using NodaTime;\nusing System.Diagnostics;\n\npublic class InstantWrapper\n{\n    private readonly Instant instant;\n\n    public InstantWrapper(Instant instant)\n    {\n        this.instant = instant;\n    }\n\n    public override string ToString() =&gt; instant.ToString();\n}\n\npublic class Program\n{\n    static void Main()\n    {\n        var instant = NodaConstants.UnixEpoch;\n        var wrapper = new InstantWrapper(instant);\n\n        Debugger.Break();\n    }\n}\n</code></pre>\n\n<p>Now I end up seeing:</p>\n\n<pre><code>instant    {NodaTime.Instant}\nwrapper    {1970-01-01T00:00:00Z}\n</code></pre>\n\n<p>However, at the suggestion of Eren in comments, if I change <code>InstantWrapper</code> to be a struct, I get:</p>\n\n<pre><code>instant    {NodaTime.Instant}\nwrapper    {InstantWrapper}\n</code></pre>\n\n<p>So it <em>can</em> evaluate <code>Instant.ToString()</code> - so long as that's invoked by another <code>ToString</code> method... which is within a class. The class/struct part seems to be important based on the type of the variable being displayed, not what code needs \nto be executed in order to get the result.</p>\n\n<p>As another example of this, if we use:</p>\n\n<pre><code>object boxed = NodaConstants.UnixEpoch;\n</code></pre>\n\n<p>... then it works fine, displaying the right value. Colour me confused.</p>\n", "title": "What makes the Visual Studio debugger stop evaluating a ToString override?", "tags": ["c#", "debugging", "visual-studio-2015"], "answer_count": 1, "link": "http://stackoverflow.com/questions/31562791/what-makes-the-visual-studio-debugger-stop-evaluating-a-tostring-override", "answers": [{"body": "<h1>Update:</h1>\n\n<p>This bug has been fixed in Visual Studio 2015 Update 2.  Let me know if you are still running into problems evaluating ToString on struct values using Update 2 or later.</p>\n\n<h1>Original Answer:</h1>\n\n<p>You are running into a known bug/design limitation with Visual Studio 2015 and calling ToString on struct types.  This can also be observed when dealing with <code>System.DateTimeSpan</code>.  <code>System.DateTimeSpan.ToString()</code> works in the evaluation windows with Visual Studio 2013, but does not always work in 2015.</p>\n\n<p>If you are interested in the low level details, here's what's going on:</p>\n\n<p>To evaluate <code>ToString</code>, the debugger does what's known as \"function evaluation\".  In greatly simplified terms, the debugger suspends all threads in the process except the current thread, changes the context of the current thread to the <code>ToString</code> function, sets a hidden guard breakpoint, then allows the process to continue.  When the guard breakpoint is hit, the debugger restores the process to its previous state and the return value of the function is used to populate the window.</p>\n\n<p>To support lambda expressions, we had to completely rewrite the CLR Expression Evaluator in Visual Studio 2015.  At a high level, the implementation is:</p>\n\n<ol>\n<li>Roslyn generates MSIL code for expressions/local variables to get the values to be displayed in the various inspection windows.</li>\n<li>The debugger interprets the IL to get the result.</li>\n<li>If there are any \"call\" instructions, the debugger executes a\nfunction evaluation as described above.</li>\n<li>The debugger/roslyn takes this result and formats it into the\ntree-like view that's shown to the user.</li>\n</ol>\n\n<p>Because of the execution of IL, the debugger is always dealing with a complicated mix of \"real\" and \"fake\" values.  Real values actually exist in the process being debugged.  Fake values only exist in the debugger process.  To implement proper struct semantics, the debugger always needs to make a copy of the value when pushing a struct value to the IL stack.  The copied value is no longer a \"real\" value and now only exists in the debugger process.  That means if we later need to perform function evaluation of <code>ToString</code>, we can't because the value doesn't exist in the process.  To try and get the value we need to emulate execution of the <code>ToString</code> method.  While we can emulate some things, there are many limitations.  For example, we can't emulate native code and we can't execute calls to \"real\" delegate values or calls on reflection values.</p>\n\n<p>With all of that in mind, here is what's causing the various behaviors you are seeing:</p>\n\n<ol>\n<li>The debugger isn't evaluating <code>NodaTime.Instant.ToString</code> -> This is\nbecause it is struct type and the implementation of ToString can't\nbe emulated by the debugger as described above.</li>\n<li><code>Thread.Sleep</code> seems to take zero time when called by <code>ToString</code> on a\nstruct -> This is because the emulator is executing <code>ToString</code>.\nThread.Sleep is a native method, but the emulator is aware\nof it and just ignores the call.  We do this to try and get a value\nto show to the user.  A delay wouldn't be helpful in this case.</li>\n<li><code>DisplayAttibute(\"ToString()\")</code> works. -> That is confusing.  The only\ndifference between the implicit calling of <code>ToString</code> and\n<code>DebuggerDisplay</code> is that any time-outs of the implicit <code>ToString</code>\nevaluation will disable all implicit <code>ToString</code> evaluations for that\ntype until the next debug session.  You may be observing that\nbehavior.</li>\n</ol>\n\n<p>In terms of the design problem/bug, this is something we are planning to address in a future release of Visual Studio.</p>\n\n<p>Hopefully that clears things up.  Let me know if you have more questions. :-)</p>\n", "title": "What makes the Visual Studio debugger stop evaluating a ToString override?", "answer_id": 31569625, "question_id": 31562791, "tags": ["c#", "debugging", "visual-studio-2015"]}], "question_id": 31562791}, {"body": "<p>I'm solving a problem and it involves sorting 10 numbers (int32) very quickly. My application needs to sort 10 numbers millions of times as fast as possible. I'm sampling a data set of billions of elements and every time I need to pick 10 numbers out of it (simplified) and sort them (and make conclusions from the sorted 10 element list).</p>\n\n<p>Currently I'm using insertion sort but I imagine I could implement a very fast custom sorting algorithm for my specific problem of 10 numbers which would beat insertion sort.</p>\n\n<p>Does anyone have any idea about how to approach this problem?</p>\n", "title": "Fastest way to sort 10 numbers? (numbers are 32 bit)", "tags": ["c++", "c", "algorithm", "sorting"], "answer_count": 9, "link": "http://stackoverflow.com/questions/32172144/fastest-way-to-sort-10-numbers-numbers-are-32-bit", "answers": [{"body": "<p>When you deal with this fixed size take a look at <a href=\"https://en.wikipedia.org/wiki/Sorting_network\">Sorting Networks</a>. These algorithms have a fixed runtime and are independent to their input. For your use-case you don't have such overhead that some sorting algorithms have.</p>\n\n<p><a href=\"https://en.wikipedia.org/wiki/Bitonic_sorter\">Bitonic sort</a> is an implementation of such network. This one works best with len(n) &lt;= 32 on a CPU. On bigger inputs you could think of moving to a GPU.\n<a href=\"https://en.wikipedia.org/wiki/Sorting_network\">https://en.wikipedia.org/wiki/Sorting_network</a></p>\n\n<p>Btw, a good page to compare sorting algorithms is this one here (though its missing the <code>bitonic sort</code>.</p>\n\n<p><a href=\"http://www.sorting-algorithms.com\">http://www.sorting-algorithms.com</a></p>\n", "title": "Fastest way to sort 10 numbers? (numbers are 32 bit)", "answer_id": 32172160, "question_id": 32172144, "tags": ["c++", "c", "algorithm", "sorting"]}, {"body": "<p>(Following up on the suggestion of HelloWorld to look into sorting networks.) </p>\n\n<p>It seems that a 29-comparison/swap network is the fastest way to do a 10-input sort. I used the network discovered by Waksman in 1969 for this example in Javascript, which should translate directly into C, as it's just a list of <code>if</code> statements, comparisons and swaps.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function sortNet10(data) {\t// ten-input sorting network by Waksman, 1969\r\n    var swap;\r\n    if (data[0] &gt; data[5]) { swap = data[0]; data[0] = data[5]; data[5] = swap; }\r\n    if (data[1] &gt; data[6]) { swap = data[1]; data[1] = data[6]; data[6] = swap; }\r\n    if (data[2] &gt; data[7]) { swap = data[2]; data[2] = data[7]; data[7] = swap; }\r\n    if (data[3] &gt; data[8]) { swap = data[3]; data[3] = data[8]; data[8] = swap; }\r\n    if (data[4] &gt; data[9]) { swap = data[4]; data[4] = data[9]; data[9] = swap; }\r\n    if (data[0] &gt; data[3]) { swap = data[0]; data[0] = data[3]; data[3] = swap; }\r\n    if (data[5] &gt; data[8]) { swap = data[5]; data[5] = data[8]; data[8] = swap; }\r\n    if (data[1] &gt; data[4]) { swap = data[1]; data[1] = data[4]; data[4] = swap; }\r\n    if (data[6] &gt; data[9]) { swap = data[6]; data[6] = data[9]; data[9] = swap; }\r\n    if (data[0] &gt; data[2]) { swap = data[0]; data[0] = data[2]; data[2] = swap; }\r\n    if (data[3] &gt; data[6]) { swap = data[3]; data[3] = data[6]; data[6] = swap; }\r\n    if (data[7] &gt; data[9]) { swap = data[7]; data[7] = data[9]; data[9] = swap; }\r\n    if (data[0] &gt; data[1]) { swap = data[0]; data[0] = data[1]; data[1] = swap; }\r\n    if (data[2] &gt; data[4]) { swap = data[2]; data[2] = data[4]; data[4] = swap; }\r\n    if (data[5] &gt; data[7]) { swap = data[5]; data[5] = data[7]; data[7] = swap; }\r\n    if (data[8] &gt; data[9]) { swap = data[8]; data[8] = data[9]; data[9] = swap; }\r\n    if (data[1] &gt; data[2]) { swap = data[1]; data[1] = data[2]; data[2] = swap; }\r\n    if (data[3] &gt; data[5]) { swap = data[3]; data[3] = data[5]; data[5] = swap; }\r\n    if (data[4] &gt; data[6]) { swap = data[4]; data[4] = data[6]; data[6] = swap; }\r\n    if (data[7] &gt; data[8]) { swap = data[7]; data[7] = data[8]; data[8] = swap; }\r\n    if (data[1] &gt; data[3]) { swap = data[1]; data[1] = data[3]; data[3] = swap; }\r\n    if (data[4] &gt; data[7]) { swap = data[4]; data[4] = data[7]; data[7] = swap; }\r\n    if (data[2] &gt; data[5]) { swap = data[2]; data[2] = data[5]; data[5] = swap; }\r\n    if (data[6] &gt; data[8]) { swap = data[6]; data[6] = data[8]; data[8] = swap; }\r\n    if (data[2] &gt; data[3]) { swap = data[2]; data[2] = data[3]; data[3] = swap; }\r\n    if (data[4] &gt; data[5]) { swap = data[4]; data[4] = data[5]; data[5] = swap; }\r\n    if (data[6] &gt; data[7]) { swap = data[6]; data[6] = data[7]; data[7] = swap; }\r\n    if (data[3] &gt; data[4]) { swap = data[3]; data[3] = data[4]; data[4] = swap; }\r\n    if (data[5] &gt; data[6]) { swap = data[5]; data[5] = data[6]; data[6] = swap; }\r\n    return(data);\r\n}\r\n\r\nalert(sortNet10([5,7,1,8,4,3,6,9,2,0]));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Here's a graphical representation of the network, divided into independent phases.<br>\n<a href=\"http://i.stack.imgur.com/pp7EG.png\"><img src=\"http://i.stack.imgur.com/pp7EG.png\" alt=\"10-input sorting network (Waksman, 1969)\"></a><br>\nTo take advantage of parallel processing, the 5-4-3-4-4-4-3-2 grouping can be changed into a 4-4-4-4-4-4-3-2 grouping.<br>\n<a href=\"http://i.stack.imgur.com/IcV0u.png\"><img src=\"http://i.stack.imgur.com/IcV0u.png\" alt=\"10-input sorting network (Waksman, 1969) re-grouped\"></a>  </p>\n", "title": "Fastest way to sort 10 numbers? (numbers are 32 bit)", "answer_id": 32173153, "question_id": 32172144, "tags": ["c++", "c", "algorithm", "sorting"]}, {"body": "<p>Use a sorting network that has comparisons in groups of 4, so you can do it in SIMD registers.  A pair of packed min/max instructions implements a packed comparator function.  Sorry I don't have time right now to look for a page I remember seeing about this, but hopefully searching on SIMD or SSE sorting networks will turn something up.</p>\n\n<p>x86 SSE does have packed-32bit-integer min and max instructions for vectors of four 32bit ints.  AVX2 (Haswell and later) have the same but for 256b vectors of 8 ints.  There are also efficient shuffle instructions.</p>\n\n<p>If you have a lot of independent small sorts, it might be possible to do 4 or 8 sorts in parallel using vectors.  Esp. if you're choosing elements randomly (so the data to be sorted won't be contiguous in memory anyway), you can avoid shuffles and simply compare in the order you need.  10 registers to hold all the data from 4 (AVX2: 8) lists of 10 ints still leaves 6 regs for scratch space.</p>\n\n<p>Vector sorting networks are less efficient if you also need to sort associated data.  In that case, the most efficient way seems to be to use a packed-compare to get a mask of which elements changed, and use that mask to blend vectors of (references to) associated data.</p>\n", "title": "Fastest way to sort 10 numbers? (numbers are 32 bit)", "answer_id": 32173433, "question_id": 32172144, "tags": ["c++", "c", "algorithm", "sorting"]}, {"body": "<p>What about an unrolled, branch-less selection sort?</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n#include &lt;random&gt;\n\n//return the index of the minimum element in array a\nint min(const int * const a) {\n  int m = a[0];\n  int indx = 0;\n  #define TEST(i) (m &gt; a[i]) &amp;&amp; (m = a[i], indx = i ); \n  //see http://stackoverflow.com/a/7074042/2140449\n  TEST(1);\n  TEST(2);\n  TEST(3);\n  TEST(4);\n  TEST(5);\n  TEST(6);\n  TEST(7);\n  TEST(8);\n  TEST(9);\n  #undef TEST\n  return indx;\n}\n\nvoid sort( int * const a ){\n  int work[10];\n  int indx;\n  #define GET(i) indx = min(a); work[i] = a[indx]; a[indx] = 2147483647; \n  //get the minimum, copy it to work and set it at max_int in a\n  GET(0);\n  GET(1);\n  GET(2);\n  GET(3);\n  GET(4);\n  GET(5);\n  GET(6);\n  GET(7);\n  GET(8);\n  GET(9);\n  #undef GET\n  #define COPY(i) a[i] = work[i];\n  //copy back to a\n  COPY(0);\n  COPY(1);\n  COPY(2);\n  COPY(3);\n  COPY(4);\n  COPY(5);\n  COPY(6);\n  COPY(7);\n  COPY(8);\n  COPY(9);\n  #undef COPY\n}\n\nint main() {\n  //generating and printing a random array\n  int a[10] = { 1,2,3,4,5,6,7,8,9,10 };\n  std::random_device rd;\n  std::mt19937 g(rd());\n  std::shuffle( a, a+10, g);\n  for (int i = 0; i &lt; 10; i++) {\n    std::cout &lt;&lt; a[i] &lt;&lt; ' ';\n  }\n  std::cout &lt;&lt; std::endl;\n\n  //sorting and printing again\n  sort(a);\n  for (int i = 0; i &lt; 10; i++) {\n    std::cout &lt;&lt; a[i] &lt;&lt; ' ';\n  } \n\n  return 0;\n}\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/71e18bc4f7fa18c6\">http://coliru.stacked-crooked.com/a/71e18bc4f7fa18c6</a></p>\n\n<p>The only relevant lines are the first two <code>#define</code>.</p>\n\n<p>It uses two lists and entirely recheck the first one for ten times which would be a badly implemented selection sort, however it avoids branches and variable length loops, which may compensate with modern processors and such a small data set.</p>\n\n<hr>\n\n<h1>Benchmark</h1>\n\n<p>I benchmarked against the sorting network, and my code seems to be slower. However I tried to remove the unrolling and the copy. Running this code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n#include &lt;random&gt;\n#include &lt;chrono&gt;\n\nint min(const int * const a, int i) {\n  int m = a[i];\n  int indx = i++;\n  for ( ; i&lt;10; i++) \n    //see http://stackoverflow.com/a/7074042/2140449\n    (m &gt; a[i]) &amp;&amp; (m = a[i], indx = i ); \n  return indx;\n}\n\nvoid sort( int * const a ){\n  for (int i = 0; i&lt;9; i++)\n    std::swap(a[i], a[min(a,i)]); //search only forward\n}\n\n\nvoid sortNet10(int * const data) {  // ten-input sorting network by Waksman, 1969\n    int swap;\n    if (data[0] &gt; data[5]) { swap = data[0]; data[0] = data[5]; data[5] = swap; }\n    if (data[1] &gt; data[6]) { swap = data[1]; data[1] = data[6]; data[6] = swap; }\n    if (data[2] &gt; data[7]) { swap = data[2]; data[2] = data[7]; data[7] = swap; }\n    if (data[3] &gt; data[8]) { swap = data[3]; data[3] = data[8]; data[8] = swap; }\n    if (data[4] &gt; data[9]) { swap = data[4]; data[4] = data[9]; data[9] = swap; }\n    if (data[0] &gt; data[3]) { swap = data[0]; data[0] = data[3]; data[3] = swap; }\n    if (data[5] &gt; data[8]) { swap = data[5]; data[5] = data[8]; data[8] = swap; }\n    if (data[1] &gt; data[4]) { swap = data[1]; data[1] = data[4]; data[4] = swap; }\n    if (data[6] &gt; data[9]) { swap = data[6]; data[6] = data[9]; data[9] = swap; }\n    if (data[0] &gt; data[2]) { swap = data[0]; data[0] = data[2]; data[2] = swap; }\n    if (data[3] &gt; data[6]) { swap = data[3]; data[3] = data[6]; data[6] = swap; }\n    if (data[7] &gt; data[9]) { swap = data[7]; data[7] = data[9]; data[9] = swap; }\n    if (data[0] &gt; data[1]) { swap = data[0]; data[0] = data[1]; data[1] = swap; }\n    if (data[2] &gt; data[4]) { swap = data[2]; data[2] = data[4]; data[4] = swap; }\n    if (data[5] &gt; data[7]) { swap = data[5]; data[5] = data[7]; data[7] = swap; }\n    if (data[8] &gt; data[9]) { swap = data[8]; data[8] = data[9]; data[9] = swap; }\n    if (data[1] &gt; data[2]) { swap = data[1]; data[1] = data[2]; data[2] = swap; }\n    if (data[3] &gt; data[5]) { swap = data[3]; data[3] = data[5]; data[5] = swap; }\n    if (data[4] &gt; data[6]) { swap = data[4]; data[4] = data[6]; data[6] = swap; }\n    if (data[7] &gt; data[8]) { swap = data[7]; data[7] = data[8]; data[8] = swap; }\n    if (data[1] &gt; data[3]) { swap = data[1]; data[1] = data[3]; data[3] = swap; }\n    if (data[4] &gt; data[7]) { swap = data[4]; data[4] = data[7]; data[7] = swap; }\n    if (data[2] &gt; data[5]) { swap = data[2]; data[2] = data[5]; data[5] = swap; }\n    if (data[6] &gt; data[8]) { swap = data[6]; data[6] = data[8]; data[8] = swap; }\n    if (data[2] &gt; data[3]) { swap = data[2]; data[2] = data[3]; data[3] = swap; }\n    if (data[4] &gt; data[5]) { swap = data[4]; data[4] = data[5]; data[5] = swap; }\n    if (data[6] &gt; data[7]) { swap = data[6]; data[6] = data[7]; data[7] = swap; }\n    if (data[3] &gt; data[4]) { swap = data[3]; data[3] = data[4]; data[4] = swap; }\n    if (data[5] &gt; data[6]) { swap = data[5]; data[5] = data[6]; data[6] = swap; }\n}\n\n\nstd::chrono::duration&lt;double&gt; benchmark( void(*func)(int * const), const int seed ) {\n  std::mt19937 g(seed);\n  int a[10] = {10,11,12,13,14,15,16,17,18,19};\n  std::chrono::high_resolution_clock::time_point t1, t2; \n  t1 = std::chrono::high_resolution_clock::now();\n  for (long i = 0; i &lt; 1e7; i++) {\n    std::shuffle( a, a+10, g);\n    func(a);\n  }\n  t2 = std::chrono::high_resolution_clock::now();\n  return std::chrono::duration_cast&lt;std::chrono::duration&lt;double&gt;&gt;(t2 - t1);\n}\n\nint main() {\n  std::random_device rd;\n  for (int i = 0; i &lt; 10; i++) {\n    const int seed = rd();\n    std::cout &lt;&lt; \"seed = \" &lt;&lt; seed &lt;&lt; std::endl;\n    std::cout &lt;&lt; \"sortNet10: \" &lt;&lt; benchmark(sortNet10, seed).count() &lt;&lt; std::endl;\n    std::cout &lt;&lt; \"sort:      \" &lt;&lt; benchmark(sort,      seed).count() &lt;&lt; std::endl;\n  }\n  return 0;\n}\n</code></pre>\n\n<p>I am consistently getting <strong>better result for the branch-less selection sort</strong> compared to the sorting network.</p>\n\n<pre><code>$ gcc -v\ngcc version 5.2.0 (GCC) \n$ g++ -std=c++11 -Ofast sort.cpp &amp;&amp; ./a.out\nseed = -1727396418\nsortNet10: 2.24137\nsort:      2.21828\nseed = 2003959850\nsortNet10: 2.23914\nsort:      2.21641\nseed = 1994540383\nsortNet10: 2.23782\nsort:      2.21778\nseed = 1258259982\nsortNet10: 2.25199\nsort:      2.21801\nseed = 1821086932\nsortNet10: 2.25535\nsort:      2.2173\nseed = 412262735\nsortNet10: 2.24489\nsort:      2.21776\nseed = 1059795817\nsortNet10: 2.29226\nsort:      2.21777\nseed = -188551272\nsortNet10: 2.23803\nsort:      2.22996\nseed = 1043757247\nsortNet10: 2.2503\nsort:      2.23604\nseed = -268332483\nsortNet10: 2.24455\nsort:      2.24304\n</code></pre>\n", "title": "Fastest way to sort 10 numbers? (numbers are 32 bit)", "answer_id": 32183266, "question_id": 32172144, "tags": ["c++", "c", "algorithm", "sorting"]}, {"body": "<p>Although a network sort has good odds of being fast on small arrays, sometimes you can't beat insertion sort if properly optimized. For example batch insert with 2 elements:</p>\n\n<pre><code>{\n    final int a=in[0]&lt;in[1]?in[0]:in[1];\n    final int b=in[0]&lt;in[1]?in[1]:in[0];\n    in[0]=a;\n    in[1]=b;\n}\nfor(int x=2;x&lt;10;x+=2)\n{\n    final int a=in[x]&lt;in[x+1]?in[x]:in[x+1];\n    final int b=in[x]&lt;in[x+1]?in[x+1]:in[x];\n    int y= x-1;\n\n    while(y&gt;=0&amp;&amp;in[y]&gt;b)\n    {\n        in[y+2]= in[y];\n        --y;\n    }\n    in[y+2]=b;\n    while(y&gt;=0&amp;&amp;in[y]&gt;a)\n    {\n        in[y+1]= in[y];\n        --y;\n    }\n    in[y+1]=a;\n}\n</code></pre>\n", "title": "Fastest way to sort 10 numbers? (numbers are 32 bit)", "answer_id": 32195665, "question_id": 32172144, "tags": ["c++", "c", "algorithm", "sorting"]}, {"body": "<p>The question doesn't say that this is some kind of a web-based application.  The one thing that caught my eye was:</p>\n\n<blockquote>\n  <p>I'm sampling a data set of billions of elements and every time I need to pick 10 numbers out of it (simplified) and sort them (and make conclusions from the sorted 10 element list).</p>\n</blockquote>\n\n<p>As a software and hardware engineer this absolutely screams <strong>\"FPGA\"</strong> to me.  I don't know what kind of conclusions you need to draw from the sorted set of numbers or where the data comes from but I know it would be almost trivial to process somewhere between <strong>one hundred million and a billion</strong> of these \"sort-and-analyze\" operations <strong>per second</strong>.  I've done FPGA-assisted DNA sequencing work in the past.  It is nearly impossible to beat the massive processing power of FPGA's when the problem is well suited for that type of a solution.</p>\n\n<p>At some level the only limiting factor becomes how quickly you can shovel data into an FPGA and how quickly you can get it out.</p>\n\n<p>As a point of reference, I designed a high performance real-time image processor that received 32 bit RGB image data at a rate of about 300 million pixels per second.  The data streamed through FIR filters, matrix multipliers, lookup tables, spatial edge detection blocks and a number of other operations before coming out the other end.  All of this on a relatively small Xilinx Virtex2 FPGA with internal clocking spanning from about 33MHz to, if I remember correctly, 400MHz.  Oh, yes, it also had a DDR2 controller implementation and ran two banks of DDR2 memory.</p>\n\n<p>An FPGA can output a sort of ten 32 bit number on every clock transition while operating at hundreds of MHz.  There would be short delay at the start of the operation as the data fills the processing pipeline/s.  After that you should be able to get one result per clock.  Or more if the processing can be parallelized through replicating the sort-and-analyze pipeline.  The solution, in principle, is almost trivial.</p>\n\n<p>The point is:  If the application isn't PC-bound and the data stream and processing is \"compatible\" with an FPGA solution (either stand-alone or as a co-processor card in the machine) there is no way you are going to be able to beat the attainable level of performance with software written in any language, regardless of the algorithm.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Just ran quick search and found a paper that might be of use to you.  It looks like it dates back to 2012.  You can do a LOT better in performance today (and  even back then).  Here it is:</p>\n\n<p><a href=\"http://dbis.cs.tu-dortmund.de/cms/en/publications/2012/sorting-networks/sorting-networks.pdf\">Sorting Networks on FPGAs</a></p>\n", "title": "Fastest way to sort 10 numbers? (numbers are 32 bit)", "answer_id": 32266695, "question_id": 32172144, "tags": ["c++", "c", "algorithm", "sorting"]}, {"body": "<p>I recently wrote a <a href=\"https://github.com/webby1111/Static-Sort\" rel=\"nofollow\">little class</a> that uses the Bose-Nelson algorithm to generate a sorting network on compile time. </p>\n\n<p>It can be used to create a very fast sort for 10 numbers.    </p>\n\n<pre><code>/**\n * A Functor class to create a sort for fixed sized arrays/containers with a\n * compile time generated Bose-Nelson sorting network.\n * \\tparam NumElements  The number of elements in the array or container to sort.\n * \\tparam T            The element type.\n * \\tparam Compare      A comparator functor class that returns true if lhs &lt; rhs.\n */\ntemplate &lt;unsigned NumElements, class Compare = void&gt; class StaticSort\n{\n    template &lt;class A, class C&gt; struct Swap\n    {\n        template &lt;class T&gt; inline void s(T &amp;v0, T &amp;v1)\n        {\n            T t = Compare()(v0, v1) ? v0 : v1; // Min\n            v1 = Compare()(v0, v1) ? v1 : v0; // Max\n            v0 = t;\n        }\n\n        inline Swap(A &amp;a, const int &amp;i0, const int &amp;i1) { s(a[i0], a[i1]); }\n    };\n\n    template &lt;class A&gt; struct Swap &lt;A, void&gt;\n    {\n        template &lt;class T&gt; inline void s(T &amp;v0, T &amp;v1)\n        {\n            // Explicitly code out the Min and Max to nudge the compiler\n            // to generate branchless code.\n            T t = v0 &lt; v1 ? v0 : v1; // Min\n            v1 = v0 &lt; v1 ? v1 : v0; // Max\n            v0 = t;\n        }\n\n        inline Swap(A &amp;a, const int &amp;i0, const int &amp;i1) { s(a[i0], a[i1]); }\n    };\n\n    template &lt;class A, class C, int I, int J, int X, int Y&gt; struct PB\n    {\n        inline PB(A &amp;a)\n        {\n            enum { L = X &gt;&gt; 1, M = (X &amp; 1 ? Y : Y + 1) &gt;&gt; 1, IAddL = I + L, XSubL = X - L };\n            PB&lt;A, C, I, J, L, M&gt; p0(a);\n            PB&lt;A, C, IAddL, J + M, XSubL, Y - M&gt; p1(a);\n            PB&lt;A, C, IAddL, J, XSubL, M&gt; p2(a);\n        }\n    };\n\n    template &lt;class A, class C, int I, int J&gt; struct PB &lt;A, C, I, J, 1, 1&gt;\n    {\n        inline PB(A &amp;a) { Swap&lt;A, C&gt; s(a, I - 1, J - 1); }\n    };\n\n    template &lt;class A, class C, int I, int J&gt; struct PB &lt;A, C, I, J, 1, 2&gt;\n    {\n        inline PB(A &amp;a) { Swap&lt;A, C&gt; s0(a, I - 1, J); Swap&lt;A, C&gt; s1(a, I - 1, J - 1); }\n    };\n\n    template &lt;class A, class C, int I, int J&gt; struct PB &lt;A, C, I, J, 2, 1&gt;\n    {\n        inline PB(A &amp;a) { Swap&lt;A, C&gt; s0(a, I - 1, J - 1); Swap&lt;A, C&gt; s1(a, I, J - 1); }\n    };\n\n    template &lt;class A, class C, int I, int M, bool Stop = false&gt; struct PS\n    {\n        inline PS(A &amp;a)\n        {\n            enum { L = M &gt;&gt; 1, IAddL = I + L, MSubL = M - L};\n            PS&lt;A, C, I, L, (L &lt;= 1)&gt; ps0(a);\n            PS&lt;A, C, IAddL, MSubL, (MSubL &lt;= 1)&gt; ps1(a);\n            PB&lt;A, C, I, IAddL, L, MSubL&gt; pb(a);\n        }\n    };\n\n    template &lt;class A, class C, int I, int M&gt; struct PS &lt;A, C, I, M, true&gt;\n    {\n        inline PS(A &amp;a) {}\n    };\n\npublic:\n    /**\n     * Sorts the array/container arr.\n     * \\param  arr  The array/container to be sorted.\n     */\n    template &lt;class Container&gt; inline void operator() (Container &amp;arr) const\n    {\n        PS&lt;Container, Compare, 1, NumElements, (NumElements &lt;= 1)&gt; ps(arr);\n    };\n\n    /**\n     * Sorts the array arr.\n     * \\param  arr  The array to be sorted.\n     */\n    template &lt;class T&gt; inline void operator() (T *arr) const\n    {\n        PS&lt;T*, Compare, 1, NumElements, (NumElements &lt;= 1)&gt; ps(arr);\n    };\n};\n\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\nint main(int argc, const char * argv[])\n{\n    enum { NumValues = 10 };\n\n    // Arrays\n    {\n        int rands[NumValues];\n        for (int i = 0; i &lt; NumValues; ++i) rands[i] = rand() % 100;\n        std::cout &lt;&lt; \"Before Sort: \\t\";\n        for (int i = 0; i &lt; NumValues; ++i) std::cout &lt;&lt; rands[i] &lt;&lt; \" \";\n        std::cout &lt;&lt; \"\\n\";\n        StaticSort&lt;NumValues&gt; staticSort;\n        staticSort(rands);\n        std::cout &lt;&lt; \"After Sort: \\t\";\n        for (int i = 0; i &lt; NumValues; ++i) std::cout &lt;&lt; rands[i] &lt;&lt; \" \";\n        std::cout &lt;&lt; \"\\n\";\n    }\n\n    std::cout &lt;&lt; \"\\n\";\n\n    // STL Vector\n    {\n        std::vector&lt;int&gt; rands(NumValues);\n        for (int i = 0; i &lt; NumValues; ++i) rands[i] = rand() % 100;\n        std::cout &lt;&lt; \"Before Sort: \\t\";\n        for (int i = 0; i &lt; NumValues; ++i) std::cout &lt;&lt; rands[i] &lt;&lt; \" \";\n        std::cout &lt;&lt; \"\\n\";\n        StaticSort&lt;NumValues&gt; staticSort;\n        staticSort(rands);\n        std::cout &lt;&lt; \"After Sort: \\t\";\n        for (int i = 0; i &lt; NumValues; ++i) std::cout &lt;&lt; rands[i] &lt;&lt; \" \";\n        std::cout &lt;&lt; \"\\n\";\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>Note that instead of an <code>if (compare) swap</code> statement, we explicitly code out ternary operators for min and max. This is to help nudge the compiler into using branchless code.</p>\n\n<h2>Benchmarks</h2>\n\n<p>The following benchmarks are compiled with clang -O3 and ran on my mid-2012 macbook air.</p>\n\n<h3>Sorting random data</h3>\n\n<p>Comparing it with DarioP's code, here are the number of milliseconds taken to sort 1 million 32-bit int arrays of size 10:  </p>\n\n<p><strong>Hardcoded Sort Net 10         :</strong> 88.774 ms<br>\n<strong>Templated Bose-Nelson sort 10 :</strong> 27.815 ms</p>\n\n<p>Using this templated approach, we can also generate sorting networks upon compile time for other number of elements. </p>\n\n<p>Time (in milliseconds) to sort 1 million arrays of various sizes.<br>\nThe number of milliseconds for arrays of size 2, 4, 8 are 1.943, 8.655, 20.246 respectively.<br>\n<img src=\"http://i.stack.imgur.com/pR6Jo.png\" alt=\"C++ Templated Bose-Nelson Static Sort timings\"></p>\n\n<p>Credits to <a href=\"http://stackoverflow.com/a/37425193/3686594\">Glenn Teitelbaum</a> for the unrolled insertion sort.</p>\n\n<p>Here are the average clocks per sort for small arrays of 6 elements. The benchmark code and examples can be found at this question:<br>\n<a href=\"http://stackoverflow.com/q/2786899/3686594\">Fastest sort of fixed length 6 int array</a> </p>\n\n<pre><code>Direct call to qsort library function       : 326.81\nNaive implementation (insertion sort)       : 132.98\nInsertion Sort (Daniel Stutzbach)           : 104.04\nInsertion Sort Unrolled                     : 99.64\nInsertion Sort Unrolled (Glenn Teitelbaum)  : 81.55\nRank Order                                  : 44.01\nRank Order with registers                   : 42.40\nSorting Networks (Daniel Stutzbach)         : 88.06\nSorting Networks (Paul R)                   : 31.64\nSorting Networks 12 with Fast Swap          : 29.68\nSorting Networks 12 reordered Swap          : 28.61\nReordered Sorting Network w/ fast swap      : 24.63\nTemplated Sorting Network (this class)      : 25.37\n</code></pre>\n\n<p>It performs as fast as the fastest example in the question for 6 elements. </p>\n\n<h3>Performance for sorting sorted data</h3>\n\n<p>Often, the input arrays may be already sorted or mostly sorted.<br>\nIn such cases, insertion sort can be better choice.</p>\n\n<p><a href=\"http://i.stack.imgur.com/yWouL.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/yWouL.png\" alt=\"enter image description here\"></a></p>\n\n<p>You may want to choose an appropriate sorting algorithm depending on the data.</p>\n\n<p>The code used for the benchmarks can be found <a href=\"https://github.com/webby1111/Static-Sort\" rel=\"nofollow\">here</a>.</p>\n", "title": "Fastest way to sort 10 numbers? (numbers are 32 bit)", "answer_id": 36209307, "question_id": 32172144, "tags": ["c++", "c", "algorithm", "sorting"]}, {"body": "<p>You can fully unroll <code>insertion sort</code></p>\n\n<p>To make that easier, recursive <code>template</code>s can be used with no function overhead.  Since it already is a <code>template</code>, <code>int</code> can be a <code>template</code> parameter as well.  This also makes coding array sizes other than 10 trivial to create.</p>\n\n<p>Note that to sort <code>int x[10]</code> the call is <code>insert_sort&lt;int, 9&gt;::sort(x);</code> since the class uses the index of the last item.   This could be wrapped, but that would be more code to read through. </p>\n\n<pre><code>template &lt;class T, int NUM&gt;\nclass insert_sort;\n\ntemplate &lt;class T&gt;\nclass insert_sort&lt;T,0&gt;\n// stop template recursion\n// sorting 1 item is a no-op\n{\npublic:\n    static void place(T *x) {}\n    static void sort(T * x) {}\n};\n\ntemplate &lt;class T, int NUM&gt;\nclass insert_sort\n// use template recursion to do insertion sort\n// NUM is the index of the last item, eg. for x[10] call &lt;9&gt;\n{\npublic:\n    static void place(T *x)\n    {\n        T t1=x[NUM-1];\n        T t2=x[NUM];\n        if (t1 &gt; t2)\n        {\n            x[NUM-1]=t2;\n            x[NUM]=t1;\n            insert_sort&lt;T,NUM-1&gt;::place(x);\n        }\n    }\n    static void sort(T * x)\n    {\n        insert_sort&lt;T,NUM-1&gt;::sort(x); // sort everything before\n        place(x);                    // put this item in\n    }\n};\n</code></pre>\n\n<p>In my testing this was faster than the sorting network examples.</p>\n", "title": "Fastest way to sort 10 numbers? (numbers are 32 bit)", "answer_id": 37425193, "question_id": 32172144, "tags": ["c++", "c", "algorithm", "sorting"]}, {"body": "<p>An insertion sort requires on average 29,6 comparisons to sort 10 inputs with a best case of 9 and a worst of 45 (given input that is in reverse order).</p>\n\n<p>A {9,6,1} shellsort will require on average 25.5 comparisons to sort 10 inputs. Best case is 14 comparisons, worst is 34 and sorting a reversed input requires 22.</p>\n\n<p>Since you seem to be familiar with insertion sort you can implement the algorithm as a sorting network for {9,6} and then tack on the insertion sort ({1}) after that:</p>\n\n<pre><code>i[0] with i[9]    // {9}\n\ni[0] with i[6]    // {6}\ni[1] with i[7]    // {6}\ni[2] with i[8]    // {6}\ni[3] with i[9]    // {6}\n\ni[0 ... 9]        // insertion sort\n</code></pre>\n", "title": "Fastest way to sort 10 numbers? (numbers are 32 bit)", "answer_id": 37950043, "question_id": 32172144, "tags": ["c++", "c", "algorithm", "sorting"]}], "question_id": 32172144}, {"body": "<p>I can see why the <code>auto</code> type in C++11 improves correctness and maintainability. I've read that it can also improve performance (<a href=\"http://herbsutter.com/2013/08/12/gotw-94-solution-aaa-style-almost-always-auto/\">Almost Always Auto</a> by Herb Sutter), but I miss a good explanation.</p>\n\n<ul>\n<li>How can <code>auto</code> improve performance?</li>\n<li>Can anyone give an example?</li>\n</ul>\n", "title": "Can the use of C++11&#39;s &#39;auto&#39; improve performance?", "tags": ["c++", "performance", "c++11", "auto"], "answer_count": 4, "link": "http://stackoverflow.com/questions/32510183/can-the-use-of-c11s-auto-improve-performance", "answers": [{"body": "<p>Because <code>auto</code> deduces the type of the initializing expression, there is no type conversion involved. Combined with templated algorithms, this means that you can get a more direct computation than if you were to make up a type yourself &ndash; especially when you are dealing with expressions whose type you cannot name! </p>\n\n<p>A typical example comes from (ab)using <code>std::function</code>:</p>\n\n<pre><code>std::function&lt;bool(T, T)&gt; cmp1 = std::bind(f, _2, 10, _1);  // bad\nauto cmp2 = std::bind(f, _2, 10, _1);                       // good\nauto cmp3 = [](T a, T b){ return f(b, 10, a); };            // also good\n\nstd::stable_partition(begin(x), end(x), cmp?);\n</code></pre>\n\n<p>With <code>cmp2</code> and <code>cmp3</code>, the entire algorithm can inline the comparison call, whereas if you construct a <code>std::function</code> object, not only can the call not be inlined, but you also have to go through the polymorphic lookup in the type-erased interior of the function wrapper.</p>\n\n<p>Another variant on this theme is that you can say:</p>\n\n<pre><code>auto &amp;&amp; f = MakeAThing();\n</code></pre>\n\n<p>This is always a reference, bound to the value of the function call expression, and never constructs any additional objects. If you didn't know the returned value's type, you might be forced to construct a new object (perhaps as a temporary) via something like <code>T &amp;&amp; f = MakeAThing()</code>. (Moreover, <code>auto &amp;&amp;</code> even works when the return type is not movable and the return value is a prvalue.)</p>\n", "title": "Can the use of C++11&#39;s &#39;auto&#39; improve performance?", "answer_id": 32510293, "question_id": 32510183, "tags": ["c++", "performance", "c++11", "auto"]}, {"body": "<p><code>auto</code> can aid performance by <strong>avoiding silent implicit conversions</strong>. An example I find compelling is the following. </p>\n\n<pre><code>std::map&lt;Key, Val&gt; m;\n// ...\n\nfor (std::pair&lt;Key, Val&gt; const&amp; item : m) {\n    // do stuff\n}\n</code></pre>\n\n<p>See the bug? Here we are, thinking we're elegantly taking every item in the map by const reference and using the new range-for expression to make our intent clear, but actually we're copying <strong>every</strong> element. This is because <code>std::map&lt;Key, Val&gt;::value_type</code> is <code>std::pair&lt;const Key, Val&gt;</code>, not <code>std::pair&lt;Key, Val&gt;</code>. Thus, when we (implicitly) have:</p>\n\n<pre><code>std::pair&lt;Key, Val&gt; const&amp; item = *iter;\n</code></pre>\n\n<p>Instead of taking a reference to an existing object and leaving it at that, we have to do a type conversion. You are allowed to take a const reference to an object (or temporary) of a different type as long as there is an implicit conversion available, e.g.:</p>\n\n<pre><code>int const&amp; i = 2.0; // perfectly OK\n</code></pre>\n\n<p>The type conversion is an allowed implicit conversion for the same reason you can convert a <code>const Key</code> to a <code>Key</code>, but we have to construct a temporary of the new type in order to allow for that. Thus, effectively our loop does:</p>\n\n<pre><code>std::pair&lt;Key, Val&gt; __tmp = *iter;       // construct a temporary of the correct type\nstd::pair&lt;Key, Val&gt; const&amp; item = __tmp; // then, take a reference to it\n</code></pre>\n\n<p>(Of course, there isn't actually a <code>__tmp</code> object, it's just there for illustration, in reality the unnamed temporary is just bound to <code>item</code> for its lifetime). </p>\n\n<p>Just changing to:</p>\n\n<pre><code>for (auto const&amp; item : m) {\n    // do stuff\n}\n</code></pre>\n\n<p>just saved us a ton of copies - now the referenced type matches the initializer type, so no temporary or conversion is necessary, we can just do a direct reference. </p>\n", "title": "Can the use of C++11&#39;s &#39;auto&#39; improve performance?", "answer_id": 32510343, "question_id": 32510183, "tags": ["c++", "performance", "c++11", "auto"]}, {"body": "<p>There are two categories.</p>\n\n<p><code>auto</code> can avoid type erasure.  There are unnamable types (like lambdas), and almost unnamable types (like the result of <code>std::bind</code> or other expression-template like things).</p>\n\n<p>Without <code>auto</code>, you end up having to type erase the data down to something like <code>std::function</code>.  Type erasure has costs.</p>\n\n<pre><code>std::function&lt;void()&gt; task1 = []{std::cout &lt;&lt; \"hello\";};\nauto task2 = []{std::cout &lt;&lt; \" world\\n\";};\n</code></pre>\n\n<p><code>task1</code> has type erasure overhead -- a possible heap allocation, difficulty inlining it, and virtual function table invocation overhead.  <code>task2</code> has none.  Lambdas <em>need</em> auto or other forms of type deduction to store without type erasure; other types can be so complex that they only need it in practice.</p>\n\n<p>Second, you can get types wrong.  In some cases, the wrong type will work seemingly perfectly, but will cause a copy.</p>\n\n<pre><code>Foo const&amp; f = expression();\n</code></pre>\n\n<p>will compile if <code>expression()</code> returns <code>Bar const&amp;</code> or <code>Bar</code> or even <code>Bar&amp;</code>, where <code>Foo</code> can be constructed from <code>Bar</code>.  A temporary <code>Foo</code> will be created, then bound to <code>f</code>, and its lifetime will be extended until <code>f</code> goes away.</p>\n\n<p>The programmer may have meant <code>Bar const&amp; f</code> and not intended to make a copy there, but a copy is made regardless.</p>\n\n<p>The most common example is the type of <code>*std::map&lt;A,B&gt;::const_iterator</code>, which is <code>std::pair&lt;A const, B&gt; const&amp;</code> not <code>std::pair&lt;A,B&gt; const&amp;</code>, but the error is a category of errors that silently cost performance.  You can construct a <code>std::pair&lt;A, B&gt;</code> from a <code>std::pair&lt;const A, B&gt;</code>.  (The key on a map is const, because editing it is a bad idea)</p>\n\n<p>Both @Barry and @KerrekSB first illustrated these two principles in their answers.  This is simply an attempt to highlight the two issues in one answer, with wording that aims at the problem rather than being example-centric.</p>\n", "title": "Can the use of C++11&#39;s &#39;auto&#39; improve performance?", "answer_id": 32511016, "question_id": 32510183, "tags": ["c++", "performance", "c++11", "auto"]}, {"body": "<p>The existing three answers give examples where using <code>auto</code> helps <a href=\"http://stackoverflow.com/questions/32510183/can-the-use-of-c11s-auto-improve-performance#comment52879624_32510183\">\u201cmakes it less likely to unintentionally pessimize\u201d</a> effectively making it \"improve performance\".</p>\n\n<p>There is a flip side to the the coin. Using <code>auto</code> with objects that have operators that don't return the basic object can result in incorrect (still compilable and runable) code. For example, <a href=\"http://stackoverflow.com/questions/31099246/wrong-results-using-auto-with-eigen\">this question</a> asks how using <code>auto</code> gave different (incorrect) results using the Eigen library, <em>i.e.</em> the following lines </p>\n\n<pre><code>const auto    resAuto    = Ha + Vector3(0.,0.,j * 2.567);\nconst Vector3 resVector3 = Ha + Vector3(0.,0.,j * 2.567);\n\nstd::cout &lt;&lt; \"resAuto = \" &lt;&lt; resAuto &lt;&lt;std::endl;\nstd::cout &lt;&lt; \"resVector3 = \" &lt;&lt; resVector3 &lt;&lt;std::endl;\n</code></pre>\n\n<p>resulted in different output. Admittedly, this is mostly due to Eigens lazy evaluation, but that code is/should be transparent to the (library) user.</p>\n\n<p>While performance hasn't been greatly affected here, using <code>auto</code> to avoid unintentional pessimization might be classified as premature optimization, or at least wrong ;).</p>\n", "title": "Can the use of C++11&#39;s &#39;auto&#39; improve performance?", "answer_id": 32758566, "question_id": 32510183, "tags": ["c++", "performance", "c++11", "auto"]}], "question_id": 32510183}, {"body": "<p>I am facing the Problem when I have updated my Xcode to 7.0 or iOS 9.0.\nSomehow it started giving me the Titled error</p>\n\n<blockquote>\n  <p>\"The resource could not be loaded because the App Transport Security\n  policy requires the use of a secure connection\"</p>\n</blockquote>\n\n<p>Webservice Method:</p>\n\n<pre><code>-(void)ServiceCall:(NSString*)ServiceName :(NSString *)DataString\n{\nNSURLSessionConfiguration *sessionConfiguration = [NSURLSessionConfiguration defaultSessionConfiguration];\n    [sessionConfiguration setAllowsCellularAccess:YES];\n    [sessionConfiguration setHTTPAdditionalHeaders:@{ @\"Accept\" : @\"application/json\" }];\n    NSURLSession *session = [NSURLSession sessionWithConfiguration:sessionConfiguration];\n\n    NSURL *url = [NSURL URLWithString:[NSString stringWithFormat:@\"%@\",ServiceURL]];\n    NSLog(@\"URl %@%@\",url,DataString);\n    // Configure the Request\n    NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:url];\n    [request setValue:[NSString stringWithFormat:@\"%@=%@\", strSessName, strSessVal] forHTTPHeaderField:@\"Cookie\"];\n    request.HTTPBody = [DataString dataUsingEncoding:NSUTF8StringEncoding];\n    request.HTTPMethod = @\"Post\";\n\n    // post the request and handle response\n    NSURLSessionDataTask *postDataTask = [session dataTaskWithRequest:request completionHandler:^(NSData *data, NSURLResponse *response, NSError *error)\n                                          {\n                                              // Handle the Response\n                                              if(error)\n                                              {\n                                                  NSLog(@\"%@\",[NSString stringWithFormat:@\"Connection failed: %@\", [error description]]);\n\n                                                  // Update the View\n                                                  dispatch_async(dispatch_get_main_queue(), ^{\n\n                                                      // Hide the Loader\n                                                      [MBProgressHUD hideHUDForView:[[UIApplication sharedApplication] delegate].window animated:YES];\n\n\n                                                  });\n                                                  return;\n                                              }\n                                              NSArray * cookies = [[NSHTTPCookieStorage sharedHTTPCookieStorage] cookiesForURL:request.URL];\n                                              for (NSHTTPCookie * cookie in cookies)\n                                              {\n                                                  NSLog(@\"%@=%@\", cookie.name, cookie.value);\n                                                  strSessName=cookie.name;\n                                                  strSessVal=cookie.value;\n\n                                              }\n\n                                              NSString *retVal = [[NSString alloc] initWithData:data encoding:NSUTF8StringEncoding];\n}];\n[postDataTask resume];\n\n}\n</code></pre>\n\n<p>The service is Running fine for Xcode earlier versions and iOS previous versions But when I have updated to Xcode 7.0 that is on iOS 9.0, it started to give me the Problem like following when I am calling the above web service method. The Logged Error which I am getting is:</p>\n\n<blockquote>\n  <p>Connection failed: Error Domain=NSURLErrorDomain Code=-1022 \"The\n  resource could not be loaded because the App Transport Security policy\n  requires the use of a secure connection.\"\n  UserInfo={NSUnderlyingError=0x7fada0f31880 {Error\n  Domain=kCFErrorDomainCFNetwork Code=-1022 \"(null)\"},\n  NSErrorFailingURLStringKey=<strong>MyServiceURL</strong>,\n  NSErrorFailingURLKey=<strong>MyServiceURL</strong>,\n  NSLocalizedDescription=The resource could not be loaded because the\n  App Transport Security policy requires the use of a secure\n  connection.}</p>\n</blockquote>\n\n<p>I have tried Following Questions and answers but did not get any result there, is there any advance idea how I can remove that service call error?</p>\n\n<ol>\n<li><a href=\"http://stackoverflow.com/questions/32069393/the-resource-could-not-be-loaded-is-ios9\">The resource could not be loaded is ios9</a></li>\n<li><a href=\"http://stackoverflow.com/q/32427300\">App Transport Security Xcode 7 beta 6</a></li>\n<li><a href=\"http://stackoverflow.com/a/32609970\">http://stackoverflow.com/a/32609970</a></li>\n</ol>\n", "title": "The resource could not be loaded because the App Transport Security policy requires the use of a secure connection", "tags": ["ios", "nsurlconnection", "nsurlsession", "ios9", "xcode7"], "answer_count": 10, "link": "http://stackoverflow.com/questions/32631184/the-resource-could-not-be-loaded-because-the-app-transport-security-policy-requi", "answers": [{"body": "<p>I have solved it with adding some key in info.plist.\nThe steps I followed are:</p>\n\n<ol>\n<li><p>Opened my Projects <code>info.plist</code> file</p></li>\n<li><p>Added a Key called <code>NSAppTransportSecurity</code> as a <code>Dictionary</code>.</p></li>\n<li>Added a Subkey called <code>NSAllowsArbitraryLoads</code> as <code>Boolean</code> and set its value to <code>YES</code> as like following image.</li>\n</ol>\n\n<p><a href=\"http://i.stack.imgur.com/SZi2V.png\"><img src=\"http://i.stack.imgur.com/SZi2V.png\" alt=\"enter image description here\"></a></p>\n\n<p>Clean the Project and Now Everything is Running fine as like before.</p>\n\n<p>Ref Link: <a href=\"http://stackoverflow.com/a/32609970\">http://stackoverflow.com/a/32609970</a></p>\n\n<p><strong>EDIT:</strong>\nOR In source code of <code>info.plist</code> file we can add that:</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n    &lt;dict&gt;\n        &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n        &lt;true/&gt;\n        &lt;key&gt;NSExceptionDomains&lt;/key&gt;\n        &lt;dict&gt;\n            &lt;key&gt;yourdomain.com&lt;/key&gt;\n            &lt;dict&gt;\n                &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;\n                &lt;true/&gt;\n                &lt;key&gt;NSThirdPartyExceptionRequiresForwardSecrecy&lt;/key&gt;\n                &lt;false/&gt;\n            &lt;/dict&gt;\n       &lt;/dict&gt;\n  &lt;/dict&gt;\n</code></pre>\n", "title": "The resource could not be loaded because the App Transport Security policy requires the use of a secure connection", "answer_id": 32631185, "question_id": 32631184, "tags": ["ios", "nsurlconnection", "nsurlsession", "ios9", "xcode7"]}, {"body": "<p>You just need to use HTTPS and not HTTP in your URL and it will work</p>\n", "title": "The resource could not be loaded because the App Transport Security policy requires the use of a secure connection", "answer_id": 32722368, "question_id": 32631184, "tags": ["ios", "nsurlconnection", "nsurlsession", "ios9", "xcode7"]}, {"body": "<p>iOS 9 (may) force developers to use <strong>App Transport Security</strong> exclusively. I overheard this somewhere randomly so I don't know whether this is true myself. But I suspect it and have come to this conclusion:</p>\n\n<p><strong>The app running on iOS 9 will (maybe) no longer connect to a Meteor server without SSL.</strong></p>\n\n<p>This means running meteor run ios or meteor run ios-device will (probably?) no longer work.</p>\n\n<p>In the app's info.plist, <code>NSAppTransportSecurity [Dictionary]</code> needs to have a key <code>NSAllowsArbitraryLoads [Boolean]</code> to be set to <code>YES</code> or Meteor needs to use <code>https</code> for its <code>localhost server</code> soon.</p>\n", "title": "The resource could not be loaded because the App Transport Security policy requires the use of a secure connection", "answer_id": 32781991, "question_id": 32631184, "tags": ["ios", "nsurlconnection", "nsurlsession", "ios9", "xcode7"]}, {"body": "<p><strong>Transport security</strong> is provided in iOS 9.0 or later, and in OS X v10.11 and later.</p>\n\n<p>So by default only <strong>https</strong> calls only allowed in apps. To turn off App Transport Security add following lines in <strong>info.plist</strong> file...</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n  &lt;dict&gt;\n    &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n    &lt;true/&gt;\n  &lt;/dict&gt;\n</code></pre>\n\n<p>For more info:<br>\n<a href=\"https://developer.apple.com/library/prerelease/ios/technotes/App-Transport-Security-Technote/\">https://developer.apple.com/library/prerelease/ios/technotes/App-Transport-Security-Technote/</a></p>\n", "title": "The resource could not be loaded because the App Transport Security policy requires the use of a secure connection", "answer_id": 32884503, "question_id": 32631184, "tags": ["ios", "nsurlconnection", "nsurlsession", "ios9", "xcode7"]}, {"body": "<p>I have solved as plist file.</p>\n\n<p>Add a NSAppTransportSecurity : Dictionary.</p>\n\n<p>Add Subkey named \" NSAllowsArbitraryLoads \" as Boolean : YES</p>\n\n<p><a href=\"http://i.stack.imgur.com/5nyhc.png\"><img src=\"http://i.stack.imgur.com/5nyhc.png\" alt=\"enter image description here\"></a></p>\n", "title": "The resource could not be loaded because the App Transport Security policy requires the use of a secure connection", "answer_id": 33007791, "question_id": 32631184, "tags": ["ios", "nsurlconnection", "nsurlsession", "ios9", "xcode7"]}, {"body": "<p>Be aware, using <code>NSAllowsArbitraryLoads = true</code> allows all connection to any server to be insecure. If you want to make sure only a <strong>specific domain</strong> is accessible through an insecure connection, try this:</p>\n\n<p><a href=\"http://i.stack.imgur.com/FK1ko.png\"><img src=\"http://i.stack.imgur.com/FK1ko.png\" alt=\"enter image description here\"></a></p>\n\n<p>Or, as source code:</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;NSExceptionDomains&lt;/key&gt;\n    &lt;dict&gt;\n        &lt;key&gt;domain.com&lt;/key&gt;\n        &lt;dict&gt;\n            &lt;key&gt;NSExceptionAllowsInsecureHTTPLoads&lt;/key&gt;\n            &lt;true/&gt;\n            &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;\n            &lt;true/&gt;\n        &lt;/dict&gt;\n    &lt;/dict&gt;\n&lt;/dict&gt;\n</code></pre>\n", "title": "The resource could not be loaded because the App Transport Security policy requires the use of a secure connection", "answer_id": 33306373, "question_id": 32631184, "tags": ["ios", "nsurlconnection", "nsurlsession", "ios9", "xcode7"]}, {"body": "<p>In Xcode 7.1 onwards(swift 2.0)</p>\n\n<p><a href=\"http://i.stack.imgur.com/SOdBf.png\"><img src=\"http://i.stack.imgur.com/SOdBf.png\" alt=\"enter image description here\"></a></p>\n", "title": "The resource could not be loaded because the App Transport Security policy requires the use of a secure connection", "answer_id": 33777121, "question_id": 32631184, "tags": ["ios", "nsurlconnection", "nsurlsession", "ios9", "xcode7"]}, {"body": "<p>i have same issue with ios9 and swift 2.0 and i have added following details to 'info.plist'</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n    &lt;true/&gt;\n&lt;/dict&gt;\n</code></pre>\n", "title": "The resource could not be loaded because the App Transport Security policy requires the use of a secure connection", "answer_id": 34202468, "question_id": 32631184, "tags": ["ios", "nsurlconnection", "nsurlsession", "ios9", "xcode7"]}, {"body": "<p>I managed to solve this with a combination of many of the mentioned options. I\u2019ll include a checklist of all of the things I had to do to get this to work.</p>\n\n<p>In short:</p>\n\n<ol>\n<li>Set <code>NSAllowsArbitraryLoads</code> to true for my watch extension (not my watch app).</li>\n<li>Ensure I was using <code>https</code> and not <code>http</code>.</li>\n</ol>\n\n<hr>\n\n<p><strong>Step one:</strong></p>\n\n<p>Firstly and most obviously I had to add an <code>NSAppTransportSecurity</code> key as a dictionary in my watch extension\u2019s <code>info.plist</code> with a subkey called <code>NSAllowsArbitraryLoads</code> as a boolean set to true. <em>Only</em> set this in the watch extension and not the watch app\u2019s plist. Although take note that this allows all connections and could be insecure.</p>\n\n<p><a href=\"http://i.stack.imgur.com/qar6q.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/qar6q.png\" alt=\"enter image description here\"></a></p>\n\n<p>or</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n    &lt;true/&gt;\n&lt;/dict&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>Step two:</strong></p>\n\n<p>Then I had to make sure that the url I was trying to load was <code>https</code> and not just <code>http</code>. For any urls that were still http I used:</p>\n\n<p><strong>Swift</strong>:</p>\n\n<p><code>let newURLString = oldURLString.stringByReplacingOccurrencesOfString(\"http\", withString: \"https\")</code></p>\n\n<p><strong>Obj-C:</strong></p>\n\n<p><code>NSString *newURLString = [oldURLString stringByReplacingOccurrencesOfString:@\u201chttp\u201d withString:@\u201chttps\u201d];</code></p>\n", "title": "The resource could not be loaded because the App Transport Security policy requires the use of a secure connection", "answer_id": 36013641, "question_id": 32631184, "tags": ["ios", "nsurlconnection", "nsurlsession", "ios9", "xcode7"]}, {"body": "<p>I have solved this issue in the case of a self hosted parse-server using a one year signed certificate rather than the option \"NSAllowsArbitraryLoads\" </p>\n\n<p>Parse Server as any node.js server presents a <strong>public https url</strong> that you have to specify. For instance:</p>\n\n<p>parse-server --appId  --masterKey  --publicServerURL <a href=\"https://your.public.url/some_nodejs\" rel=\"nofollow\">https://your.public.url/some_nodejs</a></p>\n\n<p>Feel free to give a look to my <a href=\"https://github.com/ParsePlatform/parse-dashboard/issues/64\" rel=\"nofollow\">configuration files</a></p>\n", "title": "The resource could not be loaded because the App Transport Security policy requires the use of a secure connection", "answer_id": 36584952, "question_id": 32631184, "tags": ["ios", "nsurlconnection", "nsurlsession", "ios9", "xcode7"]}], "question_id": 32631184}, {"body": "<p>I used Xcode 6.1.1 to upload a new version of a prerelease app to iTunes Connect so I could distribute it to my external beta testers. I've done this with two versions of the same app previously and it worked fine.</p>\n\n<p>But this time, the upload was stuck in \"Processing\" state for over a week. I tried again (same version, new build number) and it's now been over 24 hours with no change.</p>\n\n<p>The app passed validation fine.</p>\n\n<p>What gives?</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "tags": ["ios", "xcode6", "itunesconnect", "testflight"], "answer_count": 28, "link": "http://stackoverflow.com/questions/27928471/my-prerelease-app-has-been-processing-for-over-a-week-in-itunes-connect-what", "answers": [{"body": "<p>Go to \"Resources &amp; Help\" in iTunes Connect. Select \"Contact Us\" and follow the wizard. I don't think anyone other than Apple can answer this. And this is what we have done in a similar situation in the past.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 27928539, "question_id": 27928471, "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>We had a similar issue. Uploaded builds were queueing up and it simply said \"Processing\" with the popup help, \u201cAfter builds are uploaded they will go through a processing state before they can be used.\u201d Days passed.</p>\n\n<p>Selecting \"Internal Testers,\" making a change, and saving seemed to immediately clear the queue: The latest build was now active and available for testing. I've done this twice with two different apps now.</p>\n\n<p><strong>Update:</strong> At this point, all bets are off. It seems \"processing\" happens when Apple quietly upgrades iTunes Connect and there's nothing you can do about it.</p>\n\n<p>On September 23, 2015 iTunes Connect didn't accept any uploads for nearly 24 hours. The \"Internal Testers\" trick didn't work. <strong>Eventually bumping the version number (to avoid \"duplicate binary\" error) and re-submitting worked.</strong> </p>\n\n<p>The next day, Surprise! iTunes Connect was completely changed. I guess we were all looking at a dead site while they brought up the new version in the background :(</p>\n\n<p>In our case we can still see dozens of \"failed\" uploads still sitting in the \"processing\" state. Oh well.</p>\n\n<p>Some people report using <a href=\"https://itunesconnect.apple.com/apploader/ApplicationLoader_3.1.dmg\" rel=\"nofollow\">Application Loader</a> works better than Xcode for submitting builds to iTunes Connect. You can find it inside Xcode now, under the Xcode menu \"Open Developer Tool\" item.</p>\n\n<p>Sometimes this works. Sometimes it doesn't. Your milage may vary \u00af\\_(\u30c4)_/\u00af </p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 29013502, "question_id": 27928471, "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>I had the same issue. I tried making changes to \"Internal Testers.\" No effect. I uploaded a new build using the Application Loader. Once the upload completed, the previous build changed from \"Processing\" to being available.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 31166629, "question_id": 27928471, "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>I tried changing the Internal Testers option, tried changing other items on the app details page, and tried uploading several new binaries (with the same code, only changing the build number) over a 2-day period to no effect. I also contacted Apple through the iTunes Connect support link; they replied in less than 24 hours, but only to ask for more info (most of which I had already provided).</p>\n\n<p>Finally, the fifth build I uploaded, two days later, went through in the normal few minutes and I was finally able to submit my app for review.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 31522092, "question_id": 27928471, "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>The reason for that is that your build is missing something that apple servers is unable to determine.</p>\n\n<p>to solve this, make sure you have included all possible configuration needed for your app, and make sure you have added at least one of the launch images for every possible resolution, that was my case, I add an launch image for every device and did works.</p>\n\n<p>so, carefully check if you project is missing one of those settings or an image, and try.\nthanks</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 31574175, "question_id": 27928471, "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>I have been having this same problem for a few days and many uploads, seemed to work when I logged out of apple developer portal on my PC (which I use instead of my Mac to view the portal) upload the new version via my Mac and log into the developer portal on the Mac I was using to upload the ipa, seemed to work straight away after that, guess apple just really hates Windows or being logged in from a different computer is a problem.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 31584029, "question_id": 27928471, "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>The solution (as suggested by Apple Support in their response to a request for assistance) is to upload a new binary. I did this via XCode (same revision 1.4, but incremented the Build number from 1 to 2) and it processed almost immediately.</p>\n\n<p>If you get stuck in \"Processing\" purgatory, increment the Build number in XCode, Archive and Submit to the App Store again. If it doesn't process within 15 minutes, try again.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 31867981, "question_id": 27928471, "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>Had the same problem using XCode 7 betta-5. Fixed by unchecking \"Include bitcode\" checkbox during archive uploading:</p>\n\n<p><a href=\"http://i.stack.imgur.com/z7HVm.png\"><img src=\"http://i.stack.imgur.com/z7HVm.png\" alt=\"enter image description here\"></a></p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 32166626, "question_id": 27928471, "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>I was facing this issue. It solved when I logged in into iTunes Connect in Chrome browser than Safari. My app was in processed state already.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 32623432, "question_id": 27928471, "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>Cocoapods (<code>0.39.0.beta.4</code>) was the issue for me so I moved to Carthage.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 32640427, "question_id": 27928471, "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>I also had this issue - However it was for a completely different reason then any I have seen online. I realized that my app did not have the proper iOS Provisioning profile associated for app store release. I simply changed the build number, validated and resubmitted. Within 15 minutes, the new version was ready to be added as a current build. The previous two versions I tried to upload are both still processing.</p>\n\n<p>I am not sure why Apple does not tell you that there is an incorrect provisioning profile for the build to be uploaded, but this was my cure!</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 32706448, "question_id": 27928471, "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>I had a similar issue.</p>\n\n<p>Yesterday, I submitted an app build (1.03) using Xcode, it was around 6 PM and this morning it was still \"Processing\", in fact it is still \"Processing\".</p>\n\n<p>This morning around 10:30 AM I submitted a second build (1.04) using Xcode but that one also took too much time to change its status, so I submitted a third build (1.05) using Application Loader around noon, application loader gave me a warning about the app being too large to validate its API usage (the build is around 12.5 MB), it was just a warning so I submitted it and I'm still waiting to for it to change status (2:16 PM).</p>\n\n<p>Of course, each time I bumped up the Build number. All the builds had Enable Bitcode set to NO.</p>\n\n<p><strong>UPDATE (1:52 PM):</strong></p>\n\n<p>The second build (1.0.4) just became available for TestFlight.</p>\n\n<p><strong>UPDATE (4:43 PM):</strong></p>\n\n<p>The third build (1.0.5), the one submitted with Application Loader just became available for TestFlight.</p>\n\n<p>My conclusion is that their servers are slower than before... maybe the volume of apps that are being processed has increased and the load of their systems is higher because there are new things to check for (bitcode, watch os stuff, etc).</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 32723581, "question_id": 27928471, "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>Uploading the build with the Application Loader did the trick for me. If your current build is stuck in Processing, just create a new one with an incremented build number, and submit it via the Application Loader.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 32740614, "question_id": 27928471, "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>There is another question which duplicates this one. I posted an answer how I solved this problem. Maybe it helps someone else too:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/32745568/anyone-elses-build-for-itunes-connect-taking-longer-times-to-process/32746175#32746175\">Anyone else&#39;s build for iTunes Connect taking longer times to process?</a></p>\n\n<p>In a nutshell: Build and upload with XCode 6.4 instead of XCode 7.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 32746467, "question_id": 27928471, "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>I ran into this issue yesterday. I submitted multiple builds with a variety of different settings. What finally worked for me was <strong>submitting through Application Loader with no bitcode</strong>.</p>\n\n<p>I hope this helps someone avoid the headache I went through. Its been 24 hours and the apps submitted through Xcode are all still \"processing\", the one submitted through Application Loader was available within an hour or so.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 32751933, "question_id": 27928471, "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>If you run into this issue now, it's an Apple issue. They are releasing a new version of iTunesConnect. A bunch of my builds had been getting stuck in Processing these past few days. Today, they were getting stuck on Uploaded. Multiple phone calls and different answers later, the new site was <em>just</em> released and my builds are showing as Processing or available for submission. Though, they all have a yellow warning icon next to them. Not sure what that is.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 32769980, "question_id": 27928471, "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>I faced same issue, I uploaded ipa via Xcode7 and it get stuck for 48hrs.\nNumber of times I mail to apple support but it won't work\nso I uploaded ipa multiple times, but no use\nthen I made change in version number e.g. 2.2(33) to 2.3(1)\nand it works for me. So try at your side may be this will help you.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 32787759, "question_id": 27928471, "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>OSX: Disabling include app symbols to symbolicate crash report did the trick for me. I will store the dsym and symbolicate manually rather then waiting for them to solve their \"NEW\" itunesconnect release.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 32874594, "question_id": 27928471, "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>Actually it is the issue related to the app store. I have upload many build some time it takes time depend upon the size of the ipa and at which time you are uploading it to the App Store. Please use <a href=\"https://itunespartner.apple.com/en/apps/tools\" rel=\"nofollow\" title=\"Application Loader 3.0\">Application Loader 3.0</a> or higher to upload the build.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 32962699, "question_id": 27928471, "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>I submitted a new version of my app via Xcode 7.1 successfully. Then noticed the build was stuck in \"Processing\" longer than usual.</p>\n\n<p>I followed Scotch's suggestion by increasing the build number, while keeping the same version, and submitted again from Xcode. This time the new build became available for testing within 5 minutes.</p>\n\n<p>I was then able to select that build and clicked on Start testing. My internal testers received the notification emails and were able to test the new version via the Testflight app.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 33413751, "question_id": 27928471, "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>Solution is Wait for some hours Approximately 24 Hours. Your issue will be fixed at once.\nApple is having bad times now a days. I hope they will soon fix everything</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 33530851, "question_id": 27928471, "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>I know its a bit late for answer but this is the first link appearing in google, and none of the above solutions were working for me. </p>\n\n<p>I was having the same problem i.e after uploading build from application loader it stuck in processing. This happened many times, after hours of head banging I found that as soon as I close the application loader on my Mac, build status was changed :)</p>\n\n<p>I hope this answer will help many.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 33795584, "question_id": 27928471, "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>I have a theory on this bug, which happened to me a few times as well.</p>\n\n<p>What I think happens: if you are logged into iTunesConnect, then the web page will query the database for available builds. This querying could possibly interfere with the creation of new builds.</p>\n\n<p>What I did was:\nLog off from iTunesConnect on all your web browsers.\nIncrease the build nr in Xcode, make an Archive, and upload it.</p>\n\n<p>Then: resist the temptations to log into iTunesConnect to check on the status. Wait at least an hr before logging on.</p>\n\n<p>When I did finally log on to iTunesConnect, I found my binaries sitting there, and waiting for me.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 34168299, "question_id": 27928471, "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>I had the same problem with one of my apps, which is how I ended up finding this.  In my case, I uploaded two of my apps at the same time, using Xcode 7.1.  One of the apps passed through processing within an hour.  The other one was still in processing almost 24 hours later.  To get past this issue, I created a new archive with an incremented build number, and uploaded it using the application loader.  I did not turn off bitcode.  The version that I uploaded using the application loader took less than 20 minutes to get through processing, and I've been able to submit my app for review.  The version I submitted prior to this is still stuck in processing.</p>\n\n<p>At least in the case of my app, using application loader appears to have solved the issue.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 34568880, "question_id": 27928471, "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>I got this message from App Store Developer Support (2016-01-02):</p>\n\n<blockquote>\n  <p>Be aware that it can take up to 24 hours for a build to fully process\n  through our system and become available for use. If a build does not\n  finish processing in 24 hours, this can typically be resolved by\n  submitting the build again with a higher build number.</p>\n</blockquote>\n\n<p>Not much of an answer (nothing about why it takes so long time), but it's the answer Apple is giving us.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 34571939, "question_id": 27928471, "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>I'm using xcode, my app usually took 1 - 2 minutes to be processed but today I waited for 15 minutes. What I did was increase the build, keep the version same and archive it again. And it went thru within 2 minutes while the previous build still stuck after an hour. </p>\n\n<p>My advise is don't wait for Apple, just increase build and upload again. Apple is too noble to admit their system has bug or mistake. Time is money.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 36613125, "question_id": 27928471, "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>I'm loathe to add another answer to this already overcrowded question, but it might be of use to someone.</p>\n\n<p>I found that if a \"release\" already had a build assigned when I uploaded a new one, clearing the existing build and attempting to select the new one always showed it as \"processing\".</p>\n\n<p>However, if I removed the old build and saved then refreshed the page, the new build could be selected.</p>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 38872332, "question_id": 27928471, "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}, {"body": "<p>Same issue for me...\nUpload app archives from Xcode (7.3.1). Connect to iTunesCo with both Chrome and Safari...</p>\n\n<ul>\n<li>20 august: v0.1.3 | b0.0.1 -> upload done -> never appeared on iTunesCo</li>\n<li>23 august: v0.1.4 | b0.0.1 -> upload done -> processing on iTunesCo</li>\n<li>23 august: v0.1.4 | b0.0.2 -> upload done -> processing on iTunesCo</li>\n<li>23 august: v0.1.4 | b0.0.3 -> upload done -> never appeared on iTunesCo</li>\n<li>24 august: v0.1.5 | b0.0.1 -> upload done -> <strong>available 5min later</strong></li>\n</ul>\n\n<p>The way it works has no logic... So I agree with @teapen:</p>\n\n<blockquote>\n  <p>...don't wait for Apple, just increase build and upload again...</p>\n</blockquote>\n", "title": "My prerelease app has been &quot;processing&quot; for over a week in iTunes Connect, what gives?", "answer_id": 39125666, "question_id": 27928471, "tags": ["ios", "xcode6", "itunesconnect", "testflight"]}], "question_id": 27928471}, {"body": "<p>I'm trying to submit my universal iOS 9 app to Apple (built with Xcode 7 GM) but I receive this error message for the bundle in iTunes Connect, just when I select <em>Submit for Review</em>:</p>\n\n<blockquote>\n  <p>Invalid Bundle. iPad Multitasking support requires these orientations: 'UIInterfaceOrientationPortrait,UIInterfaceOrientationPortraitUpsideDown,UIInterfaceOrientationLandscapeLeft,UIInterfaceOrientationLandscapeRight'. Found 'UIInterfaceOrientationPortrait,UIInterfaceOrientationPortraitUpsideDown' in bundle 'com.bitscoffee.PhotoMarks.iOS'.</p>\n</blockquote>\n\n<p>My app has support for Portrait and PortraitUpsideDown orientations but not for the other two. </p>\n\n<p>So is there a work around this imposed requirement, or all iOS 9 iPad apps have to have all four orientations?</p>\n", "title": "iPad Multitasking support requires these orientations", "tags": ["ios", "objective-c", "iphone", "xcode", "ipad"], "answer_count": 7, "link": "http://stackoverflow.com/questions/32559724/ipad-multitasking-support-requires-these-orientations", "answers": [{"body": "<p>iPad Multitasking support requires all the orientations but your app does not, so you need to opt out of it, just add the <code>UIRequiresFullScreen</code> key to your Xcode project\u2019s <code>Info.plist</code> file and apply the Boolean value <code>YES</code>.</p>\n", "title": "iPad Multitasking support requires these orientations", "answer_id": 32560406, "question_id": 32559724, "tags": ["ios", "objective-c", "iphone", "xcode", "ipad"]}, {"body": "<p>as Michael said,</p>\n\n<p>Check the \"Requires full screen\" of the target of xcodeproj, if you don't need to support multitasking.</p>\n\n<p>or Check the following device orientations</p>\n\n<ul>\n<li>Portrait</li>\n<li>Upside Down</li>\n<li>Landscape Left</li>\n<li>Landscape Right</li>\n</ul>\n\n<p>In this case, we need to support launch storyboard.</p>\n", "title": "iPad Multitasking support requires these orientations", "answer_id": 32562161, "question_id": 32559724, "tags": ["ios", "objective-c", "iphone", "xcode", "ipad"]}, {"body": "<p>In Xcode, check the \"Requires Full Screen\" checkbox under General > Targets, as shown below.</p>\n\n<p><a href=\"http://i.stack.imgur.com/yHwRI.jpg\"><img src=\"http://i.stack.imgur.com/yHwRI.jpg\" alt=\"enter image description here\"></a></p>\n", "title": "iPad Multitasking support requires these orientations", "answer_id": 32728607, "question_id": 32559724, "tags": ["ios", "objective-c", "iphone", "xcode", "ipad"]}, {"body": "<p>I am using Xamarin and there is no available option in the UI to specify \"Requires full screen\". I therefore had to follow @Michael Wang's answer with a slight modification. Here goes:</p>\n\n<p>Open the info.plist file in a text editor and add the lines: </p>\n\n<pre><code>    &lt;key&gt;UIRequiresFullScreen&lt;/key&gt;\n    &lt;true/&gt;\n</code></pre>\n\n<p>I tried setting the value to \"YES\" but it didn't work, which was kind of expected.</p>\n\n<p>In case you are wondering I placed the above lines below the UISupportedInterfaceOrientations section</p>\n\n<pre><code> &lt;key&gt;UISupportedInterfaceOrientations~ipad&lt;/key&gt;\n    &lt;array&gt;\n        &lt;string&gt;UIInterfaceOrientationPortrait&lt;/string&gt;\n        &lt;string&gt;UIInterfaceOrientationPortraitUpsideDown&lt;/string&gt;\n    &lt;/array&gt;\n</code></pre>\n\n<p>Hope this helps someone. Credit to Michael.</p>\n", "title": "iPad Multitasking support requires these orientations", "answer_id": 32941136, "question_id": 32559724, "tags": ["ios", "objective-c", "iphone", "xcode", "ipad"]}, {"body": "<p>Go to your project target in Xcode > General > Set \"Requires full screen\" (under Hide status bar) to true. </p>\n", "title": "iPad Multitasking support requires these orientations", "answer_id": 33393142, "question_id": 32559724, "tags": ["ios", "objective-c", "iphone", "xcode", "ipad"]}, {"body": "<p>Unchecked all Device orientation and <strong>checked only \"Requires full screen\"</strong>. Its working properly</p>\n", "title": "iPad Multitasking support requires these orientations", "answer_id": 35473471, "question_id": 32559724, "tags": ["ios", "objective-c", "iphone", "xcode", "ipad"]}, {"body": "<p>As Michael said check the \"Requires Full Screen\" checkbox under General > Targets</p>\n\n<p>and also delete the 'CFBundleIcons-ipad' from the info.plst</p>\n\n<p>This worked for me</p>\n", "title": "iPad Multitasking support requires these orientations", "answer_id": 36299115, "question_id": 32559724, "tags": ["ios", "objective-c", "iphone", "xcode", "ipad"]}], "question_id": 32559724}, {"body": "<p>The compilers I've been using in C or Java have dead code prevention (warning when a line won't ever be executed). My professor says that this problem can never be fully solved by compilers though. I was wondering why that is. I am not too familiar with the actual coding of compilers as this is a theory-based class. But I was wondering what they check (such as possible input strings vs acceptable inputs, etc.), and why that is insufficient.</p>\n", "title": "Why can&#39;t dead code detection be fully solved by a compiler?", "tags": ["compiler-theory"], "answer_count": 13, "link": "http://stackoverflow.com/questions/33266420/why-cant-dead-code-detection-be-fully-solved-by-a-compiler", "answers": [{"body": "<p>Look at this example:</p>\n\n<pre><code>public boolean isEven(int i){\n\n    if(i % 2 == 0)\n        return true;\n    if(i % 2 == 1)\n        return false;\n    return false;\n}\n</code></pre>\n\n<p>The compiler can't know that an int can only be even or odd. Therefore the compiler must be able to understand the semantics of your code. How should this be implemented? The compiler can't ensure that the lowest return will never be executed. Therefore the compiler can't detect the dead code.</p>\n", "title": "Why can&#39;t dead code detection be fully solved by a compiler?", "answer_id": 33266502, "question_id": 33266420, "tags": ["compiler-theory"]}, {"body": "<p>A simple example:</p>\n\n\n\n<pre class=\"lang-cpp prettyprint-override\"><code>int readValueFromPort(const unsigned int portNum);\n\nint x = readValueFromPort(0x100); // just an example, nothing meaningful\nif (x &lt; 2)\n{\n    std::cout &lt;&lt; \"Hey! X &lt; 2\" &lt;&lt; std::endl;\n}\nelse\n{\n    std::cout &lt;&lt; \"X is too big!\" &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>Now assume that the port 0x100 is designed to return only 0 or 1. In that case the compiler cannot figure out that the <code>else</code> block will never be executed.</p>\n\n<p>However in this basic example:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>bool boolVal = /*anything boolean*/;\n\nif (boolVal)\n{\n  // Do A\n}\nelse if (!boolVal)\n{\n  // Do B\n}\nelse\n{\n  // Do C\n}\n</code></pre>\n\n<p>Here the compiler can calculate out the the <code>else</code> block is a dead code.\nSo the compiler can warn about the dead code only if it has enough data to to figure out the dead code and also it should know how to apply that data in order to figure out if the given block is a dead code.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Sometimes the data is just not available at the compilation time:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>// File a.cpp\nbool boolMethod();\n\nbool boolVal = boolMethod();\n\nif (boolVal)\n{\n  // Do A\n}\nelse\n{\n  // Do B\n}\n\n//............\n// File b.cpp\nbool boolMethod()\n{\n    return true;\n}\n</code></pre>\n\n<p>While compiling a.cpp the compiler cannot know that <code>boolMethod</code> always returns <code>true</code>.</p>\n", "title": "Why can&#39;t dead code detection be fully solved by a compiler?", "answer_id": 33266642, "question_id": 33266420, "tags": ["compiler-theory"]}, {"body": "<p>The dead code problem is related to the <a href=\"https://en.wikipedia.org/wiki/Halting_problem\">Halting problem</a>.</p>\n\n<p>Alan Turing proved that it is impossible to write a general algorithm that will be given a program and be able to decide whether that program halts for all inputs. You may be able to write such an algorithm for specific types of programs, but not for all programs.</p>\n\n<p>How does this relate to dead code?</p>\n\n<p>The Halting problem is <em>reducible</em> to the problem of finding dead code. That is, if you find an algorithm that can detect dead code in <em>any</em> program, then you can use that algorithm to test whether <em>any</em> program will halt. Since that has been proven to be impossible, it follows that writing an algorithm for dead code is impossible as well.</p>\n\n<p>How do you transfer an algorithm for dead code into an algorithm for the Halting problem?</p>\n\n<p>Simple: you add a line of code after the end of the program you want to check for halt. If your dead-code detector detects that this line is dead, then you know that the program does not halt. If it doesn't, then you know that your program halts (gets to the last line, and then to your added line of code).</p>\n\n<hr>\n\n<p>Compilers usually check for things that can be proven at compile-time to be dead. For example, blocks that are dependent on conditions that can be determined to be false at compile time. Or any statement after a <code>return</code> (within the same scope).</p>\n\n<p>These are specific cases, and therefore it's possible to write an algorithm for them. It may be possible to write algorithms for more complicated cases (like an algorithm that checks whether a condition is syntactically a contradiction and therefore will always return false), but still, that wouldn't cover all possible cases.</p>\n", "title": "Why can&#39;t dead code detection be fully solved by a compiler?", "answer_id": 33266750, "question_id": 33266420, "tags": ["compiler-theory"]}, {"body": "<p>The compiler will always lack some context information. E.g. you might know, that a double value never exeeds 2, because that is a feature of the mathematical function, you use from a library. The compiler does not even see the code in the library, and it can never know all features of all mathematical functions, and detect all weired and complicated ways to implement them.</p>\n", "title": "Why can&#39;t dead code detection be fully solved by a compiler?", "answer_id": 33266791, "question_id": 33266420, "tags": ["compiler-theory"]}, {"body": "<p>Unconditional dead code can be detected and removed by advanced compilers.</p>\n\n<p>But there is also conditional dead code. That is code that cannot be known at the time of compilation and can only be detected during runtime. For example, a software may be configurable to include or exclude certain features depending on user preference, making certain sections of code seemingly dead in particular scenarios. That is not be real dead code.</p>\n\n<p>There are specific tools that can do testing, resolve dependencies, remove conditional dead code and recombine the useful code at runtime for efficiency. This is called dynamic dead code elimination. But as you can see it is beyond the scope of compilers.</p>\n", "title": "Why can&#39;t dead code detection be fully solved by a compiler?", "answer_id": 33267065, "question_id": 33266420, "tags": ["compiler-theory"]}, {"body": "<p>I don't know if C++ or Java have an <code>Eval</code> type function, but many languages do allow you do call methods <em>by name</em>.  Consider the following (contrived) VBA example. </p>\n\n<pre><code>Dim methodName As String\n\nIf foo Then\n    methodName = \"Bar\"\nElse\n    methodName = \"Qux\"\nEnd If\n\nApplication.Run(methodName)\n</code></pre>\n\n<p>The name of the method to be called is impossible to know until runtime. Therefore, by definition, the compiler cannot know with absolute certainty that a particular method is never called. </p>\n\n<p>Actually, given the example of calling a method by name, the branching logic isn't even necessary. Simply saying</p>\n\n<pre><code>Application.Run(\"Bar\")\n</code></pre>\n\n<p>Is more than the compiler can determine. When the code is compiled, all the compiler knows is that a certain string value is being passed to that method. It doesn't check to see if that method exists until runtime. If the method isn't called elsewhere, through more normal methods, an attempt to find dead methods can return false positives. The same issue exists in any language that allows code to be called via reflection. </p>\n", "title": "Why can&#39;t dead code detection be fully solved by a compiler?", "answer_id": 33270976, "question_id": 33266420, "tags": ["compiler-theory"]}, {"body": "<p>Well, let's take the classical proof of the undecidability of the halting problem and change the halting-detector to a dead-code detector!</p>\n\n<p><strong>C# program</strong></p>\n\n\n\n<pre class=\"lang-csharp prettyprint-override\"><code>using System;\nusing YourVendor.Compiler;\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        string quine_text = @\"using System;\nusing YourVendor.Compiler;\n\nclass Program\n{{\n    static void Main(string[] args)\n    {{\n        string quine_text = @{0}{1}{0};\n        quine_text = string.Format(quine_text, (char)34, quine_text);\n\n        if (YourVendor.Compiler.HasDeadCode(quine_text))\n        {{\n            System.Console.WriteLine({0}Dead code!{0});\n        }}\n    }}\n}}\";\n        quine_text = string.Format(quine_text, (char)34, quine_text);\n\n        if (YourVendor.Compiler.HasDeadCode(quine_text))\n        {\n            System.Console.WriteLine(\"Dead code!\");\n        }\n    }\n}\n</code></pre>\n\n<p>If <code>YourVendor.Compiler.HasDeadCode(quine_text)</code> returns <code>false</code>, then the line <code>System.Console.WriteLn(\"Dead code!\");</code> won't be ever executed, so this program actually <em>does</em> have dead code, and the detector was wrong.</p>\n\n<p>But if it returns <code>true</code>, then the line <code>System.Console.WriteLn(\"Dead code!\");</code> will be executed, and since there is no more code in the program, there is no dead code at all, so again, the detector was wrong.</p>\n\n<p>So there you have it, a dead-code detector that returns only \"There is dead code\" or \"There is no dead code\" must sometimes yield wrong answers.</p>\n", "title": "Why can&#39;t dead code detection be fully solved by a compiler?", "answer_id": 33279376, "question_id": 33266420, "tags": ["compiler-theory"]}, {"body": "<p>Take a function</p>\n\n<pre><code>void DoSomeAction(int actnumber) \n{\n    switch(actnumber) \n    {\n        case 1: Action1(); break;\n        case 2: Action2(); break;\n        case 3: Action3(); break;\n    }\n}\n</code></pre>\n\n<p>Can you prove that <code>actnumber</code> will never be <code>2</code> so that <code>Action2()</code> is never called...?</p>\n", "title": "Why can&#39;t dead code detection be fully solved by a compiler?", "answer_id": 33279495, "question_id": 33266420, "tags": ["compiler-theory"]}, {"body": "<p>Others have commented on the halting problem and so forth. These generally apply to portions of functions. However it can be hard/impossible to know whether even an entire type (class/etc) is used or not.</p>\n\n<p>In .NET/Java/JavaScript and other runtime driven environments there's nothing stopping types being loaded via reflection. This is popular with dependency injection frameworks, and is even harder to reason about in the face of deserialisation or dynamic module loading.</p>\n\n<p>The compiler cannot know whether such types would be loaded. Their names <em>could</em> come from external config files at runtime.</p>\n\n<p>You might like to search around for <em>tree shaking</em> which is a common term for tools that attempt to safely remove unused subgraphs of code.</p>\n", "title": "Why can&#39;t dead code detection be fully solved by a compiler?", "answer_id": 33281287, "question_id": 33266420, "tags": ["compiler-theory"]}, {"body": "<p>If the halting problem is too obscure, think of it this way.</p>\n\n<p>Take a mathematical problem that is believed to be true for all positive integer's <em>n</em>, but hasn't been proven to be true for every <em>n</em>. A good example would be <a href=\"https://en.wikipedia.org/wiki/Goldbach%27s_conjecture\">Goldbach's conjecture</a>, that any positive even integer greater than two can be represented by the sum of two primes. Then (with an appropriate bigint library) run this program (pseudocode follows):</p>\n\n<pre><code> for (BigInt n = 4; ; n+=2) {\n     if (!isGoldbachsConjectureTrueFor(n)) {\n         print(\"Conjecture is false for at least one value of n\\n\");\n         exit(0);\n     }\n }\n</code></pre>\n\n<p><em>Implementation of <code>isGoldbachsConjectureTrueFor()</code> is left as an exercise for the reader but for this purpose could be a simple iteration over all primes less than <code>n</code></em></p>\n\n<p>Now, logically the above must either be the equivalent of:</p>\n\n<pre><code> for (; ;) {\n }\n</code></pre>\n\n<p>(i.e. an infinite loop) or</p>\n\n<pre><code>print(\"Conjecture is false for at least one value of n\\n\");\n</code></pre>\n\n<p>as Goldbach's conjecture must either be true or not true. If a compiler could always eliminate dead code, there would definitely be dead code to eliminate here in either case. However, in doing so at the very least your compiler would need to solve arbitrarily hard problems. We could provide problems <em>provably</em> hard that it would have to solve (e.g. NP-complete problems) to determine which bit of code to eliminate. For instance if we take this program:</p>\n\n<pre><code> String target = \"f3c5ac5a63d50099f3b5147cabbbd81e89211513a92e3dcd2565d8c7d302ba9c\";\n for (BigInt n = 0; n &lt; 2**2048; n++) {\n     String s = n.toString();\n     if (sha256(s).equals(target)) {\n         print(\"Found SHA value\\n\");\n         exit(0);\n     }\n }\n print(\"Not found SHA value\\n\");\n</code></pre>\n\n<p>we know that the program will either print out \"Found SHA value\" or \"Not found SHA value\" (bonus points if you can tell me which one is true). However, for a compiler to be able to reasonably optimise that would take of the order of 2^2048 iterations. It would in fact be a great optimisation as I predict the above program would (or might) run until the heat death of the universe rather than printing anything without optimisation.</p>\n", "title": "Why can&#39;t dead code detection be fully solved by a compiler?", "answer_id": 33281339, "question_id": 33266420, "tags": ["compiler-theory"]}, {"body": "<p>The compiler doesn't necessarily see the whole program. I could have a program that calls a shared library, which calls back into a function in my program which isn't called directly.</p>\n\n<p>So a function which is dead with respect to the library it's compiled against could become alive if that library was changed at runtime.</p>\n", "title": "Why can&#39;t dead code detection be fully solved by a compiler?", "answer_id": 33290403, "question_id": 33266420, "tags": ["compiler-theory"]}, {"body": "<p>I disagree about the halting problem. I wouldn't call such code dead even though in reality it will never be reached.</p>\n\n<p>Instead, lets consider:</p>\n\n<pre><code>for (int N = 3;;N++)\n  for (int A = 2; A &lt; int.MaxValue; A++)\n    for (int B = 2; B &lt; int.MaxValue; B++)\n    {\n      int Square = Math.Pow(A, N) + Math.Pow(B, N);\n      float Test = Math.Sqrt(Square);\n      if (Test == Math.Trunc(Test))\n        FermatWasWrong();\n    }\n\nprivate void FermatWasWrong()\n{\n  Press.Announce(\"Fermat was wrong!\");\n  Nobel.Claim();\n}\n</code></pre>\n\n<p>(Ignore the type and overflow errors)  Dead code?</p>\n", "title": "Why can&#39;t dead code detection be fully solved by a compiler?", "answer_id": 33292519, "question_id": 33266420, "tags": ["compiler-theory"]}, {"body": "<p>If a <strong>compiler</strong> could eliminate all dead code accurately, it would be called an <strong>interpreter</strong>.</p>\n\n<p>Consider this simple scenario:</p>\n\n<pre><code>if (my_func()) {\n  am_i_dead();\n}\n</code></pre>\n\n<p><code>my_func()</code> can contain arbitrary code and in order for the compiler to determine whether it returns true or false, it will either have to run the code or do something that is functionally equivalent to running the code.</p>\n\n<p>The idea of a compiler is that it only performs a partial analysis of the code, thus simplifying the job of a separate running environment. If you perform a full analysis, that isn't a compiler any more.</p>\n\n<hr>\n\n<p>If you consider the compiler as a function <code>c()</code>, where <code>c(source)=compiled code</code>, and the running environment as <code>r()</code>, where <code>r(compiled code)=program output</code>, then to determine the output for any source code you have to compute the value of <code>r(c(source code))</code>. If calculating <code>c()</code> requires the knowledge of the value of <code>r(c())</code> for any input, there is no need for a separate <code>r()</code> and <code>c()</code>: you can just derive a function <code>i()</code> from <code>c()</code> such that <code>i(source)=program output</code>.</p>\n", "title": "Why can&#39;t dead code detection be fully solved by a compiler?", "answer_id": 33305476, "question_id": 33266420, "tags": ["compiler-theory"]}], "question_id": 33266420}, {"body": "<p>I almost never see a <code>for</code> loop like this:</p>\n\n<pre><code>for (int i = 0; 5 != i; ++i)\n{}\n</code></pre>\n\n<p>Is there a technical reason to use <code>&gt;</code> or <code>&lt;</code> instead of <code>!=</code> when incrementing by 1 in a <code>for</code> loop? Or this is more of a convention?</p>\n", "title": "Is there a technical reason to use &gt; (&lt;) instead of != when incrementing by 1 in a &#39;for&#39; loop?", "tags": ["c++", "c", "for-loop"], "answer_count": 20, "link": "http://stackoverflow.com/questions/31455629/is-there-a-technical-reason-to-use-instead-of-when-incrementing-by-1-in", "answers": [{"body": "<p>There is no technical reason. But there is mitigation of risk, maintainability and better understanding of code.</p>\n\n<p><code>&lt;</code> or <code>&gt;</code> are stronger restrictions than <code>!=</code> and fulfill the exacts same purpose in most cases (I'd even say in all practical cases).</p>\n\n<p>There is duplicate question <a href=\"http://stackoverflow.com/questions/1783822/format-of-for-loops\">here</a>; and one interesting <a href=\"http://stackoverflow.com/a/8914410/1566187\">answer</a>.</p>\n", "title": "Is there a technical reason to use &gt; (&lt;) instead of != when incrementing by 1 in a &#39;for&#39; loop?", "answer_id": 31455718, "question_id": 31455629, "tags": ["c++", "c", "for-loop"]}, {"body": "<p>It may happen, that the variable i is set to some large value and if you just use the != operator you will end up in an endless loop.</p>\n", "title": "Is there a technical reason to use &gt; (&lt;) instead of != when incrementing by 1 in a &#39;for&#39; loop?", "answer_id": 31455733, "question_id": 31455629, "tags": ["c++", "c", "for-loop"]}, {"body": "<p>You can have something like</p>\n\n<pre><code>for(int i = 0; i&lt;5; ++i){\n    ...\n    if(...) i++;\n    ...\n}\n</code></pre>\n\n<p>If your loop variable is written by the inner code, the <code>i!=5</code> might not break that loop. This is safer to check for inequality.</p>\n\n<p><strong>Edit</strong> about readability.\nThe inequality form is way more frequently used. Therefore, this is very fast to read as there is nothing special to understand (brain load is reduced because the task is common). So it's cool for the readers to make use of these habits.</p>\n", "title": "Is there a technical reason to use &gt; (&lt;) instead of != when incrementing by 1 in a &#39;for&#39; loop?", "answer_id": 31455833, "question_id": 31455629, "tags": ["c++", "c", "for-loop"]}, {"body": "<pre><code>while (time != 6:30pm) {\n    Work();\n}\n</code></pre>\n\n<p>It is 6:31pm... Damn, now my next chance to go home is tomorrow! :)</p>\n\n<p>This to show that the stronger restriction mitigates risks and is probably more intuitive to understand.</p>\n", "title": "Is there a technical reason to use &gt; (&lt;) instead of != when incrementing by 1 in a &#39;for&#39; loop?", "answer_id": 31455932, "question_id": 31455629, "tags": ["c++", "c", "for-loop"]}, {"body": "<p>There are already answers, but there is another case, where the difference matters. If you have a loop like this:</p>\n\n<pre><code>for (int i = a; i &lt; b; i++){}\n</code></pre>\n\n<p>this loop will work as expected for any values of <code>a</code> and <code>b</code> while if you used <code>!=</code> you would have to check for <code>a &lt;= b</code> before running the loop. </p>\n\n<p>So again it boils down to: In most cases there is no difference, but in some cases the small difference matters a lot. If you want to have all your loops look the same (and not for each loop have to consider which version is better) then just use <code>&lt;</code> and not <code>!=</code>.</p>\n\n<p>In some special cases you might need <code>!=</code> and not <code>&lt;</code>, but these are really special cases and then it makes sense that they look different than the usual loops.</p>\n\n<p>When I first answered this question I considered only plain old loops with an <code>int</code> counter. Once iterators enter the game, the situation is different. Loops with iterators usually look like this:</p>\n\n<pre><code>for (Iterator it = v.begin(); it != v.end(); ++it);\n</code></pre>\n\n<p>The reason is* that it is a much weaker constraint to implement an <code>!=</code> operator. Almost any two object can be tested for inequality, but not for all types a <code>&lt;</code> operator makes sense. Especially when the containers elements are not ordered the iterators cannot implement it. Thus the more generic way of writing such a loop is with <code>!=</code>. </p>\n\n<p>However, my point from above is still valid: There might be cases with an <code>int</code> counter where you have to use <code>!=</code>. They are rare and when they occur you want them to be easily identifiable. Thus it is common to write most <code>int</code>-counter loops with <code>&lt;</code>.</p>\n\n<p><sup>* = Comes without warranty. Please someone correct me if I am wrong ;)  </sup></p>\n", "title": "Is there a technical reason to use &gt; (&lt;) instead of != when incrementing by 1 in a &#39;for&#39; loop?", "answer_id": 31456037, "question_id": 31455629, "tags": ["c++", "c", "for-loop"]}, {"body": "<p>In addition to the various people who have mentioned that it mitigates risk, it also reduces the number of function overloads necessary to interact with various standard library components.   As an example, if you want your type to be storable in a <code>std::set</code>, or used as a key for <code>std::map</code>, or used with some of the searching and sorting algorithms, the standard library usually uses <code>std::less</code> to compare objects as most algorithms only need a strict weak ordering.  Thus it becomes a good habit to use the <code>&lt;</code> comparisons instead of <code>!=</code> comparisons (where it makes sense, of course).</p>\n", "title": "Is there a technical reason to use &gt; (&lt;) instead of != when incrementing by 1 in a &#39;for&#39; loop?", "answer_id": 31456509, "question_id": 31455629, "tags": ["c++", "c", "for-loop"]}, {"body": "<p>And last but not least, this is called <strong>defensive programming</strong>, meaning to always take the strongest case to avoid current and future errors influencing the program.</p>\n\n<p>The only case where defensive programming is not needed is where states have been proven by pre- and post-conditions (but then, proving this is the most defensive of all programming).</p>\n", "title": "Is there a technical reason to use &gt; (&lt;) instead of != when incrementing by 1 in a &#39;for&#39; loop?", "answer_id": 31456812, "question_id": 31455629, "tags": ["c++", "c", "for-loop"]}, {"body": "<p>As you can see from the other numerous answers, there are reasons to use &lt; instead of != which will help in edge cases, initial conditions, unintended loop counter modification, etc...</p>\n\n<p>Honestly though, I don't think you can stress the importance of convention enough. For this example it will be easy enough for other programmers to see what you are trying to do, but it will cause a double-take. One of the jobs while programming is making it as readable and familiar to everyone as possible, so inevitably when someone has to update/change your code, it doesn't take a lot of effort to figure out what you were doing in different code blocks. If I saw someone use <code>!=</code>, I'd assume there was a reason they used it instead of <code>&lt;</code> and if it was a large loop I'd look through the whole thing trying to figure out what you did that made that necessary... and that's wasted time.</p>\n", "title": "Is there a technical reason to use &gt; (&lt;) instead of != when incrementing by 1 in a &#39;for&#39; loop?", "answer_id": 31457000, "question_id": 31455629, "tags": ["c++", "c", "for-loop"]}, {"body": "<p>Iterators are an important case when you most often use the <code>!=</code> notation:</p>\n\n<pre><code>for(auto it = vector.begin(); it != vector.end(); ++it) {\n // do stuff\n}\n</code></pre>\n\n<p>Granted: in practice I would write the same relying on a <code>range-for</code>:</p>\n\n<pre><code>for(auto &amp; item : vector) {\n // do stuff\n}\n</code></pre>\n\n<p>but the point remains: one normally compares iterators using <code>==</code> or <code>!=</code>.</p>\n", "title": "Is there a technical reason to use &gt; (&lt;) instead of != when incrementing by 1 in a &#39;for&#39; loop?", "answer_id": 31459618, "question_id": 31455629, "tags": ["c++", "c", "for-loop"]}, {"body": "<p>The most common reason to use <code>&lt;</code> is convention.  More programmers think of loops like this as \"while the index is in range\" rather than \"until the index reaches the end.\"  There's value is sticking to convention when you can.</p>\n\n<p>On the other hand, many answers here are claiming that using the <code>&lt;</code> form helps avoid bugs.  I'd argue that in many cases this just helps <em>hide</em> bugs.  If the loop index is supposed to reach the end value, and, instead, it actually goes beyond it, then there's something happening you didn't expect which may cause a malfunction (or be a side effect of another bug).  The <code>&lt;</code> will likely delay discovery of the bug.  The <code>!=</code> is more likely to lead to a stall, hang, or even a crash, which will help you spot the bug sooner.  The sooner a bug is found, the cheaper it is to fix.</p>\n\n<p>Note that this convention is peculiar to array and vector indexing.  When traversing nearly any other type of data structure, you'd use an iterator (or pointer) and check directly for an end value.  In those cases you have to be sure the iterator will reach and not overshoot the actual end value.</p>\n\n<p>For example, if you're stepping through a plain C string, it's generally more common to write:</p>\n\n<pre><code>for (char *p = foo; *p != '\\0'; ++p) {\n  // do something with *p\n}\n</code></pre>\n\n<p>than</p>\n\n<pre><code>int length = strlen(foo);\nfor (int i = 0; i &lt; length; ++i) {\n  // do something with foo[i]\n}\n</code></pre>\n\n<p>For one thing, if the string is very long, the second form will be slower because the <code>strlen</code> is another pass through the string.</p>\n\n<p>With a C++ std::string, you'd use a range-based for loop, a standard algorithm, or iterators, even if though the length is readily available.  If you're using iterators, the convention is to use <code>!=</code> rather than <code>&lt;</code>, as in:</p>\n\n<pre><code>for (auto it = foo.begin(); it != foo.end(); ++it) { ... }\n</code></pre>\n\n<p>Similarly, iterating a tree or a list or a deque usually involves watching for a null pointer or other sentinel rather than checking if an index remains within a range.</p>\n", "title": "Is there a technical reason to use &gt; (&lt;) instead of != when incrementing by 1 in a &#39;for&#39; loop?", "answer_id": 31460419, "question_id": 31455629, "tags": ["c++", "c", "for-loop"]}, {"body": "<p>I take the adjectival \"technical\" to mean language behavior/quirks and compiler side effects such as performance of generated code.</p>\n\n<p>To this end, the answer is: no(*). The (*) is \"please consult your processor manual\". If you are working with some edge-case RISC or FPGA system, you may need to check what instructions are generated and what they cost. But if you're using pretty much any conventional modern architecture, then there is no significant processor level difference in cost between <code>lt</code>, <code>eq</code>, <code>ne</code> and <code>gt</code>.</p>\n\n<p><em>If</em> you are using an edge case you could find that <code>!=</code> requires three operations (<code>cmp</code>, <code>not</code>, <code>beq</code>) vs two (<code>cmp</code>, <code>blt xtr myo</code>). Again, RTM in that case.</p>\n\n<p>For the most part, the reasons are defensive/hardening, especially when working with pointers or complex loops. Consider</p>\n\n<pre><code>// highly contrived example\nsize_t count_chars(char c, const char* str, size_t len) {\n    size_t count = 0;\n    bool quoted = false;\n    const char* p = str;\n    while (p != str + len) {\n        if (*p == '\"') {\n            quote = !quote;\n            ++p;\n        }\n        if (*(p++) == c &amp;&amp; !quoted)\n            ++count;\n    }\n    return count;\n}\n</code></pre>\n\n<p>A less contrived example would be where you are using return values to perform increments, accepting data from a user:</p>\n\n<pre><code>#include &lt;iostream&gt;\nint main() {\n    size_t len = 5, step;\n    for (size_t i = 0; i != len; ) {\n        std::cout &lt;&lt; \"i = \" &lt;&lt; i &lt;&lt; \", step? \" &lt;&lt; std::flush;\n        std::cin &gt;&gt; step;\n        i += step; // here for emphasis, it could go in the for(;;)\n    }\n}\n</code></pre>\n\n<p>Try this and input the values 1, 2, 10, 999.</p>\n\n<p>You could prevent this:</p>\n\n<pre><code>#include &lt;iostream&gt;\nint main() {\n    size_t len = 5, step;\n    for (size_t i = 0; i != len; ) {\n        std::cout &lt;&lt; \"i = \" &lt;&lt; i &lt;&lt; \", step? \" &lt;&lt; std::flush;\n        std::cin &gt;&gt; step;\n        if (step + i &gt; len)\n            std::cout &lt;&lt; \"too much.\\n\";\n        else\n            i += step;\n    }\n}\n</code></pre>\n\n<p>But what you probably wanted was</p>\n\n<pre><code>#include &lt;iostream&gt;\nint main() {\n    size_t len = 5, step;\n    for (size_t i = 0; i &lt; len; ) {\n        std::cout &lt;&lt; \"i = \" &lt;&lt; i &lt;&lt; \", step? \" &lt;&lt; std::flush;\n        std::cin &gt;&gt; step;\n        i += step;\n    }\n}\n</code></pre>\n\n<p>There is also something of a convention bias towards <code>&lt;</code>, because ordering in standard containers often relies on <code>operator&lt;</code>, for instance hashing in several STL containers determines equality by saying</p>\n\n<pre><code>if (lhs &lt; rhs) // T.operator &lt;\n    lessthan\nelse if (rhs &lt; lhs) // T.operator &lt; again\n    greaterthan\nelse\n    equal\n</code></pre>\n\n<p>If <code>lhs</code> and <code>rhs</code> are a user defined class writing this code as</p>\n\n<pre><code>if (lhs &lt; rhs) // requires T.operator&lt;\n    lessthan\nelse if (lhs &gt; rhs) // requires T.operator&gt;\n    greaterthan\nelse\n    equal\n</code></pre>\n\n<p>The implementor has to provide two comparison functions. So <code>&lt;</code> has become the favored operator.</p>\n", "title": "Is there a technical reason to use &gt; (&lt;) instead of != when incrementing by 1 in a &#39;for&#39; loop?", "answer_id": 31460977, "question_id": 31455629, "tags": ["c++", "c", "for-loop"]}, {"body": "<p>I would argue that an expression like</p>\n\n<pre><code>for ( int i = 0 ; i &lt; 100 ; ++i )\n{\n  ...\n}\n</code></pre>\n\n<p>is more <em>expressive of intent</em> than is</p>\n\n<pre><code>for ( int i = 0 ; i != 100 ; ++i )\n{\n  ...\n}\n</code></pre>\n\n<p>The former clearly calls out that the condition is a test for an exclusive upper bound on a range; the latter is a binary test of an exit condition. And if the body of the loop is non-trivial, it may not apparent that the index is only modified in the <code>for</code> statement itself.</p>\n", "title": "Is there a technical reason to use &gt; (&lt;) instead of != when incrementing by 1 in a &#39;for&#39; loop?", "answer_id": 31461010, "question_id": 31455629, "tags": ["c++", "c", "for-loop"]}, {"body": "<p>There are several ways to write any kind of code (usually), there just happens to be two ways in this case (three if you count &lt;= and >=).</p>\n\n<p>In this case, people prefer > and &lt; to make sure that even if something unexpected happens in the loop (like a bug), it won't loop infinitely (BAD). Consider the following code, for example.</p>\n\n<pre><code>for (int i = 1; i != 3; i++) {\n    //More Code\n    i = 5; //OOPS! MISTAKE!\n    //More Code\n}\n</code></pre>\n\n<p>If we used (i &lt; 3), we would be safe from an infinite loop because it placed a bigger restriction.</p>\n\n<p>Its really your choice whether you want a mistake in your program to shut the whole thing down or keep functioning with the bug there.</p>\n\n<p>Hope this helped!</p>\n", "title": "Is there a technical reason to use &gt; (&lt;) instead of != when incrementing by 1 in a &#39;for&#39; loop?", "answer_id": 31461123, "question_id": 31455629, "tags": ["c++", "c", "for-loop"]}, {"body": "<p>The loop condition is an enforced loop invariant.</p>\n\n<p>Suppose you don't look at the body of the loop:</p>\n\n<pre><code>for (int i = 0; i != 5; ++i)\n{\n  // ?\n}\n</code></pre>\n\n<p>in this case, you know at the start of the loop iteration that <code>i</code> does not equal <code>5</code>.</p>\n\n<pre><code>for (int i = 0; i &lt; 5; ++i)\n{\n  // ?\n}\n</code></pre>\n\n<p>in this case, you know at the start of the loop iteration that <code>i</code> is less than <code>5</code>.</p>\n\n<p>The second is much, much more information than the first, no?  Now, the programmer intent is (almost certainly) the same, but if you are looking for bugs, having confidence from reading a line of code is a good thing.  And the second <em>enforces</em> that invariant, which means some bugs that would bite you in the first case just cannot happen (or don't cause memory corruption, say) in the second case.</p>\n\n<p>You know more about the state of the program, from reading less code, with <code>&lt;</code> than with <code>!=</code>.  And on modern CPUs, they take the same amount of time as no difference.</p>\n\n<p>If your <code>i</code> was not manipulated in the loop body, <em>and</em> it was always increased by 1, <em>and</em> it started less than <code>5</code>, there would be no difference.  But in order to know if it was manipulated, you'd have to confirm each of these facts.</p>\n\n<p>Some of these facts are relatively easy, but you can get wrong.  Checking the entire body of the loop is, however, a pain.</p>\n\n<p>In C++ you can write an <code>indexes</code> type such that:</p>\n\n<pre><code>for( const int i : indexes(0, 5) )\n{\n  // ?\n}\n</code></pre>\n\n<p>does the same thing as either of the two above <code>for</code> loops, even down to the compiler optimizing it down to the same code.  Here, however, you <em>know</em> that <code>i</code> cannot be manipulated in the body of the loop, as it is declared <code>const</code>, without the code corrupting memory.</p>\n\n<p>The more information you can get out of a line of code without having to understand the context, the easier it is to track down what is going wrong.  <code>&lt;</code> in the case of integer loops gives you more information about the state of the code at that line than <code>!=</code> does.</p>\n", "title": "Is there a technical reason to use &gt; (&lt;) instead of != when incrementing by 1 in a &#39;for&#39; loop?", "answer_id": 31465421, "question_id": 31455629, "tags": ["c++", "c", "for-loop"]}, {"body": "<p>Besides the examples, where the loop variable will (unintentional) change inside the body, there are other reasions to use the smaller-than or greater-than operators:</p>\n\n<ul>\n<li>Negations make code harder to understand</li>\n<li><code>&lt;</code> or <code>&gt;</code> is only one char, but <code>!=</code> two</li>\n</ul>\n", "title": "Is there a technical reason to use &gt; (&lt;) instead of != when incrementing by 1 in a &#39;for&#39; loop?", "answer_id": 31465651, "question_id": 31455629, "tags": ["c++", "c", "for-loop"]}, {"body": "<p>Using relational comparisons in such cases is more of a popular habit than anything else. It gained its popularity back in the times when such conceptual considerations as iterator categories and their comparability were not considered high priority.</p>\n\n<p>I'd say that one should prefer to use equality comparisons instead of relational comparisons whenever possible, since equality comparisons impose less requirements on the values being compared. Being <em>EqualityComparable</em> is a lesser requirement than being <em>LessThanComparable</em>.</p>\n\n<p>Another example that demonstrates the wider applicability of equality comparison in such contexts is the popular conundrum with implementing <code>unsigned</code> iteration down to <code>0</code>. It can be done as</p>\n\n<pre><code>for (unsigned i = 42; i != -1; --i)\n  ...\n</code></pre>\n\n<p>Note that the above is equally applicable to both signed and unsigned iteration, while the relational version breaks down with unsigned types.</p>\n", "title": "Is there a technical reason to use &gt; (&lt;) instead of != when incrementing by 1 in a &#39;for&#39; loop?", "answer_id": 31465763, "question_id": 31455629, "tags": ["c++", "c", "for-loop"]}, {"body": "<p>There are two related reasons for following this practice that both have to do with the fact that a programming language is, after all, a language that will be read by humans (among others).</p>\n\n<p>(1) A bit of redundancy. In natural language we usually provide more information than is strictly necessary, much like an error correcting code. Here the extra information is that the loop variable <code>i</code> (see how I used redundancy here? If you didn't know what 'loop variable' means, or if you forgot the name of the variable, after reading \"loop variable <code>i</code>\" you have the full information) is less than 5 during the loop, not just different from 5. Redundancy enhances readability.</p>\n\n<p>(2) Convention. Languages have specific standard ways of expressing certain situations. If you don't follow the established way of saying something, you will still be understood, but the effort for the recipient of your message is greater because certain optimisations won't work. Example:</p>\n\n<blockquote>\n  <p>Don't talk around the hot mash. Just illuminate the difficulty!</p>\n</blockquote>\n\n<p>The first sentence is a literal translation of a German idiom. The second is a common English idiom with the main words replaced by synonyms. The result is comprehensible but takes a lot longer to understand than this:</p>\n\n<blockquote>\n  <p>Don't beat around the bush. Just explain the problem!</p>\n</blockquote>\n\n<p>This is true even in case the synonyms used in the first version happen to fit the situation better than the conventional words in the English idiom. Similar forces are in effect when programmers read code. This is also why <code>5 != i</code> and <code>5 &gt; i</code> are weird ways of putting it <em>unless</em> you are working in an environment in which it is standard to swap the more normal <code>i != 5</code> and <code>i &lt; 5</code> in this way. Such dialect communities do exist, probably because consistency makes it easier to remember to write <code>5 == i</code> instead of the natural but error prone <code>i == 5</code>.</p>\n", "title": "Is there a technical reason to use &gt; (&lt;) instead of != when incrementing by 1 in a &#39;for&#39; loop?", "answer_id": 31474054, "question_id": 31455629, "tags": ["c++", "c", "for-loop"]}, {"body": "<p>One reason not to use this construct is floating point numbers. <code>!=</code> is a very dangerous comparison to use with floats as it'll rarely evaluate to true even if the numbers look the same. <code>&lt;</code> or <code>&gt;</code> removes this risk.</p>\n", "title": "Is there a technical reason to use &gt; (&lt;) instead of != when incrementing by 1 in a &#39;for&#39; loop?", "answer_id": 31474399, "question_id": 31455629, "tags": ["c++", "c", "for-loop"]}, {"body": "<p>Yes; OpenMP doesn't parallelize loops with the <code>!=</code> conditoin.</p>\n", "title": "Is there a technical reason to use &gt; (&lt;) instead of != when incrementing by 1 in a &#39;for&#39; loop?", "answer_id": 31474750, "question_id": 31455629, "tags": ["c++", "c", "for-loop"]}, {"body": "<p>As already said by Ian Newson, you can't reliably loop over a floating variable and exit with <code>!=</code>. For instance,</p>\n\n<pre><code>for (double x=0; x!=1; x+=0.1) {}\n</code></pre>\n\n<p>will actually loop forever, because 0.1 can't exactly be represented in floating point, hence the counter narrowly misses 1. With <code>&lt;</code> it terminates.</p>\n\n<p>(Note however that it's basically <em>undefined behaviour</em> whether you get 0.9999... as the last accepted number &ndash; which kind of violates the less-than assumption &ndash; or already exit at 1.0000000000000001.)</p>\n", "title": "Is there a technical reason to use &gt; (&lt;) instead of != when incrementing by 1 in a &#39;for&#39; loop?", "answer_id": 31479771, "question_id": 31455629, "tags": ["c++", "c", "for-loop"]}], "question_id": 31455629}, {"body": "<p>When browsing the source code of Guava, I came across the following piece of code (part of the implementation of <code>hashCode</code> for the inner class <code>CartesianSet</code>):</p>\n\n<pre><code>int adjust = size() - 1;\nfor (int i = 0; i &lt; axes.size(); i++) {\n    adjust *= 31;\n    adjust = ~~adjust;\n    // in GWT, we have to deal with integer overflow carefully\n}\nint hash = 1;\nfor (Set&lt;E&gt; axis : axes) {\n    hash = 31 * hash + (size() / axis.size() * axis.hashCode());\n\n    hash = ~~hash;\n}\nhash += adjust;\nreturn ~~hash;\n</code></pre>\n\n<p>Both of <code>adjust</code> and <code>hash</code> are <code>int</code>s. From what I know about Java, <code>~</code> means bitwise negation, so <code>adjust = ~~adjust</code> and <code>hash = ~~hash</code> should leave the variables unchanged. Running the small test (with assertions enabled, of course),</p>\n\n<pre><code>for (int i = Integer.MIN_VALUE; i &lt; Integer.MAX_VALUE; i++) {\n    assert i == ~~i;\n}\n</code></pre>\n\n<p>confirms this. Assuming that the Guava guys know what they are doing, there must be a reason for them to do this. The question is what?</p>\n\n<p><strong>EDIT</strong> As pointed out in the comments, the test above doesn't include the case where <code>i</code> equals <code>Integer.MAX_VALUE</code>. Since <code>i &lt;= Integer.MAX_VALUE</code> is always true, we will need to check that case outside the loop to prevent it from looping forever. However, the line</p>\n\n<pre><code>assert Integer.MAX_VALUE == ~~Integer.MAX_VALUE;\n</code></pre>\n\n<p>yields the compiler warning \"Comparing identical expressions\", which pretty much nails it.</p>\n", "title": "What is the meaning of double tilde (~~) in Java?", "tags": ["java", "gwt", "bit-manipulation", "bitwise-operators"], "answer_count": 1, "link": "http://stackoverflow.com/questions/29736952/what-is-the-meaning-of-double-tilde-in-java", "answers": [{"body": "<p>In Java, it means nothing.</p>\n\n<p>But that comment says that the line is specifically for GWT, which is a way to compile Java to JavaScript.</p>\n\n<p>In JavaScript, integers are kind of like doubles-that-act-as-integers. They have a max value of 2^53, for instance. But <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators\">bitwise operators</a> treat numbers as if they're 32-bit, which is exactly what you want in this code. In other words, <code>~~hash</code> says \"treat <code>hash</code> as a 32-bit number\" in JavaScript. Specifically, it discards all but the bottom 32 bits (since the bitwise <code>~</code> operators only looks at the bottom 32 bits), which is identical to how Java's overflow works.</p>\n\n<p>If you didn't have that, the hash code of the object would be different depending on whether it's evaluated in Java-land or in JavaScript land (via a GWT compilation).</p>\n", "title": "What is the meaning of double tilde (~~) in Java?", "answer_id": 29736998, "question_id": 29736952, "tags": ["java", "gwt", "bit-manipulation", "bitwise-operators"]}], "question_id": 29736952}, {"body": "<p>Just installed El Capitan and can't install gem <code>eventmachine</code> <code>1.0.7</code>. <code>openssl</code> is at <code>1.0.2a-1</code>. Tried to use <code>--with-ssl-dir</code> but it seems ignored.</p>\n\n<p>Reported it to their <a href=\"https://github.com/eventmachine/eventmachine/issues/602\">github repo</a> as well.</p>\n\n<p>Any suggestions are really appreciated. Thanks.</p>\n\n<pre><code>$ ls /usr/local/Cellar/openssl/1.0.2a-1/include/openssl/ssl.h\n/usr/local/Cellar/openssl/1.0.2a-1/include/openssl/ssl.h\n\n$ gem install eventmachine -v '1.0.7' -- --with-ssl-dir=/usr/local/Cellar/openssl/1.0.2a-1/include\n/Users/pain/.rbenv/versions/2.1.2/bin/ruby -r ./siteconf20150612-56154-1hsjz2n.rb extconf.rb --with-ssl-dir=/usr/local/Cellar/openssl/1.0.2a-1/include\nchecking for rb_trap_immediate in ruby.h,rubysig.h... no\nchecking for rb_thread_blocking_region()... yes\nchecking for ruby/thread.h... yes\nchecking for rb_thread_call_without_gvl() in ruby/thread.h... yes\nchecking for inotify_init() in sys/inotify.h... no\nchecking for __NR_inotify_init in sys/syscall.h... no\nchecking for writev() in sys/uio.h... yes\nchecking for rb_thread_fd_select()... yes\nchecking for rb_fdset_t in ruby/intern.h... yes\nchecking for rb_wait_for_single_fd()... yes\nchecking for rb_enable_interrupt()... no\nchecking for rb_time_new()... yes\nchecking for sys/event.h... yes\nchecking for sys/queue... yes\nchecking for clock_gettime()... no\nchecking for gethrtime()... no\ncreating Makefile\n\nmake \"DESTDIR=\" clean\n\nmake \"DESTDIR=\"\ncompiling binder.cpp\nIn file included from binder.cpp:20:\n./project.h:116:10: fatal error: 'openssl/ssl.h' file not found\n#include &lt;openssl/ssl.h&gt;\n         ^\n1 error generated.\nmake: *** [binder.o] Error 1\n\nmake failed, exit code 2\n</code></pre>\n", "title": "gem eventmachine fatal error: &#39;openssl/ssl.h&#39; file not found", "tags": ["ruby", "osx", "openssl", "homebrew", "eventmachine"], "answer_count": 6, "link": "http://stackoverflow.com/questions/30818391/gem-eventmachine-fatal-error-openssl-ssl-h-file-not-found", "answers": [{"body": "<pre><code>$ gem install eventmachine -- --with-cppflags=-I/usr/local/opt/openssl/include                                                                                                             \nBuilding native extensions with: '--with-cppflags=-I/usr/local/opt/openssl/include'\nThis could take a while...\nSuccessfully installed eventmachine-1.0.8\n1 gem installed\n</code></pre>\n\n<p>You can also set up bundler like this but I think that is superficial</p>\n\n<pre><code>bundle config build.eventmachine --with-cppflags=-I/usr/local/opt/openssl/include\n</code></pre>\n", "title": "gem eventmachine fatal error: &#39;openssl/ssl.h&#39; file not found", "answer_id": 30836309, "question_id": 30818391, "tags": ["ruby", "osx", "openssl", "homebrew", "eventmachine"]}, {"body": "<p>When using bundler and homebrew:</p>\n\n<pre><code>$ bundle config build.eventmachine --with-cppflags=-I$(brew --prefix openssl)/include\n$ bundle install\n</code></pre>\n", "title": "gem eventmachine fatal error: &#39;openssl/ssl.h&#39; file not found", "answer_id": 31516586, "question_id": 30818391, "tags": ["ruby", "osx", "openssl", "homebrew", "eventmachine"]}, {"body": "<pre><code>brew link --force openssl\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>gem install eventmachine\n</code></pre>\n\n<p>It also fixes:</p>\n\n<ul>\n<li>gem install taks </li>\n<li>bundle install </li>\n<li>rake and rails tasks</li>\n</ul>\n\n<p>P.S. Probably you'll need to remove and run <code>brew install openssl</code> again</p>\n\n<p>The issue happends because Apple had removed openssl from OSX (in El Captain build)</p>\n", "title": "gem eventmachine fatal error: &#39;openssl/ssl.h&#39; file not found", "answer_id": 33956405, "question_id": 30818391, "tags": ["ruby", "osx", "openssl", "homebrew", "eventmachine"]}, {"body": "<p>If you're installing EventMachine as a dependency of another gem, be sure to specify the correct version when you manually install the gem:</p>\n\n<pre><code>gem install eventmachine -v 1.0.5 -- --with-cppflags=-I$(brew --prefix openssl)/include\n</code></pre>\n\n<p>Then you can install the gem that you were originally trying to install:</p>\n\n<pre><code>gem install mailcatcher\n</code></pre>\n", "title": "gem eventmachine fatal error: &#39;openssl/ssl.h&#39; file not found", "answer_id": 34164079, "question_id": 30818391, "tags": ["ruby", "osx", "openssl", "homebrew", "eventmachine"]}, {"body": "<p>One alternative is to add a bundler config entry for your whole user profile, like this:</p>\n\n<pre><code>cd ~\nbundle config build.eventmachine --with-cppflags=-I$(brew --prefix openssl)/include\n</code></pre>\n\n<p>it'll create a .bundle/config file in your home directory, which is then used in all your projects when you run <code>bundle install</code>.</p>\n", "title": "gem eventmachine fatal error: &#39;openssl/ssl.h&#39; file not found", "answer_id": 34463956, "question_id": 30818391, "tags": ["ruby", "osx", "openssl", "homebrew", "eventmachine"]}, {"body": "<pre><code>gem pristine eventmachine -- --with-cppflags=-I/usr/local/opt/openssl/include\n</code></pre>\n\n<p>pristine removes the old gem and recompiles it.</p>\n\n<p>The cpp flags option allows the compiler to find the openssl headers.</p>\n\n<p>You can also add the version if you like:</p>\n\n<pre><code>gem pristine eventmachine -v '1.0.4' -- --with-cppflags=-I/usr/local/opt/openssl/include\n</code></pre>\n", "title": "gem eventmachine fatal error: &#39;openssl/ssl.h&#39; file not found", "answer_id": 34799128, "question_id": 30818391, "tags": ["ruby", "osx", "openssl", "homebrew", "eventmachine"]}], "question_id": 30818391}, {"body": "<h2>Findings:</h2>\n\n<ol>\n<li>Difference between <a href=\"http://stackoverflow.com/q/19995007/1083093\"><strong><em>Picasso v/s ImageLoader here\n...</em></strong></a></li>\n<li>Info about the library <a href=\"https://github.com/bumptech/glide\"><strong><em>GLIDE here ...</em></strong></a></li>\n<li>Now recently Facebook released new image library called\n<a href=\"https://github.com/facebook/fresco\"><strong><em>Fresco</em></strong></a></li>\n</ol>\n\n<hr>\n\n<h2>Questions:</h2>\n\n<ol>\n<li>What is the difference between Picasso v/s Imageloader v/s Fresco</li>\n<li>When can we use Glide</li>\n<li>Which is the best library to use.</li>\n<li>If Each libraries have their own significance, what are they ?</li>\n</ol>\n", "title": "Picasso v/s Imageloader v/s Fresco vs Glide", "tags": ["android", "universal-image-loader", "picasso", "fresco", "android-glide"], "answer_count": 6, "link": "http://stackoverflow.com/questions/29363321/picasso-v-s-imageloader-v-s-fresco-vs-glide", "answers": [{"body": "<p>These answers are totally my opinion</p>\n\n<h2>Answers</h2>\n\n<ol>\n<li><p>Picasso is an easy to use image loader, same goes for Imageloader. Fresco uses a different approach to image loading, i haven't used it yet but it looks too me more like a solution for getting image from network and caching them then showing the images. then the other way around like Picasso/Imageloader/Glide which to me are more Showing image on screen that also does getting images from network and caching them.</p></li>\n<li><p>Glide tries to be somewhat interchangeable with Picasso.I think when they were created Picasso's mind set was follow HTTP spec's and let the server decide the caching policies and cache full sized and resize on demand. Glide is the same with following the HTTP spec but tries to have a smaller memory footprint by making some different assumptions like cache the resized images instead of the fullsized images, and show images with RGB_565 instead of RGB_8888. Both libraries offer full customization of the default settings.</p></li>\n<li><p>As to which library is the best to use is really hard to say. Picasso, Glide and Imageloader are well respected and well tested libraries which all are easy to use with the default settings. Both Picasso and Glide require only 1 line of code to load an image and have a placeholder and error image. Customizing the behaviour also doesn't require that much work. Same goes for Imageloader which is also an older library then Picasso and Glide, however I haven't used it so can't say much about performance/memory usage/customizations but looking at the readme on github gives me the impression that it is also relatively easy to use and setup. So in choosing any of these 3 libraries you can't make the wrong decision, its more a matter of personal taste. For fresco my opinion is that its another facebook library so we have to see how that is going to work out for them, so far there track record isn't that good. <strike>Like the facebook SDK is  still isn't officially released on mavenCentral</strike> I have not used to facebook sdk since sept 2014 and it seems they have put the first version online on mavenCentral in oct 2014. So it will take some time before we can get any good opinion about it.</p></li>\n<li><p>between the 3 big name libraries I think there are no significant differences. The only one that stand out is fresco but that is because it has a different approach and is new and not battle tested.</p></li>\n</ol>\n", "title": "Picasso v/s Imageloader v/s Fresco vs Glide", "answer_id": 29558169, "question_id": 29363321, "tags": ["android", "universal-image-loader", "picasso", "fresco", "android-glide"]}, {"body": "<p>I am one of the engineers on the Fresco project. So obviously I'm biased.</p>\n\n<p>But you don't have to take my word for it. We've released a sample app that allows you to compare the performance of five libraries - Fresco, Picasso, UIL, Glide, and Volley Image Loader - side by side. You can get it at our GitHub repo.</p>\n\n<p>I should also point out that Fresco is available on Maven Central, as <code>com.facebook.fresco:fresco</code>.</p>\n\n<p>Fresco offers features that Picasso, UIL, and Glide do not yet have:</p>\n\n<ol>\n<li>Images aren't stored in the Java heap, but in the ashmem heap. Intermediate byte buffers are also stored in the native heap. This leaves a lot more memory available for applications to use. It reduces the risk of OutOfMemoryErrors. It also reduces the amount of garbage collection apps have to do, leading to better performance.</li>\n<li>Progressive JPEG images can be streamed, just like in a web browser.</li>\n<li>Images can be cropped around any point, not just the centre.</li>\n<li>JPEG images can be resized natively. This avoid the problem of OOMing while trying to downsize an image.</li>\n</ol>\n\n<p>There are many others (see our documentation), but these are the most important.</p>\n", "title": "Picasso v/s Imageloader v/s Fresco vs Glide", "answer_id": 29567946, "question_id": 29363321, "tags": ["android", "universal-image-loader", "picasso", "fresco", "android-glide"]}, {"body": "<p>Mind you that this is a highly opinion based question, so I stopped making fjords and made a quick table </p>\n\n<p><img src=\"http://i.stack.imgur.com/TdLCr.png\" alt=\"enter image description here\"></p>\n\n<p>Now library comparison is hard because on many parameters, all the four pretty much do the same thing, except possibly for Fresco because there is a whole bunch of new memory level optimizations in it.So let me know if certain parameters you'd like to see a comparison for based on my experience.</p>\n\n<p>Having used Fresco the least, the answer might evolve as I continue to use and understand it for current exploits. The <code>used personally</code> is having used the library atleast once in a completed app. </p>\n\n<p>*Note - Fresco now supports GIF as well as WebP animations</p>\n", "title": "Picasso v/s Imageloader v/s Fresco vs Glide", "answer_id": 29677374, "question_id": 29363321, "tags": ["android", "universal-image-loader", "picasso", "fresco", "android-glide"]}, {"body": "<p>Neither Glide nor Picasso is perfect. The way Glide loads an image to memory and do the caching is better than Picasso which let an image loaded far faster. In addition, it also helps preventing an app from popular OutOfMemoryError. GIF Animation loading is a killing feature provided by Glide. Anyway Picasso decodes an image with better quality than Glide.</p>\n\n<p>Which one do I prefer? Although I use Picasso for such a very long time, I must admit that I now prefer Glide. But I would recommend you to change Bitmap Format to ARGB_8888 and let Glide cache both full-size image and resized one first. The rest would do your job great!</p>\n\n<ul>\n<li>Method count of Picasso and Glide are at 840 and 2678 respectively.</li>\n<li>Picasso (v2.5.1)'s size is around 118KB while Glide (v3.5.2)'s is around 430KB.</li>\n<li>Glide creates cached images per size while Picasso saves the full image and process it, so on load it shows faster with Glide but uses more memory.</li>\n<li>Glide use less memory by default with <code>RGB_565</code>.</li>\n</ul>\n\n<p>+1 For Picasso <a href=\"https://github.com/florent37/PicassoPalette\">Palette Helper</a>.</p>\n\n<p>There is a post that talk a lot about Picasso vs Glide <a href=\"http://inthecheesefactory.com/blog/get-to-know-glide-recommended-by-google/en\">post</a></p>\n", "title": "Picasso v/s Imageloader v/s Fresco vs Glide", "answer_id": 29720230, "question_id": 29363321, "tags": ["android", "universal-image-loader", "picasso", "fresco", "android-glide"]}, {"body": "<p><strong>Fresco</strong> <em><a href=\"https://github.com/facebook/fresco\">link</a></em>\n<br>(-)<br>\n - Huge size of library<br>\n - App freeze while loading big images from internet into ListView<br>\n - Huge size of cache<br>\n(+)<br>\n - Pretty fast image loader (for small &amp;&amp; medium images)<br>\n - A lot of functionality<br></p>\n\n<p><br><strong>Picasso</strong> <em><a href=\"https://github.com/square/picasso\">link</a></em>\n<br>(-)<br>\n - Slow loading big images from internet into ListView<br>\n(+)<br>\n - Tinny size of library<br>\n - Small size of cache<br>\n - Simple in use<br>\n - UI is not freeze<br></p>\n\n<p><br><strong>Glide</strong> <em><a href=\"https://github.com/bumptech/glide\">link</a></em>\n<br>(-)<br>\n - ...<br>\n(+)<br>\n - Small size of library<br>\n - Tinny size of cache<br>\n - Simple in use<br>\n - GIF (animated image) support<br>\n - Fast loading big images from internet into ListView<br>\n - UI is not freeze<br></p>\n\n<p><br>\nTested by me on SGS2 (Android 4.1) (WiFi 8.43 Mbps)<br><br>\n<em>For now I am using Glide.</em><br>\n<em>Read more <a href=\"http://inthecheesefactory.com/blog/get-to-know-glide-recommended-by-google/en\">here</a>.</em></p>\n\n<hr>\n\n<p><em>You can <a href=\"http://stackoverflow.com/questions/34253434/glide-cache-to-external-storage-sd-card\">write cache to External Storage (SD Card)</a> with Glide.</em></p>\n", "title": "Picasso v/s Imageloader v/s Fresco vs Glide", "answer_id": 33210679, "question_id": 29363321, "tags": ["android", "universal-image-loader", "picasso", "fresco", "android-glide"]}, {"body": "<p>I want to share with you a <strong>benchmark</strong> I have done among <strong>Picasso, Universal Image Loader and Glide</strong>: <a href=\"https://bit.ly/1kQs3QN\">https://bit.ly/1kQs3QN</a></p>\n\n<p>Fresco was out of the benchmark because for the project I was running the test, we didn't want to refactor our layouts (because of the Drawee view).</p>\n\n<p>What I recommend is <strong>Universal Image Loader</strong> because of its customization, memory consumption and balance between size and methods.</p>\n\n<p>If you have a <strong>small project, I would go for Glide</strong> (or give Fresco a try).</p>\n", "title": "Picasso v/s Imageloader v/s Fresco vs Glide", "answer_id": 33683762, "question_id": 29363321, "tags": ["android", "universal-image-loader", "picasso", "fresco", "android-glide"]}], "question_id": 29363321}, {"body": "<p>I would like to store the motion capture data from kinect 2 as a bvh file. I found code which does so for kinect 1 which can be found <a href=\"https://bitbucket.org/nguyenivan/kinect2bvh.v2/src/d19ccd4e76318e86241351adada6b7752aa9e1b5?at=master\">here</a>. I went through the code and found several things that I can not understand.\nFor example, in the mentioned code I've tried to understand what exactly the Skeleton <strong>skel</strong> object, found in several places in the code, actually is. If not, are there any known application of what I'm trying to accomplish available?</p>\n\n<p>EDIT: I tried to change Skeleton skel to Body skel which I think is the correspondant object for kinect SDK 2.0. However I've got an error when I try to get the position of the body:</p>\n\n<pre><code>tempMotionVektor[0] = -Math.Round( skel.Position.X * 100,2);\ntempMotionVektor[1] = Math.Round( skel.Position.Y * 100,2) + 120;\ntempMotionVektor[2] = 300 - Math.Round( skel.Position.Z * 100,2);\n</code></pre>\n\n<p>I've gotten errors when calling the function Position for the Body skel. How can I retrieve the X, Y, Z of the skeleton in sdk 2.0?? I tried to change the above three lines to:</p>\n\n<pre><code>tempMotionVektor[0] = -Math.Round(skel.Joints[0].Position.X * 100, 2);\ntempMotionVektor[1] = Math.Round(skel.Joints[0].Position.Y * 100, 2) + 120;\ntempMotionVektor[2] = 300 - Math.Round(skel.Joints[0].Position.Z * 100, 2);\n</code></pre>\n\n<p>EDIT: Basically I managed to store the a bvh file after combining bodyBasicsWPF and kinect2bvh. However, it seems that the skeleton I am storing is not efficient. There are strange movements in the elbows. I am trying to understand if I have to change something in the file <a href=\"https://bitbucket.org/nguyenivan/kinect2bvh.v2/src/d19ccd4e76318e86241351adada6b7752aa9e1b5/erstesKinectProjekt/KinectSkeletonBVH.cs?at=master\">kinectSkeletonBVH.cp</a>. More specifically, what are the changes in the joint axis orientation for the kinect 2 version. How can I change the following line: <code>skel.BoneOrientations[JointType.ShoulderCenter].AbsoluteRotation.Quaternion;</code>  I tried to change that line with <code>skel.JointOrientations[JointType.ShoulderCenter].Orientation</code>. Am I right? I am using the following code to add the joint to BVHBone objects:</p>\n\n<pre><code>BVHBone hipCenter = new BVHBone(null, JointType.SpineBase.ToString(), 6, TransAxis.None, true);\nBVHBone hipCenter2 = new BVHBone(hipCenter, \"HipCenter2\", 3, TransAxis.Y, false);\nBVHBone spine = new BVHBone(hipCenter2, JointType.SpineMid.ToString(), 3, TransAxis.Y, true);\nBVHBone shoulderCenter = new BVHBone(spine, JointType.SpineShoulder.ToString(), 3, TransAxis.Y, true);\n\nBVHBone collarLeft = new BVHBone(shoulderCenter, \"CollarLeft\", 3, TransAxis.X, false);\nBVHBone shoulderLeft = new BVHBone(collarLeft, JointType.ShoulderLeft.ToString(), 3, TransAxis.X, true);\nBVHBone elbowLeft = new BVHBone(shoulderLeft, JointType.ElbowLeft.ToString(), 3, TransAxis.X, true);\nBVHBone wristLeft = new BVHBone(elbowLeft, JointType.WristLeft.ToString(), 3, TransAxis.X, true);\nBVHBone handLeft = new BVHBone(wristLeft, JointType.HandLeft.ToString(), 0, TransAxis.X, true);\n\nBVHBone neck = new BVHBone(shoulderCenter, \"Neck\", 3, TransAxis.Y, false);\nBVHBone head = new BVHBone(neck, JointType.Head.ToString(), 3, TransAxis.Y, true);\nBVHBone headtop = new BVHBone(head, \"Headtop\", 0, TransAxis.None, false);\n</code></pre>\n\n<p>I can't understand where inside the code calculate the axis for every Joint.</p>\n", "title": "Storing kinect&#39;s v2.0 motion to BVH file", "tags": ["c#", "kinect", "motion-detection"], "answer_count": 0, "link": "http://stackoverflow.com/questions/30453656/storing-kinects-v2-0-motion-to-bvh-file", "question_id": 30453656}, {"body": "<p>I have a simple class written in Android Studio:</p>\n\n<pre><code>package com.mysite.myapp;\n\nimport org.apache.http.client.HttpClient;\n\npublic class Whatever {\n    public void headBangingAgainstTheWallExample () {\n        HttpClient client = new DefaultHttpClient();\n    }\n}\n</code></pre>\n\n<p>and from this I get the following compile time error:</p>\n\n<p><code>Cannot resolve symbol HttpClient</code></p>\n\n<p>Isn't <code>HttpClient</code> included in the Android Studio SDK? Even if it is not, I added it to my Gradle build like this:</p>\n\n<pre><code>dependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    compile 'com.android.support:appcompat-v7:23.0.0'\n    compile 'org.apache.httpcomponents:httpclient:4.5'\n}\n</code></pre>\n\n<p>With or without the last compile line, the error is the same. What am I missing?</p>\n", "title": "HttpClient won&#39;t import in Android Studio", "tags": ["android", "android-studio", "android-gradle", "apache-httpclient-4.x"], "answer_count": 17, "link": "http://stackoverflow.com/questions/32153318/httpclient-wont-import-in-android-studio", "answers": [{"body": "<p><code>HttpClient</code> is not supported any more in sdk 23. You have to use <code>URLConnection</code> or downgrade to sdk 22 (<code>compile 'com.android.support:appcompat-v7:22.2.0'</code>)</p>\n\n<p>If you need sdk 23, add this to your gradle:</p>\n\n<pre><code>android {\n    useLibrary 'org.apache.http.legacy'\n}\n</code></pre>\n\n<p>You also may try to download and include <a href=\"http://hc.apache.org/downloads.cgi\">HttpClient jar</a> directly into your project or use <a href=\"http://square.github.io/okhttp/\">OkHttp</a> instead</p>\n", "title": "HttpClient won&#39;t import in Android Studio", "answer_id": 32153434, "question_id": 32153318, "tags": ["android", "android-studio", "android-gradle", "apache-httpclient-4.x"]}, {"body": "<p>Which API target do you have within your project?<code>AndroidHttpClient</code>is only for API Level 8 &lt;.\nand please have a look on <a href=\"https://hc.apache.org/httpcomponents-client-4.5.x/httpclient/dependency-info.html\" rel=\"nofollow\">here</a></p>\n\n<p>enjoy your code:)</p>\n", "title": "HttpClient won&#39;t import in Android Studio", "answer_id": 32153440, "question_id": 32153318, "tags": ["android", "android-studio", "android-gradle", "apache-httpclient-4.x"]}, {"body": "<p>ApacheHttp Client is removed in v23 sdk. You can use HttpURLConnection  or third party Http Client like OkHttp.</p>\n\n<p>ref : <code>https://developer.android.com/preview/behavior-changes.html#behavior-apache-http-client</code></p>\n", "title": "HttpClient won&#39;t import in Android Studio", "answer_id": 32153444, "question_id": 32153318, "tags": ["android", "android-studio", "android-gradle", "apache-httpclient-4.x"]}, {"body": "<p>HttpClient was deprecated in API Level 22 and removed in API Level 23. You can still use it in API Level 23 and onwards if you must, however it is best to move to supported methods to handle HTTP. So, if you're compiling with 23, add this in your build.gradle:</p>\n\n<pre><code>android {\n    useLibrary 'org.apache.http.legacy'\n}\n</code></pre>\n", "title": "HttpClient won&#39;t import in Android Studio", "answer_id": 32157466, "question_id": 32153318, "tags": ["android", "android-studio", "android-gradle", "apache-httpclient-4.x"]}, {"body": "<p>1- download Apache jar files (as of this answer) 4.5.zip file from:<br>\n<a href=\"https://hc.apache.org/downloads.cgi?Preferred=http%3A%2F%2Fapache.arvixe.com%2F\">https://hc.apache.org/downloads.cgi?Preferred=http%3A%2F%2Fapache.arvixe.com%2F</a></p>\n\n<p>2- open the zip copy the jar files into your libs folder. You can find it if you go to the top of your project where it says \"Android\" you'll find a list when u click it. So, </p>\n\n<blockquote>\n  <p>Android -> Project -> app -> libs</p>\n</blockquote>\n\n<p>,Then put jars there.</p>\n\n<p>3- In build.grale (Mudule: app) add</p>\n\n<pre><code>compile fileTree(dir: 'libs', include: ['*.jar'])\n</code></pre>\n\n<p>in</p>\n\n<pre><code> dependency { \n   }\n</code></pre>\n\n<p>4- In the java class add these imports:</p>\n\n<pre><code>import org.apache.http.HttpResponse;\n\nimport org.apache.http.client.HttpClient;\n\nimport org.apache.http.client.methods.HttpGet;\n\nimport org.apache.http.impl.client.DefaultHttpClient;\n\nimport org.apache.http.params.CoreProtocolPNames;\n</code></pre>\n", "title": "HttpClient won&#39;t import in Android Studio", "answer_id": 32459786, "question_id": 32153318, "tags": ["android", "android-studio", "android-gradle", "apache-httpclient-4.x"]}, {"body": "<p>To use Apache HTTP for SDK Level 23:</p>\n\n<p><strong>Top level build.gradle - /build.gradle</strong></p>\n\n<pre><code>buildscript {\n    ...\n    dependencies {\n        classpath 'com.android.tools.build:gradle:1.5.0' \n        // Lowest version for useLibrary is 1.3.0\n        // Android Studio will notify you about the latest stable version\n        // See all versions: http://jcenter.bintray.com/com/android/tools/build/gradle/\n    }\n    ...\n}\n</code></pre>\n\n<p>Notification from Android studio about gradle update:</p>\n\n<p><a href=\"http://i.stack.imgur.com/HCIjM.png\"><img src=\"http://i.stack.imgur.com/HCIjM.png\" alt=\"Notification from Android studio about gradle update\"></a></p>\n\n<p><strong>Module specific build.gradle - /app/build.gradle</strong></p>\n\n<pre><code>android {\n    compileSdkVersion 23\n    buildToolsVersion \"23.0.2\"\n    ...\n    useLibrary 'org.apache.http.legacy'\n    ...\n}\n</code></pre>\n", "title": "HttpClient won&#39;t import in Android Studio", "answer_id": 32626873, "question_id": 32153318, "tags": ["android", "android-studio", "android-gradle", "apache-httpclient-4.x"]}, {"body": "<p>in API 22 they become deprecated and in API 23 they removed them completely, a simple workaround if you don't need all the fancy stuff from the new additions is to simply use the .jar files from apache that were integrated before API 22, but as separated .jar files:</p>\n\n<pre><code>1. http://hc.apache.org/downloads.cgi\n2. download httpclient 4.5.1, the zile file\n3. unzip all files\n4. drag in your project httpclient-4.5.1.jar, httpcore-4.4.3.jar and httpmime-4.5.1.jar\n5. project, right click, open module settings, app, dependencies, +, File dependency and add the 3 files\n6. now everything should compile properly\n</code></pre>\n", "title": "HttpClient won&#39;t import in Android Studio", "answer_id": 32636439, "question_id": 32153318, "tags": ["android", "android-studio", "android-gradle", "apache-httpclient-4.x"]}, {"body": "<p>You can simply add this to Gradle dependencies:</p>\n\n<pre><code>compile \"org.apache.httpcomponents:httpcore:4.3.2\"\n</code></pre>\n", "title": "HttpClient won&#39;t import in Android Studio", "answer_id": 32823213, "question_id": 32153318, "tags": ["android", "android-studio", "android-gradle", "apache-httpclient-4.x"]}, {"body": "<p>TejaDroid's answer in below link helped me .  <a href=\"http://stackoverflow.com/questions/32340629/cant-import-org-apache-http-httpresponse-in-android-studio\">Can&#39;t import org.apache.http.HttpResponse in android studio</a></p>\n\n<pre><code>dependencies {\n    compile fileTree(include: ['*.jar'], dir: 'libs')\n    compile 'com.android.support:appcompat-v7:23.0.1'\n\n    compile 'org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2'\n    ...\n}\n</code></pre>\n", "title": "HttpClient won&#39;t import in Android Studio", "answer_id": 33405974, "question_id": 32153318, "tags": ["android", "android-studio", "android-gradle", "apache-httpclient-4.x"]}, {"body": "<blockquote>\n  <p>Another way is if you have <strong>httpclient.jar</strong> file then you can do\n  this :</p>\n</blockquote>\n\n<p>Paste your .jar file in \"libs folder\" in your project. Then in gradle add this line in your build.gradle(Module:app)</p>\n\n<pre><code>dependencies {\ncompile fileTree(include: ['*.jar'], dir: 'libs')\ncompile 'com.android.support:appcompat-v7:23.0.0'\ncompile files('libs/httpcore-4.3.3.jar')\n}\n</code></pre>\n", "title": "HttpClient won&#39;t import in Android Studio", "answer_id": 34130198, "question_id": 32153318, "tags": ["android", "android-studio", "android-gradle", "apache-httpclient-4.x"]}, {"body": "<p>Try this\nworked for me\nAdd this dependency to your build.gradle File</p>\n\n<pre><code>compile 'org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2'\n</code></pre>\n", "title": "HttpClient won&#39;t import in Android Studio", "answer_id": 34236522, "question_id": 32153318, "tags": ["android", "android-studio", "android-gradle", "apache-httpclient-4.x"]}, {"body": "<p>Android 6.0 (API Level 23) release removes support for the Apache HTTP client. Hence you can not use this library directly in API 23. But there is a way to use it. Add useLibrary \u2018org.apache.http.legacy\u2019 in your build.gradle file as below-</p>\n\n<pre><code>android {\n    useLibrary 'org.apache.http.legacy'\n}\n</code></pre>\n\n<p>If this does not work you may apply the following hack-</p>\n\n<p>\u2013 Copy org.apache.http.legacy.jar which is in /platforms/android-23/optional path of your Android SDK directory to your project\u2019s app/libs folder.</p>\n\n<p>\u2013 Now Add compile files(\u2018libs/org.apache.http.legacy.jar\u2019) inside dependencies{} section of build.gradle file.</p>\n", "title": "HttpClient won&#39;t import in Android Studio", "answer_id": 34446588, "question_id": 32153318, "tags": ["android", "android-studio", "android-gradle", "apache-httpclient-4.x"]}, {"body": "<p>Simply use this :-</p>\n\n<pre><code>android {\n         .\n         .\n         .\n useLibrary 'org.apache.http.legacy'\n         .\n         .\n         .\n          }\n</code></pre>\n", "title": "HttpClient won&#39;t import in Android Studio", "answer_id": 34511435, "question_id": 32153318, "tags": ["android", "android-studio", "android-gradle", "apache-httpclient-4.x"]}, {"body": "<p>HttpClient is not supported any more in sdk 23. Android 6.0 (API Level 23) release removes support for the Apache HTTP client.\nYou have to use </p>\n\n<pre><code>android {\n    useLibrary 'org.apache.http.legacy'\n    .\n    .\n    .\n</code></pre>\n\n<p>and also add below code snippet in your dependency : </p>\n\n<p>//http final solution for web-service (including file uploading)</p>\n\n<pre><code>compile('org.apache.httpcomponents:httpmime:4.3.6') {\n        exclude module: 'httpclient'\n}\n compile 'org.apache.httpcomponents:httpclient-android:4.3.5'\n</code></pre>\n\n<p>It will also help you while you use Use <strong>MultipartEntity</strong> for <strong>File upload</strong>.</p>\n", "title": "HttpClient won&#39;t import in Android Studio", "answer_id": 35475870, "question_id": 32153318, "tags": ["android", "android-studio", "android-gradle", "apache-httpclient-4.x"]}, {"body": "<p>I think depending on which Android Studio version you have, it's important you update your android studio as well, i was becoming frustrated too following everyone's advice but no luck, until i had to upgrade my android version from 1.3 to 1.5, the errors disappeared like magic. </p>\n", "title": "HttpClient won&#39;t import in Android Studio", "answer_id": 35983141, "question_id": 32153318, "tags": ["android", "android-studio", "android-gradle", "apache-httpclient-4.x"]}, {"body": "<p>HttpClient is not supported in sdk 23 and 23+.</p>\n\n<p>If you need to use into sdk 23, add below code to your gradle:</p>\n\n<pre><code>android {\n    useLibrary 'org.apache.http.legacy'\n}\n</code></pre>\n\n<p>Its working for me. Hope useful for you.</p>\n", "title": "HttpClient won&#39;t import in Android Studio", "answer_id": 38304200, "question_id": 32153318, "tags": ["android", "android-studio", "android-gradle", "apache-httpclient-4.x"]}, {"body": "<p>If you need sdk 23, add this to your gradle:</p>\n\n<pre><code>android {\n    useLibrary 'org.apache.http.legacy'\n}\n</code></pre>\n", "title": "HttpClient won&#39;t import in Android Studio", "answer_id": 38321941, "question_id": 32153318, "tags": ["android", "android-studio", "android-gradle", "apache-httpclient-4.x"]}], "question_id": 32153318}, {"body": "<p>has anyone with the iOS 9 beta 1 had this issue?  </p>\n\n<p>I use standard NSURLConnection to connect to a webservice and as soon as a call is made to the webservice i get the below error.  This is currently working in iOS 8.3</p>\n\n<p>Possible beta bug? any ideas or thoughts would be great ! I know its very early in iOS 9 development</p>\n\n<p>Here is the full error:</p>\n\n<blockquote>\n  <p>CFNetwork SSLHandshake failed (-9824)\n  NSURLSession/NSURLConnection HTTP load failed (kCFStreamErrorDomainSSL, -9824)</p>\n</blockquote>\n\n<pre><code> NSURLRequest * urlRequest = [NSURLRequest requestWithURL:[NSURL URLWithString:@\"https://mywebserviceurl\"]];\n        NSURLResponse * response = nil;\n        NSError * error = nil;\n        NSData * data = [NSURLConnection sendSynchronousRequest:urlRequest\n                                                  returningResponse:&amp;response\n                                                              error:&amp;error];\n</code></pre>\n", "title": "CFNetwork SSLHandshake failed iOS 9", "tags": ["ios", "ssl", "nsurlconnection", "ios9"], "answer_count": 11, "link": "http://stackoverflow.com/questions/30720813/cfnetwork-sslhandshake-failed-ios-9", "answers": [{"body": "<p>iOS 9 and OSX 10.11 require TLSv1.2 SSL for all hosts you plan to request data from unless you specify exception domains in your app's Info.plist file.</p>\n\n<p>The syntax for the Info.plist configuration looks like this:</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n  &lt;key&gt;NSExceptionDomains&lt;/key&gt;\n  &lt;dict&gt;\n    &lt;key&gt;yourserver.com&lt;/key&gt;\n    &lt;dict&gt;\n      &lt;!--Include to allow subdomains--&gt;\n      &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;\n      &lt;true/&gt;\n      &lt;!--Include to allow insecure HTTP requests--&gt;\n      &lt;key&gt;NSExceptionAllowsInsecureHTTPLoads&lt;/key&gt;\n      &lt;true/&gt;\n      &lt;!--Include to specify minimum TLS version--&gt;\n      &lt;key&gt;NSExceptionMinimumTLSVersion&lt;/key&gt;\n      &lt;string&gt;TLSv1.1&lt;/string&gt;\n    &lt;/dict&gt;\n  &lt;/dict&gt;\n&lt;/dict&gt;\n</code></pre>\n\n<p>If your application (a third-party web browser, for instance) needs to connect to arbitrary hosts, you can configure it like this:</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;!--Connect to anything (this is probably BAD)--&gt;\n    &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n    &lt;true/&gt;\n&lt;/dict&gt;\n</code></pre>\n\n<p>If you're having to do this, it's probably best to update your servers to use TLSv1.2 and SSL, if they're not already doing so. This should be considered a temporary workaround.</p>\n\n<p>As of today, the prerelease documentation makes no mention of any of these configuration options in any specific way. Once it does, I'll update the answer to link to the relevant documentation.</p>\n", "title": "CFNetwork SSLHandshake failed iOS 9", "answer_id": 30720929, "question_id": 30720813, "tags": ["ios", "ssl", "nsurlconnection", "ios9"]}, {"body": "<p>**IMPORTANT NOTE FOR iOS 10 BETA: **</p>\n\n<p>In iOS 10, the TLS string MUST be of the form \"TLSv1.0\". It can't just be \"1.0\". Yes, this is incredibly stupid and app-breaking. Welcome to iOS development.</p>\n\n<hr>\n\n<p>The following combination of the above advice works.</p>\n\n<p>Let's say you are trying to connect to a host (YOUR_HOST.COM) that only has TLS 1.0.</p>\n\n<p>Add these to your app's Info.plist</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;NSExceptionDomains&lt;/key&gt;\n    &lt;dict&gt;\n        &lt;key&gt;YOUR_HOST.COM&lt;/key&gt;\n        &lt;dict&gt;\n            &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;\n            &lt;true/&gt;\n            &lt;key&gt;NSTemporaryExceptionAllowsInsecureHTTPLoads&lt;/key&gt;\n            &lt;true/&gt;\n            &lt;key&gt;NSTemporaryExceptionMinimumTLSVersion&lt;/key&gt;\n            &lt;string&gt;TLSv1.0&lt;/string&gt;\n            &lt;key&gt;NSTemporaryExceptionRequiresForwardSecrecy&lt;/key&gt;\n            &lt;false/&gt;\n        &lt;/dict&gt;\n    &lt;/dict&gt;\n&lt;/dict&gt;\n</code></pre>\n", "title": "CFNetwork SSLHandshake failed iOS 9", "answer_id": 30882037, "question_id": 30720813, "tags": ["ios", "ssl", "nsurlconnection", "ios9"]}, {"body": "<p>For more info <a href=\"http://ste.vn/2015/06/10/configuring-app-transport-security-ios-9-osx-10-11/\">Configuring App Transport Security Exceptions in iOS 9 and OSX 10.11</a></p>\n\n<blockquote>\n  <p>Curiously, you\u2019ll notice that the connection attempts to change the\n  http protocol to https to protect against mistakes in your code where\n  you may have accidentally misconfigured the URL. In some cases, this\n  might actually work, but it\u2019s also confusing.</p>\n</blockquote>\n\n<p>This <a href=\"http://timekl.com/blog/2015/08/21/shipping-an-app-with-app-transport-security/\">Shipping an App With App Transport Security</a> covers some good debugging tips</p>\n\n<p><strong>ATS Failure</strong></p>\n\n<blockquote>\n  <p>Most ATS failures will present as CFErrors with a code in the -9800\n  series. These are defined in the Security/SecureTransport.h header</p>\n</blockquote>\n\n<pre><code>2015-08-23 06:34:42.700 SelfSignedServerATSTest[3792:683731] NSURLSession/NSURLConnection HTTP load failed (kCFStreamErrorDomainSSL, -9813)\n</code></pre>\n\n<p><strong>CFNETWORK_DIAGNOSTICS</strong></p>\n\n<blockquote>\n  <p>Set the environment variable CFNETWORK_DIAGNOSTICS to 1 in order to\n  get more information on the console about the failure</p>\n</blockquote>\n\n<p><strong>nscurl</strong></p>\n\n<blockquote>\n  <p>The tool will run through several different combinations of ATS\n  exceptions, trying a secure connection to the given host under each\n  ATS configuration and reporting the result.</p>\n</blockquote>\n\n<pre><code>nscurl --ats-diagnostics https://example.com\n</code></pre>\n", "title": "CFNetwork SSLHandshake failed iOS 9", "answer_id": 32046052, "question_id": 30720813, "tags": ["ios", "ssl", "nsurlconnection", "ios9"]}, {"body": "<p>If your backend uses a secure connection ant you get using NSURLSession</p>\n\n<pre><code>CFNetwork SSLHandshake failed (-9801)\nNSURLSession/NSURLConnection HTTP load failed (kCFStreamErrorDomainSSL, -9801)\n</code></pre>\n\n<p>you need to check your server configuration especially to get ATS version and SSL certificate Info:</p>\n\n<p>Instead of just <strong>Allowing Insecure Connection</strong> by setting <code>NSExceptionAllowsInsecureHTTPLoads = YES</code> , instead you need to <strong>Allow Lowered Security</strong> in case your server do not meet the min requirement (v1.2) for ATS (or better to fix server side). </p>\n\n<p><strong>Allowing Lowered Security to a Single Server</strong></p>\n\n<pre><code>&lt;key&gt;NSExceptionDomains&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;api.yourDomaine.com&lt;/key&gt;\n    &lt;dict&gt;\n        &lt;key&gt;NSExceptionMinimumTLSVersion&lt;/key&gt;\n        &lt;string&gt;TLSv1.0&lt;/string&gt;\n        &lt;key&gt;NSExceptionRequiresForwardSecrecy&lt;/key&gt;\n        &lt;false/&gt;\n    &lt;/dict&gt;\n&lt;/dict&gt;\n</code></pre>\n\n<p>use openssl client to investigate certificate and get your server configuration using openssl client :</p>\n\n<pre><code>openssl s_client  -connect api.yourDomaine.com:port //(you may need to specify port or  to try with https://... or www.)\n</code></pre>\n\n<p>..find at the end</p>\n\n<pre><code>SSL-Session:\n    Protocol  : TLSv1\n    Cipher    : AES256-SHA\n    Session-ID: //\n    Session-ID-ctx: \n    Master-Key: //\n    Key-Arg   : None\n    Start Time: 1449693038\n    Timeout   : 300 (sec)\n    Verify return code: 0 (ok)\n</code></pre>\n\n<p>App Transport Security (ATS) require Transport Layer Security (TLS) protocol version 1.2.</p>\n\n<p><a href=\"https://developer.apple.com/library/prerelease/ios/documentation/General/Reference/InfoPlistKeyReference/Articles/CocoaKeys.html#//apple_ref/doc/uid/TP40009251-SW33\" rel=\"nofollow\">Requirements for Connecting Using ATS:</a></p>\n\n<blockquote>\n  <p>The requirements for a web service connection to use App Transport Security (ATS) involve the server, connection ciphers, and certificates, as follows:</p>\n  \n  <p>Certificates must be signed with one of the following types of keys:</p>\n  \n  <ul>\n  <li>Secure Hash Algorithm 2 (SHA-2) key with a digest length of at least    256 (that is, SHA-256 or greater)</li>\n  <li><p>Elliptic-Curve Cryptography (ECC) key with a size of at least 256    bits</p></li>\n  <li><p>Rivest-Shamir-Adleman (RSA) key with a length of at least 2048 bits An\n  invalid certificate results in a hard failure and no connection.</p></li>\n  </ul>\n  \n  <p>The following connection ciphers support forward secrecy (FS) and work\n  with ATS:</p>\n  \n  <p>TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384\n  TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256\n  TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384\n  TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA\n  TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\n  TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA\n  TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384\n  TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\n  TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384\n  TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\n  TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA</p>\n</blockquote>\n\n<p><strong>Update: it turns out that openssl only provide the minimal protocol version Protocol  : TLSv1   <a href=\"https://www.google.ca/#q=minimal+protocol+version+TLS+openssl\" rel=\"nofollow\">links</a></strong> </p>\n", "title": "CFNetwork SSLHandshake failed iOS 9", "answer_id": 34189511, "question_id": 30720813, "tags": ["ios", "ssl", "nsurlconnection", "ios9"]}, {"body": "<p>info.plist as below or just copy &amp; past that work for me up to iOS 9.2</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\"&gt;\n&lt;plist version=\"1.0\"&gt;\n    &lt;dict&gt;\n        &lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n        &lt;dict&gt;\n            &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n            &lt;true/&gt;\n        &lt;/dict&gt;\n\n    &lt;key&gt;CFBundleDevelopmentRegion&lt;/key&gt;\n    &lt;string&gt;en&lt;/string&gt;\n    &lt;key&gt;CFBundleExecutable&lt;/key&gt;\n    &lt;string&gt;$(EXECUTABLE_NAME)&lt;/string&gt;\n    &lt;key&gt;CFBundleIdentifier&lt;/key&gt;\n    &lt;string&gt;$(PRODUCT_BUNDLE_IDENTIFIER)&lt;/string&gt;\n    &lt;key&gt;CFBundleInfoDictionaryVersion&lt;/key&gt;\n    &lt;string&gt;6.0&lt;/string&gt;\n    &lt;key&gt;CFBundleName&lt;/key&gt;\n    &lt;string&gt;$(PRODUCT_NAME)&lt;/string&gt;\n    &lt;key&gt;CFBundlePackageType&lt;/key&gt;\n    &lt;string&gt;APPL&lt;/string&gt;\n    &lt;key&gt;CFBundleShortVersionString&lt;/key&gt;\n    &lt;string&gt;1.0&lt;/string&gt;\n    &lt;key&gt;CFBundleSignature&lt;/key&gt;\n    &lt;string&gt;????&lt;/string&gt;\n    &lt;key&gt;CFBundleVersion&lt;/key&gt;\n    &lt;string&gt;1.0&lt;/string&gt;\n    &lt;key&gt;LSRequiresIPhoneOS&lt;/key&gt;\n    &lt;true/&gt;\n    &lt;key&gt;UILaunchStoryboardName&lt;/key&gt;\n    &lt;string&gt;LaunchScreen&lt;/string&gt;\n    &lt;key&gt;UIMainStoryboardFile&lt;/key&gt;\n    &lt;string&gt;Main&lt;/string&gt;\n    &lt;key&gt;UIRequiredDeviceCapabilities&lt;/key&gt;\n    &lt;array&gt;\n        &lt;string&gt;armv7&lt;/string&gt;\n    &lt;/array&gt;\n    &lt;key&gt;UISupportedInterfaceOrientations&lt;/key&gt;\n    &lt;array&gt;\n        &lt;string&gt;UIInterfaceOrientationPortrait&lt;/string&gt;\n        &lt;string&gt;UIInterfaceOrientationLandscapeLeft&lt;/string&gt;\n        &lt;string&gt;UIInterfaceOrientationLandscapeRight&lt;/string&gt;\n    &lt;/array&gt;\n    &lt;key&gt;UISupportedInterfaceOrientations~ipad&lt;/key&gt;\n    &lt;array&gt;\n        &lt;string&gt;UIInterfaceOrientationPortrait&lt;/string&gt;\n        &lt;string&gt;UIInterfaceOrientationPortraitUpsideDown&lt;/string&gt;\n        &lt;string&gt;UIInterfaceOrientationLandscapeLeft&lt;/string&gt;\n        &lt;string&gt;UIInterfaceOrientationLandscapeRight&lt;/string&gt;\n    &lt;/array&gt;\n&lt;/dict&gt;\n&lt;/plist&gt;\n</code></pre>\n", "title": "CFNetwork SSLHandshake failed iOS 9", "answer_id": 35450626, "question_id": 30720813, "tags": ["ios", "ssl", "nsurlconnection", "ios9"]}, {"body": "<p>This error was showing up in the logs sometimes when I was using a buggy/crashy Cordova iOS version. It went away when I upgraded or downgraded cordova iOS.</p>\n\n<p>The server I was connecting to was using TLSv1.2 SSL so I knew that was not the problem.</p>\n", "title": "CFNetwork SSLHandshake failed iOS 9", "answer_id": 35948240, "question_id": 30720813, "tags": ["ios", "ssl", "nsurlconnection", "ios9"]}, {"body": "<p>In your project  <code>.plist</code> file in add this permission :</p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;!--Connect to anything (this is probably BAD)--&gt;\n    &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n    &lt;true/&gt;\n&lt;/dict&gt;\n</code></pre>\n", "title": "CFNetwork SSLHandshake failed iOS 9", "answer_id": 36306832, "question_id": 30720813, "tags": ["ios", "ssl", "nsurlconnection", "ios9"]}, {"body": "<p>The syntax for the Info.plist configuration</p>\n\n<pre><code>   &lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n   &lt;dict&gt;\n   &lt;key&gt;NSExceptionDomains&lt;/key&gt;\n    &lt;dict&gt;\n    &lt;key&gt;yourserver.com&lt;/key&gt;\n   &lt;dict&gt;\n  &lt;!--Include to allow subdomains--&gt;\n  &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;\n  &lt;true/&gt;\n  &lt;!--Include to allow insecure HTTP requests--&gt;\n  &lt;key&gt;NSExceptionAllowsInsecureHTTPLoads&lt;/key&gt;\n  &lt;true/&gt;\n  &lt;!--Include to specify minimum TLS version--&gt;\n  &lt;key&gt;NSExceptionMinimumTLSVersion&lt;/key&gt;\n  &lt;string&gt;TLSv1.1&lt;/string&gt;\n   &lt;/dict&gt;\n &lt;/dict&gt;\n</code></pre>\n\n<p></p>\n", "title": "CFNetwork SSLHandshake failed iOS 9", "answer_id": 37612372, "question_id": 30720813, "tags": ["ios", "ssl", "nsurlconnection", "ios9"]}, {"body": "<p><strong>Updated Answer (post-WWDC 2016):</strong></p>\n\n<blockquote>\n  <p>iOS apps will require secure HTTPS connections by the end of\n  2016. Trying  turn ATS off may get your app rejected in the future.</p>\n</blockquote>\n\n<p>App Transport Security, or ATS, is a feature that Apple introduced in iOS 9. When ATS is enabled, it forces an app to connect to web services over an HTTPS connection rather than non secure HTTP.</p>\n\n<p>However, developers can still switch ATS off and allow their apps to send data over an HTTP connection as mentioned in above answers. At the end of 2016, Apple will make <strong>ATS mandatory</strong> for all developers who hope to submit their apps to the App Store. link</p>\n", "title": "CFNetwork SSLHandshake failed iOS 9", "answer_id": 37833080, "question_id": 30720813, "tags": ["ios", "ssl", "nsurlconnection", "ios9"]}, {"body": "<p>Another useful tool is nmap (brew install nmap)</p>\n\n<pre><code>nmap --script ssl-enum-ciphers -p 443 google.com\n</code></pre>\n\n<p>Gives output </p>\n\n<pre><code>Starting Nmap 7.12 ( https://nmap.org ) at 2016-08-11 17:25 IDT\nNmap scan report for google.com (172.217.23.46)\nHost is up (0.061s latency).\nOther addresses for google.com (not scanned): 2a00:1450:4009:80a::200e\nPORT    STATE SERVICE\n443/tcp open  https\n| ssl-enum-ciphers: \n|   TLSv1.0: \n|     ciphers: \n|       TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA (secp256r1) - A\n|       TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA (secp256r1) - A\n|       TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA (secp256r1) - A\n|       TLS_RSA_WITH_AES_128_CBC_SHA (rsa 2048) - A\n|       TLS_RSA_WITH_3DES_EDE_CBC_SHA (rsa 2048) - C\n|       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA (secp256r1) - A\n|       TLS_RSA_WITH_AES_256_CBC_SHA (rsa 2048) - A\n|     compressors: \n|       NULL\n|     cipher preference: server\n|   TLSv1.1: \n|     ciphers: \n|       TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA (secp256r1) - A\n|       TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA (secp256r1) - A\n|       TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA (secp256r1) - A\n|       TLS_RSA_WITH_AES_128_CBC_SHA (rsa 2048) - A\n|       TLS_RSA_WITH_3DES_EDE_CBC_SHA (rsa 2048) - C\n|       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA (secp256r1) - A\n|       TLS_RSA_WITH_AES_256_CBC_SHA (rsa 2048) - A\n|     compressors: \n|       NULL\n|     cipher preference: server\n|   TLSv1.2: \n|     ciphers: \n|       TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA (secp256r1) - A\n|       TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256 (secp256r1) - A\n|       TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256 (secp256r1) - A\n|       TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA (secp256r1) - A\n|       TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384 (secp256r1) - A\n|       TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384 (secp256r1) - A\n|       TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256 (secp256r1) - A\n|       TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA (secp256r1) - A\n|       TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256 (secp256r1) - A\n|       TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 (secp256r1) - A\n|       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA (secp256r1) - A\n|       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 (secp256r1) - A\n|       TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 (secp256r1) - A\n|       TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256 (secp256r1) - A\n|       TLS_RSA_WITH_3DES_EDE_CBC_SHA (rsa 2048) - C\n|       TLS_RSA_WITH_AES_128_CBC_SHA (rsa 2048) - A\n|       TLS_RSA_WITH_AES_128_CBC_SHA256 (rsa 2048) - A\n|       TLS_RSA_WITH_AES_128_GCM_SHA256 (rsa 2048) - A\n|       TLS_RSA_WITH_AES_256_CBC_SHA (rsa 2048) - A\n|       TLS_RSA_WITH_AES_256_CBC_SHA256 (rsa 2048) - A\n|       TLS_RSA_WITH_AES_256_GCM_SHA384 (rsa 2048) - A\n|     compressors: \n|       NULL\n|     cipher preference: client\n|_  least strength: C\n\nNmap done: 1 IP address (1 host up) scanned in 5.48 seconds\n</code></pre>\n", "title": "CFNetwork SSLHandshake failed iOS 9", "answer_id": 38899180, "question_id": 30720813, "tags": ["ios", "ssl", "nsurlconnection", "ios9"]}, {"body": "<p>Why makes it too complicated- </p>\n\n<p><strong>Just set iOS Development Target - 8.0</strong></p>\n\n<p><a href=\"http://i.stack.imgur.com/HX25T.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/HX25T.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"http://i.stack.imgur.com/ee8k7.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/ee8k7.png\" alt=\"enter image description here\"></a></p>\n\n<p>And <strong>Cmd+Shift+K</strong></p>\n", "title": "CFNetwork SSLHandshake failed iOS 9", "answer_id": 39166214, "question_id": 30720813, "tags": ["ios", "ssl", "nsurlconnection", "ios9"]}], "question_id": 30720813}, {"body": "<p>I installed <a href=\"https://www.docker.com/toolbox\">Docker-Toolbox</a> just now while following their <a href=\"http://docs.docker.com/mac/step_one/\">webpage</a> </p>\n\n<p>I started with <code>Docker QuickStart Terminal</code> and see following</p>\n\n<pre><code>                        ##         .\n                  ## ## ##        ==\n               ## ## ## ## ##    ===\n           /\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\\___/ ===\n      ~~~ {~~ ~~~~ ~~~ ~~~~ ~~~ ~ /  ===- ~~~\n           \\______ o           __/\n             \\    \\         __/\n              \\____\\_______/\n\n\ndocker is configured to use the default machine with IP 192.168.99.100\nFor help getting started, check out the docs at https://docs.docker.com\n\nbash-3.2$ \n</code></pre>\n\n<p>But when I try to perform <code>docker pull hello-world</code>, this is what I see  </p>\n\n<pre><code>bash-3.2$ docker run hello-world\nUnable to find image 'hello-world:latest' locally\nPulling repository docker.io/library/hello-world\nNetwork timed out while trying to connect to https://index.docker.io/v1/repositories/library/hello-world/images. You may want to check your internet connection or if you are behind a proxy.\nbash-3.2$ \n</code></pre>\n\n<p>What's wrong?</p>\n", "title": "Network timed out while trying to connect to https://index.docker.io", "tags": ["docker", "docker-machine", "docker-toolbox"], "answer_count": 14, "link": "http://stackoverflow.com/questions/31990757/network-timed-out-while-trying-to-connect-to-https-index-docker-io", "answers": [{"body": "<p>I assume that you have a network problem. Are you behind a proxy? Is it possible that it filters the connection to <code>docker.io</code> or blocks the docker user agent? </p>\n\n<p>I installed the toolbox and ran your test. It works fine, here:</p>\n\n<pre><code>docker is configured to use the default machine with IP 192.168.99.101\nFor help getting started, check out the docs at https://docs.docker.com\n\nbash-3.2$ docker run hello-world\nUnable to find image 'hello-world:latest' locally\nlatest: Pulling from library/hello-world\n\n535020c3e8ad: Pull complete \naf340544ed62: Already exists \nlibrary/hello-world:latest: The image you are pulling has been verified. Important: image verification is a tech preview feature and should not be relied on to provide security.\nDigest: sha256:d5fbd996e6562438f7ea5389d7da867fe58e04d581810e230df4cc073271ea52\nStatus: Downloaded newer image for hello-world:latest\n\nHello from Docker.\nThis message shows that your installation appears to be working correctly.\n\nTo generate this message, Docker took the following steps:\n 1. The Docker client contacted the Docker daemon.\n 2. The Docker daemon pulled the \"hello-world\" image from the Docker Hub.\n 3. The Docker daemon created a new container from that image which runs the\n    executable that produces the output you are currently reading.\n 4. The Docker daemon streamed that output to the Docker client, which sent it\n    to your terminal.\n\nTo try something more ambitious, you can run an Ubuntu container with:\n $ docker run -it ubuntu bash\n\nShare images, automate workflows, and more with a free Docker Hub account:\n https://hub.docker.com\n\nFor more examples and ideas, visit:\n https://docs.docker.com/userguide/\n\nbash-3.2$\n</code></pre>\n", "title": "Network timed out while trying to connect to https://index.docker.io", "answer_id": 31991138, "question_id": 31990757, "tags": ["docker", "docker-machine", "docker-toolbox"]}, {"body": "<p>I had the same problem this morning and the following fixed it for me:</p>\n\n<pre><code>$ docker-machine restart default      # Restart the environment\n$ eval $(docker-machine env default)  # Refresh your environment settings\n</code></pre>\n\n<p>It appears that this is due to the Docker virtual machine getting itself into a strange state. There is an open <a href=\"https://github.com/docker/docker/issues/20910\">github issue here</a></p>\n", "title": "Network timed out while trying to connect to https://index.docker.io", "answer_id": 32023104, "question_id": 31990757, "tags": ["docker", "docker-machine", "docker-toolbox"]}, {"body": "<p>I had this same problem with boot2docker and fixed it by restarting it with:</p>\n\n<pre><code>boot2docker restart\n</code></pre>\n", "title": "Network timed out while trying to connect to https://index.docker.io", "answer_id": 33541500, "question_id": 31990757, "tags": ["docker", "docker-machine", "docker-toolbox"]}, {"body": "<p>I ran into this problem running Docker on my MAC(host) with Docker VM in VBOX 5.10.  It is a networking issue. The simple fix is to add a bridged network to the VBOX image. You can use the included NAT config present with the VM, but you need to change the ssh port from 50375 to 2375.</p>\n", "title": "Network timed out while trying to connect to https://index.docker.io", "answer_id": 33739175, "question_id": 31990757, "tags": ["docker", "docker-machine", "docker-toolbox"]}, {"body": "<p>The simpler solution is to add the following entry in <strong>/etc/default/docker</strong> file</p>\n\n<p><strong>export http_proxy=\"http://HOST:PORT/\"</strong></p>\n\n<p>and restart the docker service  </p>\n\n<p><strong>service docker restart</strong> </p>\n", "title": "Network timed out while trying to connect to https://index.docker.io", "answer_id": 34812075, "question_id": 31990757, "tags": ["docker", "docker-machine", "docker-toolbox"]}, {"body": "<p>I just ran into this today with <code>1.10.1</code> and none of the existing solutions worked. I tried to restart, upgrade, regenerate certs, ...</p>\n\n<p>I noticed that I had a lot of networks created on the machine. After removing them with:</p>\n\n<pre><code>docker network ls | grep bridge | awk '{print $1}' | xargs -n1 docker network rm\n</code></pre>\n\n<p>The DNS started working again.</p>\n\n<p><em>Note: You may ignore errors about pre-defined networks</em></p>\n", "title": "Network timed out while trying to connect to https://index.docker.io", "answer_id": 35975075, "question_id": 31990757, "tags": ["docker", "docker-machine", "docker-toolbox"]}, {"body": "<p>If you are behind proxy it is not enough to set <code>HTTP_PROXY</code> and <code>HTTPS_PROXY</code> env. You should set it while machine creation.</p>\n\n<p>Paramer for this is <code>--engine-env</code>:</p>\n\n<pre><code>docker-machine create -d \"virtualbox\" --engine-env HTTP_PROXY=http://&lt;PROXY&gt;:&lt;PORT&gt; --engine-env HTTPS_PROXY=&lt;PROXY&gt;:&lt;PORT&gt; dev\n</code></pre>\n", "title": "Network timed out while trying to connect to https://index.docker.io", "answer_id": 37069137, "question_id": 31990757, "tags": ["docker", "docker-machine", "docker-toolbox"]}, {"body": "<pre><code>sudo service docker stop\nsudo service docker start\n</code></pre>\n\n<p>works for me..</p>\n\n<p>somehow, <code>sudo service docker restart</code> didn't work</p>\n\n<p>(RHEL7)</p>\n", "title": "Network timed out while trying to connect to https://index.docker.io", "answer_id": 37156439, "question_id": 31990757, "tags": ["docker", "docker-machine", "docker-toolbox"]}, {"body": "<p>On Windows 10. Just right-click on the systray docker icon-> Settings... -> Rest -> Restrart Docker</p>\n", "title": "Network timed out while trying to connect to https://index.docker.io", "answer_id": 37975319, "question_id": 31990757, "tags": ["docker", "docker-machine", "docker-toolbox"]}, {"body": "<p>On Windows this happened when I moved from a work network to a home network.</p>\n\n<p>To solve it, run:</p>\n\n<ol>\n<li><code>docker-machine stop</code></li>\n<li><code>docker-machine start</code></li>\n<li><code>docker-env</code></li>\n<li><code>\"C:\\Program Files\\Docker Toolbox\\docker-machine.exe\" env | Invoke-Expression</code></li>\n</ol>\n", "title": "Network timed out while trying to connect to https://index.docker.io", "answer_id": 38135442, "question_id": 31990757, "tags": ["docker", "docker-machine", "docker-toolbox"]}, {"body": "<p>I installed Docker without the Toolbox on Windows 10, so the version that requires Hyper-V to be enabled.</p>\n\n<p>For Docker version 1.12 I had to go into the taskbar, right click the Docker Icon, select Settings -> Network and set the DNS Server to fixed, so that is uses Google's DNS server at <code>8.8.8.8</code>.</p>\n\n<p>Once that setting was changed, it finally worked.</p>\n", "title": "Network timed out while trying to connect to https://index.docker.io", "answer_id": 38447031, "question_id": 31990757, "tags": ["docker", "docker-machine", "docker-toolbox"]}, {"body": "<p>I ran into this exact same problem yesterday and none of the \"popular\" answers (like fixing DNS to 8.8.8.8) worked for me. I eventually happened across this link, and that did the trick ... <a href=\"https://github.com/docker/for-win/issues/16\" rel=\"nofollow\">https://github.com/docker/for-win/issues/16</a></p>\n\n<p>Between Docker for Windows, Windows 10 and Hyper-V, there seems to be a problem during the virtual network adapter creation process. Specifically, you might end up with two \"vEthernet (DockerNAT)\" network adapters. Check this with <code>Get-NetAdapter \"vEthernet (DockerNAT)\"</code> (in an elevated PowerShell console). If the result shows more than one adapter, you can disable and rename it with:</p>\n\n<pre><code>$vmNetAdapter = Get-VMNetworkAdapter -ManagementOS -SwitchName DockerNAT\nGet-NetAdapter \"vEthernet (DockerNAT)\" | ? { $_.DeviceID -ne $vmNetAdapter.DeviceID } | Disable-NetAdapter -Confirm:$False -PassThru | Rename-NetAdapter -NewName \"OLD\"\n</code></pre>\n\n<p>Then open up Device Manager and delete the disabled adapter (for some reason you can do this from here, but not from the Network and Sharing Center adapters view).</p>\n", "title": "Network timed out while trying to connect to https://index.docker.io", "answer_id": 38908631, "question_id": 31990757, "tags": ["docker", "docker-machine", "docker-toolbox"]}, {"body": "<p><strong>Update August 2016</strong></p>\n\n<p>Using Docker for Mac (version 1.12.0), was seeing issues of the form:</p>\n\n<pre><code>\u279c  docker pull node\nUsing default tag: latest\nPulling repository docker.io/library/node\nNetwork timed out while trying to connect to https://index.docker.io/v1/repositories/library/node/images. You may want to check your internet connection or if you are behind a proxy.`enter code here`\n</code></pre>\n\n<p>This was resolved by updating my MacBook Pro wireless network settings to include the following DNS entry: <code>8.8.8.8</code></p>\n\n<p>For further info, please see this (dated) <a href=\"https://github.com/docker/docker/issues/16829\" rel=\"nofollow\">issue</a> which provided the answer given here.</p>\n", "title": "Network timed out while trying to connect to https://index.docker.io", "answer_id": 38943203, "question_id": 31990757, "tags": ["docker", "docker-machine", "docker-toolbox"]}, {"body": "<p>In my case, installing docker on Alpine Linux I get the error:</p>\n\n<blockquote>\n  <p>Network timed out while trying to connect to <a href=\"https://index.docker.io/v1/repositories/library/\" rel=\"nofollow\">https://index.docker.io/v1/repositories/library/</a>........</p>\n</blockquote>\n\n<p>Using the script here:\n<a href=\"https://github.com/docker/docker/blob/master/contrib/download-frozen-image-v2.sh\" rel=\"nofollow\">https://github.com/docker/docker/blob/master/contrib/download-frozen-image-v2.sh</a></p>\n\n<p>Works. It downloads the image using curl and then shows you how to untar and 'docker load' it.</p>\n\n<p>I tried the above methods of static DNS at 8.8.8.8 and disabling ipv6 (I didn't understand the proxy thing) and none of them worked for me.</p>\n\n<p>EDIT 9/8/2016:</p>\n\n<p>I was initially using dropbear instead of openssh. Reinstalled Alpine with openssh fixed the problem.</p>\n\n<p>The next problem was 'ApplyLayer exit status 1 stdout: stderr: chmod /bin/mount: permission denied' error during pull.</p>\n\n<p>From (nixaid.com/grsec-in-docker/):</p>\n\n<blockquote>\n  <p>To build the Docker image, I had to disable the following grsec\n  protections. Modify the /etc/sysctl.d/grsec.conf as follows:</p>\n  \n  <p>kernel.grsecurity.chroot_deny_chmod = 0\n  kernel.grsecurity.chroot_deny_mknod = 0\n  kernel.grsecurity.chroot_caps = 0        # related to a systemd package/CAP_SETFCAP</p>\n</blockquote>\n\n<p>in alpine's case though it's </p>\n\n<blockquote>\n  <p>/etc/sysctl.d/00-alpine.conf</p>\n</blockquote>\n\n<p>reboot</p>\n", "title": "Network timed out while trying to connect to https://index.docker.io", "answer_id": 39299608, "question_id": 31990757, "tags": ["docker", "docker-machine", "docker-toolbox"]}], "question_id": 31990757}, {"body": "<p>Keep getting an error in the set-up wizard while trying to install android studio on Ubuntu.</p>\n\n<pre><code>\"Unable to run mksdcard SDK tool.\"\n</code></pre>\n\n<p>Also, in the terminal I get this:</p>\n\n<pre><code>[ 115528]  ERROR - tRunWizard$SetupProgressStep$1 - Android Studio 1.1.0  Build #AI-135.1740770 \n[ 115531]  ERROR - tRunWizard$SetupProgressStep$1 - JDK: 1.8.0_40 \n[ 115531]  ERROR - tRunWizard$SetupProgressStep$1 - VM: Java HotSpot(TM) 64-Bit Server VM \n[ 115531]  ERROR - tRunWizard$SetupProgressStep$1 - Vendor: Oracle Corporation \n[ 115531]  ERROR - tRunWizard$SetupProgressStep$1 - OS: Linux \n[ 115532]  ERROR - tRunWizard$SetupProgressStep$1 - Last Action:  \n</code></pre>\n", "title": "Error: Unable to run mksdcard SDK tool", "tags": ["java", "android", "android-studio"], "answer_count": 10, "link": "http://stackoverflow.com/questions/29241640/error-unable-to-run-mksdcard-sdk-tool", "answers": [{"body": "<p>This really needs to be added to the documentation, which is why I filed <a href=\"https://code.google.com/p/android/issues/detail?id=82711\">an issue about it</a> a few months ago...</p>\n\n<p>You need some 32-bit binaries, and you have a 64-bit OS version (apparently). Try:</p>\n\n<pre><code>sudo apt-get install lib32z1 lib32ncurses5 lib32bz2-1.0 lib32stdc++6\n</code></pre>\n\n<p>That worked for me on Ubuntu 14.10.</p>\n", "title": "Error: Unable to run mksdcard SDK tool", "answer_id": 29242123, "question_id": 29241640, "tags": ["java", "android", "android-studio"]}, {"body": "<p>This workaround also works with 15.04 (64bit). Since there isn't (yet?)\nlib32bz2-1.0 for vivid:</p>\n\n<p><a href=\"http://packages.ubuntu.com/search?keywords=lib32bz2-1.0\" rel=\"nofollow\">http://packages.ubuntu.com/search?keywords=lib32bz2-1.0</a></p>\n\n<p>I installed the one from Utopic.</p>\n", "title": "Error: Unable to run mksdcard SDK tool", "answer_id": 29513010, "question_id": 29241640, "tags": ["java", "android", "android-studio"]}, {"body": "<p>For <strong>UBUNTU 15.04,15.10 &amp; 16.04 LTS</strong> Try this command: </p>\n\n<pre><code>sudo apt-get install lib32stdc++6\n</code></pre>\n", "title": "Error: Unable to run mksdcard SDK tool", "answer_id": 31088492, "question_id": 29241640, "tags": ["java", "android", "android-studio"]}, {"body": "<p>For Ubuntu, you can try:</p>\n\n<pre><code>sudo apt-get install lib32z1 lib32ncurses5 lib32bz2-1.0 lib32stdc++6\n</code></pre>\n\n<p>For Cent OS/RHEL try :</p>\n\n<pre><code>sudo yum install zlib.i686 ncurses-libs.i686 bzip2-libs.i686 \n</code></pre>\n\n<p>Then, re-install the Android Studio and get success.</p>\n", "title": "Error: Unable to run mksdcard SDK tool", "answer_id": 31271734, "question_id": 29241640, "tags": ["java", "android", "android-studio"]}, {"body": "<p>This worked for me on Ubuntu 15.04</p>\n\n<p><code>sudo aptitude install lib32stdc++6</code></p>\n\n<p>Firstly, I installed aptitude, which helps in installing other dependencies too.</p>\n", "title": "Error: Unable to run mksdcard SDK tool", "answer_id": 33279983, "question_id": 29241640, "tags": ["java", "android", "android-studio"]}, {"body": "<p>In case of <strong>lubuntu</strong> 14.04 use</p>\n\n<blockquote>\n  <p>sudo apt-get install lib32z1 lib32ncurses5 lib32bz2-1.0 lib32stdc++6</p>\n</blockquote>\n\n<p>P.S-no need to restart the system.</p>\n", "title": "Error: Unable to run mksdcard SDK tool", "answer_id": 34476547, "question_id": 29241640, "tags": ["java", "android", "android-studio"]}, {"body": "<p>if you do this: \n<code>sudo apt-get install lib32z1 lib32ncurses5 lib32bz2-1.0 lib32stdc++6</code>. \nYou may get this error:</p>\n\n<pre><code>E: Unable to locate package lib32bz2-1.0\n\nE: Couldn't find any package by glob 'lib32bz2-1.0'\n\nE: Couldn't find any package by regex 'lib32bz2-1.0'\n</code></pre>\n\n<p>So i suggest just doing this:</p>\n\n<p><code>sudo apt-get install lib32stdc++6</code></p>\n\n<p>And also, the AOSP should look for how while installing Android-Studio, that is installed too.</p>\n", "title": "Error: Unable to run mksdcard SDK tool", "answer_id": 37074357, "question_id": 29241640, "tags": ["java", "android", "android-studio"]}, {"body": "<p>Here's what you need to do to fix the issue on Arch Linux :</p>\n\n<ol>\n<li><p>Enable the <code>multilib</code> repository on your system if you have not already done so by uncommenting the <code>[multilib]</code> section in <code>/etc/pacman.conf</code> :</p>\n\n<pre><code>[multilib]\nInclude = /etc/pacman.d/mirrorlist\n</code></pre></li>\n<li><p>Update pacman :</p>\n\n<pre><code># pacman -Suy\n</code></pre></li>\n<li><p>Install the 32 bit version of libstdc++5 :</p>\n\n<pre><code># pacman -S lib32-libstdc++5\n</code></pre></li>\n</ol>\n", "title": "Error: Unable to run mksdcard SDK tool", "answer_id": 37197045, "question_id": 29241640, "tags": ["java", "android", "android-studio"]}, {"body": "<p>This is what worked for me </p>\n\n<p>When I tried the Accepted ans my Android Studio hangs on start-up</p>\n\n<p>This is the link </p>\n\n<blockquote>\n  <p><a href=\"http://tools.android.com/tech-docs/linux-32-bit-libraries\" rel=\"nofollow\">http://tools.android.com/tech-docs/linux-32-bit-libraries</a></p>\n</blockquote>\n\n<p>and This is the Command </p>\n\n<pre><code>$ sudo apt-get install libc6:i386 libncurses5:i386 libstdc++6:i386 lib32z1\n</code></pre>\n", "title": "Error: Unable to run mksdcard SDK tool", "answer_id": 39218943, "question_id": 29241640, "tags": ["java", "android", "android-studio"]}, {"body": "<p>Just to say 16.04, I'm running </p>\n\n<pre><code>sudo apt-get install lib32z1 lib32ncurses5 libbz2-1.0:i386 lib32stdc++6\n</code></pre>\n\n<p>seems to work on a vanilla install after installing oracle-jdk-8</p>\n", "title": "Error: Unable to run mksdcard SDK tool", "answer_id": 39275780, "question_id": 29241640, "tags": ["java", "android", "android-studio"]}], "question_id": 29241640}, {"body": "<p>I would like my C++ code to stop running if a certain condition is met, but I'm not sure how to do that. So just at any point if an <code>if</code> statement is true terminate the code like this:</p>\n\n<pre><code>if (x==1)\n{\n    kill code;\n}\n</code></pre>\n", "title": "How to end C++ code", "tags": ["c++"], "answer_count": 13, "link": "http://stackoverflow.com/questions/30250934/how-to-end-c-code", "answers": [{"body": "<p>Call the <a href=\"http://en.cppreference.com/w/cpp/utility/program/exit\"><code>std::exit</code></a> function. &nbsp;&nbsp;</p>\n", "title": "How to end C++ code", "answer_id": 1116494, "question_id": 30250934, "tags": ["c++"]}, {"body": "<p>Either return a value from your <code>main</code> or use the <code>exit</code> function.  Both take an int.  It doesn't really matter what value you return unless you have an external process watching for the return value.</p>\n", "title": "How to end C++ code", "answer_id": 1116498, "question_id": 30250934, "tags": ["c++"]}, {"body": "<p>Generally you would use the <code>exit()</code> method with an appropriate <a href=\"http://www.gnu.org/s/libc/manual/html_node/Exit-Status.html\">exit status</a>. </p>\n\n<p>Zero would mean a successful run. A non-zero status indicates some sort of problem has occurred. This exit code is used by parent processes (e.g. shell scripts) to determine if a process has run successfully.</p>\n", "title": "How to end C++ code", "answer_id": 1116507, "question_id": 30250934, "tags": ["c++"]}, {"body": "<p>The program will terminate when the execution flow reaches the end of the main function.</p>\n\n<p>To terminate it before then, you can use the exit(int status) function, where status is a value returned to whatever started the program. 0 normally indicates a non-error state</p>\n", "title": "How to end C++ code", "answer_id": 1116511, "question_id": 30250934, "tags": ["c++"]}, {"body": "<p>As Martin York mentioned, exit doesn't perform necessary clean-up like return does.</p>\n\n<p>It's always better to use return in the place of exit.\nIn case if you are not in main, wherever you would like to exit the program, return to main first.</p>\n\n<p>Consider the below example.\nWith the following program, a file will be created with the content mentioned.\nBut if return is commented &amp; uncommented exit(0), the compiler doesn't assure you that the file will have the required text.</p>\n\n<pre><code>int main()\n{\n    ofstream os(\"out.txt\");\n    os &lt;&lt; \"Hello, Can you see me!\\n\";\n    return(0);\n    //exit(0);\n}\n</code></pre>\n\n<p>Not just this, Having multiple exit points in a program will make debugging harder.\nUse exit only when it can be justified.</p>\n", "title": "How to end C++ code", "answer_id": 1118826, "question_id": 30250934, "tags": ["c++"]}, {"body": "<p>If you have an error somewhere deep in the code, then either throw an exception or set the error code. It's always better to throw an exception instead of setting error codes.</p>\n", "title": "How to end C++ code", "answer_id": 1123843, "question_id": 30250934, "tags": ["c++"]}, {"body": "<p>People are saying \"call exit(return code),\" but this is bad form. In small programs it is fine, but there are a number of issues with this:</p>\n\n<ol>\n<li>You will end up having multiple exit points from the program</li>\n<li>It makes code more convoluted (like using goto)</li>\n<li>It cannot release memory allocated at runtime</li>\n</ol>\n\n<p>Really, the only time you should exit the problem is with this line in main.cpp:</p>\n\n<pre><code>return 0;\n</code></pre>\n\n<p>If you are using exit() to handle errors, you should learn about exceptions (and nesting exceptions), as a much more elegant and safe method. </p>\n", "title": "How to end C++ code", "answer_id": 1123870, "question_id": 30250934, "tags": ["c++"]}, {"body": "<p>Beyond calling exit(error_code) - which calls atexit handlers, but not RAII destructors, etc.\n- more and more I am using exceptions.</p>\n\n<p>More and more my main program looks like</p>\n\n<pre><code>int main(int argc, char** argv) \n{\n    try {\n        exit( secondary_main(argc, argv );\n    }\n    catch(...) {\n        // optionally, print something like \"unexpected or unknown exception caught by main\"\n        exit(1);\n    }\n}\n</code></pre>\n\n<p>where secondary_main\nin where all the stuff that was originally is put --\ni.e. the original main is renamed secondary_main, and the stub main above is added.\nThis is just a nicety, so that there isn't too much code between the tray and catch in main.</p>\n\n<p>If you want, catch other exception types.<br>\nI quite like catching string error types, like std::string or char*, and printing those \nin the catch handler in main.</p>\n\n<p>Using exceptions like this at least allows RAII destructors to be called, so that they can do cleanup.  Which can be pleasant and useful.</p>\n\n<p>Overall, C error handling - exit and signals - and C++ error handling - try/catch/throw exceptions - play together inconsistently at best.</p>\n\n<p>Then, where you detect an error</p>\n\n<pre><code>throw \"error message\"\n</code></pre>\n\n<p>or some more specific exception type.</p>\n", "title": "How to end C++ code", "answer_id": 15168486, "question_id": 30250934, "tags": ["c++"]}, {"body": "<p>There are several ways, but first you need to understand why object cleanup is important, and hence the reason <a href=\"http://en.cppreference.com/w/cpp/utility/program/exit\"><code>std::exit</code></a> is marginalized among C++ programmers.</p>\n\n<h2>RAII and Stack Unwinding</h2>\n\n<p>C++ makes use of a idiom called <a href=\"http://en.cppreference.com/w/cpp/language/raii\">RAII</a>, which in simple terms means objects should perform initialization in the constructor and cleanup in the destructor. For instance the <a href=\"http://en.cppreference.com/w/cpp/io/basic_ofstream\"><code>std::ofstream</code></a> class [may] open the file during the constructor, then the user performs output operations on it, and finally at the end of its life cycle, usually determined by its scope, the destructor is called that essentially closes the file and flushes any written content into the disk.</p>\n\n<p>What happens if you don't get to the destructor to flush and close the file? <em>Who knows!</em> But possibly it won't write all the data it was supposed to write into the file.</p>\n\n<p>For instance consider this code</p>\n\n<pre><code>#include &lt;fstream&gt;\n#include &lt;exception&gt;\n#include &lt;memory&gt;\n\nvoid inner_mad()\n{\n    throw std::exception();\n}\n\nvoid mad()\n{\n    std::unique_ptr&lt;int&gt; ptr(new int);\n    inner_mad();\n}\n\nint main()\n{\n    std::ofstream os(\"file.txt\");\n    os &lt;&lt; \"Content!!!\";\n\n    int possibility = /* either 1, 2, 3 or 4 */;\n\n    if(possibility == 1)\n        return 0;\n    else if(possibility == 2)\n        throw std::exception();\n    else if(possibility == 3)\n        mad();\n    else if(possibility == 4)\n        exit(0);\n}\n</code></pre>\n\n<p>What happens in each possibility is:</p>\n\n<ul>\n<li><strong>Possibility 1:</strong> Return essentially leaves the current function scope, so it knows about the end of the life cycle of <code>os</code> thus calling its destructor and doing proper cleanup by closing and flushing the file to disk.</li>\n<li><strong>Possibility 2:</strong> Throwing a exception also takes care of the life cycle of the objects in the current scope, thus doing proper cleanup...</li>\n<li><strong>Possibility 3:</strong> Here stack unwinding enters in action! Even though the exception is thrown at <code>inner_mad</code>, the unwinder will go though the stack of <code>mad</code> and <code>main</code> to perform proper cleanup, all the objects are going to be destructed properly, including <code>ptr</code> and <code>os</code>.</li>\n<li><strong>Possibility 4:</strong> Well, here? <a href=\"http://en.cppreference.com/w/cpp/utility/program/exit\"><code>exit</code></a> is a C function and it's not aware nor compatible with the C++ idioms. It <strong>does not</strong> perform cleanup on your objects, including <code>os</code> in the very same scope. So your file won't be closed properly and for this reason the content might never get written into it!</li>\n<li><strong>Other Possibilities:</strong> It'll just leave main scope, by performing a implicit <code>return 0</code> and thus having the same effect as possibility 1, i.e. proper cleanup.</li>\n</ul>\n\n<p>But don't be so certain about what I just told you (mainly possibilities 2 and 3); continue reading and we'll find out how to perform a proper exception based cleanup.</p>\n\n<h2>Possible Ways To <em>End</em></h2>\n\n<h3>Return from main!</h3>\n\n<p>You should do this whenever possible; always prefer to return from your program by returning a proper exit status from main.</p>\n\n<p>The caller of your program, and possibly the operating system, might want to know whether what your program was supposed to do was done successfully or not. For this same reason you should return either zero or <a href=\"http://en.cppreference.com/w/cpp/utility/program/EXIT_status\"><code>EXIT_SUCCESS</code></a> to signal that the program successfully terminated and <a href=\"http://en.cppreference.com/w/cpp/utility/program/EXIT_status\"><code>EXIT_FAILURE</code></a> to signal the program terminated unsuccessfully, any other form of return value is implementation-defined (<em>\u00a718.5/8</em>).</p>\n\n<p>However you may be very deep in the call stack, and returning all of it may be painful...</p>\n\n<h3>[Do not] throw a exception</h3>\n\n<p>Throwing a exception will perform proper object cleanup using stack unwinding, by calling the destructor of every object in any previous scope.</p>\n\n<p>But here's <strong>the catch</strong>! It's implementation-defined whether stack unwinding is performed when a thrown exception is not handled <em>(by the catch(...) clause)</em> or even if you have a <a href=\"http://en.cppreference.com/w/cpp/language/noexcept_spec\"><code>noexcept</code></a> function in the middle of the call stack. This is stated in <em>\u00a715.5.1 [except.terminate]</em>:</p>\n\n<blockquote>\n  <ol>\n  <li><p>In some situations exception handling must be abandoned for less subtle error handling techniques. [Note: These situations are:</p>\n  \n  <blockquote>\n    <p>[...]</p>\n    \n    <p>\u2014  <strong>when the exception handling mechanism cannot find a handler for a thrown exception (15.3), or when the search for a handler (15.3) encounters the outermost block of a function with a <code>noexcept</code>-specification</strong> that does not allow the exception (15.4), or [...]</p>\n    \n    <p>[...]</p>\n  </blockquote></li>\n  <li><p><strong>In such cases, std::terminate() is called (18.8.3). In the situation where no matching handler is found, it is implementation-defined whether or not the stack is unwound before std::terminate() is called</strong> [...]</p></li>\n  </ol>\n</blockquote>\n\n<p>So we have to catch it!</p>\n\n<h3>Do throw a exception and catch it at main!</h3>\n\n<p>Since uncaught exceptions may not perform stack unwinding <em>(and consequently won't perform proper cleanup)</em>, we should catch the exception in main and then return a exit status (<a href=\"http://en.cppreference.com/w/cpp/utility/program/EXIT_status\"><code>EXIT_SUCCESS</code></a> or <a href=\"http://en.cppreference.com/w/cpp/utility/program/EXIT_status\"><code>EXIT_FAILURE</code></a>).</p>\n\n<p>So a possibly good setup would be:</p>\n\n<pre><code>int main()\n{\n    /* ... */\n    try\n    {\n        // Insert code that will return by throwing a exception.\n    }\n    catch(const std::exception&amp;)  // Consider using a custom exception type for intentional\n    {                             // throws. A good idea might be a `return_exception`.\n        return EXIT_FAILURE;\n    }\n    /* ... */\n}\n</code></pre>\n\n<h3>[Do not] std::exit</h3>\n\n<p>This does not perform any sort of stack unwinding, and no alive object on the stack will call its respective destructor to perform cleanup.</p>\n\n<p>This is enforced in <em>\u00a73.6.1/4 [basic.start.init]</em>:</p>\n\n<blockquote>\n  <p><strong>Terminating the program without leaving the current block (e.g., by calling the function std::exit(int) (18.5)) does not destroy any objects with automatic storage duration (12.4)</strong>. If std::exit is called to end a program during the destruction of an object with static or thread storage duration, the program has undefined behavior.</p>\n</blockquote>\n\n<p>Think about it now, why would you do such a thing? How many objects have you painfully damaged?</p>\n\n<h2>Other [as bad] alternatives</h2>\n\n<p>There are other ways to terminate a program <em>(other than crashing)</em>, but they aren't recommended. Just for the sake of clarification they are going to be presented here. Notice how <em>normal program termination</em> <strong>does not</strong> mean stack unwinding but an <em>okay</em> state for the operating system.</p>\n\n<ul>\n<li><a href=\"http://en.cppreference.com/w/cpp/utility/program/_Exit\"><code>std::_Exit</code></a> causes a normal program termination, and that's it.</li>\n<li><a href=\"http://en.cppreference.com/w/cpp/utility/program/quick_exit\"><code>std::quick_exit</code></a> causes a normal program termination and calls <a href=\"http://en.cppreference.com/w/cpp/utility/program/at_quick_exit\"><code>std::at_quick_exit</code></a> handlers, no other cleanup is performed.</li>\n<li><a href=\"http://en.cppreference.com/w/cpp/utility/program/exit\"><code>std::exit</code></a> causes a normal program termination and then calls <a href=\"http://en.cppreference.com/w/cpp/utility/program/atexit\"><code>std::atexit</code></a> handlers. Other sorts of cleanups are performed such as calling static objects destructors.</li>\n<li><a href=\"http://en.cppreference.com/w/cpp/utility/program/abort\"><code>std::abort</code></a> causes an abnormal program termination, no cleanup is performed. This should be called if the program terminated in a really, really unexpected way. It'll do nothing but signal the OS about the abnormal termination. Some systems perform a core dump in this case.</li>\n<li><a href=\"http://en.cppreference.com/w/cpp/error/terminate\"><code>std::terminate</code></a> calls the <a href=\"http://en.cppreference.com/w/cpp/error/terminate_handler\"><code>std::terminate_handler</code></a> which calls <a href=\"http://en.cppreference.com/w/cpp/utility/program/abort\"><code>std::abort</code></a> by default.</li>\n</ul>\n", "title": "How to end C++ code", "answer_id": 30251056, "question_id": 30250934, "tags": ["c++"]}, {"body": "<p><code>return 0;</code> put that wherever you want within <code>int main()</code> and the program will immediately close. </p>\n", "title": "How to end C++ code", "answer_id": 30251133, "question_id": 30250934, "tags": ["c++"]}, {"body": "<p>Dude... <code>exit()</code> function is defined under stdlib.h</p>\n\n<p>So you need to add a preprocessor. </p>\n\n<p>Put <code>include stdlib.h</code> in the header section   </p>\n\n<p>Then use <code>exit();</code> wherever you like but remember to put an interger number in the parenthesis of exit. </p>\n\n<p>for example: </p>\n\n<pre><code>exit(0);\n</code></pre>\n", "title": "How to end C++ code", "answer_id": 35924988, "question_id": 30250934, "tags": ["c++"]}, {"body": "<p>If the condition I'm testing for is really bad news, I do this:</p>\n\n<pre><code>*(int*) NULL= 0;\n</code></pre>\n\n<p>This gives me a nice coredump from where I can examine the situation.</p>\n", "title": "How to end C++ code", "answer_id": 38337905, "question_id": 30250934, "tags": ["c++"]}, {"body": "<p>If your if statement is in Loop You can use </p>\n\n<pre><code>break; \n</code></pre>\n\n<p>If you want to  escape some code &amp; continue to loop  Use : </p>\n\n<pre><code>continue;\n</code></pre>\n\n<p>If your if statement not in Loop You can use :</p>\n\n<pre><code>return 0;\n\nOr \n\n\nexit();\n</code></pre>\n", "title": "How to end C++ code", "answer_id": 39291288, "question_id": 30250934, "tags": ["c++"]}], "question_id": 30250934}, {"body": "<p>I am trying to register my application for local notifications this way:</p>\n\n<pre><code>UIApplication.sharedApplication().registerUserNotificationSettings(UIUserNotificationSettings(forTypes: UIUserNotificationType.Alert | UIUserNotificationType.Badge, categories: nil))\n</code></pre>\n\n<p>In Xcode 7 and Swift 2.0 - I get error <code>Binary Operator \"|\" cannot be applied to two UIUserNotificationType operands</code>. Please help me.</p>\n", "title": "Swift 2.0 - Binary Operator &quot;|&quot; cannot be applied to two UIUserNotificationType operands", "tags": ["ios", "swift", "swift2"], "answer_count": 3, "link": "http://stackoverflow.com/questions/30761996/swift-2-0-binary-operator-cannot-be-applied-to-two-uiusernotificationtype", "answers": [{"body": "<p>In Swift 2, many types that you would typically do this for have been updated to conform to the OptionSetType protocol. This allows for array like syntax for usage, and In your case, you can use the following.</p>\n\n<pre><code>let settings = UIUserNotificationSettings(forTypes: [.Alert, .Badge], categories: nil)\nUIApplication.sharedApplication().registerUserNotificationSettings(settings)\n</code></pre>\n\n<p>And on a related note, if you want to check if an option set contains a specific option, you no longer need to use bitwise AND and a nil check. You can simply ask the option set if it contains a specific value in the same way that you would check if an array contained a value.</p>\n\n<pre><code>let settings = UIUserNotificationSettings(forTypes: [.Alert, .Badge], categories: nil)\n\nif settings.types.contains(.Alert) {\n    // stuff\n}\n</code></pre>\n", "title": "Swift 2.0 - Binary Operator &quot;|&quot; cannot be applied to two UIUserNotificationType operands", "answer_id": 30763344, "question_id": 30761996, "tags": ["ios", "swift", "swift2"]}, {"body": "<p>You can write the following:</p>\n\n<pre><code>let settings = UIUserNotificationType.Alert.union(UIUserNotificationType.Badge)\n</code></pre>\n", "title": "Swift 2.0 - Binary Operator &quot;|&quot; cannot be applied to two UIUserNotificationType operands", "answer_id": 31304682, "question_id": 30761996, "tags": ["ios", "swift", "swift2"]}, {"body": "<p>What worked for me was </p>\n\n<pre><code>//This worked\nvar settings = UIUserNotificationSettings(forTypes: UIUserNotificationType([.Alert, .Badge, .Sound]), categories: nil)\n</code></pre>\n", "title": "Swift 2.0 - Binary Operator &quot;|&quot; cannot be applied to two UIUserNotificationType operands", "answer_id": 32834485, "question_id": 30761996, "tags": ["ios", "swift", "swift2"]}], "question_id": 30761996}, {"body": "<p><strong>Error</strong>:</p>\n\n<blockquote>\n  <p>Execution failed for task ':app:processDebugGoogleServices'. Please\n  fix the version conflict either by updating the version of the\n  google-services plugin (information about the latest version is\n  <a href=\"https://bintray.com/android/android-tools/com.google.gms.google-services/\">available here</a>)\n  or updating the version of com.google.android.gms to 8.3.0.</p>\n</blockquote>\n\n<p>I've done all the things I've found.</p>\n\n<pre><code>  dependencies {\n            // This does not break the build when Android Studio is missing the JRebel for Android plugin.\n            classpath 'com.zeroturnaround.jrebel.android:jr-android-gradle:1.0.+'\n            classpath 'com.android.tools.build:gradle:2.0.0-alpha3'\n            classpath 'com.google.gms:google-services:2.0.0-alpha3'\n\n            // NOTE: Do not place your application dependencies here; they belong\n            // in the individual module build.gradle files\n        }\n</code></pre>\n\n<p>And in the app gradle</p>\n\n<pre><code>    compile 'com.google.android.gms:play-services:8.4.0'\n</code></pre>\n", "title": "Version conflict updating to 8.4.0", "tags": ["android", "google-play-services"], "answer_count": 13, "link": "http://stackoverflow.com/questions/34370603/version-conflict-updating-to-8-4-0", "answers": [{"body": "<p>Use these dependencies for the project build.gradle</p>\n\n<pre><code>dependencies {\n    classpath 'com.android.tools.build:gradle:2.0.0-alpha3'\n    classpath 'com.google.gms:google-services:2.0.0-alpha3'\n}\n</code></pre>\n\n<p>and put this at the end of the app-level build.gradle file (after the dependencies). </p>\n\n<pre><code>apply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>I have no clue why putting this at the end (and not at the beginning ) solves the error.</p>\n\n<p><strong>EDIT 5/1/2016</strong></p>\n\n<p>Ok\u2026 So trying to put an end to all problems you guys have faced with my solution</p>\n\n<p>This is my final app level gradle</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 23\n    buildToolsVersion \"23.0.2\"\n\n    defaultConfig {\n        applicationId \"your-app-name\"\n        minSdkVersion 16\n        targetSdkVersion 23\n        versionCode 1\n        versionName \"1.0\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\nrepositories {\n    jcenter()\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    testCompile 'junit:junit:4.12'\n    compile 'com.android.support:appcompat-v7:23.1.1'\n    compile 'com.google.android.gms:play-services:8.4.0'\n    compile 'com.android.support:design:23.1.1'\n    compile 'com.mcxiaoke.volley:library:1.0.6@aar'\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>and this is my final project level gradle</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.0.0-alpha3'\n        classpath 'com.google.gms:google-services:2.0.0-alpha3'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n    }\n}\n</code></pre>\n\n<p>Compare this with your own gradle files, and add or modify any values which are different from what I've written.</p>\n", "title": "Version conflict updating to 8.4.0", "answer_id": 34375483, "question_id": 34370603, "tags": ["android", "google-play-services"]}, {"body": "<p>Here is my instruction to fix it.</p>\n\n<ol>\n<li>Change to use <code>compile 'com.google.android.gms:play-services-location:8.3.0'</code> in app <code>build.gradle</code></li>\n<li>Move <code>apply plugin: 'com.google.gms.google-services'</code> to the end of app <code>build.gradle</code>  </li>\n<li>Use <code>classpath 'com.google.gms:google-services:2.0.0-alpha3'</code> in project <code>build.gradle</code> dependency  </li>\n<li>Change to use <code>gradle-2.8</code> in <code>gradle/wrapper/gradle-wrapper.properties</code></li>\n</ol>\n", "title": "Version conflict updating to 8.4.0", "answer_id": 35036964, "question_id": 34370603, "tags": ["android", "google-play-services"]}, {"body": "<p>The important thing is to <strong>set Gradle to Version 2.10</strong></p>\n\n<p><a href=\"http://stackoverflow.com/a/35188079/570168\">http://stackoverflow.com/a/35188079/570168</a></p>\n", "title": "Version conflict updating to 8.4.0", "answer_id": 35188116, "question_id": 34370603, "tags": ["android", "google-play-services"]}, {"body": "<p>found in official example</p>\n\n<p>in project gradle</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.0.0-alpha9'\n        classpath 'com.google.gms:google-services:2.0.0-alpha9'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n    }\n}\n</code></pre>\n\n<p>in app gradle</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 23\n    buildToolsVersion \"23.0.2\"\n\n    defaultConfig {\n        applicationId \"com.google.samples.quickstart.signin\"\n        minSdkVersion 18\n        targetSdkVersion 23\n        versionCode 1\n        versionName \"1.0\"\n\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    packagingOptions {\n        exclude 'LICENSE.txt'\n    }\n\n    // Resolve dependency differences between app and tests\n    configurations.all {\n        resolutionStrategy.force 'com.android.support:support-annotations:23.1.1'\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    compile 'com.android.support:appcompat-v7:23.1.1'\n    compile 'com.android.support:design:23.1.1'\n\n    // Dependency for Google Sign-In\n    compile 'com.google.android.gms:play-services-auth:8.4.0'\n\n    // UiAutomatorTesting\n    androidTestCompile 'com.android.support.test:runner:0.4.1'\n    androidTestCompile 'com.android.support.test:rules:0.4.1'\n    androidTestCompile 'com.android.support.test.uiautomator:uiautomator-v18:2.1.2'\n    androidTestCompile 'com.android.support:support-annotations:23.1.1'\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n", "title": "Version conflict updating to 8.4.0", "answer_id": 35216421, "question_id": 34370603, "tags": ["android", "google-play-services"]}, {"body": "<p>Do the following:</p>\n\n<ol>\n<li>Put the following in your build.gradle(Application level gradle file)</li>\n</ol>\n\n<p><code>dependencies {\n     classpath 'com.android.tools.build:gradle:2.0.0-beta2'\n     classpath 'com.google.gms:google-services:2.0.0-beta2'\n}</code></p>\n\n<p>Please check <a href=\"https://bintray.com/android/android-tools/com.google.gms.google-services/\">here</a> for latest version as this keep on changing. </p>\n\n<ol start=\"2\">\n<li>If you get the below error message than you need to upgrade your gradle wrapper to latest in gradle-wrapper.properties. I'm using 2.10. </li>\n</ol>\n\n<blockquote>\n  <p>Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE environment variable</p>\n</blockquote>\n\n<ol start=\"3\">\n<li><p>Put the following line at the bottom of your build.gradle(module level gradle file)</p>\n\n<p><code>apply plugin: 'com.google.gms.google-services'</code></p></li>\n</ol>\n", "title": "Version conflict updating to 8.4.0", "answer_id": 35270772, "question_id": 34370603, "tags": ["android", "google-play-services"]}, {"body": "<p>In the application's module (build.gradle)</p>\n\n<p>Moving :</p>\n\n<pre><code>apply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>to the last line solved the issue.</p>\n", "title": "Version conflict updating to 8.4.0", "answer_id": 36557159, "question_id": 34370603, "tags": ["android", "google-play-services"]}, {"body": "<p>I Was serching... at the Google page there is the solution...<a href=\"https://developers.google.com/android/guides/google-services-plugin#introduction\" rel=\"nofollow\">https://developers.google.com/android/guides/google-services-plugin#introduction</a></p>\n\n<p>Add dependencies for basic libraries required for the services you have enabled. This step requires that the apply plugin: 'com.google.gms.google-services' <strong><em>line be at the end of your app/build.gradle file so that no dependency collisions are introduced.</em></strong> You can see the result of this step by running ./gradlew :app:dependencies.</p>\n", "title": "Version conflict updating to 8.4.0", "answer_id": 36870348, "question_id": 34370603, "tags": ["android", "google-play-services"]}, {"body": "<p>In project gradle </p>\n\n<pre><code>buildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.google.gms:google-services:2.0.0-alpha6'\n    }\n}\n</code></pre>\n\n<p>in app/module gradle</p>\n\n<pre><code>apply plugin: 'com.google.gms.google-services'\nandroid {\n    ...\n}\n\ndependencies {\n    compile 'com.google.android.gms:play-services-analytics:8.3.0'\n}\n</code></pre>\n", "title": "Version conflict updating to 8.4.0", "answer_id": 36922961, "question_id": 34370603, "tags": ["android", "google-play-services"]}, {"body": "<p>There is no meaning in moving apply plugin: <code>'com.google.gms.google-services</code>' to the end of <strong>build.gradle</strong>. It is same as not defining it.</p>\n\n<p>Just remove this line and make sure apply plugin: '<code>com.android.application</code>' is there</p>\n\n<p>Use:   </p>\n\n<pre><code>compile 'com.google.android.gms:play-services-gcm:8.4.0'\ncompile 'com.google.android.gms:play-services:8.4.0'\n</code></pre>\n\n<p>it will compile.</p>\n", "title": "Version conflict updating to 8.4.0", "answer_id": 37273283, "question_id": 34370603, "tags": ["android", "google-play-services"]}, {"body": "<p>This seems to be fixed with version 3.0.0 of Google Services plugin (and version 9.0.0 of the Google Play Services library). So with this </p>\n\n<p>top level build.gradle</p>\n\n<pre><code>dependencies {\n    classpath 'com.google.gms:google-services:3.0.0'\n}\n</code></pre>\n\n<p>app level build.gradle</p>\n\n<pre><code>apply plugin: 'com.google.gms.google-services'\n\ndependencies {\n    compile 'com.google.android.gms:play-services:9.0.0\n}\n</code></pre>\n\n<p><em>Quick Side Note:</em> If you are updating to version 3.0.0 of the <code>google-services</code> plugin, make sure to regenerate your configuration file as it has new fields (explained <a href=\"https://stackoverflow.com/questions/37317295/missing-api-key-current-key-with-google-services-3-0-0/37317752\">here</a>).</p>\n\n<p><em>Edit (2016-06-20):</em> While this does compile and run, I just noticed that in the build logs it does specify to put the plugin at the bottom of the file, or the default (9.0.0) will be used. So in the situation above this isn't a problem since I am using version 9.0.0, but this can be problematic when updating the dependency. Here's the log: </p>\n\n<p><code>google-services plugin could not detect any version for com.google.android.gms or com.google.firebase, default version: 9.0.0 will be used.\nplease apply google-services plugin at the bottom of the build file.</code></p>\n", "title": "Version conflict updating to 8.4.0", "answer_id": 37331930, "question_id": 34370603, "tags": ["android", "google-play-services"]}, {"body": "<p>For me works only this:</p>\n\n<p>Top level.</p>\n\n<pre><code>dependencies {\n    classpath 'com.android.tools.build:gradle:2.1.0'\n    classpath 'com.google.gms:google-services:3.0.0'\n}\n</code></pre>\n\n<p>App level:</p>\n\n<pre><code>dependencies {\n    compile 'com.google.android.gms:play-services-gcm:9.0.1'\n    compile 'com.google.android.gms:play-services-location:9.0.1'\n}\n\n// should be at the bottom\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n", "title": "Version conflict updating to 8.4.0", "answer_id": 37626930, "question_id": 34370603, "tags": ["android", "google-play-services"]}, {"body": "<p>I have updated in app build.gradle</p>\n\n<pre><code>dependencies {\n....\ncompile 'com.google.android.gms:play-services-auth:9.0.0'\n</code></pre>\n\n<p>and app build.gradle</p>\n\n<pre><code>  dependencies {\n    classpath 'com.android.tools.build:gradle:2.1.0'\n    classpath 'com.google.gms:google-services:3.0.0'\n}\n</code></pre>\n\n<p>Its working for.</p>\n", "title": "Version conflict updating to 8.4.0", "answer_id": 38355760, "question_id": 34370603, "tags": ["android", "google-play-services"]}, {"body": "<p>In project gradle:</p>\n\n<pre><code>       compileSdkVersion 23\n</code></pre>\n\n<p>It is working.</p>\n", "title": "Version conflict updating to 8.4.0", "answer_id": 39292350, "question_id": 34370603, "tags": ["android", "google-play-services"]}], "question_id": 34370603}, {"body": "<p>I created a sample project, with C#6.0 goodies - null propagation and properties initialization as an example, set target version .NET 4.0 and it... works.</p>\n\n<pre><code>public class Cat\n{\n    public int TailLength { get; set; } = 4;\n\n    public Cat Friend { get; set; }\n\n    public string Mew() { return \"Mew!\"; }\n}\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        var cat = new Cat {Friend = new Cat()};\n        Console.WriteLine(cat?.Friend.Mew());\n        Console.WriteLine(cat?.Friend?.Friend?.Mew() ?? \"Null\");\n        Console.WriteLine(cat?.Friend?.Friend?.TailLength ?? 0);\n    }\n}\n</code></pre>\n\n<ul>\n<li><a href=\"http://en.wikipedia.org/wiki/C_Sharp_%28programming_language%29\">Wikipedia says</a> .NET framework for C# 6.0 is 4.6.</li>\n<li><a href=\"http://stackoverflow.com/questions/23605210/what-clr-is-needed-for-c-sharp-6\">This question</a> (and <a href=\"http://en.wikipedia.org/wiki/Microsoft_Visual_Studio#Visual_Studio_2015\">Visual&nbsp;Studio&nbsp;2015</a> CTP test) says CLR version is 4.0.30319.0.</li>\n<li><a href=\"https://msdn.microsoft.com/en-us/library/8bs2ecf4\">This MSDN page</a> says that .NET 4, 4.5, 4.5.2 uses CLR 4. There isn't any information about .NET 4.6.</li>\n</ul>\n\n<p>Does it mean that I can use C# 6.0 features for my software that targets .NET 4.0? Are there any limitations or drawbacks?</p>\n", "title": "Does C# 6.0 work for .NET 4.0?", "tags": ["c#", ".net", "c#-6.0"], "answer_count": 4, "link": "http://stackoverflow.com/questions/28921701/does-c-6-0-work-for-net-4-0", "answers": [{"body": "<p>Yes, you can use newer compilers for older frameworks and get access to the new compiler features (as long as those features do not require new types introduced in .NET 4.6).</p>\n\n<p>Other examples of this are methods with default parameters was introduced with C# 4.0 (.NET 4.0) but you are able to use them in .NET 2.0 (C# 2.0) and .NET 3.5 (C# 3.0) projects.</p>\n\n<p>You are also able to use Extension Methods (introduced in C# 3.0) in .NET 2.0 or .NET 3.0 <a href=\"http://stackoverflow.com/questions/11346554/can-i-use-extension-methods-and-linq-in-net-2-0-or-3-0\">if you do one small workaround</a> to make the compiler happy so it can find a attribute that was introduced in .NET 3.5.</p>\n", "title": "Does C# 6.0 work for .NET 4.0?", "answer_id": 28921747, "question_id": 28921701, "tags": ["c#", ".net", "c#-6.0"]}, {"body": "<p>Yes (mostly). C# 6.0 requires the new Roslyn compiler, but the new compiler can compile targeting older framework versions. That's only limited to new features that <strong>don't require support from the framework</strong>.</p>\n\n<p>For example, while you can use the string interpolation feature in C# 6.0 with earlier versions of .Net (as it results in a call to <code>string.Format</code>):</p>\n\n<pre><code>int i = 3;\nstring s = $\"{i}\";\n</code></pre>\n\n<p>You need .Net 4.6 to use it with <code>IFormattable</code> as only the new framework version adds <code>System.FormattableString</code>:</p>\n\n<pre><code>int i = 3;\nIFormattable s = $\"{i}\";\n</code></pre>\n\n<p>The cases you mentioned don't need types from the framework to work. So the compiler is fully capable of supporting these features for old framework versions.</p>\n", "title": "Does C# 6.0 work for .NET 4.0?", "answer_id": 28921749, "question_id": 28921701, "tags": ["c#", ".net", "c#-6.0"]}, {"body": "<p>Just want to focus on how to understand Wikipedia and other links.</p>\n\n<p>When Wikipedia says C# 6.0 is with .NET Framework 4.6, it simply means the production version of the compiler (msc.exe) will be part of the .NET Framework 4.6 release. Via <a href=\"https://msdn.microsoft.com/en-us/library/bb398197.aspx?f=255&amp;MSPPError=-2147217396\">multi-targeting</a>, such compilers can support lower versions of .NET Framework releases. Of course, since Roslyn became an open source project, the compiler is now completely an individual component.</p>\n\n<p>When something refers the CLR version of 4.0.30319(.0), it actually can be .NET Framework 4.* (4.0, 4.0.*, 4.5, 4.5.*, 4.6), as they all implement the CLR version 4 specification. Not to mention Xamarin/Mono also implement the same CLR specification. </p>\n\n<p>The MSDN page is not yet fully updated, but <a href=\"https://msdn.microsoft.com/en-us/library/vstudio/system.object(v=vs.110).aspx\">some page</a> already has .NET Framework 4.6 listed in Version Information section.</p>\n\n<p>In all, language specs (as well as C# compiler), CLR specs, and .NET Framework releases are not tightly coupled with each other. It does give developers enough flexibility to utilize new compilers to target older CLRs and .NET Frameworks.</p>\n", "title": "Does C# 6.0 work for .NET 4.0?", "answer_id": 28922956, "question_id": 28921701, "tags": ["c#", ".net", "c#-6.0"]}, {"body": "<p>I used IFormattable feature of c# 6.0 in .net 4.0 without installing anything and it's working:</p>\n\n<pre><code>int i = 3;\nstring s = $\"This is just a test number {i}\";\n</code></pre>\n", "title": "Does C# 6.0 work for .NET 4.0?", "answer_id": 38457810, "question_id": 28921701, "tags": ["c#", ".net", "c#-6.0"]}], "question_id": 28921701}, {"body": "<p>Im using Python 2.7.3 and Requests. I installed Requests via pip. I believe it's the latest version. I'm running on Debian Wheezy.</p>\n\n<p>I've used Requests lots of times in the past and never faced this issue, but it seems that when making https requests with <code>Requests</code> I get an <code>InsecurePlatform</code> exception.</p>\n\n<p>The error mentions <code>urllib3</code>, but I don't have that installed. I did install it to check if it resolved the error, but it didn't.</p>\n\n<pre><code>/usr/local/lib/python2.7/dist-packages/requests/packages/urllib3\n/util/ssl_.py:79: InsecurePlatformWarning: A true SSLContext object is not\navailable. This prevents urllib3 from configuring SSL appropriately and \nmay cause certain SSL connections to fail. For more information, see \nhttps://urllib3.readthedocs.org/en/latest  \n/security.html#insecureplatformwarning.\n</code></pre>\n\n<p>Any ideas as to why I'm getting this? I've checked the docs, as specified in the error message, but the docs are saying to import urllib3 and either disable the warning, or provide a certificate.</p>\n", "title": "SSL InsecurePlatform error when using Requests package", "tags": ["python", "ssl", "python-requests"], "answer_count": 6, "link": "http://stackoverflow.com/questions/29099404/ssl-insecureplatform-error-when-using-requests-package", "answers": [{"body": "<p>Use the somewhat hidden <strong>security</strong> feature:</p>\n\n<p><code>pip install 'requests[security]'</code>\nor\n<code>pip install pyOpenSSL ndg-httpsclient pyasn1</code> </p>\n\n<p>Both commands install following extra packages:</p>\n\n<ul>\n<li>pyOpenSSL</li>\n<li>ndg-httpsclient</li>\n<li>pyasn1</li>\n</ul>\n\n<p>Please note that this is not required for <a href=\"http://docs.python-requests.org/en/master/community/faq/#what-are-hostname-doesn-t-match-errors\" rel=\"nofollow\">python-2.7.9+</a>.</p>\n\n<p>If <code>pip install</code> fails with errors, check whether you have required development packages for <code>libffi</code>, <code>libssl</code> and <code>python</code> installed in your system <strong>using distribution's package manager</strong>:</p>\n\n<ul>\n<li><p><strong>Debian</strong>/<strong>Ubuntu</strong> - <code>python-dev</code> <code>libffi-dev</code> <code>libssl-dev</code> packages.</p></li>\n<li><p><strong>Fedora</strong> - <code>openssl-devel</code> <code>python-devel</code> <code>libffi-devel</code> packages.</p></li>\n</ul>\n\n<p><em>Distro list above is incomplete.</em></p>\n\n<p><strong>Workaround</strong> (<a href=\"http://stackoverflow.com/a/31946125/157176\">see the original answer by @TomDotTom</a>)<strong>:</strong></p>\n\n<p>In case you cannot install some of the required development packages, there's also an option to disable that warning:</p>\n\n<pre><code>import requests.packages.urllib3\nrequests.packages.urllib3.disable_warnings()\n</code></pre>\n", "title": "SSL InsecurePlatform error when using Requests package", "answer_id": 29099439, "question_id": 29099404, "tags": ["python", "ssl", "python-requests"]}, {"body": "<p>If you are <strong>not able to upgrade</strong> your Python version to 2.7.9, and want to suppress warnings, </p>\n\n<p>you can <strong>downgrade your 'requests'</strong> version to 2.5.3:</p>\n\n<pre><code>sudo pip install requests==2.5.3\n</code></pre>\n\n<p>About version:\n<a href=\"http://fossies.org/diffs/requests/2.5.3_vs_2.6.0/requests/packages/urllib3/util/ssl_.py-diff.html\">http://fossies.org/diffs/requests/2.5.3_vs_2.6.0/requests/packages/urllib3/util/ssl_.py-diff.html</a></p>\n", "title": "SSL InsecurePlatform error when using Requests package", "answer_id": 29154960, "question_id": 29099404, "tags": ["python", "ssl", "python-requests"]}, {"body": "<p>Requests 2.6 introduced this warning for users of python prior to 2.7.9 with only stock SSL modules available.</p>\n\n<p>Assuming you can't upgrade to a newer version of python, this will install more up-to-date python SSL libraries:</p>\n\n<pre><code>pip install --upgrade ndg-httpsclient \n</code></pre>\n\n<p>HOWEVER, this may fail on some systems without the build-dependencies for pyOpenSSL. On debian systems, running this before the pip command above should be enough for pyOpenSSL to build:</p>\n\n<pre><code>apt-get install python-dev libffi-dev libssl-dev\n</code></pre>\n", "title": "SSL InsecurePlatform error when using Requests package", "answer_id": 29501899, "question_id": 29099404, "tags": ["python", "ssl", "python-requests"]}, {"body": "<p>In fact, you can try this.</p>\n\n<p><code>requests.post(\"https://www.google.com\", verify=False)</code></p>\n\n<p>you can read the code for requests. </p>\n\n<p><code>\"C:\\Python27\\Lib\\site-packages\\requests\\sessions.py\"</code></p>\n\n<pre><code>class Session(SessionRedirectMixin):\n......\n def request(self, method, url,\n    params=None,\n    data=None,\n    headers=None,\n    cookies=None,\n    files=None,\n    auth=None,\n    timeout=None,\n    allow_redirects=True,\n    proxies=None,\n    hooks=None,\n    stream=None,\n    verify=None,  # &lt;========\n    cert=None):\n    \"\"\"\n    ...\n    :param verify: (optional) if True, the SSL cert will be verified.\n         A CA_BUNDLE path can also be provided.\n    ...\n    \"\"\"\n</code></pre>\n", "title": "SSL InsecurePlatform error when using Requests package", "answer_id": 30253542, "question_id": 29099404, "tags": ["python", "ssl", "python-requests"]}, {"body": "<p>I don't use this in production, just some test runners. And to reiterate the <a href=\"https://urllib3.readthedocs.org/en/latest/security.html#insecurerequestwarning\" rel=\"nofollow\">urllib3 documentation</a> </p>\n\n<blockquote>\n  <p>If you know what you are doing and would like to disable this and\n  other warnings</p>\n</blockquote>\n\n<pre><code>import requests.packages.urllib3\nrequests.packages.urllib3.disable_warnings()\n</code></pre>\n\n<p>Edit / Update:</p>\n\n<p>The following should also work:</p>\n\n<pre><code>import logging\nimport requests\n\n# turn down requests log verbosity\nlogging.getLogger('requests').setLevel(logging.CRITICAL)\n</code></pre>\n", "title": "SSL InsecurePlatform error when using Requests package", "answer_id": 31946125, "question_id": 29099404, "tags": ["python", "ssl", "python-requests"]}, {"body": "<p>This answer is unrelated, but if you  wanted to <strong>get rid of warning</strong> and get following warning from requests:</p>\n\n<p><code>InsecurePlatformWarning\n/usr/local/lib/python2.7/dist-packages/requests/packages/urllib3/util/ssl_.py:79: InsecurePlatformWarning: A true SSLContext object is not available. This prevents urllib3 from configuring SSL appropriately and may cause certain SSL connections to fail. For more information, see https://urllib3.readthedocs.org/en/latest/security.html#insecureplatformwarning.</code></p>\n\n<p>You can <strong>disable</strong> it by adding the following line to your python code:</p>\n\n<p><code>requests.packages.urllib3.disable_warnings()</code></p>\n", "title": "SSL InsecurePlatform error when using Requests package", "answer_id": 33824416, "question_id": 29099404, "tags": ["python", "ssl", "python-requests"]}], "question_id": 29099404}, {"body": "<p>What are the actual uses of the <code>WeakMap</code> data structure introduced in ECMAScript 6?</p>\n\n<p>Since a key of a weak map creates a strong reference to its corresponding value, ensuring that a value which has been inserted into a weak map will <em>never</em> disappear as long as its key is still alive, it can't be used for memo tables, caches or anything else that you would normally use weak references, maps with weak values, etc. for.</p>\n\n<p>It seems to me that this:</p>\n\n<pre><code>weakmap.set(key, value);\n</code></pre>\n\n<p>...is just a roundabout way of saying this:</p>\n\n<pre><code>key.value = value;\n</code></pre>\n\n<p>What concrete use cases am I missing?</p>\n", "title": "What are the actual uses of ES6 WeakMap?", "tags": ["javascript", "ecmascript-6", "weakmap"], "answer_count": 2, "link": "http://stackoverflow.com/questions/29413222/what-are-the-actual-uses-of-es6-weakmap", "answers": [{"body": "<p>A use case could be to use it as a dictionary for listeners, I have a coworker who did that. It is very helpful because any listener is directly targetted with this way of doing things. Goodbye <code>listener.on</code>.</p>\n\n<p>But from a more abstract point of view, <code>WeakMap</code> is especially powerful to dematerialize access to basically anything, you don't need a namespace to isolate its members since it is already implied by the nature of this structure. I'm pretty sure you could do some major memory improvements by replacing awkwards redundant object keys (even though deconstructing does the work for you).</p>\n\n<hr>\n\n<h2>Before reading what is next</h2>\n\n<p>I do now realize my emphasize is not exactly the best way to tackle the problem and as <a href=\"http://stackoverflow.com/users/1348195/benjamin-gruenbaum\">Benjamin Gruenbaum</a> pointed out (check out his answer, if it's not already above mine :p), this problem could not have been solved with a regular <code>Map</code>, since it would have leaked, thus the main strength of <code>WeakMap</code> is that it does not interfere with garbage collection given that they do not keep a reference.</p>\n\n<hr>\n\n<p>Here is the actual code of my coworker (thanks to <a href=\"http://stackoverflow.com/users/1147293/hugeen\">him</a> for sharing)</p>\n\n<p><a href=\"https://github.com/hugeen/burst/blob/master/core/event.js\" rel=\"nofollow\">Full source here</a>, it's about listeners management I talked about above (you can also take a look at the <a href=\"https://github.com/hugeen/burst/blob/master/test/core/event_spec.js\" rel=\"nofollow\">specs</a>)</p>\n\n<pre><code>var listenableMap = new WeakMap();\n\n\nexport function getListenable (object) {\n    if (!listenableMap.has(object)) {\n        listenableMap.set(object, {});\n    }\n\n    return listenableMap.get(object);\n}\n\n\nexport function getListeners (object, identifier) {\n    var listenable = getListenable(object);\n    listenable[identifier] = listenable[identifier] || [];\n\n    return listenable[identifier];\n}\n\n\nexport function on (object, identifier, listener) {\n    var listeners = getListeners(object, identifier);\n\n    listeners.push(listener);\n}\n\n\nexport function removeListener (object, identifier, listener) {\n    var listeners = getListeners(object, identifier);\n\n    var index = listeners.indexOf(listener);\n    if(index !== -1) {\n        listeners.splice(index, 1);\n    }\n}\n\n\nexport function emit (object, identifier, ...args) {\n    var listeners = getListeners(object, identifier);\n\n    for (var listener of listeners) {\n        listener.apply(object, args);\n    }\n}\n</code></pre>\n", "title": "What are the actual uses of ES6 WeakMap?", "answer_id": 29413402, "question_id": 29413222, "tags": ["javascript", "ecmascript-6", "weakmap"]}, {"body": "<h2>Fundamentally</h2>\n\n<p><strong>WeakMaps provide a way to extend objects from the outside without interfering with garbage collection.</strong> Whenever you want to extend an object but can't because it is sealed - or from an external source - a WeakMap can be applied.</p>\n\n<p>A WeakMap is a map (dictionary) where the <strong>keys</strong> are weak - that is, if all references to the <em>key</em> are lost and there are no more references to the value - the <em>value</em> can be garbage collected. Let's show this first through examples, then explain it a bit and finally finish with a real use.</p>\n\n<p>Let's say I'm using an API that gives me a certain object:</p>\n\n<pre><code>var obj = getObjectFromLibrary();\n</code></pre>\n\n<p>Now, I have a method that uses the object:</p>\n\n<pre><code>function useObj(obj){\n   doSomethingWith(obj);\n}\n</code></pre>\n\n<p>I want to keep track of how many times the method was called with a certain object and report if it happens more than N times. Naively one would think to use a Map:</p>\n\n<pre><code>var map = new Map(); // maps can have object keys\nfunction useObj(obj){\n    doSomethingWith(obj);\n    var called = map.get(obj) || 0;\n    called++; // called one more time\n    if(called &gt; 10) report(); // Report called more than 10 times\n    map.set(obj, called);\n}\n</code></pre>\n\n<p>This works, but it has a memory leak - we now keep track of every single library object passed to the function which keeps the library objects from ever being garbage collected. Instead - we can use a <code>WeakMap</code>:</p>\n\n<pre><code>var map = new WeakMap(); // create a weak map\nfunction useObj(obj){\n    doSomethingWith(obj);\n    var called = map.get(obj) || 0;\n    called++; // called one more time\n    if(called &gt; 10) report(); // Report called more than 10 times\n    map.set(obj, called);\n}\n</code></pre>\n\n<p>And the memory leak is gone. </p>\n\n<h2>Use cases</h2>\n\n<p>Some use cases that would otherwise cause a memory leak and are enabled by <code>WeakMap</code>s include:</p>\n\n<ul>\n<li>Keeping private data about a specific object and only giving access to it to people with a reference to the Map. A more ad-hoc approach is coming with the private-symbols proposal but that's a long time from now.</li>\n<li>Keeping data about library objects without changing them or incurring overhead. </li>\n<li>Keeping data about a small set of objects where many objects of the type exists to not incur problems with hidden classes JS engines use for objects of the same type.</li>\n<li>Keeping data about host objects like DOM nodes in the browser.</li>\n<li>Adding a capability to an object from the outside (like the event emitter example in the other answer).</li>\n</ul>\n\n<h2>Let's look at a real use</h2>\n\n<p>It can be used to extend an object from the outside. Let's give a practical (adapted, sort of real - to make a point) example from the real world of io.js.</p>\n\n<p>Let's say you're NodeJS and you have <code>Promise</code> objects - now you want to keep track of all the currently rejected promises - however you do <em>not</em> want to keep them from being garbage collected in case no references exist to them. </p>\n\n<p>Now, you <em>don't</em> want to add properties to native objects for obvious reasons - so you're stuck. If you keep references to the promises you're causing a memory leak since no garbage collection can happen - if you don't keep references you can't save additional information about individual promises. Any scheme that involves saving the ID of a promise inherently means you need a reference to it.</p>\n\n<h3>Enter WeakMaps</h3>\n\n<p>WeakMaps mean that the <strong>keys</strong> are weak. There are no ways to enumerate a weak map or to get all its values. In a weak map you can store the data based on a key and when the key gets garbage collected so do the values.</p>\n\n<p>This means that given a promise you can store state about it - and that object can still be garbage collected. Later on if you get a reference to an object you can check if you have any state relating to it and report it.</p>\n\n<p>This was used to implement <a href=\"https://github.com/iojs/io.js/issues/256\">unhandled rejection hooks</a> by Petka Antonov as <a href=\"https://iojs.org/api/process.html#process_event_unhandledrejection\">this</a>:</p>\n\n<pre><code>process.on('unhandledRejection', function(reason, p) {\n    console.log(\"Unhandled Rejection at: Promise \", p, \" reason: \", reason);\n    // application specific logging, throwing an error, or other logic here\n});\n</code></pre>\n\n<p>We keep information about promises in a map and can know when a rejected promise was handled.</p>\n", "title": "What are the actual uses of ES6 WeakMap?", "answer_id": 29416340, "question_id": 29413222, "tags": ["javascript", "ecmascript-6", "weakmap"]}], "question_id": 29413222}, {"body": "<p>With <code>react-router</code> I can use the <code>Link</code> element to create links that are natively handled by react router. </p>\n\n<p>I see internally it calls <code>this.context.transitionTo(...)</code>.</p>\n\n<p>I want to do a navigation, but not from a link, from a dropdown selection for example. How can I do this in code? What is <code>this.context</code>? </p>\n\n<p>I saw the <code>Navigation</code> mixin, but can I do this without mixins?</p>\n", "title": "Programmatically navigate using react router", "tags": ["reactjs", "react-router"], "answer_count": 7, "link": "http://stackoverflow.com/questions/31079081/programmatically-navigate-using-react-router", "answers": [{"body": "<blockquote>\n  <p><strong>React-Router 2.4.0+</strong> Answer</p>\n</blockquote>\n\n<p>In 2.4 and above, use a higher order component to get the router as a prop of your component.</p>\n\n<pre><code>import { withRouter } from 'react-router'\n\nclass Example extends React.Component {\n   // use `this.props.router.push('/some/path')` here\n};\n\n// Export the decorated class\nvar DecoratedExample = withRouter(Example);\n\n// PropTypes\nExample.propTypes = {\n  router: React.PropTypes.shape({\n    push: React.PropTypes.func.isRequired\n  }).isRequired\n};\n</code></pre>\n\n<blockquote>\n  <p><strong>React-Router 2.0.0+</strong> Answer</p>\n</blockquote>\n\n<p>This version is backwards compatible with 1.x so there's no need to an Upgrade Guide. Just going through the examples should be good enough.</p>\n\n<p>That said, if you wish to switch to the new pattern, there's a browserHistory module inside the router that you can access with</p>\n\n<p><code>import { browserHistory } from 'react-router'</code></p>\n\n<p>Now you have access to your browser history, so you can do things like push, replace, etc... Like:</p>\n\n<p><code>browserHistory.push('/some/path')</code></p>\n\n<p>Further reading:\n<a href=\"https://github.com/reactjs/react-router/blob/latest/docs/guides/Histories.md\">Histories</a> and\n<a href=\"https://github.com/reactjs/react-router/blob/latest/docs/guides/NavigatingOutsideOfComponents.md\">Navigation</a></p>\n\n<hr>\n\n<blockquote>\n  <p><strong>React-Router 1.x.x</strong> Answer</p>\n</blockquote>\n\n<p>I will not go into upgrading details. You can read about that in the <a href=\"https://github.com/rackt/react-router/blob/master/upgrade-guides/v1.0.0.md\">Upgrade Guide</a></p>\n\n<p>The main change about the question here is the change from Navigation mixin to History. Now it's using the browser historyAPI to change route so we will use <code>pushState()</code> from now on.</p>\n\n<p>Here's an exemple using Mixin:</p>\n\n<pre><code>var Example = React.createClass({\n  mixins: [ History ],\n  navigateToHelpPage () {\n    this.history.pushState(null, `/help`);\n  }\n})\n</code></pre>\n\n<p>Note that this <code>History</code> comes from <a href=\"https://github.com/rackt/history\">rackt/history</a> project. Not from React-Router itself.</p>\n\n<p>If you dont want to use Mixin for some reasonn (maybe because of ES6 class), then you can access the history that you get from the router from <code>this.props.history</code>. It will be only accessible for the components rendered by your Router. So, if you want to use it in any child components it needs to be passed down as an attribute via <code>props</code>.</p>\n\n<p>You can read more about the new release at their <a href=\"https://github.com/rackt/react-router/tree/1.0.x/docs\">1.0.x documentation</a></p>\n\n<p>Here is <a href=\"https://github.com/rackt/react-router/blob/1.0.x/docs/guides/advanced/NavigatingOutsideOfComponents.md\">a help page specifically about navigating outside your component</a></p>\n\n<p>It recommends grabbing a reference <code>history = createHistory()</code> and calling <code>replaceState</code> on that.</p>\n\n<blockquote>\n  <p><strong>React-Router 0.13.x</strong> Answer</p>\n</blockquote>\n\n<p>I got into the same problem and could only find the solution with the Navigation mixin that comes with react-router.</p>\n\n<p>Here's how I did it</p>\n\n<pre><code>import React from 'react';\nimport {Navigation} from 'react-router';\n\nlet Authentication = React.createClass({\n  mixins: [Navigation],\n\n  handleClick(e) {\n    e.preventDefault();\n\n    this.transitionTo('/');\n  },\n\n  render(){\n    return (&lt;div onClick={this.handleClick}&gt;Click me!&lt;/div&gt;);\n  }\n});\n</code></pre>\n\n<p>I was able to call <code>transitionTo()</code> without the need to access <code>.context</code></p>\n\n<p>Or you could try the fancy ES6 <code>class</code></p>\n\n<pre><code>import React from 'react';\n\nexport default class Authentication extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick(e) {\n    e.preventDefault();\n\n    this.context.router.transitionTo('/');\n  }\n\n  render(){\n    return (&lt;div onClick={this.handleClick}&gt;Click me!&lt;/div&gt;);\n  }\n}\n\nAuthentication.contextTypes = {\n  router: React.PropTypes.func.isRequired\n};\n</code></pre>\n\n<blockquote>\n  <p>Note that if you're using <strong>Redux</strong> there is another project called\n  <a href=\"https://github.com/reactjs/react-router-redux\">React-Router-Redux</a> that gives you\n  redux bindings for ReactRouter. Somewhat the same approach that\n  <a href=\"https://github.com/rackt/react-redux\">React-Redux</a> does</p>\n</blockquote>\n", "title": "Programmatically navigate using react router", "answer_id": 31079244, "question_id": 31079081, "tags": ["reactjs", "react-router"]}, {"body": "<blockquote>\n  <p><strong>Warning:</strong> this answer covers only ReactRouter versions before 1.0</p>\n  \n  <p>I will update this answer with 1.0.0-rc1 use cases after!</p>\n</blockquote>\n\n<p>You can do this without mixins too.</p>\n\n<pre><code>let Authentication = React.createClass({\n  contextTypes: {\n    router: React.PropTypes.func\n  },\n  handleClick(e) {\n    e.preventDefault();\n    this.context.router.transitionTo('/');\n  },\n  render(){\n    return (&lt;div onClick={this.handleClick}&gt;Click me!&lt;/div&gt;);\n  }\n});\n</code></pre>\n\n<p>The gotcha with contexts is that it is not accessible unless you define the <code>contextTypes</code> on the class.</p>\n\n<p>As for what is context, it is an object, like props, that are passed down from parent to child, but it is passed down implicitly, without having to redeclare props each time. See <a href=\"https://www.tildedave.com/2014/11/15/introduction-to-contexts-in-react-js.html\">https://www.tildedave.com/2014/11/15/introduction-to-contexts-in-react-js.html</a></p>\n", "title": "Programmatically navigate using react router", "answer_id": 31130888, "question_id": 31079081, "tags": ["reactjs", "react-router"]}, {"body": "<p>for the most recent release (<code>v2.0.0-rc5</code>), the recommended navigation method is by directly pushing onto the history singleton. You can see that in action <a href=\"https://github.com/rackt/react-router/blob/master/docs/guides/NavigatingOutsideOfComponents.md\">here</a>. Relevant excerpt:</p>\n\n<pre><code>import { browserHistory } from './react-router'\nbrowserHistory.push('/some/path')\n</code></pre>\n\n<p>If using the newer react-router API, you need to make use of the <code>history</code> from <code>this.props</code> when inside of components so:</p>\n\n<pre><code>this.props.history.push('/some/path');\n</code></pre>\n\n<p>It also offers <code>pushState</code> but that is deprecated per logged warnings.</p>\n\n<p>If using <code>react-router-redux</code>, it offers a <code>push</code> function you can dispatch like so:</p>\n\n<pre><code>import { push } from 'react-router-redux';\nthis.props.dispatch(push('/some/path'));\n</code></pre>\n\n<p>However this may be only to change the URL not actually navigate to the page.</p>\n", "title": "Programmatically navigate using react router", "answer_id": 34863577, "question_id": 31079081, "tags": ["reactjs", "react-router"]}, {"body": "<p>Here's how you do this with <a href=\"https://github.com/rackt/react-router/blob/master/upgrade-guides/v2.0.0.md\"><code>react-router v2.0.0</code></a> with <a href=\"http://babeljs.io/blog/2015/06/07/react-on-es6-plus/\">ES6</a>. <code>react-router</code> has moved away from mixins.</p>\n\n<pre><code>import React from 'react';\n\nexport default class MyComponent extends React.Component {\n  navigateToPage = () =&gt; {\n    this.context.router.push('/my-route')\n  };\n\n  render() {\n    return (\n      &lt;button onClick={this.navigateToPage}&gt;Go!&lt;/button&gt;\n    );\n  }\n}\n\nMyComponent.contextTypes = {\n  router: React.PropTypes.object.isRequired\n}\n</code></pre>\n", "title": "Programmatically navigate using react router", "answer_id": 34955668, "question_id": 31079081, "tags": ["reactjs", "react-router"]}, {"body": "<p>For this one, who does not control the server side and because of this is using hash router v2:</p>\n\n<p>Place your <a href=\"https://github.com/reactjs/react-router/issues/1967\">history</a> into separate file (e.g. app_history.js ES6):</p>\n\n<pre><code>import { useRouterHistory } from 'react-router'\nimport { createHashHistory } from 'history'\nconst appHistory = useRouterHistory(createHashHistory)({ queryKey: false });\n\nexport default appHistory;\n</code></pre>\n\n<p>And use it everywhere!</p>\n\n<p>Your entry point for react-router (app.js ES6):</p>\n\n<pre><code>import React from 'react'\nimport { render } from 'react-dom'\nimport { Router, Route, Redirect } from 'react-router'\nimport appHistory from './app_history'\n...\nconst render((\n  &lt;Router history={appHistory}&gt;\n  ...\n  &lt;/Router&gt;\n), document.querySelector('[data-role=\"app\"]'));\n</code></pre>\n\n<p>Your navigation inside any component (ES6):</p>\n\n<pre><code>import appHistory from '../app_history'\n...\najaxLogin('/login', (err, data) =&gt; {\n  if (err) {\n    console.error(err); // login failed\n  } else {\n    // logged in\n    appHistory.replace('/dashboard'); // or .push() if you don't need .replace()\n  }\n})\n</code></pre>\n", "title": "Programmatically navigate using react router", "answer_id": 36102045, "question_id": 31079081, "tags": ["reactjs", "react-router"]}, {"body": "<p>You can use </p>\n\n<pre><code>document.location.hash = 'path'\n</code></pre>\n\n<p>Notes:</p>\n\n<ul>\n<li>This is a static string path. </li>\n<li>The history is appended properly with this.</li>\n</ul>\n", "title": "Programmatically navigate using react router", "answer_id": 38152282, "question_id": 31079081, "tags": ["reactjs", "react-router"]}, {"body": "<pre><code>For ES6 + React components, the following solution worked for me\nI followed Felippe skinner, but adding end to end solution to help beginners like me.\nBelow are the versions i used\n\"react-router\": \"^2.7.0\"\n\"react\": \"^15.3.1\"\n\n Below is my react component where i used programmatic navigation using react-router\n\nimport React from 'react';\n\nclass loginComp extends React.Component {\n   constructor( context) {\n    super(context);\n    this.state = {\n      uname: '',\n      pwd: ''\n    };\n  }\n\n  redirectToMainPage(){\n        this.context.router.replace('/home');\n  }\n\n  render(){\n    return &lt;div&gt;\n           // skipping html code \n             &lt;button onClick={this.redirectToMainPage.bind(this)}&gt;Redirect&lt;/button&gt;\n    &lt;/div&gt;;\n  }\n};\n\n loginComp.contextTypes = {\n    router: React.PropTypes.object.isRequired\n }\n\n module.exports = loginComp;\n\n **Below is the configuration for my router.**\n import { Router, Route, IndexRedirect, browserHistory } from 'react-router'\n\n render(&lt;Router history={browserHistory}&gt;\n          &lt;Route path='/' component={ParentComp}&gt;\n            &lt;IndexRedirect to = \"/login\"/&gt;\n            &lt;Route path='/login' component={LoginComp}/&gt;\n            &lt;Route path='/home' component={HomeComp}/&gt;\n            &lt;Route path='/repair' component={RepairJobComp} /&gt;\n            &lt;Route path='/service' component={ServiceJobComp} /&gt;\n          &lt;/Route&gt;\n        &lt;/Router&gt;, document.getElementById('root'));\n</code></pre>\n", "title": "Programmatically navigate using react router", "answer_id": 39459438, "question_id": 31079081, "tags": ["reactjs", "react-router"]}], "question_id": 31079081}, {"body": "<p>The following code is wrong (see it <a href=\"http://ideone.com/vSoRsM\">on ideone</a>):</p>\n\n<pre><code>public class Test\n{\n    public static void Main()\n    {\n        int j = 5;\n        (j++);      // if we remove the \"(\" and \")\" then this compiles fine.\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>error CS0201: Only assignment, call, increment, decrement, await, and\n  new object expressions can be used as a statement</p>\n</blockquote>\n\n<ol>\n<li>Why does the code compile when we remove the parentheses?</li>\n<li>Why does it not compile with the parentheses?</li>\n<li>Why was C# designed that way?</li>\n</ol>\n", "title": "Why was the statement (j++); forbidden?", "tags": ["c#", "syntax", "expression", "language-design", "parentheses"], "answer_count": 3, "link": "http://stackoverflow.com/questions/34422168/why-was-the-statement-j-forbidden", "answers": [{"body": "<p>In the <a href=\"https://www.microsoft.com/en-us/download/details.aspx?id=7029\">C# language specification</a></p>\n\n<blockquote>\n  <p>Expression statements are used to evaluate expressions. Expressions that can be used as statements include method invocations, object allocations using the new operator, assignments using = and the compound assignment operators, increment and decrement operations using the ++ and -- operators and await expressions.</p>\n</blockquote>\n\n<p>Putting parentheses around a statement creates a new so-called parenthesized expression.  From the specification:</p>\n\n<blockquote>\n  <p>A parenthesized-expression consists of an expression enclosed in parentheses. ... A parenthesized-expression is evaluated by evaluating the expression within the parentheses. If the expression within the parentheses denotes a namespace or type, a compile-time error occurs. Otherwise, the result of the parenthesized-expression is the result of the evaluation of the contained expression.</p>\n</blockquote>\n\n<p>Since parenthesized expressions are not listed as a valid expression statement, it is not a valid statement according to the specification.  Why the designers chose to do it this way is anyone's guess but my bet is because parentheses do no useful work if the entire statement is contained in parentheses: <code>stmt</code> and <code>(stmt)</code> are exactly the same.</p>\n", "title": "Why was the statement (j++); forbidden?", "answer_id": 34422267, "question_id": 34422168, "tags": ["c#", "syntax", "expression", "language-design", "parentheses"]}, {"body": "<p>beacause the brackets around the <code>i++</code> are creating/defining an expression.. as the error message says.. a simple expression cant be used as a statement.</p>\n\n<p>why the language was designed to be this way? to prevent bugs, having misleading expressions as statements, that produce no side effect like having the code</p>\n\n<pre><code>int j = 5;\nj+1; \n</code></pre>\n\n<p>the second line has no effect(but you may not have noticed). But instead of the compiler removing it(because the code is not needed).it explicitly asks you to remove it(so you will be aware or the error) OR fix it in case you forgot to type something.</p>\n\n<p><strong>edit</strong>:</p>\n\n<p>to make the part about bracked more clear.. brackets in c# (besides other uses, like cast and function call), are used to group expressions, and return a single expression (make of the sub expressions).</p>\n\n<p>at that level of code only staments are allowed.. so </p>\n\n<pre><code>j++; is a valid statement because it produces side effects\n</code></pre>\n\n<p>but by using the bracked you are turning it into as expression</p>\n\n<pre><code>myTempExpression = (j++)\n</code></pre>\n\n<p>and this</p>\n\n<pre><code>myTempExpression;\n</code></pre>\n\n<p>is not valid because the compiler cant asure that the expression as side effect.(not without incurring into the halting problem)..</p>\n", "title": "Why was the statement (j++); forbidden?", "answer_id": 34422328, "question_id": 34422168, "tags": ["c#", "syntax", "expression", "language-design", "parentheses"]}, {"body": "<blockquote>\n  <p>Deep insights appreciated.</p>\n</blockquote>\n\n<p>I shall do my best.</p>\n\n<p>As other answers have noted, what's going on here is the compiler is detecting that an <em>expression</em> is being used as a <em>statement</em>. In many languages -- C, JavaScript, and many others -- it is perfectly legal to use an expression as a statement.  <code>2 + 2;</code> is legal in these languages, even though this is a statement that has no effect. Some expressions are useful only for their values, some expressions are useful only for their side effects (such as a call to a void returning method) and some expressions, unfortunately, are useful for both. (Like increment.)</p>\n\n<p>Point being: statements that consist only of expressions are almost certainly errors <em>unless those expressions are typically thought of as more useful for their side effects than their values</em>. C# designers wished to find a middle ground, by allowing expressions that were generally thought of as side-effecting, while disallowing those that are also typically thought of as useful for their values.  The set of expressions they identified in C# 1.0 were increments, decrements, method calls, assignments, and somewhat controversially, constructor invocations. </p>\n\n<hr>\n\n<p>ASIDE: One normally thinks of an object construction as being used for the value it produces, not for the side effect of the construction; in my opinion allowing <code>new Foo();</code> is a bit of a misfeature. In particular, I've seen this pattern in real-world code that caused a security defect:</p>\n\n<pre><code>catch(FooException ex) { new BarException(ex); } \n</code></pre>\n\n<p>It can be surprisingly hard to spot this defect if the code is complicated.</p>\n\n<hr>\n\n<p>The compiler therefore works to detect all statements that consist of expressions that are not on that list. In particular, parenthesized expressions are identified as just that -- parenthesized expressions.  They are not on the list of \"allowed as statement expressions\", so they are disallowed.</p>\n\n<p>All of this is in service of a design principle of the C# language. <strong>If you typed <code>(x++);</code> you were probably doing something wrong</strong>. This is probably a typo for <code>M(x++);</code> or some just thing. Remember, the attitude of the C# compiler team is not \"<em>can we figure out some way to make this work?</em>\"  The attitude of the C# compiler team is \"<em>if plausible code looks like a likely mistake, let's inform the developer</em>\".  C# developers like that attitude.</p>\n\n<p>Now, all that said, there actually are a few odd cases where the C# specification <em>does</em> imply or state outright that parentheses are disallowed but the C# compiler allows them anyways. In almost all those cases the minor discrepancy between the specified behaviour and the allowed behaviour is completely harmless, so the compiler writers have never fixed these small bugs. You can read about those here:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/2186595/is-there-a-difference-between-return-myvar-vs-return-myvar/2187498#2187498\">Is there a difference between return myVar vs. return (myVar)?</a></p>\n", "title": "Why was the statement (j++); forbidden?", "answer_id": 34424282, "question_id": 34422168, "tags": ["c#", "syntax", "expression", "language-design", "parentheses"]}], "question_id": 34422168}, {"body": "<p>I have problem with embedded bitcode term.<br>\nWhat is embedded bitcode?<br>\nWhen to enable, <code>ENABLE_BITCODE</code> in new Xcode?<br>\nWhat happens to the binary when enabled, <code>ENABLE_BITCODE</code> in Xcode 7 ?  </p>\n", "title": "What does ENABLE_BITCODE do in xcode 7?", "tags": ["ios", "iphone", "xcode7", "bitcode"], "answer_count": 6, "link": "http://stackoverflow.com/questions/30722606/what-does-enable-bitcode-do-in-xcode-7", "answers": [{"body": "<p><strong>Bitcode</strong> refers to to the type of code: \"LLVM Bitcode\" that is sent to iTunes Connect. This allows Apple to use certain calculations to re-optimize apps further (e.g: possibly downsize executable sizes). If Apple needs to alter your executable then they can do this without a new build being uploaded.</p>\n\n<p>This differs from:\n<strong>Slicing</strong> which is the process of Apple optimizing your app for a user's device based on the device's resolution and architecture. Slicing does not require Bitcode. (Ex: only including @2x images on a 5s)</p>\n\n<p><strong>App Thinning</strong> is the combination of slicing, bitcode, and on-demand resources</p>\n\n<blockquote>\n  <p>Bitcode is an intermediate representation of a compiled program. Apps\n  you upload to iTunes Connect that contain bitcode will be compiled and\n  linked on the App Store. Including bitcode will allow Apple to\n  re-optimize your app binary in the future without the need to submit a\n  new version of your app to the store.</p>\n</blockquote>\n\n<p><a href=\"https://developer.apple.com/library/prerelease/ios/documentation/IDEs/Conceptual/AppDistributionGuide/AppThinning/AppThinning.html\" rel=\"nofollow\">Apple Documentation on App Thinning</a></p>\n", "title": "What does ENABLE_BITCODE do in xcode 7?", "answer_id": 30722686, "question_id": 30722606, "tags": ["ios", "iphone", "xcode7", "bitcode"]}, {"body": "<blockquote>\n  <p>Bitcode (iOS, watchOS)<br></p>\n  \n  <p>Bitcode is an intermediate representation of a compiled program. Apps you upload to iTunes Connect that contain bitcode will be compiled and linked on the App Store. Including bitcode will allow Apple to re-optimize your app binary in the future without the need to submit a new version of your app to the store.</p>\n</blockquote>\n\n<p><br></p>\n\n<p>Basically this concept is somewhat similar to java where byte code is run on different JVM's and in this case the bitcode is placed on iTune store and instead of giving the intermediate code to different platforms(devices) it provides the compiled code which don't need any virtual machine to run.</p>\n\n<p>Thus we need to create the bitcode once and it will be available for existing or coming devices. It's the Apple's headache to compile an make it compatible with each platform they have.</p>\n\n<p><em>Devs don't have to make changes and submit the app again to support new platforms.</em></p>\n\n<p><strong>Let's take the example</strong> of iPhone 5s when apple introduced <code>x64</code> chip in it. Although <code>x86</code> apps were totally compatible with <code>x64</code> architecture but to fully utilise the <code>x64</code> platform the developer has to change the architecture or some code. Once s/he's done the app is submitted to the app store for the review. </p>\n\n<p>If this bitcode concept was launched earlier then we the developers doesn't have to make any changes to support the <code>x64</code> bit architecture.</p>\n", "title": "What does ENABLE_BITCODE do in xcode 7?", "answer_id": 30733899, "question_id": 30722606, "tags": ["ios", "iphone", "xcode7", "bitcode"]}, {"body": "<h3>What is embedded bitcode?</h3>\n\n<p>According to <a href=\"https://developer.apple.com/library/prerelease/watchos/documentation/IDEs/Conceptual/AppDistributionGuide/AppThinning/AppThinning.html\">docs</a>:</p>\n\n<blockquote>\n  <p>Bitcode is an intermediate representation of a compiled program. Apps you upload to iTunes Connect that contain bitcode will be compiled and linked on the App Store. Including bitcode will allow Apple to re-optimize your app binary in the future without the need to submit a new version of your app to the store.</p>\n</blockquote>\n\n<p><em>Bitcode</em> allows other <em>App Thinning</em> component called <em>Slicing</em> to generate app bundle variants with particular executables for particular architectures, e.g. iPhone 5S variant will include only arm64 executable, iPad Mini armv7 and so on. From <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/DeveloperTools/Conceptual/WhatsNewXcode/Articles/xcode_7_0.html\">\"New Features in Xcode 7\"</a>: </p>\n\n<blockquote>\n  <p>When you archive for submission to the App Store, Xcode will compile your app into an intermediate representation. The App Store will then compile the bitcode down into the 64 or 32 bit executables as necessary.</p>\n</blockquote>\n\n<h3>When to enable ENABLE_BITCODE in new Xcode?</h3>\n\n<blockquote>\n  <p>For iOS apps, bitcode is the default, but optional. If you provide bitcode, all apps and frameworks in the app bundle need to include bitcode. For watchOS and tvOS apps, bitcode is required.</p>\n</blockquote>\n\n<h3>What happens to the binary when ENABLE_BITCODE is enabled in the new Xcode?</h3>\n\n<p>From Xcode 7 reference: </p>\n\n<blockquote>\n  <p>Activating this setting indicates that the target or project should generate bitcode during compilation for platforms and architectures which support it.  For Archive builds, bitcode will be generated in the linked binary for submission to the app store.  For other builds, the compiler and linker will check whether the code complies with the requirements for bitcode generation, but will not generate actual bitcode. </p>\n</blockquote>\n\n<p>Here's a couple of links that will help in deeper understanding of <em>Bitcode</em>:</p>\n\n<ul>\n<li><a href=\"http://lowlevelbits.org/bitcode-demystified/\">Bitcode Demystified</a></li>\n<li><a href=\"https://medium.com/@FredericJacobs/why-i-m-not-enabling-bitcode-f35cd8fbfcc5\">Why I'm not enabling Bitcode</a></li>\n</ul>\n", "title": "What does ENABLE_BITCODE do in xcode 7?", "answer_id": 30831010, "question_id": 30722606, "tags": ["ios", "iphone", "xcode7", "bitcode"]}, {"body": "<p>Since the exact question is \"what does enable bitcode do\", I'd like to give a few thin technical details I've figured out thus far. Most of this is practically impossible to figure out with 100% certainty until Apple releases the source code for this compiler</p>\n\n<p>First, Apple's bitcode does not <em>appear</em> to be the same thing as LLVM bytecode. At least, I've not been able to figure out any resemblance between them. It appears to have a proprietary header (always starts with \"xar!\") and probably some link-time reference magic that prevents data duplications. If you write out a hardcoded string, this string will only be put into the data once, rather than twice as would be expected if it was normal LLVM bytecode. </p>\n\n<p>Second, bitcode is not really shipped in the binary archive as a separate architecture as might be expected. It is not shipped in the same way as say x86 and ARM are put into one binary (FAT archive). Instead, they use a special section in the architecture specific MachO binary named \"__LLVM\" which is shipped with every architecture supported (ie, duplicated). I assume this is a short coming with their compiler system and may be fixed in the future to avoid the duplication. </p>\n\n<p>C code (compiled with <code>clang -fembed-bitcode hi.c -S -emit-llvm</code>):</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint main() {\n    printf(\"hi there!\");\n    return 0;\n}\n</code></pre>\n\n<p>LLVM IR output: </p>\n\n<pre><code>; ModuleID = '/var/folders/rd/sv6v2_f50nzbrn4f64gnd4gh0000gq/T/hi-a8c16c.bc'\ntarget datalayout = \"e-m:o-i64:64-f80:128-n8:16:32:64-S128\"\ntarget triple = \"x86_64-apple-macosx10.10.0\"\n\n@.str = private unnamed_addr constant [10 x i8] c\"hi there!\\00\", align 1\n@llvm.embedded.module = appending constant [1600 x i8] c\"\\DE\\C0\\17\\0B\\00\\00\\00\\00\\14\\00\\00\\00$\\06\\00\\00\\07\\00\\00\\01BC\\C0\\DE!\\0C\\00\\00\\86\\01\\00\\00\\0B\\82 \\00\\02\\00\\00\\00\\12\\00\\00\\00\\07\\81#\\91A\\C8\\04I\\06\\1029\\92\\01\\84\\0C%\\05\\08\\19\\1E\\04\\8Bb\\80\\10E\\02B\\92\\0BB\\84\\102\\148\\08\\18I\\0A2D$H\\0A\\90!#\\C4R\\80\\0C\\19!r$\\07\\C8\\08\\11b\\A8\\A0\\A8@\\C6\\F0\\01\\00\\00\\00Q\\18\\00\\00\\C7\\00\\00\\00\\1Bp$\\F8\\FF\\FF\\FF\\FF\\01\\90\\00\\0D\\08\\03\\82\\1D\\CAa\\1E\\E6\\A1\\0D\\E0A\\1E\\CAa\\1C\\D2a\\1E\\CA\\A1\\0D\\CC\\01\\1E\\DA!\\1C\\C8\\010\\87p`\\87y(\\07\\80p\\87wh\\03s\\90\\87ph\\87rh\\03xx\\87tp\\07z(\\07yh\\83r`\\87th\\07\\80\\1E\\E4\\A1\\1E\\CA\\01\\18\\DC\\E1\\1D\\DA\\C0\\1C\\E4!\\1C\\DA\\A1\\1C\\DA\\00\\1E\\DE!\\1D\\DC\\81\\1E\\CAA\\1E\\DA\\A0\\1C\\D8!\\1D\\DA\\A1\\0D\\DC\\E1\\1D\\DC\\A1\\0D\\D8\\A1\\1C\\C2\\C1\\1C\\00\\C2\\1D\\DE\\A1\\0D\\D2\\C1\\1D\\CCa\\1E\\DA\\C0\\1C\\E0\\A1\\0D\\DA!\\1C\\E8\\01\\1D\\00s\\08\\07v\\98\\87r\\00\\08wx\\876p\\87pp\\87yh\\03s\\80\\876h\\87p\\A0\\07t\\00\\CC!\\1C\\D8a\\1E\\CA\\01 \\E6\\81\\1E\\C2a\\1C\\D6\\A1\\0D\\E0A\\1E\\DE\\81\\1E\\CAa\\1C\\E8\\E1\\1D\\E4\\A1\\0D\\C4\\A1\\1E\\CC\\C1\\1C\\CAA\\1E\\DA`\\1E\\D2A\\1F\\CA\\01\\C0\\03\\80\\A0\\87p\\90\\87s(\\07zh\\83q\\80\\87z\\00\\C6\\E1\\1D\\E4\\A1\\1C\\E4\\00 \\E8!\\1C\\E4\\E1\\1C\\CA\\81\\1E\\DA\\C0\\1C\\CA!\\1C\\E8\\A1\\1E\\E4\\A1\\1C\\E6\\01X\\83y\\98\\87y(\\879`\\835\\18\\07|\\88\\03;`\\835\\98\\87y(\\076X\\83y\\98\\87r\\90\\036X\\83y\\98\\87r\\98\\03\\80\\A8\\07w\\98\\87p0\\87rh\\03s\\80\\876h\\87p\\A0\\07t\\00\\CC!\\1C\\D8a\\1E\\CA\\01 \\EAa\\1E\\CA\\A1\\0D\\E6\\E1\\1D\\CC\\81\\1E\\DA\\C0\\1C\\D8\\E1\\1D\\C2\\81\\1E\\00s\\08\\07v\\98\\87r\\006\\C8\\88\\F0\\FF\\FF\\FF\\FF\\03\\C1\\0E\\E50\\0F\\F3\\D0\\06\\F0 \\0F\\E50\\0E\\E90\\0F\\E5\\D0\\06\\E6\\00\\0F\\ED\\10\\0E\\E4\\00\\98C8\\B0\\C3&lt;\\94\\03@\\B8\\C3;\\B4\\819\\C8C8\\B4C9\\B4\\01&lt;\\BCC:\\B8\\03=\\94\\83&lt;\\B4A9\\B0C:\\B4\\03@\\0F\\F2P\\0F\\E5\\00\\0C\\EE\\F0\\0Em`\\0E\\F2\\10\\0E\\EDP\\0Em\\00\\0F\\EF\\90\\0E\\EE@\\0F\\E5 \\0FmP\\0E\\EC\\90\\0E\\ED\\D0\\06\\EE\\F0\\0E\\EE\\D0\\06\\ECP\\0E\\E1`\\0E\\00\\E1\\0E\\EF\\D0\\06\\E9\\E0\\0E\\E60\\0Fm`\\0E\\F0\\D0\\06\\ED\\10\\0E\\F4\\80\\0E\\809\\84\\03;\\CCC9\\00\\84;\\BCC\\1B\\B8C8\\B8\\C3&lt;\\B4\\819\\C0C\\1B\\B4C8\\D0\\03:\\00\\E6\\10\\0E\\EC0\\0F\\E5\\00\\10\\F3@\\0F\\E10\\0E\\EB\\D0\\06\\F0 \\0F\\EF@\\0F\\E50\\0E\\F4\\F0\\0E\\F2\\D0\\06\\E2P\\0F\\E6`\\0E\\E5 \\0Fm0\\0F\\E9\\A0\\0F\\E5\\00\\E0\\01@\\D0C8\\C8\\C39\\94\\03=\\B4\\C18\\C0C=\\00\\E3\\F0\\0E\\F2P\\0Er\\00\\10\\F4\\10\\0E\\F2p\\0E\\E5@\\0Fm`\\0E\\E5\\10\\0E\\F4P\\0F\\F2P\\0E\\F3\\00\\AC\\C1&lt;\\CC\\C3&lt;\\94\\C3\\1C\\B0\\C1\\1A\\8C\\03&gt;\\C4\\81\\1D\\B0\\C1\\1A\\CC\\C3&lt;\\94\\03\\1B\\AC\\C1&lt;\\CCC9\\C8\\01\\1B\\AC\\C1&lt;\\CCC9\\CC\\01@\\D4\\83;\\CCC8\\98C9\\B4\\819\\C0C\\1B\\B4C8\\D0\\03:\\00\\E6\\10\\0E\\EC0\\0F\\E5\\00\\10\\F50\\0F\\E5\\D0\\06\\F3\\F0\\0E\\E6@\\0Fm`\\0E\\EC\\F0\\0E\\E1@\\0F\\809\\84\\03;\\CCC9\\00\\00I\\18\\00\\00\\02\\00\\00\\00\\13\\82`B \\00\\00\\00\\89 \\00\\00\\0D\\00\\00\\002\\22\\08\\09 d\\85\\04\\13\\22\\A4\\84\\04\\13\\22\\E3\\84\\A1\\90\\14\\12L\\88\\8C\\0B\\84\\84L\\100s\\04H*\\00\\C5\\1C\\01\\18\\94`\\88\\08\\AA0F7\\10@3\\02\\00\\134|\\C0\\03;\\F8\\05;\\A0\\836\\08\\07x\\80\\07v(\\876h\\87p\\18\\87w\\98\\07|\\88\\038p\\838\\80\\037\\80\\83\\0DeP\\0Em\\D0\\0Ez\\F0\\0Em\\90\\0Ev@\\07z`\\07t\\D0\\06\\E6\\80\\07p\\A0\\07q \\07x\\D0\\06\\EE\\80\\07z\\10\\07v\\A0\\07s \\07z`\\07t\\D0\\06\\B3\\10\\07r\\80\\07:\\0FDH #EB\\80\\1D\\8C\\10\\18I\\00\\00@\\00\\00\\C0\\10\\A7\\00\\00 \\00\\00\\00\\00\\00\\00\\00\\868\\08\\10\\00\\02\\00\\00\\00\\00\\00\\00\\90\\05\\02\\00\\00\\08\\00\\00\\002\\1E\\98\\0C\\19\\11L\\90\\8C\\09&amp;G\\C6\\04C\\9A\\22(\\01\\0AM\\D0i\\10\\1D]\\96\\97C\\00\\00\\00y\\18\\00\\00\\1C\\00\\00\\00\\1A\\03L\\90F\\02\\134A\\18\\08&amp;PIC Level\\13\\84a\\D80\\04\\C2\\C05\\08\\82\\83c+\\03ab\\B2j\\02\\B1+\\93\\9BK{s\\03\\B9q\\81q\\81\\01A\\19c\\0Bs;k\\B9\\81\\81q\\81q\\A9\\99q\\99I\\D9\\10\\14\\8D\\D8\\D8\\EC\\DA\\5C\\DA\\DE\\C8\\EA\\D8\\CA\\5C\\CC\\D8\\C2\\CE\\E6\\A6\\04C\\1566\\BB6\\974\\B227\\BA)A\\01\\00y\\18\\00\\002\\00\\00\\003\\08\\80\\1C\\C4\\E1\\1Cf\\14\\01=\\88C8\\84\\C3\\8CB\\80\\07yx\\07s\\98q\\0C\\E6\\00\\0F\\ED\\10\\0E\\F4\\80\\0E3\\0CB\\1E\\C2\\C1\\1D\\CE\\A1\\1Cf0\\05=\\88C8\\84\\83\\1B\\CC\\03=\\C8C=\\8C\\03=\\CCx\\8Ctp\\07{\\08\\07yH\\87pp\\07zp\\03vx\\87p \\87\\19\\CC\\11\\0E\\EC\\90\\0E\\E10\\0Fn0\\0F\\E3\\F0\\0E\\F0P\\0E3\\10\\C4\\1D\\DE!\\1C\\D8!\\1D\\C2a\\1Ef0\\89;\\BC\\83;\\D0C9\\B4\\03&lt;\\BC\\83&lt;\\84\\03;\\CC\\F0\\14v`\\07{h\\077h\\87rh\\077\\80\\87p\\90\\87p`\\07v(\\07v\\F8\\05vx\\87w\\80\\87_\\08\\87q\\18\\87r\\98\\87y\\98\\81,\\EE\\F0\\0E\\EE\\E0\\0E\\F5\\C0\\0E\\EC\\00q \\00\\00\\05\\00\\00\\00&amp;`&lt;\\11\\D2L\\85\\05\\10\\0C\\804\\06@\\F8\\D2\\14\\01\\00\\00a \\00\\00\\0B\\00\\00\\00\\13\\04A,\\10\\00\\00\\00\\03\\00\\00\\004#\\00dC\\19\\020\\18\\83\\01\\003\\11\\CA@\\0C\\83\\11\\C1\\00\\00#\\06\\04\\00\\1CB\\12\\00\\00\\00\\00\\00\\00\\00\\00\\00\\00\\00\\00\\00\\00\\00\", section \"__LLVM,__bitcode\"\n@llvm.cmdline = appending constant [67 x i8] c\"-triple\\00x86_64-apple-macosx10.10.0\\00-emit-llvm\\00-disable-llvm-optzns\\00\", section \"__LLVM,__cmdline\"\n\n; Function Attrs: nounwind ssp uwtable\ndefine i32 @main() #0 {\n  %1 = alloca i32, align 4\n  store i32 0, i32* %1\n  %2 = call i32 (i8*, ...)* @printf(i8* getelementptr inbounds ([10 x i8]* @.str, i32 0, i32 0))\n  ret i32 0\n}\n\ndeclare i32 @printf(i8*, ...) #1\n\nattributes #0 = { nounwind ssp uwtable \"less-precise-fpmad\"=\"false\" \"no-frame-pointer-elim\"=\"true\" \"no-frame-pointer-elim-non-leaf\" \"no-infs-fp-math\"=\"false\" \"no-nans-fp-math\"=\"false\" \"stack-protector-buffer-size\"=\"8\" \"target-cpu\"=\"core2\" \"target-features\"=\"+ssse3,+cx16,+sse,+sse2,+sse3\" \"unsafe-fp-math\"=\"false\" \"use-soft-float\"=\"false\" }\nattributes #1 = { \"less-precise-fpmad\"=\"false\" \"no-frame-pointer-elim\"=\"true\" \"no-frame-pointer-elim-non-leaf\" \"no-infs-fp-math\"=\"false\" \"no-nans-fp-math\"=\"false\" \"stack-protector-buffer-size\"=\"8\" \"target-cpu\"=\"core2\" \"target-features\"=\"+ssse3,+cx16,+sse,+sse2,+sse3\" \"unsafe-fp-math\"=\"false\" \"use-soft-float\"=\"false\" }\n\n!llvm.module.flags = !{!0}\n!llvm.ident = !{!1}\n\n!0 = !{i32 1, !\"PIC Level\", i32 2}\n!1 = !{!\"Apple LLVM version 7.0.0 (clang-700.0.53.3)\"}\n</code></pre>\n\n<p>The data array that is in the IR also changes depending on the optimization and other code generation settings of clang. It's completely unknown to me what format or anything that this is in.</p>\n\n<p>EDIT:</p>\n\n<p>Following the hint on Twitter, I decided to revisit this and to confirm it. I followed <a href=\"http://lowlevelbits.org/bitcode-demystified/\">this blog post</a> and used his bitcode extractor tool to get the Apple Archive binary out of the MachO executable. And after extracting the Apple Archive with the xar utility, I got this (converted to text with llvm-dis of course)</p>\n\n<pre><code>; ModuleID = '1'\ntarget datalayout = \"e-m:o-i64:64-f80:128-n8:16:32:64-S128\"\ntarget triple = \"x86_64-apple-macosx10.10.0\"\n\n@.str = private unnamed_addr constant [10 x i8] c\"hi there!\\00\", align 1\n\n; Function Attrs: nounwind ssp uwtable\ndefine i32 @main() #0 {\n  %1 = alloca i32, align 4\n  store i32 0, i32* %1\n  %2 = call i32 (i8*, ...) @printf(i8* getelementptr inbounds ([10 x i8], [10 x i8]* @.str, i32 0, i32 0))\n  ret i32 0\n}\n\ndeclare i32 @printf(i8*, ...) #1\n\nattributes #0 = { nounwind ssp uwtable \"less-precise-fpmad\"=\"false\" \"no-frame-pointer-elim\"=\"true\" \"no-frame-pointer-elim-non-leaf\" \"no-infs-fp-math\"=\"false\" \"no-nans-fp-math\"=\"false\" \"stack-protector-buffer-size\"=\"8\" \"target-cpu\"=\"core2\" \"target-features\"=\"+ssse3,+cx16,+sse,+sse2,+sse3\" \"unsafe-fp-math\"=\"false\" \"use-soft-float\"=\"false\" }\nattributes #1 = { \"less-precise-fpmad\"=\"false\" \"no-frame-pointer-elim\"=\"true\" \"no-frame-pointer-elim-non-leaf\" \"no-infs-fp-math\"=\"false\" \"no-nans-fp-math\"=\"false\" \"stack-protector-buffer-size\"=\"8\" \"target-cpu\"=\"core2\" \"target-features\"=\"+ssse3,+cx16,+sse,+sse2,+sse3\" \"unsafe-fp-math\"=\"false\" \"use-soft-float\"=\"false\" }\n\n!llvm.module.flags = !{!0}\n!llvm.ident = !{!1}\n\n!0 = !{i32 1, !\"PIC Level\", i32 2}\n!1 = !{!\"Apple LLVM version 7.0.0 (clang-700.1.76)\"}\n</code></pre>\n\n<p>The only notable difference really between the non-bitcode IR and the bitcode IR is that filenames have been stripped to just 1, 2, etc for each architecture. </p>\n\n<p>I also confirmed that the bitcode embedded in a binary is generated after optimizations. If you compile with -O3 and extract out the bitcode, it'll be different than if you compile with -O0. </p>\n\n<p>And just to get extra credit, I also confirmed that Apple does not ship bitcode to devices when you download an iOS 9 app. They include a number of other strange sections that I don't recognized like __LINKEDIT, but they do not include __LLVM.__bundle, and thus do not appear to include bitcode in the final binary that runs on a device. Oddly enough, Apple still ships fat binaries with separate 32/64bit code to iOS 8 devices though. </p>\n", "title": "What does ENABLE_BITCODE do in xcode 7?", "answer_id": 31030741, "question_id": 30722606, "tags": ["ios", "iphone", "xcode7", "bitcode"]}, {"body": "<p><strong>Update</strong></p>\n\n<p><a href=\"https://developer.apple.com/library/tvos/documentation/IDEs/Conceptual/AppDistributionGuide/AppThinning/AppThinning.html\" rel=\"nofollow\">Apple has clarified</a> that slicing occurs independent of enabling bitcode. I've observed this in practice as well where a non-bitcode enabled app will only be downloaded as the architecture appropriate for the target device.</p>\n\n<p><strong>Original</strong></p>\n\n<p><a href=\"https://developer.apple.com/library/prerelease/ios/releasenotes/General/WhatsNewIniOS/Articles/iOS9.html#//apple_ref/doc/uid/TP40016198-DontLinkElementID_10\" rel=\"nofollow\">More specifically</a>:</p>\n\n<blockquote>\n  <p>Bitcode. Archive your app for submission to the App Store in an\n  intermediate representation, which is compiled into 64- or 32-bit\n  executables for the target devices when delivered.</p>\n  \n  <p>Slicing. Artwork incorporated into the Asset Catalog and tagged for a\n  platform allows the App Store to deliver only what is needed for\n  installation.</p>\n</blockquote>\n\n<p>The way I read this, if you support bitcode, downloaders of your app will only get the compiled architecture needed for their own device.</p>\n", "title": "What does ENABLE_BITCODE do in xcode 7?", "answer_id": 31798041, "question_id": 30722606, "tags": ["ios", "iphone", "xcode7", "bitcode"]}, {"body": "<p>As far as Bit code and enabling bit code is concerned, the first thing which is required to understand is the story from where all this started.</p>\n\n<p>So, basically if I talk of <strong>ENABLE_BITCODE</strong> which is introduced in iOS 9, is a part of App Thinning process.</p>\n\n<p>And it is a part of problem which answers \"<strong>How did Apple manage to reduce the storage size of  iOS 9 to 1GB from 5 GB in iOS 8?</strong>\"</p>\n\n<p>This is due to a new technology called 'App Thinning'</p>\n\n<p>&amp; what exactly is App Thinning ?</p>\n\n<p>App Thinning brings down the iOS 9 OTA update from 4.6GB to 1.3GB, a 71% size reduction. Not only will this help with future OTA updates, but the technology will be available for developers to reduce the storage required by third party apps.</p>\n\n<p>App thinning has basically three components namely- slicing, bitcode, and on-demand resources.</p>\n\n<p><strong>App Slicing</strong>: iOS apps are developed to run on a variety of devices, so they come with code to support all them, whether or not your particular device requires it. App Slicing will allow your device to download only those files required by our device. Example: you don't need the 3x iPhone 6 Plus assets if you're running a 4-inch model.</p>\n\n<p><strong>On-Demand Resources (ODRs)</strong>: It works on the idea that an app probably doesn't need its entire library of resources at any given time, so parts of it can be downloaded or deleted as needed. Developers will be able to specify what code is needed at what times by tagging sections of code as ODRs. These portions will be automatically downloaded from the App Store when they are required and deleted when they won't be needed again.</p>\n\n<p><strong>Bitcode</strong>: It refers to an \"intermediate representation\" of an app that developers will upload to the App Store rather than a pre-compiled binary. This works hand-in-hand with App Slicing, allowing the bitcode to be compiled on demand as 32-bit or 64-bit, depending on the downloading device. This will also allow any compiler improvements made by Apple to be implemented automatically, rather than having developers resubmit their apps.</p>\n\n<p><a href=\"http://i.stack.imgur.com/vjDJW.png\"><img src=\"http://i.stack.imgur.com/vjDJW.png\" alt=\"enter image description here\"></a></p>\n", "title": "What does ENABLE_BITCODE do in xcode 7?", "answer_id": 32588238, "question_id": 30722606, "tags": ["ios", "iphone", "xcode7", "bitcode"]}], "question_id": 30722606}, {"body": "<p>After reading <a href=\"http://stackoverflow.com/a/4176333/2411320\">this answer</a> about undefined behavior and sequence points, I wrote a small program:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint main(void) {\n  int i = 5;\n  i = (i, ++i, 1) + 1;\n  printf(\"%d\\n\", i);\n  return 0;\n}\n</code></pre>\n\n<p>The output is <code>2</code>. Oh God, I didn't see the decrement coming! What is happening here?</p>\n\n<p>Also, while compiling the above code, I got a warning saying:</p>\n\n<blockquote>\n  <p>px.c:5:8: warning: left-hand operand of comma expression has no effect<br></p>\n\n<pre><code>  [-Wunused-value]   i = (i, ++i, 1) + 1;\n                        ^\n</code></pre>\n</blockquote>\n\n<p>Why? But probably it will be automatically answered by the answer of my first question.</p>\n", "title": "What does i = (i, ++i, 1) + 1; do?", "tags": ["c", "operators", "expression", "compiler-warnings", "comma-operator"], "answer_count": 7, "link": "http://stackoverflow.com/questions/30614396/what-does-i-i-i-1-1-do", "answers": [{"body": "<p>The outcome of </p>\n\n<pre><code>(i, ++i, 1)\n</code></pre>\n\n<p>is</p>\n\n<pre><code>1\n</code></pre>\n\n<p>For</p>\n\n<pre><code>(i,++i,1) \n</code></pre>\n\n<p>the evaluation happens such that the <code>,</code> operator discards the evaluated value and will retain just the right most value which is <code>1</code></p>\n\n<p>So </p>\n\n<pre><code>i = 1 + 1 = 2\n</code></pre>\n", "title": "What does i = (i, ++i, 1) + 1; do?", "answer_id": 30614429, "question_id": 30614396, "tags": ["c", "operators", "expression", "compiler-warnings", "comma-operator"]}, {"body": "<p>In the expression <code>(i, ++i, 1)</code>, the comma used is the <a href=\"http://en.wikipedia.org/wiki/Comma_operator\">comma operator</a>  </p>\n\n<blockquote>\n  <p>the comma operator (represented by the token <code>,</code>) is a binary operator that evaluates its first operand and discards the result, and then evaluates the second operand and returns this value (and type).  </p>\n</blockquote>\n\n<p>Because it discards its first operand, it is generally <strong>only useful where the first operand has desirable side effects</strong>. If the side effect to the first operand does not takes place, then the compiler may generate warning about the expression with no effect.       </p>\n\n<p>So, in the above expression, the leftmost <code>i</code> will be evaluated and its value will be discarded. Then <code>++i</code> will be evaluated and will increment <code>i</code> by 1 and again the value of the expression <code>++i</code> will be discarded, <em>but the side effect to <code>i</code> is permanent</em>. Then <code>1</code> will be evaluated and the value of the expression will be <code>1</code>.   </p>\n\n<p>It is equivalent to  </p>\n\n<pre><code>i;          // Evaluate i and discard its value. This has no effect.\n++i;        // Evaluate i and increment it by 1 and discard the value of expression ++i\ni = 1 + 1;  \n</code></pre>\n\n<p>Note that <strong>the above expression is perfectly valid and does not invoke undefined behavior</strong> because there is a <a href=\"http://en.wikipedia.org/wiki/Sequence_point\">sequence point</a> between the evaluation of the left and right operands of the comma operator.</p>\n", "title": "What does i = (i, ++i, 1) + 1; do?", "answer_id": 30614442, "question_id": 30614396, "tags": ["c", "operators", "expression", "compiler-warnings", "comma-operator"]}, {"body": "<p>You'll find some good reading on the wiki page for the <a href=\"http://en.wikipedia.org/wiki/Comma_operator\">Comma operator</a>.</p>\n\n<p>Basically, it</p>\n\n<blockquote>\n  <p>... evaluates its first operand and discards the result, and then evaluates the second operand and returns this value (and type).</p>\n</blockquote>\n\n<p>This means that </p>\n\n<pre><code>(i, i++, 1)\n</code></pre>\n\n<p>will, in turn, evaluate <code>i</code>, discard the result, evaluate <code>i++</code>, discard the result, and then evaluate and return <code>1</code>.</p>\n", "title": "What does i = (i, ++i, 1) + 1; do?", "answer_id": 30614470, "question_id": 30614396, "tags": ["c", "operators", "expression", "compiler-warnings", "comma-operator"]}, {"body": "<p>Quoting from <code>C11</code>, chapter <code>6.5.17</code>, <a href=\"https://en.wikipedia.org/wiki/Comma_operator\"><em>Comma operator</em></a></p>\n\n<blockquote>\n  <p>The left operand of a comma operator is evaluated as a void expression; there is a\n  sequence point between its evaluation and that of the right operand. Then the right\n  operand is evaluated; the result has its type and value.</p>\n</blockquote>\n\n<p>So, in your case, </p>\n\n<pre><code>(i, ++i, 1)\n</code></pre>\n\n<p>is evaluated as</p>\n\n<ol>\n<li><code>i</code>, gets evaluated as a void expression, value discarded</li>\n<li><code>++i</code>, gets evaluated as a void expression, value discarded</li>\n<li>finally, <code>1</code>, value returned.</li>\n</ol>\n\n<p>So, the final statement looks like</p>\n\n<pre><code>i = 1 + 1;\n</code></pre>\n\n<p>and <code>i</code> gets to <code>2</code>. I guess this answers both of your questions,</p>\n\n<ul>\n<li>How <code>i</code> gets a value 2?</li>\n<li>Why there is a warning message?</li>\n</ul>\n\n<p>Note: FWIW, as there is a <strong>sequence point</strong> present after the evaluation of the left hand operand, an expression like <code>(i, ++i, 1)</code> won't invoke UB, as one <em>may</em> generally think by mistake.</p>\n", "title": "What does i = (i, ++i, 1) + 1; do?", "answer_id": 30614485, "question_id": 30614396, "tags": ["c", "operators", "expression", "compiler-warnings", "comma-operator"]}, {"body": "<pre><code>i = (i, ++i, 1) + 1;\n</code></pre>\n\n<p>Let's analyse it step by step.</p>\n\n<pre><code>(i,   // is evaluated but ignored, there are other expressions after comma\n++i,  // i is updated but the resulting value is ignored too\n1)    // this value is finally used\n+ 1   // 1 is added to the previous value 1\n</code></pre>\n\n<p>So we obtain 2. And the final assignment now:</p>\n\n<pre><code>i = 2;\n</code></pre>\n\n<p>Whatever was in <em>i</em> before it's overwritten now.</p>\n", "title": "What does i = (i, ++i, 1) + 1; do?", "answer_id": 30614511, "question_id": 30614396, "tags": ["c", "operators", "expression", "compiler-warnings", "comma-operator"]}, {"body": "<p>You need to know what the comma operator is doing here:</p>\n\n<p>Your expression:</p>\n\n<pre><code>(i, ++i, 1)\n</code></pre>\n\n<p>The first expression, <code>i</code>, is evaluated, the second expression, <code>++i</code>, is evaluated, and the third expression, <code>1</code>, is returned for the whole expression.</p>\n\n<p>So the result is: <code>i = 1 + 1</code>.</p>\n\n<p>For your bonus question, as you see, the first expression <code>i</code> has no effect at all, so the compiler complains.</p>\n", "title": "What does i = (i, ++i, 1) + 1; do?", "answer_id": 30614512, "question_id": 30614396, "tags": ["c", "operators", "expression", "compiler-warnings", "comma-operator"]}, {"body": "<p>Comma has an 'inverse' precedence. This is what you will get from old books and C manuals from IBM (70s/80s). So the last 'command' is what is used in parent expression.</p>\n\n<p>In modern C its use is strange but is very interesting in old C (ANSI):</p>\n\n<pre><code>do { \n    /* bla bla bla, consider conditional flow with several continue */\n} while ( prepAnything(), doSomething(), last operation);\n</code></pre>\n\n<p>While all operations (functions) are called from left to right, only the last expression will be used as a result to conditional 'while'.\nThis avoid handling of 'goto's to keep a unique block of commands to run before condition check.</p>\n\n<p>EDIT: This avoid also a call to a handling function which could take care of all logic at left operands and so return the logical result. Remember that, we had not inline function in the past of C. So, this could avoid a call overhead.</p>\n", "title": "What does i = (i, ++i, 1) + 1; do?", "answer_id": 30772139, "question_id": 30614396, "tags": ["c", "operators", "expression", "compiler-warnings", "comma-operator"]}], "question_id": 30614396}, {"body": "<p>In a custom library I saw an implementation:</p>\n\n<pre><code>inline int is_upper_alpha(char chValue)\n{\n    if (((chValue &gt;= 'A') &amp;&amp; (chValue &lt;= 'I')) ||\n        ((chValue &gt;= 'J') &amp;&amp; (chValue &lt;= 'R')) ||\n        ((chValue &gt;= 'S') &amp;&amp; (chValue &lt;= 'Z')))\n        return 1;\n    return 0;\n}\n</code></pre>\n\n<p>Is that an <a href=\"https://en.wikipedia.org/wiki/Easter_egg_%28media%29\">Easter egg</a> or what are the advantages vs standard C/C++ method?</p>\n\n<pre><code>inline int is_upper_alpha(char chValue)\n{\n    return ((chValue &gt;= 'A') &amp;&amp; (chValue &lt;= 'Z'));\n}\n</code></pre>\n", "title": "Why is the alphabet split into multiple ranges in this C code?", "tags": ["c++", "c", "character", "toupper"], "answer_count": 2, "link": "http://stackoverflow.com/questions/30049962/why-is-the-alphabet-split-into-multiple-ranges-in-this-c-code", "answers": [{"body": "<p>The author of this code presumably had to support <a href=\"https://en.wikipedia.org/wiki/EBCDIC\">EBCDIC</a> at some point, where the numeric values of the letters are non-contiguous (gaps exist between <code>I</code>, <code>J</code> and <code>R</code>, <code>S</code>, as you may have guessed).</p>\n\n<p>It is worth noting that the C and C++ standards only guarantee that the characters <code>0</code> to <code>9</code> have contiguous numeric values for precisely this reason, so neither of these methods is strictly standard-conforming.</p>\n", "title": "Why is the alphabet split into multiple ranges in this C code?", "answer_id": 30050055, "question_id": 30049962, "tags": ["c++", "c", "character", "toupper"]}, {"body": "<p>Looks like it attempts to cover both EBCDIC and ASCII. Your alternative method doesn't work for EBCDIC (it has false positives, but no false negatives)</p>\n\n<p>C and C++ <em>do</em> require that <code>'0'-'9'</code> are contiguous.</p>\n\n<p>Note that the standard library calls <em>do</em> know whether they run on ASCII, EBCDIC or other systems, so they're more portable and possibly more efficient.</p>\n", "title": "Why is the alphabet split into multiple ranges in this C code?", "answer_id": 30050059, "question_id": 30049962, "tags": ["c++", "c", "character", "toupper"]}], "question_id": 30049962}, {"body": "<p>I'm implementing the new Google Cloud Messaging following the guides from the Google Developers page <a href=\"https://developers.google.com/cloud-messaging/android/client\">here</a></p>\n\n<p>I've successfully run and test it. But my problem now is I have different productFlavors with different applicationId/packageName and different GCM Project Id. The <code>google-services.json</code> have to be put at the <code>/app/google-services.json</code> not the flavors folder.</p>\n\n<p>Is there any way to make the <code>google-services.json</code> config different for many flavors?</p>\n", "title": "google-services.json for different productFlavors", "tags": ["android", "google-cloud-messaging", "google-play-services"], "answer_count": 19, "link": "http://stackoverflow.com/questions/30772201/google-services-json-for-different-productflavors", "answers": [{"body": "<p>For Maven, we've implemented something similar using maven profiles and separate property files for every profile</p>\n", "title": "google-services.json for different productFlavors", "answer_id": 31021415, "question_id": 30772201, "tags": ["android", "google-cloud-messaging", "google-play-services"]}, {"body": "<p>I'm currently using two GCM Project Id in the same app package. I put the google-service.json of my first GCM project but I switch from the first to the second one only changing the SENDER_ID:</p>\n\n<pre><code>    String token = instanceID.getToken(SENDER_ID,GoogleCloudMessaging.INSTANCE_ID_SCOPE, null);\n</code></pre>\n\n<p>(At this point I think that the google-services.json isn't mandatory  )</p>\n", "title": "google-services.json for different productFlavors", "answer_id": 31031620, "question_id": 30772201, "tags": ["android", "google-cloud-messaging", "google-play-services"]}, {"body": "<p>For a different flavor assign a different package name in Gradle as described <a href=\"http://ruenzuo.github.io/continuous-delivery-on-android-part-ii/\" rel=\"nofollow\">here</a>.   </p>\n\n<p>Then from <a href=\"https://developers.google.com/mobile/add?platform=android&amp;cntapi=gcm&amp;cnturl=https:%2F%2Fdevelopers.google.com%2Fcloud-messaging%2Fandroid%2Fclient&amp;cntlbl=Continue%20Adding%20GCM%20Support&amp;%3Fconfigured%3Dtrue\" rel=\"nofollow\">this</a> link get a specific config file for the same app yet respective packages.  </p>\n\n<p>And in your Build hierarchy refer that particular config file for the respective package that you just got.  </p>\n\n<p>Let me know if this works.  </p>\n", "title": "google-services.json for different productFlavors", "answer_id": 31083784, "question_id": 30772201, "tags": ["android", "google-cloud-messaging", "google-play-services"]}, {"body": "<p>You have many flavor, so it mean you will have many difference package id, right? So, just go to the page where you setup/generate your json file and config for each package name. All of it will add to json file.</p>\n\n<p>I'm verry lazy to post picture now, but basically:</p>\n\n<ul>\n<li>go to <a href=\"https://developers.google.com/mobile/add\" rel=\"nofollow\">https://developers.google.com/mobile/add</a></li>\n<li>select platform</li>\n<li>select your app</li>\n<li><strong>IMPORTANT</strong>: type your flavor package name to field \"android package name\"</li>\n<li>... continue to get your configuration file. Download it!</li>\n</ul>\n\n<p>When config the file, you can see that google show you the Server API Key + Sender ID. And it is same for all package (flavors)</p>\n\n<p>At the end, you just need only one json file for all flavors.</p>\n\n<p>One more question here that you have to test when you register to get Registration Token, check if is difference for each flavor. I don't touch on it but it think it should be difference. Too late now and i so sleepy :) Hope it help!</p>\n", "title": "google-services.json for different productFlavors", "answer_id": 31411932, "question_id": 30772201, "tags": ["android", "google-cloud-messaging", "google-play-services"]}, {"body": "<p>Well I am running into the same problem and couldn't get any perfect solution. It's just a workaround.\nI am wondering how Google didn't think about flavors...? And i hope they will propose soon a better solution.</p>\n\n<p>What I am doing:</p>\n\n<p>I have two flavors, in each one I put the corresponding google-services.json : <code>src/flavor1/google-services.json</code> and <code>src/flavor2/google-services.json</code> .</p>\n\n<p>Then in build gradle I copy the file depending on the flavor to the <code>app/</code> directory:</p>\n\n<pre><code>android {\n\n// set build flavor here to get the right gcm configuration.\n//def myFlavor = \"flavor1\"\ndef myFlavor = \"flavor2\"\n\nif (myFlavor.equals(\"flavor1\")) {\n    println \"--&gt; flavor1 copy!\"\n    copy {\n        from 'src/flavor1/'\n        include '*.json'\n        into '.'\n    }\n} else {\n    println \"--&gt; flavor2 copy!\"\n    copy {\n        from 'src/flavor2/'\n        include '*.json'\n        into '.'\n    }\n}\n\n// other stuff\n}\n</code></pre>\n\n<p><strong>Limitation:</strong> you will have to change <code>myFlavor</code> <em>manually</em> in gradle each time you want to run for a different flavor (because it's hardcoded).</p>\n\n<p>I tried many ways to get the current build flavor like <code>afterEvaluate</code> close... couldn't get any better solution until now.</p>\n\n<p><strong>Update, Another solution: one google-services.json for all the flavors:</strong></p>\n\n<p>You can also, have different package names for each flavor and then in the <a href=\"https://console.developers.google.com/project\">google developer console</a> you don't have to create two different apps for each flavor, but just two different clients in the same app.\nThen you will have only one <code>google-services.json</code> that contains your both clients.\nOf course, this depends on how you're implementing the backend of your flavors. If they're not separated then this solution will not help you.</p>\n", "title": "google-services.json for different productFlavors", "answer_id": 31895542, "question_id": 30772201, "tags": ["android", "google-cloud-messaging", "google-play-services"]}, {"body": "<p>According to <a href=\"http://stackoverflow.com/users/3014036/ahmed-khan-89\">ahmed_khan_89</a>'s answer, you can put you \"copy code\" inside product flavors.</p>\n\n<pre><code>productFlavors {\n    staging {\n        applicationId = \"com.demo.staging\"\n\n        println \"Using Staging google-service.json\"\n        copy {\n            from 'src/staging/'\n            include '*.json'\n            into '.'\n        }\n    }\n    production {\n        applicationId = \"com.demo.production\"\n\n        println \"Using Production google-service.json\"\n        copy {\n            from 'src/production/'\n            include '*.json'\n            into '.'\n        }\n    }\n}\n</code></pre>\n\n<p>Then you don't have to switch settings manually.</p>\n", "title": "google-services.json for different productFlavors", "answer_id": 32004650, "question_id": 30772201, "tags": ["android", "google-cloud-messaging", "google-play-services"]}, {"body": "<p>Wrote a <a href=\"https://medium.com/@ZakTaccardi/automatic-per-variant-google-services-json-configurations-with-gradle-d3d3e40abc0e\">Medium post</a> on this issue.</p>\n\n<p>Had the a similar problem (using BuildTypes instead of Flavors), and fixed it like so. </p>\n\n<p>Take advantage of Gradle's dependency management system. I created two tasks, <code>switchToDebug</code> and <code>switchToRelease</code>. Require that any time <code>assembleRelease</code> is run, that <code>switchToRelease</code> is also run. Same for debug.</p>\n\n<pre><code>def appModuleRootFolder = '.'\ndef srcDir = 'src'\ndef googleServicesJson = 'google-services.json'\n\ntask switchToDebug(type: Copy) {\n    def buildType = 'debug'\n    description = 'Switches to DEBUG google-services.json'\n    from \"${srcDir}/${buildType}\"\n    include \"$googleServicesJson\"\n    into \"$appModuleRootFolder\"\n}\n\ntask switchToRelease(type: Copy) {\n    def buildType = 'release'\n    description = 'Switches to RELEASE google-services.json'\n    from \"${srcDir}/${buildType}/\"\n    include \"$googleServicesJson\"\n    into \"$appModuleRootFolder\"\n}\n\nafterEvaluate {\n    processDebugGoogleServices.dependsOn switchToDebug\n    processReleaseGoogleServices.dependsOn switchToRelease\n}\n</code></pre>\n\n<p><strong>EDIT:</strong> use <code>processDebugFlavorGoogleServices</code>/<code>processReleaseFlavorGoogleServices</code> task to modify it at a per-flavor level.</p>\n", "title": "google-services.json for different productFlavors", "answer_id": 32083671, "question_id": 30772201, "tags": ["android", "google-cloud-messaging", "google-play-services"]}, {"body": "<p>Based on @ZakTaccardi's answer, and assuming you don't want a single project for both flavors, add this to the end of your <code>build.gradle</code> file:</p>\n\n<pre><code>def appModuleRootFolder = '.'\ndef srcDir = 'src'\ndef googleServicesJson = 'google-services.json'\n\ntask switchToStaging(type: Copy) {\n    outputs.upToDateWhen { false }\n    def flavor = 'staging'\n    description = \"Switches to $flavor $googleServicesJson\"\n    delete \"$appModuleRootFolder/$googleServicesJson\"\n    from \"${srcDir}/$flavor/\"\n    include \"$googleServicesJson\"\n    into \"$appModuleRootFolder\"\n}\n\ntask switchToProduction(type: Copy) {\n    outputs.upToDateWhen { false }\n    def flavor = 'production'\n    description = \"Switches to $flavor $googleServicesJson\"\n    from \"${srcDir}/$flavor/\"\n    include \"$googleServicesJson\"\n    into \"$appModuleRootFolder\"\n}\n\nafterEvaluate {\n    processStagingDebugGoogleServices.dependsOn switchToStaging\n    processStagingReleaseGoogleServices.dependsOn switchToStaging\n    processProductionDebugGoogleServices.dependsOn switchToProduction\n    processProductionReleaseGoogleServices.dependsOn switchToProduction\n}\n</code></pre>\n\n<p>You need to have the files <code>src/staging/google-services.json</code> and <code>src/production/google-services.json</code>. Replace the flavor names for the ones you use.</p>\n", "title": "google-services.json for different productFlavors", "answer_id": 32440429, "question_id": 30772201, "tags": ["android", "google-cloud-messaging", "google-play-services"]}, {"body": "<p>I have found that the <strong>google-services</strong> plugin is quite useless for projects that want to add GCM. It only generates the following file which simply adds your project ID as a string resource:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n    &lt;!-- Your API key would be on the following line --&gt;\n    &lt;string name=\"gcm_defaultSenderId\"&gt;111111111111&lt;/string&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>It appears that you only need it if you copied the sample code verbatim directly from the <a href=\"https://developers.google.com/cloud-messaging/android/start\" rel=\"nofollow\">Cloud Messaging for Android</a> guide. Here is the example line:</p>\n\n<pre><code>String token = instanceID.getToken(getString(R.string.gcm_defaultSenderId),              GoogleCloudMessaging.INSTANCE_ID_SCOPE, null);\n</code></pre>\n\n<h2>Solution</h2>\n\n<p>If you want to be able to switch API projects for different build types or product flavors you can just define your own constants and choose the appropriate one when calling the <code>getToken()</code> API.</p>\n\n<pre><code>private static final String SENDER_ID = \"111111111111\";\nprivate static final String SANDBOX_SENDER_ID = \"222222222222\";\n\nString token = instanceID.getToken(\n        BuildConfig.DEBUG ? SENDER_ID : SANDBOX_SENDER_ID,\n        GoogleCloudMessaging.INSTANCE_ID_SCOPE,\n        null);\n</code></pre>\n\n<p><strong>For Product Flavors</strong></p>\n\n<p>The above code works for switching between debug and release builds. For product flavors you would define different API keys in a java source file and place the files in their corresponding product flavor directory. For reference: <a href=\"https://developer.android.com/tools/building/configuring-gradle.html#workBuildVariants\" rel=\"nofollow\">Gradle Build Variants</a></p>\n", "title": "google-services.json for different productFlavors", "answer_id": 32768905, "question_id": 30772201, "tags": ["android", "google-cloud-messaging", "google-play-services"]}, {"body": "<p>The point of the google-services plugin is to simplify integration of Google features.</p>\n\n<p>Since it only generates android-resources from the google-services.json file, over-complicated gradle-logic negates this point, I think.</p>\n\n<p>So if the Google-docs don\u2019t say which resources are needed for specific Google-features, I would suggest to generate the JSON-file for each relevant buildtype/flavor, see what resources get generated by the plugin and then put those resources manually into their respective src/buildtypeORflavor/res directories.</p>\n\n<p>Delete the references to google-services plugin and the JSON-file after that, and you are done.</p>\n\n<p>For detailed information about the inner workings of google-services gradle-plugin see my other answer:</p>\n\n<p><a href=\"http://stackoverflow.com/a/33083898/433421\">http://stackoverflow.com/a/33083898/433421</a></p>\n", "title": "google-services.json for different productFlavors", "answer_id": 33084246, "question_id": 30772201, "tags": ["android", "google-cloud-messaging", "google-play-services"]}, {"body": "<p>Inspired by @ahmed_khan_89 answer above. We can directly keep like this in gradle file.</p>\n\n<pre><code>android{\n\n// set build flavor here to get the right Google-services configuration(Google Analytics).\n    def currentFlavor = \"free\" //This should match with Build Variant selection. free/paidFull/paidBasic\n\n    println \"--&gt; $currentFlavor copy!\"\n    copy {\n        from \"src/$currentFlavor/\"\n        include 'google-services.json'\n        into '.'\n    }\n//other stuff\n}\n</code></pre>\n", "title": "google-services.json for different productFlavors", "answer_id": 33263033, "question_id": 30772201, "tags": ["android", "google-cloud-messaging", "google-play-services"]}, {"body": "<p>No need for any additional gradle scripting.</p>\n\n<p>Google started adding different package name in the name of 'android_client_info'. It looks like below in google-services.json</p>\n\n<pre><code>\"android_client_info\": {\n      \"package_name\": \"com.android.app.companion.dev\"\n    }\n</code></pre>\n\n<p>so, following steps are enough to have different google-services.json selection.</p>\n\n<ol>\n<li>Have 2 flavours</li>\n<li>Add a new dev flavour's package to google analystics configuration page and download google-services.json.</li>\n<li>Notice in the new configuration file, both of your flavour's package ids are there</li>\n<li>Prepare any of your flavour build.</li>\n</ol>\n\n<p>That is it!..</p>\n", "title": "google-services.json for different productFlavors", "answer_id": 33365617, "question_id": 30772201, "tags": ["android", "google-cloud-messaging", "google-play-services"]}, {"body": "<p>google-services.json file is unnecessary to receive notifications. Just add a variable for each flavour in your build.gradle file:</p>\n\n<pre><code>buildConfigField \"String\", \"GCM_SENDER_ID\", \"\\\"111111111111\\\"\"\n</code></pre>\n\n<p>Use this variable BuildConfig.GCM_SENDER_ID instead of getString(R.string.gcm_defaultSenderId) while registering:</p>\n\n<pre><code>instanceID.getToken(BuildConfig.GCM_SENDER_ID, GoogleCloudMessaging.INSTANCE_ID_SCOPE, null);\n</code></pre>\n", "title": "google-services.json for different productFlavors", "answer_id": 33632427, "question_id": 30772201, "tags": ["android", "google-cloud-messaging", "google-play-services"]}, {"body": "<p>Google just included support for flavors on version 2.0 of the play services plugin. Since this version of the <code>gradle plugin com.google.gms:google-services:2.0.0-alpha3</code></p>\n\n<p>you can do this</p>\n\n<pre><code>app/src/\n    flavor1/google-services.json\n    flavor2/google-services.json\n</code></pre>\n\n<p>Version 3.0.0 of the plugin will search for the json file in these locations (considering you have a <code>flavor</code> flavor1 and a build type <code>debug</code>):</p>\n\n<pre><code>/app/src/flavor1/google-services.json\n/app/src/flavor1/debug/google-services.json\n/app/src/debug/google-services.json\n/app/src/debug/flavor1/google-services.json\n/app/google-services.json\n</code></pre>\n\n<p>This worked for me even using flavorDimensions. I have free &amp; paid in one dimension and Mock &amp; Prod in the other dimension. I also have 3 buildTypes: debug, release and staging. This is how it looks in my project for the FreeProd flavor:</p>\n\n<p><a href=\"http://i.stack.imgur.com/yekEo.png\"><img src=\"http://i.stack.imgur.com/yekEo.png\" alt=\"enter image description here\"></a></p>\n\n<p>How many google-services.json files will depend on your project's characteristics, but you will need at least one json file for every Google  project.</p>\n\n<p>If you want more details about what this plugin does with these json files, here it is:\n<a href=\"https://github.com/googlesamples/google-services/issues/54#issuecomment-165824720\">https://github.com/googlesamples/google-services/issues/54#issuecomment-165824720</a></p>\n\n<p>Link to the official docs:\n<a href=\"https://developers.google.com/android/guides/google-services-plugin\">https://developers.google.com/android/guides/google-services-plugin</a></p>\n\n<p>And go here to check the latest version of this plugin: <a href=\"https://bintray.com/android/android-tools/com.google.gms.google-services/view\">https://bintray.com/android/android-tools/com.google.gms.google-services/view</a></p>\n", "title": "google-services.json for different productFlavors", "answer_id": 34364376, "question_id": 30772201, "tags": ["android", "google-cloud-messaging", "google-play-services"]}, {"body": "<p>I'm using the google-services.json file, created from here: <a href=\"https://developers.google.com/mobile/add?platform=android&amp;cntapi=gcm&amp;cnturl=https:%2F%2Fdevelopers.google.com%2Fcloud-messaging%2Fandroid%2Fclient&amp;cntlbl=Continue%20Adding%20GCM%20Support&amp;%3Fconfigured%3Dtrue\" rel=\"nofollow\">https://developers.google.com/mobile/add?platform=android&amp;cntapi=gcm&amp;cnturl=https:%2F%2Fdevelopers.google.com%2Fcloud-messaging%2Fandroid%2Fclient&amp;cntlbl=Continue%20Adding%20GCM%20Support&amp;%3Fconfigured%3Dtrue</a></p>\n\n<p>In the JSON-structure there is a JSON-array called clients. If you have multiple flavors, just add the different properties here.</p>\n\n<pre><code>{\n  \"project_info\": {\n    \"project_id\": \"PRODJECT-ID\",\n    \"project_number\": \"PROJECT-NUMBER\",\n    \"name\": \"APPLICATION-NAME\"\n  },\n  \"client\": [\n    {\n      \"client_info\": {\n        \"mobilesdk_app_id\": \"1:PROJECT-NUMBER:android:HASH-FOR-FLAVOR1\",\n        \"client_id\": \"android:PACKAGE-NAME-1\",\n        \"client_type\": 1,\n        \"android_client_info\": {\n          \"package_name\": \"PACKAGE-NAME-1\"\n        }\n      },\n      \"oauth_client\": [],\n      \"api_key\": [],\n      \"services\": {\n        \"analytics_service\": {\n          \"status\": 1\n        },\n        \"cloud_messaging_service\": {\n          \"status\": 2,\n          \"apns_config\": []\n        },\n        \"appinvite_service\": {\n          \"status\": 1,\n          \"other_platform_oauth_client\": []\n        },\n        \"google_signin_service\": {\n          \"status\": 1\n        },\n        \"ads_service\": {\n          \"status\": 1\n        }\n      }\n    },\n    {\n      \"client_info\": {\n        \"mobilesdk_app_id\": \"1:PROJECT-NUMBER:android:HASH-FOR-FLAVOR2\",\n        \"client_id\": \"android:PACKAGE-NAME-2\",\n        \"client_type\": 1,\n        \"android_client_info\": {\n          \"package_name\": \"PACKAGE-NAME-2\"\n        }\n      },\n      \"oauth_client\": [],\n      \"api_key\": [],\n      \"services\": {\n        \"analytics_service\": {\n          \"status\": 1\n        },\n        \"cloud_messaging_service\": {\n          \"status\": 2,\n          \"apns_config\": []\n        },\n        \"appinvite_service\": {\n          \"status\": 1,\n          \"other_platform_oauth_client\": []\n        },\n        \"google_signin_service\": {\n          \"status\": 1\n        },\n        \"ads_service\": {\n          \"status\": 1\n        }\n      }\n    }\n  ],\n  \"client_info\": [],\n  \"ARTIFACT_VERSION\": \"1\"\n}\n</code></pre>\n\n<p>In my project I'm using the same project-id and when I'm adding the second package-name in the above url, google provides me with a file containing multiple clients in the json-data.</p>\n\n<p>Sorry for the compact JSON-data. I couldn't get it formatted correctly...</p>\n", "title": "google-services.json for different productFlavors", "answer_id": 34926984, "question_id": 30772201, "tags": ["android", "google-cloud-messaging", "google-play-services"]}, {"body": "<p>We have a different package name for debug builds (*.debug) so I wanted something that works based on flavor and buildType, without having to write anything flavor-related in the pattern of <code>processDebugFlavorGoogleServices</code>. </p>\n\n<p>I created a folder named \"google-services\" in each flavor, containing both the debug version and the release version of the json file : </p>\n\n<p><a href=\"http://i.stack.imgur.com/o8sRo.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/o8sRo.png\" alt=\"enter image description here\"></a></p>\n\n<p>In the buildTypes section of your gradle file, add this  :</p>\n\n<pre><code>    applicationVariants.all { variant -&gt;\n            def buildTypeName = variant.buildType.name\n            def flavorName = variant.productFlavors[0].name;\n\n            def googleServicesJson = 'google-services.json'\n            def originalPath = \"src/$flavorName/google-services/$buildTypeName/$googleServicesJson\"\n            def destPath = \".\"\n\n            copy {\n                if (flavorName.equals(getCurrentFlavor()) &amp;&amp; buildTypeName.equals(getCurrentBuildType())) {\n                    println originalPath\n                    from originalPath\n                    println destPath\n                    into destPath\n                }\n            }\n    }\n</code></pre>\n\n<p>It will copy the right json file at the root of your app module automatically when you'll switch build variant.</p>\n\n<p>Add the two methods called to get the current flavor and current build type at the root of your build.gradle </p>\n\n<pre><code>def getCurrentFlavor() {\n    Gradle gradle = getGradle()\n    String  tskReqStr = gradle.getStartParameter().getTaskRequests().toString()\n\n    Pattern pattern;\n\n    if( tskReqStr.contains( \"assemble\" ) )\n        pattern = Pattern.compile(\"assemble(\\\\w+)(Release|Debug)\")\n    else\n        pattern = Pattern.compile(\"generate(\\\\w+)(Release|Debug)\")\n\n    Matcher matcher = pattern.matcher( tskReqStr )\n\n    if( matcher.find() ) {\n        println matcher.group(1).toLowerCase()\n        return matcher.group(1).toLowerCase()\n    }\n    else\n    {\n        println \"NO MATCH FOUND\"\n        return \"\";\n    }\n}\n\ndef getCurrentBuildType() {\n    Gradle gradle = getGradle()\n    String  tskReqStr = gradle.getStartParameter().getTaskRequests().toString()\n\n        if (tskReqStr.contains(\"Release\")) {\n            println \"getCurrentBuildType release\"\n            return \"release\"\n        }\n        else if (tskReqStr.contains(\"Debug\")) {\n            println \"getCurrentBuildType debug\"\n            return \"debug\"\n        }\n\n    println \"NO MATCH FOUND\"\n    return \"\";\n}\n</code></pre>\n\n<p>That's it, you don't have to worry about removing/adding/modifying flavors from your gradle file, and it get the debug or the release google-services.json automatically.</p>\n", "title": "google-services.json for different productFlavors", "answer_id": 35159638, "question_id": 30772201, "tags": ["android", "google-cloud-messaging", "google-play-services"]}, {"body": "<p>As of <strong>Google Services 3.0</strong> and using <strong>Firebase</strong> it's not necessary to create different files for different flavours. Creating different files for different flavours can be not clear or straightforward in case you have productFlavours and Build types which compose with each other.</p>\n\n<p>In the same file you'll have the all the configurations you need for all your build types and flavours.</p>\n\n<p>In the Firebase console you need to add one app per package name. Imagine that you have 2 flavours (dev and live) and 2 build types (debug and release). Depending on your config but it's likely that you have 4 different package names like:</p>\n\n<ul>\n<li>com.stackoverflow.example (live - release)</li>\n<li>com.stackoverflow.example.dev (live - dev)</li>\n<li>com.stackoverflow.example.debug (debug - release)</li>\n<li>com.stackoverflow.example.dev.debug (debug - dev)</li>\n</ul>\n\n<p>You need 4 different Android Apps in the Firebase Console. (On each one you need to add the SHA-1 for debug and live for each computer you are using)</p>\n\n<p>When you download the google-services.json file, actually it doesn't really matter from what app you download it, all of them contain the same info related to all your apps.</p>\n\n<p>Now you need to locate this file in app level (app/).</p>\n\n<p><a href=\"http://i.stack.imgur.com/zTTGg.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/zTTGg.png\" alt=\"enter image description here\"></a></p>\n\n<p>If you open that file you'll see that if contains all the information for all your package names.</p>\n\n<p>A pain point use to be the plugin. In order to get it working you need to locate the plugin at the bottom of your file. So this line..</p>\n\n<pre><code>apply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>...needs to be on the bottom of your app build.gradle file.</p>\n\n<p>For most of the said here, it applies to previous versions as well. I've never had different files for different configs, but now with the Firebase console is easier because they provide one single file with everything you need for all you configs.</p>\n\n<ul>\n<li><a href=\"https://firebase.google.com/docs/\" rel=\"nofollow\">Firebase Docs</a></li>\n<li><a href=\"https://firebase.google.com/docs/cloud-messaging/\" rel=\"nofollow\">Firebase Cloud Messaging</a></li>\n<li><a href=\"https://console.firebase.google.com\" rel=\"nofollow\">Firebase Console</a></li>\n</ul>\n", "title": "google-services.json for different productFlavors", "answer_id": 38479169, "question_id": 30772201, "tags": ["android", "google-cloud-messaging", "google-play-services"]}, {"body": "<p>Simplifying what @Scotti said. You need to create Multiples apps with different package name for a particular Project depending on the product flavor.</p>\n\n<p>Suppose your Project is ABC having different product flavors X,Y where X has a package name com.x and Y has a package name com.y then in the firebase console you need to create a project ABC in which you need to create 2 apps with the package names com.x and com.y. Then you need to download the google-services.json file in which there will be 2 client-info objects which will contain those pacakges and you will be good to go.</p>\n\n<p>Snippet of the json would be something like this</p>\n\n<pre><code>{\n  \"client\": [\n    {\n      \"client_info\": {\n        \"android_client_info\": {\n          \"package_name\": \"com.x\"\n        }\n\n    {\n      \"client_info\": {\n        \"android_client_info\": {\n          \"package_name\": \"com.y\"\n        }\n      ]\n\n    }\n</code></pre>\n", "title": "google-services.json for different productFlavors", "answer_id": 39266285, "question_id": 30772201, "tags": ["android", "google-cloud-messaging", "google-play-services"]}, {"body": "<p>Hey Friends also looks for name use only lowercase then u don't get this error</p>\n", "title": "google-services.json for different productFlavors", "answer_id": 39489550, "question_id": 30772201, "tags": ["android", "google-cloud-messaging", "google-play-services"]}], "question_id": 30772201}, {"body": "<p>I have updated my app to use the latest support library (version 23.0.0), I've found out that they deprecated the onAttach() function of the Fragment class.</p>\n\n<p>Instead of:</p>\n\n<pre><code>onAttach (Activity activity)\n</code></pre>\n\n<p>It's now:</p>\n\n<pre><code>onAttach (Context context)\n</code></pre>\n\n<p>As my app uses the activity passed before deprecation, a possible solution i think is:</p>\n\n<pre><code>@Override\npublic void onAttach(Context context) {\n    super.onAttach(context);\n    activity = getActivity();\n}\n</code></pre>\n\n<p>Would that be the correct way to do it?</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>If i run a device with API lower than 23, the new onAttach() is not even being called. I hope that this is not what they intended to do!</p>\n\n<p><strong>UPDATE 2:</strong></p>\n\n<p>Issue has been resolved with the latest updates to the SDK.</p>\n\n<p>I have tested on my API 22 device and onAttach(Context) is being called.</p>\n\n<p>Click <a href=\"https://code.google.com/p/android/issues/detail?id=183358\">here</a> to follow the bug report I've opened a couple of weeks ago and the answers from the guys at Google.</p>\n", "title": "Android Fragment onAttach() deprecated", "tags": ["android", "android-fragments"], "answer_count": 6, "link": "http://stackoverflow.com/questions/32083053/android-fragment-onattach-deprecated", "answers": [{"body": "<p>Activity is a context so if you can simply check the context is an Activity and cast it if necessary.</p>\n\n<pre><code>@Override\npublic void onAttach(Context context) {\n    super.onAttach(context);\n\n    Activity a;\n\n    if (context instanceof Activity){\n        a=(Activity) context;\n    }\n\n}\n</code></pre>\n\n<p><strong>Update:</strong> Some are claiming that the new <code>Context</code> override is never called. I have done some tests and cannot find a scenario where this is true and according to the source code, it should never be true. In all cases I tested, both pre and post SDK23, both the <code>Activity</code> and the <code>Context</code> versions of <code>onAttach</code> were called.  If you can find a scenario where this is not the case, I would suggest you create a sample project illustrating the issue and <a href=\"https://code.google.com/p/android/issues/entry?template=Support%20Library%20bug\">report it to the Android team</a>.</p>\n\n<p><strong>Update 2:</strong> I only ever use the Android Support Library fragments as bugs get fixed faster there. It seems the above issue where the overrides do not get called correctly only comes to light if you use the framework fragments.</p>\n", "title": "Android Fragment onAttach() deprecated", "answer_id": 32088447, "question_id": 32083053, "tags": ["android", "android-fragments"]}, {"body": "<p>Currently from the <code>onAttach</code> Fragment code, it is not clear if the <code>Context</code> is the current activity: <strong>Source Code</strong></p>\n\n<pre><code>public void onAttach(Context context) {\n    mCalled = true;\n    final Activity hostActivity = mHost == null ? null : mHost.getActivity();\n    if (hostActivity != null) {\n        mCalled = false;\n        onAttach(hostActivity);\n    }\n}\n</code></pre>\n\n<p>If you will take a look at <code>getActivity</code> you will see the same call</p>\n\n<pre><code>/**\n * Return the Activity this fragment is currently associated with.\n */\nfinal public Activity getActivity() {\n    return mHost == null ? null : mHost.getActivity();\n}\n</code></pre>\n\n<p>So If you want to be sure that you are getting the Activity then use  <code>getActivity()</code> (in <code>onAttach</code> in your <code>Fragment</code>) but don't forget to check for <code>null</code> because if <code>mHost</code> is <code>null</code> your activity will be <code>null</code></p>\n", "title": "Android Fragment onAttach() deprecated", "answer_id": 32165797, "question_id": 32083053, "tags": ["android", "android-fragments"]}, {"body": "<p>If you use the the framework fragments and the SDK version of the device is lower than 23, <code>OnAttach(Context context)</code> wouldn't be called. </p>\n\n<p>I use support fragments instead, so deprecation is fixed and <code>onAttach(Context context)</code> always gets called.</p>\n", "title": "Android Fragment onAttach() deprecated", "answer_id": 32629836, "question_id": 32083053, "tags": ["android", "android-fragments"]}, {"body": "<pre><code>@Override\npublic void onAttach(Context context) {\n    super.onAttach(context);\n\n    Activity activity = context instanceof Activity ? (Activity) context : null;\n}\n</code></pre>\n", "title": "Android Fragment onAttach() deprecated", "answer_id": 32917076, "question_id": 32083053, "tags": ["android", "android-fragments"]}, {"body": "<p>Download newest Support library with the sdk manager and include  </p>\n\n<pre><code>compile 'com.android.support:appcompat-v7:23.1.1'\n</code></pre>\n\n<p>in gradle.app and set compile version to api 23</p>\n", "title": "Android Fragment onAttach() deprecated", "answer_id": 33924531, "question_id": 32083053, "tags": ["android", "android-fragments"]}, {"body": "<p>This is another great change from Google ... The suggested modification: replace <code>onAttach(Activity activity)</code> with <code>onAttach(Context context)</code> crashed my apps on older APIs since <code>onAttach(Context context)</code> will not be called on native fragments.</p>\n\n<p>I am using the native fragments (android.app.Fragment) so I had to do the following to make it work again on older APIs (&lt; 23).</p>\n\n<p>Here is what I did:</p>\n\n<pre><code>@Override\npublic void onAttach(Context context) {\n    super.onAttach(context);\n\n    // Code here\n}\n\n@SuppressWarnings(\"deprecation\")\n@Override\npublic void onAttach(Activity activity) {\n    super.onAttach(activity);\n\n    if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.M) {\n        // Code here\n    }\n}\n</code></pre>\n", "title": "Android Fragment onAttach() deprecated", "answer_id": 34747012, "question_id": 32083053, "tags": ["android", "android-fragments"]}], "question_id": 32083053}, {"body": "<p>Google Chrome does not refresh accessibility elements (<a href=\"https://msdn.microsoft.com/library/system.windows.automation.automationelement%28v=vs.110%29.aspx\">AutomationElement</a>) when a user scrolls down in the browser. </p>\n\n<p>To reproduce it: </p>\n\n<ol>\n<li>Enable renderer accessibility with :  <code>\"chrome --force-render-accessibility\"</code> or by setting on Global Accessibility at <code>\"chrome://accessibility\"</code>.</li>\n<li>Go to <a href=\"http://en.wikipedia.org/wiki/Google\">http://en.wikipedia.org/wiki/Google</a></li>\n<li>Open <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/dd318521%28v=vs.85%29.aspx\">inspect.exe</a> in UI Automation Mode (from Windows Kits), look for \"Links to related articles\" element. </li>\n<li>Come back to Chrome, Scroll down until \"Links to related articles\" at the bottom is visible</li>\n<li>\"Links to related articles\" element is marked off screen</li>\n</ol>\n\n<hr>\n\n<p>I found some manual solutions that can force Chrome to refresh it: </p>\n\n<ol>\n<li>Set Zoom to 90% then set it back to 100 % (very very ugly way)</li>\n<li>Switch accessibility off then switch on in <code>chrome://accessibility/</code></li>\n</ol>\n\n<p><strong>What I'm looking for is the ability to do one of these operations programatically, or any operation that can make Chrome refresh its cache tree.</strong></p>\n\n<hr>\n\n<p>What I've tried:</p>\n\n<ul>\n<li>Resize window with <code>PInvoke/MoveWindow</code></li>\n<li>Redraw Window with <code>PInvoke/Redrawwindow</code></li>\n<li>Build a chrome extension and force zoom to 100% on demand: <code>chrome.tabs.setZoom(null, 0);</code> (working but blink and slow down the window)</li>\n</ul>\n\n<p>None of these are working properly.</p>\n\n<p><strong>EDIT</strong>: Tested with Google Chrome 40.XX, 41.XX, 42.XX, 43.XX, 44.XX, 45.XX, 46.XX, 47.XX.Dev, 48.XX.Dev under Windows 7.</p>\n", "title": "Google Chrome accessible tree cache issue with UI Automation", "tags": ["c#", "google-chrome", "pinvoke", "accessibility", "ui-automation"], "answer_count": 2, "link": "http://stackoverflow.com/questions/30434961/google-chrome-accessible-tree-cache-issue-with-ui-automation", "answers": [{"body": "<p>Chrome's multi-process architecture is different from that of any other browser. For security, the main browser UI is in one process, and web pages are run in separate renderer processes (typically one per tab). The Renderer processes are the only ones with a representation of the webpage's DOM and therefore all of the accessibility information, but the renderer processes are specifically not allowed to interact with the operating system (sending or receiving events or messages) - in particular, the renderer processes cannot send or receive accessibility events.</p>\n", "title": "Google Chrome accessible tree cache issue with UI Automation", "answer_id": 33887731, "question_id": 30434961, "tags": ["c#", "google-chrome", "pinvoke", "accessibility", "ui-automation"]}, {"body": "<p>Scrolling in simple pages is optimized to not require computation from the renderer. Only the compositor and the GPU are needed to scroll therefore the render tree which is only updated from the renderer is still the same.</p>\n\n<p>Requiring the renderer to traverse the DOM and update the Accessibility tree during a scroll runs contrary with the several years effort of having smooth scrolling, specially for touch devices so I don't think you are going to get traction on a bug fix.</p>\n\n<p>Your idea of an extension I think is the best (although ugly) compromise. But rather that changing zoom, doing a small mutation of the page (or DOM) might be a better solution. Try for example adding a invisible (or nearly so) element with a low z-order. You will also need to rate control the mutation so it only happens 1 times per second or even less often.</p>\n", "title": "Google Chrome accessible tree cache issue with UI Automation", "answer_id": 34914247, "question_id": 30434961, "tags": ["c#", "google-chrome", "pinvoke", "accessibility", "ui-automation"]}], "question_id": 30434961}, {"body": "<p>Using: \n<code>buildToolsVersion \"22.0.1\"</code> , \n<code>targetSdkVersion 22</code> in my gradle file.</p>\n\n<p>I found that the useful <code>getResources().getColor(R.color.color_name)</code> is deprecated.</p>\n\n<p>What should I use instead?</p>\n", "title": "getResources().getColor() is deprecated", "tags": ["android", "deprecated", "android-resources", "android-color"], "answer_count": 4, "link": "http://stackoverflow.com/questions/31842983/getresources-getcolor-is-deprecated", "answers": [{"body": "<blockquote>\n  <p>I found that the useful getResources().getColor(R.color.color_name) is deprecated.</p>\n</blockquote>\n\n<p>It is not deprecated in API Level 21, according to <a href=\"http://developer.android.com/reference/android/content/res/Resources.html#getColor%28int%29\">the documentation</a>.</p>\n\n<p>It <em>is</em> deprecated in the M Developer Preview. However, the replacement method (a two-parameter <code>getColor()</code> that takes the color resource ID and a <code>Resources.Theme</code> object) is only available in the M Developer Preview.</p>\n\n<p>Hence, right now, continue using the single-parameter <code>getColor()</code> method. Later this year, consider using the two-parameter <code>getColor()</code> method on Android M devices, falling back to the deprecated single-parameter <code>getColor()</code> method on older devices.</p>\n", "title": "getResources().getColor() is deprecated", "answer_id": 31843067, "question_id": 31842983, "tags": ["android", "deprecated", "android-resources", "android-color"]}, {"body": "<p>It looks like the best approach is to use: </p>\n\n<pre><code>ContextCompat.getColor(context, R.color.color_name)\n</code></pre>\n\n<p>This will choose the Marshmallow two parameter method or the pre-Marshmallow method appropriately.</p>\n", "title": "getResources().getColor() is deprecated", "answer_id": 32202256, "question_id": 31842983, "tags": ["android", "deprecated", "android-resources", "android-color"]}, {"body": "<p>You need to use ContextCompat.getColor(), which is part of the Support V4 Library (so it will work for all the previous API).</p>\n\n<pre><code>ContextCompat.getColor(context, R.color.my_color)\n</code></pre>\n\n<p>As specified in the documentation, \"Starting in M, the returned color will be styled for the specified Context's theme\". SO no need to worry about it.</p>\n\n<p>You can add the Support V4 library by adding the following to the dependencies array inside your app build.gradle:</p>\n\n<pre><code>compile 'com.android.support:support-v4:23.0.1'\n</code></pre>\n", "title": "getResources().getColor() is deprecated", "answer_id": 32518329, "question_id": 31842983, "tags": ["android", "deprecated", "android-resources", "android-color"]}, {"body": "<p>well its deprecated in android M so you must make exception for android M and lower. Just add current theme on getColor function <em>you can get current theme with getTheme()</em></p>\n\n<p>this will do the trick in fragment, you can replace getActivity with getBaseContext(), yourContext, etc which hold your current context</p>\n\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n    yourTitle.setTextColor(getActivity().getResources().getColor(android.R.color.white, getActivity().getTheme()));\n}else {\n    yourTitle.setTextColor(getActivity().getResources().getColor(android.R.color.white));\n}\n</code></pre>\n\n<p>*p.s : color is deprecated in M, but drawable is deprecated in L</p>\n", "title": "getResources().getColor() is deprecated", "answer_id": 34487328, "question_id": 31842983, "tags": ["android", "deprecated", "android-resources", "android-color"]}], "question_id": 31842983}, {"body": "<p>Today I updated <a href=\"http://fortawesome.github.io/Font-Awesome/\">Font Awesome</a> package to 4.3.0 and noticed that <strong>woff2</strong> font was added. That file is linked in CSS so I need to configure nginx to serve woff2 files properly.</p>\n\n<p>Currently I have this block in nginx config for fonts:</p>\n\n<pre><code>location ~* \\.(otf|eot|woff|ttf)$ {\n    types     {font/opentype otf;}\n    types     {application/vnd.ms-fontobject eot;}\n    types     {font/truetype ttf;}\n    types     {application/font-woff woff;}\n}\n</code></pre>\n\n<p>What is proper mime type for woff2 fonts?</p>\n", "title": "Proper MIME type for .woff2 fonts", "tags": ["fonts", "mime-types", "woff", "woff2"], "answer_count": 4, "link": "http://stackoverflow.com/questions/28235550/proper-mime-type-for-woff2-fonts", "answers": [{"body": "<p>The mime type (sometime written as mimetype) for WOFF2 fonts has been <strong>proposed</strong> as <code>application/font-woff2</code>.</p>\n\n<p>Also, if you refer to the spec (<a href=\"http://dev.w3.org/webfonts/WOFF2/spec/\">http://dev.w3.org/webfonts/WOFF2/spec/</a>) you will see that <code>font/woff2</code> is being discussed. I suspect that the filal mime type for all fonts will eventually be the more logical <code>font/*</code> (<code>font/ttf</code>, <code>font/woff2</code> etc)...</p>\n\n<p>N.B. WOFF2 is still in 'Working Draft' status -- not yet adopted officially.</p>\n", "title": "Proper MIME type for .woff2 fonts", "answer_id": 28251873, "question_id": 28235550, "tags": ["fonts", "mime-types", "woff", "woff2"]}, {"body": "<p>In IIS you can declare the mime type for WOFF2 font files by adding the following to your project's web.config:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;system.webServer&gt;\n  &lt;staticContent&gt;\n    &lt;remove fileExtension=\".woff2\" /&gt;\n    &lt;mimeMap fileExtension=\".woff2\" mimeType=\"font/woff2\" /&gt;\n  &lt;/staticContent&gt;\n&lt;/system.webServer&gt;\n</code></pre>\n\n<p><strong>Update</strong>:\nThe mime type may be changing according to the latest <em>W3C Editor's Draft WOFF2 spec</em>. See <a href=\"https://dev.w3.org/webfonts/WOFF2/spec/#IMT\">Appendix A: Internet Media Type Registration</a> section <strong>6.5. WOFF 2.0</strong> which states the latest <strong><em>proposed</em></strong> format is <code>font/woff2</code></p>\n", "title": "Proper MIME type for .woff2 fonts", "answer_id": 28955302, "question_id": 28235550, "tags": ["fonts", "mime-types", "woff", "woff2"]}, {"body": "<p><a href=\"http://dev.w3.org/webfonts/WOFF2/spec/#IMT\">http://dev.w3.org/webfonts/WOFF2/spec/#IMT</a></p>\n\n<p>It seem that w3c switched it to <code>font/woff2</code></p>\n\n<p>I see there is some discussion about the proper mime type.\nIn the link we read: </p>\n\n<blockquote>\n  <p>This document defines a <strong>top-level</strong> MIME type \"font\" ...</p>\n  \n  <p>... the officially defined IANA subtypes such as \"application/font-woff\" ...</p>\n  \n  <p>The members of the W3C WebFonts WG believe the use of \"application\" top-level type is not ideal.</p>\n</blockquote>\n\n<p>and later</p>\n\n<pre><code>6.5. WOFF 2.0\n\n    Type name:\n\n        font\n    Subtype name:\n\n        woff2\n</code></pre>\n\n<p>So proposition from W3C differs from IANA.</p>\n\n<p>We can see that it also differs from woff type:\n<a href=\"http://dev.w3.org/webfonts/WOFF/spec/#IMT\">http://dev.w3.org/webfonts/WOFF/spec/#IMT</a>\nwhere we read:</p>\n\n<pre><code>Type name:\n\n    application\nSubtype name:\n\n    font-woff\n</code></pre>\n\n<p>which is</p>\n\n<pre><code>application/font-woff\n</code></pre>\n\n<p><a href=\"http://www.w3.org/TR/WOFF/#appendix-b\">http://www.w3.org/TR/WOFF/#appendix-b</a></p>\n", "title": "Proper MIME type for .woff2 fonts", "answer_id": 29888838, "question_id": 28235550, "tags": ["fonts", "mime-types", "woff", "woff2"]}, {"body": "<h1>Apache</h1>\n\n<p>In Apache, you can add the <code>woff2</code> mime type via your <code>.htaccess</code> file as stated by <a href=\"https://gist.github.com/sergejmueller/cf6b4f2133bcb3e2f64a\" rel=\"nofollow\">this link</a>.</p>\n\n<pre><code>AddType  application/font-woff2  .woff2\n</code></pre>\n\n<hr>\n\n<h1>IIS</h1>\n\n<p>In IIS, simply add the following <code>mimeMap</code> tag into your <code>web.config</code> file inside the <code>staticContent</code> tag.</p>\n\n<pre><code>&lt;configuration&gt;\n  &lt;system.webServer&gt;\n    &lt;staticContent&gt;\n      &lt;mimeMap fileExtension=\".woff2\" mimeType=\"application/font-woff2\" /&gt;\n</code></pre>\n", "title": "Proper MIME type for .woff2 fonts", "answer_id": 31151786, "question_id": 28235550, "tags": ["fonts", "mime-types", "woff", "woff2"]}], "question_id": 28235550}, {"body": "<p>I'm using Ubuntu Gnome 14.04, and I have Java 8 installed (both the JDK and the JRE).</p>\n\n<p>When I was installing Android Studio everything worked, but a message appeared saying:</p>\n\n<blockquote>\n  <p>Unable to run mksdcard SDK tool</p>\n</blockquote>\n\n<p>How can I install Android Studio correctly, or how do I fix this ?</p>\n", "title": "Unable to install Android Studio in Ubuntu", "tags": ["java", "android", "ubuntu", "android-studio", "64bit"], "answer_count": 10, "link": "http://stackoverflow.com/questions/28847151/unable-to-install-android-studio-in-ubuntu", "answers": [{"body": "<p>Presuming that you are running the 64bit Ubuntu, the fix suggested for \"Issue <a href=\"https://code.google.com/p/android/issues/detail?id=82711\">82711</a>\" should solve your problem.</p>\n\n<p><code>sudo apt-get install lib32z1 lib32ncurses5 lib32bz2-1.0 lib32stdc++6</code></p>\n", "title": "Unable to install Android Studio in Ubuntu", "answer_id": 28847280, "question_id": 28847151, "tags": ["java", "android", "ubuntu", "android-studio", "64bit"]}, {"body": "<p>@warsong is right. Installing only <code>lib32stdc++6</code> solved the problem.</p>\n\n<p>For next uses I rewrite @warsongs comment in answer area.</p>\n\n<pre><code>sudo apt-get install lib32stdc++6\n</code></pre>\n", "title": "Unable to install Android Studio in Ubuntu", "answer_id": 30067060, "question_id": 28847151, "tags": ["java", "android", "ubuntu", "android-studio", "64bit"]}, {"body": "<p><a href=\"http://developer.android.com/sdk/installing/index.html?pkg=tools\" rel=\"nofollow\">Checkout this page</a></p>\n\n<blockquote>\n  <p>If you are running a 64-bit distribution on your development machine, you need to install additional packages first. For Ubuntu 13.10 (Saucy Salamander) and above, install the <code>libncurses5:i386</code>, <code>libstdc++6:i386</code>, and <code>zlib1g:i386</code> packages using <code>apt-get</code>:</p>\n</blockquote>\n\n<pre><code>sudo dpkg --add-architecture i386\nsudo apt-get update\nsudo apt-get install libncurses5:i386 libstdc++6:i386 zlib1g:i386\n</code></pre>\n", "title": "Unable to install Android Studio in Ubuntu", "answer_id": 33326703, "question_id": 28847151, "tags": ["java", "android", "ubuntu", "android-studio", "64bit"]}, {"body": "<p>I understand the question is regarding UBUNTU, but I had similar problem in Debian Jessie 64bit and warsongs suggestion worked for it also.<br>\nWhen I ran studio.sh android studio would start, but when I tried to configure the android SDK I got the error<br>\n<code>Unable to run mksdcard SDK tool</code><br>\nWHen I tried<br>\n<code>sudo apt-get install lib32z1 lib32ncurses5 lib32bz2-1.0 lib32stdc++6</code><br>\nGot error<br>\n<code>E: Package 'lib32bz2-1.0' has no installation candidate</code><br>\nSo took warsongs suggestion and only tried to install lib32stdc++6.<br>\n<code>sudo apt-get install  lib32stdc++6</code><br>\nAfter this was able to add the Android SDK into Android Studio. </p>\n", "title": "Unable to install Android Studio in Ubuntu", "answer_id": 33656958, "question_id": 28847151, "tags": ["java", "android", "ubuntu", "android-studio", "64bit"]}, {"body": "<p>For Linux Mint run</p>\n\n<pre><code>sudo apt-get install lib32z1 lib32ncurses5 libbz2-1.0 lib32stdc++6\n</code></pre>\n", "title": "Unable to install Android Studio in Ubuntu", "answer_id": 34401540, "question_id": 28847151, "tags": ["java", "android", "ubuntu", "android-studio", "64bit"]}, {"body": "<p>For Fedora (tested for Fedora 23) run</p>\n\n<pre><code>dnf install compat-libstdc++-296 compat-libstdc++-33 glibc libgcc nss-softokn-freebl libstdc++ ncurses-libs zlib-devel.i686 ncurses-devel.i686 ant\n</code></pre>\n", "title": "Unable to install Android Studio in Ubuntu", "answer_id": 34568682, "question_id": 28847151, "tags": ["java", "android", "ubuntu", "android-studio", "64bit"]}, {"body": "<p>The Problem is caused by mksdcard not being installed correctly.</p>\n\n<p>if you are running 64 bit, do this to fix the mksdcard problem.</p>\n\n<pre><code>    sudo dpkg --add-architecture amd64\n    sudo apt-get update\n    sudo apt-get install libncurses5:amd64 libstdc++6:amd64 zlib1g:amd64\n</code></pre>\n\n<p>and 32 bit:</p>\n\n<pre><code>    sudo dpkg --add-architecture i386\n    sudo apt-get update\n    sudo apt-get install libncurses5:i386 libstdc++6:i386 zlib1g:i386\n</code></pre>\n\n<p>In SDK 6.0, the error message is different but means the same thing.</p>\n\n<pre><code>    Unable to run mksdcard\n</code></pre>\n", "title": "Unable to install Android Studio in Ubuntu", "answer_id": 35215312, "question_id": 28847151, "tags": ["java", "android", "ubuntu", "android-studio", "64bit"]}, {"body": "<p>None of these options worked for me on Ubuntu 12.10 (yeah, I need to upgrade).  However, I found an easy solution.  Download the source from here: <a href=\"https://github.com/miracle2k/android-platform_sdk/blob/master/emulator/mksdcard/mksdcard.c\" rel=\"nofollow\">https://github.com/miracle2k/android-platform_sdk/blob/master/emulator/mksdcard/mksdcard.c</a>.  Then simply compile with \"gcc mksdcard.c -o mksdcard\". Backup mksdcard in the SDK tools subfolder and replace with the newly compiled one.  Android Studio will now be happy with your SDK.</p>\n", "title": "Unable to install Android Studio in Ubuntu", "answer_id": 35355819, "question_id": 28847151, "tags": ["java", "android", "ubuntu", "android-studio", "64bit"]}, {"body": "<p>If you run <code>sudo apt-get install lib32z1 lib32ncurses5 libbz2-1.0 lib32stdc++6</code>\nand got a message like: \"<code>The following packages have unmet dependencies: lib32stdc++6 : Depends: lib32gcc1 (&gt;= 1:4.1.1)</code>\".</p>\n\n<p>You can do something like this tut: <a href=\"http://askubuntu.com/questions/671791/lib32stdc6-package-depends-on-gcc-base-but-my-installed-version-is-newer\">http://askubuntu.com/questions/671791/lib32stdc6-package-depends-on-gcc-base-but-my-installed-version-is-newer</a></p>\n", "title": "Unable to install Android Studio in Ubuntu", "answer_id": 36879410, "question_id": 28847151, "tags": ["java", "android", "ubuntu", "android-studio", "64bit"]}, {"body": "<p>This issue arises when your 64 bit os tries to install the Android SDK which in turns tries to install some 32 bit binaries and thus is the issue of compatibility. </p>\n\n<p>Open an additional terminal and type</p>\n\n<pre><code>sudo apt-get install lib32z1 lib32ncurses5 lib32bz2-1.0 lib32stdc++6 \n</code></pre>\n\n<p>would help to install all the required binaries. After this, start the afresh the Android SDK installation process.</p>\n", "title": "Unable to install Android Studio in Ubuntu", "answer_id": 37498509, "question_id": 28847151, "tags": ["java", "android", "ubuntu", "android-studio", "64bit"]}], "question_id": 28847151}, {"body": "<p>In a project I'm collaborating on, we have two choices on which module system we can use:</p>\n\n<ol>\n<li>Importing modules using require, and exporting using module.exports and exports.foo</li>\n<li>Importing modules using ES6 import, and exporting using ES6 export</li>\n</ol>\n\n<p>Are there any performance benefits to using one over the other? Is there anything else that we should know if we were to use ES6 modules over Node ones?</p>\n", "title": "Using Node.js require vs. ES6 import/export", "tags": ["javascript", "node.js", "ecmascript-6", "babeljs"], "answer_count": 3, "link": "http://stackoverflow.com/questions/31354559/using-node-js-require-vs-es6-import-export", "answers": [{"body": "<p>The main advantages are syntactic:</p>\n\n<ul>\n<li>More declarative/compact syntax</li>\n<li>ES6 modules will basically make UMD (Universal Module Definition) obsolete - essentially removes the schism between CommonJS and AMD (server vs browser).</li>\n</ul>\n\n<p>You are unlikely to see any performance benefits with ES6 modules. You will still need an extra library to bundle the modules, even when there is full support for ES6 features in the browser.</p>\n", "title": "Using Node.js require vs. ES6 import/export", "answer_id": 31355008, "question_id": 31354559, "tags": ["javascript", "node.js", "ecmascript-6", "babeljs"]}, {"body": "<p>There are several usage / capabilities you might want to consider:</p>\n\n<p>Require:</p>\n\n<ul>\n<li>You can have dynamic loading where the loaded module name isn't\npredefined /static, or where you conditionally load a module only if\nit's \"truly required\" (depending on certain code flow).</li>\n<li>Loading is\nsynchronous. That means if you have multiple <code>require</code>s, they are\nloaded and processed one by one.</li>\n</ul>\n\n<p>ES6 Imports:</p>\n\n<ul>\n<li>You can use\nnamed imports to selectively load only the pieces you need. That can\nsave memory.</li>\n<li>Import can be asynchronous (and in current ES6 Module Loader, it in fact is) and can perform a little better.</li>\n</ul>\n\n<p>Also, the Require module system isn't standard based. It's is highly unlikely to become standard now that ES6 modules exist. In the future there will be native support for ES6 Modules in various implementations which will be advantageous in terms of performance.</p>\n", "title": "Using Node.js require vs. ES6 import/export", "answer_id": 31355283, "question_id": 31354559, "tags": ["javascript", "node.js", "ecmascript-6", "babeljs"]}, {"body": "<blockquote>\n  <p>Are there any performance benefits to using one over the other? </p>\n</blockquote>\n\n<p>Keep in mind that there is no JavaScript engine yet that natively supports ES6 modules. You said yourself that you are using Babel. Babel converts <code>import</code> and <code>export</code> declaration to CommonJS (<code>require</code>/<code>module.exports</code>) by default anyway. So even if you use ES6 module syntax, you will be using CommonJS under the hood if you run the code in Node.</p>\n\n<p>There are technical difference between CommonJS and ES6 modules, e.g. CommonJS allows you to load modules dynamically. ES6 doesn't allow this, <a href=\"https://github.com/whatwg/loader\">but there is an API in development for that</a>.</p>\n\n<p>Since ES6 modules are part of the standard, I would use them.</p>\n", "title": "Using Node.js require vs. ES6 import/export", "answer_id": 31367852, "question_id": 31354559, "tags": ["javascript", "node.js", "ecmascript-6", "babeljs"]}], "question_id": 31354559}, {"body": "<p>A new stable release of Node.js (0.12) has landed recently with an upgraded Google's v8 JavaScript engine, <em>v3.28.73</em>.</p>\n\n<h2>What ECMAScript 6 features are currently present in Node.js, without using the <code>--harmony</code> flag?</h2>\n\n<p>I have checked several sites claiming to list the ES 6 features but all of them seem out of date - most prominently, <a href=\"http://kangax.github.io/compat-table/es6/#node\" rel=\"nofollow\">this table</a> (<strong>Update:</strong> <em>now updated with current Node.js status as of 0.12</em>), because several of the features are listed as requiring the <code>--harmony</code> flag while I found some of them being enabled by default (Maps, Sets, Symbols, to name a few). <strong>Update</strong>: <a href=\"http://node.green/\" rel=\"nofollow\">Node specific tables</a> have since been made available</p>\n\n<p>Also, trying to google this information purely for the v8 engine gives too up-to-date information - current v8 release is <em>4.2.*</em>, which is quite ahead of what Node.js uses.</p>\n\n<p>My hopes are that this question (and its answers) will become a comprehensive summary on what ES 6 features are now available to Node.js developers.</p>\n\n<h2>ES 6 features enabled in Node.js 0.12 I currently know of:</h2>\n\n<ul>\n<li>Maps, Sets / WeakMaps, WeakSets</li>\n<li>Symbols</li>\n<li>Object.observe</li>\n<li>Promises</li>\n<li>Number\n\n<ul>\n<li>.isInteger</li>\n<li>.isSafeInteger</li>\n<li>.isNaN</li>\n<li>.EPSILON</li>\n<li>.MIN_SAFE_INTEGER</li>\n<li>.MAX_SAFE_INTEGER</li>\n</ul></li>\n<li>Math\n\n<ul>\n<li>.clz32</li>\n<li>.imul</li>\n<li>.sign</li>\n<li>.log10</li>\n<li>.log2</li>\n<li>.log1p</li>\n<li>.expm1</li>\n<li>.cosh</li>\n<li>.sinh</li>\n<li>.tanh</li>\n<li>.acosh</li>\n<li>.asinh</li>\n<li>.atanh</li>\n<li>.trunc</li>\n<li>.fround</li>\n<li>.cbrt</li>\n<li>.hypot</li>\n</ul></li>\n</ul>\n", "title": "ECMAScript 6 features available in Node.js 0.12", "tags": ["javascript", "node.js", "v8", "ecmascript-6"], "answer_count": 2, "link": "http://stackoverflow.com/questions/28388885/ecmascript-6-features-available-in-node-js-0-12", "answers": [{"body": "<p><strong>Features without <code>--harmony</code> flag:</strong></p>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of\">\"for-of\" loop</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map\">Map</a>, <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set\">Set</a>, <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap\">WeakMap</a>, <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet\">WeakSet</a> (already specified in question)</li>\n<li><a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Symbol\">Symbol</a> (already specified in question)</li>\n<li><a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Promise\">Promise</a> (already specified in question)</li>\n<li>Array methods: \n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/keys\">.keys()</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/values\">.values()</a> </li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/entries\">.entries()</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/@@iterator\">[Symbol.iterator]</a></li>\n</ul></li>\n<li>Object:\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/observe\">.observe()</a> (initially was <a href=\"http://bocoup.com/weblog/javascript-object-observe/\">planned for ES7</a>, but was <a href=\"https://esdiscuss.org/topic/an-update-on-object-observe\">removed from the spec entirely</a> on November 2, 2015)</li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\">.is()</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf\">.setPrototypeOf()</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertySymbols\">.getOwnPropertySymbols()</a></li>\n<li>.getNotifier() (not es6, example <a href=\"http://bocoup.com/weblog/javascript-object-observe/\">here</a>)</li>\n<li>.apply() and .call() (not es6, same purpose as Funciton.prototype.call and Function.prototype.apply)</li>\n</ul></li>\n<li>Number properties and methods (already specified in question)\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger\">.isInteger()</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isSafeInteger\">.isSafeInteger()</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isNaN\">.isNaN()</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isFinite\">.isFinite()</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/EPSILON\">EPSILON</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/MIN_SAFE_INTEGER\">MIN_SAFE_INTEGER</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_SAFE_INTEGER\">MAX_SAFE_INTEGER</a></li>\n</ul></li>\n<li>Math methods (<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math\">a lot of them</a>) (already specified in question)</li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/const\">constants</a></li>\n</ul>\n\n<p>I thinks that's all that we have without <code>--harmony</code> flag.</p>\n\n<p><strong>Features with <code>--harmony</code> flag:</strong></p>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function*\">generators</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\">arrow functions</a> (without need of <code>--harmony_arrow_functions</code> flag in contrast to <code>io.js</code>)</li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/let\">let variables</a> - only in <code>strict mode</code></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Lexical_grammar\">Binary and octal literals</a></li>\n<li><p>String methods:</p>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\">.contains()</a> (was replaced by <code>includes()</code> in actual ES6 specification)</li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\">.startsWith()</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\">.endsWith()</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/codePointAt\">.codePointAt()</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/repeat\">.repeat()</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize\">.normalize()</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/fromCodePoint\">String.fromCodePoint</a></li>\n</ul></li>\n<li><p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy\">Proxy</a> (behind the <code>--harmony-proxies</code> flag)</p></li>\n</ul>\n\n<p>I think that's all. Maybe if I forgot something - I'll add it later to the list.</p>\n", "title": "ECMAScript 6 features available in Node.js 0.12", "answer_id": 28389178, "question_id": 28388885, "tags": ["javascript", "node.js", "v8", "ecmascript-6"]}, {"body": "<p>ES6 features trickle down to Node in phases. Node uses Google's V8 as the JavaScript engine. A feature being supported in Node means it first has to be implemented in V8 and then Node team has to incorporate it in Node.js. </p>\n\n<p>The team at Google releases a new version of V8 roughly every six weeks, and then it's up to the Node team to take it into use.</p>\n\n<p>Manually curated lists of language features are nice but can become outdated quickly. Node 0.12 is not that in flux anymore, but typically manually curated list becomse obsolete as soon as a new version of Node is rolled out.</p>\n\n<p>Here are two alternate ways to check what features a Node version supports, without relying on a static list. For further reading and more detailed examples of using these, you can check <a href=\"http://bytearcher.com/articles/how-to-check-if-node-implements-es6-language-feature/\" rel=\"nofollow\">\"How to check if Node.js supports ES 6 language feature\"</a> </p>\n\n<h3>#1 Easy - compatibility table</h3>\n\n<p>A dynamically generated list that relies on small tests to confirm the presence of a language feature stays better up to date. One such popular list is kangax.github.io/compat-table/es6/. We are interested only in Node features, so you can use </p>\n\n<p><a href=\"http://node.green\" rel=\"nofollow\">http://node.green</a> </p>\n\n<p>that leverages the same data as the kangax site.</p>\n\n<h3>#2 Hard - backtrack V8 version</h3>\n\n<p>Node uses V8 engine, so determining which version of V8 is included in Node tells us what ES6 language features are supported. You can find out which version of V8 was bundled in Node with <code>node -p process.versions.v8</code>. </p>\n\n<pre><code>$ node -p process.versions.v8\n4.6.85.31\n</code></pre>\n\n<p>Then using Google's V8 project resources you can find which features are implemented in each version. The V8 project keeps an <a href=\"https://bugs.chromium.org/p/v8/issues/list?can=1&amp;q=label%3Aharmony\" rel=\"nofollow\">issue tracker</a> where you can find ES6+beyond features marked with the <em>harmony</em> label.</p>\n", "title": "ECMAScript 6 features available in Node.js 0.12", "answer_id": 36131064, "question_id": 28388885, "tags": ["javascript", "node.js", "v8", "ecmascript-6"]}], "question_id": 28388885}, {"body": "<p>I'm installing openshift client tools as described: <a href=\"https://developers.openshift.com/en/getting-started-windows.html#client-tools\">https://developers.openshift.com/en/getting-started-windows.html#client-tools</a>.\nOn step 'Setting up Your Machine' I got error:</p>\n\n<blockquote>\n  <p>rhc setup\n  C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n  : cannot load such file -- dl/import (LoadError)</p>\n</blockquote>\n\n<p>Full stack trace:</p>\n\n<pre><code>C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require': cannot load such file -- dl/import (LoadError)\n        from C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/net-ssh-2.9.2/lib/net/ssh/authentication/pageant.rb:1:in `&lt;top (required)&gt;'\n        from C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/net-ssh-2.9.2/lib/net/ssh/authentication/agent/socket.rb:5:in `&lt;top (required)&gt;'\n        from C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/net-ssh-2.9.2/lib/net/ssh/authentication/agent.rb:22:in `&lt;top (required)&gt;'\n        from C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/net-ssh-2.9.2/lib/net/ssh/authentication/key_manager.rb:4:in `&lt;top (required)&gt;'\n        from C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/net-ssh-2.9.2/lib/net/ssh/authentication/session.rb:4:in `&lt;top (required)&gt;'\n        from C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/net-ssh-2.9.2/lib/net/ssh.rb:11:in `&lt;top (required)&gt;'\n        from C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/rhc-1.35.1/lib/rhc/ssh_helpers.rb:18:in `&lt;top (required)&gt;'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/rhc-1.35.1/lib/rhc/wizard.rb:77:in `&lt;class:Wizard&gt;'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/rhc-1.35.1/lib/rhc/wizard.rb:7:in `&lt;module:RHC&gt;'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/rhc-1.35.1/lib/rhc/wizard.rb:6:in `&lt;top (required)&gt;'\n        from C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/rhc-1.35.1/lib/rhc/commands/base.rb:4:in `&lt;top (required)&gt;'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/rhc-1.35.1/lib/rhc/commands/account.rb:2:in `&lt;module:Commands&gt;'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/rhc-1.35.1/lib/rhc/commands/account.rb:1:in `&lt;top (required)&gt;'\n        from C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from C:/Ruby22-x64/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/rhc-1.35.1/lib/rhc/commands.rb:189:in `block in load'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/rhc-1.35.1/lib/rhc/commands.rb:188:in `each'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/rhc-1.35.1/lib/rhc/commands.rb:188:in `load'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/rhc-1.35.1/lib/rhc/cli.rb:36:in `start'\n        from C:/Ruby22-x64/lib/ruby/gems/2.2.0/gems/rhc-1.35.1/bin/rhc:20:in `&lt;top (required)&gt;'\n        from C:/Ruby22-x64/bin/rhc:23:in `load'\n        from C:/Ruby22-x64/bin/rhc:23:in `&lt;main&gt;'\n</code></pre>\n\n<p>I found same problem: <a href=\"https://groups.google.com/forum/#!topic/supmua/hPyTTamhTyc\">https://groups.google.com/forum/#!topic/supmua/hPyTTamhTyc</a>\nIt's suggest to replace DL with Fiddle. </p>\n\n<p>How I can get working rhc?</p>\n", "title": "rhc setup gives error `no such file dl/import`", "tags": ["ruby", "openshift"], "answer_count": 7, "link": "http://stackoverflow.com/questions/28896733/rhc-setup-gives-error-no-such-file-dl-import", "answers": [{"body": "<p>Updating net-ssh to 2.9.3.beta1, as <a href=\"http://stackoverflow.com/users/4231385/cremno\">cremno</a> suggested in <a href=\"http://stackoverflow.com/questions/28896733/rhc-setup-gives-error-no-such-file-dl-import#comment46054598_28896733\">this comment</a>, resolved my problem.</p>\n\n<pre><code>gem install net-ssh -v 2.9.3.beta1\n</code></pre>\n\n<p>Before that, I tried <code>gem install net-ssh</code>, but it didn't help.</p>\n", "title": "rhc setup gives error `no such file dl/import`", "answer_id": 28900142, "question_id": 28896733, "tags": ["ruby", "openshift"]}, {"body": "<p>I ran into this problem when I used the latest version of Ruby (currently 2.2.1) as stated on the OpenShift setup instructions. I fixed it by:</p>\n\n<ol>\n<li>Installing Ruby 1.9.3</li>\n<li>Re-running \"gem install rhc\"</li>\n</ol>\n\n<p>After that, I was able to run \"rhc setup\" without any issue.</p>\n", "title": "rhc setup gives error `no such file dl/import`", "answer_id": 28959533, "question_id": 28896733, "tags": ["ruby", "openshift"]}, {"body": "<p>Use the <strong>RHC tested</strong> Ruby version instead of the latest. As of today it is <a href=\"http://rubyinstaller.org/downloads/archives\">1.9.3-p194</a></p>\n", "title": "rhc setup gives error `no such file dl/import`", "answer_id": 33687958, "question_id": 28896733, "tags": ["ruby", "openshift"]}, {"body": "<p>Try using/installing a lower version of ruby after uninstalling the 2,2,0 because some windows version conflict with ruby version you are using. I tried 2.2.3 and then lowered to 2.2.0 and it worked for me.</p>\n", "title": "rhc setup gives error `no such file dl/import`", "answer_id": 34373994, "question_id": 28896733, "tags": ["ruby", "openshift"]}, {"body": "<p>If you are running <strong>Windows 10</strong> Pro x64, try installing <code>Ruby</code> <a href=\"http://rubyinstaller.org/downloads/\">2.1.8 (x64)</a> with <a href=\"http://www.git-scm.com/download/win\">Git Version 2.7.0</a>. This will surely allow you to run <code>rhc setup</code> as it did happened with me. Earlier I had a problem running &amp; installing latest version of <code>Ruby 2.2.4 (x64)</code> but when I downgraded to ruby version <code>2.1.8 (x64)</code> I was able to run <code>rhc setup</code> and configure <code>OpenShift client tools</code>on Windows. See the image for Ruby version I'm using - <code>ruby 2.1.8p440 (2015-12-16 revision 53160) [x64-mingw32]</code></p>\n\n<p><a href=\"http://i.stack.imgur.com/FnfRV.png\"><img src=\"http://i.stack.imgur.com/FnfRV.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://developers.openshift.com/en/getting-started-windows.html#client-tools\">Read here</a> for getting started to <code>OpenShift client tools</code> on windows.</p>\n", "title": "rhc setup gives error `no such file dl/import`", "answer_id": 35231025, "question_id": 28896733, "tags": ["ruby", "openshift"]}, {"body": "<p>I ran into this same error, and none of the solutions worked for me. In a last attempt, I installed the Ruby 1.9.3-p551 version and the rhc setup went smoothly. I use a Windows 10 machine.</p>\n", "title": "rhc setup gives error `no such file dl/import`", "answer_id": 35392329, "question_id": 28896733, "tags": ["ruby", "openshift"]}, {"body": "<p>I am running Windows 10 Pro x64. I installed Ruby 2.1.8 (x64) with Git Version 2.7.2. Rhc was installed successfully. However, \"rhc snapshot save ...\" command had problem with net-ssh. However, after restarting windows 10 the errors was gone. </p>\n\n<p>Remember to try reboot your windows. </p>\n", "title": "rhc setup gives error `no such file dl/import`", "answer_id": 35842848, "question_id": 28896733, "tags": ["ruby", "openshift"]}], "question_id": 28896733}, {"body": "<p>I am getting the following error on iOS 9:</p>\n\n<pre><code>    -[UIApplication_handleNonLaunchSpecificActions:\n      forScene:\n      withTransitionContext:\n      completion:] unhandled action -&gt; \n      &lt;FBSSceneSnapshotAction: 0x150b2aef0&gt; \n       {\n            handler          = remote;\n            info = &lt;BSSettings: 0x15333f650&gt; \n            {\n                (1) = 5;\n            };\n        }\n</code></pre>\n\n<p>Has anyone else come across this error or it's implications? What is wrong?</p>\n", "title": "Error: _handleNonLaunchSpecificActions in iOS9", "tags": ["ios", "objective-c", "xcode", "ios9"], "answer_count": 1, "link": "http://stackoverflow.com/questions/32344082/error-handlenonlaunchspecificactions-in-ios9", "answers": [{"body": "<p>There is nothing wrong with your code. This is a logging message internal to Apple, and you should file a radar about it.</p>\n\n<p>There are two hints that show that this is <em>probably</em> Apple's code: </p>\n\n<ol>\n<li><p>The underscore leading the method name <code>_handleNonLaunchSpecificActions:forScene:withTransitionContext:completion</code> is a convention indicating that the method is private/internal to the class that it's declared in. (See <a href=\"http://stackoverflow.com/questions/822487/how-does-an-underscore-in-front-of-a-variable-in-a-cocoa-objective-c-class-work#comment632212_822995\">this comment</a>.) </p></li>\n<li><p>It's reasonable to guess that the two letter prefix in <code>FBSSceneSnapshotAction</code> is shorthand for FrontBoard, which according to Rene Ritchie in \"<a href=\"http://www.imore.com/ios-9-wish-list-guest-mode\">iOS 9 wish-list: Guest Mode\"</a> is part of the whole family of software related to launching apps:</p></li>\n</ol>\n\n<blockquote>\n  <p>With iOS 8, Apple refactored its system manager, SpringBoard, into several smaller, more focused components. In addition to BackBoard, which was already spun off to handle background tasks, they added Frontboard for foreground tasks. They also added PreBoard to handle the Lock screen under secure, encrypted conditions. [...]</p>\n</blockquote>\n\n<p>I have no idea what the <code>BS</code> prefix in <code>BSSettings</code> is for, but an analysis of this log message would indicate that it's not anything you did, and you should file a radar with steps to reproduce the logging message.</p>\n\n<p>If you want to try and grab a stack trace, you can implement <a href=\"http://stackoverflow.com/a/33034072/224988\">the category linked to here</a>. Some would argue that overriding private API is a bad idea, but in this case a temporary injection to grab a stack trace can't be too harmful.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>But, we still want to know what this action is. So I put a breakpoint on <code>-[UIApplication _handleNonLaunchSpecificActions:forScene:withTransitionContext:completion]</code> and started printing out register values and found a class called <code>FBSceneImpl</code> which had a whole bunch of information about my application:</p>\n\n<p><a href=\"http://i.stack.imgur.com/3AtmQ.png\"><img src=\"http://i.stack.imgur.com/3AtmQ.png\" alt=\"Scene\"></a></p>\n\n<p>We are able to find out which private method is called next (stored in the program counter, register 15.)</p>\n\n<p><a href=\"http://i.stack.imgur.com/GSQxY.png\"><img src=\"http://i.stack.imgur.com/GSQxY.png\" alt=\"Program Counter\"></a></p>\n\n<p>I tried finding the un-handled <code>FBSceneSnapshotAction</code> referenced in the log, but no dice. Then, I subclassed UIApplication, and overrode <code>_handleNonLaunchSpecificActions:forScene:withTransitionContext:completion</code>. Now I was able to get at the action directly, but still, we don't know what it is. </p>\n\n<p>Then, I looked at the FBSceneSnapshotAction again. Turns out it has a superclass called <code>BSAction</code>.</p>\n\n<p>Then I wrote <a href=\"https://github.com/mosheberman/introspector\">a tool</a> similar to <a href=\"https://github.com/nst/RuntimeBrowser\">RuntimeBrowser</a> and looked up all of the subclasses of BSAction. It turns out that there's quite a list of them: </p>\n\n<p><a href=\"http://i.stack.imgur.com/WEm3p.png\"><img src=\"http://i.stack.imgur.com/WEm3p.png\" alt=\"Action List\"></a></p>\n\n<p>The two method names we have (one from the log and one from the program counter on the devices) indicate that these actions are used under the hood for passing actions around the system. </p>\n\n<p>Some actions are probably sent up to the app delegate's callbacks, while others are handled internally. </p>\n\n<p>What's happening here is that there is an action that wasn't  handled correctly and the system is noting it. We weren't supposed to see it, apparently.</p>\n", "title": "Error: _handleNonLaunchSpecificActions in iOS9", "answer_id": 34911563, "question_id": 32344082, "tags": ["ios", "objective-c", "xcode", "ios9"]}], "question_id": 32344082}, {"body": "<p>I'm working on an old code base and pretty much every invocation of free() uses a cast on its argument. For example,</p>\n\n<pre><code>free((float *)velocity);\nfree((float *)acceleration);\nfree((char *)label);\n</code></pre>\n\n<p>where each pointer is of the corresponding (and matching) type. I see no point in doing this at all. It's very old code, so I'm left wondering if it's a K&amp;R thing. If so, I actually wish to support the old compilers that may have required this, so I don't want to remove them.</p>\n\n<p>Is there a technical reason to use these casts? I don't even see much of a pragmatic reason to use them. What's the point of reminding ourselves of the data type right before freeing it?</p>\n\n<p>EDIT: This question is <em>not</em> a duplicate of the other question. The other question is a special case of this question, which I think is obvious if the close voters would read all the answers.</p>\n\n<p>Colophon: I'm giving the \"const answer\" the checkmark because it is a bonafide real reason why this might need to be done; however, the answer about it being a pre-ANSI C custom (at least among some programmers) seems to be the reason it was used in my case. Lots of good points by many people here. Thank you for your contributions.</p>\n", "title": "In C, why do some people cast the pointer before freeing it?", "tags": ["c", "pointers", "casting"], "answer_count": 7, "link": "http://stackoverflow.com/questions/34019977/in-c-why-do-some-people-cast-the-pointer-before-freeing-it", "answers": [{"body": "<p>Here's an example where free would fail without a cast:</p>\n\n<pre><code>volatile int* p = (volatile int*)malloc(5 * sizeof(int));\nfree(p);        // fail: warning C4090: 'function' : different 'volatile' qualifiers\nfree((int*)p);  // success :)\nfree((void*)p); // success :)\n</code></pre>\n\n<p>In C you can get a warning (got one in VS2012). In C++ you'll get an error.</p>\n\n<p>Rare cases aside, the casting just bloats the code...</p>\n\n<p><strong>Edit:</strong>\nI casted to <code>void*</code> not <code>int*</code> to demo the failure. It will work the same as <code>int*</code> will be converted to <code>void*</code> implicitly. Added <code>int*</code> code.</p>\n", "title": "In C, why do some people cast the pointer before freeing it?", "answer_id": 34020230, "question_id": 34019977, "tags": ["c", "pointers", "casting"]}, {"body": "<p>The cast to <code>char *</code>, for example, is not only unnecessary, it's wrong.</p>\n\n<p>Casting to <code>float *</code> or <code>char *</code> is incorrect.</p>\n\n<pre><code>free((float *)velocity);\nfree((float *)acceleration);\nfree((char *)label);\n</code></pre>\n\n<p>Per the <a href=\"http://www.open-std.org/jtc1/sc22/wg14/www/docs/n1570.pdf\" rel=\"nofollow\">C standard</a>, <code>free()</code> is declared as:</p>\n\n<blockquote>\n  <p><strong>7.22.3.3 The <code>free</code> function</strong> </p>\n  \n  <p><strong>Synopsis</strong></p>\n</blockquote>\n\n<pre><code>1    #include &lt;stdlib.h&gt;\n     void free(void *ptr);\n</code></pre>\n\n<p>And a pointer can always be converted to and from <code>void *</code> with no cast:</p>\n\n<blockquote>\n  <p><strong>6.3.2.3 Pointers</strong></p>\n  \n  <p>A pointer to <code>void</code> may be converted to or from a pointer to any object type.  A pointer to any object type may be\n  converted to a pointer to <code>void</code> and back again; the result shall\n  compare equal to the original pointer.</p>\n</blockquote>\n", "title": "In C, why do some people cast the pointer before freeing it?", "answer_id": 34020245, "question_id": 34019977, "tags": ["c", "pointers", "casting"]}, {"body": "<p>Casting may be required to resolve compiler warnings if the pointers are <code>const</code>. Here is an example of code that causes a warning without casting the argument of free:</p>\n\n<pre><code>const float* velocity = malloc(2*sizeof(float));\nfree(velocity);\n</code></pre>\n\n<p>And the compiler (gcc 4.8.3) says:</p>\n\n<pre><code>main.c: In function \u2018main\u2019:\nmain.c:9:5: warning: passing argument 1 of \u2018free\u2019 discards \u2018const\u2019 qualifier from pointer target type [enabled by default]\n     free(velocity);\n     ^\nIn file included from main.c:2:0:\n/usr/include/stdlib.h:482:13: note: expected \u2018void *\u2019 but argument is of type \u2018const float *\u2019\n extern void free (void *__ptr) __THROW;\n</code></pre>\n\n<p>If you use <code>free((float*) velocity);</code> the compiler stops complaining.</p>\n", "title": "In C, why do some people cast the pointer before freeing it?", "answer_id": 34020338, "question_id": 34019977, "tags": ["c", "pointers", "casting"]}, {"body": "<p>free takes in only non-const pointers as parameter. So in case of const pointers, explicit casting to a non-const pointer is required.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/2819535/unable-to-free-const-pointers-in-c\">Unable to free const pointers in C</a></p>\n", "title": "In C, why do some people cast the pointer before freeing it?", "answer_id": 34020925, "question_id": 34019977, "tags": ["c", "pointers", "casting"]}, {"body": "<p>Pre-standard C had no <code>void*</code> but only <code>char*</code>, so you had to cast all parameters passed. If you come across ancient C code, you might therefore find such casts. </p>\n\n<p><a href=\"http://stackoverflow.com/questions/32652213/why-does-the-book-say-i-must-cast-malloc\">Similar question with references</a>.</p>\n\n<p>When the first C standard was released, the prototypes for malloc and free changed from having <code>char*</code> to the <code>void*</code> that they still have today.</p>\n\n<p>And of course in standard C, such casts are superfluous and just harm readability.</p>\n", "title": "In C, why do some people cast the pointer before freeing it?", "answer_id": 34021020, "question_id": 34019977, "tags": ["c", "pointers", "casting"]}, {"body": "<p>Old reason: 1. By using <code>free((sometype*) ptr)</code>, code is explicit about the type the pointer should be considered as part of the <code>free()</code> call.  The explicit cast is useful when <code>free()</code> is replaced with a (do-it-yourself) <code>DIY_free()</code>.</p>\n\n<pre><code>#define free(ptr) DIY_free(ptr, sizeof (*ptr))\n</code></pre>\n\n<p>A <code>DIY_free()</code> was (is) a way, especially in debug mode, to do run-time analysis of the pointer being freed.  This is often paired with a <code>DIY_malloc()</code> to add sententials, global memory usage counts, etc.  My group used this technique for years before more modern tools appear.  It obliged that the item being free'd was cast to the type is was originally allocated.</p>\n\n<ol start=\"2\">\n<li>Given the many hours spent tracking down memory issues, etc., little tricks like casting the type free'd would aid in searching and narrowing the debugging.</li>\n</ol>\n\n<hr>\n\n<p>Modern: Avoiding <code>const</code> and <code>volatile</code> warnings as addressed by <a href=\"http://stackoverflow.com/a/34020338/2410359\">Manos Nikolaidis@</a> and <a href=\"http://stackoverflow.com/a/34020230/2410359\">@egur</a>.  Thought I would note the effects of the 3 <em>qualifiers</em>: <code>const</code>, <code>volatile</code>, and <code>restrict</code>.</p>\n\n<p>[edit] Added <code>char * restrict *rp2</code> per <a href=\"http://stackoverflow.com/questions/34019977/in-c-why-do-some-people-cast-the-pointer-before-freeing-it/34023762?noredirect=1#comment55807464_34023762\">@R.. comment</a></p>\n\n<pre><code>void free_test(const char *cp, volatile char *vp, char * restrict rp, \n    char * restrict *rp2) {\n  free(cp);  // warning\n  free(vp);  // warning\n  free(rp);  // OK\n  free(rp2);  // warning\n}\n\nint main(void) {\n  free_test(0,0,0,0);\n  return 0;\n}\n</code></pre>\n", "title": "In C, why do some people cast the pointer before freeing it?", "answer_id": 34023762, "question_id": 34019977, "tags": ["c", "pointers", "casting"]}, {"body": "<p>Here is another alternative hypothesis.</p>\n\n<p>We are told that the program was written pre-C89, which means it can't be working around some kind of mismatch with the prototype of <code>free</code>, because not only was there no such thing as <code>const</code> nor <code>void *</code> prior to C89, there was no such thing as a <em>function prototype</em> prior to C89.  <code>stdlib.h</code> itself was an invention of the committee.  If the system headers bothered to declare <code>free</code> at all, they would have done it like this:</p>\n\n<pre><code>extern free();  /* no `void` return type either! */\n</code></pre>\n\n<p>Now, the key point here is that the absence of function prototypes meant the compiler did <em>no argument type checking</em>.  It applied the default argument promotions (the same ones that still apply to variadic function calls) and that was it.  Responsibility for making the arguments at each callsite line up with the callee's expectations lay <em>entirely</em> with the programmer.</p>\n\n<p>However, this still doesn't mean it was necessary to cast the argument to <code>free</code> on most K&amp;R compilers.  A function like</p>\n\n<pre><code>free_stuff(a, b, c)\n    float *a;\n    char *b;\n    int *c;\n{\n    free(a);\n    free(b);\n    free(c);\n}\n</code></pre>\n\n<p>should have been compiled correctly.  So I think what we've got here is a program written to cope with a buggy compiler for an unusual environment: for instance, an environment where <code>sizeof(float *) &gt; sizeof(int)</code> and the compiler <em>wouldn't</em> use the appropriate calling convention for pointers unless you cast them at the point of the call.</p>\n\n<p>I am not aware of any such environment, but that doesn't mean there wasn't one.  The most probable candidates that come to mind are cut-down \"tiny C\" compilers for 8- and 16-bit micros in the early 1980s.  I also wouldn't be surprised to learn that early Crays had problems like this.</p>\n", "title": "In C, why do some people cast the pointer before freeing it?", "answer_id": 34054970, "question_id": 34019977, "tags": ["c", "pointers", "casting"]}], "question_id": 34019977}, {"body": "<p>I am starting to learn Swift, and have been following the very good Stanford University video lectures on YouTube. Here is a link if you are interested or it helps (although it isn't required to understand my problem):</p>\n\n<p><a href=\"https://itunes.apple.com/ca/course/2.-more-xcode-and-swift-mvc/id961180099?i=333886879&amp;mt=2\">Developing iOS 8 Apps with Swift - 2. More Xcode and Swift, MVC</a></p>\n\n<p>While following the lectures I got to a point where (as far as I could tell) my code was identical to the code in the video but on my system I got a compiler error. After a lot of trial and error I have managed to reduce my code to two examples, one of which generates an error, the other or which doesn't, but I have no idea what is actually causing the error or how to resolve it.</p>\n\n<p>The code which creates the error is:</p>\n\n<pre><code>import UIKit\n\nclass BugViewController: UIViewController\n{\n    func perform(operation: (Double) -&gt; Double) {\n    }\n\n    func perform(operation: (Double, Double) -&gt; Double) {\n    }\n}\n</code></pre>\n\n<p>This creates the following compiler error:</p>\n\n<blockquote>\n  <p>Method 'perform' with Objective-C selector 'perform: ' conflicts with previous declaration with the same Objective-C selector</p>\n</blockquote>\n\n<p>By simply removing the sub-classing of UIViewController the code compiles:</p>\n\n<pre><code>import UIKit\n\nclass BugViewController\n{\n    func perform(operation: (Double) -&gt; Double) {\n    }\n\n    func perform(operation: (Double, Double) -&gt; Double) {\n    }\n}\n</code></pre>\n\n<p>Some other information which may or may not be relevant:</p>\n\n<ul>\n<li>I have recently upgraded to Yosemite.</li>\n<li>When I installed Xcode, I ended up with a Beta version (Version 6.3 (6D543q)) because (if I remember correctly) this was the version I needed to run on my version of OS X.</li>\n</ul>\n\n<p>I am half hoping this is a bug in the compiler because otherwise this doesn't make any sense to me. Any help very gratefully received!</p>\n", "title": "Compiler error: Method with Objective-C selector conflicts with previous declaration with the same Objective-C selector", "tags": ["swift"], "answer_count": 6, "link": "http://stackoverflow.com/questions/29457720/compiler-error-method-with-objective-c-selector-conflicts-with-previous-declara", "answers": [{"body": "<p>Objective-C does not support method overloading, you have to use a different method name. When you inherited UIViewController you inherited NSObject and made the class interopable to Obj-C. Swift on the other hand does support overloading, that's why it works when you remove the inheritance.</p>\n", "title": "Compiler error: Method with Objective-C selector conflicts with previous declaration with the same Objective-C selector", "answer_id": 29457777, "question_id": 29457720, "tags": ["swift"]}, {"body": "<p>The problem is <code>UIViewController</code> is an <code>@objc</code> class. When inheriting from <code>UIViewController</code>, <code>BugViewController</code> is also a <code>@objc</code> class.</p>\n\n<p>This means it must conform to the rules of Objective-C selectors (the name of a method). The methods <code>func perform(operation: (Double) -&gt; Double)</code> and <code>func perform(operation: (Double, Double) -&gt; Double)</code> both have the same selector <code>@selector(perform:)</code>. This is not allowed.</p>\n\n<p>To resolve this, use different names: like <code>func perform1(operation: (Double) -&gt; Double)</code> and <code>func perform2(operation: (Double, Double) -&gt; Double)</code>.</p>\n\n<hr>\n\n<p>I think the best way to handle this is to give your <code>perform()</code> methods more descriptive names. What do these methods do? How do they change the state of the view controller? Look at the other <code>UIViewController</code> methods to get a feel for the style of method naming, or read <a href=\"https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/Conventions/Conventions.html\">Method Names Should Be Expressive and Unique Within a Class</a></p>\n", "title": "Compiler error: Method with Objective-C selector conflicts with previous declaration with the same Objective-C selector", "answer_id": 29457787, "question_id": 29457720, "tags": ["swift"]}, {"body": "<p>I myself am also taking the Standford course and I got stuck here for a long time too, but after some searching, I found something from here: <a href=\"https://developer.apple.com/library/ios/releasenotes/DeveloperTools/RN-Xcode/Chapters/Introduction.html\">Xcode release notes</a> and it mentioned something below: </p>\n\n<blockquote>\n  <p>Swift 1.2 is strict about checking type-based overloading of @objc\n  methods and initializers, something not supported by Objective-C.</p>\n\n<pre><code>// Has the Objective-C selector \"performOperation:\".\nfunc performOperation(op: NSOperation) { /* do something */ }\n// Also has the selector \"performOperation:\".\nfunc performOperation(fn: () -&gt; Void) {\n    self.performOperation(NSBlockOperation(block: fn))\n}\n</code></pre>\n  \n  <p>This code would work when invoked from Swift, but could easily crash\n  if invoked from Objective-C. To solve this problem, use a type that is\n  not supported by Objective-C to prevent the Swift compiler from\n  exposing the member to the Objective-C runtime:</p>\n  \n  <ul>\n  <li>If it makes sense, mark the member as private to disable inference of @objc. </li>\n  <li>Otherwise, use a dummy parameter with a default value, for\n  example: _ nonobjc: () = (). (19826275) </li>\n  </ul>\n  \n  <p>Overrides of methods exposed\n  to Objective-C in private subclasses are not inferred to be @objc,\n  causing the Swift compiler to crash. Explicitly add the @objc\n  attribute to any such overriding methods. (19935352)</p>\n  \n  <p>Symbols from SDKs are not available when using Open Quickly in a\n  project or workspace that uses Swift. (20349540)</p>\n</blockquote>\n\n<p>what i did was just adding \"private\" in front of the override method like this:</p>\n\n<pre><code>    private func performOperation(operation: Double -&gt; Double) {\n    if operandStack.count &gt;= 1 {\n        displayValue = operation(operandStack.removeLast())\n        enter()\n    }\n}\n</code></pre>\n", "title": "Compiler error: Method with Objective-C selector conflicts with previous declaration with the same Objective-C selector", "answer_id": 29670644, "question_id": 29457720, "tags": ["swift"]}, {"body": "<p>From <a href=\"https://developer.apple.com/library/ios/releasenotes/DeveloperTools/RN-Xcode/Chapters/xc6_release_notes.html\" rel=\"nofollow\">https://developer.apple.com/library/ios/releasenotes/DeveloperTools/RN-Xcode/Chapters/xc6_release_notes.html</a> under \"Xcode 6.3 Release Notes\" -> \"Swift Language Changes\" you find</p>\n\n<blockquote>\n  <p>Swift now detects discrepancies between overloading and overriding in the Swift type system and the effective behavior seen via the Objective-C runtime.</p>\n</blockquote>\n", "title": "Compiler error: Method with Objective-C selector conflicts with previous declaration with the same Objective-C selector", "answer_id": 29686419, "question_id": 29457720, "tags": ["swift"]}, {"body": "<p>As it has already been answered, ObjC doesn't support method overloading (two methods with the same name) and In swift 2 under Xcode 7 there are two options to solve this kind of problems. One option is to rename the method using the attribute: <code>@objc(newNameMethod:)</code> </p>\n\n<pre><code>func methodOne(par1, par2) {...}\n\n@objc(methodTow:)\nfunc methodOne(par1) {...}\n</code></pre>\n\n<p>another option to solve this kind of problems in Xcode7 is by applying  <code>@nonobjc</code> attribute to any method, subscript or initialiser </p>\n\n<pre><code>func methodOne() {...}\n\n@nonobjc\nfunc methodOne() {...}\n</code></pre>\n", "title": "Compiler error: Method with Objective-C selector conflicts with previous declaration with the same Objective-C selector", "answer_id": 31500740, "question_id": 29457720, "tags": ["swift"]}, {"body": "<p>I got the same error due to having having two methods with the same Obj-C signature:</p>\n\n<pre><code>static func prepareForUpSyncing(obj : NSManagedObject!) -&gt; Bool\nstatic func prepareForUpSyncing(objs : [NSManagedObject]!) -&gt; Bool\n</code></pre>\n\n<p>I didn't want to mark one of them as @nonobjc due to possibility of unforseen consequences at runtime. (Someone can correct me if there is no possibility)</p>\n\n<p>Resolved it by using Swift's external parameter name feature (I made external name same as local name) to the second method, which effectively changes the Obj-c method signature:</p>\n\n<pre><code>static func prepareForUpSyncing(objs objs : [NSManagedObject]!) -&gt; Bool {\n</code></pre>\n", "title": "Compiler error: Method with Objective-C selector conflicts with previous declaration with the same Objective-C selector", "answer_id": 38619170, "question_id": 29457720, "tags": ["swift"]}], "question_id": 29457720}, {"body": "<p>Been encountering this error a lot in my OS X using swift: \"This application is modifying the autolayout engine from a background thread, which can lead to engine corruption and weird crashes.  This will cause an exception in a future release.\"</p>\n\n<p>I have a my NSWindow and I'm swapping in views to the contentView of the window. I get the error when I try and do a NSApp.beginSheet on the window, or when I add a subview to the window. Tried disabling autoresize stuff, and I don't have anything using auto layout. Any thoughts?</p>\n\n<p>Sometimes it's fine and nothing happens, other times it totally breaks my UI and nothing loads</p>\n", "title": "Getting a &quot;This application is modifying the autolayout engine&quot; error?", "tags": ["osx", "swift", "autolayout"], "answer_count": 11, "link": "http://stackoverflow.com/questions/28302019/getting-a-this-application-is-modifying-the-autolayout-engine-error", "answers": [{"body": "<p>Okay - found the answer. It needs to be placed inside a different thread that allows the UI to update:</p>\n\n<h2>Swift Version</h2>\n\n<pre><code>dispatch_async(dispatch_get_main_queue(), {\n    // code here\n})\n</code></pre>\n\n<h2>Objective-C Version</h2>\n\n<pre><code>dispatch_async(dispatch_get_main_queue(), ^{\n    // code here\n});\n</code></pre>\n", "title": "Getting a &quot;This application is modifying the autolayout engine&quot; error?", "answer_id": 28321213, "question_id": 28302019, "tags": ["osx", "swift", "autolayout"]}, {"body": "<p>Had the same problem\u00a0because I was using <code>performSelectorInBackground</code>.</p>\n", "title": "Getting a &quot;This application is modifying the autolayout engine&quot; error?", "answer_id": 31630070, "question_id": 28302019, "tags": ["osx", "swift", "autolayout"]}, {"body": "<p>I had this problem since updating to the iOS 9 SDK when I was calling a block that did UI updates within an NSURLConnection async request completion handler. Putting the block call in a dispatch_async using dispatch_main_queue solved the issue.</p>\n\n<p>It worked fine in iOS 8.</p>\n", "title": "Getting a &quot;This application is modifying the autolayout engine&quot; error?", "answer_id": 32702273, "question_id": 28302019, "tags": ["osx", "swift", "autolayout"]}, {"body": "<p>I had this issue when I was using TouchID if that helps anyone else, wrap your success logic which likely does something with the UI in the main queue. </p>\n", "title": "Getting a &quot;This application is modifying the autolayout engine&quot; error?", "answer_id": 33445522, "question_id": 28302019, "tags": ["osx", "swift", "autolayout"]}, {"body": "<p>I kept getting similar message/error too while debugging with some print statements without using 'dispatch_async'</p>\n\n<p>So when you get that error message, its time to use </p>\n\n<pre><code> dispatch_async(dispatch_get_main_queue()){\n   //code                            \n}\n</code></pre>\n", "title": "Getting a &quot;This application is modifying the autolayout engine&quot; error?", "answer_id": 34008856, "question_id": 28302019, "tags": ["osx", "swift", "autolayout"]}, {"body": "<p>When you try to update a text field value or adding a subview inside a background thread, you can get this problem. For that reason, you should put this kind of code in the main thread.</p>\n\n<p>You need to wrap methods that call UI updates with dispatch_asynch to get the main  queue. For example:</p>\n\n<pre><code>dispatch_async(dispatch_get_main_queue(), { () -&gt; Void in\n   self.friendLabel.text = \"You are following \\(friendCount) accounts\"\n})\n</code></pre>\n", "title": "Getting a &quot;This application is modifying the autolayout engine&quot; error?", "answer_id": 34335568, "question_id": 28302019, "tags": ["osx", "swift", "autolayout"]}, {"body": "<p>I had the same problem.  Turns out I was using <code>UIAlerts</code> that needed the main queue. But, they've been <em>deprecated</em>.<br>\nWhen I changed the <code>UIAlerts</code> to the <code>UIAlertController</code>, I no longer had the problem and did not have to use any <code>dispatch_async</code> code. The lesson - pay attention to warnings. They help even when you don't expect it.</p>\n", "title": "Getting a &quot;This application is modifying the autolayout engine&quot; error?", "answer_id": 35044523, "question_id": 28302019, "tags": ["osx", "swift", "autolayout"]}, {"body": "<p>You must not change the UI offside the main thread! UIKit is not thread safe, so that above problem and also some other weird problems will arise if you do that. The app can even crash.</p>\n\n<p>So, to do the UIKit operations, you need to define block and let it be executed on the main queue: such as,</p>\n\n<pre><code>NSOperationQueue.mainQueue().addOperationWithBlock {\n\n}\n</code></pre>\n", "title": "Getting a &quot;This application is modifying the autolayout engine&quot; error?", "answer_id": 35215778, "question_id": 28302019, "tags": ["osx", "swift", "autolayout"]}, {"body": "<p>It could be something as simple as setting a text field / label value or adding a subview inside a background thread, which may cause a field's layout to change. Make sure anything you do with the interface only happens in the main thread.</p>\n\n<p>Check this link: <a href=\"https://forums.developer.apple.com/thread/7399\" rel=\"nofollow\">https://forums.developer.apple.com/thread/7399</a></p>\n", "title": "Getting a &quot;This application is modifying the autolayout engine&quot; error?", "answer_id": 36814491, "question_id": 28302019, "tags": ["osx", "swift", "autolayout"]}, {"body": "<p>For me, this error message originated from a banner from Admob SDK. </p>\n\n<p>I was able to track the origin to \"WebThread\" by setting a conditional breakpoint.</p>\n\n<p><a href=\"http://i.stack.imgur.com/bYqev.png\"><img src=\"http://i.stack.imgur.com/bYqev.png\" alt=\"conditional breakpoint to find who is updating ui from background thread\"></a></p>\n\n<p>Then I was able to get rid of the issue by encapsulating the Banner creation with:</p>\n\n<pre><code>dispatch_async(dispatch_get_main_queue(), ^{\n   _bannerForTableFooter = [[GADBannerView alloc] initWithAdSize:kGADAdSizeSmartBannerPortrait];\n   ...\n}\n</code></pre>\n\n<p>I don't know why this helped as I cannot see how this code was called from a non-main-thread.</p>\n\n<p>Hope it can help anyone.</p>\n", "title": "Getting a &quot;This application is modifying the autolayout engine&quot; error?", "answer_id": 37421595, "question_id": 28302019, "tags": ["osx", "swift", "autolayout"]}, {"body": "<p>You already have the correct code answer from @Mark but, just to share my findings:\nThe issue is that you are requesting a change in the view and assuming that it will happen instantly. In reality, the loading of a view depends on the available resources. If everything loads quickly enough and there are no delays then you don't notice anything. In scenarios, where there is any delay due to the process thread being busy etc, the application runs into a situation where it is supposed to display something even though its not ready yet. Hence, it is advisable to dispatch these requests in a asynchronous queues so, they get executed based on the load. </p>\n", "title": "Getting a &quot;This application is modifying the autolayout engine&quot; error?", "answer_id": 38818238, "question_id": 28302019, "tags": ["osx", "swift", "autolayout"]}], "question_id": 28302019}, {"body": "<p>I am trying to understand what is the motivation behind using Python's library functions for executing OS-specific tasks such as creating files/directories, changing file attributes, etc. instead of just executing those commands via <code>os.system()</code> or <code>subprocess.call()</code>?</p>\n\n<p>For example, why would I want to use <code>os.chmod</code> instead of doing <code>os.system(\"chmod...\")</code>? </p>\n\n<p>I understand that it is more \"pythonic\" to use Python's available library methods as much as possible instead of just executing shell commands directly. But, is there any other motivation behind doing this from a functionality point of view? </p>\n\n<p>I am only talking about executing simple one-line shell commands here. When we need more control over the execution of the task, I understand that using <code>subprocess</code> module makes more sense, for example.</p>\n", "title": "Why use Python&#39;s os module methods instead of executing shell commands directly?", "tags": ["python", "linux", "operating-system"], "answer_count": 6, "link": "http://stackoverflow.com/questions/28572833/why-use-pythons-os-module-methods-instead-of-executing-shell-commands-directly", "answers": [{"body": "<p>There are four strong cases for preferring Python's more-specific methods in the <a href=\"https://docs.python.org/2/library/os.html\"><code>os</code></a> module over using <a href=\"https://docs.python.org/2/library/os.html#os.system\"><code>os.system</code></a> or the <a href=\"https://docs.python.org/2/library/subprocess.html\"><code>subprocess</code></a> module when executing a command:</p>\n\n<ul>\n<li><strong>Redundancy</strong> - spawning another process is redundant and wastes time and resources.</li>\n<li><strong>Portability</strong> - Many of the methods in the <code>os</code> module are available in multiple platforms while many shell commands are os-specific.</li>\n<li><strong>Understanding the results</strong> - Spawning a process to execute arbitrary commands forces you to parse the results from the output and understand <strong>if</strong> and <strong>why</strong> a command has done something wrong.</li>\n<li><strong>Safety</strong> - A process can potentially execute any command it's given. This is a weak design and it can be avoided by using specific methods in the <code>os</code> module.</li>\n</ul>\n\n<h2>Redundancy (see <a href=\"http://en.wikipedia.org/wiki/Redundant_code\"><em>redundant code</em></a>):</h2>\n\n<p>You're actually executing a redundant \"middle-man\" on your way to the eventual system calls (<code>chmod</code> in your example). This middle man is a new process or sub-shell.</p>\n\n<p>From <a href=\"https://docs.python.org/2/library/os.html#os.system\"><code>os.system</code></a>:</p>\n\n<blockquote>\n  <p>Execute the command (a string) in a subshell ...</p>\n</blockquote>\n\n<p>And <a href=\"https://docs.python.org/2/library/subprocess.html\"><code>subprocess</code></a> is just a module to spawn new processes.</p>\n\n<p>You can do what you need without spawning these processes.</p>\n\n<h2>Portability (see <a href=\"http://en.wikipedia.org/wiki/Software_portability#Source_code_portability\"><em>source code portability</em></a>):</h2>\n\n<p>The <a href=\"https://docs.python.org/2/library/os.html\"><code>os</code></a> module's aim is to provide generic operating-system services and it's description starts with:</p>\n\n<blockquote>\n  <p>This module provides a portable way of using operating system dependent functionality.</p>\n</blockquote>\n\n<p>You can use <a href=\"https://docs.python.org/2/library/os.html#os.listdir\"><code>os.listdir</code></a> on both windows and unix. Trying to use <code>os.system</code> / <code>subprocess</code> for this functionality will force you to maintain two calls (for <code>ls</code> / <code>dir</code>) and check what operating system you're on. This is not as portable and <strong>will</strong> cause even more frustration later on (see <strong>Handling Output</strong>).</p>\n\n<h2>Understanding the command's results:</h2>\n\n<p>Suppose you want to list the files in a directory.</p>\n\n<p>If you're using <code>os.system(\"ls\")</code> / <code>subprocess.call(['ls'])</code>, you can only get the process's output back, which is basically a big string with the file names.</p>\n\n<p>How can you tell a file with a space in it's name from two files?</p>\n\n<p>What if you have no permission to list the files?</p>\n\n<p>How should you map the data to python objects?</p>\n\n<p>These are only off the top of my head, and while there are solutions to these problems - why solve again a problem that was solved for you?</p>\n\n<p>This is an example of following the <a href=\"http://en.wikipedia.org/wiki/Don&#39;t_repeat_yourself\">Don't Repeat Yourself</a> principle (Often reffered to as \"DRY\") by <strong>not</strong> repeating an implementation that already exists and is freely available for you.</p>\n\n<h2>Safety:</h2>\n\n<p><code>os.system</code> and <code>subprocess</code> are powerful. It's good when you need this power, but it's dangerous when you don't. When you use <code>os.listdir</code>, you <strong>know</strong> it can not do anything else other then list files or raise an error. When you use <code>os.system</code> or <code>subprocess</code> to achieve the same behaviour you can potentially end up doing something you did not mean to do.</p>\n\n<p><strong>Injection Safety (see <a href=\"http://en.wikipedia.org/wiki/Code_injection#Shell_injection\"><em>shell injection examples</em></a>)</strong>:</p>\n\n<p>If you use input from the user as a new command you've basically given him a shell. This is much like SQL injection providing a shell in the DB for the user.</p>\n\n<p>An example would be a command of the form:</p>\n\n<pre><code># ... read some user input\nos.system(user_input + \" some continutation\")\n</code></pre>\n\n<p>This can be easily exploited to run <strong>any</strong> arbitrary code using the input: <code>NASTY COMMAND;#</code> to create the eventual:</p>\n\n<pre><code>os.system(\"NASTY COMMAND; # some continuation\")\n</code></pre>\n\n<p>There are many such commands that can put your system at risk.</p>\n", "title": "Why use Python&#39;s os module methods instead of executing shell commands directly?", "answer_id": 28572898, "question_id": 28572833, "tags": ["python", "linux", "operating-system"]}, {"body": "<p>For a simple reason  - when you call a shell function, it creates a sub-shell which is destroyed after your command exists, so if you change directory in a shell - it does not affect your environment in Python.</p>\n\n<p>Besides, creating sub-shell is time consuming, so using OS commands directly will impact your performance</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I had some timing tests running:</p>\n\n<pre><code>In [379]: %timeit os.chmod('Documents/recipes.txt', 0755)\n10000 loops, best of 3: 215 us per loop\n\nIn [380]: %timeit os.system('chmod 0755 Documents/recipes.txt')\n100 loops, best of 3: 2.47 ms per loop\n\nIn [382]: %timeit call(['chmod', '0755', 'Documents/recipes.txt'])\n100 loops, best of 3: 2.93 ms per loop\n</code></pre>\n\n<p>Internal function runs more than 10 time faster</p>\n\n<p><strong>EDIT2</strong></p>\n\n<p>There may be cases when invoking external executable may yield better results than Python packages - I just remembered a mail sent by a colleague of mine that  performance of <em>gzip</em> called through subprocess was much higher than the performance of a Python package he used. But certainly not when we are talking about standard OS packages emulating standard OS commands</p>\n", "title": "Why use Python&#39;s os module methods instead of executing shell commands directly?", "answer_id": 28572958, "question_id": 28572833, "tags": ["python", "linux", "operating-system"]}, {"body": "<p>It is safer. To give you an idea here is an example script</p>\n\n<pre><code>import os\nfile = raw_input(\"Please enter a file: \")\nos.system(\"chmod 777 \" + file)\n</code></pre>\n\n<p>If the input from the user was <code>test; rm -rf ~</code> this would then delete the home directory. </p>\n\n<p>This is why it is safer to use the built in function. </p>\n\n<p>Hence why you should use subprocess instead of system too. </p>\n", "title": "Why use Python&#39;s os module methods instead of executing shell commands directly?", "answer_id": 28572983, "question_id": 28572833, "tags": ["python", "linux", "operating-system"]}, {"body": "<p>Shell call are OS specific whereas Python os module functions are not, in most of the case. And it avoid spawning a subprocess.</p>\n", "title": "Why use Python&#39;s os module methods instead of executing shell commands directly?", "answer_id": 28573425, "question_id": 28572833, "tags": ["python", "linux", "operating-system"]}, {"body": "<p>It's far more efficient. The \"shell\" is just another OS binary which contains a lot of system calls. Why incur the overhead of creating the whole shell process just for that single system call?</p>\n\n<p>The situation is even worse when you use <code>os.system</code> for something that's not a shell built-in. You start a shell process which in turn starts an executable which then (two processes away) makes the system call. At least <code>subprocess</code> would have removed the need for a shell intermediary process.</p>\n\n<p>It's not specific to Python, this. <code>systemd</code> is such an improvement to Linux startup times for the same reason: it makes the necessary system calls itself instead of spawning a thousand shells.</p>\n", "title": "Why use Python&#39;s os module methods instead of executing shell commands directly?", "answer_id": 28582402, "question_id": 28572833, "tags": ["python", "linux", "operating-system"]}, {"body": "<ol>\n<li><p>It's <strong>faster</strong>, <code>os.system</code> and <code>subprocess.call</code> create new processes which is unnecessary for something this simple. In fact, <code>os.system</code> and <code>subprocess.call</code> with the <code>shell</code> argument usually create at least two new processes: the first one being the shell, and the second one being the command that you're running (if it's not a shell built-in like <code>test</code>).</p></li>\n<li><p>Some commands are <strong>useless in a separate process</strong>. For example, if you run <code>os.spawn(\"cd dir/\")</code>, it will change the current working directory of the child process, but not of the Python process. You need to use <code>os.chdir</code> for that.</p></li>\n<li><p>You don't have to worry about special <strong>characters interpreted</strong> by the shell. <code>os.chmod(path, mode)</code> will work no matter what the filename is, whereas <code>os.spawn(\"chmod 777 \" + path)</code> will fail horribly if the filename is something like <code>; rm -rf ~</code>. (Note that you can work around this if you use <code>subprocess.call</code> without the <code>shell</code> argument.)</p></li>\n<li><p>You don't have to worry about <strong>filenames that begin with a dash</strong>. <code>os.chmod(\"--quiet\", mode)</code> will change the permissions of the file named <code>--quiet</code>, but <code>os.spawn(\"chmod 777 --quiet\")</code> will fail, as <code>--quiet</code> is interpreted as an argument. This is true even for <code>subprocess.call([\"chmod\", \"777\", \"--quiet\"])</code>.</p></li>\n<li><p>You have fewer <strong>cross-platform</strong> and cross-shell concerns, as Python's standard library is supposed to deal with that for you. Does your system have <code>chmod</code> command? Is it installed? Does it support the parameters that you expect it to support? The <code>os</code> module will try to be as cross-platform as possible and documents when that it's not possible.</p></li>\n<li><p>If the command you're running has <strong>output</strong> that you care about, you need to parse it, which is trickier than it sounds, as you may forget about corner-cases (filenames with spaces, tabs and newlines in them), even when you don't care about portability.</p></li>\n</ol>\n", "title": "Why use Python&#39;s os module methods instead of executing shell commands directly?", "answer_id": 28583621, "question_id": 28572833, "tags": ["python", "linux", "operating-system"]}], "question_id": 28572833}, {"body": "<p>I am receiving this warning in the debugger console when I launch my app on <strong>iPad Xcode 7 beta 6</strong>. There was no such warning till <strong>Xcode 6</strong>. I don't understand why it may have come and that too, only on iPad.</p>\n\n<p>According to <a href=\"https://forums.developer.apple.com/thread/13716\">an Apple forum thread</a> it could be a bug from Apple's side. Has anyone found a solution for this?</p>\n", "title": "&quot;changing property masksToBounds in transform-only layer, will have no effect&quot; in Xcode 7", "tags": ["ios", "ios9", "xcode7-beta6"], "answer_count": 1, "link": "http://stackoverflow.com/questions/32456727/changing-property-maskstobounds-in-transform-only-layer-will-have-no-effect-i", "answers": [{"body": "<p>This is a bug in iOS, and still exists in the latest version, iOS 9.1. If you're reading this, please do us all a favor and file a bug report with Apple.</p>\n\n<p>You may duplicate my radar (id: 23666339), which can be viewed on Open Radar here: <a href=\"https://openradar.appspot.com/radar?id=4947771354251264\" rel=\"nofollow\">https://openradar.appspot.com/23666339</a></p>\n\n<p>The bug causes the keyboard to take forever to appear, and exists only on iPad as well as the iPad simulators.</p>\n\n<p><strong>UPDATE:</strong> This issue has been resolved as of iOS 9.2 (13C75).</p>\n", "title": "&quot;changing property masksToBounds in transform-only layer, will have no effect&quot; in Xcode 7", "answer_id": 33926542, "question_id": 32456727, "tags": ["ios", "ios9", "xcode7-beta6"]}], "question_id": 32456727}, {"body": "<p>First of all I want to mention that I know how <code>isNaN()</code> and <code>Number.isNaN()</code> work. I am reading <em>The Definite Guide</em> by David Flanagan and he gives an example for how to check if the value is <code>NaN</code>:</p>\n\n<pre><code>x !== x\n</code></pre>\n\n<p>This will result in <code>true</code> if and only if <code>x</code> is <code>NaN</code>.</p>\n\n<p>But now I have a question: why does he use strict comparison? Because it seems that </p>\n\n<pre><code>x != x\n</code></pre>\n\n<p>behaves the same way. Is it safe to use both versions, or I am missing some value(s) in JavaScript that will return <code>true</code> for <code>x !== x</code> and <code>false</code> for <code>x != x</code>?</p>\n", "title": "What is the difference between (NaN != NaN) and (NaN !== NaN)?", "tags": ["javascript", "nan"], "answer_count": 5, "link": "http://stackoverflow.com/questions/34261938/what-is-the-difference-between-nan-nan-and-nan-nan", "answers": [{"body": "<p>For purposes of NaN, <code>!=</code> and <code>!==</code> do the same thing.</p>\n\n<p>However, many programmers avoid <code>==</code> or <code>!=</code> in JavaScript. For example, Douglas Crockford considers them among the \"<a href=\"http://archive.oreilly.com/pub/a/javascript/excerpts/javascript-good-parts/bad-parts.html\">bad parts</a>\" of the JavaScript language because they behave in unexpected and confusing ways:</p>\n\n<blockquote>\n  <p>JavaScript has two sets of equality operators: <code>===</code> and <code>!==</code>, and their evil twins <code>==</code> and <code>!=</code>. The good ones work the way you would expect.</p>\n  \n  <p>...My advice is to never use the evil twins. Instead, always use <code>===</code> and <code>!==</code>.</p>\n</blockquote>\n", "title": "What is the difference between (NaN != NaN) and (NaN !== NaN)?", "answer_id": 34262413, "question_id": 34261938, "tags": ["javascript", "nan"]}, {"body": "<p>First, let me point out that <code>NaN</code> is a very special value: By definition, it's not equal to itself. That comes from the IEEE-754 standard that JavaScript numbers draw on. The \"not a number\" value is never equal to itself, even when the bits are an exact match. (Which they aren't necessarily in IEEE-754, it allows for multiple different \"not a number\" values.) Which is why this even comes up; all other values in JavaScript are equal to themselves, <code>NaN</code> is just special.</p>\n\n<blockquote>\n  <p>...am I missing some value in JavaScript that will return true for x !== x and false for x != x?</p>\n</blockquote>\n\n<p>No, you're not. The only difference between <code>!==</code> and <code>!=</code> is that the latter will do type coercion if necessary to get the types of the operands to be the same. In <code>x != x</code>, the types of the operands are the same, and so it's exactly the same as <code>x !== x</code>.</p>\n\n<p>This is clear from the beginning of the definition of the <a href=\"http://www.ecma-international.org/ecma-262/6.0/index.html#sec-abstract-equality-comparison\">Abstract Equality Operation</a>:</p>\n\n<blockquote>\n  <ol>\n  <li>ReturnIfAbrupt(x).</li>\n  <li>ReturnIfAbrupt(y).</li>\n  <li><p>If Type(x) is the same as Type(y), then</p>\n  \n  <p>Return the result of performing Strict Equality Comparison x === y.</p></li>\n  <li><p>...</p></li>\n  </ol>\n</blockquote>\n\n<p>The first two steps are basic plumbing. So in effect, the very first step of <code>==</code> is to see if the types are the same and, if so, to do <code>===</code> instead. <code>!=</code> and <code>!==</code> are just negated versions of that.</p>\n\n<p>So if Flanagan is correct that only <code>NaN</code> will give true for <code>x !== x</code>, we can be sure that it's also true that only <code>NaN</code> will give true for <code>x != x</code>.</p>\n\n<p>Many JavaScript programmers default to using <code>===</code> and <code>!==</code> to avoid some pitfalls around the type coercion the loose operators do, but there's nothing to read into Flanagan's use of the strict vs. loose operator in this case.</p>\n", "title": "What is the difference between (NaN != NaN) and (NaN !== NaN)?", "answer_id": 34263129, "question_id": 34261938, "tags": ["javascript", "nan"]}, {"body": "<p>Just for fun, let me show you an artificial example where <code>x</code> is not <code>NaN</code> but the operators behave differently anyway. First define:</p>\n\n<pre><code>Object.defineProperty(\n  self,\n  'x',\n  { get: function() { return self.y = self.y ? 0 : '0'; } }\n);\n</code></pre>\n\n<p>Then we have</p>\n\n<pre><code>x != x // false\n</code></pre>\n\n<p>but</p>\n\n<pre><code>x !== x // true\n</code></pre>\n", "title": "What is the difference between (NaN != NaN) and (NaN !== NaN)?", "answer_id": 34264110, "question_id": 34261938, "tags": ["javascript", "nan"]}, {"body": "<p>I just want to point out <code>NaN</code> is not the only thing that produces <code>x !== x</code> without using the global object. There are lots of clever ways to trigger this behavior. Here is one using getters:</p>\n\n<pre><code>var i = 0, obj = { get x() { return i++; }};\nwith(obj) // force dynamic context, this is evil. \nconsole.log(x === x); // false\n</code></pre>\n\n<p>As other answers point out, <code>==</code> performs type coersion, but in as in other languages and par the standard - NaN indicates a computation failure, and for good reasons is not equal to itself.</p>\n\n<p>For some reason beyond me people ocnsider this a problem with JS but most languages that have doubles (namely, C, Java, C++, C#, Python and others) exhibit this exact behavior and people are just fine with it.</p>\n", "title": "What is the difference between (NaN != NaN) and (NaN !== NaN)?", "answer_id": 34284624, "question_id": 34261938, "tags": ["javascript", "nan"]}, {"body": "<p>As sometimes, images are better than words, check this <a href=\"http://dorey.github.io/JavaScript-Equality-Table/\" rel=\"nofollow\">table</a> (which is the reason for me to make this an answer instead a comment is because it gets better visibility).</p>\n\n<p>There you can see that strict equality comparison (===) only returns true if type and content match, so </p>\n\n<pre><code>var f = \"-1\" === -1; //false\n</code></pre>\n\n<p>While abstract equality comparison (==) checks only the content* by converting types and then strictly comparing them:</p>\n\n<pre><code>var t = \"-1\" == -1; //true\n</code></pre>\n\n<p>Though it's not clear, without consulting <a href=\"http://www.ecma-international.org/ecma-262/6.0/index.html#sec-abstract-equality-comparison\" rel=\"nofollow\">ECMA</a>, what JavaScript considers when comparing, in a way that the code bellow evaluates to true.</p>\n\n<pre><code> var howAmISupposedToKnowThat = [] == false; //true\n</code></pre>\n", "title": "What is the difference between (NaN != NaN) and (NaN !== NaN)?", "answer_id": 34310622, "question_id": 34261938, "tags": ["javascript", "nan"]}], "question_id": 34261938}, {"body": "<p>today I just imported a sample app from Android SDK as a module in my project (analytics) and suddenly I got this gradle error when I try to sync it: <code>Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE envrinment variable to...</code></p>\n\n<p>This is my app <code>gradle</code> file:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 22\n    buildToolsVersion \"22.0.0\"\n    defaultConfig {\n        applicationId \"xxx.xxxxxx.xxxxx\"\n        versionCode 1\n        versionName '1'\n        minSdkVersion 9\n        targetSdkVersion 22\n        versionCode 1\n        versionName '1'\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n\n    dependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    compile 'com.android.support:appcompat-v7:22.0.0'\n    compile 'com.google.android.gms:play-services:6.5.87'\n    compile 'com.android.support:recyclerview-v7:21.0.0'\n    compile 'com.android.support:cardview-v7:21.0.0'\n    compile 'com.facebook.android:facebook-android-sdk:3.21.1'\n    testCompile 'junit:junit:4.12'\n    compile project(':volley')\n}\n</code></pre>\n\n<p>Do you have any idea of which may be the cause (I'm using the plugin version 1.1.0-rc1 and the <code>gradle</code> version 2.2 and <code>Android Studio</code> version 1.1.0)?</p>\n\n<p>EDIT:</p>\n\n<p>This is my top <code>build.gradle</code>:</p>\n\n<pre><code>buildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:1.1.0-rc1'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n    }\n}\n</code></pre>\n", "title": "Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE environment variable to", "tags": ["android", "android-studio", "gradle", "android-gradle"], "answer_count": 16, "link": "http://stackoverflow.com/questions/29063968/plugin-is-too-old-please-update-to-a-more-recent-version-or-set-android-daily", "answers": [{"body": "<p>Just like CommonsWare suggested, make sure you have Gradle 2.2.1+ (the latest is 2.3).</p>\n\n<p>Make sure you upgrade your Android Studio but here are the \"plugins\" that need to \nbe updated:</p>\n\n<p><strong>Top <code>build.gradle</code>:</strong></p>\n\n<p>Change:</p>\n\n<pre><code>classpath 'com.android.tools.build:gradle:1.1.0-rc1'\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>classpath 'com.android.tools.build:gradle:1.1.3' // latest 1.5.0\n</code></pre>\n\n<p><strong>App <code>build.gradle</code>:</strong></p>\n\n<p>Change:</p>\n\n<pre><code>compile 'com.android.support:recyclerview-v7:21.0.0'\ncompile 'com.android.support:cardview-v7:21.0.0'\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>compile 'com.android.support:recyclerview-v7:22.0.0' // latest 23.1.1\ncompile 'com.android.support:cardview-v7:22.0.0' // latest 23.1.1\n</code></pre>\n\n<p>Gradle: <a href=\"https://gradle.org/downloads\">https://gradle.org/downloads</a></p>\n\n<p>Always check the Android SDK Manager for the latest revisions:</p>\n\n<p>Android Build Tools Plugin: <a href=\"http://tools.android.com/tech-docs/new-build-system\">http://tools.android.com/tech-docs/new-build-system</a></p>\n\n<p>Android Support Libraries: <a href=\"http://developer.android.com/tools/support-library/features.html\">http://developer.android.com/tools/support-library/features.html</a></p>\n\n<p>To view the latest plugin releases, view the Bintray Jcenter page directly: <a href=\"https://bintray.com/android/android-tools/com.android.tools.build.gradle/view\">https://bintray.com/android/android-tools/com.android.tools.build.gradle/view</a>.</p>\n", "title": "Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE environment variable to", "answer_id": 29064084, "question_id": 29063968, "tags": ["android", "android-studio", "gradle", "android-gradle"]}, {"body": "<p>As a side note, I have been getting the same error in completely unrelated situation - after my system clock year setting has been changed (i.e. 2015 -> 2016); changing the clock back to the correct one solved the issue. </p>\n\n<p><sub>Note 1: using</sub></p>\n\n<pre><code>classpath 'com.android.tools.build:gradle:+'\n</code></pre>\n\n<p><sub>can make the plugin version default to newest one. Note that your build may break on API changes, so use this only if you're constantly updating the version anyway.</sub></p>\n\n<p><sub>Note 2: I'm posting this mainly because I had the exactly same error message, but the working solution proven to be different than just updating the plugin's version (as posted by <code>Jared Burrows</code>).</sub></p>\n", "title": "Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE environment variable to", "answer_id": 29459402, "question_id": 29063968, "tags": ["android", "android-studio", "gradle", "android-gradle"]}, {"body": "<p>I'm using <a href=\"https://developer.android.com/tools/data-binding/guide.html\" rel=\"nofollow\">Android Data Binding</a> and I have the same problem today.</p>\n\n<p>To solve it, change: </p>\n\n<pre><code>classpath \"com.android.databinding:dataBinder:1.0-rc0\"\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>classpath \"com.android.databinding:dataBinder:1.0-rc1\"\n</code></pre>\n\n<p>1.0-rc0 still could be found on <a href=\"https://bintray.com/android/android-tools/com.android.databinding.dataBinder/1.0-rc0/view\" rel=\"nofollow\">jcenter</a> now, I don't know why it couldn't be use.</p>\n", "title": "Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE environment variable to", "answer_id": 31553911, "question_id": 29063968, "tags": ["android", "android-studio", "gradle", "android-gradle"]}, {"body": "<p>set Environment variable\nANDROID_DAILY_OVERRIDE  to same value Example - b9471da4f76e0d1a88d41a072922b1e0c257745c</p>\n\n<p>this works for me.</p>\n", "title": "Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE environment variable to", "answer_id": 31583209, "question_id": 29063968, "tags": ["android", "android-studio", "gradle", "android-gradle"]}, {"body": "<p>Just in case someone is struggling with this, in my case I'm using Gradle 1.4 beta 1 and I NEED to keep it. So in order to make Android Studio works go to the terminal and run this:</p>\n\n<p><code>launchctl setenv ANDROID_DAILY_OVERRIDE &lt;your-value-on-error-message&gt;</code></p>\n\n<p>Restart Android Studio and the project will build again.</p>\n\n<p>Kudos to UPDATE 2 here: <a href=\"https://emmanuelbernard.com/blog/2012/05/09/setting-global-variables-intellij/\">https://emmanuelbernard.com/blog/2012/05/09/setting-global-variables-intellij/</a></p>\n", "title": "Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE environment variable to", "answer_id": 33271002, "question_id": 29063968, "tags": ["android", "android-studio", "gradle", "android-gradle"]}, {"body": "<p><strong>Solution (Updated: 24-may-2016):</strong>\nChange build.gradle (project)</p>\n\n<pre><code>buildscript {\nrepositories {\n    jcenter()\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:X.X.X-lastVersionGradle'\n    classpath 'com.google.gms:google-services:X.X.X-lastVersionGServices' // If use google-services\n\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n}\n</code></pre>\n\n<p><a href=\"https://bintray.com/android/android-tools/com.android.tools.build.gradle/view\">X.X.X-lastVersionGradle</a>: For example: <strong>2.1.0</strong></p>\n\n<p><a href=\"https://bintray.com/android/android-tools/com.google.gms.google-services/view\">X.X.X-lastVersionGServices</a>: For example: <strong>3.0.0</strong> (support Firebase Analytics)</p>\n\n<p>Note: if you're using the google-services plugin has to be the same version (if there)</p>\n\n<blockquote>\n  <p>Warning!! -> <strong>2.2.0-alpha</strong>  throws Unsupported major.minor version 52.0 if you don't use java <a href=\"http://www.oracle.com/technetwork/articles/javase/jdk-netbeans-jsp-142931.html\">JDK 8u91 and NetBeans 8.1</a></p>\n</blockquote>\n", "title": "Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE environment variable to", "answer_id": 33511287, "question_id": 29063968, "tags": ["android", "android-studio", "gradle", "android-gradle"]}, {"body": "<p>This issue occurs because of the Gradle version changes, since your application uses old version of gradle, you need to update to new version. </p>\n\n<p>This changes needs to be done in build.gradle file, have look at this link <a href=\"http://www.feelzdroid.com/2015/11/android-plugin-too-old-update-recent-version.html\" rel=\"nofollow\">http://www.feelzdroid.com/2015/11/android-plugin-too-old-update-recent-version.html</a>. to know how to update the gradle and detailed steps are provided. there.</p>\n\n<p>Thans</p>\n", "title": "Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE environment variable to", "answer_id": 33975026, "question_id": 29063968, "tags": ["android", "android-studio", "gradle", "android-gradle"]}, {"body": "<p>You should upgrade the version of gradle. for example: com.android.build.gradle 1.3.0</p>\n\n<p>this issue occurs when version of the gradle is changed.</p>\n", "title": "Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE environment variable to", "answer_id": 34586959, "question_id": 29063968, "tags": ["android", "android-studio", "gradle", "android-gradle"]}, {"body": "<p>Replace your class path with something ambiguous like this. Its a solution and it works but it may not be a good solution.</p>\n\n<p><strong>classpath 'com.android.tools.build:gradle:+'</strong></p>\n\n<p>The best way is replacing the + with the latest version of gradle </p>\n", "title": "Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE environment variable to", "answer_id": 34996447, "question_id": 29063968, "tags": ["android", "android-studio", "gradle", "android-gradle"]}, {"body": "<p>I got a way which finally resolve this\n1. check your calsspath in the top build.gradle,e.g mine is \nclasspath 'com.android.tools.build:gradle:2.1.0-alpha3'\nthen go to \n<a href=\"https://jcenter.bintray.com/com/android/tools/build/gradle/\" rel=\"nofollow\">https://jcenter.bintray.com/com/android/tools/build/gradle/</a>\nfind a release which is newer than yours,here I choose 2.1.0-beta3\nchange classpath to below, then launch the build.\nclasspath 'com.android.tools.build:gradle:2.1.0-beta3'</p>\n", "title": "Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE environment variable to", "answer_id": 36865240, "question_id": 29063968, "tags": ["android", "android-studio", "gradle", "android-gradle"]}, {"body": "<p>The solution of removing the '-rcX' part works.  I wanted to provide some more detail on why the error is happening.  The issue is with <a href=\"https://android.googlesource.com/platform/tools/base/+/master/build-system/gradle/src/main/groovy/com/android/build/gradle/BasePlugin.java#230\" rel=\"nofollow\">https://android.googlesource.com/platform/tools/base/+/master/build-system/gradle/src/main/groovy/com/android/build/gradle/BasePlugin.java#230</a></p>\n\n<p>There is a default 40 days 'retirement age' for plugins that don't have a version or contain 'rc', 'alpha', or 'beta'.</p>\n", "title": "Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE environment variable to", "answer_id": 37599037, "question_id": 29063968, "tags": ["android", "android-studio", "gradle", "android-gradle"]}, {"body": "<p>Check the latest version of Gradle Plugin Here: \n<br></p>\n\n<p><a href=\"https://bintray.com/android/android-tools/com.android.tools.build.gradle/_latestVersion\" rel=\"nofollow\"> <img src=\"https://api.bintray.com/packages/android/android-tools/com.android.tools.build.gradle/images/download.svg\" alt=\"Download\"> </a></p>\n\n<p>You should change this in <strong>dependencies of app settings</strong></p>\n\n<pre><code>buildscript {\nrepositories {\n    jcenter()\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:[PLACE VERSION CODE HERE]'\n\n}\n</code></pre>\n\n<p>}</p>\n", "title": "Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE environment variable to", "answer_id": 38309603, "question_id": 29063968, "tags": ["android", "android-studio", "gradle", "android-gradle"]}, {"body": "<p>In the past months, I used a \"preview\" version of Android Studio. I tried to switch back to the \"stable\" releases for the software updates but it wasn't enough and I got this famous error you talk of.</p>\n\n<p>Uninstalling my Android Studio 2.2.preview and installing latest <strong>stable</strong> Android Studio (2.1) fixed it for me :)</p>\n", "title": "Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE environment variable to", "answer_id": 38458307, "question_id": 29063968, "tags": ["android", "android-studio", "gradle", "android-gradle"]}, {"body": "<p>You can always check the latest gradle plugin version here:\n<a href=\"https://bintray.com/android/android-tools/com.android.tools.build.gradle\" rel=\"nofollow\">https://bintray.com/android/android-tools/com.android.tools.build.gradle</a></p>\n\n<p>So as of today you should use: </p>\n\n<p><code>classpath 'com.android.tools.build:gradle:2.2.0-beta2'</code> </p>\n\n<p>accordingly.</p>\n", "title": "Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE environment variable to", "answer_id": 38482453, "question_id": 29063968, "tags": ["android", "android-studio", "gradle", "android-gradle"]}, {"body": "<p>Go for stable version or gradle in app level gradle file\nin my case it was<br>\nclasspath 'com.android.tools.build:gradle:2.2.0-alpha3'</p>\n\n<p>I changed it with </p>\n\n<p>classpath 'com.android.tools.build:gradle:2.1.2'</p>\n", "title": "Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE environment variable to", "answer_id": 38564538, "question_id": 29063968, "tags": ["android", "android-studio", "gradle", "android-gradle"]}, {"body": "<p>If you want to continue to use the newest development versions then this problem can reoccur each time your version is far enough out of date.</p>\n\n<p>I've been keeping an up-to-date list of the most current development versions as well as the stable version on my answer to this similar question, so that I can fix it each time I get a new warning:</p>\n\n<p><strong><a href=\"http://stackoverflow.com/a/35627431/984830\">Android Studio 2.0 - Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE</a></strong></p>\n", "title": "Plugin is too old, please update to a more recent version, or set ANDROID_DAILY_OVERRIDE environment variable to", "answer_id": 38830411, "question_id": 29063968, "tags": ["android", "android-studio", "gradle", "android-gradle"]}], "question_id": 29063968}, {"body": "<p>I have by pure chance discovered that the C# compiler turns this method:</p>\n\n<pre><code>static bool IsNotNull(object obj)\n{\n    return obj != null;\n}\n</code></pre>\n\n<p>\u2026into this <a href=\"http://en.wikipedia.org/wiki/Common_Intermediate_Language\">CIL</a>:</p>\n\n<pre><code>.method private hidebysig static bool IsNotNull(object obj) cil managed\n{\n    ldarg.0   // obj\n    ldnull\n    cgt.un\n    ret\n}\n</code></pre>\n\n<p>\u2026or, if you prefer looking at decompiled C# code:</p>\n\n<pre><code>static bool IsNotNull(object obj)\n{\n    return obj &gt; null;   // (note: this is not a valid C# expression)\n}\n</code></pre>\n\n<p>How come that the <code>!=</code> gets translated as a \"<code>&gt;</code>\"?</p>\n", "title": "Why does the C# compiler translate this != comparison as if it were a &gt; comparison?", "tags": ["c#", "cil", "il", "notnull", "binary-operators"], "answer_count": 1, "link": "http://stackoverflow.com/questions/28781839/why-does-the-c-compiler-translate-this-comparison-as-if-it-were-a-comparis", "answers": [{"body": "<h3>Short answer:</h3>\n\n<p>There is no \"compare-not-equal\" instruction in IL, so the C# <code>!=</code> operator has no exact correspondence and cannot be translated literally.</p>\n\n<p>There is however a \"compare-equal\" instruction (<code>ceq</code>, a direct correspondence to the <code>==</code> operator), so in the general case, <code>x != y</code> gets translated like its slightly longer equivalent <code>(x == y) == false</code>.</p>\n\n<p>There is <em>also</em> a \"compare-greater-than\" instruction in IL (<code>cgt</code>) which allows the compiler to take certain shortcuts (i.e. generate shorter IL code), one being that inequality comparisons of objects against null, <code>obj != null</code>, get translated as if they were \"<code>obj &gt; null</code>\".</p>\n\n<hr>\n\n<h3>Let's go into some more detail.</h3>\n\n<p>If there is no \"compare-not-equal\" instruction in IL, then how will the following method get translated by the compiler?</p>\n\n<pre><code>static bool IsNotEqual(int x, int y)\n{\n    return x != y;\n}\n</code></pre>\n\n<p>As already said above, the compiler will turn the <code>x != y</code> into <code>(x == y) == false</code>:</p>\n\n<pre><code>.method private hidebysig static bool IsNotEqual(int32 x, int32 y) cil managed \n{\n    ldarg.0   // x\n    ldarg.1   // y\n    ceq\n    ldc.i4.0  // false\n    ceq       // (note: two comparisons in total)\n    ret\n}\n</code></pre>\n\n<p>It turns out that the compiler does not always produce this fairly long-winded pattern. Let's see what happens when we replace <code>y</code> with the constant 0:</p>\n\n<pre><code>static bool IsNotZero(int x)\n{\n    return x != 0;\n}\n</code></pre>\n\n<p>The IL produced is somewhat shorter than in the general case:</p>\n\n<pre><code>.method private hidebysig static bool IsNotZero(int32 x) cil managed \n{\n    ldarg.0    // x\n    ldc.i4.0   // 0\n    cgt.un     // (note: just one comparison)\n    ret\n}\n</code></pre>\n\n<p>The compiler can take advantage of the fact that signed integers are stored in <a href=\"http://en.wikipedia.org/wiki/Two%27s_complement\">two's complement</a> (where, if the resulting bit patterns are interpreted as unsigned integers &mdash; that's what the <code>.un</code> means &mdash; 0 has the smallest possible value), so it translates <code>x == 0</code> as if it were <code>unchecked((uint)x) &gt; 0</code>.</p>\n\n<p>It turns out the compiler can do just the same for inequality checks against <code>null</code>:</p>\n\n<pre><code>static bool IsNotNull(object obj)\n{\n    return obj != null;\n}\n</code></pre>\n\n<p>The compiler produces almost the same IL as for <code>IsNotZero</code>:</p>\n\n<pre><code>.method private hidebysig static bool IsNotNull(object obj) cil managed \n{\n    ldarg.0\n    ldnull   // (note: this is the only difference)\n    cgt.un\n    ret\n}\n</code></pre>\n\n<p>Apparently, the compiler is allowed to assume that the bit pattern of the <code>null</code> reference is the smallest bit pattern possible for any object reference.</p>\n\n<p>This shortcut is explicitly mentioned in the <a href=\"http://rads.stackoverflow.com/amzn/click/0321154932\">Common Language Infrastructure Annotated Standard (1st edition from Oct 2003)</a> (on page 491, as a footnote of Table 6-4, \"Binary Comparisons or Branch Operations\"):</p>\n\n<blockquote>\n  <p><em>\"<code>cgt.un</code> is allowed and verifiable on ObjectRefs (O). This is commonly used when comparing an ObjectRef with null (there is no \"compare-not-equal\" instruction, which would otherwise be a more obvious solution).\"</em></p>\n</blockquote>\n", "title": "Why does the C# compiler translate this != comparison as if it were a &gt; comparison?", "answer_id": 28781840, "question_id": 28781839, "tags": ["c#", "cil", "il", "notnull", "binary-operators"]}], "question_id": 28781839}, {"body": "<p>I'm studying a little of C++ and I'm fighting with pointers. I understand that I can have 3 level of pointers by declaring:</p>\n\n<pre><code>int *(*x)[5];\n</code></pre>\n\n<p>so that <code>*x</code> is a pointer to an array of 5 elements that are pointers to <code>int</code>.\nAlso I know that <code>x[0] = *(x+0);</code>, <code>x[1] = *(x+1)</code>and so on....</p>\n\n<p>So, given the above declaration, why is <code>x[0] != x[0][0] != x[0][0][0]</code> ?</p>\n", "title": "Why is x[0] != x[0][0] != x[0][0][0]?", "tags": ["c++", "c", "arrays", "pointers"], "answer_count": 11, "link": "http://stackoverflow.com/questions/31231376/why-is-x0-x00-x000", "answers": [{"body": "<p><code>x[0] != x[0][0] != x[0][0][0]</code><br>\nis, according to your own post,<br>\n<code>*(x+0) != *(*(x+0)+0) != *(*(*(x+0)+0)+0)</code><br>\nwhich is simplified<br>\n<code>*x != **x != ***x</code>  </p>\n\n<p>Why should it be equal?<br>\nThe first one is the address of some pointer.<br>\nThe second one is the address of another pointer.<br>\nAnd the third one is some <code>int</code> value.</p>\n", "title": "Why is x[0] != x[0][0] != x[0][0][0]?", "answer_id": 31231423, "question_id": 31231376, "tags": ["c++", "c", "arrays", "pointers"]}, {"body": "<p>You are trying to compare different types by value</p>\n\n<p>If you take the addresses you might get more of what you expect</p>\n\n<p>Keep in mind that your declaration makes a difference</p>\n\n<pre><code> int y [5][5][5];\n</code></pre>\n\n<p>would allow the comparisons you want, since <code>y</code>, <code>y[0]</code>, <code>y[0][0]</code>, <code>y[0][0][0]</code> would have different values and types but the same address</p>\n\n<pre><code>int **x[5];\n</code></pre>\n\n<p>does not occupy contiguous space.</p>\n\n<p><code>x</code> and <code>x [0]</code> have the same address, but <code>x[0][0]</code> and <code>x[0][0][0]</code> are each at different addresses</p>\n", "title": "Why is x[0] != x[0][0] != x[0][0][0]?", "answer_id": 31231437, "question_id": 31231376, "tags": ["c++", "c", "arrays", "pointers"]}, {"body": "<ul>\n<li><code>x[0]</code> dereferences the outermost pointer (<strong>pointer</strong> to array of size 5 of pointer to int) and results in an array of size 5 of pointer to <code>int</code>;</li>\n<li><code>x[0][0]</code> dereferences the outermost pointer <em>and</em> indexes the array, resulting in a pointer to <code>int</code>;</li>\n<li><code>x[0][0][0]</code> dereferences everything, resulting in a concrete value.</li>\n</ul>\n\n<p>By the way, if you ever feel confused by what these kind of declarations mean, use <a href=\"http://cdecl.org/\" rel=\"nofollow\">cdecl</a>.</p>\n", "title": "Why is x[0] != x[0][0] != x[0][0][0]?", "answer_id": 31231452, "question_id": 31231376, "tags": ["c++", "c", "arrays", "pointers"]}, {"body": "<p>Let consider step by step expressions <code>x[0]</code>, <code>x[0][0]</code> and <code>x[0][0][0]</code>.</p>\n\n<p>As <code>x</code> is defined the following way</p>\n\n<pre><code>int *(*x)[5];\n</code></pre>\n\n<p>then expression <code>x[0]</code> is an array of type <code>int *[5]</code>. Take into account that expression <code>x[0]</code> is equivalent to expression <code>*x</code>. That is dereferencing a pointer to an array we get the array itself. Let denote it like y that is we have a declaration</p>\n\n<pre><code>int * y[5];\n</code></pre>\n\n<p>Expression <code>x[0][0]</code> is equivalent to <code>y[0]</code> and has type <code>int *</code>. Let denote it like z that is we have a declaration</p>\n\n<pre><code>int *z;\n</code></pre>\n\n<p>expression <code>x[0][0][0]</code> is equivalent to expression <code>y[0][0]</code> that in turn is equivalent to expression <code>z[0]</code> and has type <code>int</code>.</p>\n\n<p>So we have</p>\n\n<p><code>x[0]</code> has type <code>int *[5]</code></p>\n\n<p><code>x[0][0]</code> has type <code>int *</code></p>\n\n<p><code>x[0][0][0]</code> has type <code>int</code></p>\n\n<p>So they are objects of different types and by the way of different sizes.</p>\n\n<p>Run for example</p>\n\n<pre><code>std::cout &lt;&lt; sizeof( x[0] ) &lt;&lt; std::endl;\nstd::cout &lt;&lt; sizeof( x[0][0] ) &lt;&lt; std::endl;\nstd::cout &lt;&lt; sizeof( x[0][0][0] ) &lt;&lt; std::endl;\n</code></pre>\n", "title": "Why is x[0] != x[0][0] != x[0][0][0]?", "answer_id": 31231488, "question_id": 31231376, "tags": ["c++", "c", "arrays", "pointers"]}, {"body": "<p><code>x</code> is a pointer to an array of 5 pointers to <code>int</code>.<br>\n<em><code>x[0]</code> is an array</em> of 5 pointers to <code>int</code>.<br>\n<code>x[0][0]</code> is a pointer to an <code>int</code>.<br>\n<code>x[0][0][0]</code> is an <code>int</code>.  </p>\n\n<pre><code>                       x[0]\n   Pointer to array  +------+                                 x[0][0][0]         \nx -----------------&gt; |      |         Pointer to int           +-------+\n               0x500 | 0x100| x[0][0]----------------&gt;   0x100 |  10   |\nx is a pointer to    |      |                                  +-------+\nan array of 5        +------+                        \npointers to int      |      |         Pointer to int                             \n               0x504 | 0x222| x[0][1]----------------&gt;   0x222                    \n                     |      |                                             \n                     +------+                                             \n                     |      |         Pointer to int                              \n               0x508 | 0x001| x[0][2]----------------&gt;   0x001                    \n                     |      |                                             \n                     +------+                                             \n                     |      |         Pointer to int                              \n               0x50C | 0x123| x[0][3]----------------&gt;   0x123                    \n                     |      |                                             \n                     +------+                                             \n                     |      |         Pointer to int                              \n               0x510 | 0x000| x[0][4]----------------&gt;   0x000                    \n                     |      |                                             \n                     +------+                                             \n</code></pre>\n\n<p>You can see that  </p>\n\n<ul>\n<li><code>x[0]</code> is an array and will converted to pointer to its first element when used in an expression (with some exceptions). Therefore <code>x[0]</code> will give the address of its first element <code>x[0][0]</code> which is <code>0x500</code>.   </li>\n<li><code>x[0][0]</code> contains address of an <code>int</code> which is <code>0x100</code>.    </li>\n<li><code>x[0][0][0]</code> contains an <code>int</code> value of <code>10</code>.      </li>\n</ul>\n\n<p>So, <code>x[0]</code> is equal to <code>&amp;x[0][0]</code>and therefore, <code>&amp;x[0][0] != x[0][0]</code>.<br>\nHence, <code>x[0] != x[0][0] != x[0][0][0]</code>.</p>\n", "title": "Why is x[0] != x[0][0] != x[0][0][0]?", "answer_id": 31231655, "question_id": 31231376, "tags": ["c++", "c", "arrays", "pointers"]}, {"body": "<p>Here is the memory layout of your pointer:</p>\n\n<pre><code>   +------------------+\nx: | address of array |\n   +------------------+\n            |\n            V\n            +-----------+-----------+-----------+-----------+-----------+\n            | pointer 0 | pointer 1 | pointer 2 | pointer 3 | pointer 4 |\n            +-----------+-----------+-----------+-----------+-----------+\n                  |\n                  V\n                  +--------------+\n                  | some integer |\n                  +--------------+\n</code></pre>\n\n<p><code>x[0]</code> yields \"address of array\",<br>\n<code>x[0][0]</code> yields \"pointer 0\",<br>\n<code>x[0][0][0]</code> yields \"some integer\".</p>\n\n<p>I believe, it should be obvious now, why they are all different.</p>\n\n<hr>\n\n<p>The above is close enough for basic understanding, which is why I wrote it the way I wrote it. However, as haccks rightly points out, the first line is not 100% precise. So here come all the fine details:</p>\n\n<p>From the definition of the C language, the value of <code>x[0]</code> is the whole array of integer pointers. However, arrays are something you can't really do anything with in C. You always manipulate either their address or their elements, never the entire array as a whole:</p>\n\n<ol>\n<li><p>You can pass <code>x[0]</code> to the <code>sizeof</code> operator. But that's not really a use of the value, its result depends of the type only.</p></li>\n<li><p>You can take its address which yields the value of <code>x</code>, i. e. \"address of array\" with the type <code>int*(*)[5]</code>. In other words: <code>&amp;x[0] &lt;=&gt; &amp;*(x + 0) &lt;=&gt; (x + 0) &lt;=&gt; x</code></p></li>\n<li><p>In <em>all other contexts</em>, the value of <code>x[0]</code> will decay into a pointer to the first element in the array. That is, a pointer with the value \"address of array\" and the type <code>int**</code>. The effect is the same as if you had casted <code>x</code> to a pointer of type <code>int**</code>.</p></li>\n</ol>\n\n<p>Due to the array-pointer decay in case 3., all uses of <code>x[0]</code> ultimately result in a pointer that points the beginning of the pointer array; the call <code>printf(\"%p\", x[0])</code> will print the contents of the memory cells labeled as \"address of array\".</p>\n", "title": "Why is x[0] != x[0][0] != x[0][0][0]?", "answer_id": 31231692, "question_id": 31231376, "tags": ["c++", "c", "arrays", "pointers"]}, {"body": "<p>There's a principle in C++ so that: a declaration of a variable indicates exactly the way of using the variable. Consider your declaration:</p>\n\n<pre><code>int *(*x)[5];\n</code></pre>\n\n<p>that can be rewritten as (for clearer):</p>\n\n<pre><code>int *((*x)[5]);\n</code></pre>\n\n<p>Due to the principle, we have:</p>\n\n<pre><code>*((*x)[i]) is treated as an int value (i = 0..4)\n\u2192 (*x)[i] is treated as an int* pointer (i = 0..4)\n\u2192 *x is treated as an int** pointer\n\u2192 x is treated as an int*** pointer\n</code></pre>\n\n<p>Therefore:</p>\n\n<pre><code>x[0] is an int** pointer\n\u2192 x[0][0] = (x[0]) [0] is an int* pointer\n\u2192 x[0][0][0] = (x[0][0]) [0] is an int value\n</code></pre>\n\n<p>So you can figure out the difference. </p>\n", "title": "Why is x[0] != x[0][0] != x[0][0][0]?", "answer_id": 31239582, "question_id": 31231376, "tags": ["c++", "c", "arrays", "pointers"]}, {"body": "<p>First thing I have to say that </p>\n\n<blockquote>\n  <p>x  [ 0 ]    = * ( x + 0 ) = * x ;  </p>\n  \n  <p>x [ 0 ] [ 0 ]  = * ( * ( x + 0 ) + 0 )   =   *   *   x   ; </p>\n  \n  <p>x [ 0 ] [ 0 ] [ 0 ]  = * ( * ( * ( x + 0 ) + 0 ) )   =   * *   *   x   ; </p>\n  \n  <p>So * x  \u2260 * * x  \u2260 * * * x  </p>\n</blockquote>\n\n<p>From the following picture all things are clear.</p>\n\n<pre><code>  x[0][0][0]= 2000\n\n  x[0][0]   = 1001\n\n  x[0]      = 10\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/zKVqy.png\" alt=\"enter image description here\"></p>\n\n<p>It is just an example, where value of <strong>x[0][0][0]=10</strong></p>\n\n<p>and address of <strong>x[0][0][0]</strong> is <strong>1001</strong></p>\n\n<p>that address is stored in <strong>x[0][0]=1001</strong></p>\n\n<p>and address of <strong>x[0][0]</strong> is <strong>2000</strong></p>\n\n<p>and that address is stored at <strong>x[0]=2000</strong></p>\n\n<p>So <strong>x[0][0][0]</strong>  <strong>\u2260</strong>  <strong>x[0][0]</strong>  <strong>\u2260</strong>  <strong>x[0]</strong></p>\n\n<p>.</p>\n\n<p><strong><em>EDITINGS</em></strong> </p>\n\n<p>Program 1:</p>\n\n<pre><code>{\nint ***x;\nx=(int***)malloc(sizeof(int***));\n*x=(int**)malloc(sizeof(int**));\n**x=(int*)malloc(sizeof(int*));\n***x=10;\nprintf(\"%d   %d   %d   %d\\n\",x,*x,**x,***x);\nprintf(\"%d   %d   %d   %d   %d\",x[0][0][0],x[0][0],x[0],x,&amp;x);\n}\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>142041096 142041112 142041128 10\n10 142041128 142041112 142041096 -1076392836\n</code></pre>\n\n<p>Program 2:</p>\n\n<pre><code>{\nint x[1][1][1]={10};\nprintf(\"%d   %d   %d   %d \\n \",x[0][0][0],x[0][0],x[0],&amp;x);\n}\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>10   -1074058436   -1074058436   -1074058436 \n</code></pre>\n", "title": "Why is x[0] != x[0][0] != x[0][0][0]?", "answer_id": 31241518, "question_id": 31231376, "tags": ["c++", "c", "arrays", "pointers"]}, {"body": "<p>If you were to view the arrays from a real-world perspective, it would appear as thus:</p>\n\n<p><code>x[0]</code> is a freight container full of crates.<br>\n<code>x[0][0]</code> is a single crate, full of shoeboxes, within the freight container.<br>\n<code>x[0][0][0]</code> is a single shoebox inside the crate, inside the freight container.</p>\n\n<p>Even if it were the only shoebox in the only crate in the freight container, it is still a shoebox and not a freight container</p>\n", "title": "Why is x[0] != x[0][0] != x[0][0][0]?", "answer_id": 31275808, "question_id": 31231376, "tags": ["c++", "c", "arrays", "pointers"]}, {"body": "<p>Being <code>p</code> a pointer: you're stacking dereferences with <code>p[0][0]</code>, which is equivalent to <code>*((*(p+0))+0)</code>.</p>\n\n<p>In C reference (&amp;) and dereference (*) notation:</p>\n\n<pre><code>p == &amp;p[0] == &amp;(&amp;p[0])[0] == &amp;(&amp;(&amp;p[0])[0])[0])\n</code></pre>\n\n<p>Is equivalent to:</p>\n\n<pre><code>p == &amp;*(p+0) == &amp;*(&amp;*(p+0))+0 == &amp;*(&amp;*(&amp;*(p+0))+0)+0\n</code></pre>\n\n<p>Look that, the &amp;* can be refactored, just removing it:</p>\n\n<pre><code>p == p+0 == p+0+0 == p+0+0+0 == (((((p+0)+0)+0)+0)+0)\n</code></pre>\n", "title": "Why is x[0] != x[0][0] != x[0][0][0]?", "answer_id": 31296427, "question_id": 31231376, "tags": ["c++", "c", "arrays", "pointers"]}, {"body": "<p>The other answers are correct, but none of them emphasize the idea that <strong>it is possible for all three to contain the same value</strong>, and so they're in some way incomplete.</p>\n\n<p>The reason this can't be understood from the other answers is that all the illustrations, while helpful and definitely reasonable under most circumstances, fail to cover the situation where the pointer <code>x</code> points to itself.</p>\n\n<p>This is pretty easy to construct, but clearly a bit harder to understand. In the program below, we'll see how we can force all three values to be identical.</p>\n\n<p><strong>NOTE:</strong> The behavior in this program is undefined, but I'm posting it here purely as an interesting demonstration of something that pointers <em>can</em> do, but <em>shouldn't</em>.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint main () {\n  int *(*x)[5];\n\n  x = (int *(*)[5]) &amp;x;\n\n  printf(\"%p\\n\", x[0]);\n  printf(\"%p\\n\", x[0][0]);\n  printf(\"%p\\n\", x[0][0][0]);\n}\n</code></pre>\n\n<p>This compiles without warnings in both C89 and C99, and the output is the following:</p>\n\n<pre><code>$ ./ptrs\n0xbfd9198c\n0xbfd9198c\n0xbfd9198c\n</code></pre>\n\n<p>Interestingly enough, all three values are identical. But this shouldn't be a surprise! First, let's break down the program.</p>\n\n<p>We declare <code>x</code> as a pointer to an array of 5 elements where each element is of type pointer to int. This declaration allocates 4 bytes on the runtime stack (or more depending on your implementation; on my machine pointers are 4 bytes), so <code>x</code> is referring to an actual memory location. In the C family of languages, the contents of <code>x</code> are just garbage, something left over from previous usage of the location, so <code>x</code> itself doesn't point anywhere&mdash;certainly not to allocated space.</p>\n\n<p>So, naturally, we can take the address of the variable <code>x</code> and put it somewhere, so that's exactly what we do. But we'll go ahead and put it into x itself. Since <code>&amp;x</code> has a different type than <code>x</code>, we need to do a cast so we don't get warnings.</p>\n\n<p>The memory model would look something like this:</p>\n\n<pre><code>0xbfd9198c\n+------------+\n| 0xbfd9198c |\n+------------+\n</code></pre>\n\n<p>So the 4-byte block of memory at the address <code>0xbfd9198c</code> contains the bit pattern corresponding to the hexadecimal value <code>0xbfd9198c</code>. Simple enough.</p>\n\n<p>Next, we print out the three values. The other answers explain what each expression refers to, so the relationship should be clear now.</p>\n\n<p>We can see that the values are the same, but only in a very low level sense...their bit patterns are identical, but the type data associated with each expression means their interpreted values are different.\nFor instance, if we printed out <code>x[0][0][0]</code> using the format string <code>%d</code>, we'd get a huge negative number, so the \"values\" are, in practice, different, but the bit pattern is the same.</p>\n\n<p>This is actually really simple...in the diagrams, the arrows just point to the same memory address rather than to different ones. However, while we were able to force an expected result out of undefined behavior, it is just that&mdash;undefined. This isn't production code but simply a demonstration for the sake of completeness.</p>\n\n<p>In a reasonable situation, you will use <code>malloc</code> to create the array of 5 int pointers, and again to create the ints that are pointed to in that array. <code>malloc</code> always returns a unique address (unless you're out of memory, in which case it returns NULL or 0), so you'll never have to worry about self-referential pointers like this.</p>\n\n<p>Hopefully that's the complete answer you're looking for. You shouldn't expect <code>x[0]</code>, <code>x[0][0]</code>, and <code>x[0][0][0]</code> to be equal, but they could be if forced. If anything went over your head, let me know so I can clarify!</p>\n", "title": "Why is x[0] != x[0][0] != x[0][0][0]?", "answer_id": 31354447, "question_id": 31231376, "tags": ["c++", "c", "arrays", "pointers"]}], "question_id": 31231376}, {"body": "<p>Today I reached page <strong>167</strong> of <a href=\"http://rads.stackoverflow.com/amzn/click/0131103628\">The C Programming Language (second edition Brian W. Kernighan &amp; Dennis  M. Ritchie)</a> and found that the author says I must cast <code>malloc</code>. Here is the part from the book:</p>\n\n<blockquote>\n  <p><strong>7.8.5 Storage Management</strong></p>\n  \n  <p>The functions malloc and calloc obtain blocks of memory dynamically.</p>\n\n<pre><code>void *malloc(size_t n)\n</code></pre>\n  \n  <p>returns a pointer to n bytes of uninitialized storage, or NULL if the request cannot be satisfied.</p>\n\n<pre><code>void *calloc(size_t n, size_t size)\n</code></pre>\n  \n  <p>returns a pointer to enough free space for an array of n objects of the specified size, or NULL if\n      the request cannot be satisfied. The storage is initialized to zero.\n      The pointer returned by malloc or calloc has the proper alignment for the object in question,\n      but it must be cast into the appropriate type, as in</p>\n\n<pre><code>int *ip;\nip = (int *) calloc(n, sizeof(int));\n</code></pre>\n</blockquote>\n\n<p>I already know that <code>malloc</code> (and its family) returns type <strong>void*</strong>, and <a href=\"http://stackoverflow.com/questions/605845/do-i-cast-the-result-of-malloc\">there are good explanations why not to cast <code>malloc</code></a>.</p>\n\n<p>But my question is: Why does the book say I should cast it?</p>\n", "title": "Why does the book say I must cast malloc?", "tags": ["c", "casting", "malloc", "kernighan-and-ritchie"], "answer_count": 2, "link": "http://stackoverflow.com/questions/32652213/why-does-the-book-say-i-must-cast-malloc", "answers": [{"body": "<p>From <a href=\"http://computer-programming-forum.com/47-c-language/a9c4a586c7dcd3fe.htm\">http://computer-programming-forum.com/47-c-language/a9c4a586c7dcd3fe.htm</a>:</p>\n\n<blockquote>\n  <p>In pre-ANSI C -- as described in K&amp;R-1 -- malloc() returned a <code>char *</code>\n  and it was necessary to cast its return value in all cases where the\n  receiving variable was not also a <code>char *</code>.  The new <code>void *</code> type in\n  Standard C makes these contortions unnecessary.</p>\n  \n  <p>To save anybody from the embarrassment of leaping needlessly to the\n  defence of K&amp;R-2, I asked Dennis Ritchie for an opinion that I could\n  quote on the validity of the sentence cited above from page 142.  He\n  replied:</p>\n  \n  <blockquote>\n    <p><em>In any case, now that I reread the stuff on p. 142, I think it's\n        wrong; it's written in such a way that it's not just defensive\n        against earlier rules, it misrepresents the ANSI rules.</em></p>\n  </blockquote>\n</blockquote>\n", "title": "Why does the book say I must cast malloc?", "answer_id": 32652435, "question_id": 32652213, "tags": ["c", "casting", "malloc", "kernighan-and-ritchie"]}, {"body": "<p>Because Void pointer doesn't give any information about the data type it points to\n( char , int, array, structure,... etc).\nSo for the compiler to be able to deal with the data pointed to by this pointer is must be cast to the right type.</p>\n", "title": "Why does the book say I must cast malloc?", "answer_id": 32769291, "question_id": 32652213, "tags": ["c", "casting", "malloc", "kernighan-and-ritchie"]}], "question_id": 32652213}, {"body": "<p>I found both <code>long int long</code> and <code>int long long</code> can compile for a variable type. Is there any difference between <code>long int long</code>, <code>int long long</code> , <code>long long</code> and <code>long long int</code>?</p>\n\n<p>In general, is the type identical if it has the same number of <code>long</code>?</p>\n\n<p><strong>1 long:</strong></p>\n\n<pre><code>long l;\nint long il;\nlong int li;\n</code></pre>\n\n<p><strong>2 long:</strong></p>\n\n<pre><code>long long ll;\nint long long ill;\nlong int long lil;\nlong long int lli;\n</code></pre>\n\n<p>Also if above is right, are the following declarations also identical?</p>\n\n<pre><code>long long* llp;\nint long long* illp;\nlong int long* lilp;\nlong long int* llip;\n</code></pre>\n", "title": "Is &quot;long long&quot; = &quot;long long int&quot; = &quot;long int long&quot; = &quot;int long long&quot;?", "tags": ["c++", "syntax", "long-integer"], "answer_count": 4, "link": "http://stackoverflow.com/questions/30726423/is-long-long-long-long-int-long-int-long-int-long-long", "answers": [{"body": "<blockquote>\n  <p>Is the type identical...</p>\n</blockquote>\n\n<p>Yes.</p>\n\n<p>C++11 \u00a77.1.6.2/3</p>\n\n<blockquote>\n  <p><strong>&rdquo;</strong> When multiple <em>simple-type-specifier</em>s are allowed, they can be freely intermixed with other <em>decl-specifiers</em> in\n  any order.</p>\n</blockquote>\n", "title": "Is &quot;long long&quot; = &quot;long long int&quot; = &quot;long int long&quot; = &quot;int long long&quot;?", "answer_id": 30726614, "question_id": 30726423, "tags": ["c++", "syntax", "long-integer"]}, {"body": "<p>According to the C++ Standard (7.1.6.2 Simple type specifiers)</p>\n\n<blockquote>\n  <p>3 When multiple simple-type-specifiers are allowed, they can be freely\n  intermixed with other decl-specifiers in any order.</p>\n</blockquote>\n\n<p>So for example the following declaration is valid</p>\n\n<pre><code>long static long const int x = 10;\n</code></pre>\n\n<p>You may even use <code>constexpr</code> specifier along with <code>const</code> qualifier. For example</p>\n\n<pre><code>constexpr long static long const int x = 10;\n</code></pre>\n\n<p>By the way, we forgot about specifier <code>signed</code>! Let's add it for example before declarator <code>x</code></p>\n\n<pre><code>constexpr long static long const int signed x = 10;\n</code></pre>\n\n<p>In C you may also use several type qualifiers in the same declare specifier sequence. According to the C Standard (6.7.3 Type qualifiers)</p>\n\n<blockquote>\n  <p>5 If the same qualifier appears more than once in the same\n  specifier-qualifier-list, either directly or via one or more typedefs,\n  the behavior is the same as if it appeared only once....</p>\n</blockquote>\n\n<p>So for example in C the following declaration is also valid</p>\n\n<pre><code>const long const long static const int const signed x = 10;\n</code></pre>\n\n<p>So if you are paid according to the number of symbols typed in the program then I advise you to use such declarations. :)</p>\n", "title": "Is &quot;long long&quot; = &quot;long long int&quot; = &quot;long int long&quot; = &quot;int long long&quot;?", "answer_id": 30726896, "question_id": 30726423, "tags": ["c++", "syntax", "long-integer"]}, {"body": "<blockquote>\n  <p>Is \u201clong long\u201d = \u201clong long int\u201d = \u201clong int long\u201d = \u201cint long long\u201d?  </p>\n</blockquote>\n\n<p>All other answers here talked about the second part of your question. For the first part: <em>Is \u201clong long\u201d = \u201clong long int\u201d ?</em>, answer is <strong>yes</strong>.     </p>\n\n<h3>C++11 7.1.6.2 Simple type specifiers (table 10)</h3>\n\n<pre><code>Specifier(s)            Type\n...                     ...\nlong long int           \u201clong long int\u201d\nlong long               \u201clong long int\u201d\nlong int                \u201clong int\u201d\nlong                    \u201clong int\u201d  \n...                     ...  \n</code></pre>\n\n<p>For the second part of your question: <em>Is \u201clong int long\u201d = \u201cint long long\u201d?</em>, answer is yes again.  </p>\n\n<p>The type-specifiers <strong>may occur in any order and can be intermixed</strong> with the other declaration specifiers. Therefore, all of the following  </p>\n\n<pre><code>long long  \nlong long int  \nlong int long  \nint long long  \n</code></pre>\n\n<p>are valid and equivalent.</p>\n", "title": "Is &quot;long long&quot; = &quot;long long int&quot; = &quot;long int long&quot; = &quot;int long long&quot;?", "answer_id": 30729298, "question_id": 30726423, "tags": ["c++", "syntax", "long-integer"]}, {"body": "<p>Yes, but please <em>don't</em>. Just as English and German have conventional word orders for adjectives and adverbs (e.g. time - manner - place), so do C and C++. Varying from the conventional order won't confuse the compiler, but it will confuse your fellow developers. I would suggest that the conventional order is roughly along the lines of</p>\n\n<ol>\n<li><code>static</code>/<code>extern</code> (linkage)</li>\n<li><code>const</code>/<code>volatile</code> (modification)</li>\n<li><code>signed</code>/<code>unsigned</code> (signedness)</li>\n<li><code>short</code>/<code>long</code> (length)</li>\n<li>Basic type (head noun)</li>\n</ol>\n\n<p>although there's certainly some wiggle room.</p>\n", "title": "Is &quot;long long&quot; = &quot;long long int&quot; = &quot;long int long&quot; = &quot;int long long&quot;?", "answer_id": 30739478, "question_id": 30726423, "tags": ["c++", "syntax", "long-integer"]}], "question_id": 30726423}, {"body": "<pre><code>int func(char* str)\n{\n   char buffer[100];\n   unsigned short len = strlen(str);\n\n   if(len &gt;= 100)\n   {\n        return (-1);\n   }\n\n   strncpy(buffer,str,strlen(str));\n   return 0;\n}\n</code></pre>\n\n<p>This code is vulnerable to a buffer overflow attack, and I'm trying to figure out why. I'm thinking it has to do with <code>len</code> being declared a <code>short</code> instead of an <code>int</code>, but I'm not really sure.</p>\n\n<p><strong>Any ideas?</strong></p>\n", "title": "Why is this code vulnerable to buffer overflow attacks?", "tags": ["c", "security", "buffer-overflow"], "answer_count": 5, "link": "http://stackoverflow.com/questions/29910520/why-is-this-code-vulnerable-to-buffer-overflow-attacks", "answers": [{"body": "<p>On most compilers the maximum value of an <code>unsigned short</code> is 65535.</p>\n\n<p>Any value above that gets wrapped around, so 65536 becomes 0, and 65600 becomes 65.</p>\n\n<p>This means that long strings of the right length (e.g. 65600) will pass the check, and overflow the buffer.</p>\n\n<hr>\n\n<p>Use <code>size_t</code> to store the result of <code>strlen()</code>, not <code>unsigned short</code>, and compare <code>len</code> to an expression that directly encodes the size of <code>buffer</code>. So for example:</p>\n\n<pre><code>char buffer[100];\nsize_t len = strlen(str);\nif (len &gt;= sizeof(buffer) / sizeof(buffer[0]))  return -1;\nmemcpy(buffer, str, len + 1);\n</code></pre>\n", "title": "Why is this code vulnerable to buffer overflow attacks?", "answer_id": 29910563, "question_id": 29910520, "tags": ["c", "security", "buffer-overflow"]}, {"body": "<p>Even though you're using <code>strncpy</code>, the length of the cutoff is still dependent on the passed string pointer. You have no idea how long that string is (the location of the null terminator relative to the pointer, that is). So calling <code>strlen</code> alone opens you up to vulnerability. If you want to be more secure, use <code>strnlen(str, 100)</code>.</p>\n\n<p>Full code corrected would be:</p>\n\n<pre><code>int func(char *str) {\n   char buffer[100];\n   unsigned short len = strnlen(str, 100); // sizeof buffer\n\n   if (len &gt;= 100) {\n     return -1;\n   }\n\n   strcpy(buffer, str); // this is safe since null terminator is less than 100th index\n   return 0;\n}\n</code></pre>\n", "title": "Why is this code vulnerable to buffer overflow attacks?", "answer_id": 29910570, "question_id": 29910520, "tags": ["c", "security", "buffer-overflow"]}, {"body": "<p>The problem is here:</p>\n\n<pre><code>strncpy(buffer,str,strlen(str));\n                   ^^^^^^^^^^^\n</code></pre>\n\n<p>If the string is greater than the length of the target buffer, strncpy will still copy it over.  You are basing the number of characters of the string as the number to copy instead of the size of the buffer.  The correct way to do this is as follows:</p>\n\n<pre><code>strncpy(buffer,str, sizeof(buff) - 1);\nbuffer[sizeof(buff) - 1] = '\\0';\n</code></pre>\n\n<p>What this does is limit the amount of data copied to the actual size of the buffer minus one for the null terminating character.  Then we set the last byte in the buffer to the null character as an added safeguard.  The reason for this is because strncpy will copy upto n bytes, including the terminating null, if strlen(str) &lt; len - 1.  If not, then the null is not copied and you have a crash scenario because now your buffer has a unterminated string.</p>\n\n<p>Hope this helps.</p>\n\n<p>EDIT: Upon further examination and input from others, a possible coding for the function follows:</p>\n\n<pre><code>int func (char *str)\n  {\n    char buffer[100];\n    unsigned short size = sizeof(buffer);\n    unsigned short len = strlen(str);\n\n    if (len &gt; size - 1) return(-1);\n    memcpy(buffer, str, len + 1);\n    buffer[size - 1] = '\\0';\n    return(0);\n  }\n</code></pre>\n\n<p>Since we already know the length of the string, we can use memcpy to copy the string from the location that is referenced by str into the buffer.  Note that per the manual page for strlen(3) (on a FreeBSD 9.3 system), the following is stated:</p>\n\n<blockquote>\n<pre><code> The strlen() function returns the number of characters that precede the\n terminating NUL character.  The strnlen() function returns either the\n same result as strlen() or maxlen, whichever is smaller.\n</code></pre>\n</blockquote>\n\n<p>Which I interpret to be that the length of the string does not include the null.  That is why I copy len + 1 bytes to include the null, and the test checks to make sure that the length &lt; size of buffer - 2.  Minus one because the buffer starts at position 0, and minus another one to make sure there's room for the null.</p>\n\n<p>EDIT: Turns out, the size of something starts with 1 while access starts with 0, so the -2 before was incorrect because it would return an error for anything > 98 bytes but it should be > 99 bytes.</p>\n\n<p>EDIT: Although the answer about a unsigned short is generally correct as the maximum length that can be represented is 65,535 characters, it doesn't really matter because if the string is longer than that, the value will wrap around.  It's like taking 75,231 (which is 0x000125DF) and masking off the top 16 bits giving you 9695 (0x000025DF).  The only problem that I see with this is the first 100 chars past 65,535 as the length check will allow the copy, <strong>but it will only copy up to the first 100 characters of the string in all cases and null terminate the string</strong>.  So even with the wraparound issue, the buffer still will not be overflowed.</p>\n\n<p>This may or may not in itself pose a security risk depending on the content of the string and what you are using it for.  If it's just straight text that is human readable, then there is generally no problem.  You just get a truncated string.  However, if it's something like a URL or even a SQL command sequence, you could have a problem.</p>\n", "title": "Why is this code vulnerable to buffer overflow attacks?", "answer_id": 29910655, "question_id": 29910520, "tags": ["c", "security", "buffer-overflow"]}, {"body": "<p>The answer with the wrapping is right. But there is a problem I think was not mentioned\nif(len >= 100)</p>\n\n<p>Well if Len would be 100 we'd copy 100 elements an we'd not have trailing \\0. That clearly would mean any other function depending on  proper ended string would walk way beyond the original array.</p>\n\n<p>The string problematic from C is IMHO unsolvable. You'd alway better have some limits before the call, but even that won't help. There is no bounds checking and so buffer overflows always can and unfortunately will happen....</p>\n", "title": "Why is this code vulnerable to buffer overflow attacks?", "answer_id": 29911029, "question_id": 29910520, "tags": ["c", "security", "buffer-overflow"]}, {"body": "<p>Beyond the security issues involved with calling <code>strlen</code> more than once, one should generally not use string methods on strings whose length is precisely known [for most string functions, there's only a really narrow case where they should be used--on strings for which a maximum length can be guaranteed, but the precise length isn't known].  Once the length of the input string is known and the length of the output buffer is known, one should figure out how big a region should be copied and then use <code>memcpy()</code> to actually perform the copy in question.  Although it's possible that <code>strcpy</code> might outperform <code>memcpy()</code> when copying a string of only 1-3 bytes or so, on many platforms <code>memcpy()</code> is likely to be more than twice as fast when dealing with larger strings.</p>\n\n<p>Although there are some situations where security would come at the cost of performance, this is a situation where the secure approach is <em>also</em> the faster one.  In some cases, it may be reasonable to write code which is not secure against weirdly-behaving inputs, if code supplying the inputs can ensure they will be well-behaved, and if guarding against ill-behaved inputs would impede performance.  Ensuring that string lengths are only checked once improves <em>both</em> performance and security, though one extra thing can be done to help guard security even when tracking string length manually: for every string which is expected to have a trailing null, write the trailing null explicitly rather than expecting the source string to have it.  Thus, if one were writing an <code>strdup</code> equivalent:</p>\n\n<pre><code>char *strdupe(char const *src)\n{\n  size_t len = strlen(src);\n  char *dest = malloc(len+1);\n  // Calculation can't wrap if string is in valid-size memory block\n  if (!dest) return (OUT_OF_MEMORY(),(char*)0); \n  // OUT_OF_MEMORY is expected to halt; the return guards if it doesn't\n  memcpy(dest, src, len);      \n  dest[len]=0;\n  return dest;\n}\n</code></pre>\n\n<p>Note that the last statement could generally be omitted if the memcpy had processed <code>len+1</code> bytes, but it another thread were to modify the source string the result could be a non-NUL-terminated destination string.</p>\n", "title": "Why is this code vulnerable to buffer overflow attacks?", "answer_id": 29926367, "question_id": 29910520, "tags": ["c", "security", "buffer-overflow"]}], "question_id": 29910520}, {"body": "<p>I want to create a program that will simulate an out-of-memory (OOM) situation on a Unix server. I created this super-simple memory eater:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\nunsigned long long memory_to_eat = 1024 * 50000;\nsize_t eaten_memory = 0;\nvoid *memory = NULL;\n\nint eat_kilobyte()\n{\n    memory = realloc(memory, (eaten_memory * 1024) + 1024);\n    if (memory == NULL)\n    {\n        // realloc failed here - we probably can't allocate more memory for whatever reason\n        return 1;\n    }\n    else\n    {\n        eaten_memory++;\n        return 0;\n    }\n}\n\nint main(int argc, char **argv)\n{\n    printf(\"I will try to eat %i kb of ram\\n\", memory_to_eat);\n    int megabyte = 0;\n    while (memory_to_eat &gt; 0)\n    {\n        memory_to_eat--;\n        if (eat_kilobyte())\n        {\n            printf(\"Failed to allocate more memory! Stucked at %i kb :(\\n\", eaten_memory);\n            return 200;\n        }\n        if (megabyte++ &gt;= 1024)\n        {\n            printf(\"Eaten 1 MB of ram\\n\");\n            megabyte = 0;\n        }\n    }\n    printf(\"Successfully eaten requested memory!\\n\");\n    free(memory);\n    return 0;\n}\n</code></pre>\n\n<p>It eats as much memory as defined in <code>memory_to_eat</code> which now is exactly 50&nbsp;GB of RAM. It allocates memory by 1&nbsp;MB and prints exactly the point where it fails to allocate more, so that I know which maximum value it managed to eat.</p>\n\n<p>The problem is that it works. Even on a system with 1&nbsp;GB of physical memory.</p>\n\n<p>When I check top I see that the process eats 50&nbsp;GB of virtual memory and only less than 1&nbsp;MB of resident memory. Is there a way to create a memory eater that really does consume it?</p>\n\n<p>System specifications: Linux kernel 3.16 (<a href=\"http://en.wikipedia.org/wiki/Debian\">Debian</a>) most likely with overcommit enabled (not sure how to check it out) with no swap and virtualized.</p>\n", "title": "Why doesn&#39;t this memory eater really eat memory?", "tags": ["c", "linux", "memory", "virtual-memory"], "answer_count": 4, "link": "http://stackoverflow.com/questions/33234139/why-doesnt-this-memory-eater-really-eat-memory", "answers": [{"body": "<p>A sensible optimisation is being made here. The runtime does not actually <em>acquire</em> the memory until you use it.</p>\n\n<p>A simple <code>memcpy</code> will be sufficient to circumvent this optimisation. (You might find that <code>calloc</code> still optimises out the memory allocation until the point of use.)</p>\n", "title": "Why doesn&#39;t this memory eater really eat memory?", "answer_id": 33234293, "question_id": 33234139, "tags": ["c", "linux", "memory", "virtual-memory"]}, {"body": "<p>All the virtual pages start out copy-on-write mapped to the same zeroed physical page.  To use up physical pages, you can dirty them by writing something to each virtual page.</p>\n\n<p>If running as root, you can use <code>mlock(2)</code> or <code>mlockall(2)</code> to have the kernel wire up the pages when they're allocated, without having to dirty them.  (normal non-root users have a <code>ulimit -l</code> of only 64kiB.)</p>\n\n<blockquote>\n  <p>As many others suggested, it seems that the Linux kernel doesn't really allocate the memory unless you write to it</p>\n</blockquote>\n\n<h3>An improved version of the code, which does what the OP was wanting:</h3>\n\n<p>This also fixes the printf format string mismatches with the types of memory_to_eat and eaten_memory, using <code>%zi</code> to print <code>size_t</code> integers.  The memory size to eat, in kiB, can optionally be specified as a command line arg.</p>\n\n<p>The messy design using global variables, and growing by 1k instead of 4k pages, is unchanged.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\nsize_t memory_to_eat = 1024 * 50000;\nsize_t eaten_memory = 0;\nchar *memory = NULL;\n\nvoid write_kilobyte(char *pointer, size_t offset)\n{\n    int size = 0;\n    while (size &lt; 1024)\n    {   // writing one byte per page is enough, this is overkill\n        pointer[offset + (size_t) size++] = 1;\n    }\n}\n\nint eat_kilobyte()\n{\n    if (memory == NULL)\n    {\n        memory = malloc(1024);\n    } else\n    {\n        memory = realloc(memory, (eaten_memory * 1024) + 1024);\n    }\n    if (memory == NULL)\n    {\n        return 1;\n    }\n    else\n    {\n        write_kilobyte(memory, eaten_memory * 1024);\n        eaten_memory++;\n        return 0;\n    }\n}\n\nint main(int argc, char **argv)\n{\n    if (argc &gt;= 2)\n        memory_to_eat = atoll(argv[1]);\n\n    printf(\"I will try to eat %zi kb of ram\\n\", memory_to_eat);\n    int megabyte = 0;\n    int megabytes = 0;\n    while (memory_to_eat-- &gt; 0)\n    {\n        if (eat_kilobyte())\n        {\n            printf(\"Failed to allocate more memory at %zi kb :(\\n\", eaten_memory);\n            return 200;\n        }\n        if (megabyte++ &gt;= 1024)\n        {\n            megabytes++;\n            printf(\"Eaten %i  MB of ram\\n\", megabytes);\n            megabyte = 0;\n        }\n    }\n    printf(\"Successfully eaten requested memory!\\n\");\n    free(memory);\n    return 0;\n}\n</code></pre>\n", "title": "Why doesn&#39;t this memory eater really eat memory?", "answer_id": 33234488, "question_id": 33234139, "tags": ["c", "linux", "memory", "virtual-memory"]}, {"body": "<p><del>Not sure about this one but the only explanation that I can things of is that linux is a copy-on-write operating system. When one calls <code>fork</code> the both processes point to the same physically memory. The memory is only copied once one process actually WRITES to the memory.</del></p>\n\n<p>I think here, the actual physical memory is only allocated when one tries to write something to it. Calling <code>sbrk</code> or <code>mmap</code> may well only update the kernel's memory book-keep. The actual RAM may only be allocated when we actually try to access the memory.</p>\n", "title": "Why doesn&#39;t this memory eater really eat memory?", "answer_id": 33234674, "question_id": 33234139, "tags": ["c", "linux", "memory", "virtual-memory"]}, {"body": "<p>When your <code>malloc()</code> implementation requests memory from the system kernel (via an <code>sbrk()</code> or <code>mmap()</code> system call), the kernel only makes a note that you have requested the memory and where it is to be placed within your address space. <em>It does not actually map those pages yet</em>.</p>\n\n<p>When the process subsequently accesses memory within the new region, the hardware recognizes a segmentation fault and alerts the kernel to the condition. The kernel then looks up the page in its own data structures, and finds that you should have a zero page there, so it maps in a zero page (possibly first evicting a page from page-cache) and returns from the interrupt. Your process does not realize that any of this happened, the kernels operation is perfectly transparent (except for the short delay while the kernel does its work).</p>\n\n<p>This optimization allows the system call to return very quickly, and, most importantly, it avoids any resources to be committed to your process when the mapping is made. This allows processes to reserve rather large buffers that they never need under normal circumstances, without fear of gobbling up too much memory.</p>\n\n<hr>\n\n<p>So, if you want to program a memory eater, you absolutely have to actually do something with the memory you allocate. For this, you only need to add a single line to your code:</p>\n\n<pre><code>int eat_kilobyte()\n{\n    if (memory == NULL)\n        memory = malloc(1024);\n    else\n        memory = realloc(memory, (eaten_memory * 1024) + 1024);\n    if (memory == NULL)\n    {\n        return 1;\n    }\n    else\n    {\n        //Force the kernel to map the containing memory page.\n        ((char*)memory)[1024*eaten_memory] = 42;\n\n        eaten_memory++;\n        return 0;\n    }\n}\n</code></pre>\n\n<p>Note that it is perfectly sufficient to write to a single byte within each page (which contains 4096 bytes on X86). That's because all memory allocation from the kernel to a process is done at memory page granularity, which is, in turn, because of the hardware that does not allow paging at smaller granularities.</p>\n", "title": "Why doesn&#39;t this memory eater really eat memory?", "answer_id": 33235163, "question_id": 33234139, "tags": ["c", "linux", "memory", "virtual-memory"]}], "question_id": 33234139}], "quota_max": 300, "page_size": 100, "quota_remaining": 284, "page": 1}