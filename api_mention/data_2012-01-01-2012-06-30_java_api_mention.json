{"items": [{"body": "<p>In Swing, the password field has a <code>getPassword()</code> (returns <code>char[]</code>) method instead of the usual <code>getText()</code> (returns <code>String</code>) method. Similarly, I have come across a suggestion not to use <code>String</code> to handle passwords.</p>\n\n<p>Why does <code>String</code> pose a threat to security when it comes to passwords?\nIt feels inconvenient to use <code>char[]</code>.</p>\n", "title": "Why is char[] preferred over String for passwords in Java?", "tags": ["java", "string", "security", "passwords", "char"], "link": "http://stackoverflow.com/questions/8881291/why-is-char-preferred-over-string-for-passwords-in-java", "post_type": "question", "question_id": 8881291}, {"body": "<p>Say I have a URL </p>\n\n<pre><code>http://example.com/query?q= \n</code></pre>\n\n<p>and I have a query entered by the user such as:</p>\n\n<blockquote>\n  <p>random word \u00a3500 bank $</p>\n</blockquote>\n\n<p>I want the result to be a properly encoded URL:</p>\n\n<pre><code>http://example.com/query?q=random%20word%20%A3500%20bank%20%24\n</code></pre>\n\n<p>What's the best way to achieve this? I tried <code>URLEncoder</code> and creating URI/URL objects but none of them come out quite right.</p>\n", "title": "Java URL encoding of query string parameters", "tags": ["java", "http", "url", "encoding", "urlencode"], "link": "http://stackoverflow.com/questions/10786042/java-url-encoding-of-query-string-parameters", "post_type": "question", "question_id": 10786042}, {"body": "<p>In Java there are the <code>SortedSet</code> and <code>SortedMap</code> interfaces. Both belong to Java's standard Collections framework and provide a sorted way to access the elements. </p>\n\n<p>However, in my understanding there is no <code>SortedList</code> in Java. You can use <code>java.util.Collections.sort()</code> to sort a list.</p>\n\n<p>Any idea why it is designed like that?</p>\n", "title": "Why is there no SortedList in Java?", "tags": ["java", "sorting", "collections"], "link": "http://stackoverflow.com/questions/8725387/why-is-there-no-sortedlist-in-java", "post_type": "question", "question_id": 8725387}, {"body": "<p>We can determine the length of an <code>ArrayList&lt;E&gt;</code> using its public method <code>size()</code>, like</p>\n\n<pre><code>ArrayList&lt;Integer&gt; arr = new ArrayList(10);\nint size = arr.size();\n</code></pre>\n\n<p>Similarly we can determine the length of an <code>Array</code> object using the <code>length</code> property</p>\n\n<pre><code>String[] str = new String[10];\nint size =  str.length;\n</code></pre>\n\n<p>Whereas the <code>size()</code> method of <code>ArrayList</code> is defined inside the <code>ArrayList</code> class, where is this <code>length</code> property of <code>Array</code> defined?</p>\n", "title": "Where is array&#39;s length property defined?", "tags": ["java", "arrays"], "link": "http://stackoverflow.com/questions/9297899/where-is-arrays-length-property-defined", "post_type": "question", "question_id": 9297899}, {"body": "<p>I looked at the default Zip library that comes with the JDK and the Apache compression libs and I am unhappy with them for 3 reasons:</p>\n\n<ol>\n<li><p>They are bloated and have bad API design. I have to <a href=\"http://www.codejava.net/java-se/file-io/programmatically-extract-a-zip-file-using-java\">write 50 lines of boiler plate byte array output, zip input, file out streams and close relevant streams and catch exceptions and move byte buffers on my own</a>? Why can't I have a simple API that looks like this <code>Zipper.unzip(InputStream zipFile, File targetDirectory, String password = null)</code> and <code>Zipper.zip(File targetDirectory, String password = null)</code> that just works?</p></li>\n<li><p>It seems zipping unzipping destroys file meta-data and password handling is broken.</p></li>\n<li><p>Also, all the libraries I tried were 2-3x slow compared to the command line zip tools I get with UNIX?</p></li>\n</ol>\n\n<p>For me (2) and (3) are minor points but I really want a good tested library with a one-line interface.</p>\n", "title": "What is a good Java library to zip/unzip files?", "tags": ["compression", "zip", "unzip", "java"], "link": "http://stackoverflow.com/questions/9324933/what-is-a-good-java-library-to-zip-unzip-files", "post_type": "question", "question_id": 9324933}, {"body": "<p>I am trying to develop a system where there are different nodes that are run on different system or on different ports on the same system. Now all the nodes create a Socket with a target IP as the IP of a special node known as a bootstrapping node. The nodes then create their own <code>ServerSocket</code> and start listening for connections. The bootstrapping node maintains a list of Nodes and returns them on being quired. Now what I need is the node must register its IP to the bootstrapping node. I tried using <code>cli.getInetAddress()</code> once the client connects to the <code>ServerSocket</code> of bootstrapping node but that didn't work.</p>\n\n<ol>\n<li>I need the client to register its PPP IP if available;</li>\n<li>Otherwise the LAN IP if available; </li>\n<li>Otherwise it must register 127.0.0.1 assuming its the same computer.</li>\n</ol>\n\n<p>Please help me with this.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>using the code:</p>\n\n<pre><code>System.out.println(Inet4Address.getLocalHost().getHostAddress());\n</code></pre>\n\n<p>or</p>\n\n<pre><code>System.out.println(InetAddress.getLocalHost().getHostAddress());\n</code></pre>\n\n<p>My PPP Connection IP address is: 117.204.44.192 but the above returns me 192.168.1.2</p>\n\n<p><strong>EDIT2</strong></p>\n\n<p>I am using the following code:</p>\n\n<pre><code>Enumeration e = NetworkInterface.getNetworkInterfaces();\nwhile(e.hasMoreElements())\n{\n    NetworkInterface n = (NetworkInterface) e.nextElement();\n    Enumeration ee = n.getInetAddresses();\n    while (ee.hasMoreElements())\n    {\n        InetAddress i = (InetAddress) ee.nextElement();\n        System.out.println(i.getHostAddress());\n    }\n}\n</code></pre>\n\n<p>I am able to get all the IP addresses associated all <code>NetworkInterface</code>s, but how do I distinguish them??\nThis is the output I am getting:</p>\n\n<pre><code>127.0.0.1\n192.168.1.2\n192.168.56.1\n117.204.44.19\n</code></pre>\n", "title": "Getting the IP address of the current machine using Java", "tags": ["java", "sockets", "ip"], "link": "http://stackoverflow.com/questions/9481865/getting-the-ip-address-of-the-current-machine-using-java", "post_type": "question", "question_id": 9481865}, {"body": "<p>How do atomic / volatile / synchronized work internally?</p>\n\n<p>What is the difference between the following code blocks?</p>\n\n<p>Code 1</p>\n\n<pre><code>private int counter;\n\npublic int getNextUniqueIndex() {\n    return counter++; \n}\n</code></pre>\n\n<p>Code 2</p>\n\n<pre><code>private AtomicInteger counter;\n\npublic int getNextUniqueIndex() {\n    return counter.getAndIncrement();\n}\n</code></pre>\n\n<p>Code 3</p>\n\n<pre><code>private volatile int counter;\n\npublic int getNextUniqueIndex() {\n    return counter++; \n}\n</code></pre>\n\n<hr>\n\n<p>Does <code>volatile</code> work in the following way? Is</p>\n\n<pre><code>volatile int i = 0;\nvoid incIBy5() {\n    i += 5;\n}\n</code></pre>\n\n<p>equivalent to </p>\n\n<pre><code>void incIBy5() {\n    int temp;\n    synchronized(i) { temp = i }\n    synchronized(i) { i = temp + 5 }\n}\n</code></pre>\n\n<p>I think that two threads cannot enter a synchronized block at the same time... am I right? If this is true then how does <code>atomic.incrementAndGet()</code> work without <code>synchronized</code>? And is it thread-safe?</p>\n\n<p>And what is the difference between internal reading and writing to volatile variables / atomic variables? I read in some article that the thread has a local copy of the variables - what is that?</p>\n", "title": "What is the difference between atomic / volatile / synchronized?", "tags": ["java", "multithreading", "synchronization", "atomic", "volatile"], "link": "http://stackoverflow.com/questions/9749746/what-is-the-difference-between-atomic-volatile-synchronized", "post_type": "question", "question_id": 9749746}, {"body": "<p>With Mockito, I want to <code>verify()</code> a method call with <code>byte[]</code> in its argument list, but I didn't find how to write this.</p>\n\n<pre><code> myMethod( byte[] )\n</code></pre>\n\n<p>I just want something like <code>anyByteArray()</code>, how to do that with Mockito ?</p>\n", "title": "Mockito matcher and array of primitives", "tags": ["java", "mockito"], "link": "http://stackoverflow.com/questions/10066590/mockito-matcher-and-array-of-primitives", "post_type": "question", "question_id": 10066590}, {"body": "<p>In Java, what would the fastest way to iterate over all the chars in a String, this:</p>\n\n<pre><code>String str = \"a really, really long string\";\nfor (int i = 0, n = str.length(); i &lt; n; i++) {\n    char c = str.charAt(i);\n}\n</code></pre>\n\n<p>Or this:</p>\n\n<pre><code>char[] chars = str.toCharArray();\nfor (int i = 0, n = chars.length; i &lt; n; i++) {\n    char c = chars[i];\n}\n</code></pre>\n\n<p><strong>EDIT :</strong></p>\n\n<p>What I'd like to know is if the cost of repeatedly calling the <code>charAt</code> method during a long iteration ends up being either less than or greater than the cost of performing a single call to <code>toCharArray</code> at the beginning and then directly accessing the array during the iteration.</p>\n\n<p>It'd be great if someone could provide a robust benchmark for different string lengths, having in mind JIT warm-up time, JVM start-up time, etc. and not just the difference between two calls to <code>System.currentTimeMillis()</code>.</p>\n", "title": "Fastest way to iterate over all the chars in a String", "tags": ["java", "string", "performance", "char", "iteration"], "link": "http://stackoverflow.com/questions/8894258/fastest-way-to-iterate-over-all-the-chars-in-a-string", "post_type": "question", "question_id": 8894258}, {"body": "<p>What's the difference between java.lang.String 's <code>replace()</code> and <code>replaceAll()</code> methods, \nother than later uses regex? For simple substitutions like, replace <code>.</code> with <code>/</code>  , \nis there any difference?</p>\n", "title": "Difference between String replace() and replaceAll()", "tags": ["java", "string", "replace"], "link": "http://stackoverflow.com/questions/10827872/difference-between-string-replace-and-replaceall", "post_type": "question", "question_id": 10827872}, {"body": "<p>Swing components have multiple methods related to updates of screen layout, in particular:</p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/awt/Container.html#validate--\"><code>validate()</code></a></li>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/awt/Container.html#invalidate--\"><code>invalidate()</code></a></li>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/javax/swing/JComponent.html#revalidate--\"><code>revalidate()</code></a></li>\n</ul>\n\n<p>The Java documentation defines these somewhat from a technical perspective, but it's not particularly clear how they are meant to be used.</p>\n\n<p>What is the difference between these, and in what circumstances should you use one rather than the others?</p>\n", "title": "Difference between validate(), revalidate() and invalidate() in Swing GUI", "tags": ["java", "swing", "user-interface"], "link": "http://stackoverflow.com/questions/9510125/difference-between-validate-revalidate-and-invalidate-in-swing-gui", "post_type": "question", "question_id": 9510125}, {"body": "<p>I am using trying to use the <code>toString(int[])</code> method, but I think I am doing it wrong:</p>\n\n<p><a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Arrays.html#toString%28int%5B%5D%29\">http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Arrays.html#toString(int[])</a></p>\n\n<p>My code:</p>\n\n<pre><code>int[] array = new int[lnr.getLineNumber() + 1];\nint i = 0;\n\nSystem.out.println(array.toString());\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>[I@23fc4bec\n</code></pre>\n\n<p>Also I tried printing like this, but:</p>\n\n<pre><code>System.out.println(new String().toString(array));  // **error on next line**\nThe method toString() in the type String is not applicable for the arguments (int[])\n</code></pre>\n\n<p><strong>I took this code out of bigger and more complex code, but I can add it if needed. But this should give general information.</strong></p>\n\n<p>I am looking for output, like in Oracle's documentation:</p>\n\n<blockquote>\n  <p>The string representation consists of a list of the array's elements, enclosed in square brackets (\"[]\"). Adjacent elements are separated by the characters \", \" (a comma followed by a space). </p>\n</blockquote>\n", "title": "How to convert an int array to String with toString method in Java", "tags": ["java", "arrays", "tostring"], "link": "http://stackoverflow.com/questions/10904911/how-to-convert-an-int-array-to-string-with-tostring-method-in-java", "post_type": "question", "question_id": 10904911}, {"body": "<pre><code>Iterator ite = Set.iterator();\nIterator ite = List.iterator();\n\nListIterator listite = List.listIterator();\n</code></pre>\n\n<p>We can use <code>Iterator</code> to traverse a <code>Set</code> or a <code>List</code> or a <code>Map</code>. But <code>ListIterator</code> can only be used to traverse a <code>List</code>, it can't traverse a <code>Set</code>. Why?</p>\n\n<p>I know that the main difference is that with iterator we can travel in only one direction but with <code>ListIterator</code> we can travel both directions. Are there any other differences? And any advantages of <code>ListIterator</code> over <code>Iterator</code>?</p>\n", "title": "Difference between Iterator and Listiterator?", "tags": ["java", "list", "iterator", "set", "listiterator"], "link": "http://stackoverflow.com/questions/10977992/difference-between-iterator-and-listiterator", "post_type": "question", "question_id": 10977992}, {"body": "<ol>\n<li><strong>Strings are immutable</strong> in Java if you store password as plain text it will be available in memory until Garbage collector clears it and since Strings are used in String pool for re-usability there is pretty high chance that it will be remain in memory for long duration, which pose a security threat. Since any one who has access to memory dump can find the password in clear text </li>\n<li><strong>Java recommendation</strong> using <code>getPassword()</code> method of JPasswordField which returns a char[] and deprecated <code>getText()</code> method which returns password in clear text stating security reason. </li>\n<li><p><strong>toString()</strong> there is always a risk of printing plain text in log file or console but if use Array you won't print contents of array instead its memory location get printed. </p>\n\n<pre><code>String strPwd = \"passwd\";\nchar[] charPwd = new char[]{'p','a','s','s','w','d'};\nSystem.out.println(\"String password: \" + strPwd );\nSystem.out.println(\"Character password: \" + charPwd );\n</code></pre>\n\n<blockquote>\n  <p>String password: passwd</p>\n  \n  <p>Character password: [C@110b2345</p>\n</blockquote></li>\n</ol>\n\n<p><strong>Final thoughts:</strong> Though using char[] is not just enough you need to erase content to be more secure. I also suggest working with hash'd or encrypted password instead of plaintext and clearing it from memory as soon as authentication is completed.</p>\n", "title": "Why is char[] preferred over String for passwords in Java?", "tags": ["java", "string", "security", "passwords", "char"], "link": "http://stackoverflow.com/questions/8881291/why-is-char-preferred-over-string-for-passwords-in-java/14060804#14060804", "post_type": "answer", "question_id": 8881291, "answer_id": 14060804}, {"body": "<p>You need </p>\n\n<pre><code>test.split(\"\\\\|\");\n</code></pre>\n\n<p><code>split</code> uses regular expression and in <em>regex</em> <code>|</code> is metacharacter representing <code>OR</code> operator. You need to escape that character using <code>\\</code> (written in String as <code>\"\\\\\"</code> since <code>\\</code> is also metacharacter in String literals and require another <code>\\</code> to escape it).</p>\n\n<p>You can also use </p>\n\n<pre><code>test.split(Pattern.quote(\"|\"));\n</code></pre>\n\n<p>and let <code>Pattern.quote</code> create escaped version of regex representing <code>|</code>.</p>\n", "title": "Splitting a Java String by the pipe symbol using split(&quot;|&quot;)", "tags": ["java", "regex", "string"], "link": "http://stackoverflow.com/questions/10796160/splitting-a-java-string-by-the-pipe-symbol-using-split/10796174#10796174", "post_type": "answer", "question_id": 10796160, "answer_id": 10796174}, {"body": "<p>Use proper escaping: <code>string.split(\"\\\\|\")</code></p>\n\n<p>Or the helper <code>Regexp.quote()</code> which has been created for exactly this purpose: </p>\n\n<pre><code>string.split(Regexp.quote(\"|\"))\n</code></pre>\n\n<p>which works with arbitrary input strings. Very useful when you need to quote / escape user input.</p>\n", "title": "Splitting a Java String by the pipe symbol using split(&quot;|&quot;)", "tags": ["java", "regex", "string"], "link": "http://stackoverflow.com/questions/10796160/splitting-a-java-string-by-the-pipe-symbol-using-split/21025279#21025279", "post_type": "answer", "question_id": 10796160, "answer_id": 21025279}, {"body": "<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/net/URLEncoder.html\"><code>URLEncoder</code></a> should be the way to go. You only need to keep in mind to encode <em>only</em> the individual query string parameter name and/or value, not the entire URL, for sure not the query string parameter separator character <code>&amp;</code> nor the parameter name-value separator character <code>=</code>.</p>\n\n<pre><code>String q = \"random word \u00a3500 bank $\";\nString url = \"http://example.com/query?q=\" + URLEncoder.encode(q, \"UTF-8\");\n</code></pre>\n\n<hr>\n\n<p>Note that spaces in query parameters are represented by <code>+</code>, not <code>%20</code>, which is legitimately valid. The <code>%20</code> is usually to be used to represent spaces in URI itself (the part before the URI-query string separator character <code>?</code>), not in query string (the part after <code>?</code>).</p>\n\n<p>Also note that there are two <code>encode()</code> methods. One without charset argument and another with. The one without charset argument is deprecated. Never use it and always specify the charset argument. The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/net/URLEncoder.html\">javadoc</a> even explicitly recommends to use the UTF-8 encoding, as mandated by <a href=\"http://tools.ietf.org/html/rfc3986\">RFC3986</a> and <a href=\"http://www.w3.org/TR/html40/appendix/notes.html#non-ascii-chars\">W3C</a>.</p>\n\n<blockquote>\n  <p>All other characters are unsafe and are first converted into one or more bytes using some encoding scheme. Then each byte is represented by the 3-character string \"%xy\", where xy is the two-digit hexadecimal representation of the byte. <strong>The recommended encoding scheme to use is UTF-8</strong>. However, for compatibility reasons, if an encoding is not specified, then the default encoding of the platform is used.</p>\n</blockquote>\n\n<h3>See also:</h3>\n\n<ul>\n<li><a href=\"https://www.talisman.org/~erlkonig/misc/lunatech%5Ewhat-every-webdev-must-know-about-url-encoding/\">What every web developer must know about URL encoding</a></li>\n</ul>\n", "title": "Java URL encoding of query string parameters", "tags": ["java", "http", "url", "encoding", "urlencode"], "link": "http://stackoverflow.com/questions/10786042/java-url-encoding-of-query-string-parameters/10786112#10786112", "post_type": "answer", "question_id": 10786042, "answer_id": 10786112}, {"body": "<p>I would not use <code>URLEncoder</code>. Besides being incorrectly named (<code>URLEncoder</code> has nothing to do with URLs), inefficient (it uses a <code>StringBuffer</code> instead of Builder and does a couple of other things that are slow) Its also way too easy to screw it up.</p>\n\n<p>Instead I would use <a href=\"http://stackoverflow.com/questions/444112/how-do-i-encode-uri-parameter-values\"><code>URIBuilder</code> or Spring's <code>URIUtils</code> or Commons Apache <code>HttpClient</code></a>.\nThe reason being you have to escape the query parameters name (ie BalusC's answer <code>q</code>) differently than the parameter value. </p>\n\n<p>The only downside to the above (that I found out painfully) is that <a href=\"http://adamgent.com/post/25161273526/urls-are-not-a-subset-of-uris\">URL's are not a true subset of URI's</a>. </p>\n\n<p><em>Since I'm just linking to other answers I marked this as a community wiki. Feel free to edit.</em></p>\n", "title": "Java URL encoding of query string parameters", "tags": ["java", "http", "url", "encoding", "urlencode"], "link": "http://stackoverflow.com/questions/10786042/java-url-encoding-of-query-string-parameters/16226168#16226168", "post_type": "answer", "question_id": 10786042, "answer_id": 16226168}, {"body": "<p>You need to first create a URI like:</p>\n\n<pre><code>    String urlStr = \"http://www.example.com/CEREC\u00ae Materials &amp; Accessories/IPS Empress\u00ae CAD.pdf\"\n    URL url= new URL(urlStr);\n    URI uri = new URI(url.getProtocol(), url.getUserInfo(), url.getHost(), url.getPort(), url.getPath(), url.getQuery(), url.getRef());\n</code></pre>\n\n<p>Then convert that Uri to ASCII string:</p>\n\n<pre><code>    urlStr=uri.toASCIIString();\n</code></pre>\n\n<p>Now your url string is completely encoded first we did simple url encoding and then we converted it to ASCII String to make sure no character outside US-ASCII are remaining in string. This is exactly how browsers do.</p>\n", "title": "Java URL encoding of query string parameters", "tags": ["java", "http", "url", "encoding", "urlencode"], "link": "http://stackoverflow.com/questions/10786042/java-url-encoding-of-query-string-parameters/25735202#25735202", "post_type": "answer", "question_id": 10786042, "answer_id": 25735202}, {"body": "<p>The first one using <code>str.charAt</code> should be faster.</p>\n\n<p>If you dig inside the source code of <code>String</code> class, we can see that <code>charAt</code> is implemented as follows:</p>\n\n<pre><code>public char charAt(int index) {\n    if ((index &lt; 0) || (index &gt;= count)) {\n        throw new StringIndexOutOfBoundsException(index);\n    }\n    return value[index + offset];\n}\n</code></pre>\n\n<p>Here, all it does is index an array and return the value.</p>\n\n<p>Now, if we see the implementation of <code>toCharArray</code>, we will find the below:</p>\n\n<pre><code>public char[] toCharArray() {\n    char result[] = new char[count];\n    getChars(0, count, result, 0);\n    return result;\n}\n\npublic void getChars(int srcBegin, int srcEnd, char dst[], int dstBegin) {\n    if (srcBegin &lt; 0) {\n        throw new StringIndexOutOfBoundsException(srcBegin);\n    }\n    if (srcEnd &gt; count) {\n        throw new StringIndexOutOfBoundsException(srcEnd);\n    }\n    if (srcBegin &gt; srcEnd) {\n        throw new StringIndexOutOfBoundsException(srcEnd - srcBegin);\n    }\n    System.arraycopy(value, offset + srcBegin, dst, dstBegin,\n         srcEnd - srcBegin);\n}\n</code></pre>\n\n<p>As you see, it is doing a <code>System.arraycopy</code> which is definitely going to be a tad slower than not doing it.</p>\n", "title": "Fastest way to iterate over all the chars in a String", "tags": ["java", "string", "performance", "char", "iteration"], "link": "http://stackoverflow.com/questions/8894258/fastest-way-to-iterate-over-all-the-chars-in-a-string/8894348#8894348", "post_type": "answer", "question_id": 8894258, "answer_id": 8894348}, {"body": "<p>Looks like niether is faster or slower</p>\n\n<pre><code>    public static void main(String arguments[]) {\n\n\n        //Build a long string\n        StringBuilder sb = new StringBuilder();\n        for(int j = 0; j &lt; 10000; j++) {\n            sb.append(\"a really, really long string\");\n        }\n        String str = sb.toString();\n        for (int testscount = 0; testscount &lt; 10; testscount ++) {\n\n\n            //Test 1\n            long start = System.currentTimeMillis();\n            for(int c = 0; c &lt; 10000000; c++) {\n                for (int i = 0, n = str.length(); i &lt; n; i++) {\n                    char chr = str.charAt(i);\n                    doSomethingWithChar(chr);//To trick JIT optimistaion\n                }\n            }\n\n            System.out.println(\"1: \" + (System.currentTimeMillis() - start));\n\n            //Test 2\n            start = System.currentTimeMillis();\n            char[] chars = str.toCharArray();\n            for(int c = 0; c &lt; 10000000; c++) {\n                for (int i = 0, n = chars.length; i &lt; n; i++) {\n                    char chr = chars[i];\n                    doSomethingWithChar(chr);//To trick JIT optimistaion\n                }\n            }\n            System.out.println(\"2: \" + (System.currentTimeMillis() - start));\n            System.out.println();\n        }\n\n\n    }\n\n\n    public static void doSomethingWithChar(char chr) {\n        int newInt = chr &lt;&lt; 2;\n    }\n</code></pre>\n\n<p>For long strings I'll chose the first one. Why copy around long strings?\nDocumentations says:</p>\n\n<blockquote>\n  <p>public char[] toCharArray()\n  Converts this string to a new character array. </p>\n  \n  <p>Returns:\n  a newly allocated character array whose length is the length of this string and whose contents are initialized to contain the character sequence represented by this string.</p>\n</blockquote>\n\n<p><strong>//Edit 1</strong> </p>\n\n<p>I've changed the test to trick JIT optimisation.</p>\n\n<p><strong>//Edit 2</strong></p>\n\n<p>Repeat test 10 times to let JVM warm up.</p>\n\n<p><strong>//Edit 3</strong></p>\n\n<p>Conclusions:</p>\n\n<p>First of all <code>str.toCharArray();</code> copies entire string in memory. It can be memory consuming for long strings. Method <code>String.charAt( )</code> looks up char in char array inside String class checking index before.\nIt looks like for short enough Strings first method (i.e. <code>chatAt</code> method) is a bit slower due to this index check. But if the String is long enough, copying whole char array gets slower, and the first method is faster. The longer the string is, the slower <code>toCharArray</code> performs. Try to change limit in <code>for(int j = 0; j &lt; 10000; j++)</code> loop to see it.\nIf we let JVM warm up code runs faster, but proportions are the same.</p>\n\n<p>After all it's just micro-optimisation.</p>\n", "title": "Fastest way to iterate over all the chars in a String", "tags": ["java", "string", "performance", "char", "iteration"], "link": "http://stackoverflow.com/questions/8894258/fastest-way-to-iterate-over-all-the-chars-in-a-string/8894356#8894356", "post_type": "answer", "question_id": 8894258, "answer_id": 8894356}, {"body": "<p>This is just micro-optimisation that you shouldn't worry about.</p>\n\n<pre><code>char[] chars = str.toCharArray();\n</code></pre>\n\n<p>returns you a copy of <code>str</code> character arrays (in JDK, it returns a copy of characters by calling <code>System.arrayCopy</code>).</p>\n\n<p>Other than that, <code>str.charAt()</code> only checks if the index is indeed in bounds and returns a character within the array index.</p>\n\n<p>The first one doesn't create additional memory in JVM.</p>\n", "title": "Fastest way to iterate over all the chars in a String", "tags": ["java", "string", "performance", "char", "iteration"], "link": "http://stackoverflow.com/questions/8894258/fastest-way-to-iterate-over-all-the-chars-in-a-string/8894384#8894384", "post_type": "answer", "question_id": 8894258, "answer_id": 8894384}, {"body": "<p>Despite @Saint Hill's answer if you consider the time complexity of <strong>str.toCharArray()</strong>, </p>\n\n<p>the first one is faster even for very large strings. You can run the code below to see it for yourself.</p>\n\n<pre><code>        char [] ch = new char[1_000_000_00];\n    String str = new String(ch); // to create a large string\n\n    // ---&gt; from here\n    long currentTime = System.nanoTime();\n    for (int i = 0, n = str.length(); i &lt; n; i++) {\n        char c = str.charAt(i);\n    }\n    // ---&gt; to here\n    System.out.println(\"str.charAt(i):\"+(System.nanoTime()-currentTime)/1000000.0 +\" (ms)\");\n\n    /**\n     *   ch = str.toCharArray() itself takes lots of time   \n     */\n    // ---&gt; from here\n    currentTime = System.nanoTime();\n    ch = str.toCharArray();\n    for (int i = 0, n = str.length(); i &lt; n; i++) {\n        char c = ch[i];\n    }\n    // ---&gt; to  here\n    System.out.println(\"ch = str.toCharArray() + c = ch[i] :\"+(System.nanoTime()-currentTime)/1000000.0 +\" (ms)\");\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>str.charAt(i):5.492102 (ms)\nch = str.toCharArray() + c = ch[i] :79.400064 (ms)\n</code></pre>\n", "title": "Fastest way to iterate over all the chars in a String", "tags": ["java", "string", "performance", "char", "iteration"], "link": "http://stackoverflow.com/questions/8894258/fastest-way-to-iterate-over-all-the-chars-in-a-string/22676782#22676782", "post_type": "answer", "question_id": 8894258, "answer_id": 22676782}, {"body": "<p>In <code>java.lang.String</code>, the <code>replace</code> method either takes a pair of char's or a pair of <code>CharSequence</code>'s (of which String is a subclass, so it'll happily take a pair of String's). The <code>replace</code> method will replace all occurrences of a char or <code>CharSequence</code>. On the other hand, both <code>String</code> arguments to <code>replaceFirst</code> and <code>replaceAll</code> are regular expressions (regex). Using the wrong function can lead to subtle bugs. </p>\n", "title": "Difference between String replace() and replaceAll()", "tags": ["java", "string", "replace"], "link": "http://stackoverflow.com/questions/10827872/difference-between-string-replace-and-replaceall/10827900#10827900", "post_type": "answer", "question_id": 10827872, "answer_id": 10827900}, {"body": "<p>The <code>replace()</code> method is overloaded to accept both a primitive <code>char</code> and a <code>CharSequence</code> as arguments.</p>\n\n<p>Now as far as the performance is concerned, the <code>replace()</code> method is a bit faster than <code>replaceAll()</code> because the later first compiles the regex pattern and then matches before finally replacing whereas the former simply matches for the provided argument and replaces.</p>\n\n<p>Since we know the regex pattern matching is a bit more complex and consequently slower, then preferring <code>replace()</code> over <code>replaceAll()</code> is suggested whenever possible.</p>\n\n<p>For example, for simple substitutions like you mentioned, it is better to use:</p>\n\n<pre><code>replace('.', '\\\\');\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>replaceAll(\"\\\\.\", \"\\\\\\\\\");\n</code></pre>\n\n<p>Note: the above conversion method arguments are system-dependent.</p>\n", "title": "Difference between String replace() and replaceAll()", "tags": ["java", "string", "replace"], "link": "http://stackoverflow.com/questions/10827872/difference-between-string-replace-and-replaceall/10827945#10827945", "post_type": "answer", "question_id": 10827872, "answer_id": 10827945}, {"body": "<p>Old thread I know but I am sort of new to Java and discover one of it's strange things. I have used <code>String.replaceAll()</code> but get unpredictable results.</p>\n\n<p>Something like this mess up the string:</p>\n\n<pre><code>sUrl = sUrl.replaceAll( \"./\", \"//\").replaceAll( \"//\", \"/\");\n</code></pre>\n\n<p>So I designed this function to get around the weird problem:</p>\n\n<pre><code>//String.replaceAll does not work OK, that's why this function is here\npublic String strReplace( String s1, String s2, String s ) \n{\n    if((( s == null ) || (s.length() == 0 )) || (( s1 == null ) || (s1.length() == 0 )))\n     { return s; }\n\n   while( (s != null) &amp;&amp; (s.indexOf( s1 ) &gt;= 0) )\n    { s = s.replace( s1, s2 ); }\n  return s;\n}\n</code></pre>\n\n<p>Which make you able to do:</p>\n\n<pre><code>sUrl=this.strReplace(\"./\", \"//\", sUrl );\nsUrl=this.strReplace( \"//\", \"/\", sUrl );\n</code></pre>\n", "title": "Difference between String replace() and replaceAll()", "tags": ["java", "string", "replace"], "link": "http://stackoverflow.com/questions/10827872/difference-between-string-replace-and-replaceall/22578124#22578124", "post_type": "answer", "question_id": 10827872, "answer_id": 22578124}, {"body": "<p><code>replace()</code> method doesn't uses regex pattern whereas <code>replaceAll()</code> method uses regex pattern. So <code>replace()</code> performs faster than <code>replaceAll()</code>.</p>\n", "title": "Difference between String replace() and replaceAll()", "tags": ["java", "string", "replace"], "link": "http://stackoverflow.com/questions/10827872/difference-between-string-replace-and-replaceall/30749407#30749407", "post_type": "answer", "question_id": 10827872, "answer_id": 30749407}, {"body": "<p>Since all lists are already \"sorted\" by the order the items were added (FIFO ordering), you can \"resort\" them with another ordering, including the natural ordering of elements, using <code>java.util.Collections.sort()</code>.</p>\n\n<p>EDIT:</p>\n\n<p>Lists as data structures are based in what is interesting is the ordering in which the items where inserted.</p>\n\n<p>Sets do not have that information.</p>\n\n<p>If you want to order by addition time, use <code>List</code>. If you want to order by other criteria, use <code>SortedSet</code>.</p>\n", "title": "Why is there no SortedList in Java?", "tags": ["java", "sorting", "collections"], "link": "http://stackoverflow.com/questions/8725387/why-is-there-no-sortedlist-in-java/8725453#8725453", "post_type": "answer", "question_id": 8725387, "answer_id": 8725453}, {"body": "<p>List iterators guarantee first and foremost that you get the list's elements in the internal order of the list (aka. <em>insertion order</em>). More specifically it is in the order you've inserted the elements or on how you've manipulated the list. Sorting can be seen as a manipulation of the data structure, and there are several ways to sort the list.</p>\n\n<p>I'll order the ways in the order of <em>usefulness</em> as I personally see it:</p>\n\n<h2>1. Consider using <code>Set</code> or <code>Bag</code> collections instead</h2>\n\n<p><strong>NOTE:</strong> I put this option at the top because this is what you normally want to do anyway.</p>\n\n<p>A sorted set <strong>automatically sorts the collection at insertion</strong>, meaning that it does the sorting while you add elements into the collection. It also means you don't need to manually sort it.</p>\n\n<p>Furthermore if you are sure that you don't need to worry about (or have) duplicate elements then you can use the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/TreeSet.html\"><code>TreeSet&lt;T&gt;</code></a> instead. It implements <code>SortedSet</code> and <code>NavigableSet</code> interfaces and works as you'd probably expect from a list:</p>\n\n<pre><code>TreeSet&lt;String&gt; set = new TreeSet&lt;String&gt;();\nset.add(\"lol\");\nset.add(\"cat\");\n// automatically sorts natural order when adding\n\nfor (String s : set) {\n    System.out.println(s);\n}\n// Prints out \"cat\" and \"lol\"\n</code></pre>\n\n<p>If you don't want the natural ordering you can use the constructor parameter that takes a <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Comparator.html\"><code>Comparator&lt;T&gt;</code></a>.</p>\n\n<p>Alternatively you can use <strong><a href=\"http://guava-libraries.googlecode.com/svn/tags/release02/javadoc/com/google/common/collect/Multiset.html\">Multisets</a> (also known as <em>Bags</em>)</strong>, that is a <code>Set</code> that allows duplicate elements, instead and there are third party implementations of them. Most notably from the <a href=\"http://code.google.com/p/guava-libraries/\">Guava libraries</a> there is a <a href=\"http://guava-libraries.googlecode.com/svn/tags/release02/javadoc/com/google/common/collect/TreeMultiset.html\"><code>TreeMultiset</code></a>, that works a lot like the <code>TreeSet</code>.</p>\n\n<h2>2. Sort your list with <code>Collections.sort()</code></h2>\n\n<p>As mentioned above, sorting of <code>List</code>s is an manipulation of the data structure. So for situations where you need \"one source of truth\" that will be sorted in a variety of ways then sorting it manually is the way to go.</p>\n\n<p>You can sort your list with the <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Collections.html#sort%28java.util.List%29\"><code>java.util.Collections.sort()</code></a> method. Here is a code sample on how:</p>\n\n<pre><code>List&lt;String&gt; strings = new ArrayList&lt;String&gt;()\nstrings.add(\"lol\");\nstrings.add(\"cat\");\n\nCollections.sort(strings);\nfor (String s : strings) {\n    System.out.println(s);\n}\n// Prints out \"cat\" and \"lol\"\n</code></pre>\n\n<h3>Using comparators</h3>\n\n<p>One clear benefit is that you may use <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/Comparator.html\"><code>Comparator</code></a> in the <code>sort</code> method. Java also provides some implementations for the <code>Comparator</code> such as the <a href=\"https://docs.oracle.com/javase/6/docs/api/java/text/Collator.html\"><code>Collator</code></a> which is useful for locale sensitive sorting strings. Here is one example:</p>\n\n<pre><code>Collator usCollator = Collator.getInstance(Locale.US);\nusCollator.setStrength(Collator.PRIMARY); // ignores casing\n\nCollections.sort(strings, usCollator);\n</code></pre>\n\n<h3>Sorting in concurrent environments</h3>\n\n<p>Do note though that using the <code>sort</code> method is not friendly in concurrent environments, since the collection instance will be manipulated, and you should consider using immutable collections instead. This is something Guava provides in the <a href=\"http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/collect/Ordering.html\"><code>Ordering</code></a> class and is a simple one-liner:</p>\n\n<pre><code>List&lt;string&gt; sorted = Ordering.natural().sortedCopy(strings);\n</code></pre>\n\n<h2>3. Wrap your list with <code>java.util.PriorityQueue</code></h2>\n\n<p>Though there is no sorted list in Java there is however a sorted queue which would probably work just as well for you. It is the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/PriorityQueue.html\"><code>java.util.PriorityQueue</code></a> class.</p>\n\n<p>Nico Haase linked in the comments to a <a href=\"http://stackoverflow.com/questions/416266/sorted-collection-in-java\">related question</a> that also answers this.</p>\n\n<p>In a sorted collection <strong>you most likely don't want to manipulate</strong> the internal data structure which is why PriorityQueue doesn't implement the List interface (because that would give you direct access to it's elements). </p>\n\n<h3>Caveat on the <code>PriorityQueue</code> iterator</h3>\n\n<p>The <code>PriorityQueue</code> class implements the <code>Iterable&lt;E&gt;</code> and <code>Collection&lt;E&gt;</code> interfaces so it can be iterated as usual. However the iterator is not guaranteed to return elements in the sorted order. Instead (as Alderath points out in the comments) you need to <code>poll()</code> the queue until empty.</p>\n\n<p>Note that you can convert a list to a priority queue via the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/PriorityQueue.html#PriorityQueue%28java.util.Collection%29\">constructor that takes any collection</a>:</p>\n\n<pre><code>List&lt;String&gt; strings = new ArrayList&lt;String&gt;()\nstrings.add(\"lol\");\nstrings.add(\"cat\");\n\nPriorityQueue&lt;String&gt; sortedStrings = new PriorityQueue(strings);\nwhile(!sortedStrings.isEmpty()) {\n    System.out.println(sortedStrings.poll());\n}\n// Prints out \"cat\" and \"lol\"\n</code></pre>\n\n<h2>4. Write your own <code>SortedList</code> class</h2>\n\n<p><strong>NOTE:</strong> You shouldn't have to do this.</p>\n\n<p>You can write your own List class that sorts each time you add a new element. This can get rather computation heavy depending on your implementation <strong>and is pointless</strong>, unless you want to do it as an exercise, because of two main reasons: </p>\n\n<ol>\n<li>It breaks the contract that <code>List&lt;E&gt;</code> interface has, because the <code>add</code> methods should ensure that the element will reside in the index that the user specifies.</li>\n<li>Why reinvent the wheel? You should be using the TreeSet or Multisets instead as pointed out in the first point above.</li>\n</ol>\n\n<p>However if you want to do it as an exercise here is a code sample to get you started, it uses the <code>AbstractList</code> abstract class: </p>\n\n<pre><code>public class SortedList&lt;E&gt; extends AbstractList&lt;E&gt; {\n\n    private ArrayList&lt;E&gt; internalList = new ArrayList&lt;E&gt;();\n\n    // Note that add(E e) in AbstractList is calling this one\n    @Override \n    public void add(int position, E e) {\n        internalList.add(e);\n        Collections.sort(internalList, null);\n    }\n\n    @Override\n    public E get(int i) {\n        return internalList.get(i);\n    }\n\n    @Override\n    public int size() {\n        return internalList.size();\n    }\n\n}\n</code></pre>\n\n<p>Note that if you haven't overridden the methods you need, then the default implementations from <code>AbstractList</code> will throw <code>UnsupportedOperationException</code>s.</p>\n", "title": "Why is there no SortedList in Java?", "tags": ["java", "sorting", "collections"], "link": "http://stackoverflow.com/questions/8725387/why-is-there-no-sortedlist-in-java/8725470#8725470", "post_type": "answer", "question_id": 8725387, "answer_id": 8725470}, {"body": "<p>Because the concept of a List is incompatible with the concept of an automatically sorted collection. The point of a List is that after calling <code>list.add(7, elem)</code>, a call to <code>list.get(7)</code> will return <code>elem</code>. With an auto-sorted list, the element could end up in an arbitrary position.</p>\n", "title": "Why is there no SortedList in Java?", "tags": ["java", "sorting", "collections"], "link": "http://stackoverflow.com/questions/8725387/why-is-there-no-sortedlist-in-java/8725518#8725518", "post_type": "answer", "question_id": 8725387, "answer_id": 8725518}, {"body": "<p>Think of it like this: the <code>List</code> interface has methods like <code>add(int index, E element)</code>, <code>set(int index, E element)</code>. The contract is that once you added an element at position X you will find it there unless you add or remove elements before it.</p>\n\n<p>If any list implementation would store elements in some order other than based on the index, the above list methods would make no sense.</p>\n", "title": "Why is there no SortedList in Java?", "tags": ["java", "sorting", "collections"], "link": "http://stackoverflow.com/questions/8725387/why-is-there-no-sortedlist-in-java/8725550#8725550", "post_type": "answer", "question_id": 8725387, "answer_id": 8725550}, {"body": "<p>Another point is the time complexity of insert operations.\nFor a list insert, one expects a complexity of O(1).\nBut this could not be guaranteed with a sorted list.</p>\n\n<p>And the most important point is that lists assume nothing about their elements.\nFor example, you can make lists of things that do not implement <code>equals</code> or <code>compare</code>.</p>\n", "title": "Why is there no SortedList in Java?", "tags": ["java", "sorting", "collections"], "link": "http://stackoverflow.com/questions/8725387/why-is-there-no-sortedlist-in-java/8727998#8727998", "post_type": "answer", "question_id": 8725387, "answer_id": 8727998}, {"body": "<p>Set and Map are non-linear data structure. List is linear data structure.</p>\n\n<p><a href=\"http://i.stack.imgur.com/rsbMd.gif\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/rsbMd.gif\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p>The tree data structure <code>SortedSet</code> and <code>SortedMap</code> interfaces implements  <code>TreeSet</code> and <code>TreeMap</code> respectively using used <a href=\"https://en.wikipedia.org/wiki/Red%E2%80%93black_tree\" rel=\"nofollow\">Red-Black tree</a> implementation algorithm. So it ensure that there are no duplicated items (or keys in case of <code>Map</code>).  </p>\n\n<ul>\n<li>Tree by definition cannot contain duplicates.</li>\n<li>In <code>List</code> we can have duplicates, so there is no <code>TreeList</code>.  </li>\n</ul>\n\n<p>So if we want to sort the list we have to use <code>java.util.Collections.sort()</code>. </p>\n", "title": "Why is there no SortedList in Java?", "tags": ["java", "sorting", "collections"], "link": "http://stackoverflow.com/questions/8725387/why-is-there-no-sortedlist-in-java/34405789#34405789", "post_type": "answer", "question_id": 8725387, "answer_id": 34405789}, {"body": "<p>Even though this is not a direct answer to the question, it is an addition to the <code>.length</code> vs <code>.size()</code> argument. I was researching something related to this question so when I came across it I noticed that the definition(s) provided here</p>\n\n<blockquote>\n  <p>The public final field length, which contains the <strong>number of components of the array</strong>.   </p>\n</blockquote>\n\n<p>is not \"exactly\" correct.</p>\n\n<p>The field length contains the number of <strong><em>available places</em></strong> to put a component, not the number of components present in the array. So it represents the total available memory allocated to that array, not how much of that memory is filled. </p>\n\n<p><img src=\"http://i.stack.imgur.com/FSA5d.png\" alt=\"Array Memory Allocation\"></p>\n\n<p>Example:</p>\n\n<pre><code>static class StuffClass {\n    int stuff;\n    StuffClass(int stuff) {\n        this.stuff = stuff;\n    }\n}\n\npublic static void main(String[] args) {\n\n    int[] test = new int[5];\n    test[0] = 2;\n    test[1] = 33;\n    System.out.println(\"Length of int[]:\\t\" + test.length);\n\n    String[] test2 = new String[5];\n    test2[0] = \"2\";\n    test2[1] = \"33\";    \n    System.out.println(\"Length of String[]:\\t\" + test2.length);\n\n    StuffClass[] test3 = new StuffClass[5];\n    test3[0] = new StuffClass(2);\n    test3[1] = new StuffClass(33);\n    System.out.println(\"Length of StuffClass[]:\\t\" + test3.length);         \n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Length of int[]:        5\nLength of String[]:     5\nLength of StuffClass[]: 5\n</code></pre>\n\n<p>However, the <code>.size()</code> property of the <code>ArrayList</code> does give the number of elements in the list:</p>\n\n<pre><code>ArrayList&lt;Integer&gt; intsList = new ArrayList&lt;Integer&gt;();\nSystem.out.println(\"List size:\\t\" + intsList.size());\nintsList.add(2);\nSystem.out.println(\"List size:\\t\" + intsList.size());\nintsList.add(33);\nSystem.out.println(\"List size:\\t\" + intsList.size());\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>List size:  0\nList size:  1\nList size:  2\n</code></pre>\n", "title": "Where is array&#39;s length property defined?", "tags": ["java", "arrays"], "link": "http://stackoverflow.com/questions/9297899/where-is-arrays-length-property-defined/25816501#25816501", "post_type": "answer", "question_id": 9297899, "answer_id": 25816501}, {"body": "<p>You could do this:</p>\n\n<pre><code>String str = \"...\";\nList&lt;String&gt; elephantList = Arrays.asList(str.split(\",\"));\n</code></pre>\n\n<p>Basically the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split%28java.lang.String%29\"><code>.split()</code></a> method will split the string according to (in this case) delimiter you are passing and will return an array of strings. </p>\n\n<p>However, you seem to be after a List of Strings rather than an array, so the array must be turned into a list by using the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#asList%28T...%29\"><code>Arrays.asList()</code></a> utility. Just as an FYI you could also do something like so:</p>\n\n<pre><code>String str = \"...\";\nArrayList&lt;String&gt; elephantList = Arrays.asList(str.split(\",\"));\n</code></pre>\n\n<p>But it is usually better practice to program to an interface rather than to an actual concrete implementation, so I would recommend the 1st option.</p>\n", "title": "How to split a comma-separated string?", "tags": ["java", "string", "split"], "link": "http://stackoverflow.com/questions/10631715/how-to-split-a-comma-separated-string/10631738#10631738", "post_type": "answer", "question_id": 10631715, "answer_id": 10631738}, {"body": "<p>There is a function called <code>replaceAll()</code> that can remove all whitespaces by replacing them with whatever you want. As an example</p>\n\n<pre><code>String str=\"  15. 9 4;16.0 1\"\nString firstAndSecond[]=str.replaceAll(\"\\\\s\",\"\").split(\";\");\nSystem.out.println(\"First:\"+firstAndSecond[0]+\", Second:\"+firstAndSecond[1]);\n</code></pre>\n\n<p>will give you:</p>\n\n<pre><code>First:15.94, Second:16.01\n</code></pre>\n", "title": "How to split a comma-separated string?", "tags": ["java", "string", "split"], "link": "http://stackoverflow.com/questions/10631715/how-to-split-a-comma-separated-string/30270403#30270403", "post_type": "answer", "question_id": 10631715, "answer_id": 30270403}, {"body": "<p>For completeness, using the <a href=\"https://code.google.com/p/guava-libraries/\" rel=\"nofollow\">Guava</a> library, you'd do:   <code>Splitter.on(\",\").split(\u201cdog,cat,fox\u201d)</code></p>\n\n<p>Another example:</p>\n\n<pre><code>String animals = \"dog,cat, bear,elephant , giraffe ,  zebra  ,walrus\";\nList&lt;String&gt; l = Lists.newArrayList(Splitter.on(\",\").trimResults().split(animals));\n// -&gt; [dog, cat, bear, elephant, giraffe, zebra, walrus]\n</code></pre>\n\n<p><code>Splitter.split()</code> returns an Iterable, so if you need a List, wrap it in <code>Lists.newArrayList()</code> as above. Otherwise just go with the Iterable, for example: </p>\n\n<pre><code>for (String animal : Splitter.on(\",\").trimResults().split(animals)) {\n    // ...\n}\n</code></pre>\n\n<p>Note how <code>trimResults()</code> handles all your trimming needs without having to <a href=\"http://stackoverflow.com/a/20518948/56285\">tweak regexes for corner cases</a>, as with <code>String.split()</code>.</p>\n\n<p>If your project uses Guava already, this should be your preferred solution. See Splitter documentation in <a href=\"https://code.google.com/p/guava-libraries/wiki/StringsExplained#Splitter\" rel=\"nofollow\">Guava User Guide</a> or the <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Splitter.html\" rel=\"nofollow\">javadocs</a> for more configuration options.</p>\n", "title": "How to split a comma-separated string?", "tags": ["java", "string", "split"], "link": "http://stackoverflow.com/questions/10631715/how-to-split-a-comma-separated-string/32362691#32362691", "post_type": "answer", "question_id": 10631715, "answer_id": 32362691}, {"body": "<p>There are two differences:</p>\n\n<ol>\n<li><p>We can use Iterator to traverse Set and List and also Map type of Objects. While a ListIterator can be used to traverse for List-type Objects, but not for Set-type of Objects.</p>\n\n<p>That is, we can get a Iterator object by using Set and List, see here:</p>\n\n<p>By using Iterator we can retrieve the elements from Collection Object in forward direction only.</p>\n\n<p>Methods in Iterator:</p>\n\n<ol>\n<li><code>hasNext()</code></li>\n<li><code>next()</code></li>\n<li><code>remove()</code></li>\n</ol>\n\n<pre><code>Iterator iterator = Set.iterator();\nIterator iterator = List.iterator();</code></pre></li>\n<li><p>But we get ListIterator object only from the List interface, see here:</p>\n\n<p>where as a ListIterator allows you to traverse in either directions (Both forward and backward). So it has two more methods like <code>hasPrevious()</code> and  <code>previous()</code> other than  those of Iterator. Also, we can get indexes of the next or previous elements (using <code>nextIndex()</code>  and <code>previousIndex()</code> respectively )</p>\n\n<p>Methods in ListIterator:</p>\n\n<ol>\n<li>hasNext()</li>\n<li>next()</li>\n<li>previous()</li>\n<li>hasPrevious()</li>\n<li>remove()</li>\n<li>nextIndex()</li>\n<li>previousIndex()</li>\n</ol>\n\n<pre><code>ListIterator listiterator = List.listIterator();</code></pre>\n\n<p>i.e., we can't get ListIterator object from Set interface.</p></li>\n</ol>\n", "title": "Difference between Iterator and Listiterator?", "tags": ["java", "list", "iterator", "set", "listiterator"], "link": "http://stackoverflow.com/questions/10977992/difference-between-iterator-and-listiterator/17939167#17939167", "post_type": "answer", "question_id": 10977992, "answer_id": 17939167}, {"body": "<p>Just IMHO. Not sure it's 100% correct.</p>\n\n<p><code>invalidate()</code> marks the container as invalid. Means the content is somehow wrong and must be relayed out. But it's just a kind of mark/flag. It's possible that multiple invalid containers must be refreshed later.</p>\n\n<p><code>validate()</code> performs relayout. It means invalid content is asked for all the sizes and all the subcomponents' sizes are set to proper values by <code>LayoutManager</code>.</p>\n\n<p><code>revalidate()</code> is just sum of both. It marks the container as invalid and performs layout of the container.</p>\n", "title": "Difference between validate(), revalidate() and invalidate() in Swing GUI", "tags": ["java", "swing", "user-interface"], "link": "http://stackoverflow.com/questions/9510125/difference-between-validate-revalidate-and-invalidate-in-swing-gui/9511578#9511578", "post_type": "answer", "question_id": 9510125, "answer_id": 9511578}, {"body": "<p><code>validate()</code> : In Swing when you create Component, it is not <code>valid</code> i.e. it's valid property is <code>false</code>. A component is said to be valid, when it's width, height, location and stuff has been determined. This is usually done by calling their <code>validate()</code> method, directly or indirectly. When we call <code>validate()</code> on containers, it will validate the container (if it is invalid) by calling its <code>doLayout()</code> method, which typically will invoke the <code>LayoutManager</code>. Now each child placed on this container will be validated recursively, so that the entire tree will be laid out and will become valid.</p>\n\n<p><code>revalidate()</code> : <code>revalidate()</code> is to be called when you change an attribute that would affect their width/height and call repaint() when you change an attribute that would affect their appearance.\nFor Example, If your <code>JFrame</code> contains a <code>JPanel</code>, now at certain point of time you removed that <code>JPanel</code> and inserted a new one in it's place, depending on the contents of the newly placed <code>JPanel</code>, the size of the components inside the <code>JPanel</code> as well as <code>The CONTAINER</code> itself (by virtue of the layout manager used by it), changes. Which pushes it to the invalidate state. So in order to validate this change, you have to explicitly call <code>revalidate()</code>.</p>\n\n<p><code>invalidate()</code> : This thing is something, I had never used, so might be not much of the info I can give. But seems like the scenario presented above, can give a bit of hint, as to what happens in <code>invalidate()</code>. </p>\n", "title": "Difference between validate(), revalidate() and invalidate() in Swing GUI", "tags": ["java", "swing", "user-interface"], "link": "http://stackoverflow.com/questions/9510125/difference-between-validate-revalidate-and-invalidate-in-swing-gui/9511880#9511880", "post_type": "answer", "question_id": 9510125, "answer_id": 9511880}, {"body": "<p>What you want is the <code>Arrays.toString(int[])</code> method:</p>\n\n<pre><code>import java.util.Arrays;\n\nint[] array = new int[lnr.getLineNumber() + 1];\nint i = 0;\n\n..      \n\nSystem.out.println(Arrays.toString(array));\n</code></pre>\n\n<p>There is a static <code>Arrays.toString</code> helper method for every different primitive java type; the one for <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#toString(int[])\"><code>int[]</code> says this</a>:</p>\n\n<blockquote>\n<pre><code>public static String toString(int[] a)\n</code></pre>\n  \n  <p>Returns a string representation of the contents of the specified array. The string representation consists of a list of the array's elements, enclosed in square brackets (<code>\"[]\"</code>). Adjacent elements are separated by the characters <code>\", \"</code> (a comma followed by a space). Elements are converted to strings as by <code>String.valueOf(int)</code>. Returns <code>\"null\"</code> if <code>a</code> is null.</p>\n</blockquote>\n", "title": "How to convert an int array to String with toString method in Java", "tags": ["java", "arrays", "tostring"], "link": "http://stackoverflow.com/questions/10904911/how-to-convert-an-int-array-to-string-with-tostring-method-in-java/10904956#10904956", "post_type": "answer", "question_id": 10904911, "answer_id": 10904956}, {"body": "<p>You can use <code>java.net.InetAddress</code> API.\nTry this : </p>\n\n<pre><code>InetAddress.getLocalHost().getHostAddress();\n</code></pre>\n", "title": "Getting the IP address of the current machine using Java", "tags": ["java", "sockets", "ip"], "link": "http://stackoverflow.com/questions/9481865/getting-the-ip-address-of-the-current-machine-using-java/9481939#9481939", "post_type": "answer", "question_id": 9481865, "answer_id": 9481939}, {"body": "<p>This could be a bit tricky in the most general case.  </p>\n\n<p>On the face of it, <code>InetAddress.getLocalHost()</code> should give you the IP address of this host.  The problem is that a host could have lots of network interfaces, and an interface could be bound to more than one IP address.  And to top that, not all IP addresses will be reachable outside of your machine or your LAN.  For example, they could be IP addresses for virtual network devices, private network IP addresses, and so on.</p>\n\n<p>What this means is that the IP address returned by <code>InetAddress.getLocalHost()</code> might not be the right one to use.</p>\n\n<p>How can you deal with this?</p>\n\n<ul>\n<li>One approach is to use <code>NetworkInterface.getNetworkInterfaces()</code> to get all of the known network interfaces on the host, and then iterate over each NI's addresses.</li>\n<li>Another approach is to (somehow) get the externally advertized FQDN for the host, and use <code>InetAddress.getByName()</code> to look up the primary IP address.  (But how do you get it, and how do you deal with a DNS-based load balancer?)</li>\n<li>A variation of the previous is to get the preferred FQDN from a config file or a command line parameter.</li>\n<li>Another variation is to get the preferred IP address from a config file or a command line parameter.</li>\n</ul>\n\n<p>In summary, <code>InetAddress.getLocalHost()</code> will typically work, but you may need to provide an alternative method for the cases where your code is run in an environment with \"complicated\" networking.</p>\n\n<hr>\n\n<blockquote>\n  <p>I am able to get all the IP addresses associated all Network Interfaces, but how do i distinguish them?</p>\n</blockquote>\n\n<ul>\n<li>Any address in the range 127.xxx.xxx.xxx is a \"loopback\" address.  It is only visible to \"this\" host.</li>\n<li>Any address in the range 192.168.xxx.xxx is a private (aka site local) IP address.  These are reserved for use within an organization.  The same applies to 10.xxx.xxx.xxx addresses, and 172.16.xxx.xxx through 172.31.xxx.xxx.</li>\n<li>Addresses in the range 169.254.xxx.xxx are link local IP addresses.  These are reserved for use on a single network segment.</li>\n<li>Addresses in the range 224.xxx.xxx.xxx through 239.xxx.xxx.xxx are multicast addresses.</li>\n<li>The address 255.255.255.255 is the broadcast address.</li>\n<li>Anything else <em>should</em> be a valid public point-to-point IPv4 address.</li>\n</ul>\n\n<p>In fact, the InetAddress API provides methods for testing for loopback, link local, site local, multicast and broadcast addresses.  You can use these to sort out which of the IP addresses you get back is most appropriate.</p>\n", "title": "Getting the IP address of the current machine using Java", "tags": ["java", "sockets", "ip"], "link": "http://stackoverflow.com/questions/9481865/getting-the-ip-address-of-the-current-machine-using-java/9482369#9482369", "post_type": "answer", "question_id": 9481865, "answer_id": 9482369}, {"body": "<p>You may try <code>isReachable()</code> method of InetAddress class to figure out which IP address is your real publicly available IP address. I think other type of addresses (site local,link local) are not reachable from outside.</p>\n\n<pre><code>while (ee.hasMoreElements())\n{\n    InetAddress i = (InetAddress) ee.nextElement();\n    System.out.println( i.getHostAddress() + i.isReachable(10*1000) );\n} \n</code></pre>\n", "title": "Getting the IP address of the current machine using Java", "tags": ["java", "sockets", "ip"], "link": "http://stackoverflow.com/questions/9481865/getting-the-ip-address-of-the-current-machine-using-java/33093380#33093380", "post_type": "answer", "question_id": 9481865, "answer_id": 33093380}, {"body": "<p>It's a  famous problem: <code>.equals()</code> for arrays is badly broken, just don't use it, ever.</p>\n\n<p>That said, it's not \"broken\" as in \"someone has done it in a really wrong way\" \u2014 it's just doing what's defined and not what's usually expected. So for purists: it's perfectly fine, and that also means, <em>don't use it, ever.</em></p>\n\n<p>Now the expected behaviour for <code>equals</code> is to compare data. The default behaviour is to compare the identity, as <code>Object</code> does not have any data (for purists: yes it has, but it's not the point); assumption is, if you need <code>equals</code> in subclasses, you'll implement it. In arrays, there's no implementation for you, so you're not supposed to use it.</p>\n\n<p>So the difference is, <code>Arrays.equals(array1, array2)</code> works <em>as you would expect</em> (i.e. compares content), <code>array1.equals(array2)</code> falls back to <code>Object.equals</code> implementation, which in turn compares identity, and thus better replaced by <code>==</code> (for purists: yes I know about <code>null</code>).</p>\n\n<p>Problem is, even <code>Arrays.equals(array1, array2)</code> will bite you hard if elements of array do not implement <code>equals</code> properly. It's a very naive statement, I know, but there's a very important less-than-obvious case: consider a 2D array. </p>\n\n<p>2D array in Java is an array of arrays, and arrays' <code>equals</code> is broken (or useless if you prefer), so <code>Arrays.equals(array1, array2)</code> will not work as you expect on 2D arrays.</p>\n\n<p>Hope that helps.</p>\n", "title": "equals vs Arrays.equals in Java", "tags": ["java", "arrays", "equality"], "link": "http://stackoverflow.com/questions/8777257/equals-vs-arrays-equals-in-java/8777266#8777266", "post_type": "answer", "question_id": 8777257, "answer_id": 8777266}, {"body": "<p><code>array1.equals(array2)</code> is the same as <code>array1 == array2</code>, i.e. is it the same array. As @alf points out it's not what most people expect.</p>\n\n<p><code>Arrays.equals(array1, array2)</code> compares the contents of the arrays.</p>\n\n<hr>\n\n<p>Similarly <code>array.toString()</code> may not be very useful and you need to use <code>Arrays.toString(array)</code>.</p>\n", "title": "equals vs Arrays.equals in Java", "tags": ["java", "arrays", "equality"], "link": "http://stackoverflow.com/questions/8777257/equals-vs-arrays-equals-in-java/8777279#8777279", "post_type": "answer", "question_id": 8777257, "answer_id": 8777279}, {"body": "<p>The <code>equals()</code> of arrays is inherited from <code>Object</code>, so it does not look at the contents of the arrrays, it only considers each array equal to itself.</p>\n\n<p>The <code>Arrays.equals()</code> methods <em>do</em> compare the arrays' contents. There's overloads for all primitive types, and the one for objects uses the objects' own <code>equals()</code> methods.</p>\n", "title": "equals vs Arrays.equals in Java", "tags": ["java", "arrays", "equality"], "link": "http://stackoverflow.com/questions/8777257/equals-vs-arrays-equals-in-java/8777292#8777292", "post_type": "answer", "question_id": 8777257, "answer_id": 8777292}, {"body": "<p>The <code>Arrays.equals(array1, array2)</code> : </p>\n\n<p>check if both arrays contain the same number of elements, and all corresponding pairs of elements in the two arrays are equal.</p>\n\n<p>The <code>array1.equals(array2)</code> :</p>\n\n<p>compare the object to another object and return true only if the reference of the two object are equal as in the <code>Object.equals()</code></p>\n", "title": "equals vs Arrays.equals in Java", "tags": ["java", "arrays", "equality"], "link": "http://stackoverflow.com/questions/8777257/equals-vs-arrays-equals-in-java/8777311#8777311", "post_type": "answer", "question_id": 8777257, "answer_id": 8777311}, {"body": "<p>Arrays inherit <code>equals()</code> from <code>Object</code> and hence compare only returns true if comparing an array against itself.</p>\n\n<p>On the other hand, <code>Arrays.equals</code> compares the elements of the arrays.</p>\n\n<p>This snippet elucidates the difference:</p>\n\n<pre><code>Object o1 = new Object();\nObject o2 = new Object();\nObject[] a1 = { o1, o2 };\nObject[] a2 = { o1, o2 };\nSystem.out.println(a1.equals(a2)); // prints false\nSystem.out.println(Arrays.equals(a1, a2)); // prints true\n</code></pre>\n\n<p>See also <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#equals%28java.lang.Object%5B%5D,%20java.lang.Object%5B%5D%29\"><code>Arrays.equals()</code></a>. Another static method there may also be of interest: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#deepEquals%28java.lang.Object%5B%5D,%20java.lang.Object%5B%5D%29\"><code>Arrays.deepEquals()</code></a>.</p>\n", "title": "equals vs Arrays.equals in Java", "tags": ["java", "arrays", "equality"], "link": "http://stackoverflow.com/questions/8777257/equals-vs-arrays-equals-in-java/8777312#8777312", "post_type": "answer", "question_id": 8777257, "answer_id": 8777312}, {"body": "<p>You are specifically asking about how they <em>internally work</em>, so here you are:</p>\n\n<h1>No synchronization</h1>\n\n<pre><code>private int counter;\n\npublic int getNextUniqueIndex() {\n  return counter++; \n}\n</code></pre>\n\n<p>It basically reads value from memory, increments it and puts back to memory. This works in single thread but nowadays, in the era of multi-core, multi-CPU, multi-level caches it won't work correctly. First of all it introduces race condition (several threads can read the value at the same time), but also visibility problems. The value might only be stored in \"<em>local</em>\" CPU memory (some cache) and not be visible for other CPUs/cores (and thus - threads). This is why many refer to <em>local copy</em> of a variable in a thread. It is very unsafe. Consider this popular but broken thread-stopping code:</p>\n\n<pre><code>private boolean stopped;\n\npublic void run() {\n    while(!stopped) {\n        //do some work\n    }\n}\n\npublic void pleaseStop() {\n    stopped = true;\n}\n</code></pre>\n\n<p>Add <code>volatile</code> to <code>stopped</code> variable and it works fine - if any other thread modifies <code>stopped</code> variable via <code>pleaseStop()</code> method, you are guaranteed to see that change immediately in working thread's <code>while(!stopped)</code> loop. BTW this is not a good way to interrupt a thread either, see: <a href=\"http://stackoverflow.com/questions/6410721\">How to stop a thread that is running forever without any use</a> and <a href=\"http://stackoverflow.com/questions/7786305\">Stopping a specific java thread</a>.</p>\n\n<h1><code>AtomicInteger</code></h1>\n\n<pre><code>private AtomicInteger counter = new AtomicInteger();\n\npublic int getNextUniqueIndex() {\n  return counter.getAndIncrement();\n}\n</code></pre>\n\n<p>The <code>AtomicInteger</code> class uses CAS (<a href=\"http://en.wikipedia.org/wiki/Compare-and-swap\">compare-and-swap</a>) low-level CPU operations (no synchronization needed!) They allow you to modify a particular variable only if the present value is equal to something else (and is returned successfully). So when you execute <code>getAndIncrement()</code> it actually runs in a loop (simplified real implementation):</p>\n\n<pre><code>int current;\ndo {\n  current = get();\n} while(!compareAndSet(current, current + 1));\n</code></pre>\n\n<p>So basically: read; try to store incremented value; if not successful (the value is no longer equal to <code>current</code>), read and try again. The <code>compareAndSet()</code> is implemented in native code (assembly).</p>\n\n<h1><code>volatile</code> without synchronization</h1>\n\n<pre><code>private volatile int counter;\n\npublic int getNextUniqueIndex() {\n  return counter++; \n}\n</code></pre>\n\n<p>This code is not correct. It fixes the visibility issue (<code>volatile</code> makes sure other threads can see change made to <code>counter</code>) but still has a race condition. This has been <a href=\"http://stackoverflow.com/questions/25168062/why-is-i-not-atomic\">explained</a> multiple times: pre/post-incrementation is not atomic.</p>\n\n<p>The only side effect of <code>volatile</code> is \"<em>flushing</em>\" caches so that all other parties see the freshest version of the data. This is too strict in most situations; that is why <code>volatile</code> is not default.</p>\n\n<h1><code>volatile</code> without synchronization (2)</h1>\n\n<pre><code>volatile int i = 0;\nvoid incIBy5() {\n  i += 5;\n}\n</code></pre>\n\n<p>The same problem as above, but even worse because <code>i</code> is not <code>private</code>. The race condition is still present. Why is it a problem? If, say, two threads run this code simultaneously, the output might be <code>+ 5</code> or <code>+ 10</code>. However, you are guaranteed to see the change.</p>\n\n<h1>Multiple independent <code>synchronized</code></h1>\n\n<pre><code>void incIBy5() {\n  int temp;\n  synchronized(i) { temp = i }\n  synchronized(i) { i = temp + 5 }\n}\n</code></pre>\n\n<p>Surprise, this code is incorrect as well. In fact, it is completely wrong. First of all you are synchronizing on <code>i</code>, which is about to be changed (moreover, <code>i</code> is a primitive, so I guess you are synchronizing on a temporary <code>Integer</code> created via autoboxing...) Completely flawed. You could also write:</p>\n\n<pre><code>synchronized(new Object()) {\n  //thread-safe, SRSLy?\n}\n</code></pre>\n\n<p>No two threads can enter the same <code>synchronized</code> block <strong>with the same lock</strong>. In this case (and similarly in your code) the lock object changes upon every execution, so <code>synchronized</code> effectively has no effect.</p>\n\n<p>Even if you have used a final variable (or <code>this</code>) for synchronization, the code is still incorrect. Two threads can first read <code>i</code> to <code>temp</code> synchronously (having the same value locally in <code>temp</code>), then the first assigns a new value to <code>i</code> (say, from 1 to 6) and the other one does the same thing (from 1 to 6).</p>\n\n<p>The synchronization must span from reading to assigning a value. Your first synchronization has no effect (reading an <code>int</code> is atomic) and the second as well. In my opinion, these are the correct forms:</p>\n\n<pre><code>void synchronized incIBy5() {\n  i += 5 \n}\n\nvoid incIBy5() {\n  synchronized(this) {\n    i += 5 \n  }\n}\n\nvoid incIBy5() {\n  synchronized(this) {\n    int temp = i;\n    i = temp + 5;\n  }\n}\n</code></pre>\n", "title": "What is the difference between atomic / volatile / synchronized?", "tags": ["java", "multithreading", "synchronization", "atomic", "volatile"], "link": "http://stackoverflow.com/questions/9749746/what-is-the-difference-between-atomic-volatile-synchronized/9749864#9749864", "post_type": "answer", "question_id": 9749746, "answer_id": 9749864}]}