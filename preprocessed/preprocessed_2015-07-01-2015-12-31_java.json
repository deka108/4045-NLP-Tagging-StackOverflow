{"items": [{"tokens": ["#p", "I", "was", "reading", "Java", "'s", "<code>ArrayList</code>", "source", "code", "and", "noticed", "some", "comparisons", "in", "if-statements", ".", "#p", "In", "Java", "7", ",", "the", "method", "<code>grow(int)</code>", "uses", "#pre", "#p", "In", "Java", "6", ",", "<code>grow</code>", "did", "n't", "exist", ".", "The", "method", "<code>ensureCapacity(int)</code>", "however", "uses", "#pre", "#p", "What", "was", "the", "reason", "behind", "the", "change", "?", "Was", "it", "a", "performance", "issue", "or", "just", "a", "style", "?", "#p", "I", "could", "imagine", "that", "comparing", "against", "zero", "is", "faster", ",", "but", "performing", "a", "complete", "subtraction", "just", "to", "check", "whether", "it", "'s", "negative", "seems", "a", "bit", "overkill", "to", "me", ".", "Also", "in", "terms", "of", "bytecode", ",", "this", "would", "involve", "two", "instructions", "(", "<code>ISUB</code>", "and", "<code>IF_ICMPGE</code>", ")", "instead", "of", "one", "(", "<code>IFGE</code>", ")", "."], "answer_count": 4, "question_id": 33147339}, {"tokens": ["#p", "<code>a &lt; b</code>", "and", "<code>a - b &lt; 0</code>", "can", "mean", "two", "different", "things", ".", "Consider", "the", "following", "code", ":", "#pre", "#p", "When", "run", ",", "this", "will", "only", "print", "<code>a - b &lt; 0</code>", ".", "What", "happens", "is", "that", "<code>a &lt; b</code>", "is", "clearly", "false", ",", "but", "<code>a - b</code>", "overflows", "and", "becomes", "<code>-1</code>", ",", "which", "is", "negative", ".", "#p", "Now", ",", "having", "said", "that", ",", "consider", "that", "the", "array", "has", "a", "length", "that", "is", "really", "close", "to", "<code>Integer.MAX_VALUE</code>", ".", "The", "code", "in", "<code>ArrayList</code>", "goes", "like", "this", ":", "#pre", "#p", "<code>oldCapacity</code>", "is", "really", "close", "to", "<code>Integer.MAX_VALUE</code>", "so", "<code>newCapacity</code>", "(", "which", "is", "<code>oldCapacity + 0.5 * oldCapacity</code>", ")", "might", "overflow", "and", "become", "<code>Integer.MIN_VALUE</code>", "(", "i.e", ".", "negative", ")", ".", "Then", ",", "subtracting", "<code>minCapacity</code>", "back", "into", "a", "positive", "number", ".", "#p", "This", "check", "ensures", "that", "the", "<code>if</code>", "is", "not", "executed", ".", "If", "the", "code", "were", "written", "as", "<code>if (newCapacity &lt; minCapacity)</code>", ",", "it", "would", "be", "<code>true</code>", "in", "this", "case", "(", "since", "<code>newCapacity</code>", "is", "negative", ")", "so", "the", "<code>newCapacity</code>", "would", "be", "forced", "to", "<code>minCapacity</code>", "regardless", "of", "the", "<code>oldCapacity</code>", ".", "#p", "This", "overflow", "case", "is", "handled", "by", "the", "next", "if", ".", "When", "<code>newCapacity</code>", "has", "overflowed", ",", "this", "will", "be", "<code>true</code>", ":", "<code>MAX_ARRAY_SIZE</code>", "is", "defined", "as", "<code>Integer.MAX_VALUE - 8</code>", "and", "<code>Integer.MIN_VALUE - (Integer.MAX_VALUE - 8) &gt; 0</code>", "is", "<code>true</code>", ".", "The", "<code>newCapacity</code>", "is", "therefore", "rightly", "handled", ":", "<code>hugeCapacity</code>", "method", "returns", "<code>MAX_ARRAY_SIZE</code>", "or", "<code>Integer.MAX_VALUE</code>", ".", "#p", "NB", ":", "this", "is", "what", "the", "<code>// overflow-conscious code</code>", "comment", "in", "this", "method", "is", "saying", "."], "answer_id": 33147610, "question_id": 33147339}, {"tokens": ["#p", "I", "found", "this", "explanation", ":", "#blockquote", "#p", "In", "Java", "6", ",", "if", "you", "use", "the", "API", "as", ":", "#pre", "#p", "And", "<code>newCount</code>", "overflows", "(", "this", "becomes", "negative", ")", ",", "<code>if (minCapacity &gt; oldCapacity)</code>", "will", "return", "false", "and", "you", "may", "mistakenly", "assume", "that", "the", "<code>ArrayList</code>", "was", "increased", "by", "<code>len</code>", "."], "answer_id": 33147762, "question_id": 33147339}, {"tokens": ["#p", "Looking", "at", "the", "code", ":", "#pre", "#p", "If", "<code>oldCapacity</code>", "is", "quite", "large", ",", "this", "will", "overflow", ",", "and", "<code>newCapacity</code>", "will", "be", "a", "negative", "number", ".", "A", "comparison", "like", "<code>newCapacity &lt; oldCapacity</code>", "will", "incorrectly", "evaluate", "<code>true</code>", "and", "the", "<code>ArrayList</code>", "will", "fail", "to", "grow", ".", "#p", "Instead", ",", "the", "code", "as", "written", "(", "<code>newCapacity - minCapacity &lt; 0</code>", "returns", "false", ")", "will", "allow", "the", "negative", "value", "of", "<code>newCapacity</code>", "to", "be", "further", "evaluated", "in", "the", "next", "line", ",", "resulting", "in", "recalculating", "<code>newCapacity</code>", "by", "invoking", "<code>hugeCapacity</code>", "(", "<code>newCapacity = hugeCapacity(minCapacity);</code>", ")", "to", "allow", "for", "the", "<code>ArrayList</code>", "to", "grow", "up", "to", "<code>MAX_ARRAY_SIZE</code>", ".", "#p", "This", "is", "what", "the", "<code>// overflow-conscious code</code>", "comment", "is", "trying", "to", "communicate", ",", "though", "rather", "obliquely", ".", "#p", "So", ",", "bottom", "line", ",", "the", "new", "comparison", "protects", "against", "allocating", "an", "<code>ArrayList</code>", "larger", "than", "the", "predefined", "<code>MAX_ARRAY_SIZE</code>", "while", "allowing", "it", "to", "grow", "right", "up", "to", "that", "limit", "if", "needed", "."], "answer_id": 33148103, "question_id": 33147339}, {"tokens": ["#p", "The", "two", "forms", "behave", "exactly", "the", "same", "unless", "the", "expression", "<code>a - b</code>", "overflows", ",", "in", "which", "case", "they", "are", "opposite", ".", "If", "<code>a</code>", "is", "a", "large", "negative", ",", "and", "<code>b</code>", "is", "a", "large", "positive", ",", "then", "<code>(a &lt; b)</code>", "is", "clearly", "true", ",", "but", "<code>a - b</code>", "will", "overflow", "to", "become", "positive", ",", "so", "<code>(a - b &lt; 0)</code>", "is", "false", ".", "#p", "If", "you", "'re", "familiar", "with", "x86", "assembly", "code", ",", "consider", "that", "<code>(a &lt; b)</code>", "is", "implemented", "by", "a", "<code>jge</code>", ",", "which", "branches", "around", "the", "body", "of", "the", "if", "statement", "when", "SF", "=", "OF", ".", "On", "the", "other", "hand", ",", "<code>(a - b &lt; 0)</code>", "will", "act", "like", "a", "<code>jns</code>", ",", "which", "branches", "when", "SF", "=", "0", ".", "Hence", ",", "these", "behave", "differently", "precisely", "when", "OF", "=", "1", "."], "answer_id": 36520025, "question_id": 33147339}, {"tokens": ["#p", "Intellij", "Idea", "14.1.4", "Mac", "OS", "X", "Yosemite", "10.10.3", "#p", "From", "the", "IDE", ":", "Import", "Project", "-", ">", "(", "Chosen", "directory", "to", "import", ")", "-", ">", "Import", "project", "from", "external", "model", ",", "Gradle", "-", ">", "Gradle", "Home", ":", "/usr/local/Cellar/gradle/2.4/libexec", "Gradle", "JVM", ":", "Use", "JAVA_HOME", "(", "not", "defined", "yet", ")", "#p", "From", "shell", ":", "echo", "$", "JAVA_HOME", "#p", "/Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home", "(", "defined", "in", ".profile", ":", "export", "JAVA_HOME=", "''", "$", "(", "/usr/libexec/java_home", "-v", "1.8", ")", "''", "#p", "What", "am", "I", "missing", ".", "I", "have", "checked", "other", "discussions", "in", "SO", ",", "for", "example", ",", "Intellij", "JAVA_HOME", "variable", ",", "but", "do", "n't", "have", "Project", "SDK", "prompt", ".", "#p"], "answer_count": 6, "question_id": 31215452}, {"tokens": ["#p", "Try", "starting", "IntelliJ", "from", "terminal", ".", "You", "can", "find", "application", "file", "under", ":", "/Applications/IntelliJ\\", "IDEA\\", "14.app/Contents/MacOS"], "answer_id": 31280703, "question_id": 31215452}, {"tokens": ["#p", "Make", "sure", "you", "have", "a", "jdk", "setup", ".", "To", "do", "this", ",", "create", "a", "new", "project", "and", "then", "go", "to", "file", "-", ">", "project", "structure", ".", "From", "there", "you", "can", "add", "a", "new", "jdk", ".", "Once", "that", "is", "setup", ",", "go", "back", "to", "your", "gradle", "project", "and", "you", "should", "have", "a", "jdk", "to", "select", "in", "the", "'Gradle", "JVM", "'", "field", "."], "answer_id": 31352826, "question_id": 31215452}, {"tokens": ["#p", "You", "need", "to", "setup", "a", "SDK", "for", "Java", "projects", ",", "like", "@", "rizzletang", "said", ",", "but", "you", "do", "n't", "need", "to", "create", "a", "new", "project", ",", "you", "can", "do", "it", "from", "the", "<code>Welcome</code>", "screen", ".", "#p", "On", "the", "bottom", "right", ",", "select", "<code>Configure &gt; Project Defaults &gt; Project Structure</code>", ":", "#p", "Picking", "the", "<code>Project</code>", "tab", "on", "the", "left", "will", "show", "that", "you", "have", "no", "SDK", "selected", ":", "#p", "#p", "Just", "click", "the", "<code>New...</code>", "button", "on", "the", "right", "hand", "side", "of", "the", "dropdown", "and", "point", "it", "to", "your", "JDK", ".", "After", "that", ",", "you", "can", "go", "back", "to", "the", "import", "screen", "and", "it", "should", "just", "show", "up", "."], "answer_id": 31420120, "question_id": 31215452}, {"tokens": ["#p", "Just", "to", "add", "completness", "to", "the", "above", "selected", "answer", ",", "one", "can", "also", "go", "the", "'Project", "Setting", "'", "windows", "(", "if", "not", "on", "the", "Welcome", "screen", ")", "in", "IntelliJ", "IDEA", "by", "clicking", ":", "#blockquote", "#p", "And", "can", "define", "Project", "SDK", "there", "!"], "answer_id": 33429944, "question_id": 31215452}, {"tokens": ["#p", "If", "you", "'d", "like", "to", "have", "your", "JAVA_HOME", "recognised", "by", "intellij", ",", "you", "can", "do", "one", "of", "these", ":", "#li", "Start", "your", "intellij", "from", "terminal", "/Applications/IntelliJ", "IDEA", "14.app/Contents/MacOS", "(", "this", "will", "pick", "your", "bash", "env", "variables", ")", "#li", "Add", "login", "env", "variable", "by", "executing", ":", "<code>launchctl setenv JAVA_HOME \"/Library/Java/JavaVirtualMachines/jdk1.8.0_60.jdk/Contents/Home\"</code>", "#p", "As", "others", "have", "answered", "you", "can", "ignore", "JAVA_HOME", "by", "setting", "up", "SDK", "in", "project", "structure", "."], "answer_id": 33559474, "question_id": 31215452}, {"tokens": ["#p", "For", "Platform", ":", "#p", "try", "Running", "the", "64", "Bit", "exe", "version", "of", "IntelliJ", "from", "a", "path", "similar", "to", "following", "note", "that", "it", "is", "available", "beside", "the", "default", "idea.exe", "#p", "``", "C", ":", "\\Program", "Files", "(", "x86", ")", "\\JetBrains\\IntelliJ", "IDEA", "15.0\\bin\\idea64.exe", "''", "#p", "link"], "answer_id": 33752400, "question_id": 31215452}, {"tokens": ["#p", "I", "'m", "trying", "to", "get", "the", "exact", "JSON", "that", "is", "being", "sent", "in", "the", "request", ".", "Here", "is", "my", "code", ":", "#pre", "#p", "But", "I", "only", "see", "this", "in", "the", "logs", ":", "#pre", "#p", "How", "am", "I", "supposed", "to", "do", "proper", "logging", ",", "given", "the", "removal", "of", "<code>setLog()</code>", "and", "<code>setLogLevel()</code>", "which", "we", "used", "to", "use", "with", "Retrofit", "1", "?"], "answer_count": 10, "question_id": 32514410}, {"tokens": ["#p", "hey", "guys\uff0ci", "already", "find", "solution", ":", "#pre"], "answer_id": 32517154, "question_id": 32514410}, {"tokens": ["#p", "I", "do", "n't", "know", "if", "setLogLevel", "(", ")", "will", "return", "in", "the", "final", "2.0", "version", "of", "Retrofit", "but", "for", "now", "you", "can", "use", "an", "interceptor", "for", "logging", ".", "#p", "A", "good", "example", "can", "found", "in", "OkHttp", "wiki", ":", "https", ":", "//github.com/square/okhttp/wiki/Interceptors", "#pre"], "answer_id": 32597816, "question_id": 32514410}, {"tokens": ["#p", "Try", "this", ":", "#pre", "#p", "After", "this", ",", "in", "the", "<code>body</code>", "there", "is", "the", "JSON", "you", "are", "interested", "in", "."], "answer_id": 32633003, "question_id": 32514410}, {"tokens": ["#p", "Here", "is", "an", "<code>Interceptor</code>", "that", "logs", "both", "the", "request", "and", "response", "bodies", "(", "using", "Timber", ",", "based", "on", "an", "example", "from", "the", "OkHttp", "docs", "and", "some", "other", "SO", "answers", ")", ":", "#pre"], "answer_id": 32800976, "question_id": 32514410}, {"tokens": ["#p", "For", "those", "who", "need", "high", "level", "logging", "in", "Retrofit", ",", "use", "the", "interceptor", "like", "this", "#pre", "#p", ":", "https", ":", "//github.com/square/retrofit/issues/1072", "#"], "answer_id": 32858297, "question_id": 32514410}, {"tokens": ["#p", "In", "Retrofit", "2", "you", "should", "use", "HttpLoggingInterceptor", ".", "#p", "Add", "dependency", "to", "<code>build.gradle</code>", ":", "#pre", "#p", "Create", "<code>Retrofit</code>", "object", "like", "the", "following", ":", "#pre", "#p", "Above", "solution", "gives", "you", "logcat", "logs", "very", "similar", "to", "the", "old", "ones", "set", "by", "#pre", "#p", "#p", "Use", "interceptor", "v3.3.1", "otherwise", "you", "will", "get", "following", "error-", "<code>java.lang.NoSuchMethodError: No virtual method log(Ljava/lang/String;)V in class Lokhttp3/internal/Platform; or its super classes</code>", "#p", "Configuration", "for", "2.1.0", "looks", "like", "this", ":", "#pre"], "answer_id": 33256827, "question_id": 32514410}, {"tokens": ["#p", "I", "met", "the", "thing", "as", "you", "and", "I", "tried", "to", "ask", "the", "author", "of", "the", "book", "(", "here", "is", "the", "link", ")", "(", "nope", "!", "I", "am", "not", "making", "some", "ads", "for", "them", "...", ".but", "they", "are", "really", "nice", "guys", ":", ")", "And", "the", "author", "replied", "to", "me", "very", "soon", ",", "with", "both", "Log", "method", "on", "Retrofit", "1.9", "and", "Retrofit", "2.0-beta", ".", "#p", "And", "here", "is", "the", "code", "of", "Retrofit", "2.0-beta", ":", "#pre", "#p", "This", "is", "how", "to", "add", "logging", "method", "with", "the", "help", "of", ".", "Also", "if", "you", "are", "the", "reader", "of", "that", "book", "I", "mentioned", "above", ",", "you", "may", "find", "that", "it", "says", "there", "is", "not", "log", "method", "with", "Retrofit", "2.0", "anymore", "--", "which", ",", "I", "had", "asked", "the", "author", ",", "is", "not", "correct", "and", "they", "will", "update", "the", "book", "next", "year", "talking", "about", "it", ".", "#p", "//", "In", "case", "you", "are", "not", "that", "familiar", "with", "the", "Log", "method", "in", "Retrofit", ",", "I", "would", "like", "to", "share", "something", "more", ".", "#p", "Also", "should", "be", "noticed", "that", "there", "are", "some", "Logging", "Levels", "you", "could", "pick", ".", "I", "use", "the", "most", "of", "the", "time", ",", "which", "will", "give", "some", "thing", "like", "this", ":", "#p", "#p", "You", "can", "find", "almost", "all", "the", "http", "staff", "inside", "the", "picture", ":", "the", "header", ",", "the", "content", "and", "response", ",", "etc", ".", "#p", "And", "sometimes", "you", "really", "do", "n't", "need", "all", "the", "guests", "to", "attend", "your", "party", ":", "I", "just", "want", "to", "know", "whether", "it", "'s", "successfully", "connected", ",", "that", "internet", "call", "is", "successfully", "made", "within", "my", "Activiy", "&", "Fragmetn", ".", "Then", "you", "are", "free", "to", "use", ",", "which", "will", "return", "something", "like", "this", ":", "#p", "#p", "Can", "you", "find", "the", "status", "code", "inside", "?", "That", "is", "it", ":", ")", "#p", "Also", "there", "is", "another", "one", ",", ",", "which", "will", "only", "return", "the", "header", "of", "the", "network", ".", "Ya", "of", "course", "another", "picture", "here", ":", "#p", "#p", "That", "'s", "all", "of", "the", "Logging", "trick", ";", ")", "#p", "And", "I", "would", "like", "to", "share", "you", "with", "the", "tutorial", "I", "learned", "a", "lot", "there", ".", "They", "have", "a", "bunch", "of", "great", "post", "talking", "about", "almost", "everything", "related", "to", "Retrofit", ",", "and", "they", "are", "continuing", "updating", "the", "post", ",", "at", "the", "same", "time", "Retrofit", "2.0", "is", "coming", ".", "Please", "take", "a", "look", "at", "those", "work", ",", "which", "I", "think", "will", "save", "you", "lots", "of", "time", "."], "answer_id": 34236997, "question_id": 32514410}, {"tokens": ["#p", "The", "main", "problem", "which", "I", "faced", "was", "dynamical", "adding", "headers", "and", "logging", "them", "into", "debug", "logcat", ".", "I", "'ve", "tried", "to", "add", "two", "interceptors", ".", "One", "for", "logging", "and", "one", "for", "adding", "headers", "on-the-go", "(", "token", "authorization", ")", ".", "The", "problem", "was", "that", "we", "may", ".addInterceptor", "or", ".addNetworkInterceptor", ".", "As", "Jake", "Wharton", "said", "to", "me", ":", "``", "Network", "interceptors", "always", "come", "after", "application", "interceptors", ".", "See", "https", ":", "//github.com/square/okhttp/wiki/Interceptors", "``", ".", "So", "here", "is", "working", "example", "with", "headers", "and", "logs", ":", "#pre"], "answer_id": 36847027, "question_id": 32514410}, {"tokens": ["#p", "You", "can", "also", "add", "Facebook", "'s", "Stetho", "and", "look", "at", "the", "network", "traces", "in", "Chrome", ":", "http", ":", "//facebook.github.io/stetho/", "#pre", "#p", "Then", "open", "``", "chrome", ":", "//inspect", "''", "in", "Chrome", "..."], "answer_id": 38489224, "question_id": 32514410}, {"tokens": ["#p", "I", "found", "way", "for", "Print", "Log", "in", "Retrofit", "#pre", "#p", "Works", "for", "me", "."], "answer_id": 38867189, "question_id": 32514410}, {"tokens": ["#p", "Recently", "I", "'m", "reading", "the", "source", "code", "of", "Spring", "Framework", ".", "Something", "I", "ca", "n't", "understand", "goes", "here", ":", "#pre", "#p", "This", "method", "is", "a", "member", "of", "class", "<code>org.springframework.core.MethodParameter</code>", ".", "The", "code", "is", "easy", "to", "understand", "while", "the", "comments", "are", "hard", ".", "#blockquote", "#p", "What", "'s", "the", "difference", "between", "using", "ternary", "expression", "and", "using", "<code>if...else...</code>", "construct", "in", "this", "context", "?"], "answer_count": 4, "question_id": 32475166}, {"tokens": ["#p", "The", "chief", "difference", "is", "that", "an", "<code>if</code>", "<code>else</code>", "block", "is", "a", "whereas", "the", "ternary", "(", "more", "often", "known", "as", "the", "operator", "in", "Java", ")", "is", "an", ".", "#p", "A", "can", "do", "things", "like", "<code>return</code>", "to", "the", "caller", "on", "some", "of", "the", "control", "paths", ".", "An", "can", "be", "used", "in", "an", "assignment", ":", "#p", "<code>int n = condition ? 3 : 2;</code>", "#p", "So", "the", "two", "expressions", "in", "the", "ternary", "after", "the", "condition", "need", "to", "be", "coercable", "to", "the", "same", "type", ".", "This", "can", "cause", "some", "odd", "effects", "in", "Java", "particularly", "with", "auto-boxing", "and", "automatic", "reference", "casting", "-", "this", "is", "what", "the", "comment", "in", "your", "posted", "code", "is", "referring", "to", ".", "The", "coercion", "of", "the", "expressions", "in", "your", "case", "would", "be", "to", "a", "<code>java.lang.reflect.Executable</code>", "type", "(", "as", "that", "'s", "the", ")", "and", "that", "does", "not", "exist", "in", "older", "versions", "of", "Java", ".", "#p", "Stylistically", "you", "should", "use", "an", "<code>if</code>", "<code>else</code>", "block", "if", "the", "code", "is", "statement-like", ",", "and", "a", "ternary", "if", "it", "'s", "expression-like", ".", "#p", "Of", "course", ",", "you", "can", "make", "an", "<code>if</code>", "<code>else</code>", "block", "behave", "like", "an", "expression", "if", "you", "use", "a", "lambda", "function", "."], "answer_id": 32475290, "question_id": 32475166}, {"tokens": ["#p", "The", "return", "value", "type", "in", "a", "ternary", "expression", "is", "affected", "by", "parent", "classes", ",", "which", "changed", "as", "described", "in", "Java", "8", ".", "#p", "Hard", "to", "see", "why", "a", "cast", "could", "n't", "have", "been", "written", "."], "answer_id": 32476828, "question_id": 32475166}, {"tokens": ["#p", "When", "you", "think", "about", "the", "type", "of", "the", "operands", ",", "the", "problem", "becomes", "more", "apparent", ":", "#pre", "#p", "has", "as", "type", "the", "most", "specialized", "common", "type", "of", "both", "the", "operands", ",", "i.e", ".", "the", "most", "specialized", "type", "common", "to", "both", "<code>this.method</code>", "and", "<code>this.constructor</code>", ".", "#p", "In", "Java", "7", "this", "is", "<code>java.lang.reflect.Member</code>", ",", "however", "the", "Java", "8", "class", "library", "introduces", "a", "new", "type", "<code>java.lang.reflect.Executable</code>", "which", "is", "more", "specialized", "than", "the", "generic", "<code>Member</code>", ".", "Hence", "with", "a", "Java", "8", "class", "library", "the", "result", "type", "of", "the", "ternary", "expression", "is", "<code>Executable</code>", "rather", "than", "<code>Member</code>", ".", "#p", "Some", "(", "pre-release", ")", "versions", "of", "the", "Java", "8", "compiler", "seem", "to", "have", "produced", "an", "explicit", "reference", "to", "<code>Executable</code>", "inside", "generated", "code", "when", "compiling", "the", "ternary", "operator", ".", "This", "would", "trigger", "a", "class", "load", ",", "and", "thus", "in", "turn", "a", "<code>ClassNotFoundException</code>", "at", "runtime", "when", "running", "with", "a", "class", "library", "<", "JDK", "8", ",", "because", "<code>Executable</code>", "only", "exists", "for", "JDK", "\u2265", "8", ".", "#p", "As", "noted", "by", "Tagir", "Valeev", "in", "this", "answer", ",", "this", "is", "actually", "a", "bug", "in", "pre-release", "versions", "of", "JDK", "8", "and", "has", "since", "been", "fixed", ",", "so", "both", "the", "<code>if-else</code>", "workaround", "and", "the", "explanatory", "comment", "are", "now", "obsolete", ".", "#p", "One", "might", "come", "to", "the", "conclusion", "that", "this", "compiler", "bug", "was", "present", "before", "Java", "8", ".", "However", ",", "the", "byte", "code", "generated", "for", "the", "ternary", "by", "OpenJDK", "7", "is", "the", "same", "as", "the", "byte", "code", "generated", "by", "OpenJDK", "8", ".", "In", "fact", ",", "the", "type", "of", "the", "expression", "goes", "completely", "unmentioned", "at", "runtime", ",", "the", "code", "is", "really", "only", "test", ",", "branch", ",", "load", ",", "return", "without", "any", "additional", "checks", "going", "on", ".", "So", "rest", "assured", "that", "this", "is", "not", "a", "problem", "(", "anymore", ")", "and", "indeed", "seems", "to", "have", "been", "a", "temporary", "problem", "during", "development", "of", "Java", "8", "."], "answer_id": 32476850, "question_id": 32475166}, {"tokens": ["#p", "This", "was", "introduced", "in", "quite", "old", "commit", "at", "May", "3rd", ",", "2013", ",", "almost", "a", "year", "before", "official", "JDK-8", "release", ".", "The", "compiler", "was", "under", "heavy", "development", "those", "times", ",", "so", "such", "compatibility", "problems", "could", "occur", ".", "I", "guess", ",", "the", "Spring", "team", "just", "tested", "the", "JDK-8", "build", "and", "tried", "to", "fix", "problems", ",", "even", "though", "they", "are", "actually", "compiler", "problems", ".", "By", "JDK-8", "official", "release", "this", "became", "irrelevant", ".", "Now", "the", "ternary", "operator", "in", "this", "code", "works", "fine", "as", "expected", "(", "no", "reference", "to", "<code>Executable</code>", "class", "in", "compiled", ".class-file", "is", "present", ")", ".", "#p", "Currently", "similar", "things", "appear", "in", "JDK-9", ":", "some", "code", "which", "can", "be", "nicely", "compiled", "in", "JDK-8", "is", "failed", "with", "JDK-9", "javac", ".", "I", "guess", ",", "most", "of", "such", "problems", "will", "be", "fixed", "till", "the", "release", "."], "answer_id": 32477696, "question_id": 32475166}, {"tokens": ["#p", "I", "have", "read", "several", "Java", "8", "tutorials", "before", ".", "#p", "Right", "now", "I", "encountered", "following", "topic", ":", "Does", "java", "support", "Currying", "?", "#p", "Here", ",", "I", "see", "following", "code", ":", "#pre", "#p", "I", "understand", "that", "this", "example", "sum", "2", "elements", "but", "I", "can", "not", "understand", "the", "construction", ":", "#pre", "#p", "According", "to", "the", "left", "part", "of", "expression", ",", "this", "row", "should", "implement", "following", "function", ":", "#pre", "#p", "Before", "this", ",", "I", "only", "met", "lambdas", "only", "with", "one", "arrow", "."], "answer_count": 6, "question_id": 32820722}, {"tokens": ["#p", "If", "you", "express", "this", "as", "non-shorthand", "lambda", "syntax", "or", "pre-lambda", "Java", "anonymous", "class", "syntax", "it", "is", "clearer", "what", "is", "happening", "...", "#p", "The", "original", "question", ".", "Why", "are", "two", "arrows", "?", "Simple", ",", "there", "are", "two", "functions", "being", "defined", "...", "The", "first", "function", "is", "a", "function-defining-function", ",", "the", "second", "is", "the", "result", "of", "that", "function", ",", "which", "also", "happens", "to", "be", "function", ".", "Each", "requires", "an", "<code>-&gt;</code>", "operator", "to", "define", "it", ".", "#pre", "#pre"], "answer_id": 32820927, "question_id": 32820722}, {"tokens": ["#p", "An", "<code>IntFunction&lt;R&gt;</code>", "is", "a", "function", "<code>int -&gt; R</code>", ".", "An", "<code>IntUnaryOperator</code>", "is", "a", "function", "<code>int -&gt; int</code>", ".", "#p", "Thus", "an", "<code>IntFunction&lt;IntUnaryOperator&gt;</code>", "is", "a", "function", "that", "takes", "an", "<code>int</code>", "as", "parameter", "and", "return", "a", "function", "that", "takes", "an", "<code>int</code>", "as", "parameter", "and", "return", "an", "<code>int</code>", ".", "#pre", "#p", "Maybe", "it", "is", "more", "clear", "if", "you", "use", "anonymous", "classes", "to", "``", "decompose", "''", "the", "lambda", ":", "#pre"], "answer_id": 32820940, "question_id": 32820722}, {"tokens": ["#p", "Let", "'s", "rewrite", "that", "lambda", "expression", "with", "parentheses", "to", "make", "it", "more", "clear", ":", "#pre", "#p", "So", "we", "are", "declaring", "a", "function", "taking", "an", "<code>int</code>", "which", "returns", "a", "<code>Function</code>", ".", "More", "specifically", ",", "the", "function", "returned", "takes", "an", "<code>int</code>", "and", "returns", "an", "<code>int</code>", "(", "the", "sum", "of", "the", "two", "elements", ")", ":", "this", "can", "be", "represented", "as", "an", "<code>IntUnaryOperator</code>", ".", "#p", "Therefore", ",", "<code>curriedAdd</code>", "is", "a", "function", "taking", "an", "<code>int</code>", "and", "returning", "an", "<code>IntUnaryOperator</code>", ",", "so", "it", "can", "be", "represented", "as", "<code>IntFunction&lt;IntUnaryOperator&gt;</code>", "."], "answer_id": 32820984, "question_id": 32820722}, {"tokens": ["#p", "Adding", "parentheses", "may", "make", "this", "more", "clear", ":", "#pre", "#p", "Or", "probably", "intermediate", "variable", "may", "help", ":", "#pre"], "answer_id": 32820987, "question_id": 32820722}, {"tokens": ["#p", "If", "you", "look", "at", "<code>IntFunction</code>", "it", "might", "become", "clearer", ":", "<code>IntFunction&lt;R&gt;</code>", "is", "a", "<code>FunctionalInterface</code>", ".", "It", "represents", "a", "function", "that", "takes", "an", "<code>int</code>", "and", "returns", "a", "value", "of", "type", "<code>R</code>", ".", "#p", "In", "this", "case", ",", "the", "return", "type", "<code>R</code>", "is", "also", "a", "<code>FunctionalInterface</code>", ",", "namely", "an", "<code>IntUnaryOperator</code>", ".", "So", "the", "(", "outer", ")", "function", "itself", "returns", "a", "function", ".", "#p", "In", "this", "case", ":", "When", "applied", "to", "an", "<code>int</code>", ",", "<code>curriedAdd</code>", "is", "supposed", "to", "return", "a", "function", "that", "again", "takes", "an", "<code>int</code>", "(", "and", "returns", "again", "<code>int</code>", ",", "because", "that", "'s", "what", "<code>IntUnaryOperator</code>", "does", ")", ".", "#p", "In", "functional", "programming", "it", "is", "common", "to", "write", "the", "type", "of", "a", "function", "as", "<code>param -&gt; return_value</code>", "and", "you", "see", "exactly", "that", "here", ".", "So", "the", "type", "of", "<code>curriedAdd</code>", "is", "<code>int -&gt; int -&gt; int</code>", "(", "or", "<code>int -&gt; (int -&gt; int)</code>", "if", "you", "like", "that", "better", ")", ".", "#p", "Java", "8", "'s", "lambda", "syntax", "goes", "along", "with", "this", ".", "To", "define", "such", "a", "function", ",", "you", "write", "#pre", "#p", "which", "is", "very", "much", "similar", "to", "actual", "lambda", "calculus", ":", "#pre", "#p", "<code>\u03bbb a + b</code>", "is", "a", "function", "that", "takes", "a", "single", "parameter", "<code>b</code>", "and", "returns", "a", "value", "(", "the", "sum", ")", ".", "<code>\u03bba \u03bbb a + b</code>", "is", "a", "function", "that", "accepts", "a", "single", "parameter", "<code>a</code>", "and", "returns", "another", "function", "of", "a", "single", "parameter", ".", "<code>\u03bba \u03bbb a + b</code>", "returns", "<code>\u03bbb a + b</code>", "with", "<code>a</code>", "set", "to", "the", "parameter", "value", "."], "answer_id": 32821016, "question_id": 32820722}, {"tokens": ["#p", "It", "'s", "two", "lambda", "expressions", ".", "#pre"], "answer_id": 32821112, "question_id": 32820722}, {"tokens": ["#p", "I", "have", "a", "class", "used", "for", "navigating", "back", "and", "forth", "through", "a", "list", "of", "ordered", "pages", ".", "The", "pages", "are", "generally", "but", "not", "always", "accessed", "sequentially", ".", "Sometimes", "one", "or", "more", "pages", "may", "be", "skipped", "based", "on", "certain", "rules", ".", "#p", "To", "manage", "this", ",", "I", "maintain", "two", "stacks", ",", "forward", "and", "backward", ",", "to", "track", "which", "pages", "have", "previously", "been", "visited", "in", "either", "direction", ".", "#p", "As", "far", "as", "the", "functionality", "of", "this", "class", "is", "concerned", ",", "there", "is", "no", "reason", "for", "it", "to", "expose", "these", "stacks", ".", "However", ",", "when", "unit", "testing", "the", "navigation", "methods", ",", "<code>first()</code>", ",", "<code>next()</code>", ",", "<code>previous()</code>", "and", "<code>last()</code>", ",", "which", "all", "reorganize", "the", "stacks", "and", "return", "the", "appropriate", "page", ",", "I", "need", "to", "check", "that", "the", "stacks", "are", "in", "the", "right", "``", "state", "''", "at", "the", "end", "of", "the", "process", ".", "#p", "For", "example", ",", "calling", "<code>first()</code>", "should", "cause", "the", "forward", "stack", "to", "be", "cleared", "and", "every", "other", "page", "that", "has", "previously", "been", "visited", "to", "be", "pushed", "into", "the", "backward", "stack", ".", "#p", "Is", "this", "alone", "a", "good", "enough", "reason", "to", "provide", "getters", "for", "the", "forward", "and", "backward", "stacks", "?", "One", "reason", "I", "am", "hesitant", "to", "do", "so", "is", "that", "I", "worry", "that", "this", "also", "exposes", "them", "to", "(", "perhaps", "inadvertent", ")", "outside", "manipulation", "that", "might", "cause", "the", "class", "to", "malfunction", ".", "What", "if", "a", "client", "clears", "a", "stack", "for", "example", "?", "#p", "#p", "Some", "people", "have", "suggested", "that", "this", "question", "is", "a", "duplicate", "of", "the", "one", "posted", "here", ".", "I", "think", "the", "2", "questions", "are", "n't", "quite", "the", "same", ".", "The", "other", "question", "discusses", "the", "idea", "of", ".", "This", "question", ",", "on", "the", "other", "hand", ",", "is", "specifically", "about", "t.", "I", "think", "there", "is", "a", "subtle", "but", "significant", "difference", "there", ",", "and", "the", "accepted", "answer", "clearly", "shows", "how", "to", "test", "the", "very", "same", "public", "methods", "without", "examining", "internal", "state", "."], "answer_count": 0, "question_id": 31646092}, {"tokens": ["#p", "i", "am", "trying", "to", "integrate", "google", "sign", "in", ",", "in", "my", "app", ",", "i", "added", "these", "libraries", ":", "#pre", "#p", "also", "add", "this", "to", "project", "build", "gradle", ":", "#pre", "#p", "also", "add", "plugin", "to", "app", "build", "gradle", ":", "#pre", "#p", "then", "add", "required", "permissions", "but", "when", "i", "try", "to", "run", "my", "app", ",", "received", "this", "error", ":", "#pre"], "answer_count": 15, "question_id": 32807587}, {"tokens": ["#p", "Try", "adding", "<code>multiDexEnabled true</code>", "to", "your", "app", "file", ".", "#pre", "#p", "#p", "Try", "Steve", "'s", "[", "answer", "]", "[", "1", "]", "first", ".", "In", "case", "it", "happens", "frequently", "or", "first", "step", "did", "n't", "help", "<code>multiDexEnabled</code>", "might", "help", ".", "For", "those", "who", "love", "to", "dig", "deeper", "here", "is", "couple", "similar", "issues", "(", "with", "more", "answers", ")", ":", "#p", ":", "app", ":", "dexDebug", "ExecException", "finished", "with", "non-zero", "exit", "value", "2", "#p", "Error", ":", "Execution", "failed", "for", "task", "'", ":", "app", ":", "dexDebug", "'", ".", "com.android.ide.common.process.ProcessException"], "answer_id": 32811133, "question_id": 32807587}, {"tokens": ["#p", "I", "just", "had", "to", "Clean", "my", "project", "and", "then", "it", "built", "successfully", "afterwards", "."], "answer_id": 32826010, "question_id": 32807587}, {"tokens": ["#p", "Another", "thing", "to", "watch", "for", ",", "is", "that", "you", "do", "n't", "use", "#pre", "#p", "That", "will", "import", "ALL", "the", "play", "services", ",", "and", "it", "'ll", "only", "take", "little", "more", "than", "a", "hello", "world", "to", "exceed", "the", "65535", "method", "limit", "of", "a", "single", "dex", "APK", ".", "#p", "Always", "specify", "only", "the", "services", "you", "need", ",", "for", "instance", ":", "#pre"], "answer_id": 33690032, "question_id": 32807587}, {"tokens": ["#p", "If", "you", "are", "using", "the", "latest", "gradle", "version", "ie", "<code>classpath 'com.android.tools.build:gradle:1.5.0' and  classpath 'com.google.gms:google-services:1.4.0-beta3'</code>", ",", "then", "try", "updating", "the", "latest", "support", "respository", "from", "the", "SDK", "manager", "and", "rebuild", "the", "entire", "project", "."], "answer_id": 33865668, "question_id": 32807587}, {"tokens": ["#p", "I", "also", "faced", "similar", "issue", "in", "Android", "Studio", "1.5.1", "and", "gradle", "1.5.0", ".", "I", "just", "have", "to", "remove", "unwanted", "libraries", "from", "dependencies", "which", "may", "be", "automatically", "added", "in", "my", "app", "'s", "build.gradle", "file", ".", "One", "was", ":", "compile", "'com.google.android.gms", ":", "play-services:8.4.0", "'", ".", "So", "for", "best", "practices", "try", "to", "only", "include", "specific", "play", "services", "library", "like", "for", "ads", "include", "only", "#pre", "#p", "Although", "#pre", "#p", "this", "will", "also", "solve", "the", "issue", ",", "but", "provides", "with", "a", "lot", "of", "Notes", "in", "gradle", "console", ",", "making", "it", "confusing", "to", "find", "the", "other", "real", "issues", "during", "build"], "answer_id": 34819284, "question_id": 32807587}, {"tokens": ["#p", "I", "'m", "using", "AS", "1.5.1", "and", "encountered", "the", "same", "problem", ".", "But", "just", "cleaning", "the", "project", "just", "wont", "do", ",", "so", "I", "tried", "something", ".", "#li", "clean", "project", "#li", "restart", "AS", "#li", "Sync", "Project", "#p", "This", "worked", "with", "me", ",", "so", "I", "hope", "this", "helps", "."], "answer_id": 35099208, "question_id": 32807587}, {"tokens": ["#p", "This", "error", "began", "appearing", "for", "me", "when", "I", "added", "some", "new", "methods", "to", "my", "project", ".", "I", "knew", "that", "I", "was", "nowhere", "near", "the", "65k", "method", "limit", "and", "did", "not", "want", "to", "enable", "multiDex", "support", "for", "my", "project", "if", "I", "could", "help", "it", ".", "#p", "I", "resolved", "it", "by", "increasing", "the", "memory", "available", "to", "the", "<code>:app:transformClassesForDexForDebug</code>", "task", ".", "I", "did", "this", "by", "specifying", "in", "<code>gradle.build</code>", ".", "#p", "#pre", "#p", "I", "tried", "this", "after", "having", "had", "no", "success", "with", "other", "common", "solutions", "to", "this", "problem", ":", "#li", "Running", "a", "project", "<code>clean</code>", "#li", "Manually", "deleting", "the", "<code>/app/build</code>", "and", "<code>/build</code>", "directories", "from", "my", "project", "#li", "Invalidating", "Gradle", "Cache", "and", "restarting", "Android", "Studio", "#p", "#blockquote", "#p", "Note", ":", "increasing", "the", "memory", "available", "to", "the", "DEX", "task", "can", "cause", "performance", "problems", "on", "systems", "with", "lower", "memory", "-", "link", "."], "answer_id": 35299382, "question_id": 32807587}, {"tokens": ["#p", "you", "can", "see", "the", "documentation", "of", "Android", "#pre", "#p", "Manifest.xml", "#pre"], "answer_id": 35590389, "question_id": 32807587}, {"tokens": ["#p", "I", "had", "same", "problem", "when", "i", "rolled", "back", "to", "old", "version", "via", "git", ",", "and", "that", "version", "had", "previous", ".jar", "library", "of", "one", "3rd", "party", "api", ",", "and", "for", "some", "reason", "turned", "out", "that", "both", "jar", "of", "the", "same", "sdk", ",", "just", "different", "versions", "were", "in", "/libs", "folder", "."], "answer_id": 35804287, "question_id": 32807587}, {"tokens": ["#p", "If", "you", "need", "add", "this", "reference", "for", "cordova", "plugin", "add", "next", "line", "in", "your", "plugin.xml", "file", ".", "#pre"], "answer_id": 37391817, "question_id": 32807587}, {"tokens": ["#p", "If", "the", "different", "dependencies", "have", "a", "same", "jar", "also", "cause", "this", "build", "error", ".", "#p", "For", "example", ":", "#pre", "#p", "If", "``", "library1", "''", "and", "``", "library2", "''", "has", "a", "same", "jar", "named", "<code>xxx.jar</code>", ",", "this", "will", "make", "such", "an", "error", "."], "answer_id": 37939600, "question_id": 32807587}, {"tokens": ["#p", "It", "happened", "to", "me", "because", "of", "Eclipse", "memory", "leak", ".", "I", "had", "to", "restart", "my", "computer", "."], "answer_id": 38401015, "question_id": 32807587}, {"tokens": ["#p", "I", "changed", "a", "couple", "of", "pngs", "and", "the", "build", "number", "in", "the", "gradle", "and", "now", "I", "get", "this", ".", "No", "amount", "of", "cleaning", "and", "restarting", "helped", ".", "Disabling", "Instant", "Run", "fixed", "it", "for", "me", ".", "YMMV"], "answer_id": 39060662, "question_id": 32807587}, {"tokens": ["#p", "At", "my", "case", "change", "buildToolsVersion", "from", "``", "24", "''", "to", "``", "23.0.2", "''", ",", "solve", "the", "problem", "."], "answer_id": 39439923, "question_id": 32807587}, {"tokens": ["#p", "I", "had", "the", "same", "option", "and", "as", "soon", "as", "I", "turned", "off", "Instant", "run", ",", "it", "worked", "fine", "on", "my", "API16", "device", ",", "but", "on", "the", "API24", "device", "it", "worked", "fine", "with", "Instant", "run", ".", "#p", "Hope", "this", "helps", "someone", "having", "the", "same", "issue"], "answer_id": 39469800, "question_id": 32807587}, {"tokens": ["#p", "I", "'m", "updating", "our", "app", "to", "use", "the", "new", "M", "Permissions", "system", ".", "It", "is", "all", "working", "besides", "the", "onRequestPermissionsResult", "(", ")", ".", "I", "need", "to", "check", "a", "permission", "on", "a", "button", "press", ",", "and", "if", "it", "is", "successful", ",", "send", "a", "text", "message", ".", "When", "I", "grant", "permission", "to", "do", "it", ",", "the", "dialog", "closes", ",", "but", "it", "does", "n't", "trigger", "the", "Send", "Text", "until", "I", "press", "the", "button", "again", ".", "#p", "I", "'ve", "debugged", "and", "set", "breakpoints", "in", "the", "onRequestPermissionsResult", "(", ")", "method", "but", "it", "never", "goes", "into", "it", ".", "#p", "This", "method", "gets", "called", "first", ":", "#pre", "#p", "And", "then", "my", "callback", "looks", "like", "this", ":", "#pre", "#p", "Has", "anybody", "ran", "into", "a", "similar", "issue", "?", "Appreciate", "any", "help", "with", "this", ".", "Thanks"], "answer_count": 13, "question_id": 32714787}, {"tokens": ["#p", "You", "can", "try", "this", ":", "#pre", "#p", "If", "you", "are", "calling", "this", "code", "from", "a", "fragment", "it", "has", "it", "'s", "own", "requestPermissions", "method", ".", "I", "believe", "the", "problem", "is", "that", "you", "are", "calling", "static", "method", ".", "#p", "Pro", "Tip", "if", "you", "want", "the", "<code>onRequestPermissionsResult()</code>", "in", "a", "fragment", ":", "<code>FragmentCompat.requestPermissions(Fragment fragment, String[] permissions, int requestCode)</code>"], "answer_id": 32715419, "question_id": 32714787}, {"tokens": ["#p", "You", "have", "the", "function", "for", "pre", "Marshmallow", "devices", "in", ".", "I", "use", "like", "this", ":", "#pre"], "answer_id": 32865306, "question_id": 32714787}, {"tokens": ["#p", "I", "ran", "into", "the", "same", "issue", "and", "I", "just", "found", "the", "solution", ".", "When", "using", "the", "Support", "library", ",", "you", "have", "to", "use", "the", "correct", "method", "calls", ".", "For", "example", ":", "#li", "When", "in", ",", "you", "should", "use", ";", "#li", "When", "in", ",", "you", "should", "use", "simply", "(", "this", "is", "an", "instance", "method", "of", "android.support.v4.app.Fragment", ")", "#p", "If", "you", "call", "ActivityCompat.requestPermissions", "in", "a", "fragment", ",", "the", "callback", "is", "called", "on", "the", "activity", "and", "not", "the", "fragment", ".", "#p", "Hope", "this", "helps", "!"], "answer_id": 33080682, "question_id": 32714787}, {"tokens": ["#p", "This", "issue", "was", "actually", "being", "caused", "by", "NestedFragments", ".", "Basically", "most", "fragments", "we", "have", "extend", "a", "HostedFragment", "which", "in", "turn", "extends", "a", "CompatFragment", ".", "Having", "these", "nested", "fragments", "caused", "issues", "which", "eventually", "were", "solved", "by", "another", "developer", "on", "the", "project", ".", "#p", "He", "was", "doing", "some", "low", "level", "stuff", "like", "bit", "switching", "to", "get", "this", "working", "so", "I", "'m", "not", "too", "sure", "of", "the", "actual", "final", "solution"], "answer_id": 33081173, "question_id": 32714787}, {"tokens": ["#p", "If", "you", "have", "<code>onRequestPermissionsResult</code>", "in", "both", "activity", "and", "fragment", ",", "make", "sure", "to", "call", "<code>super.onRequestPermissionsResult</code>", "in", "activity", ".", "It", "is", "not", "required", "in", "fragment", ",", "but", "it", "is", "in", "activity", "."], "answer_id": 33995827, "question_id": 32714787}, {"tokens": ["#p", "If", "you", "are", "using", "requestPermissions", "in", "fragment", ",", "it", "accepts", "2", "parameters", "instead", "of", "3", ".", "#p", "You", "should", "use", "<code>requestPermissions(permissions, PERMISSIONS_CODE);</code>"], "answer_id": 34309921, "question_id": 32714787}, {"tokens": ["#p", "If", "for", "some", "reason", "you", "have", "extended", "a", "custom", "Activity", "located", "in", "some", "external", "library", "that", "do", "not", "call", "the", "super", "you", "will", "need", "to", "manually", "call", "the", "Fragment", "super.onRequestPermissionsResult", "yourself", "in", "your", "Activity", "onRequestPermissionsResult", ".", "#pre"], "answer_id": 34945511, "question_id": 32714787}, {"tokens": ["#p", "This", "will", "work..", "#pre"], "answer_id": 35245235, "question_id": 32714787}, {"tokens": ["#p", "I", "have", "found", "out", "that", "is", "important", "where", "you", "call", "<code>android.support.v4.app.Fragment.requestPermissions</code>", ".", "#p", "If", "you", "do", "it", "in", "<code>onCreate()</code>", ",", "<code>onRequestPermissionsResult()</code>", "is", "never", "called", ".", "#p", "Solution", ":", "Call", "it", "in", "<code>onActivityCreated()</code>", ";", "#pre"], "answer_id": 35421061, "question_id": 32714787}, {"tokens": ["#pre"], "answer_id": 35701385, "question_id": 32714787}, {"tokens": ["#p", "I", "encountered", "this", "problem", "too", ".", "If", "you", "want", "the", "activity", "that", "handles", "permissions", "not", "in", "the", "history/recents", ",", "then", "you", "will", "be", "tempted", "to", "change", "your", "<code>AndroidManifest.xml</code>", "entry", ".", "#p", "If", "you", "set", "the", "activity", "that", "you", "call", "<code>requestPermissions</code>", "or", "<code>AppCompatActivity.requestPermissions</code>", "with", "#pre", "#p", "in", "your", "<code>AndroidManifest.xml</code>", "then", "<code>onRequestPermissionsResult()</code>", "will", "not", "be", "called", ".", "This", "is", "true", "if", "your", "Activity", "is", "derived", "from", "<code>Activity</code>", "or", "<code>AppCompatActivity</code>", ".", "#p", "This", "can", "be", "fixed", "by", "removing", "both", "flags", "from", "'AndroidManifest.xml", "'", "and", "finishing", "your", "activity", "with", "<code>finishAndRemoveTask()</code>", "instead", "."], "answer_id": 35772265, "question_id": 32714787}, {"tokens": ["#p", "Inside", "fragment", ",", "you", "need", "to", "call", ":", "#pre", "#p", "Not", ":", "#pre"], "answer_id": 37854430, "question_id": 32714787}, {"tokens": ["#p", "Before", "you", "check", "everything", "according", "to", "above", "answers", ",", "make", "sure", "your", "request", "code", "is", "not", "0", "!", "!", "!", "#p", "check", "the", "code", "of", "onRequestPermissionsResult", "(", ")", "in", "FragmentActivity.java", ":", "#pre"], "answer_id": 38236485, "question_id": 32714787}, {"tokens": ["#p", "If", "<code>short</code>", "is", "automatically", "promoted", "to", "<code>int</code>", "in", "arithmetic", "operations", ",", "then", "why", "is", ":", "#pre", "#p", "A", "legal", "assignment", "to", "the", "<code>short</code>", "variable", "<code>thirty</code>", "?", "#p", "In", "turn", ",", "this", ":", "#pre", "#p", "as", "well", "as", "this", ":", "#pre", "#p", "does", "not", "compile", "because", "assigning", "an", "<code>int</code>", "value", "to", "a", "<code>short</code>", "is", "not", "allowed", "without", "casting", "as", "expected", ".", "#p", "Is", "there", "something", "special", "going", "on", "about", "numerical", "literals", "?"], "answer_count": 2, "question_id": 32203462}, {"tokens": ["#p", "Yes", "there", "is", "something", "special", "going", "on", "with", "the", "literal", "case", ":", "<code>10 * 3</code>", "will", "be", "evaluated", "at", "time", ".", "So", "you", "do", "n't", "need", "an", "explicit", "<code>(short)</code>", "conversion", "for", "multiplied", "literals", ".", "#p", "<code>ten * three</code>", "is", "not", "compile-time", "evaluable", "so", "therefore", "needs", "an", "explicit", "conversion", ".", "#p", "It", "would", "be", "a", "different", "matter", "if", "<code>ten</code>", "and", "<code>three</code>", "were", "marked", "<code>final</code>", "."], "answer_id": 32203530, "question_id": 32203462}, {"tokens": ["#p", "Because", "the", "compiler", "replaces", "<code>10*3</code>", "with", "30", "at", "itself", ".", "So", ",", "effectively", ":", "<code>short thirty = 10 * 3</code>", "is", "calculated", "at", "compile", "time", ".", "#p", "Try", "changing", "<code>ten</code>", "and", "<code>three</code>", "to", "<code>final short</code>", "(", "making", "them", "compile", "time", "constants", ")", "and", "see", "what", "happens", ":", "P", "#p", "Examine", "byte-code", "using", "<code>javap -v</code>", "for", "both", "verisions", "(", "<code>10*3</code>", "and", "<code>final short</code>", ")", ".", "You", "will", "be", "able", "to", "see", "that", "there", "is", "little", "difference", ".", "#p", "Ok", ",", "So", ",", "here", "is", "the", "byte", "code", "difference", "for", "different", "cases", ".", "#p", "#blockquote", "#p", "Byte", "code", ":", "#pre", "#p", "#pre", "#p", "Byte", "code", ":", "#pre", "#p", "#pre", "#p", "Byte-code", ":", "#pre", "#p", "In", "the", "above", "case", ",", "<code>10</code>", "and", "<code>3</code>", "are", "taken", "from", "the", "local", "variables", "<code>s1</code>", "and", "<code>s2</code>"], "answer_id": 32203556, "question_id": 32203462}, {"tokens": ["#p", "I", "have", "JDK", "8u60", "installed", ".", "I", "checked", "the", "Oracle", "website", "today", "and", "they", "have", "released", "two", "versions", "simultaneously", ":", "8u65", "and", "8u66", ".", "Both", "are", "public", "release", "versions", ".", "#li", "Why", "did", "they", "release", "two", "versions", "simultaneously", "?", "#li", "What", "conditions/reasons", "would", "make", "one", "choose", "one", "over", "the", "other", "?"], "answer_count": 4, "question_id": 33260616}, {"tokens": ["#p", "From", "the", "download", "page", "(", "added", ")", ":", "#blockquote", "#p", "Oracle", "often", "does", "this", ".", "It", "'s", "all", "about", "how", "you", "as", "a", "customer", "want", "to", "handle", "the", "risks", ".", "#blockquote", "#p", "8u65", "has", "security", "fixes", "and", "sets", "a", "new", "security", "``", "baseline", "''", "for", "Java", "8", "applications", ".", "8u66", "has", "those", "same", "security", "updates", ",", "plus", "additional", "bug", "fixes", ".", "However", ",", "even", "bug", "fixes", "can", "sometimes", "cause", "changes", "to", "behaviour", "that", "present", "compatibility", "issues", "for", "users", ".", "Thus", "the", "changes", "in", "8u66", "are", "(", "note", "that", "the", "baseline", "linked", "above", "is", "still", "1.8.0_65", ",", "and", "companies", "that", "want", "more", "stability", "in", "their", "platform", "might", "well", "prefer", "to", "only", "apply", "the", "security", "fixes", ",", "which", "are", "necessary", ".", "#p", "Oracle", "is", "certainly", "not", "obligated", "to", "split", "their", "updates", "in", "this", "fashion", ",", "but", "I", "'m", "sure", "some", "of", "their", "most", "risk-averse", "customers", "are", "glad", "to", "have", "the", "option", "."], "answer_id": 33271482, "question_id": 33260616}, {"tokens": ["#p", "If", "you", "have", "an", "existing", "project", "use", "8u65", ".", "If", "you", "are", "starting", "one", "from", "scratch", "use", "8u66", ".", "I", "'m", "installing", "NetBeans", "8.1", "so", "I", "'m", "using", "8u66", "in", "case", "NB8.1", "code", "has", "any", "of", "the", "15", "bugs", "in", "8u65", "which", "are", "not", "solved", "in", "8u66", "."], "answer_id": 34459572, "question_id": 33260616}, {"tokens": ["#p", "I", "found", "this", "info", "on", "Haven", "and", "Hearth", ":", "#blockquote", "#p", "I", "'m", "thinking", "you", "'d", "only", "need", "to", "download", "74", ",", "then", "."], "answer_id": 35332869, "question_id": 33260616}, {"tokens": ["#p", "This", "is", "the", "official", "Oracle", "'s", "answer", ":", "#blockquote", "#p"], "answer_id": 35443576, "question_id": 33260616}, {"tokens": ["#p", "After", "a", "recent", "update", "to", "Android", "Studio", ",", "we", "'re", "having", "problems", "getting", "a", "project", "to", "compile", "that", "previously", "worked", ".", "At", "first", "we", "were", "getting", "the", "following", "error", ":", "#pre", "#p", "I", "updated", "the", "sdk", "build", "target", "in", "our", "gradle", "file", "to", "23", ",", "which", "made", "this", "specific", "issue", "go", "away", ",", "but", "it", "left", "us", "with", "a", "ton", "of", "apache.http", "package", "errors", "(", "specifically", ",", "a", "ton", "of", "apache", "packages", "we", "use", "for", "http", "stuff", "are", "now", "gone", "in", "sdk", "23", ")", ".", "#p", "What", "I", "want", "to", "do", "is", "solve", "the", "strange", "resource", "error", ",", "but", "without", "updating", "to", "sdk", "23", ".", "I", "do", "n't", "have", "the", "time", "to", "re-write", "our", "tools", "library", "right", "now", "to", "use", "whatever", "new", "implementation", "of", "apache", "http", "components", "has", "been", "issued", ".", "Does", "anyone", "have", "any", "ideas", "?"], "answer_count": 14, "question_id": 32092511}, {"tokens": ["#p", "Change", "the", "appcompat", "version", "in", "your", "build.gradle", "file", "back", "to", "22.2.1", "(", "or", "whatever", "you", "were", "using", "before", ")", "."], "answer_id": 32092805, "question_id": 32092511}, {"tokens": ["#p", "in", "your", "projects", "build.gradle", "file", "...", "write", "as", "below..", "i", "have", "solved", "that", "error", "by", "change", "the", "appcompat", "version", "from", "v7.23.0.0", "to", "v7.22.2.1..", "#pre", "#p", "{", "#pre", "#p", "}", "#p"], "answer_id": 32110726, "question_id": 32092511}, {"tokens": ["#p", "You", "need", "to", "set", "compileSdkVersion", "to", "23", ".", "#p", "Since", "API", "23", "Android", "removed", "the", "deprecated", "Apache", "Http", "packages", ",", "so", "if", "you", "use", "them", "for", "server", "requests", ",", "you", "'ll", "need", "to", "add", "<code>useLibrary 'org.apache.http.legacy'</code>", "to", "build.gradle", "as", "stated", "in", "this", "link", ":", "#pre"], "answer_id": 32112023, "question_id": 32092511}, {"tokens": ["#p", "It", "'s", "works", "just", "when", "the", "build.grade", "was", "changed", "to", "that", ":", "#pre"], "answer_id": 32125027, "question_id": 32092511}, {"tokens": ["#p", "you", "should", "change", "your", "compiledsdkversion", "and", "targetversion", "to", "23", "in", "the", "build", "gradle", "file", "specific", "to", "the", "app.Make", "sure", "you", "installed", "sdk", "23", ",", "version", "6.0", "before", "this.You", "can", "watch", "this", "vid", "for", "more", "help", ".", "https", ":", "//www.youtube.com/watch", "?", "v=pw4jKsOU7go"], "answer_id": 32154184, "question_id": 32092511}, {"tokens": ["#p", "I", "noticed", "I", "did", "n't", "have", "sdk", "23", "installed", ".", "So", "I", "first", "installed", "it", "then", "re-built", "my", "project", ".", "And", "it", "worked", "fine", ".", "Also", "compilesdkVersion", "should", "be", "23"], "answer_id": 32192466, "question_id": 32092511}, {"tokens": ["#p", "First", "of", "all", ",", "#p", "Try", "to", "check", "your", "SDK", "folder", ",", "for", "me", ",", "it", "was", "mydocuments/appdata/sdk", "...", ".", "etc", ".", "So", "basically", "my", "sdk", "folder", "was", "not", "fully", "downloaded", ",", "the", "source", "of", "this", "problem", "mainly", ".", "You", "have", "to", "either", "use", "another", "fully", "downloaded", "android", "sdk", "(", "including", "Tools", "section", "and", "extras", "that", "you", "really", "need", ")", "or", "use", "the", "eclipse", "sdk", "that", "you", "may", "downloaded", "earlier", "for", "your", "Eclipse", "android", "developments", ".", "Then", "build-", ">", "clean", "your", "project", "once", "again", ".", "#p", "Worth", "to", "try", "."], "answer_id": 32201537, "question_id": 32092511}, {"tokens": ["#p", "Attention", ",", "wrong", "answer", "coming", "!", "But", "anyone", "without", "apache", "libraries", "or", "so", "might", "find", "#pre", "#p", "helpful", ",", "it", "did", "the", "trick", "for", "me", "."], "answer_id": 32215811, "question_id": 32092511}, {"tokens": ["#p", "if", "u", "are", "getting", "errors", "even", "after", "downloading", "newest", "SDK", "and", "Android", "Studio", "I", "am", "a", "newbie", ":", "What", "i", "did", "was", "1", ".", "Download", "the", "recent", "SDK", "(", "i", "was", ")", "2.Open", "file-Project", "structure", "(", "ctrl+alt+shift+S", ")", "3", ".", "In", "modules", "select", "app", "4.In", "properties", "tab..change", "compile", "sdk", "version", "to", "api", "23", "Android", "6.0", "marshmallow", "(", "latest", ")", "#p", "make", "sure", "compile", "adk", "versionand", "buildtools", "are", "of", "same", "version", "(", "23", ")", "#p", "Hope", "it", "helps", "someone", "so", "that", "he", "wont", "suffer", "like", "i", "did", "for", "these", "couple", "of", "days", "."], "answer_id": 32317799, "question_id": 32092511}, {"tokens": ["#p", "compileSDK", "should", "match", "appCompat", "version", ".", "TargetSDK", "can", "still", "be", "22", "(", "e.g", ".", "in", "case", "you", "did", "n't", "update", "to", "the", "new", "permission", "model", "yet", ")"], "answer_id": 32610036, "question_id": 32092511}, {"tokens": ["#p", "Upgrade", "to", "use", "API", "23", "(", "Android", "6.0", ")", "or", "change", "back", "the", "appcompat-v7", "to", "22.2.2", "version", "in", "Gradle", ".", "This", "work", "for", "me", "when", "add", "google", "play", "service"], "answer_id": 33772468, "question_id": 32092511}, {"tokens": ["#p", "Try", "to", "match", "all", "version", ":", "#pre", "#p", "It", "'s", "work", "for", "me", "."], "answer_id": 34349635, "question_id": 32092511}, {"tokens": ["#p", "if", "you", "have", ":", "#pre", "#p", "error", ",", "you", "must", "change", "your", "<code>appcompat</code>", ",", "<code>buildtools</code>", ",", "<code>sdk</code>", "to", "but", ",", "if", "you", "do", "n't", "like", "to", "change", "it", "and", "must", "be", "in", "do", "this", ":", "#li", "compile", "#li", "target"], "answer_id": 35013814, "question_id": 32092511}, {"tokens": ["#p", "Method", "1", ":", "It", "is", "showing.you", "did", "not", "install", "Api", "23", ".", "So", "please", "install", "API", "23", ".", "#p", "Method", "2", ":", "#p", "Change", "the", "appcompat", "version", "in", "your", "build.gradle", "file", "back", "to", "22.0.1", "(", "or", "less", ")", "."], "answer_id": 38217803, "question_id": 32092511}, {"tokens": ["#p", "In", "RxJava", "there", "are", "5", "different", "schedulers", "to", "choose", "from", ":", "#blockquote", "#p", "The", "first", "3", "schedulers", "are", "pretty", "self", "explanatory", ";", "however", ",", "I", "'m", "a", "little", "confused", "about", "and", ".", "#li", "What", "exactly", "is", "``", "IO-bound", "work", "''", "?", "Is", "it", "used", "for", "dealing", "with", "streams", "(", "<code>java.io</code>", ")", "and", "files", "(", "<code>java.nio.files</code>", ")", "?", "Is", "it", "used", "for", "database", "queries", "?", "Is", "it", "used", "for", "downloading", "files", "or", "accessing", "REST", "APIs", "?", "#li", "How", "is", "different", "from", "?", "Is", "it", "that", "all", "calls", "are", "on", "a", "single", "(", "background", ")", "thread", "instead", "of", "a", "new", "(", "background", ")", "thread", "each", "time", "?", "#li", "Why", "is", "it", "bad", "to", "call", "when", "doing", "IO", "work", "?", "#li", "Why", "is", "it", "bad", "to", "call", "when", "doing", "computational", "work", "?"], "answer_count": 1, "question_id": 31276164}, {"tokens": ["#p", "Great", "questions", ",", "I", "think", "the", "documentation", "could", "do", "with", "some", "more", "detail", ".", "#li", "<code>io()</code>", "is", "backed", "by", "an", "unbounded", "thread-pool", "and", "is", "the", "sort", "of", "thing", "you", "'d", "use", "for", "non-computationally", "intensive", "tasks", ",", "that", "is", "stuff", "that", "does", "n't", "put", "much", "load", "on", "the", "CPU", ".", "So", "yep", "interaction", "with", "the", "file", "system", ",", "interaction", "with", "databases", "or", "services", "on", "a", "different", "host", "are", "good", "examples", ".", "#li", "<code>computation()</code>", "is", "backed", "by", "a", "bounded", "thread-pool", "with", "size", "equal", "to", "the", "number", "of", "available", "processors", ".", "If", "you", "tried", "to", "schedule", "cpu", "intensive", "work", "in", "parallel", "across", "more", "than", "the", "available", "processors", "(", "say", "using", "<code>newThread()</code>", ")", "then", "you", "are", "up", "for", "thread", "creation", "overhead", "and", "context", "switching", "overhead", "as", "threads", "vie", "for", "a", "processor", "and", "it", "'s", "potentially", "a", "big", "performance", "hit", ".", "#li", "It", "'s", "best", "to", "leave", "<code>computation()</code>", "for", "CPU", "intensive", "work", "only", "otherwise", "you", "wo", "n't", "get", "good", "CPU", "utilization", ".", "#li", "It", "'s", "bad", "to", "call", "<code>io()</code>", "for", "computational", "work", "for", "the", "reason", "discussed", "in", "2", ".", "<code>io()</code>", "is", "unbounded", "and", "if", "you", "schedule", "a", "thousand", "computational", "tasks", "on", "<code>io()</code>", "in", "parallel", "then", "each", "of", "those", "thousand", "tasks", "will", "each", "have", "their", "own", "thread", "and", "be", "competing", "for", "CPU", "incurring", "context", "switching", "costs", "."], "answer_id": 31282775, "question_id": 31276164}, {"tokens": ["#p", "Suppose", "we", "have", "the", "following", "classes", ":", "#pre", "#p", "Now", "lets", "call", "<code>recursive</code>", "in", "class", "A", ":", "#pre", "#p", "The", "output", "is", ",", "as", "expected", "counting", "down", "from", "10", ".", "#pre", "#p", "Let", "'s", "get", "to", "the", "the", "confusing", "part", ".", "Now", "we", "call", "<code>recursive</code>", "in", "class", "B", ".", "#p", ":", "#pre", "#p", ":", "#pre", "#p", "How", "does", "this", "happen", "?", "I", "know", "this", "is", "a", "devised", "example", ",", "but", "it", "makes", "me", "wonder", ".", "#p", "Older", "question", "with", "a", "concrete", "use", "case", "."], "answer_count": 6, "question_id": 34531180}, {"tokens": ["#p", "<code>super.recursive(i + 1);</code>", "in", "class", "<code>B</code>", "calls", "the", "super", "class", "'s", "method", "explicitly", ",", "so", "<code>recursive</code>", "of", "<code>A</code>", "is", "called", "once", ".", "#p", "Then", ",", "<code>recursive(i - 1);</code>", "in", "class", "A", "would", "call", "the", "<code>recursive</code>", "method", "in", "class", "<code>B</code>", "which", "overrides", "<code>recursive</code>", "of", "class", "<code>A</code>", ",", "since", "it", "is", "executed", "on", "an", "instance", "of", "class", "<code>B</code>", ".", "#p", "Then", "<code>B</code>", "'s", "<code>recursive</code>", "would", "call", "<code>A</code>", "'s", "<code>recursive</code>", "explicitly", ",", "and", "so", "on", "."], "answer_id": 34531216, "question_id": 34531180}, {"tokens": ["#p", "Because", "<code>recursive(i - 1);</code>", "in", "<code>A</code>", "refers", "to", "<code>this.recursive(i - 1);</code>", "which", "is", "<code>B#recursive</code>", "in", "second", "case", ".", "So", ",", "<code>super</code>", "and", "<code>this</code>", "will", "be", "called", "in", "function", ".", "#pre", "#p", "in", "<code>A</code>", "#pre"], "answer_id": 34531221, "question_id": 34531180}, {"tokens": ["#p", "This", "is", "expected", ".", "This", "is", "what", "happens", "for", "an", "instance", "of", "<code>B</code>", ".", "#pre", "#p", "As", "such", ",", "the", "calls", "are", "alternating", "between", "<code>A</code>", "and", "<code>B</code>", ".", "#p", "This", "does", "n't", "happen", "in", "the", "case", "of", "an", "instance", "of", "<code>A</code>", "because", "the", "overriden", "method", "wo", "n't", "be", "called", "."], "answer_id": 34531229, "question_id": 34531180}, {"tokens": ["#p", "When", "a", "<code>B</code>", "instance", "'s", "<code>recursive</code>", "method", "calls", "the", "<code>super</code>", "class", "implementation", ",", "the", "instance", "being", "acted", "on", "is", "still", "of", "<code>B</code>", ".", "Therefore", "when", "the", "super", "class", "'s", "implementation", "calls", "<code>recursive</code>", "without", "further", "qualification", ",", ".", "The", "result", "is", "the", "never-ending", "loop", "you", "'re", "seeing", "."], "answer_id": 34531234, "question_id": 34531180}, {"tokens": ["#p", "That", "actually", "can", "not", "go", "any", "other", "way", ".", "#p", "When", "you", "call", "<code>B.recursive(10);</code>", ",", "then", "it", "prints", "<code>B.recursive(10)</code>", "then", "calls", "the", "implementation", "of", "this", "method", "in", "<code>A</code>", "with", "<code>i+1</code>", ".", "#p", "So", "you", "call", "<code>A.recursive(11)</code>", ",", "which", "prints", "<code>A.recursive(11)</code>", "which", "calls", "the", "<code>recursive(i-1);</code>", "method", "on", "the", "current", "instance", "which", "is", "<code>B</code>", "with", "input", "parameter", "<code>i-1</code>", ",", "so", "it", "calls", "<code>B.recursive(10)</code>", ",", "which", "then", "calls", "the", "super", "implementation", "with", "<code>i+1</code>", "which", "is", "<code>11</code>", ",", "which", "then", "recursively", "calls", "the", "current", "instance", "recursive", "with", "<code>i-1</code>", "which", "is", "<code>10</code>", ",", "and", "you", "'ll", "get", "the", "loop", "that", "you", "see", "here", ".", "#p", "This", "is", "all", "because", "if", "you", "call", "the", "method", "of", "the", "instance", "in", "the", "superclass", ",", "you", "'ll", "still", "call", "the", "implementation", "of", "the", "instance", "on", "which", "you", "'re", "calling", "it", ".", "#p", "Imagine", "this", ",", "#pre", "#p", "You", "'ll", "get", "``", "BARK", "''", "instead", "of", "a", "compilation", "error", "such", "as", "``", "the", "abstract", "method", "can", "not", "be", "called", "on", "this", "instance", "''", "or", "a", "runtime", "error", "<code>AbstractMethodError</code>", "or", "even", "<code>pure virtual method call</code>", "or", "something", "like", "that", ".", "So", "this", "is", "all", "to", "support", "polymorphism", "."], "answer_id": 34531371, "question_id": 34531180}, {"tokens": ["#p", "The", "other", "answers", "have", "all", "explained", "the", "essential", "point", ",", "that", "once", "an", "instance", "method", "is", "overridden", "it", "stays", "overridden", "and", "there", "'s", "no", "getting", "it", "back", "except", "through", "<code>super</code>", ".", "<code>B.recursive()</code>", "invokes", "<code>A.recursive()</code>", ".", "<code>A.recursive()</code>", "then", "invokes", "<code>recursive()</code>", ",", "which", "resolves", "to", "the", "override", "in", "<code>B</code>", ".", "And", "we", "ping", "pong", "back", "and", "forth", "until", "the", "end", "of", "the", "universe", "or", "a", "<code>StackOverflowError</code>", ",", "whichever", "comes", "first", ".", "#p", "It", "would", "be", "nice", "if", "one", "could", "write", "<code>this.recursive(i-1)</code>", "in", "<code>A</code>", "to", "get", "its", "own", "implementation", ",", "but", "that", "would", "probably", "break", "things", "and", "have", "other", "unfortunate", "consequences", ",", "so", "<code>this.recursive(i-1)</code>", "in", "<code>A</code>", "invokes", "<code>B.recursive()</code>", "and", "so", "forth", ".", "#p", "There", "is", "a", "way", "to", "get", "the", "expected", "behavior", ",", "but", "it", "requires", "foresight", ".", "In", "other", "words", ",", "you", "must", "know", "in", "advance", "that", "you", "want", "a", "<code>super.recursive()</code>", "in", "a", "subtype", "of", "<code>A</code>", "to", "get", "trapped", ",", "so", "to", "speak", ",", "in", "the", "<code>A</code>", "implementation", ".", "It", "is", "done", "like", "so", ":", "#pre", "#p", "Since", "<code>A.recursive()</code>", "invokes", "<code>doRecursive()</code>", "and", "<code>doRecursive()</code>", "can", "never", "be", "overridden", ",", "<code>A</code>", "is", "assured", "that", "it", "is", "calling", "its", "own", "logic", "."], "answer_id": 34531799, "question_id": 34531180}, {"tokens": ["#p", "Java", "string", "pool", "coupled", "with", "reflection", "can", "produce", "some", "unimaginable", "result", "in", "Java", ":", "#pre", "#p", "Above", "code", "will", "print", ":", "#pre", "#p", "What", "happened", "to", "Mario", "?"], "answer_count": 7, "question_id": 32623834}, {"tokens": ["#blockquote", "#p", "You", "changed", "it", ",", "basically", ".", "Yes", ",", "with", "reflection", "you", "can", "violate", "the", "immutability", "of", "strings", "...", "and", "due", "to", "string", "interning", ",", "that", "means", "any", "use", "of", "``", "Mario", "''", "(", "other", "than", "in", "a", "larger", "string", "constant", "expression", ",", "which", "would", "have", "been", "resolved", "at", "compile-time", ")", "will", "end", "up", "as", "``", "Luigi", "''", "in", "the", "rest", "of", "the", "program", ".", "#p", "This", "kinds", "of", "thing", "is", "why", "reflection", "requires", "security", "permissions", "...", "#p", "Note", "that", "the", "expression", "<code>str + \" \" + \"Mario\"</code>", "does", "perform", "any", "compile-time", "concatenation", ",", "due", "to", "the", "left-associativity", "of", "<code>+</code>", ".", "It", "'s", "effectively", "<code>(str + \" \") + \"Mario\"</code>", ",", "which", "is", "why", "you", "still", "see", "<code>Luigi Luigi</code>", ".", "If", "you", "change", "the", "code", "to", ":", "#pre", "#p", "...", "then", "you", "'ll", "see", "<code>Luigi Mario</code>", "as", "the", "compiler", "will", "have", "interned", "<code>\" Mario\"</code>", "to", "a", "different", "string", "to", "<code>\"Mario\"</code>", "."], "answer_id": 32623895, "question_id": 32623834}, {"tokens": ["#p", "It", "was", "set", "to", "Luigi", ".", "Strings", "in", "Java", "are", "immutable", ";", "thus", ",", "the", "compiler", "can", "interpret", "all", "mentions", "of", "<code>\"Mario\"</code>", "as", "references", "to", "the", "same", "String", "constant", "pool", "item", "(", "roughly", ",", "``", "memory", "location", "''", ")", ".", "You", "used", "reflection", "to", "change", "that", "item", ";", "so", "all", "<code>\"Mario\"</code>", "in", "your", "code", "are", "now", "as", "if", "you", "wrote", "<code>\"Luigi\"</code>", "."], "answer_id": 32623908, "question_id": 32623834}, {"tokens": ["#p", "String", "literals", "are", "stored", "in", "the", "string", "pool", "and", "their", "canonical", "value", "is", "used", ".", "Both", "<code>\"Mario\"</code>", "literals", "are", "n't", "just", "strings", "with", "the", "same", "value", ",", "they", "are", ".", "Manipulating", "one", "of", "them", "(", "using", "reflection", ")", "will", "modify", "``", "both", "''", "of", "them", ",", "as", "they", "are", "just", "two", "references", "to", "the", "same", "object", "."], "answer_id": 32623911, "question_id": 32623834}, {"tokens": ["#p", "To", "explain", "the", "existing", "answers", "a", "bit", "more", ",", "let", "'s", "take", "a", "look", "at", "your", "generated", "byte", "code", "(", "Only", "the", "<code>main()</code>", "method", "here", ")", ".", "#p", "#p", "Now", ",", "any", "changes", "to", "the", "content", "'s", "of", "that", "location", "will", "affect", "both", "the", "(", "And", "any", "other", "you", "give", "too", ")", "."], "answer_id": 32623994, "question_id": 32623834}, {"tokens": ["#p", "You", "just", "changed", "the", "<code>String</code>", "of", "<code>Mario</code>", "to", "<code>Luigi</code>", "which", "was", "referenced", "by", "multiple", "<code>String</code>", "s", ",", "so", "every", "referencing", "<code>Mario</code>", "is", "now", "<code>Luigi</code>", ".", "#pre", "#p", "You", "have", "fetched", "the", "<code>char[]</code>", "named", "<code>value</code>", "field", "from", "class", "<code>String</code>", "#pre", "#p", "Make", "it", "accessible", ".", "#pre", "#p", "You", "changed", "<code>original</code>", "<code>String</code>", "field", "to", "<code>Luigi</code>", ".", "But", "original", "is", "<code>Mario</code>", "the", "<code>String</code>", "and", "literal", "belongs", "to", "the", "<code>String</code>", "pool", "and", "all", "are", ".", "Which", "means", "all", "the", "literals", "which", "has", "same", "content", "refers", "to", "the", "same", "memory", "address", ".", "#pre", "#p", "Basically", "you", "have", "changed", "the", "Mario", "of", "<code>String</code>", "pool", "which", "got", "in", "all", "the", "referencing", "fields", ".", "If", "you", "create", "<code>String</code>", "<code>Object</code>", "(", "i.e", ".", "<code>new String(\"Mario\")</code>", ")", "instead", "of", "literal", "you", "will", "not", "face", "this", "behavior", "because", "than", "you", "will", "have", "two", "different", "<code>Mario</code>", "s", "."], "answer_id": 32624143, "question_id": 32623834}, {"tokens": ["#p", "The", "other", "answers", "adequately", "explain", "what", "'s", "going", "on", ".", "I", "just", "wanted", "to", "add", "the", "point", "that", "this", "only", "works", "if", "there", "is", "no", "security", "manager", "installed", ".", "When", "running", "code", "from", "the", "command", "line", "by", "default", "there", "is", "not", ",", "and", "you", "can", "do", "things", "like", "this", ".", "However", "in", "an", "environment", "where", "trusted", "code", "is", "mixed", "with", "untrusted", "code", ",", "such", "as", "an", "application", "server", "in", "a", "production", "environment", "or", "an", "applet", "sandbox", "in", "a", "browser", ",", "there", "would", "typically", "be", "a", "security", "manager", "present", "and", "you", "would", "not", "be", "allowed", "these", "kinds", "of", "shenanigans", ",", "so", "this", "is", "less", "of", "a", "terrible", "security", "hole", "as", "it", "seems", "."], "answer_id": 32628210, "question_id": 32623834}, {"tokens": ["#p", "Another", "related", "point", ":", "you", "can", "make", "use", "of", "the", "constant", "pool", "to", "improve", "the", "performance", "of", "string", "comparisons", "in", "some", "circumstances", ",", "by", "using", "the", "<code>String.intern()</code>", "method", ".", "#p", "That", "method", "returns", "the", "instance", "of", "String", "with", "the", "same", "contents", "as", "the", "String", "on", "which", "it", "is", "invoked", "from", "the", "String", "constants", "pool", ",", "adding", "it", "it", "if", "is", "not", "yet", "present", ".", "In", "other", "words", ",", "after", "using", "<code>intern()</code>", ",", "all", "Strings", "with", "the", "same", "contents", "are", "guaranteed", "to", "be", "the", "same", "String", "instance", "as", "each", "other", "and", "as", "any", "String", "constants", "with", "those", "contents", ",", "meaning", "you", "can", "then", "use", "the", "equals", "operator", "(", "<code>==</code>", ")", "on", "them", ".", "#p", "This", "is", "just", "an", "example", "which", "is", "not", "very", "useful", "on", "its", "own", ",", "but", "it", "illustrates", "the", "point", ":", "#pre", "#p", "This", "little", "trick", "is", "n't", "worth", "designing", "your", "code", "around", ",", "but", "it", "is", "worth", "keeping", "in", "mind", "for", "the", "day", "when", "you", "notice", "a", "little", "more", "speed", "could", "be", "eked", "out", "of", "some", "bit", "of", "performance", "sensitive", "code", "by", "using", "the", "<code>==</code>", "operator", "on", "a", "string", "with", "judicious", "use", "of", "<code>intern()</code>", "."], "answer_id": 32652449, "question_id": 32623834}, {"tokens": ["#p", "I", "would", "like", "to", "know", "regarding", "following", "behavior", "of", "<code>instanceof</code>", "operator", "in", "Java", ".", "#pre", "#p", "Why", "is", "it", "so", "?", "There", "is", "no", "relation", "between", "<code>interface C</code>", "and", "<code>class B</code>", ",", "but", "it", "gives", "false", "whereas", "in", "case", "of", "<code>obj instanceof A</code>", "it", "gives", "compiler", "error", "?"], "answer_count": 1, "question_id": 31398444}, {"tokens": ["#p", "Because", "Java", "has", "no", "multiple", "class", "inheritance", "it", "'s", "absolutely", "known", "during", "the", "compilation", "that", "<code>obj</code>", "object", "of", "type", "<code>B</code>", "can", "not", "be", "subtype", "of", "<code>A</code>", ".", "On", "the", "other", "hand", "it", "possibly", "can", "be", "subtype", "of", "interface", "<code>C</code>", ",", "for", "example", "in", "this", "case", ":", "#pre", "#p", "So", "looking", "only", "at", "<code>obj instanceof C</code>", "expression", "compiler", "can", "not", "tell", "in", "advance", "whether", "it", "will", "be", "true", "or", "false", ",", "but", "looking", "at", "<code>obj instanceof A</code>", "it", "knows", "that", "this", "is", "always", "false", ",", "thus", "meaningless", "and", "helps", "you", "to", "prevent", "an", "error", ".", "If", "you", "still", "want", "to", "have", "this", "meaningless", "check", "in", "your", "program", ",", "you", "can", "add", "an", "explicit", "casting", "to", "the", "<code>Object</code>", ":", "#pre"], "answer_id": 31398577, "question_id": 31398444}, {"tokens": ["#p", "I", "was", "testing", "boundary", "conditions", "on", "some", "code", "involving", "a", "<code>BigDecimal</code>", ",", "and", "I", "noticed", "that", "when", "a", "<code>BigDecimal</code>", "is", "initialized", "with", "the", "String", "<code>\"1e2147483647\"</code>", "it", "behaves", "unexpectedly", ".", "It", "seems", "to", "have", "a", "value", "between", "<code>0</code>", "and", "<code>1e-2147483647</code>", ".", "When", "I", "try", "calling", "<code>intValue()</code>", ",", "I", "get", "a", "<code>NegativeArraySizeException</code>", ".", "I", "should", "note", "that", "<code>2147483647</code>", "is", "the", "max", "value", "of", "an", "integer", "on", "my", "system", ".", "Am", "I", "doing", "something", "wrong", ",", "or", "is", "this", "a", "problem", "with", "<code>BigDecimal</code>", "?", "#pre"], "answer_count": 1, "question_id": 31170459}, {"tokens": ["#p", "No", ",", "you", "appear", "to", "have", "a", "legit", "bug", ".", "The", "bug", "presents", "in", "JDK7", "but", "fixed", "in", "JDK8", ".", "Your", "values", "are", "correctly", "representable", "as", "<code>BigDecimal</code>", "s", ",", "and", "should", "behave", "correctly", ",", "but", "do", "n't", ".", "#p", "Tracing", "through", "the", "source", "code", "of", "<code>BigDecimal</code>", ",", "on", "line", "2585", ",", "<code>this.precision()</code>", "is", "1", ",", "and", "<code>this.scale</code>", "is", "<code>-2147483647</code>", ".", "<code>this.precision() - this.scale</code>", "therefore", "overflows", ",", "and", "the", "following", "overflow", "is", "not", "handled", "correctly", ".", "#p", "This", "bug", "has", "been", "fixed", "in", "JDK8", "by", "doing", "the", "subtraction", "in", "<code>long</code>", "arithmetic", "."], "answer_id": 31170506, "question_id": 31170459}, {"tokens": ["#p", "Consider", "the", "following", "code", ":", "#pre", "#p", "The", "<code>return null;</code>", "is", "necessary", "since", "an", "exception", "may", "be", "caught", ",", "however", "in", "such", "a", "case", "since", "we", "already", "checked", "if", "it", "was", "null", "(", "and", "lets", "assume", "we", "know", "the", "class", "we", "are", "calling", "supports", "cloning", ")", "so", "we", "know", "the", "try", "statement", "will", "never", "fail", ".", "#p", "Is", "it", "bad", "practice", "to", "put", "in", "the", "extra", "return", "statement", "at", "the", "end", "just", "to", "satisfy", "the", "syntax", "and", "avoid", "compile", "errors", "(", "with", "a", "comment", "explaining", "it", "will", "not", "be", "reached", ")", ",", "or", "is", "there", "a", "better", "way", "to", "code", "something", "like", "this", "so", "that", "the", "extra", "return", "statement", "is", "unnecessary", "?"], "answer_count": 13, "question_id": 33804394}, {"tokens": ["#p", "It", "definitely", "can", "be", "reached", ".", "Note", "that", "you", "'re", "only", "printing", "the", "stacktrace", "in", "the", "<code>catch</code>", "clause", ".", "#p", "In", "the", "scenario", "where", "<code>a != null</code>", "and", "there", "be", "an", "exception", ",", "the", "<code>return null</code>", "be", "reached", ".", "You", "can", "remove", "that", "statement", "and", "replace", "it", "with", "<code>throw new TotallyFooException();</code>", ".", "#p", "In", "general", ",", "if", "<code>null</code>", "is", "a", "result", "of", "a", "method", "(", "i.e", ".", "the", "user", "it", "and", "it", "means", "something", ")", "then", "returning", "it", "as", "a", "signal", "for", "``", "data", "not", "found", "''", "or", "exception", "happened", "is", "a", "good", "idea", ".", "Otherwise", ",", "I", "do", "n't", "see", "any", "problem", "why", "you", "should", "n't", "return", "<code>null</code>", ".", "#p", "Take", "for", "example", "the", "<code>Scanner#ioException</code>", "method", ":", "#blockquote", "#p", "In", "this", "case", ",", "the", "returned", "value", "<code>null</code>", "has", "a", "clear", "meaning", ",", "when", "I", "use", "the", "method", "I", "can", "be", "sure", "that", "I", "got", "<code>null</code>", "only", "because", "there", "was", "no", "such", "exception", "and", "not", "because", "the", "method", "tried", "to", "do", "something", "and", "it", "failed", ".", "#p", "Note", "that", "sometimes", "you", "do", "want", "to", "return", "<code>null</code>", "even", "when", "the", "meaning", "is", "ambiguous", ".", "For", "example", "the", "<code>HashMap#get</code>", ":", "#blockquote", "#p", "In", "this", "case", "<code>null</code>", "can", "indicate", "that", "the", "<code>null</code>", "was", "found", "and", "returned", ",", "or", "that", "the", "hashmap", "does", "n't", "contain", "the", "requested", "key", "."], "answer_id": 33804443, "question_id": 33804394}, {"tokens": ["#p", "A", "clearer", "way", "without", "an", "extra", "return", "statement", "is", "as", "follows", ".", "I", "would", "n't", "catch", "<code>CloneNotSupportedException</code>", "either", ",", "but", "let", "it", "go", "to", "the", "caller", ".", "#pre", "#p", "It", "'s", "almost", "always", "possible", "to", "fiddle", "with", "the", "order", "to", "end", "up", "with", "a", "more", "straight-forward", "syntax", "than", "what", "you", "initially", "have", "."], "answer_id": 33804455, "question_id": 33804394}, {"tokens": ["#p", "I", "would", "prefer", "to", "use", "<code>Objects.requireNonNull()</code>", "to", "check", "if", "the", "Parameter", "a", "is", "not", "null", ".", "So", "it", "'s", "clear", "when", "you", "read", "the", "code", "that", "the", "parameter", "should", "not", "be", "null", ".", "#p", "And", "to", "avoid", "checked", "Exceptions", "I", "would", "re", "throw", "the", "<code>CloneNotSupportedException</code>", "as", "a", "<code>RuntimeException</code>", ".", "#p", "For", "both", "you", "could", "add", "nice", "text", "with", "the", "intention", "why", "this", "should", "n't", "happen", "or", "be", "the", "case", ".", "#pre"], "answer_id": 33804631, "question_id": 33804394}, {"tokens": ["#p", "Your", "example", "is", "not", "ideal", "to", "illustrate", "your", "question", "as", "stated", "in", "the", "last", "paragraph", ":", "#blockquote", "#p", "A", "better", "example", "would", "be", "the", "implementation", "of", "clone", "itself", ":", "#pre", "#p", "Here", "the", "catch", "clause", "should", "be", "entered", ".", "Still", "the", "syntax", "either", "requires", "to", "throw", "something", "or", "return", "a", "value", ".", "Since", "returning", "something", "does", "not", "make", "sense", ",", "an", "<code>InternalError</code>", "is", "used", "to", "indicate", "a", "severe", "VM", "condition", "."], "answer_id": 33804635, "question_id": 33804394}, {"tokens": ["#blockquote", "#p", "I", "think", "<code>return null</code>", "is", "bad", "practice", "for", "the", "terminus", "of", "an", "unreachable", "branch", ".", "It", "is", "better", "to", "throw", "a", "<code>RuntimeException</code>", "(", "<code>AssertionError</code>", "would", "also", "be", "acceptable", ")", "as", "to", "get", "to", "that", "line", "something", "has", "gone", "very", "wrong", "and", "the", "application", "is", "in", "an", "unknown", "state", ".", "Most", "like", "this", "is", "(", "like", "above", ")", "because", "the", "developer", "has", "missed", "something", "(", "Objects", "can", "be", "none-null", "and", "un-cloneable", ")", ".", "#p", "I", "'d", "likely", "not", "use", "<code>InternalError</code>", "unless", "I", "'m", "very", "very", "sure", "that", "the", "code", "is", "unreachable", "(", "for", "example", "after", "a", "<code>System.exit()</code>", ")", "as", "it", "is", "more", "likely", "that", "I", "make", "a", "mistake", "than", "the", "VM", ".", "#p", "I", "'d", "only", "use", "a", "custom", "exception", "(", "such", "as", "<code>TotallyFooException</code>", ")", "if", "getting", "to", "that", "``", "unreachable", "line", "''", "means", "the", "same", "thing", "as", "anywhere", "else", "you", "throw", "that", "exception", "."], "answer_id": 33804785, "question_id": 33804394}, {"tokens": ["#blockquote", "#p", "As", "others", "have", "mentioned", ",", "in", "your", "case", "this", "does", "not", "actually", "apply", ".", "#p", "To", "answer", "the", "question", ",", "though", ",", "Lint", "type", "programs", "sure", "have", "n't", "figured", "it", "out", "!", "I", "have", "seen", "two", "different", "ones", "fight", "it", "out", "over", "this", "in", "a", "switch", "statement", ".", "#pre", "#p", "One", "complained", "that", "having", "the", "break", "was", "a", "coding", "standard", "violation", ".", "The", "other", "complained", "that", "it", "was", "one", "because", "it", "was", "unreachable", "code", ".", "#p", "I", "noticed", "this", "because", "two", "different", "programmers", "kept", "re-checking", "the", "code", "in", "with", "the", "break", "added", "then", "removed", "then", "added", "then", "removed", ",", "depending", "on", "which", "code", "analyzer", "they", "ran", "that", "day", ".", "#p", "If", "you", "end", "up", "in", "this", "situation", ",", "pick", "one", "and", "comment", "the", "anomaly", ",", "which", "is", "the", "good", "form", "you", "showed", "yourself", ".", "That", "'s", "the", "best", "and", "most", "important", "takeaway", "."], "answer_id": 33808517, "question_id": 33804394}, {"tokens": ["#p", "In", "this", "sort", "of", "situation", "I", "would", "write", "#pre", "#p", "Interestingly", "you", "say", "that", "the", "``", "try", "statement", "will", "never", "fail", "''", ",", "but", "you", "still", "took", "the", "trouble", "to", "write", "a", "statement", "<code>e.printStackTrace();</code>", "that", "you", "claim", "will", "never", "be", "executed", ".", "Why", "?", "#p", "Perhaps", "your", "belief", "is", "not", "that", "firmly", "held", ".", "That", "is", "good", "(", "in", "my", "opinion", ")", ",", "since", "your", "belief", "is", "not", "based", "on", "the", "code", "you", "wrote", ",", "but", "rather", "on", "the", "expectation", "that", "your", "client", "will", "not", "violate", "the", "precondition", ".", "Better", "to", "program", "public", "methods", "defensively", ".", "#p", "By", "the", "way", ",", "your", "code", "wo", "n't", "compile", "for", "me", ".", "You", "ca", "n't", "call", "<code>a.clone()</code>", "even", "if", "the", "type", "of", "<code>a</code>", "is", "<code>Cloneable</code>", ".", "At", "least", "Eclipse", "'s", "compiler", "says", "so", ".", "Expression", "<code>a.clone()</code>", "gives", "error", "#blockquote", "#p", "What", "I", "would", "do", "for", "your", "specific", "case", "is", "#pre", "#p", "Where", "<code>PubliclyCloneable</code>", "is", "defined", "by", "#pre", "#p", "Or", ",", "if", "you", "absolutely", "need", "the", "parameter", "type", "to", "be", "<code>Cloneable</code>", ",", "the", "following", "at", "least", "compiles", ".", "#pre"], "answer_id": 33814549, "question_id": 33804394}, {"tokens": ["#p", "It", "is", "n't", "'just", "to", "satisfy", "syntax", "'", ".", "It", "is", "a", "semantic", "requirement", "of", "the", "language", "that", "every", "code", "path", "leads", "to", "a", "return", "or", "a", "throw", ".", "This", "code", "does", "n't", "comply", ".", "If", "the", "exception", "is", "caught", "a", "following", "return", "is", "required", ".", "#p", "No", "'bad", "practice", "'", "about", "it", ",", "or", "about", "satisfying", "the", "compiler", "in", "general", ".", "#p", "In", "any", "case", ",", "whether", "syntax", "or", "semantic", ",", "you", "do", "n't", "have", "any", "choice", "about", "it", "."], "answer_id": 33815439, "question_id": 33804394}, {"tokens": ["#p", "You", "caught", "the", "<code>CloneNotSupportedException</code>", "which", "means", "your", "code", "can", "handle", "it", ".", "But", "after", "you", "catch", "it", ",", "you", "have", "literally", "no", "idea", "what", "to", "do", "when", "you", "reach", "the", "end", "of", "the", "function", ",", "which", "implies", "that", "you", "could", "n't", "handle", "it", ".", "So", "you", "'re", "right", "that", "it", "is", "a", "code", "smell", "in", "this", "case", ",", "and", "in", "my", "view", "means", "you", "should", "not", "have", "caught", "<code>CloneNotSupportedException</code>", "."], "answer_id": 33816922, "question_id": 33804394}, {"tokens": ["#p", "I", "would", "rewrite", "this", "to", "have", "the", "return", "at", "the", "end", ".", "Pseudocode", ":", "#pre"], "answer_id": 33820427, "question_id": 33804394}, {"tokens": ["#p", "No", "one", "mentioned", "this", "yet", "so", "here", "goes", ":", "#pre", "#p", "I", "dislike", "<code>return</code>", "inside", "<code>try</code>", "blocks", "for", "that", "very", "reason", "."], "answer_id": 33838690, "question_id": 33804394}, {"tokens": ["#p", "The", "examples", "above", "are", "valid", "and", "very", "Java", ".", "However", ",", "here", "'s", "how", "I", "would", "address", "the", "OP", "'s", "question", "on", "how", "to", "handle", "that", "return", ":", "#pre", "#p", "There", "'s", "no", "benefit", "for", "checking", "<code>a</code>", "to", "see", "if", "it", "is", "null", ".", "It", "'s", "going", "to", "NPE", ".", "Printing", "a", "stack", "trace", "is", "also", "not", "helpful", ".", "The", "stack", "trace", "is", "the", "same", "regardless", "of", "where", "it", "is", "handled", ".", "#p", "There", "is", "no", "benefit", "to", "junking", "up", "the", "code", "with", "unhelpful", "null", "tests", "and", "unhelpful", "exception", "handling", ".", "By", "removing", "the", "junk", ",", "the", "return", "issue", "is", "moot", ".", "#p", "(", "Note", "that", "the", "OP", "included", "a", "bug", "in", "the", "exception", "handling", ";", "this", "is", "why", "the", "return", "was", "needed", ".", "The", "OP", "would", "not", "have", "gotten", "wrong", "the", "method", "I", "propose", ".", ")"], "answer_id": 33844668, "question_id": 33804394}, {"tokens": ["#blockquote", "#p", "If", "you", "know", "details", "about", "the", "inputs", "involved", "in", "a", "way", "where", "you", "know", "the", "<code>try</code>", "statement", "can", "never", "fail", ",", "what", "is", "the", "point", "of", "having", "it", "?", "Avoid", "the", "<code>try</code>", "if", "you", "know", "for", "sure", "things", "are", "always", "going", "to", "succeed", "(", "though", "it", "is", "rare", "that", "you", "can", "be", "absolutely", "sure", "for", "the", "whole", "lifetime", "of", "your", "codebase", ")", ".", "#p", "In", "any", "case", ",", "the", "compiler", "unfortunately", "is", "n't", "a", "mind", "reader", ".", "It", "sees", "the", "function", "and", "its", "inputs", ",", "and", "given", "the", "information", "it", "has", ",", "it", "needs", "that", "<code>return</code>", "statement", "at", "the", "bottom", "as", "you", "have", "it", ".", "#blockquote", "#p", "Quite", "the", "opposite", ",", "I", "'d", "suggest", "it", "'s", "good", "practice", "to", "avoid", "any", "compiler", "warnings", ",", "e.g.", ",", "even", "if", "that", "costs", "another", "line", "of", "code", ".", "Do", "n't", "worry", "too", "much", "about", "line", "count", "here", ".", "Establish", "the", "reliability", "of", "the", "function", "through", "testing", "and", "then", "move", "on", ".", "Just", "pretending", "you", "could", "omit", "the", "<code>return</code>", "statement", ",", "imagine", "coming", "back", "to", "that", "code", "a", "year", "later", "and", "then", "try", "to", "decide", "if", "that", "<code>return</code>", "statement", "at", "the", "bottom", "is", "going", "to", "cause", "more", "confusion", "than", "some", "comment", "detailing", "the", "minutia", "of", "why", "it", "was", "omitted", "because", "of", "assumptions", "you", "can", "make", "about", "the", "input", "parameters", ".", "Most", "likely", "the", "<code>return</code>", "statement", "is", "going", "to", "be", "easier", "to", "deal", "with", ".", "#p", "That", "said", ",", "specifically", "about", "this", "part", ":", "#pre", "#p", "I", "think", "there", "'s", "something", "slightly", "odd", "with", "the", "exception-handling", "mindset", "here", ".", "You", "generally", "want", "to", "swallow", "exceptions", "at", "a", "site", "where", "you", "have", "something", "meaningful", "you", "can", "do", "in", "response", ".", "#p", "You", "can", "think", "of", "<code>try/catch</code>", "as", "a", "transaction", "mechanism", ".", "<code>try</code>", "making", "these", "changes", ",", "if", "they", "fail", "and", "we", "branch", "into", "the", "<code>catch</code>", "block", ",", "do", "this", "(", "whatever", "is", "in", "the", "<code>catch</code>", "block", ")", "in", "response", "as", "part", "of", "the", "rollback", "and", "recovery", "process", ".", "#p", "In", "this", "case", ",", "merely", "printing", "a", "stacktrace", "and", "then", "being", "forced", "to", "return", "null", "is", "n't", "exactly", "a", "transaction/recovery", "mindset", ".", "The", "code", "transfers", "the", "error-handling", "responsibility", "to", "all", "the", "code", "calling", "<code>getClone</code>", "to", "manually", "check", "for", "failures", ".", "You", "might", "prefer", "to", "catch", "the", "<code>CloneNotSupportedException</code>", "and", "translate", "it", "into", "another", ",", "more", "meaningful", "form", "of", "exception", "and", "throw", "that", ",", "but", "you", "do", "n't", "want", "to", "simply", "swallow", "the", "exception", "and", "return", "a", "null", "in", "this", "case", "since", "this", "is", "not", "like", "a", "transaction-recovery", "site", ".", "#p", "You", "'ll", "end", "up", "leaking", "the", "responsibilities", "to", "the", "callers", "to", "manually", "check", "and", "deal", "with", "failure", "that", "way", ",", "when", "throwing", "an", "exception", "would", "avoid", "this", ".", "#p", "It", "'s", "like", "if", "you", "load", "a", "file", ",", "that", "'s", "the", "high-level", "transaction", ".", "You", "might", "have", "a", "<code>try/catch</code>", "there", ".", "During", "the", "process", "of", "<code>trying</code>", "to", "load", "a", "file", ",", "you", "might", "clone", "objects", ".", "If", "there", "'s", "a", "failure", "anywhere", "in", "this", "high-level", "operation", "(", "loading", "the", "file", ")", ",", "you", "typically", "want", "to", "throw", "exceptions", "all", "the", "way", "back", "to", "this", "top-level", "transaction", "<code>try/catch</code>", "block", "so", "that", "you", "can", "gracefully", "recover", "from", "a", "failure", "in", "loading", "a", "file", "(", "whether", "it", "'s", "due", "to", "an", "error", "in", "cloning", "or", "anything", "else", ")", ".", "So", "we", "generally", "do", "n't", "want", "to", "just", "swallow", "up", "an", "exception", "in", "some", "granular", "place", "like", "this", "and", "then", "return", "a", "null", ",", "e.g.", ",", "since", "that", "would", "defeat", "a", "lot", "of", "the", "value", "and", "purpose", "of", "exceptions", ".", "Instead", "we", "want", "to", "propagate", "exceptions", "all", "the", "way", "back", "to", "a", "site", "where", "we", "can", "meaningfully", "deal", "with", "it", "."], "answer_id": 33862158, "question_id": 33804394}, {"tokens": ["#p", "Is", "there", "a", "good", "reason", "that", "the", "Collections.list", "(", ")", "method", "in", "the", "<code>java.utils</code>", "package", "returns", "an", "<code>ArrayList&lt;T&gt;</code>", "instead", "of", "<code>List&lt;T&gt;</code>", "?", "#p", "Obviously", "an", "<code>ArrayList</code>", "is", "a", "<code>List</code>", ",", "but", "I", "'m", "under", "the", "impression", "that", "it", "'s", "generally", "good", "practice", "to", "return", "the", "interface", "type", "instead", "of", "implementation", "type", "."], "answer_count": 4, "question_id": 32356762}, {"tokens": ["#p", "When", "returning", "<code>List</code>", ",", "you", "'ll", "be", "promoting", ",", "which", "is", "a", "very", "good", "practice", ".", "However", ",", "this", "approach", "has", "its", "limitation", ".", "For", "example", ",", "you", "can", "not", "use", "some", "methods", "that", "are", "defined", "for", "<code>ArrayList</code>", "and", "do", "n't", "exist", "in", "the", "<code>List</code>", "interface", "-", "See", "this", "answer", "for", "details", ".", "#p", "I", "'m", "quoting", "the", "API", "Design", "from", "the", "The", "Java\u2122", "Tutorials", ":", "#blockquote", "#p", "Since", "<code>ArrayList</code>", "is", "essentially", "an", "array", ",", "they", "are", "my", "first", "choice", "when", "I", "need", "to", "have", "a", "``", "collection-array", "''", ".", "So", "if", "I", "want", "to", "convert", "enumeration", "to", "a", "list", ",", "my", "choice", "would", "be", "an", "array", "list", ".", "#p", "In", "any", "other", "cases", ",", "it", "'s", "still", "valid", "to", "write", ":", "#pre"], "answer_id": 32357142, "question_id": 32356762}, {"tokens": ["#p", "#p", "I", "agree", "that", "it", "'s", "correct", "to", "write", "your", "to", "interfaces", ",", "but", "if", "you", "'re", "going", "return", "a", "collection", "to", "a", "third", "party", ",", "it", "'s", "important", "to", "let", "the", "third", "party", "know", "what", "sort", "of", "<code>List</code>", "they", "'re", "getting", "back", ".", "#p", "<code>LinkedList</code>", "and", "<code>ArrayList</code>", "are", "very", "different", ",", "performance", "wise", ",", "for", "various", "operations", ".", "For", "example", ",", "removing", "the", "first", "element", "of", "an", "<code>ArrayList</code>", "is", "<code>O(n)</code>", ",", "but", "removing", "the", "first", "element", "of", "a", "<code>LinkedList</code>", "is", "<code>O(1)</code>", ".", "#p", "By", "fully", "specifying", "the", "return", "type", ",", "the", "JDK", "authors", "are", ",", "in", "unambiguous", "code", ",", "about", "what", "sort", "of", "object", "they", "'re", "giving", "back", "to", "you", ",", "so", "you", "can", "write", "your", "code", "to", "use", "this", "method", "properly", ".", "If", "you", "really", "need", "a", "<code>LinkedList</code>", ",", "you", "know", "that", "you", "have", "to", "specify", "one", "here", ".", "#p", "Finally", ",", "the", "main", "reason", "to", "code", "to", "an", "interface", "over", "an", "implementation", "is", "if", "you", "think", "that", "the", "implementation", "will", "change", ".", "The", "JDK", "authors", "probably", "figure", "they", "are", "going", "to", "change", "this", "method", ";", "it", "'s", "never", "going", "to", "return", "a", "<code>LinkedList</code>", "or", "a", "<code>Collections.UnmodifiableList</code>", ".", "However", ",", "in", "most", "cases", ",", "you", "would", "probably", "still", "do", ":", "#pre"], "answer_id": 32357149, "question_id": 32356762}, {"tokens": ["#p", "Functions", "which", "return", "``", "exclusive", "ownership", "''", "of", "newly-created", "mutable", "objects", "should", "often", "be", "the", "most", "specific", "type", "practical", ";", "those", "which", "return", "immutable", "objects", ",", "especially", "if", "they", "might", "be", "shared", ",", "should", "often", "return", "less-specific", "types", ".", "#p", "The", "reason", "for", "the", "distinction", "is", "that", "in", "the", "former", "case", ",", "an", "object", "will", "always", "be", "able", "to", "produce", "a", "new", "object", "of", "the", "indicated", "type", ",", "and", "since", "the", "recipient", "will", "own", "the", "object", "and", "there", "'s", "no", "telling", "what", "actions", "the", "recipient", "might", "wish", "to", "perform", ",", "there", "would", "generally", "be", "no", "way", "for", "the", "code", "returning", "the", "object", "to", "know", "whether", "any", "alternative", "interface", "implementations", "could", "meet", "the", "recipient", "'s", "needs", ".", "#p", "In", "the", "latter", "case", ",", "the", "fact", "that", "the", "object", "is", "immutable", "means", "that", "the", "function", "may", "be", "able", "to", "identify", "an", "alternative", "type", "which", "can", "do", "everything", "a", "more", "complicated", "type", "could", "do", ".", "For", "example", ",", "an", "<code>Immutable2dMatrix</code>", "interface", "might", "be", "implemented", "by", "an", "<code>ImmutableArrayBacked2dMatrix</code>", "class", "and", "an", "<code>ImmutableDiagonal2dMatrix</code>", "class", ".", "A", "function", "which", "is", "supposed", "to", "return", "a", "square", "<code>Immutable2dMatrix</code>", "could", "decide", "to", "return", "a", "<code>ImmutableDiagonalMatrix</code>", "instance", "if", "all", "the", "elements", "off", "the", "main", "diagonal", "happen", "to", "be", "zero", ",", "or", "an", "<code>ImmutableArrayBackedMatrix</code>", "if", "not", ".", "The", "former", "type", "would", "take", "a", "lot", "less", "storage", "space", ",", "but", "the", "recipient", "should", "n't", "care", "about", "the", "difference", "between", "them", ".", "#p", "Returning", "<code>Immutable2dMatrix</code>", "rather", "than", "a", "concrete", "<code>ImmutableArrayBackedMatrix</code>", "allows", "code", "to", "choose", "the", "return", "type", "based", "upon", "what", "the", "array", "contains", ";", "it", "also", "means", "that", "if", "the", "code", "which", "is", "supposed", "to", "return", "the", "array", "happens", "to", "be", "holding", "a", "suitable", "implementation", "of", "<code>Immutable2dMatrix</code>", "it", "can", "simply", "return", "that", ",", "rather", "than", "having", "to", "construct", "a", "new", "instance", ".", "Both", "of", "these", "factors", "can", "be", "major", "``", "wins", "''", "when", "working", "with", "immutable", "objects", ".", "#p", "When", "working", "with", "mutable", "objects", ",", "however", ",", "neither", "factor", "comes", "into", "play", ".", "The", "fact", "that", "a", "mutable", "array", "might", "not", "have", "any", "elements", "off", "the", "main", "diagonal", "when", "it", "'s", "generated", "does", "n't", "mean", "it", "will", "never", "have", "any", "such", "elements", ".", "Consequently", ",", "while", "an", "<code>ImmutableDiagonalMatrix</code>", "is", "effectively", "a", "subtype", "of", "an", "<code>Immutable2dMatrix</code>", ",", "a", "<code>MutableDiagonalMatrix</code>", "is", "not", "a", "subtype", "of", "a", "<code>Mutable2dMatrix</code>", ",", "since", "the", "latter", "could", "accept", "stores", "off", "the", "main", "diagonal", "while", "the", "former", "can", "not", ".", "Further", ",", "while", "immutable", "objects", "often", "can", "and", "should", "be", "shared", ",", "mutable", "objects", "generally", "can", "not", ".", "A", "function", "which", "is", "asked", "for", "a", "new", "mutable", "collection", "initialized", "with", "certain", "content", "will", "need", "to", "a", "create", "a", "new", "collection", "whether", "or", "not", "its", "backing", "store", "matches", "the", "type", "being", "requested", "."], "answer_id": 32360905, "question_id": 32356762}, {"tokens": ["#p", "There", "is", "a", "overhead", "in", "calling", "methods", "var", "an", "interface", "rather", "than", "directly", "on", "an", "object", ".", "#p", "This", "overhead", "is", "often", "no", "more", "than", "1", "or", "2", "processor", "instructions", ".", "The", "overhead", "of", "calling", "a", "method", "is", "even", "lower", "if", "the", "JIT", "knows", "that", "the", "method", "is", "final", ".", "This", "is", "not", "measurable", "for", "most", "code", "you", "and", "me", "right", ",", "but", "for", "the", "low", "level", "methods", "in", "java.utils", "may", "be", "used", "in", "some", "code", "where", "it", "is", "an", "issue", ".", "#p", "Also", "as", "has", "been", "pointed", "out", "in", "other", "answers", ",", "the", "concrete", "type", "of", "the", "object", "that", "is", "return", "(", "even", "when", "hidden", "behind", "an", "interface", ")", "effects", "the", "performance", "of", "code", "that", "uses", "it", ".", "This", "change", "in", "performance", "can", "be", "very", "great", ",", "so", "such", "an", "extent", "that", "the", "calling", "software", "fails", "to", "work", ".", "#p", "Clearly", "the", "authors", "of", "<code>java.utils</code>", "have", "no", "way", "to", "know", "what", "all", "the", "software", "that", "calls", "Collections.list", "(", ")", "does", "with", "the", "result", "and", "no", "way", "to", "re-test", "this", "software", "if", "they", "change", "the", "implantation", "of", "Collections.list", "(", ")", ".", "#p", "When", "writing", "your", "own", "software", ",", "you", "(", "hopefully", ")", "have", "automated", "test", "that", "cover", "all", "your", "code", "and", "a", "good", "understand", "of", "how", "your", "code", "interrelates", "include", "know", "where", "performance", "is", "an", "issue", ".", "Being", "able", "to", "make", "a", "change", "to", "a", "method", ",", "without", "having", "to", "change", "the", "callers", "is", "of", "great", "value", "while", "the", "design", "of", "the", "software", "is", "changing", ".", "#p"], "answer_id": 32370677, "question_id": 32356762}, {"tokens": ["#p", "I", "'ve", "read", "on", "many", "Web", "sites", "Optional", "should", "be", "used", "as", "a", "return", "type", "only", ",", "and", "not", "used", "in", "method", "arguments", ".", "I", "'m", "struggling", "to", "find", "a", "logical", "reason", "why", ".", "For", "example", "I", "have", "a", "piece", "of", "logic", "which", "has", "2", "optional", "parameters", ".", "Therefore", "I", "think", "it", "would", "make", "sense", "to", "write", "my", "method", "signature", "like", "this", "(", "solution", "1", ")", ":", "#pre", "#p", "Many", "web", "pages", "specify", "Optional", "should", "not", "be", "used", "as", "method", "arguments", ".", "With", "this", "in", "mind", "I", "could", "use", "the", "following", "method", "signature", "and", "add", "a", "clear", "Javadoc", "comment", "specifying", "the", "arguments", "maybe", "null", "hoping", "future", "future", "maintainers", "will", "read", "the", "javadoc", "and", "therefore", "always", "carry", "out", "null", "checks", "prior", "to", "using", "the", "arguments", "(", "solution", "2", ")", ":", "#pre", "#p", "Alternatively", "I", "could", "replace", "my", "method", "with", "4", "public", "methods", "to", "provide", "a", "nicer", "interface", "and", "make", "it", "more", "obvious", "p1", "and", "p2", "are", "optional", "(", "solution", "3", ")", ":", "#pre", "#p", "Now", "I", "try", "writing", "the", "code", "of", "the", "class", "which", "invokes", "this", "piece", "of", "logic", "for", "each", "approach", ".", "I", "first", "retrieve", "the", "2", "input", "parameters", "from", "another", "object", "which", "returns", "optionals", "and", "then", "I", "invoke", "calculateSomething", ".", "Therefore", "if", "solution", "1", "is", "used", "the", "calling", "code", "would", "look", "like", "this", ":", "#pre", "#p", "if", "solution", "2", "is", "used", "the", "calling", "code", "would", "look", "like", "this", ":", "#pre", "#p", "if", "solution", "3", "is", "used", "I", "could", "use", "the", "code", "above", "or", "I", "could", "use", "the", "following", "(", "but", "its", "a", "significant", "amount", "more", "code", ")", ":", "#pre", "#p", "It", "looks", "like", "the", "most", "readable", "solution", "to", "me", "and", "makes", "it", "most", "obvious", "that", "the", "parameters", "could", "be", "empty/null", "to", "future", "maintainers", ".", "(", "I", "'m", "aware", "the", "designers", "of", "Optional", "intended", "it", "to", "only", "be", "used", "as", "a", "return", "type", ",", "but", "I", "ca", "n't", "find", "any", "logical", "reasons", "not", "to", "use", "it", "in", "this", "scenario", ")"], "answer_count": 9, "question_id": 31922866}, {"tokens": ["#p", "I", "think", "that", "is", "because", "you", "usually", "write", "your", "functions", "to", "manipulate", "data", ",", "and", "then", "lift", "it", "to", "<code>Optional</code>", "using", "<code>map</code>", "and", "similar", "functions", ".", "This", "adds", "the", "default", "<code>Optional</code>", "behavior", "to", "it", ".", "Of", "course", ",", "there", "might", "be", "cases", ",", "when", "it", "is", "necessary", "to", "write", "your", "own", "auxilary", "function", "that", "works", "on", "<code>Optional</code>", "."], "answer_id": 31922994, "question_id": 31922866}, {"tokens": ["#p", "I", "believe", "the", "reson", "of", "being", "is", "you", "have", "to", "first", "check", "whether", "or", "not", "Optional", "is", "null", "itself", "and", "then", "try", "to", "evaluate", "value", "it", "wraps", ".", "Too", "many", "unnecessary", "validations", "."], "answer_id": 31923015, "question_id": 31922866}, {"tokens": ["#p", "The", "pattern", "with", "<code>Optional</code>", "is", "for", "one", "to", "avoid", "<code>null</code>", ".", "It", "'s", "still", "perfectly", "possible", "to", "pass", "in", "<code>null</code>", "to", "a", "method", ".", "#p", "While", "these", "are", "n't", "really", "official", "yet", ",", "you", "can", "use", "JSR-308", "style", "annotations", "to", "indicate", "whether", "or", "not", "you", "accept", "<code>null</code>", "values", "into", "the", "function", ".", "Note", "that", "you", "'d", "have", "to", "have", "the", "right", "tooling", "to", "actually", "identify", "it", ",", "and", "it", "'d", "provide", "more", "of", "a", "static", "check", "than", "an", "enforceable", "runtime", "policy", ",", "but", "it", "would", "help", ".", "#pre"], "answer_id": 31923042, "question_id": 31922866}, {"tokens": ["#p", "Oh", ",", "those", "coding", "styles", "are", "to", "be", "taken", "with", "a", "bit", "of", "salt", ".", "#li", "(", "+", ")", "Passing", "an", "Option", "result", "to", "another", "method", ",", "without", "any", "semantic", "analysis", ";", "leaving", "that", "to", "the", "method", ",", "is", "quite", "alright", ".", "#li", "(", "-", ")", "Using", "Optional", "parameters", "causing", "conditional", "logic", "inside", "the", "methods", "is", "literally", "contra-productive", ".", "#li", "(", "-", ")", "Needing", "to", "pack", "an", "argument", "in", "an", "Optional", ",", "is", "suboptimal", "for", "the", "compiler", ",", "and", "does", "an", "unnecessary", "wrapping", ".", "#li", "(", "-", ")", "In", "comparison", "to", "nullable", "parameters", "Optional", "is", "more", "costly", ".", "#p", "In", "general", ":", "Optional", "unifies", "two", "states", ",", "which", "have", "to", "be", "unraveled", ".", "Hence", "better", "suited", "for", "result", "than", "input", ",", "for", "the", "complexity", "of", "the", "data", "flow", "."], "answer_id": 31923105, "question_id": 31922866}, {"tokens": ["#p", "This", "advice", "is", "a", "variant", "of", "the", "``", "be", "as", "unspecific", "as", "possible", "regarding", "inputs", "and", "as", "specific", "as", "possible", "regarding", "outputs", "''", "rule", "of", "thumb", ".", "#p", "Usually", "if", "you", "have", "a", "method", "that", "takes", "a", "plain", "non-null", "value", ",", "you", "can", "map", "it", "over", "the", "<code>Optional</code>", ",", "so", "the", "plain", "version", "is", "strictly", "more", "unspecific", "regarding", "inputs", ".", "there", "are", "a", "bunch", "of", "possible", "reasons", "why", "you", "would", "want", "to", "require", "an", "<code>Optional</code>", "argument", "nonetheless", ":", "#li", "you", "want", "your", "function", "to", "be", "used", "in", "conjunction", "with", "another", "API", "that", "returns", "an", "<code>Optional</code>", "#li", "Your", "function", "should", "return", "something", "other", "than", "an", "empty", "<code>Optional</code>", "if", "the", "given", "value", "is", "empty", "#li"], "answer_id": 31923211, "question_id": 31922866}, {"tokens": ["#p", "This", "seems", "a", "bit", "silly", "to", "me", ",", "but", "the", "only", "reason", "I", "can", "think", "of", "is", "that", "object", "arguments", "in", "method", "parameters", "already", "are", "optional", "in", "a", "way", "-", "they", "can", "be", "null", ".", "Therefore", "forcing", "someone", "to", "take", "an", "existing", "object", "and", "wrap", "it", "in", "an", "optional", "is", "sort", "of", "pointless", ".", "#p", "That", "being", "said", ",", "chaining", "methods", "together", "that", "take/return", "optionals", "is", "a", "reasonable", "thing", "to", "do", ",", "e.g", ".", "Maybe", "monad", "."], "answer_id": 31923214, "question_id": 31922866}, {"tokens": ["#p", "Optionals", "are", "n't", "designed", "for", "this", "purpose", ",", "as", "explained", "nicely", "by", "Brian", "Goetz", ".", "#p", "You", "can", "always", "use", "@", "Nullable", "to", "denote", "that", "a", "method", "argument", "can", "be", "null", ".", "Using", "an", "optional", "does", "not", "really", "enable", "you", "to", "write", "your", "method", "logic", "more", "neatly", "."], "answer_id": 31923227, "question_id": 31922866}, {"tokens": ["#p", "There", "are", "almost", "no", "good", "reasons", "for", "not", "using", "Optional", "as", "parameters", ".", "The", "arguments", "against", "this", "rely", "on", "arguments", "from", "authority", "(", "see", "Brian", "Goetz", "-", "his", "argument", "is", "we", "ca", "n't", "enforce", "non", "null", "optionals", ")", "or", "that", "the", "Optional", "arguments", "may", "be", "null", "(", "essentially", "the", "same", "argument", ")", ".", "Of", "course", ",", "any", "reference", "in", "Java", "can", "be", "null", ",", "we", "need", "to", "encourage", "rules", "being", "enforced", "by", "the", "compiler", ",", "not", "programmers", "memory", "(", "which", "is", "problematic", "and", "does", "not", "scale", ")", ".", "#p", "Functional", "programming", "languages", "encourage", "Optional", "parameters", ".", "One", "of", "the", "best", "ways", "of", "using", "this", "is", "to", "have", "multiple", "optional", "parameters", "and", "using", "liftM2", "to", "use", "a", "function", "assuming", "the", "parameters", "are", "not", "empty", "and", "returning", "an", "optional", "(", "see", "http", ":", "//www.functionaljava.org/javadoc/4.4/functionaljava/fj/data/Option.html", "#", "liftM2-fj.F-", ")", ".", "Java", "8", "has", "unfortunately", "implemented", "a", "very", "limited", "library", "supporting", "optional", ".", "#p", "As", "Java", "programmers", "we", "should", "only", "be", "using", "null", "to", "interact", "with", "legacy", "libraries", "."], "answer_id": 31924845, "question_id": 31922866}, {"tokens": ["#p", "The", "best", "post", "I", "'ve", "seen", "on", "the", "topic", "was", "written", "by", "Daniel", "Olszewski", "and", "can", "be", "found", "at", "http", ":", "//dolszewski.com/java/java-8-optional-use-cases/", ".", "While", "others", "mention", "when", "you", "should", "or", "should", "not", "use", "Optional", ",", "this", "post", "actually", "explains", ".", "Cross-posting", "here", "in", "case", "the", "link", "goes", "down", ":", "#blockquote"], "answer_id": 39005452, "question_id": 31922866}, {"tokens": ["#p", "I", "noticed", "something", "strange", "in", "the", "implementation", "of", "<code>HashMap.clear()</code>", ".", "This", "is", "how", "it", "looked", "in", "OpenJDK", "7u40", ":", "#pre", "#p", "And", "this", "is", "how", "it", "looks", "as", "of", "OpenJDK", "8u40", ":", "#pre", "#p", "I", "understand", "that", "now", "the", "<code>table</code>", "can", "be", "null", "for", "empty", "an", "map", ",", "thus", "the", "additional", "check", "and", "caching", "in", "a", "local", "variable", "is", "required", ".", "But", "why", "was", "<code>Arrays.fill()</code>", "replaced", "with", "a", "for-loop", "?", "#p", "It", "seems", "that", "the", "change", "was", "introduced", "in", "this", "commit", ".", "Unfortunately", "I", "found", "no", "explanation", "for", "why", "a", "plain", "for", "loop", "might", "be", "better", "than", "<code>Arrays.fill()</code>", ".", "Is", "it", "faster", "?", "Or", "safer", "?"], "answer_count": 5, "question_id": 32693704}, {"tokens": ["#p", "There", "is", "no", "actual", "difference", "in", "the", "functionality", "between", "the", "2", "version", "'s", "loop", ".", "<code>Arrays.fill</code>", "does", "the", "exact", "same", "thing", ".", "#p", "So", "the", "choice", "to", "use", "it", "or", "not", "may", "not", "necessarily", "be", "considered", "a", "mistake", ".", "It", "is", "left", "up", "to", "the", "developer", "to", "decide", "when", "it", "comes", "to", "this", "kind", "of", "micromanagement", ".", "#p", "There", "are", "2", "separate", "concerns", "for", "each", "approach", ":", "#li", "using", "the", "<code>Arrays.fill</code>", "makes", "the", "code", "less", "verbose", "and", "more", "readable", ".", "#li", "looping", "directly", "in", "the", "<code>HashMap</code>", "code", "(", "like", "version", "8", ")", "peformance", "wise", "is", "actually", "a", "better", "option", ".", "While", "the", "overhead", "that", "inserting", "the", "<code>Arrays</code>", "class", "is", "negligible", "it", "may", "become", "less", "so", "when", "it", "comes", "to", "something", "as", "widespread", "as", "<code>HashMap</code>", "where", "every", "bit", "of", "performance", "enhancement", "has", "a", "large", "effect", "(", "imagine", "the", "tiniest", "footprint", "reduce", "of", "a", "HashMap", "in", "fullblown", "webapp", ")", ".", "Take", "into", "consideration", "the", "fact", "that", "the", "Arrays", "class", "was", "used", "only", "for", "this", "one", "loop", ".", "The", "change", "is", "small", "enough", "that", "it", "does", "n't", "make", "the", "clear", "method", "less", "readable", ".", "#p", "The", "precise", "reason", "ca", "n't", "be", "found", "out", "without", "asking", "the", "developer", "who", "actually", "did", "this", ",", "however", "i", "suspect", "it", "'s", "either", "a", "mistake", "or", "a", "small", "enhancement", ".", "better", "option", ".", "#p", "My", "opinion", "is", "it", "can", "be", "considered", "an", "enhancement", ",", "even", "if", "only", "by", "accident", "."], "answer_id": 32744190, "question_id": 32693704}, {"tokens": ["#p", "For", "me", ",", "the", "reason", "is", "a", "likely", "performance", "inprovement", ",", "at", "a", "negligible", "cost", "in", "terms", "of", "code", "clarity", ".", "#p", "Note", "that", "the", "implementation", "of", "the", "<code>fill</code>", "method", "is", "trivial", ",", "a", "simple", "for-loop", "setting", "each", "array", "element", "to", "null", ".", "So", ",", "replacing", "a", "call", "to", "it", "with", "the", "actual", "implementation", "does", "not", "cause", "any", "significant", "degradation", "in", "the", "clarity/conciseness", "of", "the", "caller", "method", ".", "#p", "The", "potential", "performance", "benefits", "are", "not", "so", "insignificant", ",", "if", "you", "consider", "everything", "that", "is", "involved", ":", "#li", "#p", "There", "will", "be", "no", "need", "for", "the", "JVM", "to", "resolve", "the", "<code>Arrays</code>", "class", ",", "plus", "loading", "and", "initializing", "it", "if", "needed", ".", "This", "is", "a", "non-trivial", "process", "where", "the", "JVM", "performs", "several", "steps", ".", "Firstly", ",", "it", "checks", "the", "class", "loader", "to", "see", "if", "the", "class", "is", "already", "loaded", ",", "and", "this", "happens", "every", "time", "a", "method", "is", "called", ";", "there", "are", "optimizations", "involved", "here", ",", "of", "course", ",", "but", "it", "still", "takes", "some", "effort", ".", "If", "the", "class", "is", "not", "loaded", ",", "the", "JVM", "will", "need", "to", "go", "through", "the", "expensive", "process", "of", "loading", "it", ",", "verifying", "the", "bytecode", ",", "resolving", "other", "necessary", "dependencies", ",", "and", "finally", "performing", "static", "initialization", "of", "the", "class", "(", "which", "can", "be", "arbitrarily", "expensive", ")", ".", "Given", "that", "<code>HashMap</code>", "is", "such", "a", "core", "class", ",", "and", "that", "<code>Arrays</code>", "is", "such", "a", "huge", "class", "(", "3600+", "lines", ")", ",", "avoiding", "these", "costs", "may", "add", "up", "to", "noticeable", "savings", ".", "#li", "#p", "Since", "there", "is", "no", "<code>Arrays.fill(...)</code>", "method", "call", ",", "the", "JVM", "wo", "n't", "have", "to", "decide", "whether/when", "to", "inline", "the", "method", "into", "the", "caller", "'s", "body", ".", "Since", "<code>HashMap#clear()</code>", "tends", "to", "get", "called", "a", "lot", ",", "the", "JVM", "will", "eventually", "perform", "the", "inlining", ",", "which", "requires", "JIT", "recompilation", "of", "the", "<code>clear</code>", "method", ".", "With", "no", "method", "calls", ",", "<code>clear</code>", "will", "always", "run", "at", "top-speed", "(", "once", "initially", "JITed", ")", ".", "#p", "Another", "benefit", "of", "no", "longer", "calling", "methods", "in", "<code>Arrays</code>", "is", "that", "it", "simplifies", "the", "dependency", "graph", "inside", "the", "<code>java.util</code>", "package", ",", "since", "one", "dependency", "is", "removed", "."], "answer_id": 32745612, "question_id": 32693704}, {"tokens": ["#p", "I", "'m", "going", "to", "shoot", "in", "the", "dark", "here", "...", "#p", "My", "is", "that", "it", "might", "have", "been", "changed", "in", "order", "to", "prepare", "the", "ground", "for", "Specialization", "(", "aka", "generics", "over", "primitive", "types", ")", ".", "(", "and", "I", "insist", "on", ")", ",", "this", "change", "is", "meant", "to", "make", "transition", "to", "Java", "10", "easier", ",", "in", "the", "event", "of", "specialization", "being", "part", "of", "the", "JDK", ".", "#p", "If", "you", "look", "at", "the", "State", "of", "the", "Specialization", "document", ",", "section", ",", "it", "says", "the", "following", ":", "#blockquote", "#p", "(", "Emphasis", "is", "mine", ")", ".", "#p", "And", "ahead", "in", "the", "section", ",", "it", "says", ":", "#blockquote", "#p", "Later", "on", ",", "near", "the", "end", "of", "the", "document", ",", "in", "the", "section", ",", "it", "says", ":", "#blockquote"], "answer_id": 32749756, "question_id": 32693704}, {"tokens": ["#p", "I", "will", "try", "to", "summarize", "three", "moreless", "reasonable", "versions", "which", "were", "proposed", "in", "comments", ".", "#p", "@", "Holger", "says", ":", "#blockquote", "#p", "This", "is", "the", "most", "easy", "thing", "to", "test", ".", "Let", "'s", "compile", "such", "program", ":", "#pre", "#p", "Run", "it", "with", "<code>java -verbose:class HashMapTest</code>", ".", "This", "will", "print", "the", "class", "loading", "events", "as", "they", "occur", ".", "With", "JDK", "1.8.0_60", "I", "see", "more", "than", "400", "classes", "loaded", ":", "#pre", "#p", "As", "you", "can", "see", ",", "<code>HashMap</code>", "is", "loaded", "long", "before", "application", "code", "and", "<code>Arrays</code>", "is", "loaded", "only", "14", "classes", "after", "<code>HashMap</code>", ".", "The", "<code>HashMap</code>", "load", "is", "triggered", "by", "<code>sun.reflect.Reflection</code>", "initialization", "as", "it", "has", "<code>HashMap</code>", "static", "fields", ".", "The", "<code>Arrays</code>", "load", "is", "likely", "to", "be", "triggered", "by", "<code>WeakHashMap</code>", "load", "which", "actually", "has", "<code>Arrays.fill</code>", "in", "the", "<code>clear()</code>", "method", ".", "The", "<code>WeakHashMap</code>", "load", "is", "triggered", "by", "<code>java.lang.ClassValue$ClassValueMap</code>", "which", "extends", "<code>WeakHashMap</code>", ".", "The", "<code>ClassValueMap</code>", "is", "present", "in", "every", "<code>java.lang.Class</code>", "instance", ".", "So", "to", "me", "seems", "that", "without", "<code>Arrays</code>", "class", "the", "JDK", "can", "not", "be", "initialized", "at", "all", ".", "Also", "the", "<code>Arrays</code>", "static", "initializer", "is", "very", "short", ",", "it", "only", "initializes", "the", "assertion", "mechanism", ".", "This", "mechanism", "is", "used", "in", "many", "other", "classes", "(", "including", ",", "for", "example", ",", "<code>java.lang.Throwable</code>", "which", "is", "loaded", "very", "early", ")", ".", "No", "other", "static", "initialization", "steps", "are", "performed", "in", "<code>java.util.Arrays</code>", ".", "Thus", "@", "Holger", "version", "seems", "incorrect", "to", "me", ".", "#p", "Here", "we", "also", "found", "very", "interesting", "thing", ".", "The", "<code>WeakHashMap.clear()</code>", "still", "uses", "<code>Arrays.fill</code>", ".", "It", "'s", "interesting", "when", "it", "appeared", "there", ",", "but", "unfortunately", "this", "goes", "to", "prehistoric", "times", "(", "it", "was", "already", "there", "in", "the", "very", "first", "public", "OpenJDK", "repository", ")", ".", "#p", "Next", ",", "@", "MarcoTopolnik", "says", ":", "#blockquote", "#p", "It", "was", "actually", "surprising", "for", "me", "that", "<code>Arrays.fill</code>", "is", "not", "directly", "intrinsified", "(", "see", "intrinsic", "list", "generated", "by", "@", "apangin", ")", ".", "Seems", "that", "such", "loop", "can", "be", "recognized", "and", "vectorized", "by", "JVM", "without", "explicit", "intrinsic", "handling", ".", "So", "it", "'s", "true", "that", "extra", "call", "can", "be", "not", "inlined", "in", "very", "specific", "cases", "(", "for", "example", "if", "<code>MaxInlineLevel</code>", "limit", "is", "reached", ")", ".", "On", "the", "other", "hand", "it", "'s", "very", "rare", "situation", "and", "it", "'s", "only", "a", "single", "call", ",", "it", "'s", "not", "a", "call", "inside", "loop", ",", "and", "it", "'s", "a", "static", ",", "not", "virtual/interface", "call", ",", "thus", "the", "performance", "improvement", "could", "be", "only", "marginal", "and", "only", "in", "some", "specific", "scenarios", ".", "Not", "the", "thing", "the", "JVM", "developers", "usually", "care", ".", "#p", "Also", "it", "should", "be", "noted", "that", "even", "C1", "'client", "'", "compiler", "(", "tier", "1-3", ")", "is", "capable", "to", "inline", "<code>Arrays.fill</code>", "called", ",", "for", "example", ",", "in", "<code>WeakHashMap.clear()</code>", ",", "as", "inlining", "log", "(", "<code>-XX:+UnlockDiagnosticVMOptions -XX:+PrintCompilation -XX:+PrintInlining</code>", ")", "says", ":", "#pre", "#p", "Of", "course", ",", "it", "'s", "also", "easily", "inlined", "by", "smart", "and", "powerful", "C2", "'server", "'", "compiler", ".", "Thus", "I", "see", "no", "problems", "here", ".", "Seems", "that", "@", "Marco", "version", "is", "incorrect", "either", ".", "#p", "Finally", "we", "have", "a", "couple", "of", "comments", "from", "@", "StuartMarks", "(", "who", "is", "JDK", "developer", ",", "thus", "some", "official", "voice", ")", ":", "#blockquote", "#p", "Indeed", "the", "<code>HashMap.clear()</code>", "contained", "the", "loop", "many", "years", ",", "was", "replaced", "with", "<code>Arrays.fill</code>", "on", "Apr", "10th", ",", "2013", "and", "stayed", "less", "one", "half-a-year", "until", "Sept", "4th", "when", "the", "discussed", "commit", "was", "introduced", ".", "The", "discussed", "commit", "was", "actually", "a", "major", "rewrite", "of", "the", "<code>HashMap</code>", "internals", "to", "fix", "JDK-8023463", "issue", ".", "It", "was", "a", "long", "story", "about", "possibility", "to", "poison", "the", "<code>HashMap</code>", "with", "keys", "having", "duplicating", "hashcodes", "reducing", "<code>HashMap</code>", "search", "speed", "to", "linear", "making", "it", "vulnerable", "to", "DoS-attacks", ".", "The", "attempts", "to", "solve", "this", "were", "performed", "in", "JDK-7", "including", "some", "randomization", "of", "String", "hashCode", ".", "So", "seems", "that", "the", "<code>HashMap</code>", "implementation", "was", "forked", "from", "the", "earlier", "commit", ",", "developed", "independently", ",", "then", "merged", "into", "the", "master", "branch", "overwriting", "several", "changes", "introduced", "in-between", ".", "#p", "We", "may", "support", "this", "hypothesis", "performing", "a", "diff", ".", "Take", "the", "version", "where", "<code>Arrays.fill</code>", "was", "removed", "(", "2013-09-04", ")", "and", "compare", "it", "with", "previous", "version", "(", "2013-07-30", ")", ".", "The", "<code>diff -U0</code>", "output", "has", "4341", "lines", ".", "Now", "let", "'s", "diff", "against", "the", "version", "prior", "to", "one", "when", "<code>Arrays.fill</code>", "was", "added", "(", "2013-04-01", ")", ".", "Now", "<code>diff -U0</code>", "contains", "only", "2680", "lines", ".", "Thus", "the", "newer", "version", "actually", "more", "similar", "to", "the", "older", "than", "to", "immediate", "parent", ".", "#p", "#p", "So", "to", "conclude", "I", "would", "agree", "with", "Stuart", "Marks", ".", "There", "were", "no", "concrete", "reason", "to", "remove", "<code>Arrays.fill</code>", ",", "it", "'s", "just", "because", "the", "in-between", "change", "was", "overwritten", "by", "mistake", ".", "Using", "<code>Arrays.fill</code>", "is", "perfectly", "fine", "both", "in", "JDK", "code", "and", "in", "user", "applications", "and", "used", ",", "for", "example", ",", "in", "<code>WeakHashMap</code>", ".", "The", "<code>Arrays</code>", "class", "is", "loaded", "anyways", "pretty", "early", "during", "the", "JDK", "initialization", ",", "has", "very", "simple", "static", "initializer", "and", "<code>Arrays.fill</code>", "method", "can", "be", "easily", "inlined", "even", "by", "client", "compiler", ",", "so", "no", "performance", "drawback", "should", "be", "noted", "."], "answer_id": 32752970, "question_id": 32693704}, {"tokens": ["#p", "Because", "it", "'s", "faster", "!", "#p", "I", "ran", "some", "thorough", "benchmarking", "tests", "on", "cut", "down", "versions", "of", "the", "two", "methods", ":", "#pre", "#p", "operating", "on", "arrays", "of", "various", "sizes", "containing", "random", "values", ".", "Here", "are", "the", "(", "typical", ")", "results", ":", "#pre", "#p", "And", "here", "are", "the", "results", "when", "operating", "over", "an", "array", "filled", "with", "nulls", "(", "so", "garbage", "collection", "issues", "are", "eradicated", ")", ":", "#pre", "#p", "The", "numbers", "are", "in", "nanoseconds", ",", "<code>(sd)</code>", "is", "1", "standard", "deviation", "expressed", "as", "a", "percentage", "of", "the", "result", "(", "fyi", ",", "a", "``", "normally", "distributed", "''", "population", "has", "an", "SD", "of", "68", ")", ",", "<code>vs</code>", "is", "the", "JDK", "8", "timing", "relative", "to", "JDK", "7", ".", "#p", "It", "is", "interesting", "that", "not", "only", "is", "it", "significantly", "faster", ",", "but", "the", "deviation", "is", "also", "slightly", "narrower", ",", "which", "means", "that", "the", "JDK", "8", "implementation", "gives", "slightly", "more", "performance", ".", "#p", "The", "tests", "were", "run", "on", "jdk", "1.8.0_45", "over", "a", "large", "(", "millions", ")", "number", "of", "times", "on", "arrays", "populated", "with", "random", "<code>Integer</code>", "objects", ".", "To", "remove", "out-lying", "numbers", ",", "on", "each", "set", "of", "results", "the", "fastest", "and", "slowest", "3", "%", "of", "timings", "were", "discarded", ".", "Garbage", "collection", "was", "requested", "and", "the", "thread", "yielded", "and", "slept", "just", "prior", "to", "running", "each", "invocation", "of", "the", "method", ".", "JVM", "warm", "up", "was", "done", "on", "the", "first", "20", "%", "of", "work", "and", "those", "results", "were", "discarded", "."], "answer_id": 32852619, "question_id": 32693704}, {"tokens": ["#p", "Why", "was", "the", "<code>Thread</code>", "class", "implemented", "as", "a", "regular", "class", "and", "not", "an", "class", "with", "<code>run()</code>", "method", "being", "abstract", ".", "#p", "Will", "it", "possibly", "introduce", "any", "problems", "?", "Or", "does", "it", "have", "any", "use", "in", "being", "this", "way", "?", "#p", "Also", ",", "the", "<code>Thread.start()</code>", "method", "is", "supposed", "to", "be", "a", "very", "specific", "method", "(", "If", "I", "am", "not", "wrong", ")", ".", "And", "hence", "I", "guess", "the", "<code>final</code>", "keyword", "would", "be", "apt", "for", "this", "more", "than", "any", "other", "method", ".", "#p", "But", "I", "am", "able", "to", "override", "this", "method", "and", "use", "it", "as", "I", "like", ",", "#pre", "#p", "It", "obviously", "only", "printed", ",", "#blockquote", "#p", "Is", "there", "any", "use", "in", "overriding", "other", "than", "confusing", "the", "engineer", "replacing", "you", "?", "#p", "If", "not", ",", "why", "was", "the", "method", "not", "declared", "final", "in", "Thread", "class", "?"], "answer_count": 3, "question_id": 31202946}, {"tokens": ["#p", "You", "can", "of", "course", "choose", "to", "shoot", "yourself", "in", "the", "foot", ",", "but", "that", "does", "n't", "mean", "you", "must", ".", "#blockquote", "#p", "Because", "the", "recommended", "way", "to", "create", "a", "start", "a", "thread", "is", "not", "to", "subclass", "Thread", ".", "The", "recommended", "way", "is", "to", "define", "a", "<code>Runnable</code>", ",", "and", "pass", "it", "as", "argument", "to", "the", "Thread", "constructor", ":", "#pre", "#blockquote", "#p", "Yes", "and", "no", ".", "You", "ca", "n't", "replace", "the", "implementation", "of", "start", "(", ")", "by", "your", "own", "implementation", ",", "but", "you", "can", "do", "things", "in", "start", "(", ")", "if", "you", "want", ":", "#pre", "#p", "That", "said", ",", "if", "Java", "was", "redesigned", "from", "scratch", "today", ",", "there", "is", "a", "good", "chance", "the", "design", "would", "be", "different", ".", "Remember", "that", "this", "class", "dates", "from", "Java", "1.0", ",", "and", "is", "still", "backward-compatible", "."], "answer_id": 31203218, "question_id": 31202946}, {"tokens": ["#blockquote", "#p", "This", "question", "actually", "boils", "down", "to", "the", "fact", "that", "you", "should", "always", "prefer", "composition", "over", "inheritance", ".", "#p", "If", "the", "<code>Thread</code>", "class", "was", "declared", "as", "<code>abstract</code>", ",", "the", "language", "would", "have", "to", "provide", "another", "class", "that", "extended", "from", "it", "which", "programmers", "could", "use", "to", "create", "a", "<code>Thread</code>", ".", "Your", "question", "would", "then", "be", "about", "why", "this", "class", "that", "<code>extends</code>", "from", "<code>Thread</code>", "is", "not", "<code>abstract</code>", ".", "If", "the", "language", "did", "not", "provide", "another", "class", "that", "<code>extends</code>", "from", "<code>Thread</code>", ",", "programmers", "would", "have", "to", "create", "their", "own", "class", "that", "<code>extend</code>", "s", "from", "<code>Thread</code>", "and", "override", "the", "<code>run()</code>", "method", ".", "#blockquote", "#p", "The", "only", "possible", "explanation", "I", "can", "give", "is", "that", "the", "developers", "of", "the", "language", "saw", "some", "use-cases", "for", "overriding", "<code>start</code>", "when", "the", "class", "was", "introduced", "to", "the", "JDK", ".", "The", "first", "version", "of", "Java", "that", "I", "used", "was", "1.5", "and", "I", "personally", "have", "not", "come", "across", "a", "use-case", "where", "I", "found", "the", "need", "to", "override", "<code>start</code>", ".", "As", "JB", "Nizet", "stated", "in", "his", "answer", "#blockquote"], "answer_id": 31203252, "question_id": 31202946}, {"tokens": ["#blockquote", "#p", "Are", "you", "you", "would", "never", "want", "to", "override", "it", "?", "#pre"], "answer_id": 31203979, "question_id": 31202946}, {"tokens": ["#p", "I", "have", "created", "a", "simple", "and", "it", "works", "like", "a", "charm", ".", "My", "problem", "is", ",", "that", "if", "I", "try", "to", "use", "a", "fling", "scroll", "on", "the", ",", "it", "just", "stops", "when", "I", "release", "my", "finger", ".", "Normal", "scrolling", "works", "like", "it", "should", ".", "#p", "My", "activities", "code", "is", "generated", "empty", "activity", ".", "(", "I", "just", "clicked", "on", "create", "new", "empty", "activity", "in", "android", "studio", "and", "edited", "the", "XML", "yet", ")", ".", "#p", "I", "read", "here", ",", "that", "scroll", "gestures", "on", "the", "imageview", "itself", "are", "buggy", ",", "but", "not", ",", "that", "the", "scrolling", "itself", "is", "buggy", ":", "see", "here", ".", "#p", "I", "tried", "activating", "through", "java", "code", ".", "It", "seems", "like", "if", "I", "scroll", "far", "enough", "that", "the", "imageview", "is", "n't", "visible", "anymore", ",", "fling", "gestures", "then", "are", "recognized", ".", "#p", "Why", "does", "the", "fling", "gesture", "not", "work", "as", "long", "as", "the", "imageview", "is", "visible", "?", "My", "XML", "Code", "looks", "like", "this", ":", "#pre"], "answer_count": 1, "question_id": 31795483}, {"tokens": ["#p", "This", "answer", "solved", "this", "problem", "for", "me", ".", "Create", "a", "custom", "<code>AppBarLayout.Behavior</code>", "like", "this", ":", "#pre", "#p", "and", "add", "it", "to", "the", "<code>AppBarLayout</code>", "like", "this", ":", "#pre"], "answer_id": 33540492, "question_id": 31795483}, {"tokens": ["#p", "I", "am", "confused", "to", "understand", "after", "executing", "<code>m1 = null;</code>", "<code>m2 = null;</code>", ".", "How", "many", "objects", "will", "be", "eligible", "for", "garbage", "collection", "?", "#pre"], "answer_count": 4, "question_id": 33258627}, {"tokens": ["#p", "None", "as", "they", "are", "still", "all", "reachable", "through", "the", "circular", "reference", "you", "build", "there", "through", "<code>m3</code>"], "answer_id": 33258661, "question_id": 33258627}, {"tokens": ["#p", "Zero", ".", "#p", "Object", "reference", "diagram", "looks", "like", "this", ":", "#p", "#p", "You", "can", "see", "that", "the", "reference", "is", "circular", ".", "A", "reference", "from", "<code>main</code>", "to", "<code>m3</code>", "keeps", "the", "<code>m3</code>", "object", "alive", ".", "In", "turn", ",", "<code>m3</code>", "keeps", "alive", "<code>m1</code>", ",", "which", "keeps", "<code>m2</code>", "from", "GC", ".", "#p", "Note", "that", "if", "you", "set", "<code>m3</code>", "to", "<code>null</code>", ",", "all", "three", "objects", "would", "become", "eligible", "for", "GC", "at", "once", ",", "despite", "circular", "references", "existing", "for", "each", "one", "of", "them", ".", "GC", "is", "smart", "enough", "to", "figure", "out", "that", "all", "references", "are", "coming", "from", "GC-eligible", "objects", ",", "and", "collect", "all", "three", "."], "answer_id": 33258740, "question_id": 33258627}, {"tokens": ["#p", "Voila", "!", "will", "collect", "nothing", "here", "!", "Let", "'s", "see", "what", "actually", "is", "going", "on", "here", ".", "When", "you", "created", "three", "objects", "of", "<code>m1</code>", ",", "<code>m2</code>", "and", "<code>m3</code>", "of", "<code>MyTest</code>", ",", "the", "object", "was", "created", "like", "below", "(", "say", "the", "object", "reference", "id", "starts", "from", "410", ")", ":", "#pre", "#p", "When", "you", "initialize", "#pre", "#p", "The", "objects", "are", "now", "looks", "like", ":", "#pre", "#p", "But", "after", "you", "reinitialized", "<code>m1</code>", "and", "<code>m2</code>", "to", "<code>null</code>", ",", "the", "objects", "look", "like", ":", "#pre", "#p", "Look", ",", "<code>m1</code>", "and", "<code>m2</code>", "are", "<code>null</code>", "now", ",", "but", "their", "references", "are", "still", "alive", "in", "<code>m3</code>", "!"], "answer_id": 33259114, "question_id": 33258627}, {"tokens": ["#p", "Potentially", "all", "3", "of", "them", ".", "No", "variables", "are", "referenced", "after", "the", "<code>//</code>", "marker", ",", "so", "the", "optimizer", "is", "within", "its", "rights", "to", "drop", "them", "off", "the", "frame", "at", "this", "point", "."], "answer_id": 33263384, "question_id": 33258627}, {"tokens": ["#p", "On", "Android", "Marshmallow", ",", "Google", "has", "completely", "removed", "the", "support", "of", "Apache", "HTTP", "client", "(", "link", ")", "because", "it", "does", "n't", "have", "good", "performance", "compared", "to", "the", "alternatives", ".", "#p", "This", "might", "also", "be", "the", "cause", "for", "so", "many", "apps", "crashing", "on", "Android", "Marshmallow", ".", "#p", "Google", "allows", "you", "to", "still", "use", "this", "API", ",", "just", "not", "as", "a", "built", "in", "one", ",", "by", "adding", "this", "line", "to", "the", "gradle", "file", ":", "#pre", "#p", "So", ",", "this", "is", "what", "I", "did", ":", "#pre", "#p", "And", ":", "#pre", "#p", "When", "I", "tried", "it", ",", "it", "compiled", "fine", "(", "no", "errors", "being", "shown", ",", "and", "I", "could", "run", "the", "proof-of-concept", "app", ",", "as", "it", "does", "n't", "have", "any", "special", "code", ")", ",", "but", "when", "I", "tried", "using", "some", "of", "the", "classes", "that", "I", "know", "that", "are", "part", "of", "the", "old", "API", "(", "like", "``", "HttpClient", "''", "class", ")", ",", "I", "see", "that", "it", "does", "n't", "allow", "me", "to", "do", "so", ".", "#p", "I", "know", "it", "'s", "not", "recommended", "to", "use", "this", "solution", ",", "but", "we", "must", "have", "the", "app", "ready", "to", "work", "there", "at", "least", "temporarily", ",", "till", "we", "work", "100", "%", "on", "all", "of", "the", "things", "that", "should", "change", "for", "Android", "Marshmallow", ",", "and", "we", "do", "n't", "want", "surprises", "in", "the", "form", "of", "crashes", ".", "#p", "Here", "'s", "a", "screenshot", ":", "#p", "#p", "Why", "does", "it", "occur", "?", "Did", "I", "use", "it", "correctly", "?"], "answer_count": 13, "question_id": 31653002}, {"tokens": ["#p", "Perfect", "solution", "here", "by", "running", "a", "simple", "file", "path", "check", ".", "by", "running", "#pre", "#p", "You", "will", "get", "something", "like", "below", "#blockquote", "#p", "So", "there", "you", "go", ",", "the", "jar", "is", "there.For", "some", "reason", "it", "did", "n't", "get", "added", "to", "the", "project", ".", "but", "you", "can", "always", "add", "it", "manually", "I", "guess", "."], "answer_id": 31824719, "question_id": 31653002}, {"tokens": ["#p", "Android", "Studio", "was", "complaining", "that", "<code>org.apache.http</code>", "classes", "like", "#pre", "#p", "were", "missing", ".", "#p", "So", "I", "added", "<code>org.apache.http.legacy.jar</code>", "which", "is", "in", "<code>Android/Sdk/platforms/android-23/optional</code>", "folder", "to", "to", "<code>app/libs</code>", "#p", "I", "also", "added", "this", "line", "to", "my", "<code>app.gradle</code>", "file", "#pre", "#p", "But", "if", "you", "'re", "using", "more", "libraries", ",", "you", "can", "use", "this", "way", "#pre", "#p", "This", "resolved", "all", "my", "errors", "that", "were", "caused", "because", "google", "removed", "support", "of", "Apache", "HTTP", "client", "."], "answer_id": 32066606, "question_id": 31653002}, {"tokens": ["#p", "useLibrary", "'org.apache.http.legacy", "'", "did", "not", "work", "for", "me", "until", "I", "upgraded", "the", "Gradle", "tools", "version", "in", "my", "main", "build.gradle", "file", "of", "my", "Android", "Studio", "project", ",", "as", "follows", ":", "#pre"], "answer_id": 32190106, "question_id": 31653002}, {"tokens": ["#p", "Legacy", "Apache", "library", "located", "in", "#pre", "#p", "So", "you", "can", "copy", "it", "inside", "you", "project", "or", "just", "use", "#pre", "#p", "in", "your"], "answer_id": 32626803, "question_id": 31653002}, {"tokens": ["#p", "The", "answer", "above", "just", "helps", "the", "debug", "builds", "to", "run", ",", "and", "release", "builds", "that", "are", "utilizing", "gradle", ".", "#p", "Insert", "this", "inside", "the", "application", "tag", "on", "the", "manifest", "file", ",", "on", "all", "project", "instances", "that", "uses", "the", "legacy", "apache", "classes", ":", "#pre", "#p", "This", "helps", "for", "those", "who", "are", "still", "using", "Eclipse", "and", "ant", "scripts", "during", "compile", "."], "answer_id": 33512294, "question_id": 31653002}, {"tokens": ["#p", "I", "know", "this", "is", "silly", "reason", "but", "at", "list", "try", "it", "...", "#p", "I", "experienced", "this", "problem", "recently", ",", "and", "it", "is", "caused", "by", "the", "path", "length", "restriction", "I", "think", "it\u00b4s", "256", "characters", "maximum", ".", "#p", "Relocate", "your", "Project", "and", "the", "build", "will", "succeed.Hope", "this", "work", "for", "you", "."], "answer_id": 33970012, "question_id": 31653002}, {"tokens": ["#p", "simple", "way", "to", "solve", "this", "issue", "is", "C", ":", "\\Users\\usrename\\AppData\\Local\\Android\\sdk\\platforms", "here", "delete", "your", "android-23", "and", "from", "sdk", "manager", "update", "you", "api", "23", "again", "it", "will", "solve", "your", "issue"], "answer_id": 34286571, "question_id": 31653002}, {"tokens": ["#p", "First", "you", "have", "to", "check", "that", "in", "your", "libs", "folder", "#p", "#pre", "#p", "#p"], "answer_id": 34741246, "question_id": 31653002}, {"tokens": ["#p", "Enable", "this", "in", "sdk/platforms/android-23/optional/optional.json", "#pre"], "answer_id": 35645731, "question_id": 31653002}, {"tokens": ["#p", "Remove", "#pre", "#p", "from", "the", "build.gradle", "and", "I", "also", "added", "this", "line", "to", "my", "app.gradle", "file", "#pre", "#p", "But", "if", "you", "'re", "using", "more", "libraries", ",", "you", "can", "use", "this", "way", "#pre", "#p", "CoPLaS", "answer", "fixed", "my", "problems", "."], "answer_id": 36001537, "question_id": 31653002}, {"tokens": ["#blockquote", "#p", "To", "continue", "using", "Apache", "HTTP", "classes", "for", "API", "23+", ":", "#p", "First", "of", "all", ",", "be", "sure", "to", "add", "the", "gradle", "dependencie", "into", "the", "<code>build.gradle</code>", "f", "#pre", "#p", "Then", "add", "the", "reference", "inside", "<code>build.gradle</code>", "of", "your", "project", ":", "#pre"], "answer_id": 37039624, "question_id": 31653002}, {"tokens": ["#p", "After", "many", "frustrating", "hours", ",", "the", "following", "worked", ":", "#p", "It", "should", "reside", "somewhere", "like", ":", "#pre", "#p", "<code>org.apache.http.legacy.jar</code>", "#p", "Either", "right", "click", "on", "libs", "-", ">", "paste", ",", "or", "use", "your", "file", "explorer", "to", "navigate", "to", "the", "libs", "folder", "of", "your", "project", "and", "paste", ".", "#p", "If", "you", "do", "n't", "have", "a", "libs", "folder", ",", "as", "I", "did", ",", "make", "a", "new", "project", "and", "import", "all", "relevant", "files", "into", "their", "respective", "places", ".", "#p", "see", "this", "#p", "see", "this", "#p", "Hope", "this", "helps", "someone", "get", "on", "with", "their", "life", "."], "answer_id": 37218516, "question_id": 31653002}, {"tokens": ["#p", "Try", "to", "avoid", "using", "apache", "legacy", "-", "there", "is", "no", "real", "reason", "for", "it", ".", "Legacy", "library", "is", "old", ",", "has", "bugs", "and", "lucks", "many", "optimizations", ".", "You", "should", "use", "newest", "versions", "of", "apache", "'s", "libraries", "like", "I", "described", "in", "this", "answer", ":", "http", ":", "//stackoverflow.com/a/37623038/1727132"], "answer_id": 37646428, "question_id": 31653002}, {"tokens": ["#p", "im", "using", "Android", "Studio", "why", "every", "time", "I", "create", "a", "new", "project", "always", "comes", "up", "<code>Error:(23, 17) Failed to resolve: junit:junit:4.12?</code>", "#p", "when", "I", "remove", "<code>testCompile 'junit:junit:4.12'</code>", "applications", "in", "dependencies", "no", "problem", "anymore", "...", "#p", "#pre"], "answer_count": 28, "question_id": 32519219}, {"tokens": ["#p", "I", "had", "the", "same", "problem", ".", "Solved", "by", "adding", "url", "for", "missing", "repository", ":", "#pre", "#p", "That", "'s", "it", "."], "answer_id": 32566057, "question_id": 32519219}, {"tokens": ["#p", "Just", "remove", "the", "``", "testCompile", "'junit", ":", "junit:4.12", "'", "''", "from", "build.gradle", "file", ":", "#pre", "#p", "worked", "for", "me", "and", "I", "am", "Happy", "!", ":", ")", "#p"], "answer_id": 32925834, "question_id": 32519219}, {"tokens": ["#pre", "#p", "After", "that", "sync", "the", "project", "again", "."], "answer_id": 33142343, "question_id": 32519219}, {"tokens": ["#p", "add", "repository", "in", "youe", "build.gradle", "file", "#pre"], "answer_id": 33413064, "question_id": 32519219}, {"tokens": ["#p", "I", "received", "this", "error", "after", "creating", "a", "new", "project", ".", "In", "the", "build.gradle", "file", ",", "I", "had", "this", ":", "#pre", "#p", "I", "change", "it", "to", "the", "following", "and", "the", "error", "went", "away", ":", "#pre", "#p", "I", "think", "this", "is", "because", "I", "am", "behind", "a", "firewall", "and", "specifying", "the", "url", "like", "so", "changes", "it", "from", "https", "to", "http"], "answer_id": 33575640, "question_id": 32519219}, {"tokens": ["#p", "Probably", "you", "are", "behind", "proxy", ".", "Happened", "to", "me", ",", "used", "my", "mobile", "tethering", "(", "no", "proxy", ")", "rebuild", "project", "and", "error", "disappeared", ".", "Returned", "to", "original", "connection", "(", "with", "proxy", ")", "and", "rebuild", "with", "no", "errors", "."], "answer_id": 33626993, "question_id": 32519219}, {"tokens": ["#p", "It", "'s", "not", "able", "to", "get", "junit", "library", ".", "#pre", "#p", "After", "adding", "above", "line", "inside", "android", "block", "in", "build.gradle", "file", ",", "it", "resolved", "problem", ".", "This", "can", "be", "because", "your", "Android", "studio", "does", "n't", "have", "junit", "library", "."], "answer_id": 33690981, "question_id": 32519219}, {"tokens": ["#p", "Simply", "try", "to", "compile", "and", "run", "you", "project", "while", "having", "active", "internet", "connection", ".", "#p", "it", "worked", "for", "me", "in", "Android", "studio", "1.5", "Ubuntu", "15.04"], "answer_id": 34111612, "question_id": 32519219}, {"tokens": ["#pre", "#p"], "answer_id": 34261690, "question_id": 32519219}, {"tokens": ["#p", "CHANGE", "your", "build.gradle", "like", "with", "this", ",", "work", "fine", "for", "me", ":", "#pre", "#p", "added", "#pre", "#p", "to", "<code>android</code>"], "answer_id": 34460337, "question_id": 32519219}, {"tokens": ["#p", "It", "might", "be", "it", "is", "not", "able", "to", "get", "it", "at", "the", "specified", "online", "location", "for", "the", "jar.check", "this", "part", "of", "build.gradle", "(", "gradle", "file", "for", "project", ")", ".", "you", "might", "not", "be", "having", "access", "to", "the", "location", "(", "firewall", "or", "other", "issues", ")", "#pre", "#p", "Do", "this", ":", "download", "the", "jar", "add", "this", "line", "inside", "the", "#pre", "#p", "hope", "that", "works", ";", ")"], "answer_id": 34527001, "question_id": 32519219}, {"tokens": ["#p", "Probably", "your", "gradle", "is", "incomplete", ",", "I", "recommend", "you", "add", "the", "following", "#pre", "#p", "but", "in", "some", "cases", "wo", "n't", "work", ",", "you", "can", "completely", "delete", "it", "from", "you", "dependencies", "in", "your", "gradle", ".", "#p"], "answer_id": 35372793, "question_id": 32519219}, {"tokens": ["#p", "Go", "to", "File", "-", ">", "Project", "Structure", ".", "Following", "window", "will", "open", ":", "#p", "#p", "From", "there", ":", "#li", "remove", "the", "junit", "library", "(", "select", "junit", "and", "press", "``", "-", "''", "button", "below", ")", "and", "#li", "add", "it", "again", "(", "select", "``", "+", "''", "button", "below", ",", "select", "``", "library", "dep", ".", "``", ",", "search", "for", "``", "junit", "''", ",", "press", "OK", ")", ".", "Press", "OK", "to", "apply", "changes", ".", "After", "around", "30", "seconds", "your", "gradle", "sync", "should", "work", "fine", ".", "#p", "Hope", "it", "works", "for", "you", "too", ":", "D"], "answer_id": 35503936, "question_id": 32519219}, {"tokens": ["#p", "Try", "this", ":", "#pre"], "answer_id": 36558003, "question_id": 32519219}, {"tokens": ["#li", "1\u00ba", "Be", "sure", "you", "are", "not", "behind", "a", "proxy", "!", "#li", "2\u00ba", "If", "you", "configured", "your", "Android", "Strudio", "to", "work", "whit", "proxy", "be", "sure", "to", "disable", "that", "option", "under", "the", "Android", "Studio", "preferences", "#li", "3\u00ba", "Go", "to", "gradle.properties", "under", "Android", "view", "in", "Android", "Studio", "and", "delete", "all", "proxy", "configuration", "#li", "4\u00ba", "Sync", "your", "gradle", "now", "#li", "5\u00ba", "Enjoy", "coding", "!"], "answer_id": 36666119, "question_id": 32519219}, {"tokens": ["#p", "Go", "to", "File", "-", ">", "Project", "Structure", "-", ">", "dependency", "There", "you", "will", "find", "-", ">", "junit", ":", "unit:4.12", "#p", "On", "the", "right", "hand", "side", "..select", "compile", "from", "the", "drop", "down", ".", "Simple..", "its", "done", ".", "#p", "Reference", "Image", ":", "#p", "Reds'", "VV"], "answer_id": 36844331, "question_id": 32519219}, {"tokens": ["#p", "If", "you", "are", "behind", "a", "proxy", ".", "Android", "Studio", "will", "add", "proxy", "for", "http", "to", "Gradle", ",", "but", "will", "not", "for", "https", ".", "Add", "proxy", "settings", "for", "https", "to", "gradle.properties"], "answer_id": 37022559, "question_id": 32519219}, {"tokens": ["#p", "If", "you", "'re", "behind", "a", "proxy", "server", ",", "just", "add", "your", "proxy", "settings", "in", "#pre", "#p", "It", "worked", "for", "me", "."], "answer_id": 37372295, "question_id": 32519219}, {"tokens": ["#p", "Here", "is", "what", "I", "did", "to", "solve", "the", "same", "problem", ".", "I", "am", "behind", "a", "firewall", ",", "which", "is", "same", "issue", "as", "yours", "I", "suppose", ".", "So", "I", "had", "tried", "removing", "the", "#pre", "#p", "but", "that", "didnt", "work", "for", "me", ".", "I", "tried", "adding", "below", "lines", "of", "code", ":", "#pre", "#p", "Even", "that", "did", "not", "work", "for", "me", ".", "#p", "I", "tried", "removing", "(", "-", ")", "and", "readding", "(", "+", ")", "Junit4.12", "from", "the", "library", "dependencies", "under", "Module", "Settings", ".", "Still", "that", "did", "not", "work", "for", "me", ".", "#p", "Tried", "syncing", "and", "rebuilding", "project", "several", "times", ".", "Still", "did", "not", "work", "for", "me", ".", "#p", "Finally", "what", "I", "did", "was", "to", "manually", "download", "the", "Junit4.12.jar", "file", "from", "mvnrepository", "website", ".", "I", "put", "this", "jar", "file", "in", "the", "Androids", "Workspace", "under", "the", "Project", "folder", "inside", "libs", "folder", ".", "Then", "go", "to", "Module", "Settings", ">", "Dependencies", "Tab", ">", "(", "+", ")", ">", "File", "Dependency", ">", "under", "Sleect", "path", "window", ",", "expand", "the", "'libs", "'", "folder", "and", "you", "will", "find", "the", "Jar", "file", "you", "copied", "inside", "there", ".", "Select", "the", "File", "and", "click", "'OK'", "Now", "remove", "the", "previous", "version", "of", "junit4.12", "from", "the", "list", "of", "dependencies", ".", "#p", "You", "should", "have", "one", "entry", "<code>\"libs\\junit-4.12.jar\"</code>", "in", "the", "Dependencies", "list", ".", "Now", "click", "'OK", "'", ".", "#p", "Now", "Gradle", "will", "rebuild", "the", "project", "and", "you", "should", "be", "good", "to", "go", ".", "#p", "Hope", "this", "helps", "!"], "answer_id": 37483061, "question_id": 32519219}, {"tokens": ["#p", "It", "happens", "HTTPS", "is", "blocked", "by", "Proxy", ".", "Try", "to", "change", "from", "default", "jcenter", "(", "which", "uses", "HTTPS", ")", "into", "HTTP", ".", "#p", "Before", "#pre", "#p", "After", "#pre", "#p", "Repeat", "the", "above", "step", "for", "allprojects", ".", "#pre"], "answer_id": 37661064, "question_id": 32519219}, {"tokens": ["#p", "My", "installation", "of", "Android", "Studio", "is", "completely", "offline", ".", "To", "resolve", "these", "kind", "of", "problems", "I", "have", "used", "the", "Process", "Monitor", ".", "It", "showed", "that", "a", "few", "files", "are", "missing", "within", "``", "Android", "Studio\\gradle\\m2repository", "''", ".", "I", "have", "downloaded", "all", "files", "from", "#li", "http", ":", "//repo1.maven.org/maven2/junit/junit/4.12/", "#li", "http", ":", "//repo1.maven.org/maven2/org/hamcrest/hamcrest-core/", "#li", "repo1.maven.org/maven2/org/hamcrest/hamcrest-parent/1.3/", "(", "I", "can", "only", "post", "two", "links", "...", ";", "-", ")", ")", "#p", "and", "copied", "these", "files", "in", "``", "Android", "Studio\\gradle\\m2repository", "''", ".", "You", "have", "to", "create", "the", "structure", "below", "``", "m2repository", "''", "as", "it", "is", "below", "``", "maven2", "''", ".", "Maybe", "there", "are", "more", "missing", "files", ",", "but", "at", "this", "time", "at", "least", "Gradle", "build", "is", "finished", "without", "errors", "."], "answer_id": 38110600, "question_id": 32519219}, {"tokens": ["#p", "#p", "build.gradle", "(", "project", ":", "...", ")", "#p", "#pre"], "answer_id": 38151747, "question_id": 32519219}, {"tokens": ["#p", "I", "'ll", "tryed", "everithing", ",", "but", "the", "only", "thing", "that", "helps", "me", "resolve", "the", "problem", "was", "delete", "the", "line", "#pre", "#p", "from", "the", "app", "gradel", "."], "answer_id": 38216464, "question_id": 32519219}, {"tokens": ["#p", "?", "If", "so", ",", "the", "problem", "can", "be", "in", "missing", "network", "configuration", "for", "in", "your", "<code>gradle.properties</code>", "file", ".", "#p", "AndroidStudio", "puts", "automatically", "your", "default", "proxy", "settings", "to", "<code>gradle.properties</code>", "file", "in", "your", "project", ",", "but", "only", "for", "http", "and", "forgets", "https", ".", "#p", "So", "basically", "your", "<code>gradle.properties</code>", "file", "needs", "to", "contain", "both", "http", "and", "https", "config", ":", "#pre"], "answer_id": 38968688, "question_id": 32519219}, {"tokens": ["#p", "Mostly", "this", "issue", "will", "come", "when", "ever", "you", "update", "your", "SDK", ",", "at", "the", "time", "of", "project", "creation", "Gradle", "build", "fails", ".", "If", "you", "add", "the", "and", "repositories", "to", "your", "your", "problem", "will", "solved", ".", "#pre", "#p", "These", "are", "the", "two", "line", "you", "have", "to", "add", "after", "#pre", "#p", "#pre"], "answer_id": 39025978, "question_id": 32519219}, {"tokens": ["#p", "I", "had", "the", "same", "problem", ",", "but", "with", "another", "problem", ".", "#p", "My", "other", "problem", "was", "that", "the", "Gradle", "build", "was", "too", "slow", "!", "#p", "I", "resolved", "my", "problem", "by", "doing", "thisL", "#p", "If", "you", "do", "like", "mdew", "you", "need", "to", "this", "any", "time", "you", "'re", "creating", "your", "project", "to", "do", "this", "#p", "So", "if", "you", "want", "to", "set", "default", "option", "to", "maven", "#p", "Do", "this", ":", "#p", "Go", "to", "the", "folder", ":", "#pre", "#p", "Then", "open", "the", "<code>build.gradle.ftl</code>", "file", "with", "notepad++", "or", "notepad", "and", "replace", "all", "<code>jcenter()</code>", "with", "<code>mavenCentral()</code>", ".", "#p", "EDIT", ":", "Why", "its", "going", "down", "voted", "?", "you", "do", "n't", "like", "it", "?"], "answer_id": 39060091, "question_id": 32519219}, {"tokens": ["#p", "I", "was", "having", "same", "problem", ".", "#li", "#p", "1", "option", ":", "Download", "junit", "4.12.jar", "and", "copy", "it", "in", "your", "lib", "folder", "and", "restart", "android", "studio", ".", "Benefit", "u", "do", "n't", "have", "to", "create", "any", "new", "project", "#li", "#p", "2", "option", ":", "Create", "a", "new", "project", "having", "a", "internet", "connections", "and", "copy", "all", "the", "java", "and", "XML", "code", "in", "the", "newly", "created", "project", ".", "Benefit", "this", "problem", "will", "be", "solved", "permantly"], "answer_id": 39225612, "question_id": 32519219}, {"tokens": ["#p", "Look", "through", "for", "many", "answers", "but", "nothing", "works", ".", "Fortunately", "had", "found", "the", "easy", "solution", ".", "No", "need", "to", "comment", "junit4.12", "or", "delete", "it", ".", "The", "problem", "is", "here", ":", "#pre", "#p", "This", "part", "shows", "us", "the", "path", "to", "look", "for", "the", "file", "in", "the", "library", "in", "your", "'s", "project", ".", "No", "idea", "why", "but", "for", "some", "reason", "by", "the", "default", "it", "is", "empty", ".", "path", "is", ":", "Sure", "you", "can", "delete", "this", "line", "in", "code", "but", "you", "may", "need", "it", "later", ".", "Here", "is", "the", "solution", ":", "#p", "1", "-", "download", "junit-4.12.jar", "or", "copy", "it", "from", "you", "Android", "Studio", "folder", ",", "normally", "it", "should", "be", "there", ".", "In", "my", "case", ",", "it", "was", "here", ":", "to", "the", "directory", "mentioned", "above", "(", "to", "your", "project", ")", "#p", "2", "-", "delete", "&", "add", "here", "you", "should", "re-enter", "the", "root", "to", "your", "junit-4.12.jar", "#p", "3", "-", "rebuild", "#p", "4", "-", "work", "hard"], "answer_id": 39465448, "question_id": 32519219}, {"tokens": ["#p", "Why", "should", "I", "write", "(", "as", "my", "collegue", "says", ")", ":", "#pre", "#p", "instead", "of", ":", "#pre", "#p", "?", "#p", "I", "know", "that", "the", "use", "of", "constants", "is", "recommended", "but", "I", "think", "the", "value", "of", "<code>NumberUtils.INTEGER_ONE</code>", "will", "never", "change", "!", "So", "I", "write", "<code>1</code>", "."], "answer_count": 7, "question_id": 31471444}, {"tokens": ["#p", "You", "may", "know", "whether", "it", "will", "never", "change", ",", "but", "I", "wo", "n't", "if", "I", "start", "editing", "your", "code", "...", "#p", "Basically", "it", "'s", "a", "way", "of", "documenting", "your", "code", ".", "The", "reason", "to", "use", "constants", "and", "examples", "like", "this", "is", "to", "avoid", "Magic", "Numbers", "in", "code", "and", "their", "disadvantages", ".", "#p", "This", "being", "said", ",", "you", "can", "use", "it", "to", "a", "point", "where", "it", "is", "not", "advantageous", "anymore", "and", "clutter", "inducing", ".", "I", "tend", "to", "do", "it", "for", "things", "that", "are", "used", "more", "than", "once", "or", "have", "the", "concept", "of", "being", "changed", "by", "me", "or", "someone", "else", "...", "or", "in", "simpler", "terms", "values", "."], "answer_id": 31471517, "question_id": 31471444}, {"tokens": ["#p", "<code>org.apache.commons.lang.math.NumberUtils.INTEGER_ONE</code>", "it", "gives", "you", "a", "<code>final static Integer</code>", "object", "rather", "than", "primitive", "<code>int</code>", "1", ",", "and", "as", "it", "is", "<code>final static</code>", "it", "acts", "as", "a", "constant", "and", "can", "be", "used", "in", "comparison", "of", "<code>Integer</code>", "objects", "because", "will", "always", "return", "same", "instance", ".", "#p", "So", "in", "the", "above", "scenario", "it", "might", "not", "look", "but", "somewhere", "if", "you", "are", "using", "it", "while", "comparison", ",", "it", "for", "sure", "has", "impact", ".", "#p", "Moreover", ",", "as", "much", "as", "we", "can", ",", "should", "prefer", "the", "use", "of", "constants", "over", "hardcoded", "beacuse", ":", "#li", "It", "can", "make", "your", "code", "easily", "maintainable", ".", "If", "any", "situation", "occurs", "in", "future", "for", "change", ",", "you", "can", "change", "only", "at", "a", "single", "place", ".", "#li", "The", "code", "looks", "cleaner", "&", "more", "readable", "."], "answer_id": 31471520, "question_id": 31471444}, {"tokens": ["#p", "You", "should", "not", ".", "The", "<code>INTEGER_ONE</code>", "name", "is", "no", "more", "meaningful", "than", "1", ".", "If", "however", "this", "value", "has", "some", "other", "meaning", "(", "for", "example", ",", "month", "in", "the", "year", ")", ",", "then", "using", "a", "constant", "(", "like", "<code>Calendar.FEBRUARY</code>", ")", "will", "make", "your", "code", "clearer", ".", "#p", "I", "can", "guess", "that", "this", "constant", "in", "Commons", "Math", "library", "was", "created", "in", "Java", "1.4", "when", "there", "were", "no", "Integer", "cache", "and", "autoboxing", ",", "so", "it", "had", "sense", "in", "terms", "that", "you", "may", "reuse", "the", "same", "<code>Integer</code>", "object", "(", "not", "primitive", "<code>int</code>", ")", "in", "different", "places", "to", "save", "memory", ".", "So", "it", "was", "added", "for", "performance", "reasons", ",", "not", "for", "code", "clarity", ".", "Now", "it", "'s", "obsolete", ":", "even", "if", "you", "need", "an", "<code>Integer</code>", "object", ",", "you", "can", "use", "<code>Integer.valueOf(1)</code>", "or", "implicit", "autoboxing", "and", "get", "the", "cached", "one", "."], "answer_id": 31471530, "question_id": 31471444}, {"tokens": ["#p", "Imagine", "that", "you", "have", "this", "#pre", "#p", "But", "a", "few", "thousand", "times", "...", "#p", "And", "suddenly", "in", "needs", "to", "be", "a", "2", ".", "#p", "What", "it", "easier", "for", "you", "to", "change", "?", "#p", "EDIT", ":", "Before", "downvoting", ",", "im", "answering", "from", "the", "perspective", "of", "the", "advantages", "of", "not", "using", "magic", "numbers", ",", "im", "not", "in", "any", "way", "(", "i", "thought", "this", "was", "inferable", ",", "come", "on", "people", ")", "advising", "to", "change", "the", "library", "constant", "."], "answer_id": 31471538, "question_id": 31471444}, {"tokens": ["#p", "You", "should", "write", "<code>INTEGER_ONE</code>", "!", "Neither", "should", "you", "write", "<code>1</code>", "(", "see", "exception", "below", ")", "!", "#p", "Why", "?", "A", "literal", "like", "<code>1</code>", "is", "called", "a", "magic", "number", ".", "Magic", "numbers", "are", "``", "unique", "values", "with", "unexplained", "meaning", "or", "multiple", "occurrences", "which", "could", "(", "preferably", ")", "be", "replaced", "with", "named", "constants", "''", "(", "explanation", "from", "the", "same", "Wikipedia", "page", ")", ".", "#p", "So", "what", "usually", "should", "be", "done", "is", "making", "those", "magic", "numbers", "to", "constants", "whose", "name", "represents", "or", "explains", "the", "meaning", "of", "that", "number", ".", "The", "constant", "<code>INTEGER_ONE</code>", "does", "not", "explain", "the", "meaning", ".", "#p", "So", "what", "you", "actually", "have", "to", "do", "is", "to", "find", "the", "meaning", "of", "the", "value", "in", "this", "context", "and", "create", "a", "constant", "with", "exactly", "that", "name", ".", "If", "the", "<code>1</code>", "represents", "the", "maximum", "number", "of", "allowed", "threads", "for", "example", ",", "you", "should", "have", "a", "constant", "like", ":", "#pre"], "answer_id": 31471583, "question_id": 31471444}, {"tokens": ["#p", "From", "Class", "NumberUtils", "you", "'ll", "see", "it", "'s", "defined", "as", ":", "#pre", "#p", "So", ",", "you", "'ll", "see", "that", "INTEGER_ONE", "is", "not", "the", "same", "as", "1", ".", "It", "'s", "an", "object", "that", "'s", "already", "been", "constructed", "for", "you", ".", "So", ",", "if", "we", "'re", "needing", "an", "instance", "of", "<code>Integer(1)</code>", ",", "rather", "than", "create", "your", "own", ",", "you", "can", "reuse", "the", "one", "from", "the", "library", "saving", "time", "and", "memory", ".", "#p", "It", "really", "depends", "on", "your", "application", ",", "if", "you", "indeed", "what", "the", "<code>int</code>", "version", "of", "1", ",", "then", ",", "you", "'d", "probably", "be", "better", "of", "using", "that", "instead", "of", "this", "<code>Integer</code>", "class", "."], "answer_id": 31476657, "question_id": 31471444}, {"tokens": ["#p", "I", "happen", "to", "have", "just", "written", "style", "guidelines", "for", "my", "company", "and", "I", "'d", "suggest", "the", "following", ":", "#blockquote", "#p", "#p", "#pre", "#p", "#pre"], "answer_id": 31478867, "question_id": 31471444}, {"tokens": ["#p", "Code", "#pre", "#p", "Output", "#pre", "#p", "Is", "it", "expected", "behaviour", "?", "If", "so", ",", "then", "why", "?", "I", "am", "expecting", ":", "char", ",", "Int", "#p", "Note", ":", "I", "am", "using", "Java", "8"], "answer_count": 3, "question_id": 32471499}, {"tokens": ["#p", "Methods", "with", "varargs", "(", "<code>...</code>", ")", "have", "the", "lowest", "priority", "when", "the", "compiler", "determines", "which", "overloaded", "method", "to", "choose", ".", "Therefore", "<code>TestOverload(int i)</code>", "is", "chosen", "over", "<code>TestOverload(char... c)</code>", "when", "you", "call", "<code>TestOverload</code>", "with", "a", "single", "<code>char</code>", "parameter", "<code>'a'</code>", ",", "since", "a", "<code>char</code>", "can", "be", "automatically", "promoted", "to", "an", "<code>int</code>", ".", "#p", "JLS", "15.12.2", ":", "#blockquote", "#p", "EDIT", ":", "#p", "It", "you", "wish", "to", "force", "the", "compiler", "to", "call", "the", "<code>TestOverload(char... c)</code>", "constructor", ",", "you", "can", "pass", "to", "the", "constructor", "call", "a", "<code>char[]</code>", ":", "#pre"], "answer_id": 32471523, "question_id": 32471499}, {"tokens": ["#p", "Yes", ",", "it", "is", "expected", "behaviour", ".", "The", "precedence", "for", "method", "calling", "goes", "like", "this", ":", "#li", "Widending", "#li", "Boxing", "#li", "Varargs", "#p", "Below", "is", "excerpt", "from", "Java", "docs", "related", "to", "same", ":", "-", "#blockquote"], "answer_id": 32471625, "question_id": 32471499}, {"tokens": ["#p", "Solid", "advice", "from", "Joshua", "Bloch", "(", "Effective", "Java", ",", "2nd", "Ed", ")", ":", "#blockquote", "#p", "An", "object", "with", "a", "radically", "different", "type", "is", "one", "that", "can", "not", "reasonably", "be", "cast", "into", "another", "of", "the", "argument", "types", ".", "Following", "this", "rule", "can", "potentially", "save", "you", "hours", "of", "debugging", "a", "mysterious", "error", "that", "can", "happen", "when", "the", "compiler", "chooses", "at", "compile", "time", "the", "method", "overloading", "that", "you", "did", "not", "expect", ".", "#p", "Your", "lines", "of", "code", "violate", "this", "rule", "and", "open", "the", "door", "for", "bugs", ":", "#pre", "#p", "A", "<code>char</code>", "is", "interconvertible", "with", "an", "<code>int</code>", "and", "so", "the", "only", "way", "you", "can", "predict", "what", "will", "happen", "with", "the", "invocations", "is", "to", "go", "to", "the", "Java", "Language", "Specification", "and", "read", "the", "somewhat", "arcane", "rules", "about", "how", "overloadings", "are", "resolved", ".", "#p", "Luckily", ",", "this", "situation", "should", "n't", "need", "JLS", "research", ".", "If", "you", "have", "arguments", "that", "are", "not", "radically", "different", "from", "each", "other", ",", "probably", "the", "best", "option", "is", "to", ".", "Give", "the", "methods", "different", "names", "so", "that", "there", "is", "no", "possibility", "for", "error", "or", "confusion", "on", "the", "part", "of", "anyone", "who", "may", "need", "to", "maintain", "the", "code", ".", "#p", "Time", "is", "money", "."], "answer_id": 32474788, "question_id": 32471499}, {"tokens": ["#p", "The", "following", "code", ",", "#pre", "#p", "compiles", "in", "Java", "7", ",", "but", "it", "results", "in", "the", "following", "error", "in", "Java", "8", ":", "#blockquote", "#p", "Looking", "at", "the", "following", "question", ":", "#p", "Comparing", "Object", "and", "int", "in", "Java", "7", "#p", "It", "seems", "like", "Java", "6", "and", "Java", "8", "do", "n't", "let", "you", "compare", "<code>int</code>", "and", "<code>Object</code>", ",", "while", "7", "does", ".", "Is", "there", "any", "documentation", "on", "this", "?", "#p", "I", "'m", "interested", "in", "the", "background", "knowledge", "that", "informed", "these", "decisions", ".", "It", "seems", "like", "they", "were", "undecided", "or", "something", ".", "#p", "I", "'m", "using", "IntelliJ", "IDEA", "14.1.4", "with", "JDK", "1.7.0.51", "."], "answer_count": 4, "question_id": 32632364}, {"tokens": ["#p", "Java", "7", "applies", "autoboxing", "to", "the", "int", ".", "#pre", "#p", "I", "created", "this", "with", "<code>build 1.7.0_71-b14</code>", "#p", "EDIT", ":", "#p", "This", "behaviour", "was", "recognized", "and", "treated", "as", "bug", "by", "Oracle", ":", "#blockquote"], "answer_id": 32632692, "question_id": 32632364}, {"tokens": ["#p", "I", "could", "not", "get", "an", "example", "to", "compile", "(", "fixing", "bool", "\u2192", "boolean", ")", "with", "javac", "1.7.0_75", ",", "nor", "with", "javac", "1.8.0_60", ".", "I", "do", "n't", "have", "a", "JDK6", ",", "but", "I", "do", "n't", "think", "it", "should", "have", "worked", "there", "either", ".", "Perhaps", "it", "is", "an", "earlier", "ecj", "incompatibility", ",", "as", "Axel", "hints", ",", "or", "a", "bug", "in", "a", "different", "minor", "version", "of", "javac", ".", "#p", "In", "any", "event", ",", "if", "it", "works", ",", "it", "is", "due", "to", "autoboxing", ".", "This", "may", "have", "been", "pared", "back", "in", "preparation", "for", "Java", "8", ",", "because", "streams", "and", "autoboxing", "do", "n't", "mix", "too", "well", "."], "answer_id": 32632695, "question_id": 32632364}, {"tokens": ["#p", "The", "JLS", "-", "Chapter", "15", ".", "Equality", "Operators", "mentions", "3", "different", "<code>==</code>", "operators", ":", ",", "and", ".", "of", "the", "<code>==</code>", "operators", "can", "happen", "in", "your", "example", ",", "so", "we", "conclude", "that", "the", "statement", ".", "#p", "Let", "'s", "see", "why", "<code>==</code>", "can", "not", "be", "applied", "in", "your", "example", ":", "#li", "#p", "15.21.2", ".", "Boolean", "Equality", "Operators", "==", "and", "!", "=", "#p", "No", "need", "to", "mention", "why", "it", "'s", "not", "relevant..", "#li", "#p", "15.21.3", ".", "Reference", "Equality", "Operators", "==", "and", "!", "=", "#blockquote", "#li", "#p", "15.21.1", ".", "Numerical", "Equality", "Operators", "==", "and", "!", "=", "#blockquote", "#p", "Now", "let", "'s", "assume", "it", "'s", "legal", "and", "the", "compiler", "changed", "the", "line", "to", ":", "#pre", "#p", "What", "do", "you", "expect", "the", "result", "to", "be", "?", "The", "condition", "will", "never", "evaluate", "to", "<code>true</code>", ",", "so", "it", "makes", "sense", "that", "that", "was", "fixed", "in", "Java", "8", "."], "answer_id": 32632773, "question_id": 32632364}, {"tokens": ["#p", "It", "should", "n't", "have", "compiled", ",", "according", "to", "JLS", "7", ".", "<code>int</code>", "can", "be", "compared", "to", "boxed", "numeric", "types", ",", "i.e", ".", "Byte", ",", "Short", ",", "Character", ",", "Integer", ",", "Long", ",", "Float", ",", "Double", ".", "But", "that", "is", "all", ".", "#p", "And", "if", "comparison", "is", "between", "<code>int</code>", "and", "say", "<code>Float</code>", ",", "<code>Float</code>", "will", "be", "unboxed", "first", ",", "so", "that", "the", "comparison", "is", "between", "<code>float</code>", "and", "<code>int</code>", ".", "It", "'ll", "make", "no", "sense", "to", "do", "the", "other", "way", "around", "-", "box", "<code>int</code>", "then", "examine", "the", "identity", "of", "the", "<code>Integer</code>", "(", "with", "a", "<code>Float</code>", "no", "less", ")", "."], "answer_id": 32633199, "question_id": 32632364}, {"tokens": ["#p", "I", "'m", "a", "little", "confused", "about", "Java", "'s", "methods", ":", "#pre", "#p", "When", "I", "tried", "to", "invoke", "<code>sum()</code>", "without", "passing", "any", "argument", ",", "then", "the", "<code>int</code>", "version", "of", "method", "was", "invoked", ".", "I", "do", "n't", "understand", "why", ";", "normally", "the", "compiler", "must", "raise", "an", "error", ".", "#p", "By", "contrast", ",", "the", "following", "piece", "of", "code", "generates", "a", "compiler", "error", "when", "I", "try", "to", "invoke", "<code>sum</code>", "without", "any", "argument", ":", "#pre"], "answer_count": 2, "question_id": 31627236}, {"tokens": ["#p", "The", "general", "rule", "that", "applies", "here", "is", "this", ":", "if", "one", "method", "signature", "is", "strictly", "than", "the", "other", ",", "then", "Java", "chooses", "it", "without", "an", "error", ".", "#p", "Intuituively", ",", "a", "method", "signature", "is", "more", "specific", "if", "you", "could", "delete", "it", "entirely", "and", "the", "other", ",", "less", "specific", "one", "would", "be", "applicable", "to", "each", "existing", "invocation", ".", "#p", "When", "presented", "with", "a", "choice", "between", "the", "signatures", "<code>sum(int... args)</code>", "and", "<code>sum(double... args)</code>", ",", "the", "signature", "<code>sum(int... args)</code>", "is", "more", "specific", "because", "any", "invocation", "of", "that", "method", "could", "also", "be", "passed", "on", "to", "<code>sum(double... args)</code>", "by", "applying", "a", "widening", "conversion", ".", "The", "same", "does", "not", "hold", "for", "a", "<code>sum(boolean... args)</code>", "method", ",", "which", "can", "not", "be", "similarly", "converted", ".", "#p", "Java", "Language", "Specification", ",", "SE", "8", "version", ":", "#blockquote"], "answer_id": 31627534, "question_id": 31627236}, {"tokens": ["#p", "As", "mentioned", "in", "this", "answer", ",", "there", "are", "rules", "followed", "when", "selecting", "which", "overloaded", "method", "to", "use", ".", "#p", "To", "quote", ":", "#blockquote", "#p", "(", "Let", "'s", "redefine", "rule", "1", "like", "so", ":", "``", "Primitive", "widening", "uses", "the", "method", "argument", "as", "possible", ".", "''", ")", "#p", "So", "with", "these", "rules", "in", "mind", "we", "can", "get", "an", "idea", "of", "what", "'s", "going", "on", "here", ":", "#p", "According", "to", "rule", "number", "one", ",", "primitive", "widening", "uses", "the", "most", "specific", "method", "argument", "as", "possible", ".", "Since", "an", "<code>int</code>", "is", "representing", "by", "a", "non-decimal", "number", "(", "e.g", ".", "<code>1</code>", ")", "and", "a", "<code>double</code>", "is", "represented", "by", "a", "decimal-number", "with", "precision", "32", "bytes", "more", "than", "that", "of", "a", "<code>float</code>", "(", "e.g", ".", "<code>1.0</code>", ")", ",", "we", "can", "say", "that", "<code>int</code>", "s", "are", "``", "less", "than", "''", "or", "``", "smaller", "than", "''", "<code>double</code>", "s", ",", "and", "by", "that", "logic", ",", "<code>int</code>", "s", "can", "be", "``", "promoted", "''", "to", "<code>double</code>", "s", "and", "<code>double</code>", "s", "can", "be", "``", "demoted", "''", "to", "<code>int</code>", "s", ".", "#p", "Put", "simply", ",", "a", "primitive", "that", "can", "be", "widened", "to", "another", "primitive", "(", "e.g", ".", "<code>int</code>", "-", ">", "<code>float</code>", "-", ">", "<code>double</code>", ")", "is", "than", "another", ".", "For", "example", ",", "an", "<code>int</code>", "is", "than", "a", "<code>double</code>", "because", "<code>1</code>", "can", "be", "promoted", "to", "<code>1.0</code>", ".", "#p", "When", "you", "passed", "in", "no", "arguments", "to", "these", "overloaded", "vararg", "methods", "of", "the", "same", "name", ",", "since", "the", "return", "is", "effectively", "the", "same", "(", "0", "and", "0.0", "respectively", ")", ",", "the", "compiler", "would", "choose", "to", "use", "the", "method", "that", "takes", "in", "a", "vararg", "of", "type", "<code>int</code>", "since", "it", "is", ".", "#p", "So", ",", "then", ",", "when", "you", "introduced", "these", "same", "methods", "that", "take", "in", "<code>int</code>", "s", "and", "<code>boolean</code>", "s", "(", "types", "that", "can", "not", "be", "widened", "to", "each", "other", ")", "respectively", ",", "the", "compiler", "now", "can", "not", "choose", "a", "method", "to", "use", "since", "<code>int</code>", "s", "can", "not", "be", "``", "promoted", "''", "or", "``", "demoted", "''", "like", "<code>int</code>", "s", ",", "<code>float</code>", "s", "and", "<code>double</code>", "s.", "Therefore", ",", "it", "will", "throw", "a", "compile", "error", ".", "#p", "I", "hope", "this", "helps", "you", "to", "understand", "what", "'s", "happening", "."], "answer_id": 31627536, "question_id": 31627236}, {"tokens": ["#p", "One", "of", "the", "features", "of", "the", "new", "Date", "Time", "API", "in", "Java", "8", "is", "supposed", "to", "be", "nanosecond", "precision", ".", "However", "when", "I", "print", "the", "current", "Date", "Time", "to", "the", "console", "like", "so", "#pre", "#p", "I", "only", "see", "millisecond", "precision", ":", "2015-11-02T12:33:26,746000000+0100", "#p", "The", "operating", "system", "does", "seem", "to", "support", "nanosecond", "precision", ".", "When", "I", "print", "the", "current", "date", "time", "via", "the", "Terminal", "#pre", "#p", "I", "see", "2015-11-02T12:33:26,746134417+0100", "#p", "How", "do", "I", "get", "nanosecond", "precision", "in", "Java", "?", "I", "'m", "running", "Oracle", "Java", "1.8.0_66", "on", "Ubuntu", "14.04", "64-bit"], "answer_count": 2, "question_id": 33477695}, {"tokens": ["#p", "The", "<code>java.time</code>", "API", "in", "general", "have", "nanosecond", "precision", ".", "For", "example", ":", "#pre", "#p", "Output", ":", "#pre", "#p", "However", ",", "it", "'s", "the", "clock", "value", "returned", "by", "<code>OffsetDateTime.now()</code>", "which", "is", "returning", "a", "value", "which", "only", "has", "milliseconds", ".", "#p", "From", "<code>Clock</code>", "implementation", "in", "Java", "8", ":", "#blockquote", "#p", "So", "there", "'s", "nothing", "inherently", "imprecise", "here", "-", "just", "the", "default", "implementation", "of", "<code>Clock</code>", "using", "<code>System.currentTimeMillis()</code>", ".", "You", "could", "potentially", "create", "your", "own", "more", "precise", "subclass", ".", "However", ",", "you", "should", "note", "that", "adding", "more", "precision", "without", "adding", "more", "probably", "is", "n't", "terribly", "useful", ".", "(", "There", "are", "times", "when", "it", "might", "be", ",", "admittedly", "...", ")"], "answer_id": 33477803, "question_id": 33477695}, {"tokens": ["#p", "To", "make", "an", "important", "addition", "to", "the", "answer", "of", "Jon", "Skeet", ",", "-", "see", "the", "bug", "log", ".", "Background", ":", "On", "many", "operating", "systems", "(", "especially", "Linux", ")", ",", "there", "are", "better", "clocks", "available", ".", "#blockquote", "#p", "It", "should", "also", "be", "noted", "the", "(", "exotic", ")", "fact", "that", "second", "precision", "will", "not", "exist", "near", "leap", "seconds", "-", "not", "even", "in", "Java", "9", "."], "answer_id": 33478391, "question_id": 33477695}, {"tokens": ["#p", "If", "I", "try", "to", "compile", "#pre", "#p", "The", "Java", "compiler", "produces", "an", "error", "saying", "<code>Unreachable statement</code>", ".", "But", "if", "I", "add", "another", "``", "``", "(", "according", "to", "me", ")", "<code>break</code>", "statement", "and", "make", "it", ":", "#pre", "#p", "It", "compiles", ".", "Why", "does", "it", "not", "produce", "an", "error", "?", "Is", "Java", "trying", "to", "say", "that"], "answer_count": 5, "question_id": 34453585}, {"tokens": ["#p", "The", "behaviour", "is", "defined", "in", "the", "JLS", "description", "of", "unreachable", "statements", ":", "#blockquote", "#p", "So", "the", "compiler", "determines", "that", "the", "then-statement", "(", "<code>break;</code>", ")", "is", "reachable", ",", "regardless", "of", "the", "condition", "in", "the", "<code>if</code>", ".", "#p", "And", "a", "bit", "further", ",", "emphasis", "mine", ":", "#blockquote", "#p", "So", "the", "for", "can", "complete", "normally", "because", "the", "then-statement", "contains", "a", "<code>break</code>", ".", "As", "you", "noticed", ",", "it", "would", "not", "work", "if", "you", "replaced", "<code>break</code>", "with", "<code>return</code>", "."], "answer_id": 34453672, "question_id": 34453585}, {"tokens": ["#p", "From", "the", "JLS", "#blockquote", "#p", "So", "<code>if(false)</code>", "is", "allowed", ".", "#blockquote"], "answer_id": 34453701, "question_id": 34453585}, {"tokens": ["#p", "As", "explained", "in", "my", "answer", "to", "a", "similar", "question", ",", "the", "specific", "construct", "<code>if(compile-time-false)</code>", "is", "exempt", "from", "the", "unreachability", "rules", "as", "an", "explicit", "backdoor", ".", "In", "this", "case", ",", "the", "compiler", "treats", "your", "<code>break</code>", "as", "reachable", "because", "of", "that", "."], "answer_id": 34453704, "question_id": 34453585}, {"tokens": ["#p", "Basically", ",", "is", "detected", "by", "analyzing", "the", "program", "actually", "running", "the", "code", ".", "While", "the", "condition", "will", "be", "checked", "at", ".", "So", ",", "when", "this", "analysis", "takes", "place", "it", "does", "not", "actually", "look", "in", "to", "the", "condition", "but", "just", "check", "that", "<code>break;</code>", "is", "accessible", "(", ")", "via", "<code>if</code>", "."], "answer_id": 34455434, "question_id": 34453585}, {"tokens": ["#p", "The", "core", "reason", "Java", "does", "n't", "detect", "unreachable", "statements", "is", "that", "it", "'s", "generally", "impossible", "to", "answer", "whether", "the", "code", "is", "reachable", "or", "not", ".", "This", "follows", "from", "the", "fact", "that", "halting", "problem", "is", "undecidable", "over", "Turing", "machines", ".", "#p", "So", ",", "it", "'s", "clear", "that", "all", "unreachable", "statements", "can", "not", "be", "detected", ",", "but", "why", "not", "to", "try", "evaluating", "conditions", "?", "Imagine", "now", "that", "the", "condition", "used", "is", "not", "just", "<code>false</code>", "but", "something", "like", "<code>~x == x</code>", ".", "For", "example", ",", "all", "these", "statements", "will", "print", "<code>true</code>", "for", "every", "<code>int x</code>", "(", "source", ")", ".", "#pre", "#p", "The", "statements", "can", "be", "rather", "complicated", ";", "it", "takes", "time", "to", "resolve", "them", ".", "It", "would", "significantly", "increase", "build", "time", ",", "and", "after", "all", ",", "it", "will", "not", "detect", "all", "unreachable", "statements", ".", "Compiler", "was", "designed", "to", "take", "some", "efforts", "but", "not", "spend", "too", "much", "time", "for", "that", ".", "#p", "The", "only", "question", "remained", "is", ":", "where", "to", "stop", "resolving", "conditions", "?", "The", "reasons", "for", "that", "do", "n't", "seem", "to", "have", "mathematical", "justification", "and", "are", "based", "on", "usage", "scenario", ".", "Rationale", "for", "your", "particular", "case", "is", "given", "by", "JLS-14.21"], "answer_id": 34526507, "question_id": 34453585}, {"tokens": ["#p", "I", "have", "been", "investigating", "this", "error", "for", "a", "whole", "three", "days", ",", "but", "still", "no", "progress", ".", "I", "hope", "I", "can", "get", "some", "tips", "from", "here", ".", "#p", "What", "I", "am", "trying", "to", "do", "is", "to", "inline", "a", "MethodNode", "into", "a", "MethodHandle", "Call", "Site", "(", "#", "5", ",", "#", "17", ",", "and", "#", "30", ")", "with", "ASM", "library", ".", "For", "simplification", ",", "the", "MethodHandle", "at", "#", "5", "references", "a", "static", "method", "<code>static Functions.isFooString(String)boolen</code>", ".", "#p", "At", "the", "call", "site", ",", "the", "instruction", "before", "inlining", "is", "like", "#pre", "#p", "The", "inlining", "rule", "is", "that", "copy", "inline", "'s", "body", "into", "the", "call", "site", "after", "storing", "the", "arguments", "to", "local", "variables", ".", "After", "inlining", ",", "the", "instruction", "list", "is", ":", "#pre", "#p", "Clearly", ",", "the", "#", "5", "(", "before", ")", "in", "the", "original", "instruction", "is", "replaced", "by", "WRONG", "instructions", "#", "7", "--", "#", "12", "(", "after", ")", ",", "which", "should", "not", "exist", "here", ".", "Instead", ",", "there", "should", "only", "be", "one", "instruction", ",", "here", ":", "#pre", "#p", "Worse", ",", "the", "#", "7", "of", "the", "invokeExact", "(", "after", ")", "is", "completely", "illegal", "which", "caused", "the", "JVM", "crash", "down", ".", "The", "other", "two", "instructions", "#", "17", "and", "#", "30", "(", "before", ")", "are", "correctly", "substituted", ".", "#p", "It", "is", "clear", "from", "the", "generated", "bytecodes", ",", "but", "this", "is", "different", "from", "the", "behavior", "defined", "by", "my", "code", ".", "The", "way", "to", "build", "the", "MethodNode", "is", ":", "#pre", "#p", "And", "InliningAdapter", ":", "#pre", "#p", "For", "each", "invokevirtual", "instruction", "(", "#", "5", ",", "#", "17", ".", "#", "30", ")", "in", "the", "original", "bytecodes", ",", "it", "is", "like", ":", "#pre", "#p", "To", "resolve", "the", "issue", "(", "the", "parameters", "for", "the", "first", "visited", "<code>invokestatic</code>", "is", "missing", "and", "some", "illegal", "instructions", "are", "added", ")", ".", "I", "debug", "my", "code", "(", "Sorry", "I", "can", "not", "post", "all", "of", "it", "here", "because", "there", "are", "too", "many", "files", ")", ",", "and", "it", "monitors", "all", "parameters", "that", "are", "written", "to", "the", "MethodWriter", "in", "the", "<code>visitMethodInsn</code>", "of", "the", "<code>InliningAdapter</code>", ".", "It", "proves", "that", "all", "these", "values", "(", "Functions", ",", "isFooString", ",", "(", "String", ";", ")", "Z", ")", "are", "correct", ",", "which", "are", "the", "same", "as", "my", "expectation", ".", "#p", "So", "my", "questions", "are", ":", "#li", "Is", "there", "something", "wrong", "in", "my", "MethodNode", "builder", "?", "#li", "#p", "What", "kinds", "of", "reasons", "can", "result", "to", "this", "issue", "?", "There", "are", "also", "other", "similar", "cases", ",", "where", "the", "first", "<code>invokevirtual</code>", "instructions", "are", "wrongly", "substituted", "by", "something", "like", ",", "nop", ",", "fdouble", ",", "and", "asatore", "(", "These", "substitutions", "do", "not", "exist", "in", "my", "code", ")", ".", "#li", "#p", "Also", ",", "I", "confirm", "the", "override", "method", "<code>visitMethodInsn</code>", "is", "not", "invoked", "after", "the", "<code>visitMethodInsn</code>", "before", "<code>accept</code>", "completes", ".", "That", "means", ",", "the", "wrong", "instructions", ",", "i.e.", ",", "#", "10", "<code>fload</code>", "and", "#", "12", "<code>iconst</code>", ",", "are", "not", "from", "the", "built", "MethodNode", ".", "#li", "#p", "I", "made", "another", "try", "that", "disable", "the", "inlining", "of", "the", "first", "invokevirtual", "(", "#", "5", "//Before", ")", ".", "The", "generated", "class", "succeeds", "and", "can", "be", "launched", ".", "For", "me", ",", "it", "looks", "like", "the", "problem", "is", "at", "<code>isFooString</code>", "MethodNode", "building", "."], "answer_count": 0, "question_id": 31998248}, {"tokens": ["#p", "While", "writing", "code", "for", "another", "answer", "on", "this", "site", "I", "came", "across", "this", "peculiarity", ":", "#pre", "#p", "First", ",", "I", "am", "quite", "confused", "why", "the", "<code>sneakyThrow</code>", "call", "is", "OK", "to", "the", "compiler", ".", "What", "possible", "type", "did", "it", "infer", "for", "<code>T</code>", "when", "there", "is", "no", "mention", "anywhere", "of", "an", "unchecked", "exception", "type", "?", "#p", "Second", ",", "accepting", "that", "this", "works", ",", "why", "then", "does", "the", "compiler", "complain", "on", "the", "<code>nonSneakyThrow</code>", "call", "?", "They", "seem", "very", "much", "alike", "."], "answer_count": 3, "question_id": 31316581}, {"tokens": ["#p", "With", "<code>sneakyThrow</code>", ",", "the", "type", "<code>T</code>", "is", "a", "bounded", "generic", "type", "variable", "a", "specific", "type", "(", "because", "there", "is", "no", "where", "the", "type", "could", "come", "from", ")", ".", "#p", "With", "<code>nonSneakyThrow</code>", ",", "the", "type", "<code>T</code>", "is", "the", "same", "type", "as", "the", "argument", ",", "thus", "in", "your", "example", ",", "the", "<code>T</code>", "of", "<code>nonSneakyThrow(e);</code>", "is", "<code>Exception</code>", ".", "As", "<code>testSneaky()</code>", "does", "not", "declare", "a", "thrown", "<code>Exception</code>", ",", "an", "error", "is", "shown", ".", "#p", "Note", "that", "this", "is", "a", "known", "interference", "of", "Generics", "with", "checked", "exceptions", "."], "answer_id": 31316721, "question_id": 31316581}, {"tokens": ["#p", "The", "T", "of", "<code>sneakyThrow</code>", "is", "inferred", "to", "be", "<code>RuntimeException</code>", ".", "This", "can", "be", "followed", "from", "the", "langauge", "spec", "on", "type", "inference", "(", "http", ":", "//docs.oracle.com/javase/specs/jls/se8/html/jls-18.html", ")", "#p", "Firstly", ",", "there", "'s", "a", "note", "in", "section", "18.1.3", ":", "#blockquote", "#p", "This", "does", "n't", "affect", "anything", ",", "but", "it", "points", "us", "to", "the", "Resolution", "section", "(", "18.4", ")", ",", "which", "has", "got", "more", "information", "on", "inferred", "exception", "types", "with", "a", "special", "case", ":", "#blockquote", "#p", "This", "case", "applies", "to", "<code>sneakyThrow</code>", "-", "the", "only", "upper", "bound", "is", "<code>Throwable</code>", ",", "so", "<code>T</code>", "is", "inferred", "to", "be", "<code>RuntimeException</code>", "as", "per", "the", "spec", ",", "so", "it", "compiles", ".", "The", "body", "of", "the", "method", "is", "immaterial", "-", "the", "unchecked", "cast", "succeeds", "at", "runtime", "because", "it", "does", "n't", "actually", "happen", ",", "leaving", "a", "method", "that", "can", "defeat", "the", "compile-time", "checked", "exception", "system", ".", "#p", "<code>nonSneakyThrow</code>", "does", "not", "compile", "as", "that", "method", "'s", "<code>T</code>", "has", "got", "a", "lower", "bound", "of", "<code>Exception</code>", "(", "ie", "<code>T</code>", "must", "be", "a", "supertype", "of", "<code>Exception</code>", ",", "or", "<code>Exception</code>", "itself", ")", ",", "which", "is", "a", "checked", "exception", ",", "due", "to", "the", "type", "it", "'s", "being", "called", "with", ",", "so", "that", "<code>T</code>", "gets", "inferred", "as", "<code>Exception</code>", "."], "answer_id": 31316879, "question_id": 31316581}, {"tokens": ["#p", "If", "type", "inference", "produces", "a", "single", "upper", "bound", "for", "a", "type", "variable", ",", "typically", "the", "upper", "bound", "is", "chosen", "as", "the", "solution", ".", "For", "example", ",", "if", "<code>T&lt;&lt;Number</code>", ",", "the", "solution", "is", "<code>T=Number</code>", ".", "Although", "<code>Integer</code>", ",", "<code>Float</code>", "etc", ".", "could", "also", "satisfy", "the", "constraint", ",", "there", "'s", "no", "good", "reason", "to", "choose", "them", "over", "<code>Number</code>", ".", "#p", "That", "was", "also", "the", "case", "for", "<code>throws T</code>", "in", "java", "5-7", ":", "<code>T&lt;&lt;Throwable  =&gt;  T=Throwable</code>", ".", "(", "Sneaky", "throw", "solutions", "all", "had", "explicit", "<code>&lt;RuntimeException&gt;</code>", "type", "arguments", ",", "otherwise", "<code>&lt;Throwable&gt;</code>", "is", "inferred", ".", ")", "#p", "In", "java8", ",", "with", "the", "introduction", "of", "lambda", ",", "this", "becomes", "problematic", ".", "Consider", "this", "case", "#pre", "#p", "If", "we", "invoke", "with", "an", "empty", "lambda", ",", "what", "would", "<code>T</code>", "be", "inferred", "as", "?", "#pre", "#p", "The", "only", "constraint", "on", "<code>T</code>", "is", "an", "upper", "bound", "<code>Throwable</code>", ".", "In", "earlier", "stage", "of", "java8", ",", "<code>T=Throwable</code>", "would", "be", "inferred", ".", "See", "this", "report", "I", "filed", ".", "#p", "But", "that", "is", "pretty", "silly", ",", "to", "infer", "<code>Throwable</code>", ",", "a", "checked", "exception", ",", "out", "of", "an", "empty", "block", ".", "A", "solution", "was", "proposed", "in", "the", "report", "(", "which", "is", "apparently", "adopted", "by", "JLS", ")", "-", "#pre", "#p", "i.e", ".", "if", "the", "upper", "bound", "is", "<code>Exception</code>", "or", "<code>Throwable</code>", ",", "choose", "<code>RuntimeException</code>", "as", "the", "solution", ".", "In", "this", "case", ",", "there", "a", "good", "reason", "to", "choose", "a", "particular", "subtype", "of", "the", "upper", "bound", "."], "answer_id": 31327420, "question_id": 31316581}, {"tokens": ["#p", "Consider", "the", "following", "example", "code", "#pre", "#p", "it", "gives", "the", "following", "output", "#pre", "#p", "Method", "calls", "are", "resolved", "at", "runtime", "and", "the", "correct", "overridden", "method", "is", "called", ",", "as", "expected", ".", "#pre", "#p", "because", "in", "the", "derived", "class", "the", "re-definition", "of", "<code>var</code>", "shadows", "the", "one", "in", "the", "base", "class", "."], "answer_count": 4, "question_id": 32422923}, {"tokens": ["#p", "While", "you", "might", "be", "right", "about", "performance", ",", "there", "is", "another", "reason", "why", "fields", "are", "not", "dynamically", "dispatched", ":", "You", "would", "n't", "be", "able", "to", "access", "the", "<code>MyClass.var</code>", "field", "at", "all", "if", "you", "had", "a", "<code>MyDerivedClass</code>", "instance", ".", "#p", "Generally", ",", "I", "do", "n't", "know", "about", "any", "statically", "typed", "language", "that", "actually", "has", "dynamic", "variable", "resolution", ".", "But", "if", "you", "really", "need", "it", ",", "you", "can", "make", "getters", "or", "accessor", "methods", "(", "which", "should", "be", "done", "in", "most", "cases", "to", "avoid", "<code>public</code>", "fields", ",", "anyway", ")", ":", "#pre"], "answer_id": 32422990, "question_id": 32422923}, {"tokens": ["#p", "The", "polymorphic", "behaviour", "of", "the", "java", "language", "works", "with", "methods", "and", "not", "member", "variables", ":", "they", "designed", "the", "language", "to", "bind", "member", "variables", "at", "compile", "time", "."], "answer_id": 32423051, "question_id": 32422923}, {"tokens": ["#p", "The", "reason", "is", "explained", "in", "the", "Java", "Language", "Specification", "in", "an", "example", "in", "Section", "15.11", ",", "quoted", "below", ":", "#blockquote", "#p", "So", "yes", "performance", "is", "a", "reason", ".", "The", "specification", "of", "how", "the", "field", "access", "expression", "is", "evaluated", "is", "stated", "as", "follows", ":", "#blockquote", "#p", "where", "in", "your", "case", "refers", "the", "variable", "<code>derived</code>", "which", "is", "of", "type", "<code>MyClass</code>", ".", "#p", "Another", "reason", ",", "as", "@", "Clashsoft", "suggested", ",", "is", "that", "in", "subclasses", ",", "fields", "are", "not", "overriden", ",", "they", "are", ".", "So", "it", "makes", "sense", "to", "allow", "which", "fields", "to", "access", "based", "on", "the", "declared", "type", "or", "using", "a", "cast", ".", "This", "is", "also", "true", "for", "static", "methods", ".", "This", "is", "why", "the", "field", "is", "determined", "based", "on", "the", "declared", "type", ".", "Unlike", "overriding", "by", "instance", "methods", "where", "it", "depends", "on", "the", "actual", "type", ".", "The", "JLS", "quote", "above", "indeed", "mentions", "this", "reason", "implicitly", ":", "#blockquote"], "answer_id": 32423092, "question_id": 32422923}, {"tokens": ["#p", "In", "java", ",", "this", "is", "by", "design", ".", "Because", ",", "the", "set", "up", "of", "fields", "to", "be", "dynamically", "resolved", "would", "make", "things", "to", "run", "a", "bit", "slower", ".", "And", "in", "real", ",", "there", "'s", "not", "any", "reason", "of", "doing", "so", ".", "Since", ",", "you", "can", "make", "your", "fields", "in", "any", "class", "and", "access", "them", "with", "which", "are", ".", "#p", "So", ",", "fields", "are", "made", "to", "resolved", "better", "at", "instead", ":", ")"], "answer_id": 32470752, "question_id": 32422923}, {"tokens": ["#p", "Suppose", "I", "have", "an", "enum", "<code>Color</code>", "with", "2", "possible", "values", ":", "<code>RED</code>", "and", "<code>BLUE</code>", ":", "#pre", "#p", "Now", "suppose", "I", "have", "a", "switch", "statement", "for", "this", "enum", "where", "I", "have", "code", "for", "both", "possible", "values", ":", "#pre", "#p", "Since", "I", "have", "code", "block", "for", "both", "possible", "values", "of", "the", "enum", ",", "what", "is", "the", "usage", "of", "<code>default</code>", "in", "the", "above", "code", "?", "#p", "Should", "I", "throw", "an", "exception", "if", "the", "code", "somehow", "reaches", "the", "<code>default</code>", "block", "like", "this", "?", "#pre"], "answer_count": 12, "question_id": 33019562}, {"tokens": ["#p", "In", "small", "programs", ",", "there", "is", "no", "practical", "use", "for", "that", ",", "but", "think", "of", "a", "complex", "system", "that", "speards", "among", "large", "number", "of", "files", "and", "developers", "-", "if", "you", "define", "the", "<code>enum</code>", "in", "one", "file", "and", "use", "it", "in", "another", "one", ",", "and", "later", "on", "someone", "adds", "a", "value", "to", "the", "<code>enum</code>", "without", "updating", "the", "<code>switch</code>", "statement", ",", "you", "'ll", "find", "it", "very", "useful", "..."], "answer_id": 33019652, "question_id": 33019562}, {"tokens": ["#p", "When", "the", "enum", "constants", "are", "too", "many", "and", "you", "need", "to", "handle", "only", "for", "few", "cases", ",", "then", "the", "<code>default</code>", "will", "handle", "the", "rest", "of", "the", "constants", ".", "#p", "Also", ",", "enum", "constants", "are", "references", ",", "if", "the", "reference", "is", "not", "yet", "set", ",", "or", "<code>null</code>", ".", "You", "may", "have", "to", "handle", "such", "cases", "too", "."], "answer_id": 33019656, "question_id": 33019562}, {"tokens": ["#p", "To", "satisfy", "IDEs", "and", "other", "static", "linters", ",", "I", "often", "leave", "the", "default", "case", "in", "as", "a", "no-op", ",", "along", "with", "a", "comment", "such", "as", "<code>// Can't happen</code>", "or", "<code>// Unreachable</code>", "#p", "i.e.", ",", "if", "the", "switch", "is", "doing", "the", "typical", "thing", "of", "handling", "all", "possible", "enum", "values", ",", "either", "explicitly", "or", "via", "fall-throughs", ",", "then", "the", "default", "case", "is", "probably", "programmer", "error", ".", "#p", "Depending", "on", "the", "application", ",", "I", "sometimes", "put", "an", "assertion", "in", "the", "case", "to", "guard", "against", "programmer", "error", "during", "development", ".", "But", "this", "has", "limited", "value", "in", "shipping", "code", "(", "unless", "you", "ship", "with", "assertions", "enabled", ".", ")", "#p", "Again", ",", "depending", "on", "the", "situation", "I", "might", "be", "convinced", "to", "throw", "an", "Error", ",", "as", "this", "is", "really", "an", "unrecoverable", "situation", "--", "nothing", "the", "user", "can", "do", "will", "correct", "what", "is", "probably", "programmer", "error", "."], "answer_id": 33019673, "question_id": 33019562}, {"tokens": ["#p", "Yes", ",", "you", "should", "do", "it", ".", "You", "may", "change", "<code>enum</code>", "but", "do", "n't", "change", "<code>switch</code>", ".", "In", "the", "future", "it", "'ll", "lead", "to", "mistakes", ".", "I", "think", "that", "<code>throw new IllegalArgumentException(msg)</code>", "is", "the", "good", "practice", "."], "answer_id": 33019682, "question_id": 33019562}, {"tokens": ["#p", "It", "is", "good", "practice", "to", "throw", "an", "Exception", "as", "you", "have", "shown", "in", "the", "second", "example", ".", "You", "improve", "the", "maintainability", "of", "your", "code", "by", "failing", "fast", ".", "#p", "In", "this", "case", "it", "would", "mean", "if", "you", "later", "(", "perhaps", "years", "later", ")", "add", "an", "enum", "value", "and", "it", "reaches", "the", "switch", "statement", "you", "will", "immediately", "discover", "the", "error", ".", "#p", "If", "the", "default", "value", "were", "not", "set", ",", "the", "code", "would", "perhaps", "run", "through", "even", "with", "the", "new", "enum", "value", "and", "could", "possibly", "have", "undesired", "behavior", "."], "answer_id": 33019695, "question_id": 33019562}, {"tokens": ["#p", "Yes", ",", "it", "is", "dead", "code", "until", "someone", "add", "a", "value", "to", "the", "enum", ",", "which", "will", "make", "your", "switch", "statement", "follow", "the", "principle", "of", "'fail", "fast", "'", "(", "https", ":", "//en.wikipedia.org/wiki/Fail-fast", ")", "#p", "This", "could", "relates", "to", "this", "question", ":", "How", "to", "ensure", "completeness", "in", "an", "enum", "switch", "at", "compile", "time", "?"], "answer_id": 33019719, "question_id": 33019562}, {"tokens": ["#p", "Compile", "time", "completeness", "of", "the", "switch", "cases", "does", "n't", "guarantee", "runtime", "completenes", ".", "#p", "Class", "with", "a", "switch", "statement", "compiled", "against", "an", "older", "version", "of", "enum", "may", "be", "executed", "with", "a", "newer", "enum", "version", "(", "with", "more", "values", ")", ".", "That", "'s", "a", "common", "case", "with", "library", "dependencies", ".", "#p", "For", "reasons", "like", "these", ",", "the", "compiler", "considers", "the", "<code>switch</code>", "without", "<code>default</code>", "case", "incomplete", "."], "answer_id": 33019749, "question_id": 33019562}, {"tokens": ["#p", "The", "other", "answers", "are", "correct", "in", "saying", "that", "you", "should", "implement", "a", "<code>default</code>", "branch", "that", "throws", "an", "exception", ",", "in", "case", "a", "new", "value", "gets", "added", "to", "your", "enum", "in", "the", "future", ".", "However", ",", "I", "would", "go", "one", "step", "further", "and", "question", "why", "you", "'re", "even", "using", "a", "<code>switch</code>", "statement", "in", "the", "first", "place", ".", "#p", "Unlike", "languages", "like", "C++", "and", "C", "#", ",", "Java", "represents", "Enum", "values", "as", "actual", "objects", ",", "which", "means", "that", "you", "can", "leverage", "object-oriented", "programming", ".", "Let", "'s", "say", "that", "the", "purpose", "of", "your", "method", "is", "to", "provide", "an", "RGB", "value", "for", "each", "color", ":", "#pre", "#p", "Well", ",", "arguably", ",", "if", "you", "want", "each", "color", "to", "have", "an", "RGB", "value", ",", "you", "should", "include", "that", "as", "part", "of", "its", "description", ":", "#pre", "#p", "That", "way", ",", "if", "you", "add", "a", "new", "color", "later", ",", "you", "'re", "pretty", "much", "forced", "to", "provide", "an", "RGB", "value", ".", "It", "'s", "even", "more", "fail-fast", "than", "the", "other", "approach", ",", "because", "you", "'ll", "fail", "at", "compile-time", "rather", "than", "run-time", ".", "#p", "Note", "that", "you", "can", "do", "even", "more", "complicated", "things", "if", "you", "need", "to", ",", "including", "having", "each", "color", "provide", "its", "own", "custom", "implementation", "of", "an", "abstract", "method", ".", "Enums", "in", "Java", "are", "really", "powerful", "and", "object-oriented", ",", "and", "in", "most", "cases", "I", "'ve", "found", "I", "can", "avoid", "needing", "to", "<code>switch</code>", "on", "them", "in", "the", "first", "place", "."], "answer_id": 33020865, "question_id": 33019562}, {"tokens": ["#p", "If", "you", "'ve", "covered", "all", "of", "the", "possibilities", "with", "your", "various", "<code>cases</code>", "and", "the", "<code>default</code>", "can", "not", "happen", ",", "this", "is", "the", "classic", "use", "case", "for", ":", "#pre"], "answer_id": 33033281, "question_id": 33019562}, {"tokens": ["#p", "Apart", "from", "the", "possible", "future", "extending", "of", "the", "enum", ",", "which", "was", "pointed", "out", "by", "many", ",", "some", "day", "someone", "may", "'improve", "'", "yout", "<code>getColor()</code>", "or", "override", "it", "in", "a", "derived", "class", "and", "let", "it", "return", "an", "invalid", "value", ".", "Of", "course", "a", "compiler", "should", "catch", "that", ",", "unless", "someone", "explicitly", "forces", "unsafe", "type", "casting", "...", "#p", "But", "bad", "things", "just", "happen", ",", "and", "it", "'s", "a", "good", "practice", "not", "to", "leave", "any", "unexpected", "<code>else</code>", "or", "<code>default</code>", "path", "unguarded", "."], "answer_id": 33040364, "question_id": 33019562}, {"tokens": ["#p", "I", "'m", "surprised", "nobody", "else", "mentioned", "this", ".", "You", "can", "cast", "an", "int", "to", "an", "enum", "and", "it", "wo", "n't", "throw", "just", "because", "the", "value", "is", "not", "one", "of", "the", "enumerated", "values", ".", "This", "means", "(", "among", "other", "things", ")", ",", "the", "compiler", "can", "not", "tell", "that", "all", "the", "enum", "values", "are", "in", "the", "switch", ".", "#p", "Even", "if", "you", "write", "your", "code", "correctly", ",", "this", "really", "does", "come", "up", "when", "serializing", "objects", "that", "contain", "enums", ".", "A", "future", "version", "might", "add", "to", "the", "enum", "and", "your", "code", "choke", "on", "reading", "it", "back", ",", "or", "somebody", "looking", "to", "create", "mayhem", "may", "hexedit", "a", "new", "value", "in", ".", "Either", "way", ",", "running", "off", "the", "switch", "rarely", "does", "the", "right", "thing", ".", "So", ",", "we", "throw", "in", "default", "unless", "we", "know", "better", "."], "answer_id": 33041850, "question_id": 33019562}, {"tokens": ["#p", "Here", "is", "how", "I", "would", "handle", "it", ",", "beside", "<code>NULL</code>", "value", "which", "would", "result", "in", "a", "null", "pointer", "exception", "which", "you", "can", "handle", ".", "#p", "If", "<code>Color color</code>", "is", "not", "<code>null</code>", ",", "it", "has", "to", "be", "one", "of", "the", "singletons", "in", "<code>enum Color</code>", ",", "if", "you", "assign", "any", "reference", "to", "an", "object", "that", "is", "not", "one", "of", "the", "them", "this", "will", "cause", "a", "Runtime", "error", ".", "#p", "So", "my", "solution", "is", "to", "account", "for", "values", "that", "are", "not", "supported", ".", "#p", "Test", "Run", "#p", "#pre", "#p", "..", "or", "you", "can", "consider", "<code>null</code>", "as", "unsupported", "too", "#pre", "#p", "#pre", "#p", "#pre"], "answer_id": 33123081, "question_id": 33019562}, {"tokens": ["#p", "How", "is", "it", "that", "for", "a", "scanner", "object", "the", "<code>hasNextLine()</code>", "method", "returns", "true", "while", "the", "<code>hasNext()</code>", "method", "returns", "false", "?", "#p", "Note", ":", "Based", "on", "the", "input", "file", ",", "the", "<code>hasNext()</code>", "method", "is", "returning", "the", "result", "as", "expected", ";", "the", "<code>hasNextLine()</code>", "does", "not", "seem", "to", "be", "returning", "the", "correct", "result", ".", "#p", "Here", "'s", "the", "code", "I", "'m", "running", "that", "'s", "creating", "the", "results", "below", ":", "#pre", "#p", "The", "following", "is", "the", "actual", "content", "of", "the", "file", "that", "I", "'m", "passing", "to", "this", "scanner", ":", "#pre", "#p", "The", "following", "is", "the", "end", "of", "what", "'s", "printed", "in", "the", "console", "when", "I", "run", "my", "code", ",", "and", "includes", "the", "portion", "I", "ca", "n't", "make", "sense", "of", ":", "#pre"], "answer_count": 4, "question_id": 31993377}, {"tokens": ["#p", "You", "are", "consuming", "the", "value", "of", "<code>next()</code>", ",", "but", "asking", "for", "<code>hasNext()</code>", "and", "<code>hasNextLine()</code>", ".", "<code>next()</code>", ",", "per", "default", ",", "returns", "everything", "to", "the", "next", "<code>whitespace()</code>", ".", "So", "you", "are", "iterating", "through", "all", "whitespace", "seperated", "strings", ",", "and", "after", "each", "of", "them", "you", "are", "asking", "about", "the", "<code>nextLine()</code>", ".", "#p", "<code>i   1   1</code>", "-", ">", "<code>hasNextLine()</code>", "?", "True", ".", "<code>hasNext()</code>", "?", "Also", "true", ".", "#p", "<code>1   1</code>", "-", ">", "<code>hasNextLine()</code>", "?", "True", ".", "<code>hasNext()</code>", "?", "Also", "true", "(", "still", "a", "whitespace", "left", ")", "#p", "<code>1</code>", "-", ">", "<code>hasNextLine()</code>", "?", "True", "(", "Line", "Seperator", ",", "probably", ")", ".", "haxNext", "?", "False", ",", "no", "whitespace", "anymore", "."], "answer_id": 31993478, "question_id": 31993377}, {"tokens": ["#p", "The", "reason", "is", "that", "<code>hasNext()</code>", "checks", "if", "there", "are", "any", "more", "non-whitespace", "characters", "available", ".", "<code>hasNextLine()</code>", "checks", "to", "see", "if", "there", "is", "another", "line", "of", "text", "available", ".", "Your", "text", "file", "probably", "has", "a", "newline", "at", "the", "end", "of", "it", "so", "it", "has", "another", "line", "but", "no", "more", "characters", "that", "are", "not", "whitespace", ".", "#p", "Many", "text", "editors", "automatically", "add", "a", "newline", "to", "the", "end", "of", "a", "file", "if", "there", "is", "n't", "one", "already", ".", "#p", "In", "other", "words", ",", "your", "input", "file", "is", "not", "this", "(", "the", "numbers", "are", "line", "numbers", ")", ":", "#pre", "#p", "It", "is", "actually", "this", ":", "#pre"], "answer_id": 31993533, "question_id": 31993377}, {"tokens": ["#li", "<code>hasNextLine()</code>", "checks", "to", "see", "if", "there", "is", "another", "<code>linePattern</code>", "in", "the", "buffer", ".", "#li", "<code>hasNext()</code>", "checks", "to", "see", "if", "there", "is", "a", "parseable", "token", "in", "the", "buffer", ",", "as", "separated", "by", "the", "scanner", "'s", "delimiter", ".", "#p", "Since", "the", "scanner", "'s", "delimiter", "is", "whitespace", ",", "and", "the", "<code>linePattern</code>", "is", "also", "white", "space", ",", "it", "is", "possible", "for", "there", "to", "be", "a", "<code>linePattern</code>", "in", "the", "buffer", "but", "no", "parseable", "tokens", ".", "#p", "Typically", ",", "the", "most", "common", "way", "to", "deal", "with", "this", "issue", "by", "always", "calling", "<code>nextLine()</code>", "after", "parsing", "all", "the", "tokens", "(", "e.g", ".", "numbers", ")", "in", "each", "line", "of", "your", "text", ".", "You", "need", "to", "do", "this", "when", "using", "<code>Scanner</code>", "when", "reading", "a", "user", "'s", "input", "too", "from", "<code>System.in</code>", ".", "To", "advance", "the", "scanner", "past", "this", "whitespace", "delimiter", ",", "you", "must", "use", "<code>scanner.nextLine()</code>", "to", "clear", "the", "line", "delimiter", ".", "See", ":", "Using", "scanner.nextLine", "(", ")"], "answer_id": 31993534, "question_id": 31993377}, {"tokens": ["#p", "You", "have", "an", "empty", "line", "at", "the", "end", "of", "the", "file", "."], "answer_id": 31993656, "question_id": 31993377}, {"tokens": ["#p", "Exactly", "what", "are", "the", "differences", "between", ",", ",", "and", "?", "#p", "For", "example", ":", "they", "all", "point", "to", "some", "type", ",", "and", "they", "must", "all", "hold", "values", "(", "unless", "of", "course", "you", "have", "the", "temporary", "null-able", "type", ")", ",", "but", "precisely", "how", "are", "their", "functions", "and", "implementations", "different", "from", "each", "other", "?", "#p", "Example", ":", "#pre", "#p", "They", "have", "the", "same", "concepts", ",", "but", "how", "are", "they", "different", "?"], "answer_count": 5, "question_id": 32010172}, {"tokens": ["#p", "(", "Just", "to", "be", "clear", ",", "the", "explanation", "I", "'m", "giving", "here", "is", "specific", "to", "Java", "and", "C", "#", ".", "Do", "n't", "assume", "it", "applies", "to", "other", "languages", ",", "although", "bits", "of", "it", "may", ".", ")", "#p", "I", "like", "to", "use", "an", "analogy", "of", "telling", "someone", "where", "I", "live", ".", "I", "might", "write", "my", "address", "on", "a", "piece", "of", "paper", ":", "#li", "A", "variable", "is", "like", "a", "piece", "of", "paper", ".", "It", "holds", "a", "value", ",", "but", "it", "is", "n't", "the", "value", "in", "itself", ".", "You", "can", "cross", "out", "whatever", "'s", "there", "and", "write", "something", "else", "instead", ".", "#li", "The", "address", "that", "I", "write", "on", "the", "piece", "of", "paper", "is", "like", "a", "reference", ".", "It", "is", "n't", "my", "house", ",", "but", "it", "'s", "a", "way", "of", "to", "my", "house", ".", "#li", "My", "house", "itself", "is", "like", "an", "object", ".", "I", "can", "give", "out", "multiple", "references", "to", "the", "same", "object", ",", "but", "there", "'s", "only", "one", "object", ".", "#p", "Does", "that", "help", "?", "#p", "The", "difference", "between", "a", "value", "type", "and", "a", "reference", "type", "is", "what", "gets", "written", "on", "the", "piece", "of", "paper", ".", "For", "example", ",", "here", ":", "#pre", "#p", "is", "like", "having", "a", "piece", "of", "paper", "with", "the", "number", "12", "written", "on", "it", "directly", ".", "Whereas", ":", "#pre", "#p", "does", "n't", "write", "the", "Dog", "object", "contents", "itself", "on", "the", "piece", "of", "paper", "-", "it", "creates", "a", "new", "<code>Dog</code>", ",", "and", "then", "writes", "a", "reference", "to", "the", "dog", "on", "that", "paper", ".", "#p", "In", "non-analogy", "terms", ":", "#li", "A", "variable", "represents", "a", "storage", "location", "in", "memory", ".", "It", "has", "a", "name", "by", "which", "you", "can", "refer", "to", "it", "at", "compile", "time", ",", "and", "at", "execution", "time", "it", "has", "a", "value", ",", "which", "will", "always", "be", "compatible", "with", "its", "compile-time", "type", ".", "(", "For", "example", ",", "if", "you", "'ve", "got", "a", "<code>Button</code>", "variable", ",", "the", "value", "will", "always", "be", "a", "reference", "to", "an", "object", "of", "type", "<code>Button</code>", "or", "some", "subclass", "-", "or", "the", "<code>null</code>", "reference", ".", ")", "#li", "An", "object", "is", "a", "sort", "of", "separate", "entity", ".", "Importantly", ",", "the", "value", "of", "a", "variable", "or", "any", "expression", "is", "an", "object", ",", "only", "a", "reference", ".", "An", "object", "effectively", "consists", "of", ":", "#li", "Fields", "(", "the", "state", ")", "#li", "A", "type", "reference", "(", "can", "never", "change", "through", "the", "lifetime", "of", "the", "object", ")", "#li", "A", "monitor", "(", "for", "synchronization", ")", "#li", "A", "reference", "is", "a", "value", "used", "to", "access", "an", "object", "-", "e.g", ".", "to", "call", "methods", "on", "it", ",", "access", "fields", "etc", ".", "You", "typically", "navigate", "the", "reference", "with", "the", "<code>.</code>", "operator", ".", "For", "example", ",", "if", "<code>foo</code>", "is", "a", "<code>Person</code>", "variable", ",", "<code>foo.getAddress().getLength()</code>", "would", "take", "the", "value", "of", "<code>foo</code>", "(", "a", "reference", ")", "and", "call", "<code>getAddress()</code>", "on", "the", "object", "that", "that", "reference", "refers", "to", ".", "The", "result", "might", "be", "a", "<code>String</code>", "reference", "...", "we", "then", "call", "<code>getLength()</code>", "on", "the", "object", "that", "reference", "refers", "to", "."], "answer_id": 32010236, "question_id": 32010172}, {"tokens": ["#p", "new", "Dog", "(", ")", "will", "instantiate", "an", "object", "Dog", "ie", ")", "it", "will", "create", "a", "memory", "for", "the", "object", ".", "You", "need", "to", "access", "the", "variable", "to", "manipulate", "some", "operations", ".", "For", "that", "you", "need", "an", "reference", "that", "is", "Dog", "myDog", ".", "If", "you", "try", "to", "print", "the", "object", "it", "will", "print", "an", "non", "readable", "value", "which", "is", "nothing", "but", "the", "address", ".", "#pre"], "answer_id": 32010239, "question_id": 32010172}, {"tokens": ["#p", "I", "often", "use", "the", "following", "analogy", "when", "explaining", "these", "concepts", "."], "answer_id": 32011685, "question_id": 32010172}, {"tokens": ["#p", "You", "can", "think", "of", "it", "like", "a", "answering", "questions", ".", "#p", "#p", "#p", "Now", "for", "programming", "'s", "sake", ",", "examples", "in", "a", "C++", "way", "#pre", "#p", "That", "is", "to", "say", ",", "Ana", "is", "a", "person", ",", "but", "she", "has", "unique", "properties", "that", "distinguishes", "her", "from", "another", "person", ".", "#pre", "#p", "<code>Ana</code>", "itself", "is", "the", "variable", "for", "storing", "the", "properties", "of", "the", "person", "named", "``", "Ana", "''"], "answer_id": 32013566, "question_id": 32010172}, {"tokens": ["#p", "Jon", "'s", "answer", "is", "great", "for", "approaching", "it", "from", "analogy", ".", "If", "a", "more", "concrete", "wording", "is", "useful", "for", "you", ",", "I", "can", "pitch", "in", ".", "#p", "Let", "'s", "start", "with", "a", "variable", ".", "A", "variable", "is", "a", "[", "named", "]", "thing", "which", "contains", "a", "value", ".", "For", "instance", ",", "<code>int x = 3</code>", "defines", "a", "variable", "named", "x", ",", "which", "contains", "the", "integer", "3", ".", "If", "I", "then", "follow", "it", "up", "with", "an", "assignment", ",", "<code>x=4</code>", ",", "x", "now", "contains", "the", "integer", "4", ".", "The", "key", "thing", "is", "that", "we", "did", "n't", "replace", "the", "variable", ".", "We", "do", "n't", "have", "a", "new", "``", "variable", "x", "whose", "value", "is", "now", "4", ",", "''", "we", "merely", "replaced", "the", "value", "of", "x", "with", "a", "new", "value", ".", "#p", "Now", "let", "'s", "move", "to", "objects", ".", "Objects", "are", "useful", "because", "often", "you", "need", "one", "``", "thing", "''", "to", "be", "referenced", "from", "many", "places", ".", "For", "example", ",", "if", "you", "have", "a", "document", "open", "in", "an", "editor", "and", "want", "to", "send", "it", "to", "the", "printer", ",", "it", "'d", "be", "nice", "to", "only", "have", "one", "document", ",", "referenced", "both", "by", "the", "editor", "and", "the", "printer", ".", "That", "'d", "save", "you", "having", "to", "copy", "it", "more", "times", "than", "you", "might", "want", ".", "#p", "However", ",", "because", "you", "do", "n't", "want", "to", "copy", "it", "more", "than", "once", ",", "we", "ca", "n't", "just", "put", "an", "object", "in", "a", "variable", ".", "Variables", "hold", "onto", "a", "value", ",", "so", "if", "two", "variables", "held", "onto", "an", "object", ",", "they", "'d", "have", "to", "make", "two", "copies", ",", "one", "for", "each", "variable", ".", "References", "are", "the", "go-between", "that", "resolves", "this", ".", "References", "are", "small", ",", "easily", "copied", "values", "which", "can", "be", "stored", "in", "variables", ".", "#p", "So", ",", "in", "code", ",", "when", "you", "type", "<code>Dog dog = new Dog()</code>", ",", "the", "new", "operator", "creates", "a", "new", "Dog", "Object", ",", "and", "returns", "a", "Reference", "to", "that", "object", ",", "so", "that", "it", "can", "be", "assigned", "to", "a", "variable", ".", "The", "assignment", "then", "gives", "<code>dog</code>", "the", "value", "of", "a", "Reference", "to", "your", "newly", "created", "Object", "."], "answer_id": 32019015, "question_id": 32010172}, {"tokens": ["#p", "As", "I", "recall", ",", "before", "Java", "8", ",", "the", "default", "capacity", "of", "<code>ArrayList</code>", "was", "10", ".", "#p", "Surprisingly", ",", "the", "comment", "on", "the", "default", "(", "void", ")", "constructor", "still", "says", ":", "<code>Constructs an empty list with an initial capacity of ten.</code>", "#p", "From", "<code>ArrayList.java</code>", ":", "#pre"], "answer_count": 4, "question_id": 34250207}, {"tokens": ["#p", "Technically", ",", "it", "'s", "<code>10</code>", ",", "not", "zero", ",", "if", "you", "admit", "for", "a", "lazy", "initialisation", "of", "the", "backing", "array", ".", "See", ":", "#pre", "#p", "where", "#pre", "#p", "What", "you", "'re", "referring", "to", "is", "just", "the", "zero-sized", "initial", "array", "object", "that", "is", "shared", "among", "all", "initially", "empty", "<code>ArrayList</code>", "objects", ".", "I.e", ".", "the", "capacity", "of", "<code>10</code>", "is", "guaranteed", ",", "an", "optimisation", "that", "is", "present", "also", "in", "Java", "7", ".", "#p", "Admittedly", ",", "the", "constructor", "contract", "is", "not", "entirely", "accurate", ".", "Perhaps", "this", "is", "the", "source", "of", "confusion", "here", ".", "#p", "Here", "'s", "an", "E-Mail", "by", "Mike", "Duigou", "#blockquote"], "answer_id": 34250231, "question_id": 34250207}, {"tokens": ["#p", "The", "question", "is", "'why", "?", "'", ".", "#p", "Memory", "profiling", "inspections", "(", "for", "example", "(", "https", ":", "//www.yourkit.com/docs/java/help/inspections_mem.jsp", "#", "sparse_arrays", ")", "shows", "that", "empty", "(", "filled", "with", "nulls", ")", "arrays", "occupy", "tons", "of", "memory", ".", "#p", "Default", "size", "of", "10", "objects", "means", "that", "we", "allocate", "10", "pointers", "(", "40", "or", "80", "bytes", ")", "for", "underlying", "array", "at", "creation", "and", "fill", "them", "in", "with", "nulls", ".", "Real", "java", "applications", "create", "millions", "of", "array", "lists", ".", "#p", "The", "introduced", "modification", "removes^W", "postpone", "this", "memory", "consumption", "till", "moment", "you", "will", "actually", "use", "the", "array", "list", "."], "answer_id": 34250630, "question_id": 34250207}, {"tokens": ["#p", "If", "the", "very", "first", "operation", "that", "is", "done", "with", "an", "ArrayList", "is", "to", "pass", "<code>addAll</code>", "a", "collection", "which", "has", "more", "than", "ten", "elements", ",", "then", "any", "effort", "put", "into", "creating", "an", "initial", "ten-element", "array", "to", "hold", "the", "ArrayList", "'s", "contents", "would", "be", "thrown", "out", "the", "window", ".", "Whenever", "something", "is", "added", "to", "an", "ArrayList", "it", "'s", "necessary", "to", "test", "whether", "the", "size", "of", "the", "resulting", "list", "will", "exceed", "the", "size", "of", "the", "backing", "store", ";", "allowing", "the", "initial", "backing", "store", "to", "have", "size", "zero", "rather", "than", "ten", "will", "cause", "this", "test", "to", "fail", "one", "extra", "time", "in", "the", "lifetime", "of", "a", "list", "whose", "first", "operation", "is", "an", "``", "add", "''", "which", "would", "require", "creating", "the", "initial", "ten-item", "array", ",", "but", "that", "cost", "is", "less", "than", "the", "cost", "of", "creating", "a", "ten-item", "array", "that", "never", "ends", "up", "getting", "used", ".", "#p", "That", "having", "been", "said", ",", "it", "might", "have", "been", "possible", "to", "improve", "performance", "further", "in", "some", "contexts", "if", "there", "were", "a", "overload", "of", "``", "addAll", "''", "which", "specified", "how", "many", "items", "(", "if", "any", ")", "would", "likely", "be", "added", "to", "the", "list", "after", "the", "present", "one", ",", "and", "which", "could", "use", "that", "to", "influence", "its", "allocation", "behavior", ".", "In", "some", "cases", "code", "which", "adds", "the", "last", "few", "items", "to", "a", "list", "will", "have", "a", "pretty", "good", "idea", "that", "the", "list", "is", "never", "going", "to", "need", "any", "space", "beyond", "that", ".", "There", "are", "many", "situations", "where", "a", "list", "will", "get", "populated", "once", "and", "never", "modified", "after", "that", ".", "If", "at", "the", "point", "code", "knows", "that", "the", "ultimate", "size", "of", "a", "list", "will", "be", "170", "elements", ",", "it", "has", "150", "elements", "and", "a", "backing", "store", "of", "size", "160", ",", "growing", "the", "backing", "store", "to", "size", "320", "will", "be", "unhelpful", "and", "leaving", "it", "at", "size", "320", "or", "trimming", "it", "to", "170", "will", "be", "less", "efficient", "than", "simply", "having", "the", "next", "allocation", "grow", "it", "to", "170", "."], "answer_id": 34256637, "question_id": 34250207}, {"tokens": ["#p", "After", "the", "above", "question", "I", "gone", "through", "ArrayList", "Document", "of", "Java", "8", ".", "I", "found", "the", "default", "size", "is", "still", "10", "only", ".", "#p"], "answer_id": 38659043, "question_id": 34250207}, {"tokens": ["#p", "Some", "may", "find", "it", "similar", "to", "the", "SO", "question", "Will", "Java", "Final", "variables", "have", "default", "values", "?", "but", "that", "answer", "does", "n't", "completely", "solve", "this", ",", "as", "that", "question", "does", "n't", "directly", "print", "the", "value", "of", "x", "within", "instance", "initializer", "block", ".", "#p", "The", "problem", "arises", "when", "I", "try", "to", "print", "x", "directly", "inside", "the", "instance", "initializer", "block", ",", "while", "having", "assigned", "a", "value", "to", "x", "before", "the", "end", "of", "the", "block", ":", "#pre", "#p", "This", "gives", "a", "compile", "time", "error", "stating", "that", "variable", "x", "might", "not", "have", "been", "initialized", ".", "#pre", "#p", "Instead", "of", "directly", "printing", ",", "I", "am", "calling", "a", "function", "to", "print", ":", "#pre", "#p", "This", "compiles", "correctly", "and", "gives", "output", "#pre", "#p", "What", "is", "the", "conceptual", "difference", "between", "the", "two", "cases", "?"], "answer_count": 6, "question_id": 33995384}, {"tokens": ["#p", "#p", "Gives", "you", "a", "compile-error", ",", "#p", "Because", "at", "<code>System.out.println(x);</code>", "#blockquote", "#p", "#p", "Works", "because", "you", "are", "not", "directly", "using", "any", "literal", "values", ",", "instead", "you", "are", "calling", "some", "method", ",", "which", "is", "correct", ".", "#p", "#blockquote"], "answer_id": 33995550, "question_id": 33995384}, {"tokens": ["#p", "The", "difference", "is", "that", "in", "the", "first", "case", "you", "are", "calling", "<code>System.out.println</code>", "from", "so", "the", "block", "which", "is", "invoked", "before", "constructor", ".", "In", "the", "first", "line", "#pre", "#p", "variable", "<code>x</code>", "is", "not", "yet", "initialized", "so", "that", "you", "get", "compilation", "error", ".", "#p", "But", "in", "the", "second", "case", "you", "call", "instance", "method", "which", "does", "n't", "know", "if", "variable", "has", "already", "been", "initialized", "so", "you", "do", "n't", "have", "compilation", "error", "and", "you", "can", "see", "the", "default", "value", "for", "<code>x</code>"], "answer_id": 33995656, "question_id": 33995384}, {"tokens": ["#p", "Ok", ",", "here", "is", "my", "2", "cents", ".", "#p", "We", "all", "know", "that", "final", "variables", "can", "be", "initialized", "only", "While", "declaring", "or", "later", "on", "in", "constructors", ".", "Keeping", "that", "fact", "in", "mind", ",", "let", "see", "what", "happened", "here", "so", "far", ".", "#p", "#blockquote", "#pre", "#p", "#blockquote", "#p", "If", "you", "look", "at", "the", "<code>docs of initialization  block</code>", "#pre", "#p", "and", "#blockquote", "#p", "In", "compiler", "'s", "eye", ",", "your", "code", "is", "literally", "equals", "to", "#pre", "#p", "You", "are", "using", "it", "before", "even", "initializing", "it", "."], "answer_id": 33995753, "question_id": 33995384}, {"tokens": ["#p", "Reading", "the", "JLS", ",", "the", "answer", "appears", "to", "be", "in", "section", "16.2.2", ":", "#blockquote", "#p", "This", "means", "that", "when", "a", "method", "is", "called", ",", "the", "final", "field", "is", "assigned", "to", "its", "default", "value", "0", "before", "invoking", "it", ",", "so", "when", "you", "reference", "it", "inside", "the", "method", ",", "it", "compiles", "successfully", "and", "prints", "the", "value", "0", ".", "#p", "However", ",", "when", "you", "access", "the", "field", "outside", "of", "a", "method", ",", "it", "is", "considered", "unassigned", ",", "hence", "the", "compilation", "error", ".", "The", "following", "code", "will", "also", "not", "compile", ":", "#pre", "#p", "because", ":", "#blockquote", "#p", "Since", "the", "final", "field", "<code>x</code>", "is", "unassigned", "before", "the", "method", "invocation", ",", "it", "is", "still", "unassigned", "after", "it", ".", "#p", "This", "note", "in", "the", "JLS", "is", "also", "relevant", ":", "#blockquote"], "answer_id": 33995804, "question_id": 33995384}, {"tokens": ["#p", "In", "the", "JLS", ",", "\u00a78.3.3", ".", "Forward", "References", "During", "Field", "Initialization", ",", "its", "stated", "that", "there", "'s", "a", "compile-time", "error", "when", ":", "#blockquote", "#p", "The", "following", "rules", "come", "with", "a", "few", "examples", ",", "of", "which", "the", "closest", "to", "yours", "is", "this", "one", ":", "#pre", "#p", "Accesses", "[", "to", "static", "or", "instance", "variables", "]", "by", ",", "so", "the", "code", "above", "produces", "output", "<code>0</code>", ",", "because", "the", "variable", "initializer", "for", "<code>i</code>", "uses", "the", "class", "method", "<code>peek()</code>", "to", "access", "the", "value", "of", "the", "variable", "<code>j</code>", "before", "<code>j</code>", "has", "been", "initialized", "by", "its", "variable", "initializer", ",", "at", "which", "point", "it", "still", "has", "its", "default", "value", "(", "\u00a74.12.5", "Initial", "Values", "of", "Variables", ")", ".", "#p", "So", ",", "to", "summarize", ",", "your", "second", "example", "compiles", "and", "executes", "fine", ",", "because", "the", "compiler", "does", "not", "check", "if", "the", "<code>x</code>", "variable", "was", "already", "initialized", "when", "you", "invoke", "<code>printX()</code>", "and", "when", "<code>printX()</code>", "actually", "takes", "place", "at", "Runtime", ",", "the", "<code>x</code>", "variable", "will", "be", "assigned", "with", "its", "default", "value", "(", "<code>0</code>", ")", "."], "answer_id": 33995839, "question_id": 33995384}, {"tokens": ["#p", "We", "deal", "here", "with", "initializer", "block", ".", "The", "Java", "compiler", "copies", "initializer", "blocks", "into", "every", "constructor", ".", "#p", "The", "compiler", "error", "do", "n't", "occure", "in", "second", "example", ",", "because", "printing", "x", "is", "in", "another", "Frame", ",", "please", "refer", "to", "spec", "."], "answer_id": 33995878, "question_id": 33995384}, {"tokens": ["#p", "I", "found", "the", "following", "Java", "code", ".", "#pre", "#p", "where", "<code>result</code>", "and", "<code>parts</code>", "are", "<code>double[]</code>", ".", "#p", "I", "know", "basic", "operations", "on", "primitive", "types", "are", "thread-safe", ",", "but", "I", "am", "not", "sure", "about", "<code>+=</code>", ".", "If", "the", "above", "<code>synchronized</code>", "is", "necessary", ",", "is", "there", "maybe", "a", "better", "class", "to", "handle", "such", "operation", "?"], "answer_count": 4, "question_id": 32676771}, {"tokens": ["#p", "Even", "the", "normal", "'double", "'", "data", "type", "is", "not", "thread-safe", "(", "because", "it", "is", "not", "atomic", ")", "in", "32-bit", "JVMs", "as", "it", "takes", "eight", "bytes", "in", "Java", "(", "which", "involves", "2*32", "bit", "operations", ")", "."], "answer_id": 32676798, "question_id": 32676771}, {"tokens": ["#p", "No", ".", "The", "<code>+=</code>", "operation", "is", "not", "thread-safe", ".", "It", "requires", "locking", "and", "/", "or", "a", "proper", "chain", "of", "``", "happens-before", "''", "relationships", "for", "any", "expression", "involving", "assignment", "to", "a", "shared", "field", "or", "array", "element", "to", "be", "thread-safe", ".", "#p", "(", "With", "a", "field", "declared", "as", "<code>volatile</code>", ",", "the", "``", "happens-before", "''", "relationships", "exist", "...", "but", "only", "on", "read", "and", "write", "operations", ".", "The", "<code>+=</code>", "operation", "consists", "of", "a", "read", "and", "a", "write", ".", "These", "are", "individually", "atomic", ",", "but", "the", "sequence", "is", "n't", ".", "And", "most", "assignment", "expressions", "using", "<code>=</code>", "involve", "both", "one", "or", "more", "reads", "(", "on", "the", "right", "hand", "side", ")", "and", "a", "write", ".", "That", "is", "not", "atomic", "either", ".", ")", "#p", "For", "the", "complete", "story", ",", "read", "JLS", "17.4", "...", "or", "the", "relevant", "chapter", "of", "``", "Java", "Concurrency", "in", "Action", "''", "by", "Brian", "Goetz", "et", "al", ".", "#blockquote", "#p", "Actually", ",", "that", "is", "an", "incorrect", "premise", ":", "#li", "consider", "the", "case", "of", "arrays", "#li", "consider", "that", "expressions", "are", "typically", "composed", "of", "a", "sequence", "of", "operations", ",", "and", "that", "a", "sequence", "of", "atomic", "operations", "is", "not", "guaranteed", "to", "be", "atomic", "."], "answer_id": 32676836, "question_id": 32676771}, {"tokens": ["#p", "As", "it", "'s", "already", "explained", ",", "this", "code", "is", "not", "thread", "safe", ".", "One", "possible", "solution", "to", "avoid", "synchronization", "in", "Java-8", "is", "to", "use", "new", "<code>DoubleAdder</code>", "class", "which", "is", "capable", "to", "maintain", "the", "sum", "of", "double", "numbers", "in", "thread-safe", "manner", ".", "#p", "Create", "array", "of", "<code>DoubleAdder</code>", "objects", "before", "parallelizing", ":", "#pre", "#p", "Then", "accumulate", "the", "sum", "in", "parallel", "threads", "like", "this", ":", "#pre", "#p", "Finally", "get", "the", "result", "after", "parallel", "subtasks", "finished", ":", "#pre"], "answer_id": 32677362, "question_id": 32676771}, {"tokens": ["#p", "Despite", "of", "the", "fact", "that", "there", "is", "no", "<code>AtomicDouble</code>", "or", "<code>AtomicDoubleArray</code>", "in", "java", ",", "you", "can", "easily", "create", "your", "own", "based", "on", "<code>AtomicLongArray</code>", ".", "#pre", "#p", "As", "you", "can", "see", ",", "I", "use", "<code>Double.doubleToLongBits</code>", "and", "<code>Double.longBitsToDouble</code>", "to", "store", "<code>Doubles</code>", "as", "<code>Longs</code>", "in", "<code>AtomicLongArray</code>", ".", "They", "both", "have", "the", "same", "size", "in", "bits", ",", "so", "precision", "is", "not", "lost", "(", "except", "for", "-NaN", ",", "but", "I", "do", "n't", "think", "it", "is", "important", ")", ".", "#p", "In", "Java", "8", "the", "implementation", "of", "<code>add</code>", "can", "be", "even", "easier", ",", "as", "you", "can", "use", "<code>accumulateAndGet</code>", "method", "of", "<code>AtomicLongArray</code>", "that", "was", "added", "in", "java", "1.8", ".", "#p", ":", "It", "appears", "that", "I", "virtually", "re-implemented", "guava", "'s", "AtomicDoubleArray", "."], "answer_id": 32677400, "question_id": 32676771}, {"tokens": ["#p", "It", "has", "generally", "been", "the", "case", "the", "Java", "source", "code", "has", "been", "forward", "compatible", ".", "Until", "Java", "8", ",", "as", "far", "as", "I", "know", ",", "both", "compiled", "classes", "source", "have", "been", "forward", "compatible", "with", "later", "JDK/JVM", "releases", ".", "[", "Update", ":", "this", "is", "not", "correct", ",", "see", "comments", "re", "'enum", "'", ",", "etc", ",", "below", ".", "]", "However", ",", "with", "the", "addition", "of", "default", "methods", "in", "Java", "8", "this", "appears", "to", "no", "longer", "be", "the", "case", ".", "#p", "For", "example", ",", "a", "library", "I", "have", "been", "using", "has", "an", "implementation", "of", "<code>java.util.List</code>", "which", "includes", "a", "<code>List&lt;V&gt; sort()</code>", ".", "This", "method", "returns", "a", "copy", "of", "the", "contents", "of", "the", "list", "sorted", ".", "This", "library", ",", "deployed", "as", "a", "jar", "file", "dependency", ",", "worked", "fine", "in", "a", "project", "being", "built", "using", "JDK", "1.8", ".", "#p", "However", ",", "later", "I", "had", "occasion", "to", "recompile", "the", "library", "itself", "using", "JDK", "1.8", "and", "I", "found", "the", "library", "no", "longer", "compiles", ":", "the", "<code>List</code>", "-implementing", "class", "with", "its", "own", "<code>sort()</code>", "method", "now", "conflicts", "with", "the", "Java", "8", "<code>java.util.List.sort()</code>", "default", "method", ".", "The", "Java", "8", "<code>sort()</code>", "default", "method", "sorts", "the", "list", "in", "place", "(", "returns", "<code>void</code>", ")", ";", "my", "library", "'s", "<code>sort()</code>", "method", "-", "since", "it", "returns", "a", "new", "sorted", "list", "-", "has", "an", "incompatible", "signature", ".", "#p", "So", "my", "basic", "question", "is", ":", "#li", "Does", "n't", "JDK", "1.8", "introduce", "a", "forward", "incompatibility", "for", "Java", "source", "code", "due", "to", "default", "methods", "?", "#p", "Also", ":", "#li", "Is", "this", "the", "first", "such", "forward", "incompatible", "change", "?", "#li", "Was", "this", "considered", "or", "discussed", "when", "default", "methods", "where", "designed", "and", "implemented", "?", "Is", "it", "documented", "anywhere", "?", "#li", "Was", "the", "(", "admittedly", "small", ")", "inconvenience", "discounted", "versus", "the", "benefits", "?", "#p", "The", "following", "is", "an", "example", "of", "some", "code", "that", "compiles", "and", "runs", "under", "1.7", "and", "runs", "under", "1.8", "-", "but", "does", "not", "compile", "under", "1.8", ":", "#pre", "#p", "The", "following", "shows", "this", "code", "being", "compiled", "(", "or", "failing", "to", ")", "and", "being", "run", ".", "#pre"], "answer_count": 4, "question_id": 31188231}, {"tokens": ["#blockquote", "#p", "Yes", "as", "you", "'ve", "seen", "your", "self", ".", "#blockquote", "#p", "No", ".", "Java", "5", "<code>enum</code>", "keyword", "was", "also", "breaking", "because", "before", "that", "you", "could", "have", "variables", "named", "that", "which", "would", "no", "longer", "compile", "in", "Java", "5", "+", "#blockquote", "#p", "Yes", "Orcale", "Java", "8", "source", "incompatibility", "description", "#blockquote", "#p", "Yes"], "answer_id": 31188416, "question_id": 31188231}, {"tokens": ["#p", "#p", "Any", "new", "method", "in", "a", "superclass", "or", "interface", "can", "break", "compatibility", ".", "Default", "methods", "make", "it", "that", "a", "change", "in", "an", "interface", "will", "break", "compatibility", ".", "In", "the", "sense", "that", "default", "methods", "open", "the", "door", "to", "adding", "methods", "to", "interfaces", ",", "you", "could", "say", "that", "default", "methods", "may", "contribute", "to", "some", "broken", "compatibility", ".", "#p", "#p", "Almost", "certainly", "not", ",", "since", "we", "'ve", "been", "subclassing", "classes", "from", "the", "standard", "library", "since", "Java", "1.0", ".", "#p", "#p", "Yes", ",", "it", "was", "considered", ".", "See", "Brian", "Goetz", "'s", "August", "2010", "paper", "``", "Interface", "evolution", "via", "\u201cpublic", "defender\u201d", "methods", "''", ":", "#blockquote", "#p", "#p", "Before", ",", "changing", "an", "interface", "would", "break", "compatibility", ".", "Now", ",", "it", ".", "Going", "from", "'definitely", "'", "to", "'might", "'", "can", "be", "seen", "either", "positively", "or", "negatively", ".", "On", "the", "one", "hand", ",", "it", "makes", "it", "feasible", "to", "add", "methods", "to", "interfaces", ".", "On", "the", "other", "hand", ",", "it", "opens", "the", "door", "to", "the", "kind", "of", "incompatibility", "you", "saw", ",", "not", "just", "with", "classes", ",", "but", "with", "interfaces", "too", ".", "#p", "The", "benefits", "are", "larger", "than", "the", "inconveniences", ",", "though", ",", "as", "cited", "at", "the", "top", "of", "Goetz", "'s", "paper", ":", "#blockquote"], "answer_id": 31188698, "question_id": 31188231}, {"tokens": ["#p", "Ironically", "default", "methods", "in", "interfaces", "were", "introduced", "to", "allow", "existing", "libraries", "using", "those", "interfaces", "to", "break", ",", "while", "introducing", "massive", "functionality", "in", "the", "interfaces", ".", "(", "backward", "compatibility", ".", ")", "#p", "Conflicts", "like", "that", "<code>sort</code>", "method", "might", "arise", ".", "Something", "to", "pay", "for", "the", "extra", "functionality", ".", "In", "your", "case", "also", "something", "to", "investigate", "(", "should", "new", "functionality", "be", "used", "instead", "?", ")", ".", "#p", "Java", "forward", "compatibility", "breaks", "are", "little", ",", "more", "in", "its", "typing", "system", ",", "which", "was", "constantly", "enlarged", ".", "First", "with", "generic", "types", "and", "now", "with", "inferred", "types", "from", "functional", "interfaces", ".", "From", "version", "to", "version", "and", "from", "compiler", "to", "compiler", "there", "were", "slight", "differences", "."], "answer_id": 31188818, "question_id": 31188231}, {"tokens": ["#p", "We", "can", "draw", "a", "parallel", "with", "abstract", "class", ".", "An", "abstract", "class", "is", "intended", "to", "be", "subclassed", "so", "that", "the", "abstract", "methods", "can", "be", "implemented", ".", "The", "abstract", "class", "itself", "contains", "concrete", "methods", "that", "invoke", "the", "abstract", "methods", ".", "The", "abstract", "class", "is", "free", "to", "evolve", "by", "adding", "more", "concrete", "methods", ";", "and", "this", "practice", "may", "break", "subclasses", ".", "#p", "Therefore", "the", "exact", "problem", "you", "described", "existed", "even", "before", "Java8", ".", "The", "problem", "is", "much", "more", "manifested", "on", "Collection", "APIs", "because", "there", "are", "a", "lot", "of", "subclasses", "out", "in", "the", "wild", ".", "#p", "While", "the", "leading", "motivation", "of", "default", "method", "was", "to", "add", "some", "useful", "methods", "to", "existing", "Collection", "APIs", "without", "breaking", "subclasses", ",", "they", "had", "to", "exercise", "great", "self-control", "of", "doing", "it", "too", "much", ",", "for", "fear", "of", "breaking", "subclasses", ".", "A", "default", "method", "is", "added", "only", "if", "it", "'s", "absolutely", "necessary", ".", "The", "real", "question", "here", "is", ",", "why", "<code>List.sort</code>", "is", "considered", "absolutely", "necessary", ".", "I", "think", "that", "is", "debatable", ".", "#p", "Regardless", "of", "why", "default", "method", "was", "introduced", "in", "the", "1st", "place", ",", "it", "is", "now", "a", "great", "tool", "for", "API", "designers", ",", "and", "we", "ought", "to", "treat", "it", "the", "same", "as", "concrete", "methods", "in", "abstract", "classes", "-", "they", "need", "to", "be", "designed", "carefully", "up", "front", ";", "and", "new", "ones", "must", "be", "introduced", "with", "great", "caution", "."], "answer_id": 31190722, "question_id": 31188231}, {"tokens": ["#pre", "#p", "&", "both", "are", "pointing", "to", "the", "same", "String", "Literal", "in", "string", "constant", "pool", ".", "So", "<code>true</code>", "in", "case", "1", "#pre", "#p", "should", "be", "internally", "using", "something", "like", "-", "#pre", "#p", "How", "&", "are", "pointing", "to", "the", "same", "reference", "&", "not", "&", "?"], "answer_count": 7, "question_id": 34509566}, {"tokens": ["#p", "As", "you", "said", "internally", "the", "last", "concatenation", "is", "done", "to", "something", "similar", "to", "#pre", "#p", "the", "implementation", "of", "<code>toString()</code>", "of", "<code>StringBuilder</code>", ".", "Here", "is", "the", "implementation", ".", "#pre", "#p", "Comparing", "strings", "using", "<code>==</code>", "instead", "of", "<code>.equals()</code>", ".", "In", "this", "case", "object", "of", "type", ".", "#p", "The", "other", "concatenations", "are", "performed", "directly", "by", "the", "compiler", "so", "no", "new", "String", "is", "created", "."], "answer_id": 34509655, "question_id": 34509566}, {"tokens": ["#p", "Four", "things", "are", "going", "on", ":", "#li", "#p", "(", "You", "clearly", "know", "this", ",", "but", "for", "lurkers", ")", "<code>==</code>", "tests", "to", "see", "if", "the", "variables", "point", "to", "the", ",", "not", "strings", ".", "So", "even", "if", "<code>x</code>", "is", "<code>\"foo\"</code>", "and", "<code>y</code>", "is", "also", "<code>\"foo\"</code>", ",", "<code>x == y</code>", "may", "be", "true", "or", "false", ",", "depending", "on", "whether", "<code>x</code>", "and", "<code>y</code>", "refer", "to", "the", "same", "<code>String</code>", "object", "or", "different", "ones", ".", "That", "'s", "why", "we", "use", "<code>equals</code>", ",", "not", "<code>==</code>", ",", "to", "compare", "strings", "for", "equivalence", ".", "All", "of", "the", "following", "is", "just", "meant", "to", "explain", "why", "<code>==</code>", "is", "sometimes", "true", ",", "it", "'s", "not", "a", "suggestion", "to", "use", "<code>==</code>", "to", "compare", "strings", ".", ":", "-", ")", "#li", "#p", "Equivalent", "string", "constants", "(", "strings", "the", "compiler", "knows", "are", "constants", "according", "to", "various", "rules", "in", "the", "JLS", ")", "within", "the", "same", "class", "are", "made", "to", "refer", "to", "the", "same", "string", "by", "the", "compiler", "(", "which", "also", "lists", "them", "in", "the", "class", "'s", "``", "constant", "pool", "''", ")", ".", "That", "'s", "why", "<code>a == b</code>", "is", "true", ".", "#li", "#p", "When", "the", "class", "is", "loaded", ",", "each", "of", "its", "string", "constants", "is", "automatically", "\u2014", "the", "JVM", "'s", "string", "pool", "is", "checked", "for", "an", "equivalent", "string", "and", "if", "one", "is", "found", ",", "that", "<code>String</code>", "object", "is", "used", "(", "if", "not", ",", "the", "new", "<code>String</code>", "object", "for", "the", "new", "constant", "is", "added", "to", "the", "pool", ")", ".", "So", "even", "if", "<code>x</code>", "is", "a", "string", "constant", "initialized", "in", "class", "<code>Foo</code>", "and", "<code>y</code>", "is", "a", "string", "constant", "initialized", "in", "class", "<code>Bar</code>", ",", "they", "'ll", "be", "<code>==</code>", "each", "other", ".", "#p", "Points", "2", "and", "3", "above", "are", "covered", "in", "part", "by", "JLS\u00a73.10.5", ".", "(", "The", "bit", "about", "the", "class", "constant", "pool", "is", "a", "bit", "of", "an", "implementation", "detail", ",", "hence", "the", "link", "to", "the", "JVM", "spec", "earlier", ";", "the", "JLS", "just", "speaks", "of", "interning", ".", ")", "#li", "#p", "The", "compiler", "does", "string", "concatenation", "if", "it", "'s", "dealing", "with", "constant", "values", ",", "so", "#pre", "#p", "is", "compiled", "to", "#pre", "#p", "and", "<code>\"devender\"</code>", "is", "a", "string", "constant", "the", "compiler", "and", "JVM", "apply", "points", "2", "and", "3", "above", "to", ".", "E.g.", ",", "no", "<code>StringBuilder</code>", "is", "used", ",", "the", "concatenation", "happens", "at", ",", "not", "runtime", ".", "This", "is", "covered", "in", "JLS\u00a715.28", "-", ".", "So", "<code>a == d</code>", "is", "true", "for", "the", "same", "reason", "<code>a == b</code>", "is", "true", ":", "They", "refer", "to", "the", "same", "constant", "string", ",", "so", "the", "compiler", "ensured", "they", "were", "referring", "to", "the", "same", "string", "in", "the", "class", "'s", "constant", "pool", ".", "#p", "The", "compiler", "ca", "n't", "do", "that", "when", "any", "of", "the", "operands", "is", "not", "a", "constant", ",", "so", "it", "ca", "n't", "do", "that", "with", ":", "#pre", "#p", "...", "even", "though", "code", "analysis", "could", "easily", "show", "that", "the", "value", "of", "<code>c</code>", "will", "definitely", "be", "<code>\"dev\"</code>", "and", "thus", "<code>e</code>", "will", "definitely", "be", "<code>\"devender\"</code>", ".", "The", "specification", "only", "has", "the", "compiler", "do", "the", "concatenation", "with", "constant", "values", ",", "specifically", ".", "So", "since", "the", "compiler", "ca", "n't", "do", "it", ",", "it", "outputs", "the", "<code>StringBuilder</code>", "code", "you", "referred", "to", "and", "that", "work", "is", "done", "at", "runtime", ",", "creating", "a", "new", "<code>String</code>", "object", ".", "That", "string", "is", "n't", "automatically", "interned", ",", "so", "<code>e</code>", "ends", "up", "referring", "to", "a", "different", "<code>String</code>", "object", "than", "<code>a</code>", "does", ",", "and", "so", "<code>a == e</code>", "is", "false", ".", "#p", "Note", "that", "as", "Vinod", "said", ",", "if", "you", "declared", "<code>c</code>", "as", "<code>final</code>", ":", "#pre", "#p", "Then", "it", "would", "be", "a", "(", "yes", ",", "they", "'re", "really", "called", "that", ")", "and", "so", "\u00a715.28", "would", "apply", "and", "the", "compiler", "would", "turn", "#pre", "#p", "into", "#pre", "#p", "and", "<code>a == e</code>", "would", "also", "be", "true", ".", "#p", "Just", "to", "reiterate", ":", "None", "of", "which", "means", "we", "should", "use", "<code>==</code>", "to", "compare", "strings", "for", "equivalence", ".", ":", "-", ")", "That", "'s", "what", "<code>equals</code>", "is", "for", "."], "answer_id": 34509659, "question_id": 34509566}, {"tokens": ["#p", "<code>\"dev\" + \"ender\"</code>", "is", "a", "compile-time", "evaluable", "constant", "expression", ":", "both", "arguments", "are", "string", "literals", ".", "The", "expression", "is", "therefore", "<code>\"devender\"</code>", ".", "#p", "The", "same", "can", "not", "be", "said", "for", "<code>c + \"ender\"</code>", ":", "certain", "circumstances", "(", "some", "code", "running", "on", "a", "different", "thread", "for", "example", ")", "could", "lead", "to", "<code>c</code>", "being", "set", "to", "a", "different", "value", ".", "Qualifying", "<code>c</code>", "as", "<code>final</code>", "obviates", "this", "possibility", ",", "and", "in", "that", "case", "<code>e</code>", "would", "also", "refer", "to", "the", "same", "object", "as", "<code>a</code>", ".", "#p", "So", "<code>a</code>", ",", "<code>b</code>", ",", "and", "<code>d</code>", "all", "refer", "to", "the", "same", "object", "."], "answer_id": 34509663, "question_id": 34509566}, {"tokens": ["#p", "The", "difference", "between", "<code>d</code>", "and", "<code>e</code>", "is", "that", "when", "you", "concatenate", "string", ",", "the", "concatenation", "is", "performed", "at", "compile", "time", ".", "Java", "compiler", "treats", "<code>\"dev\" + \"ender\"</code>", "expression", "in", "the", "same", "way", "as", "<code>\"devender\"</code>", "expression", ",", "producing", "the", "same", "literal", "at", "compile", "time", ".", "Since", "all", "<code>String</code>", "literals", "get", "interned", ",", "<code>d</code>", ",", "which", "is", "a", "result", "of", "<code>\"dev\" + \"ender\"</code>", ",", "also", "ends", "up", "referencing", "the", "same", "object", "as", "<code>a</code>", "and", "<code>b</code>", "'s", "<code>\"devender\"</code>", ".", "#p", "The", "expression", "for", "<code>e</code>", ",", "which", "is", "<code>c + \"ender\"</code>", ",", "is", "evaluated", "at", ".", "Even", "though", "it", "produces", "the", "same", "string", ",", "this", "fact", "is", "not", "used", "by", "the", "compiler", ".", "That", "'s", "why", "a", "different", "<code>String</code>", "object", "is", "produced", ",", "resulting", "in", "failed", "comparison", "on", "<code>==</code>", "."], "answer_id": 34509669, "question_id": 34509566}, {"tokens": ["#p", "The", "compiler", "does", "a", "lot", "of", "optimisation", "under", "the", "hood", ".", "#blockquote", "#p", "Here", "the", "compiler", "will", "replace", "<code>\"dev\" + \"ender\"</code>", "with", "<code>\"devender\"</code>", "when", "the", "program", "is", "being", "compiled", ".", "If", "you", "are", "adding", "2", "literals", "(", "this", "applies", "to", "both", "primitives", "as", "well", "as", "Strings", ")", ",", "the", "compiler", "does", "this", "optimisation", ".", "#p", "Java", "code", ":", "#pre", "#p", "Byte", "code", ":", "#pre", "#p", "Coming", "to", "a", "special", "case", ":", "#blockquote", "#p", "Making", "<code>c</code>", "final", "will", "make", "the", "String", "a", ".", "The", "compiler", "will", "realize", "that", "the", "value", "of", "<code>c</code>", "can", "not", "change", "and", "hence", "will", "replace", "all", "occurances", "of", "<code>c</code>", "with", "the", "value", "``", "dev", "''", "when", "compiling", ",", "thus", "<code>e</code>", "will", "be", "resolved", "during", "itself", "."], "answer_id": 34509671, "question_id": 34509566}, {"tokens": ["#p", "String", "d", "=", "``", "dev", "''", "+", "``", "ender", "''", ";", "constant", "+", "constant", ",", "\u2018d\u2019", "is", "still", "a", "constant", "(", "the", "same", "one", ")", ",", "so", "(", "a", "==", "d", ")", "is", "true", ";", "#p", "String", "e", "=", "c", "+", "``", "ender", "''", ";", "variable", "+", "constant", ",", "the", "result", "'e", "'", "is", "a", "variable", ",", "it", "will", "use", "StringBuilder", "internally", ",", "and", "create", "a", "new", "reference", "."], "answer_id": 34509933, "question_id": 34509566}, {"tokens": ["#p", "Keep", "in", "mind", "that", "Java", "holds", "a", "pool", "of", "all", "string", "literals", "found", "in", "program", ",", "used", "for", "matching", "purposes", "among", "others", ",", "so", "any", "different", "string", "concatenation", "above", "will", "lead", "to", "the", "same", "object", ",", "to", "the", "same", "string", "literal", ".", "You", "can", "check", "out", "this", "useful", "article", "for", "more", ".", "#p", "On", "the", "other", "hand", ",", "the", "concatenation", "of", "a", "<code>String</code>", "object", "and", "a", "literal", "(", "case", "<code>c + \"ender\"</code>", ")", "will", "lead", "to", "the", "creation", "of", "a", "as", "<code>StringBuilder</code>", "object", "at", "runtime", ",", "different", "to", "the", "literals", "found", "in", "pool", "."], "answer_id": 34529067, "question_id": 34509566}, {"tokens": ["#p", "This", "is", "not", "really", "a", "question", ",", "however", ",", "I", "would", "like", "to", "share", "some", "of", "my", "working", "code", "here", "for", "your", "reference", "when", "you", "need", ".", "#p", "As", "we", "know", "that", "<code>HttpEntity</code>", "is", "deprecated", "from", "API22", "and", "comletely", "removed", "since", "API23", ".", "At", "the", "moment", ",", "we", "can", "not", "access", "HttpEntity", "Reference", "on", "Android", "Developer", "anymore", "(", "404", ")", ".", "So", ",", "the", "following", "is", "my", "working", "sample", "code", "for", ".", "It", "'s", "working", ",", "tested", "with", "<code>Asp.Net Web API</code>", ".", "Of", "course", ",", "the", "code", "perhaps", "is", "just", "a", "basic", "sample", "that", "posts", "two", "existed", "drawable", "files", ",", "also", "is", "not", "the", "best", "solution", "for", "all", "cases", ",", "and", "not", "good", "tuning", ".", "#p", "Any", "suggestions", "for", "better", "/", "more", "beautiful", "code", "will", "be", "appreciated", ".", "#p", "Hope", "this", "helps", "!", "#p", "#pre", "#p", "#pre", "#p", "#p", "For", "text", "part", ",", "please", "refer", "to", "@", "RacZo", "'s", "answer", "below", "."], "answer_count": 2, "question_id": 32240177}, {"tokens": ["#p", "Nice", "answer", "@", "BNK", "!", "#p", "Just", "want", "to", "add", "to", "the", "answer", "...", "I", "was", "trying", "to", "figure", "how", "to", "append", "text", "fields", "to", "the", "body", "and", "created", "the", "following", "function", "to", "do", "it", ":", "#pre", "#p", "It", "is", "working", "pretty", "well", ",", "so", "I", "hope", "it", "helps", "."], "answer_id": 32704606, "question_id": 32240177}, {"tokens": ["#p", "I", "rewrite", "your", "code", "@", "RacZo", "and", "@", "BNK", "more", "modular", "and", "easy", "to", "use", "like", "#pre", "#p", "Check", "full", "of", "code", "<code>VolleyMultipartRequest</code>", "at", "my", "gist", "."], "answer_id": 36891462, "question_id": 32240177}, {"tokens": ["#p", "I", "am", "using", "JDK-8", "(", "x64", ")", ".", "For", "<code>Arrays.sort</code>", "I", "found", "the", "following", "in", "the", "Java", "documentation", ":", "#blockquote", "#p", "For", "<code>Collections.sort</code>", "I", "found", "this", ":", "#blockquote", "#p", "If", "<code>Collections.sort</code>", "uses", "an", "array", ",", "why", "does", "n't", "it", "just", "call", "<code>Arrays.sort</code>", "or", "use", "dual-pivot", "?", "Why", "use", "?"], "answer_count": 5, "question_id": 32334319}, {"tokens": ["#p", "I", "do", "n't", "know", "about", "the", "documentation", ",", "but", "the", "implementation", "of", "<code>java.util.Collections#sort</code>", "in", "Java", "8", "(", "HotSpot", ")", "goes", "like", "this", ":", "#pre", "#p", "And", "<code>List#sort</code>", "has", "this", "implementation", ":", "#pre", "#p", "So", ",", "in", "the", "end", ",", "<code>Collections#sort</code>", "uses", "<code>Arrays#sort</code>", "(", "of", "object", "elements", ")", "behind", "the", "scenes", ".", "This", "implementation", "uses", "merge", "sort", "or", "tim", "sort", "."], "answer_id": 32334442, "question_id": 32334319}, {"tokens": ["#p", "According", "to", "the", "Javadoc", ",", "only", "primitive", "arrays", "are", "sorted", "using", "Quicksort", ".", "Object", "arrays", "are", "sorted", "with", "a", "Mergesort", "as", "well", ".", "#p", "So", "Collections.sort", "seems", "to", "use", "the", "same", "sorting", "algorithm", "as", "Arrays.sort", "for", "Objects", ".", "#p", "Another", "question", "would", "be", "why", "a", "different", "sort", "algorithm", "is", "used", "for", "primitive", "arrays", "than", "for", "Object", "arrays", "?"], "answer_id": 32334449, "question_id": 32334319}, {"tokens": ["#p", "The", "API", "guarantees", "a", "sorting", "which", "Quicksort", "doesn\u2019t", "offer", ".", "However", ",", "when", "sorting", "by", "their", "natural", "order", "you", "won\u2019t", "notice", "a", "difference", "as", "primitive", "values", "have", "no", "identity", ".", "Therefore", ",", "Quicksort", "is", "used", "for", "primitive", "arrays", "as", "it", "is", "slightly", "more", "efficient", ".", "#p", "For", "objects", "you", "may", "notice", ",", "when", "objects", "which", "are", "deemed", "equal", "according", "to", "their", "<code>equals</code>", "implementation", "or", "the", "provided", "<code>Comparator</code>", "change", "their", "order", ".", "Therefore", ",", "Quicksort", "is", "not", "an", "option", ".", "So", "a", "variant", "of", "MergeSort", "is", "used", ",", "the", "current", "Java", "versions", "use", ".", "This", "applies", "to", "both", ",", "<code>Arrays.sort</code>", "and", "<code>Collections.sort</code>", ",", "though", "with", "Java", "8", ",", "the", "<code>List</code>", "itself", "may", "override", "the", "sort", "algorithms", "."], "answer_id": 32334651, "question_id": 32334319}, {"tokens": ["#p", "As", "stated", "across", "many", "of", "the", "answers", ".", "#p", "The", "Quicksort", "is", "used", "by", "Arrays.sort", "for", "sorting", "primitive", "collections", "because", "stability", "is", "n't", "required", "(", "you", "wo", "n't", "know", "or", "care", "if", "two", "identical", "ints", "were", "swapped", "in", "the", "sort", ")", "#p", "MergeSort", "or", "more", "specifically", "Timsort", "is", "used", "by", "Arrays.sort", "for", "sorting", "collections", "of", "objects", ".", "Stability", "is", "required", ".", "Quicksort", "does", "not", "provide", "for", "stability", ",", "Timsort", "does", ".", "#p", "Collections.sort", "delegates", "to", "Arrays.sort", "which", "is", "why", "you", "see", "the", "javadoc", "referencing", "the", "MergeSort", "."], "answer_id": 39380442, "question_id": 32334319}, {"tokens": ["#p", "Quick", "Sort", "has", "two", "major", "drawbacks", "when", "it", "comes", "to", "merge", "sort", ":", "#li", "It", "'s", "not", "stable", "while", "it", "comes", "to", "non", "primitive", ".", "#li", "It", "does", "n't", "guarantee", "n", "log", "n", "performance", ".", "#p", "Stability", "is", "a", "non-issue", "for", "primitive", "types", ",", "as", "there", "is", "no", "notion", "of", "identity", "as", "distinct", "from", "(", "value", ")", "equality", ".", "#p", "Stability", "is", "a", "big", "deal", "when", "sorting", "arbitrary", "objects", ".", "It", "'s", "a", "nice", "side", "benefit", "that", "Merge", "Sort", "guarantees", "n", "log", "n", "(", "time", ")", "performance", "no", "matter", "what", "the", "input", ".", "That", "'s", "why", "merge", "sort", "is", "selected", "to", "provide", "a", "stable", "sort", "(", "Merge", "Sort", ")", "to", "sort", "object", "references", "."], "answer_id": 39437426, "question_id": 32334319}, {"tokens": ["#p", "I", "really", "got", "an", "'overflow", "'", "trying", "to", "make", "these", "things", "to", "work", "together", ".", "I", "followed", "instruction", "from", "here", ":", "http", ":", "//docs.sonarqube.org/display/PLUG/Android+Lint+Plugin", "and", "finally", "got", "a", "SonarQube", "5.1.1", "server", "with", "Android", "Lint", "plugin", "1.1", "installed", ".", "Then", "I", "configured", "my", "multi-module", "Gradle", "build", "to", "work", "with", "SonarQube", "plugin", ":", "see", "code", "fragment", "from", "root", "config", "below", ".", "#pre", "#p", "And", "after", "that", "I", "ran", "<code>lint sonarqube</code>", "task", "to", "execute", "the", "analysis", ".", "As", "a", "result", "I", "got", "a", "bulk", "of", "Lint", "errors", "regarding", "'retrolambda", "'", "project", "(", "<code>java.lang.UnsupportedOperationException: Unknown ASTNode child: LambdaExpression</code>", ")", ",", "which", "is", "quite", "normal", ",", "and", "<code>lint-results.xml</code>", "(", "accompanied", "with", "HTML", "version", ")", "files", "per", "each", "module", "containing", "descriptions", "of", "issues", "discovered", ".", "The", "report", "said", "that", "there", "were", "8", "errors", "and", "434", "warnings", "found", ".", "But", "things", "went", "wrong", "when", "sonarqube", "plugin", "tried", "to", "upload", "the", "results", "to", "SonarQube", "server", ".", "The", "log", "was", "full", "of", "'Unable", "to", "find", "file", "'", "and", "'Unable", "to", "find", "rule", "'", "messages", ".", "And", "when", "the", "processing", "was", "over", ",", "then", "there", "were", "no", "issues", "reported", "for", "my", "project", "on", "SonarQube", "server", ".", "#p", "And", "I", "am", "wondering", ",", "what", "did", "went", "wrong", "?", "I", "checked", "the", "paths", ",", "and", "all", "files", "were", "there", ".", "I", "looked", "through", "all", "discussions", "I", "could", "reach", ",", "and", "it", "seems", "like", "my", "config", "is", "correct", "and", "I", "do", "everything", "right", ".", "Does", "anybody", "have", "any", "clue", ",", "what", "I", "missed", "and", "what", "needs", "to", "be", "checked", "?", "Any", "suggestions", "or", "ideas", "are", "welcome", ".", "#p", "I", "will", "be", "also", "happy", "if", "there", "is", "a", "way", "to", "import", "lint", "data", "using", "external", "SonarQube", "Runner", ",", "since", "this", "tool", "seems", "to", "be", "more", "predictable", "and", "stable", "then", "a", "Gradle", "plugin", "."], "answer_count": 2, "question_id": 31969440}, {"tokens": ["#p", "Your", "gradle", "settings", "seems", "fine", ",", "have", "you", "installed", "Android", "plugin", "on", "SonarQube", "server", ".", "#p", "I", "do", "n't", "see", "that", "step", "on", "your", "question", ",", "if", "not", "goto", "Settings-", ">", "System-", ">", "Update", "Center", "and", "install", "Android", "plugin", ".", "#p", "#p", "Once", "that", "is", "installed", "you", "need", "to", "restart", "your", "SonarQube", "server", "and", "rerun", "sonar-runner", "."], "answer_id": 32689067, "question_id": 31969440}, {"tokens": ["#p", "I", "had", "success", "with", "a", "multimodule", "android", "project", ".", "Since", "the", "complete", "build", "files", "take", "to", "much", "space", "I", "show", "the", "relevant", "parts", "here", "only", ".", "#p", "In", "the", "parent", "project", "'s", "build.gradle", "I", "set", ":", "#pre", "#p", "In", "the", "app", "project", "(", "and", "any", "other", "children", ")", "I", "set", ":", "#pre", "#p", "That", "was", "the", "minimum", "setup", "for", "sonarqube", "plugin", "to", "start", "analyzing", "the", "projects", "."], "answer_id": 33906027, "question_id": 31969440}, {"tokens": ["#p", "Exceptions", ",", "especially", "checked", "ones", ",", "can", "severely", "interrupt", "the", "flow", "of", "program", "logic", "when", "the", "FP", "idiom", "is", "used", "in", "Java", "8", ".", "Here", "is", "an", "arbitrary", "example", ":", "#pre", "#p", "The", "above", "code", "breaks", "when", "there", "'s", "an", "exception", "for", "an", "unparseable", "string", ".", "But", "say", "I", "just", "want", "to", "replace", "that", "with", "a", "default", "value", ",", "much", "like", "I", "can", "with", "<code>Optional</code>", ":", "#pre", "#p", "Of", "course", ",", "this", "still", "fails", "because", "<code>Optional</code>", "only", "handles", "<code>null</code>", "s.", "I", "would", "like", "something", "as", "follows", ":", "#pre"], "answer_count": 4, "question_id": 31270759}, {"tokens": ["#p", "Presented", "below", "is", "the", "full", "code", "of", "the", "<code>Exceptional</code>", "class", ".", "It", "has", "a", "quite", "large", "API", "which", "is", "a", "pure", "extension", "of", "the", "<code>Optional</code>", "API", "so", "it", "can", "be", "a", "drop-in", "replacement", "for", "it", "in", "any", "existing", "code\u2014except", "that", "it", "is", "n't", "a", "subtype", "of", "the", "final", "<code>Optional</code>", "class", ".", "The", "class", "can", "be", "seen", "as", "being", "in", "the", "same", "relationship", "with", "the", "<code>Try</code>", "monad", "as", "<code>Optional</code>", "is", "with", "the", "<code>Maybe</code>", "monad", ":", "it", "draws", "inspiration", "from", "it", ",", "but", "is", "adapted", "to", "the", "Java", "idiom", "(", "such", "as", "actually", "throwing", "exceptions", ",", "even", "from", "non-terminal", "operations", ")", ".", "#p", "These", "are", "some", "key", "guidelines", "followed", "by", "the", "class", ":", "#li", "#p", "as", "opposed", "to", "the", "monadic", "approach", ",", "does", "n't", "ignore", "Java", "'s", "exception", "mechanism", ";", "#li", "#p", "instead", "it", "relieves", "the", "impedance", "mismatch", "between", "exceptions", "and", "higher-order", "functions", ";", "#li", "#p", "exception", "handling", "not", "statically", "typesafe", "(", "due", "to", "sneaky", "throwing", ")", ",", "but", "always", "safe", "at", "runtime", "(", "never", "swallows", "an", "exception", "except", "on", "explicit", "request", ")", ".", "#p", "The", "class", "tries", "to", "cover", "all", "the", "typical", "ways", "to", "handle", "an", "exception", ":", "#li", "<code>recover</code>", "with", "some", "handling", "code", "which", "provides", "a", "substitute", "value", ";", "#li", "<code>flatRecover</code>", "which", ",", "analogous", "to", "<code>flatMap</code>", ",", "allows", "to", "return", "a", "new", "<code>Exceptional</code>", "instance", "which", "will", "be", "unwrapped", "and", "the", "state", "of", "the", "current", "instance", "suitably", "updated", ";", "#li", "<code>propagate</code>", "an", "exception", ",", "throwing", "it", "from", "the", "<code>Exceptional</code>", "expression", "and", "making", "the", "<code>propagate</code>", "call", "declare", "this", "exception", "type", ";", "#li", "<code>propagate</code>", "it", "after", "wrapping", "into", "another", "exception", "(", "it", ")", ";", "#li", "<code>handle</code>", "it", ",", "resulting", "in", "an", "empty", "<code>Exceptional</code>", ";", "#li", "as", "a", "special", "case", "of", "handling", ",", "<code>swallow</code>", "it", "with", "an", "empty", "handler", "block", ".", "#p", "The", "<code>propagate</code>", "approach", "allows", "one", "to", "selectively", "pick", "which", "checked", "exceptions", "he", "wants", "to", "expose", "from", "his", "code", ".", "Exceptions", "which", "remain", "unhandled", "at", "the", "time", "a", "terminal", "operation", "is", "called", "(", "like", "<code>get</code>", ")", "will", "be", "thrown", "without", "declaration", ".", "This", "is", "often", "considered", "as", "an", "advanced", "and", "dangerous", "approach", ",", "but", "is", "nevertheless", "often", "employed", "as", "a", "way", "to", "somewhat", "alleviate", "the", "nuisance", "of", "checked", "exceptions", "in", "combination", "with", "lambda", "shapes", "which", "do", "not", "declare", "them", ".", "The", "<code>Exceptional</code>", "class", "hopes", "to", "offer", "a", "cleaner", "and", "more", "selective", "alternative", "to", "sneaky", "throw", "."], "answer_id": 31270760, "question_id": 31270759}, {"tokens": ["#p", "What", "if", "every", "functional", "interface", "provided", "by", "<code>java.util.function</code>", "was", "allowed", "to", "throw", "an", "exception", "?", "#pre", "#p", "We", "could", "use", "some", "default", "methods", "to", "provide", "the", "behavior", "you", "want", ".", "#li", "You", "could", "some", "default", "value", "or", "action", "#li", "you", "could", "to", "perform", "another", "action", "which", "may", "throw", "an", "exception", "#p", "I", "'ve", "written", "a", "library", "which", "redefines", "most", "of", "the", "interfaces", "in", "<code>java.util.function</code>", "this", "way", ".", "I", "even", "provide", "a", "<code>ThrowingStream</code>", "which", "let", "'s", "you", "use", "these", "new", "interfaces", "with", "the", "same", "API", "as", "a", "regular", "<code>Stream</code>", ".", "#pre", "#p", "(", "<code>Nothing</code>", "is", "a", "<code>RuntimeException</code>", "that", "can", "never", "be", "thrown", ".", ")"], "answer_id": 31273726, "question_id": 31270759}, {"tokens": ["#p", "There", "'s", "a", "third-party", "library", "called", "better-java-monads", ".", "It", "has", "the", "<code>Try</code>", "monad", "which", "provides", "the", "necessary", "functions", ".", "It", "also", "has", "<code>TryMapFunction</code>", "and", "<code>TrySupplier</code>", "functional", "interfaces", "to", "use", "the", "<code>Try</code>", "monad", "with", "checked", "exceptions", "."], "answer_id": 31275738, "question_id": 31270759}, {"tokens": ["#p", "Here", "'s", "some", "discussions", "I", "had", "previously", "on", "this", "topic", ".", "#p", "I", "made", "an", "interface", "<code>Result&lt;T&gt;</code>", "along", "the", "reasonings", ".", "A", "<code>Result&lt;T&gt;</code>", "is", "either", "a", "success", "with", "a", "value", "of", "type", "<code>T</code>", ",", "or", "a", "failure", "with", "an", "Exception", ".", "It", "'s", "a", "subtype", "of", "<code>Async&lt;T&gt;</code>", ",", "as", "an", "immediately", "completed", "async", "action", ",", "but", "that", "is", "not", "important", "here", ".", "#p", "To", "create", "a", "result", "-", "#pre", "#p", "Result", "can", "then", "be", "transformed", "in", "various", "ways", "-", "<code>transform, map, then, peek, catch_, finally_</code>", "etc", ".", "For", "example", "#pre", "#p", "Unfortunately", "the", "API", "is", "focusing", "on", "Async", ",", "so", "some", "methods", "return", "Async", ".", "Some", "of", "them", "can", "be", "overridden", "by", "Result", "to", "return", "Result", ";", "but", "some", "can", "not", ",", "e.g", ".", "<code>then()</code>", "(", "which", "is", "flatmap", ")", ".", "However", ",", "if", "interested", ",", "it", "'s", "easy", "to", "extract", "a", "standalone", "Result", "API", "that", "has", "nothing", "to", "do", "with", "Async", "."], "answer_id": 31278479, "question_id": 31270759}, {"tokens": ["#p", "I", "am", "working", "at", "a", "commercial", "android", "application", ".", "I", "am", "also", "using", "some", "libraries", "licensed", "under", "different", "license", "types", "some", "of", "them", "stating", "the", "following", ":", "#p", "#p", "(", "One", "of", "them", "is", "licensed", "under", "for", "example", ")", ".", "#p", "There", "is", "more", "than", "one", "library", ".", "When", "I", "do", "the", "build", "with", "or", "with", "I", "obtain", "the", "following", "build", "error", ":", "#pre", "#p", "The", "answers", "that", "I", "found", "until", "now", "on", "the", "internet", "and", "stackoverflow", "suggest", "to", "remove", "the", "license.txt", "(", "notice.txt", "or", "other", "files", "that", "could", "interfere", "like", "this", ")", "from", "packaging", "by", "adding", "to", "<code>build.gradle</code>", "file", "the", "following", ":", "#pre", "#p", "See", "for", "example", ":", "Android", "Studio", "0.4", "Duplicate", "files", "copied", "in", "APK", "META-INF/LICENSE.txt", "#p", "According", "to", "the", "license", "of", "those", "libraries", "(", "for", "instance", ")", ",", "the", "license", "and", "notice", "files", "should", "be", ".", "#p", "How", "can", "I", "add", "multiple", "files", "related", "to", "licensing", "(", "such", "as", ",", "etc", ")", "from", "gradle", "into", "my", "project", "in", "order", "to", "be", "compliant", "with", "the", "licenses", "(", "licences", "texts", "will", "be", "concatenated", ")", "?"], "answer_count": 5, "question_id": 33923461}, {"tokens": ["#p", "There", "is", "a", "solution", "if", "you", "have", "only", "one", "license", "using", "the", "name", "<code>license.txt</code>", "(", "read", ":", "all", "<code>license.txt</code>", "copies", "are", "identical", ")", ":", "#pre"], "answer_id": 34287790, "question_id": 33923461}, {"tokens": ["#p", "You", "can", "add", "multiple", "licence", "in", "gradle", "see", "this"], "answer_id": 34288376, "question_id": 33923461}, {"tokens": ["#p", "Add", "following", "into", "respective", "build.gradle", "file", "#pre"], "answer_id": 36593694, "question_id": 33923461}, {"tokens": ["#p", "Surely", "it", "will", "work", "#blockquote"], "answer_id": 36735253, "question_id": 33923461}, {"tokens": ["#p", "I", "faced", "the", "same", "issue", "with", "my", "application", ".", "You", "need", "to", "make", "sure", "you", "have", "not", "added", "any", "libraries", "twice", ".", "If", "you", "have", "followed", "the", "firebase", "documentation", "#p", "Then", "you", "should", "not", "add", "firebase", "library", "inside", "android", "studio", "i.e", ".", "file-", ">", "project", "structure-", ">", "cloud-", ">", "firebase", "#p", "You", "have", "to", "do", "only", "one", "of", "the", "both", ",", "to", "use", "firebase", "in", "your", "android", "application", ".", "#p", "At", "the", "end", "clean", "and", "rerun", "your", "app", "."], "answer_id": 38431856, "question_id": 33923461}, {"tokens": ["#p", "We", "have", "a", "long-lived", "server", "process", ",", "that", "infrequently", "needs", "a", "lot", "of", "RAM", "for", "a", "short", "while", ".", "We", "see", "that", "once", "the", "JVM", "has", "gotten", "the", "memory", "from", "the", "OS", ",", "it", "never", "returns", "it", "back", "to", "the", "OS", ".", "How", "do", "we", "ask", "the", "JVM", "to", "return", "heap", "memory", "back", "to", "the", "OS", "?", "#p", "Typically", ",", "the", "accepted", "answer", "to", "such", "questions", "is", "to", "use", "<code>-XX:MaxHeapFreeRatio</code>", "and", "<code>-XX:MinHeapFreeRatio</code>", ".", "(", "See", "e.g", ".", "1", ",", "2", ",", "3", ",", "4", ")", ".", "But", "we", "'re", "running", "java", "like", "this", ":", "#pre", "#p", "and", "still", "see", "this", "in", "VisualVM", ":", "#p", "#p", "Clearly", ",", "the", "JVM", "is", "not", "honoring", "<code>-XX:MaxHeapFreeRatio=50</code>", "as", "the", "heapFreeRatio", "is", "very", "close", "to", "100", "%", "and", "nowhere", "near", "50", "%", ".", "No", "amount", "of", "clicking", "on", "``", "Perform", "GC", "''", "returns", "memory", "to", "the", "OS", ".", "#p", "MemoryUsage.java", ":", "#pre", "#p", "Versions", ":", "#pre", "#p", "I", "'ve", "also", "tried", "OpenJDK", "1.7", "and", "Sun", "Java", "'s", "1.8", ".", "All", "behave", "similarly", "and", "none", "give", "memory", "back", "to", "the", "OS", ".", "#p", "I", "do", "think", "I", "need", "this", "and", "that", "swap", "and", "paging", "wo", "n't", "``", "solve", "''", "this", ",", "because", "spending", "disk", "IO", "on", "paging", "close", "to", "2GB", "garbage", "in", "and", "out", "is", "just", "a", "waste", "of", "resources", ".", "If", "you", "disagree", ",", "please", "enlighten", "me", ".", "#p", "I", "'ve", "also", "written", "a", "little", "memoryUsage.c", "with", "<code>malloc()</code>", "/", "<code>free()</code>", ",", "and", "it", "return", "memory", "to", "the", "OS", ".", "So", "it", "is", "in", "C.", "Perhaps", "not", "with", "Java", "?", "#p", "Edit", ":", "Augusto", "pointed", "out", "that", "searching", "would", "'ve", "led", "me", "to", "<code>-XX:MaxHeapFreeRatio</code>", "and", "<code>-XX:MinHeapFreeRatio</code>", "only", "worked", "with", "<code>-XX:+UseSerialGC</code>", ".", "I", "was", "ecstatic", "and", "tried", "it", ",", "puzzled", "that", "I", "had", "n't", "found", "this", "myself", ".", "Yes", ",", "it", "did", "work", "with", "my", "MemoryUsage.java", ":", "#p", "#p", "However", ",", "when", "I", "tried", "<code>-XX:+UseSerialGC</code>", "with", "our", "real", "app", ",", "not", "so", "much", ":", "#p", "#p", "I", "discovered", "that", "gc", "(", ")", "after", "a", "while", "help", ",", "so", "I", "made", "a", "thread", "that", "did", "more", "or", "less", ":", "#pre", "#p", "and", "that", "did", "the", "trick", ":", "#p", "#p", "I", "had", "actually", "previously", "seen", "the", "behavior", "with", "<code>-XX:+UseSerialGC</code>", "and", "multiple", "<code>System.gc()</code>", "calls", "in", "some", "of", "my", "many", "experiments", "but", "did", "n't", "like", "the", "need", "for", "a", "GC", "thread", ".", "And", "who", "knows", "if", "that", "'ll", "continue", "to", "work", "as", "both", "our", "app", "and", "java", "evolves", ".", "There", "must", "be", "a", "better", "way", ".", "#p", "What", "is", "the", "logic", "that", "forces", "me", "to", "call", "<code>System.gc()</code>", "four", "times", "(", "but", "not", "immediately", ")", ",", "and", "where", "is", "this", "stuff", "documented", "?", "#p", "In", "search", "of", "documentation", "for", "<code>-XX:MaxHeapFreeRatio</code>", "and", "<code>-XX:MinHeapFreeRatio</code>", "only", "working", "with", "<code>-XX:+UseSerialGC</code>", ",", "I", "read", "the", "documentation", "for", "the", "java", "tool/executable", "and", "it", "is", "n't", "mentioned", "anywhere", "that", "<code>-XX:MaxHeapFreeRatio</code>", "and", "<code>-XX:MinHeapFreeRatio</code>", "only", "works", "with", "<code>-XX:+UseSerialGC</code>", ".", "In", "fact", ",", "the", "fixed", "issue", "[", "JDK-8028391", "]", "Make", "the", "Min/MaxHeapFreeRatio", "flags", "manageable", "says", ":", "#blockquote", "#p", "A", "comment", "for", "the", "fixed", "issue", "says", ":", "#blockquote", "#p", "I", "'ve", "checked", ",", "and", "the", "patch", "referenced", "in", "the", "fixed", "issue", "backported", "to", "openjdk-8", "is", "indeed", "contained", "in", "the", "source", "package", "tarball", "for", "the", "openjdk-8", "version", "I", "'m", "using", ".", "So", "it", "should", "apparently", "work", "in", "``", "the", "default", "parallel", "collector", "''", ",", "but", "does", "n't", "as", "I", "'ve", "demonstrated", "in", "this", "post", ".", "I", "have", "n't", "yet", "found", "any", "documentation", "that", "says", "it", "should", "only", "work", "with", "<code>-XX:+UseSerialGC</code>", ".", "And", "as", "I", "'ve", "documented", "here", ",", "even", "this", "is", "unreliable/dicey", ".", "#p", "Ca", "n't", "I", "just", "get", "<code>-XX:MaxHeapFreeRatio</code>", "and", "<code>-XX:MinHeapFreeRatio</code>", "to", "do", "what", "they", "promise", "without", "having", "to", "go", "through", "all", "these", "hoops", "?"], "answer_count": 3, "question_id": 33318688}, {"tokens": ["#p", "Your", "issue", "is", "quit", "complex", "-", "I", "would", "suggest", "an", "easy", "going", "solution", ".", "From", "what", "I", "have", "read", ",", "you", "know", "how", "to", "code", "in", "both", "C", "and", "Java", ".", "May", "be", "using", "the", "JNA", "(", "Java", "Native", "Access", ")", "or", "JNI", "(", "Java", "Native", "Interface", ")", "might", "resolve", "the", "root", "of", "the", "issue", "(", "coding", "the", "heavy", "processing", "part", "in", "C", "and", "call", "it", "from", "java", ")", ".", "Another", "way", "would", "be", "to", "have", "another", "little", "program", "written", "in", "C", "do", "the", "heavy", "lifting", "-", "you", "would", "call", "that", "little", "program", "from", "your", "java", "code", "(", "preferably", "in", "its", "own", "thread", ")", ".", "Java", "Native", "Access", "Java", "Native", "Interface"], "answer_id": 33642889, "question_id": 33318688}, {"tokens": ["#p", "If", "there", "is", "method", "(", "say", "m1", "(", ")", ")", "which", "does", "the", "heavy", "lifting", "in", "your", "application", "you", "can", "try", "this", ":", "#li", "instead", "of", "calling", "the", "m1", "(", ")", ",", "<code>serialize</code>", "all", "the", "objects", "required", "for", "the", "method", "to", "work", ".", "#li", "create", "a", "main", "method", "which", "<code>de-serialize</code>", "the", "objects", "you", "serialized", "in", "previous", "step", ".", "and", "calls", "m1", "(", ")", "-", "this", "main", "method", "is", "entry", "point", "for", "a", "program", "P1", ".", "#li", "At", "the", "completion", "of", "m1", "(", ")", ",", "serialize", "the", "output", "for", "the", "main", "program", "to", "de-serialize", ".", "#li", "execute", "P1", "as", "a", "separate", "program", "using", "<code>Runtime or ProcessBuilder</code>", ".", "#p", "This", "way", "when", "the", "heavy", "lifting", "method", "m1", "(", ")", "completes", ",", "the", "process", "P1", "will", "end", ",", "that", "should", "release", "the", "heap", "on", "that", "JVM", "."], "answer_id": 33749290, "question_id": 33318688}, {"tokens": ["#p", "``", "G1", "(", "-XX", ":", "+UseG1GC", ")", ",", "Parallel", "scavenge", "(", "-XX", ":", "+UseParallelGC", ")", "and", "ParallelOld", "(", "-XX", ":", "+UseParallelOldGC", ")", "do", "return", "memory", "when", "the", "heap", "shrinks", ".", "I", "'m", "not", "so", "sure", "about", "Serial", "and", "CMS", ",", "they", "did", "n't", "shrink", "their", "heap", "in", "my", "experiments", ".", "#p", "Both", "parallel", "collectors", "do", "require", "a", "number", "of", "GCs", "before", "shrinking", "the", "heap", "down", "to", "an", "``", "acceptable", "''", "size", ".", "This", "is", "per", "design", ".", "They", "are", "deliberately", "holding", "on", "to", "the", "heap", "assuming", "that", "it", "will", "be", "needed", "in", "the", "future", ".", "Setting", "the", "flag", "-XX", ":", "GCTimeRatio=1", "will", "improve", "the", "situation", "somewhat", "but", "it", "will", "still", "take", "several", "GCs", "to", "shrink", "a", "lot", ".", "#p", "G1", "is", "remarkably", "good", "at", "shrinking", "the", "heap", "fast", ",", "so", "for", "the", "usecase", "described", "above", "I", "would", "say", "it", "'s", "solvable", "by", "using", "G1", "and", "running", "<code>System.gc()</code>", "after", "having", "released", "all", "caches", "and", "class", "loaders", "etc", ".", "''", "#p", "http", ":", "//bugs.java.com/bugdatabase/view_bug.do", "?", "bug_id=6498735"], "answer_id": 33756220, "question_id": 33318688}, {"tokens": ["#p", "I", "had", "this", "question", "in", "my", "Java", "test", "where", "I", "had", "to", "assign", "values", "to", "<code>a</code>", "and", "<code>b</code>", "so", "this", "expression", "evaluates", "to", "true", ":", "#pre", "#p", "Sadly", ",", "I", "had", "no", "idea", "what", "the", "answer", "was", "."], "answer_count": 1, "question_id": 32759492}, {"tokens": ["#p", "There", "'s", "a", "simple", "trick", "here", ".", "#p", "You", "can", "not", "think", "this", "through", "with", "boolean", "logic", "only", ".", "Using", "that", ",", "this", "combination", "...", "#li", "<code>a</code>", "is", "less", "than", "or", "equal", "to", "<code>b</code>", ",", "and", "#li", "<code>b</code>", "is", "less", "than", "or", "equal", "to", "<code>a</code>", ",", "and", "#li", "<code>a</code>", "is", "not", "equal", "to", "<code>b</code>", "#p", "...", "would", "never", "return", "<code>true</code>", ".", "#p", "However", ",", "the", "<code>!=</code>", "operator", "compares", "references", "if", "its", "operands", "are", "objects", ".", "#p", "So", ",", "the", "following", "will", "return", "<code>true</code>", ":", "#pre", "#p", "What", "happens", "here", "is", ":", "<code>a</code>", "as", "an", "object", "reference", "is", "not", "equal", "to", "<code>b</code>", "as", "an", "object", "reference", ",", "although", "of", "course", "they", "hold", "equal", "integer", "values", "."], "answer_id": 32759552, "question_id": 32759492}, {"tokens": ["#p", "I", "'ve", "tried", "to", "build", "my", "own", "Map", "to", "increase", "the", "performance", "for", "a", "special", "environment", ",", "and", "I", "realized", "something", "pretty", "interesting", ":", "Creating", "a", "<code>new Hashmap&lt;Integer,String&gt;(2000)</code>", "is", "faster", "than", "<code>new Object[2000]</code>", "-", "no", "matter", "in", "which", "order", "I", "execute", "these", "commands", ".", "That", "'s", "pretty", "confusing", "to", "me", ",", "esp", ".", "because", "the", "Hashmap", "constructor", "contains", "a", "<code>table = new Entry[capacity]</code>", ",", "according", "to", "this", ".", "Is", "there", "something", "wrong", "with", "my", "testbench", "?", "#pre", "#p", "I", "'d", "love", "to", "see", "the", "results", "of", "testing", "on", "another", "computer", ".", "I", "'ve", "got", "no", "clue", "why", "creating", "a", "<code>HashMap</code>", "is", "10", "times", "faster", "than", "creating", "a", "<code>Object[]</code>", "."], "answer_count": 2, "question_id": 31419029}, {"tokens": ["#p", "An", "empty", "<code>HashMap</code>", "object", "is", "much", "smaller", "than", "an", "array", "of", "2000", "<code>Object</code>", "references", ".", "Even", "though", "you", "pass", "2000", "to", "the", "<code>initialCapacity</code>", "parameter", "of", "the", "<code>HashMap</code>", "constructor", ",", "it", "'s", "not", "actually", "creating", "2000", "spaces", "for", "objects", "yet", "."], "answer_id": 31419047, "question_id": 31419029}, {"tokens": ["#p", "If", "you", "look", "at", "the", "implementation", "of", "<code>HashMap</code>", ",", "the", "constructor", "looks", "like", ":", "#pre", "#p", "And", "<code>init()</code>", "looks", "like", ":", "#pre", "#p", "So", "<code>initialCapacity</code>", "does", "n't", "actually", "get", "used", "to", "create", "an", "array", ".", "Where", "does", "it", "get", "used", "?", "Look", "at", "the", "<code>put()</code>", "method", ".", "#pre", "#p", "When", "doing", "a", "put", ",", "the", "array", "is", "actually", "created", ".", "I", "did", "n't", "show", "<code>inflateTable()</code>", "but", "it", "does", "some", "math", "and", "initializes", "the", "array", "."], "answer_id": 31419077, "question_id": 31419029}, {"tokens": ["#p", "I", "am", "reading", "``", "Elixir", "in", "Action", "''", "book", "by", "Sa\u0161a", "Juri\u0107", ",", "and", "in", "the", "first", "chapter", "it", "says", ":", "#blockquote", "#p", "Is", "n't", "that", "true", "for", "Java", "threads", "as", "well", "?", "I", "mean", "when", "Java", "thread", "crashes", ",", "it", "too", "does", "not", "crash", "other", "threads", "-", "especially", ",", "if", "we", "are", "looking", "at", "request-processing", "threads", "(", "lets", "exclude", "the", "<code>main</code>", "thread", "from", "this", "disucussion", ")"], "answer_count": 6, "question_id": 32294367}, {"tokens": ["#p", "Java", "processes", "can", "in", "fact", "share", "memory", ".", "For", "example", "you", "can", "pass", "the", "same", "instance", "down", "to", "two", "separate", "threads", "and", "both", "can", "manipulate", "its", "state", ",", "leading", "to", "potential", "problems", "such", "as", "deadlocks", ".", "#p", "Elixir/Erlang", "on", "the", "other", "hand", "addresses", "this", "by", "the", "concept", "of", "immutability", ",", "so", "when", "you", "are", "passing", "something", "to", "a", "process", ",", "it", "will", "be", "a", "copy", "of", "the", "original", "value", "."], "answer_id": 32294523, "question_id": 32294367}, {"tokens": ["#p", "Most", "definitely", "not", ".", "All", "threads", "in", "Java", "share", "the", "same", "address", "space", "so", "it", "is", "possible", "for", "one", "thread", "to", "trash", "things", "owned", "by", "another", "thread", ".", "In", "the", "Erlang", "VM", "this", "just", "is", "n't", "possible", "as", "each", "process", "is", "isolated", "from", "all", "others", ".", "That", "'s", "the", "whole", "point", "of", "them", ".", "Any", "time", "your", "want", "to", "have", "one", "process", "do", "something", "with", "data", "from", "another", "your", "code", "has", "to", "send", "a", "message", "to", "the", "other", "process", ".", "The", "only", "things", "shared", "between", "processes", "are", "large", "binary", "objects", "and", "these", "are", "immutable", "."], "answer_id": 32294536, "question_id": 32294367}, {"tokens": ["#blockquote", "#p", "Let", "me", "ask", "a", "counterquestion", ":", "why", "do", "you", "think", "<code>Thread.stop()</code>", "has", "been", "deprecated", "for", "more", "than", "a", "decade", "?", "The", "reason", "why", "is", "precisely", "the", "negation", "of", "your", "statement", "above", ".", "#p", "To", "give", "two", "specific", "examples", ":", "you", "<code>stop()</code>", "a", "thread", "while", "it", "'s", "executing", "something", "as", "innocuous-sounding", "as", "<code>System.out.println()</code>", "or", "<code>Math.random()</code>", ".", "Result", ":", "those", "two", "features", "are", "now", "broken", "for", "the", "entire", "JVM", ".", "The", "same", "pertains", "to", "any", "other", "synchronized", "code", "your", "application", "may", "execute", ".", "#blockquote", "#p", "The", "application", "theoretically", "be", "coded", "such", "that", "absolutely", "no", "shared", "resource", "protected", "by", "locks", "is", "ever", "used", ";", "however", "that", "will", "only", "help", "to", "point", "out", "the", "exact", "extent", "to", "which", "Java", "threads", "are", "codependent", ".", "And", "the", "``", "independence", "''", "achieved", "will", "only", "pertain", "to", "the", "request-processing", "threads", ",", "not", "to", "threads", "in", "such", "an", "application", "."], "answer_id": 32294898, "question_id": 32294367}, {"tokens": ["#p", "``", "These", "are", "different", "paradigms", "''", "#p", "Say", "that", "aloud", "20", "times", "or", "so", "--", "it", "is", "our", "mantra", "for", "the", "moment", ".", "#p", "If", "we", "must", "compare", "apples", "and", "oranges", ",", "let", "'s", "at", "least", "consider", "where", "the", "common", "aspects", "of", "``", "being", "fruit", "''", "intersect", ".", "#p", "Java", "``", "objects", "''", "are", "a", "Java", "programmer", "'s", "basic", "unit", "of", "computation", ".", "That", "is", ",", "an", "``", "object", "''", "--", "basically", "a", "struct", "with", "arms", "and", "legs", "that", "has", "encapsulation", "somewhat", "more", "strictly", "enforced", "than", "in", "C++", "--", "is", "the", "primary", "tool", "with", "which", "you", "model", "the", "world", ".", "You", "think", "``", "This", "object", "knows/has", "Data", "{", "X", ",", "Y", ",", "Z", "}", "and", "performs", "Functions", "{", "A", "(", ")", ",", "B", "(", ")", ",", "C", "(", ")", "}", "over", "it", ",", "carries", "the", "Data", "everywhere", "it", "goes", ",", "and", "can", "communicate", "with", "other", "objects", "by", "calling", "functions/methods", "defined", "as", "part", "of", "their", "public", "interface", ".", "It", "is", "a", "noun", ",", "and", "that", "noun", "stuff.", "''", ".", "That", "is", "to", "say", ",", "you", "orient", "your", "thought", "process", "around", "these", "units", "of", "computation", ".", "The", "default", "case", "is", "that", "things", "that", "happen", "amongst", "the", "objects", "occur", "in", "sequence", ",", "and", "a", "crash", "interrupts", "that", "sequence", ".", "They", "are", "called", "``", "objects", "''", "and", "hence", "(", "if", "we", "disregard", "Alan", "Kay", "'s", "original", "meaning", ")", "we", "get", "``", "object", "orientation", "''", ".", "#p", "Erlang", "``", "processes", "''", "are", "an", "Erlang", "programmer", "'s", "basic", "unit", "of", "computation", ".", "A", "``", "process", "''", "--", "basically", "a", "self-contained", "sequential", "program", "running", "in", "its", "own", "time", "and", "space", "--", "is", "the", "primary", "tool", "with", "which", "an", "Erlanger", "models", "the", "world", ".", "Similar", "to", "how", "Java", "objects", "define", "a", "level", "of", "encapsulation", ",", "Erlang", "processes", "also", "define", "the", "level", "of", "encapsulation", ",", "but", "in", "the", "case", "of", "Erlang", "the", "units", "of", "computation", "are", "cut", "off", "from", "one", "another", ".", "You", "can", "not", "call", "a", "method", "or", "function", "on", "another", "process", ",", "nor", "can", "you", "access", "any", "data", "that", "lives", "within", "it", ",", "nor", "does", "one", "process", "even", "run", "within", "the", "same", "timing", "context", "as", "any", "other", "processes", ",", "and", "there", "is", "no", "guarantee", "about", "the", "ordering", "of", "message", "reception", "relative", "to", "other", "processes", "which", "may", "be", "sending", "messages", ".", "They", "may", "as", "well", "be", "on", "different", "planets", "entirely", "(", "and", ",", "come", "to", "think", "of", "it", ",", "this", "is", "actually", "plausible", ")", ".", "They", "can", "crash", "independently", "of", "one", "another", "and", "the", "other", "processes", "are", "only", "impacted", "if", "they", "have", "deliberately", "elected", "to", "be", "impacted", "(", "and", "even", "this", "involves", "messaging", ":", "essentially", "registering", "to", "receive", "a", "suicide", "note", "from", "the", "dead", "process", "which", "itself", "is", "not", "guaranteed", "to", "arrive", "in", "any", "sort", "of", "order", "relative", "to", "the", "system", "as", "a", "whole", ",", "to", "which", "you", "may", "or", "may", "not", "choose", "to", "react", ")", ".", "#p", "Java", "deals", "with", "complexity", "directly", "in", "compound", "algorithms", ":", "how", "objects", "work", "together", "to", "solve", "a", "problem", ".", "It", "is", "designed", "to", "do", "this", "within", "a", "single", "execution", "context", ",", "and", "the", "default", "case", "in", "Java", "is", "sequential", "execution", ".", "Multiple", "threads", "in", "Java", "indicates", "multiple", "running", "contexts", "and", "is", "a", "very", "complex", "topic", "because", "of", "the", "impact", "activity", "in", "different", "timing", "contexts", "have", "on", "one", "another", "(", "and", "the", "system", "as", "a", "whole", ":", "hence", "defensive", "programming", ",", "exception", "schemes", ",", "etc.", ")", ".", "Saying", "``", "multi-threaded", "''", "in", "Java", "something", "different", "than", "it", "does", "in", "Erlang", ",", "in", "fact", "this", "is", "never", "even", "said", "in", "Erlang", "because", "it", "is", "always", "the", "base", "case", ".", "Note", "here", "that", "Java", "threads", "imply", "segregation", "as", "pertains", "to", "time", ",", "not", "memory", "or", "visible", "references", "--", "visibility", "in", "Java", "is", "controlled", "manually", "by", "choosing", "what", "is", "private", "and", "what", "is", "public", ";", "universally", "accessible", "elements", "of", "a", "system", "must", "be", "either", "designed", "to", "be", "``", "threadsafe", "''", "and", "reentrant", ",", "sequentialized", "via", "queueing", "mechanisms", ",", "or", "employ", "locking", "mechanisms", ".", "In", "short", ":", "scheduling", "is", "a", "manually", "managed", "issue", "in", "threaded/concurrent", "Java", "programs", ".", "#p", "Erlang", "separates", "each", "processes", "'", "running", "context", "in", "terms", "of", "execution", "timing", "(", "scheduling", ")", ",", "memory", "access", "and", "reference", "visibility", "and", "in", "doing", "so", "simplifies", "each", "component", "of", "an", "algorithm", "by", "isolating", "it", ".", "This", "is", "not", "just", "the", "default", "case", ",", "this", "is", "the", "only", "case", "available", "under", "this", "model", "of", "computation", ".", "This", "comes", "at", "the", "cost", "of", "never", "knowing", "exactly", "the", "sequence", "of", "any", "given", "operation", "once", "a", "part", "of", "your", "processing", "sequences", "crosses", "a", "message", "barrier", "--", "because", "messages", "are", "all", "essentially", "network", "protocols", "and", "there", "are", "no", "method", "calls", "that", "can", "be", "guaranteed", "to", "execute", "within", "a", "given", "context", ".", "This", "would", "be", "analogous", "to", "creating", "a", "JVM", "instance", "per", "object", ",", "and", "only", "permitting", "them", "to", "communicate", "across", "sockets", "--", "that", "would", "be", "ridiculously", "cumbersome", "in", "Java", ",", "but", "is", "the", "way", "Erlang", "is", "designed", "to", "work", "(", "incidentally", ",", "this", "is", "also", "the", "basis", "of", "the", "concept", "of", "writing", "``", "Java", "microservices", "''", "if", "one", "ditches", "the", "web-oriented", "baggage", "the", "buzzword", "tends", "to", "entail", "--", "Erlang", "programs", "are", ",", "by", "default", ",", "swarms", "of", "microservices", ")", ".", "Its", "all", "about", "tradeoffs", ".", "#p", "These", "are", "different", "paradigms", ".", "The", "closest", "commonality", "we", "can", "find", "is", "to", "say", "that", "from", "the", "programmer", "'s", "perspective", ",", "Erlang", "processes", "are", "analogous", "to", "Java", "objects", ".", "If", "we", "must", "find", "something", "to", "compare", "Java", "threads", "to", "...", "well", ",", "we", "'re", "simply", "not", "going", "to", "find", "something", "like", "that", "in", "Erlang", ",", "because", "there", "is", "no", "such", "comparable", "concept", "in", "Erlang", ".", "To", "beat", "a", "dead", "horse", ":", ".", "If", "you", "write", "a", "few", "non-trivial", "programs", "in", "Erlang", "this", "will", "become", "readily", "apparent", ".", "#p", "Note", "that", "I", "'m", "saying", "``", "these", "are", "different", "paradigms", "''", "but", "have", "not", "even", "touched", "the", "topic", "of", "OOP", "vs", "FP", ".", "The", "difference", "between", "``", "thinking", "in", "Java", "''", "and", "``", "thinking", "in", "Erlang", "''", "is", "more", "fundamental", "than", "OOP", "vs", "FP", ".", "#p", "While", "it", "is", "true", "that", "Erlang", "'s", "``", "concurrency", "oriented", "''", "or", "``", "process", "oriented", "''", "foundation", "is", "closer", "to", "what", "Alan", "Kay", "had", "in", "mind", "when", "he", "coined", "the", "term", "``", "object", "oriented", "''", ",", "that", "is", "not", "really", "the", "point", "here", ".", "What", "Kay", "was", "getting", "at", "was", "that", "one", "can", "reduce", "the", "cognitive", "complexity", "of", "a", "system", "by", "cutting", "your", "computrons", "into", "discrete", "chunks", ",", "and", "isolation", "is", "necessary", "for", "that", ".", "Java", "accomplishes", "this", "in", "a", "way", "that", "leaves", "it", "still", "fundamentally", "procedural", "in", "nature", ",", "but", "structures", "code", "around", "a", "special", "syntax", "over", "higher-order", "dispatching", "closures", "called", "``", "class", "definitions", "''", ".", "Erlang", "does", "this", "by", "splitting", "the", "running", "context", "up", "per", "object", ".", "This", "means", "Erlang", "thingies", "ca", "n't", "call", "methods", "on", "one", "another", ",", "but", "Java", "thingies", "can", ".", "This", "means", "Erlang", "thingies", "can", "crash", "in", "isolation", "but", "Java", "thingies", "ca", "n't", ".", "A", "vast", "number", "of", "implications", "flow", "from", "this", "basic", "difference", "--", "hence", "``", "different", "paradigms", "''", ".", "Tradeoffs", "."], "answer_id": 32296577, "question_id": 32294367}, {"tokens": ["#p", "To", "complement", "on", "previous", "answers", ",", "Java", "threads", "have", "two", "types", ":", "daemon", "and", "non", "daemon", ".", "#p", "To", "change", "a", "thread", "'s", "type", "you", "can", "call", "<code>.setDaemon(boolean on)</code>", ".", "The", "difference", "is", "that", "a", "daemon", "thread", "does", "not", "keep", "the", "JVM", "from", "quitting", ".", "As", "the", "Javadoc", "for", "Thread", "says", ":", "#blockquote", "#p", "That", "means", ":", "user", "threads", "(", "those", "that", "are", "not", "specifically", "set", "to", "be", "daemon", ")", "keeps", "the", "JVM", "from", "terminating", ".", "On", "the", "other", "hand", ",", "daemon", "threads", "MAY", "BE", "RUNNING", "when", "all", "non-daemon", "threads", "are", "finished", "in", "which", "case", "the", "JVM", "will", "quit", ".", "So", ",", "to", "answer", "your", "question", ":", "you", "can", "start", "a", "thread", "that", "does", "not", "quit", "the", "JVM", "when", "it", "finishes", ".", "#p", "As", "to", "the", "comparison", "with", "Erlang/Elixir", "do", "n't", "forget", ":", "#p", "It", "is", "not", "impossible", "for", "the", "JVM", "to", "mimic", "Erlang", "'s", "behaviour", "though", "it", "is", "not", "for", "what", "it", "was", "intended", "to", "and", ",", "therefore", ",", "it", "goes", "with", "lots", "of", "trade-offs", ".", "The", "following", "projects", "tries", "to", "accomplish", "that", ":", "#li", "Erjang", "#li", "Akka"], "answer_id": 32313000, "question_id": 32294367}, {"tokens": ["#blockquote", "#p", "Yes", "and", "No", ".", "I", "explain", ":", "#li", "#p", "Referring", "to", "shared", "memory", ":", "Different", "threads", "in", "a", "Java", "process", "share", "the", "whole", "heap", ",", "therefore", "threads", "can", "interact", "in", "a", "huge", "number", "of", "planned", "and", "unplanned", "ways", ".", "objects", "in", "the", "stack", "(", "e.g", ".", "a", "context", "you", "pass", "down", "to", "called", "method", ")", "or", "a", "<code>ThreadLocal</code>", "are", "their", "own", "thread", "'s", "(", "unless", "they", "start", "sharing", "references", ")", ".", "#li", "#p", "Crashing", ":", "If", "a", "thread", "crashes", "in", "Java", "(", "a", "<code>Throwable</code>", "is", "propagated", "into", "<code>Thread.run()</code>", ",", "or", "something", "gets", "looped", "or", "blocked", ")", ",", "that", "mishap", "might", "not", "affect", "other", "threads", "(", "e.g", ".", "a", "pool", "of", "connections", "in", "a", "server", "will", "continue", "to", "operate", ")", ".", "as", "different", "threads", "interact", ".", "Other", "threads", "will", "easily", "get", "stranded", "if", "one", "of", "them", "ends", "abnormally", "(", "e.g", ".", "one", "thread", "trying", "to", "read", "from", "an", "empty", "pipe", "from", "another", "thread", "which", "did", "not", "close", "its", "end", ")", ".", "So", "unless", "the", "developers", "are", "highly", "careful", ",", "it", "is", "very", "likely", "that", "side", "effects", "will", "occur", ".", "#p", "I", "doubt", "that", "any", "other", "paradigm", "intends", "threads", "to", "operate", "as", "totally", "independent", "islands", ".", "They", "must", "share", "information", "and", "coordinate", "somehow", ".", "And", "then", "there", "will", "be", "the", "chance", "to", "mess", "things", "up", ".", "It", "is", "just", "they", "will", "take", "a", "more", "defensive", "approach", "that", "``", "gives", "you", "less", "rope", "to", "hang", "yourself", "''", "(", "same", "idiom", "as", "with", "pointers", ")", "."], "answer_id": 32378895, "question_id": 32294367}, {"tokens": ["#p", "in", "my", "android", "application", "I", "have", "a", "chat", "activity", ",", "I", "use", "this", "code", "from", "android-chat-starter", "#p", "the", "problem", "is", "in", "the", "emulator", "everything", "works", "fine", ",", "I", "tested", "it", "in", "many", "types", "of", "emulators", "(", "api", ">", "18", ",", "api", "=18", ",", "api", "<", "18", ")", "but", "in", "testing", "in", "actual", "device", "it", "behaves", "like", "in", "this", "image", "#p", "#p", "the", "emoji", "view", "shows", "above", "the", "keyboard", "#p", "here", "is", "the", "code", "I", "use", "to", "show", "the", "emoji", "view", "#pre", "#p", "my", "androidmanifest.xml", "contains", "#pre", "#p", "here", "is", "my", "conversation", "show", "xml", "#pre", "#p", "here", "is", "my", "emojiview", "#pre", "#p", "the", "problem", "happens", "when", "the", "keyboard", "is", "visible", ",", "but", "if", "it", "'s", "not", "visible", "the", "emoji", "view", "works", "fine"], "answer_count": 7, "question_id": 33137248}, {"tokens": ["#p", "Unfortunately", ",", "as", "far", "for", "Android", "5.0", "(", "dont", "know", "after", ")", "theres", "no", "way", "to", "get", "the", "keyboard", "height", ".", "So", "you", "ca", "n't", "use", "this", "value", "to", "position", "your", "View", ".", "#p", "But", ",", "you", "can", "use", "the", "softKeyboard", "relayout", "to", "do", "what", "you", "want", ",", "by", "using", "softKeyboard", "(", "at", "the", "Activity", "manifest", ")", "with", "a", "value", "of", "``", "resize", "''", "will", "make", "your", "root", "layout", "View", "to", "be", "resized", "to", "the", "size", "of", "the", "remaining", "screen", "space", ".", "By", "positioning", "your", "view", "at", "the", "bottom", "will", "make", "it", "exactly", "on", "top", "of", "the", "keyboard", ".", "#p", "PS", ":", "Also", ",", "your", "root", "view", "needs", "its", "height", "value", "to", "be", "match_parent", "instead", "of", "anything", "else", "(", "or", "you", "will", "need", "to", "deal", "in", "hard", "other", "ways", ")", "#p", "Maybe", "you", "mean", "you", "want", "to", "replace", "the", "keyboard", "location", "instead", "of", "being", "on", "``", "top", "of", "it", "''", "(", "NORTH", "?", ")", ",", "in", "this", "case", ",", "you", "should", "use", "a", "CustomView", "that", "extends", "View", "and", "not", "use", "the", "EditText", "that", "does", "open", "the", "keyboard", "for", "you"], "answer_id": 33175564, "question_id": 33137248}, {"tokens": ["#p", "You", "will", "have", "to", "hide", "the", "keyboard", "while", "showing", "window", "of", "emoji", "via", ":", "#p", "<code>InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n            imm.hideSoftInputFromWindow(edText.getWindowToken(), 0);</code>", "#p", "where", "edText", "is", "the", "edittext", "you", "have", "currently", "focus", "on", ".", "#p", "EDIT", ":", "This", "is", "my", "code", "merged", "into", "yours.you", "can", "give", "it", "a", "try", ".", "#pre"], "answer_id": 33500341, "question_id": 33137248}, {"tokens": ["#p", "You", "can", "create", "a", "custom", "EditText", "and", "disable", "showing", "the", "keyboard", "by", "override", ".", "Refer", "code", "below", ":", "#pre"], "answer_id": 33511145, "question_id": 33137248}, {"tokens": ["#p", "You", "can", "do", "something", "like", "this", "for", "creating", "View", "over", "softKeyboard", ".", "#pre", "#p", "Note", ":", "#p", "Remove", "this", "line", "from", "your", "code", "if", "you", "have", "used", "it", ".", "<code>getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS\u200c\u200b_VISIBLE);</code>", "#p", "In", "your", "manifest", ":", "#pre", "#p", "Make", "sure", "that", "you", "have", "adjusted", "your", "SoftInputMode", "to", "AdjustResize", ".", "#p", "For", "more", "info", "regarding", "SoftInputmode", "refer", "this", "link", ".", "#p", "And", "if", "you", "do", "n't", "want", "to", "show", "to", "your", "layout", "when", "keyboard", "is", "down", "then", "just", "hide", "that", "layout", ".", "#p", "Hope", "it", "will", "help", "you", "."], "answer_id": 33519041, "question_id": 33137248}, {"tokens": ["#p", "I", "am", "using", "this", "on", "my", "application", ",", "I", "have", "extracted", "from", "the", "library", "https", ":", "//github.com/chathudan/KitKatEmoji", "I", "recommend", "you", "use", "the", "library", "is", "very", "complete", "and", "easy", "to", "implement", ".", "In", "the", "example", "of", "the", "library", "is", "its", "easy", "use", ".", "If", "not", ",", "pull", "something", "like", "this", ":", "#pre", "#p", ".", "#pre", "#p", ".", "#pre", "#p", ".", "#pre"], "answer_id": 33862402, "question_id": 33137248}, {"tokens": ["#p", "I", "encountered", "a", "similar", "problem", "when", "I", "added", "emoji", "'s", "to", "my", "app", ".", "I", "found", "a", "way", "to", "show", "Emoji", "'s", "on", "top", "of", "Softkeyboard", "using", ".", "#p", "EmojiOverKeyboard", "#pre", "#p", "MainActivity", "#pre", "#p", "ContentLayout", "#pre", "#p", "#p", "Use", "my", "sample", "github", "project", "for", "reference", "."], "answer_id": 33897583, "question_id": 33137248}, {"tokens": ["#p", "It", "worked", ":", ")", ".", "Add", "below", "two", "lines", "in", "your", "list", "view", "#pre", "#p", "You", "can", "view", "it", "here"], "answer_id": 33963415, "question_id": 33137248}, {"tokens": ["#p", "I", "'m", "trying", "to", "do", "a", "'release", "'", "build", "on", "an", "Android", "app", "and", "I", "keep", "on", "getting", "this", "error", "of", ":", "#blockquote", "#p", "And", "then", "when", "I", "look", "into", "that", "directory", "for", "'classes.jar", "'", "the", "file", "is", "n't", "there", ".", "Do", "I", "have", "to", "create", "this", "file", "myself", "with", "a", "gradle", "task", "?", "#p", "There", "'s", "something", "going", "on", "with", "proguard", "here", "but", "it", "'s", "not", "giving", "much", "useful", "information", "other", "than", "'Unable", "to", "compute", "hash", "...", ".", "''", "#p", "Here", "'s", "my", "gradle.build", "file", ":", "#pre", "#p", "If", "someone", "could", "help", "me", "debug", "this", "issue", "that", "'d", "be", "great", "."], "answer_count": 6, "question_id": 31643339}, {"tokens": ["#p", "I", "figured", "out", "the", "problem", ":", "#p", "Open", "up", "the", "<code>proguard-rules.pro</code>", "for", "your", "project", "and", "add", "this", "to", "the", "bottom", ":", "#pre", "#p", "Basically", "how", "I", "solved", "it", "was", "this", "I", "tried", "to", "run", "my", "app", "in", "'release", "'", "mode", "and", "got", "a", "bunch", "of", "errors", "similar", "to", "this", "guy", "here", ":", "https", ":", "//github.com/square/okio/issues/144", "#p", "I", "pretty", "much", "followed", "what", "he", "said", "and", "fixed", "it", ".", "#p", "Hope", "this", "can", "help", "others", "with", "generating", "their", "APK", "'s", "!"], "answer_id": 31643496, "question_id": 31643339}, {"tokens": ["#p", "I", "know", "there", "'s", "already", "an", "answer", "here", ",", "but", "my", "situation", "was", "a", "little", "different", ",", "and", "I", "wanted", "to", "share", "it", ".", "#p", "For", "me", ",", "my", "project", "'s", "proguard", "file", ",", "namely", ",", "<code>proguard-rules.pro</code>", ",", "was", "somehow", "renamed", "to", "<code>proguard-android.txt</code>", ".", "#p", "The", "<code>proguard-android.txt</code>", "is", "reserved", "for", "Android", "'s", "default", "proguard", "rules", ",", "so", "essentially", ",", "I", "was", "overriding", "Android", "'s", "proguard", "file", ",", "which", "was", "causing", "havoc", ",", "and", "I", "would", "get", "the", ".", "#p", "Once", "I", "changed", "the", "filename", "in", "my", "project", "from", "<code>proguard-android.txt</code>", "to", "<code>proguard-rules.pro</code>", "I", "was", "able", "to", "get", "things", "working", "."], "answer_id": 32662432, "question_id": 31643339}, {"tokens": ["#p", "For", "me", "the", "following", "2", "lines", "inside", "helped", ":", "#pre"], "answer_id": 33022317, "question_id": 31643339}, {"tokens": ["#p", "I", "know", "this", "is", "an", "old", "question", "but", "maybe", "this", "answer", "works", "for", "someone", ".", "I", "added", "<code>-dontwarn butterknife.**</code>", "to", "proguard", "then", "gradle", "builds", "properly", "."], "answer_id": 33942750, "question_id": 31643339}, {"tokens": ["#p", "All", "the", "current", "answers", "to", "this", "question", "are", "just", "giving", "the", "Proguard", "rules", "that", "worked", "for", "them", ",", "every", "fix", "will", "be", "different", ".", "First", "off", ",", "confirm", "it", "'s", "a", "Proguard", "problem", "by", "checking", "that", "the", "classes-proguard", "directory", "is", "somewhere", "in", "the", "error", "message", ",", "something", "like", "this", ":", "<code>Unable to compute hash of /Users/Documents/projectX/app/build/intermediates/classes-proguard/release/classes.jar</code>", "#p", "This", "means", "it", "'s", "caused", "by", "an", "earlier", "Proguard", "error", "so", "you", "need", "to", "scroll", "up", "in", "the", "Messages", "window", "or", "Gradle", "Console", "window", "and", "check", "what", "warnings", "or", "errors", "you", "'re", "getting", ".", "Just", "as", "an", "example", ",", "in", "my", "current", "project", ",", "Square", "'s", "Picasso", "library", "is", "causing", "the", "error", ":", "<code>Warning: com.squareup.picasso.OkHttpDownloader: can't find referenced class com.squareup.okhttp.OkHttpClient</code>", ".", "I", "just", "added", "<code>-dontwarn com.squareup.okhttp.**</code>", "to", "ignore", "the", "warnings", ",", "and", "the", "app", "still", "worked", "as", "normal", ".", "#p", "A", "lot", "of", "the", "Proguard", "errors", "will", "be", "warnings", "about", "some", "class", "so", "just", "adding", "-dontwarn", "for", "whatever", "class", "is", "causing", "it", "in", "your", "project", "often", "works", ".", "#p", "I", "know", "the", "StackOverflow", "way", "is", "just", "Google", "the", "error", "message", ",", "copy", "and", "paste", "the", "top", "answer", "and", "hope", "for", "the", "best", "but", "here", "you", "'ve", "to", "understand", "it", "a", "bit", "and", "figure", "out", "the", "proguard", "rules", "for", "you", "!"], "answer_id": 34714083, "question_id": 31643339}, {"tokens": ["#p", "Disabling", "the", "option", "from", "my", "gradle", "file", "corrected", "the", "error", "in", "my", "build", ".", "#p", "build.gradle", "#pre"], "answer_id": 38862405, "question_id": 31643339}, {"tokens": ["#p", "I", "'m", "currently", "in", "the", "process", "of", "writing", "a", "paint", "program", "in", "java", ",", "designed", "to", "have", "flexible", "and", "comprehensive", "functionalities", ".", "It", "stemmed", "from", "my", "final", "project", ",", "that", "I", "wrote", "overnight", "the", "day", "before", ".", "Because", "of", "that", ",", "it", "'s", "got", "tons", "and", "tons", "of", "bugs", ",", "which", "I", "'ve", "been", "tackling", "one", "by", "one", "(", "e.g", ".", "I", "can", "only", "save", "files", "that", "will", "be", "empty", ",", "my", "rectangles", "do", "n't", "draw", "right", "but", "my", "circles", "do", "...", ")", ".", "#p", "This", "time", ",", "I", "'ve", "been", "trying", "to", "add", "undo/redo", "functionality", "to", "my", "program", ".", "However", ",", "I", "ca", "n't", "``", "undo", "''", "something", "that", "I", "have", "done", ".", "Therefore", ",", "I", "got", "an", "idea", "to", "save", "copies", "of", "my", "<code>BufferedImage</code>", "each", "time", "a", "<code>mouseReleased</code>", "event", "was", "fired", ".", "However", ",", "with", "some", "of", "the", "images", "going", "to", "1920x1080", "resolution", ",", "I", "figured", "that", "this", "would", "n't", "be", "efficient", ":", "storing", "them", "would", "probably", "take", "gigabytes", "of", "memory", ".", "#p", "The", "reason", "for", "why", "I", "ca", "n't", "simply", "paint", "the", "same", "thing", "with", "the", "background", "colour", "to", "undo", "is", "because", "I", "have", "many", "different", "brushes", ",", "which", "paint", "based", "on", "<code>Math.random()</code>", ",", "and", "because", "there", "are", "many", "different", "layers", "(", "in", "a", "single", "layer", ")", ".", "#p", "Then", ",", "I", "'ve", "considered", "cloning", "the", "<code>Graphics</code>", "objects", "that", "I", "use", "to", "paint", "to", "the", "<code>BufferedImage</code>", ".", "Like", "this", ":", "#pre", "#p", "I", "have", "n't", "done", "this", "before", ",", "so", "I", "have", "a", "couple", "questions", ":", "#li", "Would", "I", "still", "be", "wasting", "pointless", "memory", "by", "doing", "this", ",", "like", "cloning", "my", "<code>BufferedImages</code>", "?", "#li", "Is", "there", "necessarily", "a", "different", "way", "I", "can", "do", "this", "?"], "answer_count": 4, "question_id": 31370403}, {"tokens": ["#p", "No", ",", "storing", "a", "<code>Graphics</code>", "object", "is", "usually", "a", "bad", "idea", ".", ":", "-", ")", "#p", "Here", "'s", "why", ":", "Normally", ",", "<code>Graphics</code>", "instances", "are", "short-lived", "and", "is", "used", "to", "paint", "or", "draw", "onto", "some", "kind", "of", "surface", "(", "typically", "a", "<code>(J)Component</code>", "or", "a", "<code>BufferedImage</code>", ")", ".", "It", "holds", "the", "state", "of", "these", "drawing", "operations", ",", "like", "colors", ",", "stroke", ",", "scale", ",", "rotation", "etc", ".", "However", ",", "it", "does", "not", "hold", "the", "of", "the", "drawing", "operations", "or", "the", "pixels", ".", "#p", "Because", "of", "this", ",", "it", "wo", "n't", "help", "you", "achieve", "undo-functionality", ".", "The", "pixels", "belongs", "to", "the", "component", "or", "image", ".", "So", ",", "rolling", "back", "to", "a", "``", "previous", "''", "<code>Graphics</code>", "object", "will", "not", "modify", "the", "pixels", "back", "to", "the", "previous", "state", ".", "#p", "Here", "'s", "some", "approaches", "I", "know", "works", ":", "#li", "#p", "Use", "a", "``", "chain", "''", "of", "commands", "(", "command", "pattern", ")", "to", "modify", "the", "image", ".", "Command", "pattern", "works", "very", "nice", "with", "undo/redo", "(", "and", "is", "implemented", "in", "Swing/AWT", "in", "<code>Action</code>", ")", ".", "Render", "all", "commands", "in", "sequence", ",", "starting", "from", "the", "original", ".", "Pro", ":", "The", "state", "in", "each", "command", "is", "usually", "not", "so", "large", ",", "allowing", "you", "to", "have", "many", "steps", "of", "undo-buffer", "in", "memory", ".", "Con", ":", "After", "a", "lot", "of", "operations", ",", "it", "becomes", "slow", "...", "#li", "#p", "For", "every", "operation", ",", "store", "the", "entire", "<code>BufferedImage</code>", "(", "as", "you", "originally", "did", ")", ".", "Pro", ":", "Easy", "to", "implement", ".", "Con", ":", "You", "'ll", "run", "out", "of", "memory", "fast", ".", "Tip", ":", "You", "could", "serialize", "the", "images", ",", "making", "undo/redo", "taking", "less", "memory", ",", "at", "the", "cost", "of", "more", "processing", "time", ".", "#li", "#p", "A", "combination", "of", "the", "above", ",", "using", "command", "pattern/chain", "idea", ",", "but", "optimizing", "the", "rendering", "with", "``", "snapshots", "''", "(", "as", "<code>BufferedImages</code>", ")", "when", "reasonable", ".", "Meaning", "you", "wo", "n't", "need", "to", "render", "everything", "from", "the", "beginning", "for", "each", "new", "operation", "(", "faster", ")", ".", "Also", "flush/serialize", "these", "snapshots", "to", "disk", ",", "to", "avoid", "running", "out", "of", "memory", "(", "but", "keep", "them", "in", "memory", "if", "you", "can", ",", "for", "speed", ")", ".", "You", "could", "also", "serialize", "the", "commands", "to", "disk", ",", "for", "virtually", "unlimited", "undo", ".", "Pro", ":", "Works", "great", "when", "done", "right", ".", "Con", ":", "Will", "take", "some", "time", "to", "get", "right", ".", "#p", "PS", ":", "For", "all", "of", "the", "above", ",", "you", "need", "to", "use", "a", "background", "thread", "(", "like", "<code>SwingWorker</code>", "or", "similar", ")", "to", "update", "the", "displayed", "image", ",", "store", "commands/images", "to", "disk", "etc", "in", "the", "background", ",", "to", "keep", "a", "responsive", "UI", ".", "#p", "Good", "luck", "!", ":", "-", ")"], "answer_id": 31416048, "question_id": 31370403}, {"tokens": ["#p", "You", "are", "going", "to", "want", "to", "try", "to", "compress", "your", "images", "(", "using", "PNG", "is", "a", "good", "start", ",", "it", "has", "some", "nice", "filters", "along", "with", "zlib", "compression", "that", "really", "help", ")", ".", "I", "think", "the", "best", "way", "to", "do", "this", "is", "to", "#li", "make", "a", "copy", "of", "the", "image", "before", "you", "modify", "it", "#li", "modify", "it", "#li", "compare", "the", "copy", "with", "the", "new", "modified", "image", "#li", "for", "every", "pixel", "you", "did", "n't", "change", ",", "make", "that", "pixel", "a", "black", ",", "transparent", "pixel", ".", "#p", "That", "should", "compress", "really", ",", "really", "well", "in", "PNG", ".", "Try", "black", "and", "white", "and", "see", "if", "there", "is", "a", "difference", "(", "I", "do", "n't", "think", "there", "will", "be", ",", "but", "make", "sure", "you", "set", "the", "rgb", "values", "to", "the", "same", "thing", ",", "not", "just", "the", "alpha", "value", ",", "so", "it", "will", "compress", "better", ")", ".", "#p", "You", "might", "get", "even", "better", "performance", "out", "of", "cropping", "the", "image", "to", "the", "part", "that", "was", "changed", ",", "but", "I", "'m", "not", "sure", "how", "much", "you", "gain", "from", "that", ",", "considering", "the", "compression", "(", "and", "the", "fact", "that", "you", "will", "have", "to", "now", "save", "and", "remember", "the", "offset", ")", ".", "#p", "Then", ",", "since", "you", "have", "an", "alpha", "channel", ",", "if", "they", "undo", ",", "you", "can", "just", "put", "the", "undo", "image", "back", "on", "top", "of", "the", "current", "image", "and", "you", "'re", "set", "."], "answer_id": 31445010, "question_id": 31370403}, {"tokens": ["#p", "Idea", "#", "1", ",", "storing", "the", "<code>Graphics</code>", "objects", "simply", "would", "n't", "work", ".", "The", "<code>Graphics</code>", "should", "not", "be", "considered", "as", "``", "holding", "''", "some", "display", "memory", ",", "but", "rather", "as", "a", "handle", "to", "access", "an", "area", "of", "display", "memory", ".", "In", "the", "case", "of", "<code>BufferedImage</code>", ",", "each", "<code>Graphics</code>", "object", "will", "be", "always", "the", "handle", "to", "the", "same", "given", "image", "memory", "buffer", ",", "so", "they", "all", "will", "represent", "the", "same", "image", ".", "Even", "more", "importantly", ",", "As", "they", "do", "not", "store", "anything", ",", "there", "is", "no", "way", "whatsoever", "they", "could", "``", "re-store", "''", "anything", ".", "#p", "Idea", "#", "2", ",", "cloning", "the", "<code>BufferedImage</code>", "s", "is", "a", "much", "better", "idea", ",", "but", "you", "'ll", "indeed", "be", "wasting", "memory", ",", "and", "quickly", "run", "out", "of", "it", ".", "It", "helps", "only", "to", "store", "those", "parts", "of", "the", "image", "affected", "by", "the", "draw", ",", "for", "example", "using", "rectangular", "areas", ",", "but", "it", "still", "costs", "a", "lot", "of", "memory", ".", "Buffering", "those", "undo", "images", "to", "disk", "could", "help", ",", "but", "it", "will", "make", "your", "UI", "slow", "and", "unresponsive", ",", "and", "that", "'s", ";", "furthermore", ",", "it", "makes", "you", "application", "more", ".", "#p", "My", "alternative", "would", "be", "to", "store", "store", "the", "image", "modifications", "in", "a", "list", ",", "rendered", "from", "first", "to", "last", "on", "top", "of", "the", "image", ".", "An", "undo", "operation", "then", "simply", "consists", "of", "removing", "the", "modification", "from", "the", "list", ".", "#p", "This", "requires", "you", "to", ",", "i.e", ".", "create", "a", "class", "that", "implements", "a", "single", "modification", ",", "by", "providing", "a", "<code>void draw(Graphics gfx)</code>", "method", "which", "performs", "the", "actual", "drawing", ".", "#p", "As", "you", "said", ",", "pose", "an", "additional", "problem", ".", "However", ",", "the", "key", "problem", "is", "your", "use", "of", "<code>Math.random()</code>", "to", "create", "random", "numbers", ".", "Instead", ",", "perform", "each", "random", "modification", "with", "a", "<code>Random</code>", "created", "from", "a", "fixed", "seed", "value", ",", "so", "that", "the", "(", "pseudo-", ")", "random", "number", "sequences", "are", "the", "same", "on", "each", "invocation", "of", "<code>draw()</code>", ",", "i.e.", ",", "each", "draw", "has", "exactly", "the", "same", "effects", ".", "(", "That", "'s", "why", "they", "are", "called", "``", "pseudo-random", "''", "--", "the", "generated", "numbers", "look", "random", ",", "but", "they", "are", "just", "as", "deterministic", "as", "any", "other", "function", ".", ")", "#p", "In", "contrast", "to", "the", "image", "storing", "technique", ",", "which", "has", "memory", "problems", ",", "the", "problem", "with", "this", "technique", "is", "that", "many", "modifications", "may", "make", "the", "GUI", "slow", ",", "especially", "if", "the", "modifications", "are", "computationally", "intensive", ".", "To", "prevent", "this", ",", "the", "simplest", "way", "would", "be", "to", "fix", "an", "appropriate", ".", "If", "this", "limit", "would", "be", "exceeded", "by", "adding", "a", "new", "modification", ",", "remove", "the", "oldest", "modification", "the", "list", "and", "apply", "it", "to", "the", "backing", "<code>BufferedImage</code>", "itself", ".", "#p", "The", "following", "shows", "that", "(", "and", "how", ")", "this", "all", "works", "together", ".", "It", "also", "includes", "a", "nice", "``", "redo", "''", "feature", "for", "redoing", "undone", "actions", ".", "#pre"], "answer_id": 31466466, "question_id": 31370403}, {"tokens": ["#p", "Most", "games", "(", "or", "programs", ")", "saves", "only", "the", "necessary", "parts", "and", "thats", "what", "you", "should", "do", ".", "#li", "#p", "a", "rectangle", "can", "be", "represented", "by", "width", ",", "height", ",", "background", "color", ",", "stroke", ",", "outline", "etc", ".", "So", "you", "can", "just", "save", "these", "parameters", "instead", "of", "the", "actual", "rectangle", ".", "``", "rectangle", "color", ":", "red", "width", ":", "100", "height", "100", "''", "#li", "#p", "for", "the", "random", "aspects", "of", "your", "program", "(", "random", "color", "on", "brushes", ")", "you", "can", "either", "save", "the", "seed", "or", "save", "the", "result", ".", "``", "random", "seed", ":", "1023920", "''", "#li", "#p", "if", "the", "program", "allows", "user", "to", "import", "images", "then", "you", "should", "copy", "and", "save", "the", "images", ".", "#li", "#p", "fillters", "and", "effects", "(", "zoom/transformation/glow", ")", "can", "all", "be", "represented", "by", "parameters", "just", "like", "shapes", ".", "eg", ".", "``", "zoom", "scale", ":", "2", "''", "``", "rotate", "angle", ":", "30", "''", "#li", "#p", "so", "you", "save", "all", "these", "parameters", "in", "a", "list", "and", "when", "then", "you", "need", "to", "undo", "you", "can", "mark", "the", "parameters", "as", "deleted", "(", "but", "dont", "actually", "delete", "them", "since", "you", "want", "to", "be", "able", "to", "redo", "as", "well", ")", ".", "Then", "you", "can", "erase", "the", "whole", "canvas", "and", "recreate", "the", "image", "based", "on", "the", "parameters", "minus", "those", "that", "were", "marked", "as", "deleted", ".", "#p", "*for", "stuff", "like", "lines", "you", "can", "just", "store", "their", "locations", "in", "a", "list", "."], "answer_id": 34957605, "question_id": 31370403}, {"tokens": ["#p", "I", "am", "using", "jna.jar", ",", "jna-3.2.5.jar", "and", "jna-3.3.0-platform.jar", "in", "my", "Java", "Project", ".", "#p", "This", "is", "the", "Winapi", "function", "I", "want", "to", "replicate", ".", "#pre", "#p", "This", "is", "my", "Java", "code", "#pre", "#p", "When", "I", "get", "into", "this", "method", "of", "the", "callback", ",", "I", "get", "unexpected", "results", ":", "#pre", "#p", "This", "table", "explains", "What", "works", "and", "what", "does", "n't", "work", "in", "32", "bit", "and", "64", "bit", "system", "when", "I", "change", "the", "data", "type", "of", "the", "variables", ".", "#pre", "#blockquote", "#p", "If", "I", "use", "the", "above", "code", "in", "a", "64", "bit", "system", ",", "I", "can", "capture", "the", "desktop", "(", "I", "can", "access", "the", "data", "from", "the", "Pointer", "variable", ")", ".", "If", "I", "use", "the", "same", "code", "in", "32", "bit", "system", ",", "I", "am", "not", "getting", "any", "image", ".", "You", "can", "see", "my", "whole", "code", "#p", "Why", "is", "the", "error", "in", "my", "code", "?", "How", "can", "I", "fix", "that", "?", "#p", "For", "your", "Information", ".", "As", "you", "see", "in", "the", "<code>screenSkip.java</code>", ",", "Whenever", "MagSetWindowSource", "function", "is", "called", ".", "MagImageScalingCallback", "(", "in", "line", "80", ")", "is", "called", ".", "#p", "Problems", "in", "this", "section", "of", "code", "#p", "If", "I", "run", "this", "code", "on", "a", "64", "bit", "system", "<code>srcdata</code>", "and", "<code>destdata</code>", "will", "hold", "the", "array", "of", "integer", "pixels", "of", "the", "Desktop", "(", "If", "I", "save", "this", "as", "image", ",", "it", "captures", "the", "desktop", ")", ".", "But", "if", "I", "run", "the", "same", "code", "on", "32", "bit", "system", "these", "both", "variable", "array", "pixel", "value", "is", "always", "zero", "(", "If", "I", "save", "the", "image", ",", "it", "is", "always", "black", ")", "#p", "64", "bit", "system", "[", "!", "[", "enter", "image", "description", "here", "]", "[", "2", "]", "]", "[", "2", "]", "#p", "32", "bit", "system", "#p", "@", "david-heffernan", "I", "am", "running", "this", "code", "on", "a", "32-bit", "system", ".", "I", "know", "<code>The Magnification API is not supported under WOW64;</code>", ".", "Which", "means", "32-bit", "magnification", "application", "works", "on", "a", "32-bit", "system", "and", "64-bit", "magnification", "application", "works", "on", "a", "64-bit", "system", ".", "Please", "stop", "commenting", "that", "magnification", "API", "does", "n't", "work", "on", "WOW64", "and", "try", "to", "execute", "this", "code", "on", "a", "32-bit", "system", ".", "#p", "As", "for", "your", "request", "the", "below", "image", "shows", "the", "configuration", "of", "my", "System", ".", "#p"], "answer_count": 1, "question_id": 32536171}, {"tokens": ["#p", "The", "callback", "is", "proper", "-", "there", "is", "no", "flaw", "in", "your", "code", ",", "beside", "you", "are", "using", "deprecated", "functions", ".", "#p", "Consider", "using", "this", ":", "#pre"], "answer_id": 34800503, "question_id": 32536171}, {"tokens": ["#p", "I", "'ve", "these", "classes", ".", "#pre", "#p", "I", "'ve", "a", "class", "which", "uses", "2", "generic", "types", "#pre", "#p", "where", "W", "is", "Wire", "type", "&", "S", "is", "Socket", "type", ".", "#p", "I", "'m", "trying", "to", "enforce", "compile", "time", "check", "to", "ensure", "that", "socket", "&", "wire", "have", "the", "same", "color", ".", "#p", "I", "tried", "doing", "this", ":", "#pre", "#p", "But", "this", "does", "n't", "really", "ensure", "that", "the", "<code>Color</code>", "used", "is", "same", "for", "both", "generic", "types", "and", "still", "lets", "me", "do", "this", ":", "#pre", "#p", "(", "Why", "this", "happens", "has", "been", "explained", "brilliantly", "by", "Radiodef", "here", ")", "#p", "How", "can", "I", "enforce", "compile", "time", "check", "to", "ensure", "that", "socket", "&", "wire", "have", "the", "same", "color", "?"], "answer_count": 3, "question_id": 32243951}, {"tokens": ["#p", "Seems", "that", "it", "'s", "better", "to", "parameterize", "<code>Socket</code>", "and", "<code>Wire</code>", "with", "color", ":", "#pre", "#p", "This", "way", "you", "can", "introduce", "one", "more", "generic", "parameter", "to", "the", "<code>Connection</code>", ":", "#pre", "#p", "And", "use", "it", "like", "this", ":", "#pre"], "answer_id": 32244114, "question_id": 32243951}, {"tokens": ["#p", "As", "a", "minor", "variation", "of", "Tagir", "Valeev", "'s", "answer", ":", "You", "can", "possibly", "get", "rid", "of", "the", "third", "generic", "parameter", "of", "the", "<code>Connection</code>", "class", ",", "by", "making", "its", "constructor", "<code>private</code>", "(", "or", "maybe", "package", "visible", ")", ",", "and", "offer", "a", "factory", "method", "for", "creating", "<code>Connection</code>", "instances", "that", "ensures", "that", "the", "<code>Color</code>", "type", "is", "the", "same", "for", "the", "given", "<code>Wire</code>", "-", "and", "<code>Socket</code>", "types", ":", "#pre"], "answer_id": 32245348, "question_id": 32243951}, {"tokens": ["#p", "Attempting", "to", "mix-in", "an", "arbitrary", "properly", "like", "'Color", "'", "is", "a", "typical", "trigger", "for", "the", "whole", "inheritance", "vs", "composition", "aka", ".", "is-a", "vs", "has-a", "debate", ".", "The", "general", "wisdom", "for", "a", "language", "like", "Java", "is", "that", "one", "should", "favor", "composition", "over", "inheritance", "in", "most", "general", "cases", "to", "avoid", "things", "like", "tricky", "wildcards", ".", "Other", "languages", "may", "offer", "more", "in", "the", "way", "of", "aspect-oriented", "programming", "#p", "While", "other", "answers", "may", "help", "you", "achieve", "correct", "generics", ",", "I", "'d", "suggest", "reading", "over", "the", "wikipedia", "page", "on", "the", "subject", "and", "thinking", "about", "whether", "you", "really", "need", "to", "enforce", "colour-matching", "at", "compile", "time", "or", "whether", "a", "runtime", "constructor", "check", "would", "do", "the", "job", "."], "answer_id": 32275111, "question_id": 32243951}, {"tokens": ["#p", "Each", "time", "I", "run", "the", "application", ",", "my", "SecurityException", "gets", "thrown", "and", "the", "error", "from", "the", "debugger", "reads", "as", "so", ":", "#p", "java.lang.SecurityException", ":", "``", "gps", "''", "location", "provider", "requires", "ACCESS_COARSE_LOCATION", "or", "ACCESS_FINE_LOCATION", "permission", ".", "#p", "This", "seems", "like", "a", "simple", "mistake", ",", "however", ",", "my", "manifest", "file", "is", "completely", "correct", ".", "Here", "it", "is", ",", "and", "here", "is", "my", "MapActivity", "code", "as", "well", ":", "#pre", "#p", "#pre", "#p", "#p", "My", "Activity", ":", "#pre"], "answer_count": 2, "question_id": 32083913}, {"tokens": ["#p", "<code>ACCESS_COARSE_LOCATION</code>", ",", "<code>ACCESS_FINE_LOCATION</code>", ",", "and", "<code>WRITE_EXTERNAL_STORAGE</code>", "are", "all", "part", "of", "the", "Android", "6.0", "runtime", "permission", "system", ".", "In", "addition", "to", "having", "them", "in", "the", "manifest", "as", "you", "do", ",", "you", "have", "to", "request", "them", "from", "the", "user", "at", "runtime", "(", "using", "<code>requestPermissions()</code>", ")", "and", "see", "if", "you", "have", "them", "(", "using", "<code>checkSelfPermission()</code>", ")", ".", "#p", "One", "workaround", "in", "the", "short", "term", "is", "to", "drop", "your", "<code>targetSdkVersion</code>", "below", "23", ".", "#p", "But", ",", "eventually", ",", "you", "will", "want", "to", "update", "your", "app", "to", "use", "the", "runtime", "permission", "system", ".", "#p", "For", "example", ",", "this", "activity", "works", "with", "five", "permissions", ".", "Four", "are", "runtime", "permissions", ",", "though", "it", "is", "presently", "only", "handling", "three", "(", "I", "wrote", "it", "before", "<code>WRITE_EXTERNAL_STORAGE</code>", "was", "added", "to", "the", "runtime", "permission", "roster", ")", ".", "#pre", "#p", "(", "from", "this", "sample", "project", ")", "#blockquote", "#p", "I", "would", "use", "the", "constants", "defined", "on", "<code>Manifest.permission</code>", ",", "as", "shown", "above", ".", "#blockquote", "#p", "That", "will", "be", "passed", "back", "to", "you", "as", "the", "first", "parameter", "to", "<code>onRequestPermissionsResult()</code>", ",", "so", "you", "can", "tell", "one", "<code>requestPermissions()</code>", "call", "from", "another", "."], "answer_id": 32084038, "question_id": 32083913}, {"tokens": ["#p", "My", "simple", "solution", "is", "this", "#pre", "#p", "or", "you", "can", "open", "permission", "dialog", "in", "else", "like", "this", "#pre"], "answer_id": 36359961, "question_id": 32083913}, {"tokens": ["#p", "I", "'m", "trying", "to", "determine", "whether", "the", "following", "statements", "are", "guaranteed", "to", "be", "true", ":", "#pre", "#p", "I", "'ve", "always", "assumed", "that", "autoboxing", "was", "equivalent", "to", "calling", "<code>valueOf()</code>", "on", "the", "corresponding", "type", ".", "Every", "discussion", "that", "I", "'ve", "seen", "on", "the", "topic", "seems", "to", "support", "my", "assumption", ".", "But", "all", "I", "could", "find", "in", "the", "JLS", "was", "the", "following", "(", "\u00a75.1.7", ")", ":", "#blockquote", "#p", "That", "describes", "behavior", "identical", "to", "that", "of", "<code>valueOf()</code>", ".", "But", "there", "does", "n't", "seem", "to", "be", "any", "guarantee", "that", "<code>valueOf()</code>", "is", "actually", "invoked", ",", "meaning", "there", "could", "theoretically", "be", "an", "implementation", "that", "keeps", "a", "separate", ",", "dedicated", "cache", "for", "autoboxed", "values", ".", "In", "such", "a", "case", ",", "there", "might", "not", "be", "identity", "equality", "between", "cached", "autoboxed", "values", "and", "regular", "cached", "boxed", "values", ".", "#p", "Oracle", "'s", "autoboxing", "tutorial", "states", "matter-of-factly", "that", "<code>li.add(i)</code>", "is", "compiled", "to", "<code>li.add(Integer.valueOf(i))</code>", ",", "where", "<code>i</code>", "is", "an", "<code>int</code>", ".", "But", "I", "do", "n't", "know", "whether", "the", "tutorial", "should", "be", "considered", "an", "authoritative", "source", "."], "answer_count": 4, "question_id": 31445024}, {"tokens": ["#p", "I", "first", "tought", "your", "question", "was", "a", "dupe", "of", "What", "code", "does", "the", "compiler", "generate", "for", "autoboxing", "?", "#p", "However", ",", "after", "your", "comment", "on", "@", "ElliottFrisch", "I", "realized", "it", "was", "different", ":", "#blockquote", "#p", "For", "other", "readers", ",", "assume", "that", "``", "behaves", "that", "way", "''", "means", "using", "<code>valueOf</code>", ".", "#p", "Remember", "that", "there", "are", "multiples", "compilers", "for", "Java", ".", "To", "be", "``", "legal", "''", "they", "must", "follow", "the", "contract", "given", "in", "the", "JLS", ".", "Therefore", ",", "as", "long", "as", "all", "the", "rules", "here", "are", "respected", ",", "there", "is", "no", "guarantee", "of", "how", "autoboxing", "is", "internally", "implemented", ".", "#p", "But", "I", "do", "n't", "see", "any", "reason", "to", "not", "use", "<code>valueOf</code>", ",", "specially", "that", "it", "uses", "the", "cached", "values", "and", "is", "the", "recommended", "way", "as", "per", "this", "article", "by", "Joseph", "D.", "Darcy", "."], "answer_id": 31445150, "question_id": 31445024}, {"tokens": ["#blockquote", "#p", "I", "'m", "running", "Oracle", "Java", "1.7.0_72", "it", "looks", "like", "it", "does", "use", "valueOf", ".", "Below", "is", "some", "code", "and", "the", "bytecode", "for", "it", ".", "The", "bytecode", "shows", "it", "is", "using", "valueOf", ".", "#pre", "#p", "But", "I", "do", "not", "know", "what", "Open", "JDK", "uses", ".", "Will", "try", "it", "out", "."], "answer_id": 31752011, "question_id": 31445024}, {"tokens": ["#p", "Until", "the", "language", "specification", "mentions", "it", ",", "it", "is", "not", "guaranteed", "that", "autoboxing", "is", "equivalent", "to", "a", "call", "to", "the", "static", "<code>valueOf</code>", "methods", ".", "It", "is", "an", "aspect", ",", "not", "part", "of", "the", "boxing", "conversion", "specification", ".", "An", "implementation", "is", "theoretically", "free", "to", "use", "another", "mechanism", "as", "long", "as", "it", "conforms", "to", "the", "rule", "you", "mentioned", "from", "the", "JLS", ".", "#p", "In", "practice", ",", "there", "are", "many", "Sun", "JDK", "bug", "reports", "(", "e.g", ".", "JDK-4990346", "and", "JDK-6628737", ")", "that", "clearly", "imply", "that", "when", "autoboxing", "was", "introduced", "in", "Java", "5", ",", "the", "intention", "was", "having", "the", "compiler", "to", "rely", "on", "<code>valueOf</code>", "as", "stated", "in", "JDK-6628737", ":", "#blockquote", "#p", "But", "that", "'s", "only", "for", "javac", ",", "not", "necessarily", "all", "compilers", "."], "answer_id": 31760309, "question_id": 31445024}, {"tokens": ["#p", "Autoboxing", "absolutely", "implemented", "using", "<code>valueOf()</code>", "...", "in", "the", "OpenJDK", ".", "If", "that", "'s", "your", "implementation", ",", "read", "on", "...", "if", "not", ",", "skip", "to", "below", ".", "#pre", "#p", "Java", "documentation", "states", "that", "<code>Boolean.valueOf()</code>", "always", "returns", "<code>Boolean.TRUE</code>", "or", "<code>Boolean.FALSE</code>", ",", "therefore", "your", "reference", "comparisons", "in", "these", "cases", "will", "succeed", ".", "#pre", "#p", "For", "this", "particular", "example", ",", "under", "the", "OpenJDK", "implementation", "with", "default", "settings", ",", "it", "will", "work", "by", "virtue", "of", "the", "fact", "that", "you", "picked", "a", "value", "<", "128", "which", "is", "cached", "at", "startup", "(", "although", "this", "can", "be", "overridden", "as", "a", "commandline", "arg", ")", ".", "It", "also", "work", "for", "larger", "values", "if", "it", "'s", "frequently", "used", "enough", "to", "be", "cached", ".", "Unless", "you", "'re", "working", "under", "``", "safe", "''", "assumptions", "about", "the", "Integer", "cache", ",", "do", "n't", "expect", "the", "reference", "comparison", "to", "be", "an", "equality", ".", "#p", "<code>Long</code>", ",", "<code>Short</code>", ",", "<code>Character</code>", "and", "<code>Byte</code>", "incidentally", "implement", "this", "caching", "too", ",", "but", "unlike", "<code>Integer</code>", ",", "it", "'s", "not", "tunable", ".", "<code>Byte</code>", "will", "always", "work", "if", "you", "'re", "comparing", "autobox/", "<code>valueOf()</code>", "references", "since", "obviously", ",", "you", "ca", "n't", "go", "out", "of", "range", ".", "<code>Float</code>", "and", "<code>Double</code>", "will", "unsurprisingly", "always", "create", "a", "new", "instance", "."], "answer_id": 31871515, "question_id": 31445024}, {"tokens": ["#p", "I", "am", "developing", "a", "Java", "application", "that", "communicates", "with", "a", "remote", "server", "over", "HTTP", ".", "#p", "A", "few", "months", "ago", "I", "tried", "switching", "to", "HTTPS", "by", "installing", "a", "StartSSL", "certificate", "on", "the", "server", ".", "Common", "browsers", "like", "Chrome", "or", "Firefox", "accepted", "the", "certificate", ",", "but", "my", "application", "refused", "the", "connection", "since", "StartSSL", "is", "not", "in", "Java", "'s", "default", "trusted", "CA", "list", ".", "Finally", ",", "I", "went", "back", "to", "using", "HTTP", ".", "#p", "Now", "that", "Let", "'s", "Encrypt", "started", "their", "public", "beta", ",", "I", "'d", "like", "to", "know", "if", "Java", "currently", "works", "(", "or", "is", "confirmed", "to", "be", "working", "in", "the", "future", ")", "with", "their", "certificates", "by", "default", ".", "#p", "Let", "'s", "Encrypt", "got", "their", "intermediate", "cross-signed", "by", "IdenTrust", ",", "which", "should", "be", "good", "news", ".", "However", ",", "I", "can", "not", "find", "any", "of", "these", "two", "in", "the", "output", "of", "this", "command", ":", "#pre", "#p", "I", "know", "that", "trusted", "CAs", "can", "be", "added", "manually", "on", "each", "machine", ",", "but", "since", "my", "application", "should", "be", "free", "to", "download", "and", "executable", "without", "any", "further", "configuration", ",", "I", "am", "looking", "for", "a", "solutions", "that", "works", "``", "out", "of", "the", "box", "''", ".", "Do", "you", "have", "good", "news", "for", "me", "?"], "answer_count": 4, "question_id": 34110426}, {"tokens": ["#p", "[", ":", "According", "to", "https", ":", "//bugs.openjdk.java.net/browse/JDK-8154757", "the", "IdenTrust", "CA", "will", "be", "included", "in", "Oracle", "Java", "8u101", ".", "]", "#p", "[", ":", "Java", "8u101", "has", "been", "released", "and", "does", "indeed", "include", "the", "IdenTrust", "CA", ":", "release", "notes", "]"], "answer_id": 34111150, "question_id": 34110426}, {"tokens": ["#p", "I", "know", "the", "OP", "asked", "for", "a", "solution", "without", "local", "configuration", "changes", ",", "but", "in", "case", "you", "want", "to", "add", "the", "trust", "chain", "to", "the", "keystore", "permanently", ":", "#pre", "#p", "source", ":", "https", ":", "//community.letsencrypt.org/t/will-the-cross-root-cover-trust-by-the-default-list-in-the-jdk-jre/134/13"], "answer_id": 35454903, "question_id": 34110426}, {"tokens": ["#p", "For", "JDK", "which", "does", "n't", "support", "Let", "'s", "Encrypt", "certificates", "yet", ",", "you", "can", "add", "those", "ones", "to", "the", "JDK", "<code>cacerts</code>", "following", "this", "process", "(", "thanks", "to", "this", ")", ".", "#p", "Download", "all", "the", "certificates", "on", "https", ":", "//letsencrypt.org/certificates/", "(", "choose", "the", "format", ")", "and", "add", "them", "one", "by", "one", "with", "this", "kind", "of", "command", "(", "example", "for", "<code>letsencryptauthorityx1.der</code>", ")", ":", "#pre"], "answer_id": 37969672, "question_id": 34110426}, {"tokens": ["#p", "Detailed", "answer", "for", "those", "of", "us", "willing", "to", "make", "local", "config", "changes", "that", "includes", "backing", "up", "the", "config", "file", ":", "#p", "If", "you", "do", "n't", "have", "a", "test", "program", "already", ",", "you", "can", "use", "my", "java", "SSLPing", "ping", "program", "which", "tests", "the", "TLS", "handshake", "(", "will", "work", "with", "any", "SSL/TLS", "port", ",", "not", "just", "HTTPS", ")", ".", "I", "'ll", "use", "the", "prebuilt", "SSLPing.jar", ",", "but", "reading", "the", "code", "and", "building", "it", "yourself", "is", "a", "quick", "and", "easy", "task", ":", "#pre", "#p", "Since", "my", "Java", "verison", "is", "earlier", "than", "1.8.0_101", "(", "not", "released", "at", "the", "time", "of", "this", "writing", ")", ",", "a", "Let", "'s", "Encrypt", "certificate", "will", "not", "verify", "by", "default", ".", "Let", "'s", "see", "what", "failure", "looks", "like", "before", "applying", "the", "fix", ":", "#pre", "#p", "I", "'m", "on", "Mac", "OS", "X", "with", "the", "JAVA_HOME", "environment", "variable", "set", ".", "Later", "commands", "will", "assume", "this", "variable", "is", "set", "for", "the", "java", "installation", "you", "are", "modifying", ":", "#pre", "#p", "Make", "a", "backup", "of", "the", "cacerts", "file", "we", "will", "be", "modifying", "so", "you", "can", "back", "out", "any", "change", "without", "reinstalling", "the", "JDK", ":", "#pre", "#p", "Download", "the", "signing", "certificate", "we", "need", "to", "import", ":", "#pre", "#p", "Perform", "the", "import", ":", "#pre", "#p", "Verify", "that", "Java", "is", "now", "happy", "connecting", "to", "the", "SSL", "port", ":", "#pre"], "answer_id": 38312489, "question_id": 34110426}, {"tokens": ["#p", "What", "does", "Gradle", "<code>transitive = true</code>", "do", "exactly", "?", "It", "is", "not", "clear", "from", "the", "Gradle", "documentation", ".", "This", "is", "in", "the", "context", "of", "<code>compile</code>", "within", "<code>build.gradle</code>", ".", "In", "my", "case", "I", "'m", "depending", "Android", "'s", "crashlytics", ".", "#pre", "#p", "Several", "Gradle", "docs", "(", "here", "and", "here", ")", "imply", "that", "``", "transitive", "''", "defaults", "to", "true", ".", "Yet", "removing", "<code>transitive = true</code>", "results", "in", "transitive", "dependencies", "not", "being", "brought", "in", "(", "in", "particular", "<code>KitGroup</code>", ")", ".", "#pre", "#p", "The", "docs", "say", "it", "defaults", "to", "true", ",", "yet", "the", "actual", "behavior", "seems", "to", "be", "the", "opposite", ".", "#p", "I", "am", "running", "Gradle", "2.2.1", ".", "Perhaps", "the", "behavior", "changed", "between", "2.2", "and", "2.4", "?", "#p", ":", "Related", "Transitive", "dependencies", "not", "resolved", "for", "aar", "library", "using", "gradle"], "answer_count": 4, "question_id": 31731014}, {"tokens": ["#p", "<code>transitive</code>", "controls", "transitivity", ".", "Gradle", "normally", "defaults", "to", "transitive", ",", "except", "when", "it", "does", "n't", ".", "There", "'s", "a", "bug", "with", "transitivity", "and", "classifiers", ",", "see", "https", ":", "//issues.gradle.org/browse/GRADLE-3188", "."], "answer_id": 31734267, "question_id": 31731014}, {"tokens": ["#p", "My", "guess", "is", "that", "the", "Crashlytics", "artifact", "to", "which", "you", "'re", "referring", "manually", "specifies", "dependencies", "as", "transitive", "(", "<code>transitive=false</code>", ")", "so", "that", "you", "are", "n't", "forced", "to", "bring", "those", "dependencies", "in", "by", "default", ".", "That", "'s", "why", "you", "'re", "seeing", "the", "opposite", "behavior", ".", "For", "example", "some", "developers", "may", "not", "want", "to", "pull", "in", "all", "of", "Google", "Play", "Services", "or", "whatever", "else", "Crashlytics", "may", "use", "if", "present", ".", "#p", "So", ",", "by", "removing", "that", ",", "Gradle", "no", "longer", "pulls", "in", "the", "dependency", ",", "and", "it", "fails", "to", "build", ".", "You", "can", "specify", "that", "dependency", "manually", "if", "you", "need", "to", ".", "#p", "-", "I", "think", "the", "bigger", "issue", "at", "hand", "is", "that", "you", "should", "n't", "be", "referencing", "the", "Crashlytics", "artifact", "directly", "-", "you", "should", "be", "using", "Fabric", ",", "and", "pulling", "in", "Crashlytics", "as", "a", "result", ":", "https", ":", "//dev.twitter.com/fabric/android/integrating"], "answer_id": 31734355, "question_id": 31731014}, {"tokens": ["#p", "You", "are", "using", "the", "<code>@aar</code>", "notation", ".", "#blockquote", "#p", "Using", "the", "<code>@aar</code>", "notation", "if", "you", "want", "to", "download", "the", "dependencies", ",", "you", "should", "add", "<code>transitive=true</code>", ".", "#p", "I", "'d", "expect", "that", "omitting", "@", "aar", "it", "should", "work", "without", "adding", "the", "transitive", "attribute", "."], "answer_id": 31753839, "question_id": 31731014}, {"tokens": ["#p", "Sets", "whether", "this", "dependency", "should", "be", "resolved", "including", "or", "excluding", "its", "transitive", "dependencies", ".", "The", "artifacts", "belonging", "to", "this", "dependency", "might", "themselve", "have", "dependencies", "on", "other", "artifacts", ".", "The", "latter", "are", "called", "transitive", "dependencies", "."], "answer_id": 38888648, "question_id": 31731014}, {"tokens": ["#p", "I", "have", "a", "server", "side", "implemented", "in", "<code>Scala</code>", "and", "<code>React/Flux</code>", "based", "front", "end", ".", "My", "services", "return", "<code>Futures</code>", "and", "they", "are", "handled", "within", "Scalatra", "'s", "<code>AsyncResult</code>", "for", "JSON", "responses", ".", "#p", "For", "isomorphic/server", "side", "rendering", "setup", "I", "did", "not", "want", "to", "change", "services", "to", "be", "blocking", "so", "I", "started", "with", "Scala", "Future-", ">", "<code>java.util.function.Function</code>", "conversion", "shown", "here", ".", "#p", "But", "the", "dispatcher", "in", "Flux", "would", "like", "to", "have", "JS", "Promise", ".", "So", "far", "I", "found", "only", "rather", "complicated", "sounding", "way", "around", "this", "Slides", "68-81", "#p", "Is", "there", "any", "recommended", "way", "to", "deal", "with", "this", "Scala", "Future", "-", ">", "JS", "Promise", "conversion", "?"], "answer_count": 1, "question_id": 32046078}, {"tokens": ["#p", "I", "will", "try", "to", "answer", "the", "Scala", "Future", "to", "JS", "Promise", "part", "of", "the", "question", ".", "As", "you", "have", "n't", "provided", "an", "example", ".", "I", "will", "provide", "one", "here", "with", "the", "conversion", ".", "If", "we", "say", "that", "we", "have", "a", "Future", "implemented", "in", "Scala", "this", "way", ":", "#pre", "#p", "then", "the", "corresponding", "code", "in", "JavaScript/ES6", "could", "look", "like", "this", ":", "#pre", "#p", "I", "know", "this", "is", "not", "Scala", ",", "but", "I", "wanted", "to", "include", "it", "for", "completeness", ".", "This", "is", "a", "mapping", "of", "<code>Future</code>", "to", "<code>Promise</code>", "taken", "from", "Scala.js", "docs", ":", "#pre"], "answer_id": 37815600, "question_id": 32046078}, {"tokens": ["#p", "When", "I", "add", "the", "configurations", "for", "google", "analytics", "to", "my", "Android", "project", "and", "build", "the", "project", "I", "get", "the", "following", "error", ":", "#pre", "#p"], "answer_count": 11, "question_id": 32798816}, {"tokens": ["#p", "i", "think", "you", "are", "using", "google", "analytic", "sdk", "V3", "use", "V4", "instead", "i", "have", "also", "facing", "the", "same", "issue", "while", "using", "sdk", "V3", "of", "google", "analytic", "https", ":", "//developers.google.com/analytics/devguides/collection/android/v4/", "see", "this", "link", "for", "more", "information", "."], "answer_id": 32806811, "question_id": 32798816}, {"tokens": ["#p", "What", "i", "did", "to", "fix", "this", "is", "removed", "the", "gradle", "changes", "from", "here", "(", "https", ":", "//developers.google.com/analytics/devguides/collection/android/v4/", ")", "then", "in", "Android", "Studio", "went", "into", "'file/Project", "Structure", "'", "then", "click", "into", "analytics", "and", "if", "the", "box", "is", "checked", "uncheck", "it", ",", "let", "gradle", "sync", "then", "check", "the", "box", "again", "and", "click", "the", "button", "to", "sign", "in", ".", "After", "all", "this", "to", "get", "your", "analytics", "tracker", "working", "you", "just", "have", "to", "copy", "your", "actual", "tracker", "id", "into", "<code>mTracker = analytics.newTracker(&lt;here&gt;)</code>", "look", "at", "this", "page", "for", "help", ".", "https", ":", "//developers.google.com/android/reference/com/google/android/gms/analytics/GoogleAnalytics"], "answer_id": 32815066, "question_id": 32798816}, {"tokens": ["#p", "Building", "Apps", "with", "Over", "65K", "Methods", "#blockquote", "#p", "This", "allows", "you", "to", "refer", "to", "all", "methods", "of", "the", "app", ".", "It", "is", "as", "if", "you", "have", "two", "modules", "(", "limit", ":", "2", "x", "65K", ")", "but", "compacted", "into", "one", ".", "This", "entails", "a", "cost", "(", "time", ")", "in", "the", "build", "process", ".", "#p", "#li", "You", "should", "try", "to", "format", "your", "code", "with", "libraries", "to", "remove", "excess", "classes", "and", "also", "not", "exceed", "the", "limit", "methods", ".", "For", "example", "if", "you", "use", "maps", "play-services", "(", "com.google.android.gms", ":", "play-services", ":", "8.1.0", ")", ",", "you", "can", "change", "to", "(", "compile", "'com.google.android.gms", ":", "play-services-maps:8.1.0", "'", ")", "to", "eliminate", "unnecessary", "library", "dependencies", ".", "Then", "Sync", "Gradle", "in", "AndroidStudio", "and", "check", "if", "it", "run", ".", "If", "no", "run", "go", "to", "point", "2", ".", "#li", "Add", "this", "on", "(", "app", "module", ")", ".", "#blockquote"], "answer_id": 32886749, "question_id": 32798816}, {"tokens": ["#p", "#blockquote", "#p", "That", "means", "your", "app", "would", "working", "fine", "on", "API", "level", "21", "or", "above", ".", "#p", "#blockquote", "#p", "So", ",", "Firstly", "making", "sure", "you", "have", "imported", "correct", "dependency", ",", "which", "It", "seems", "you", "did", "it", ".", "#pre", "#p", "In", "your", "manifest", "add", "the", "<code>MultiDexApplication</code>", "class", "from", "the", "multidex", "support", "library", "to", "the", "application", "element", ".", "#pre", "#p", "Alternative", "to", "that", ",", "If", "your", "app", "extends", "the", "<code>Application</code>", "class", ",", "you", "can", "override", "the", "<code>attachBaseContext()</code>", "method", "and", "call", "<code>MultiDex.install(this)</code>", "to", "enable", "<code>multidex</code>", ".", "#pre", "#p", "Finally", ",", "you", "will", "need", "to", "update", "your", "build.gradle", "file", "as", "below", "by", "adding", "<code>multiDexEnabled true</code>", ":", "#pre", "#p", "I", "hope", "it", "will", "help", "you", "out", "."], "answer_id": 32889654, "question_id": 32798816}, {"tokens": ["#p", "This", "could", "happen", "if", "you", "updated", "Android", "Studio", "to", "the", "latest", "version", "1.4", ".", "Did", "you", "update", "the", "support", "libraries", "to", "the", "latest", "versions", "?", "Your", "<code>compileSdkVersion</code>", "should", "be", "23", ".", "#pre"], "answer_id": 32915128, "question_id": 32798816}, {"tokens": ["#p", "A", "little", "late", "to", "the", "game", "here", "but", "this", "is", "a", "problem", "with", "the", "dependencies", "you", "have", "listed", "in", "your", "<code>build.gradle</code>", "file", "for", "you", "app", ".", "#p", "After", "lots", "of", "testing", "i", "successfully", "chased", "down", "my", "problem", "and", "believe", "it", "could", "be", "of", "help", "to", "others", ".", "#p", "Things", "I", "do", "not", "recommend", ":", "#blockquote", "#p", "Things", "to", "look", "out", "for", ":", "#blockquote", "#p", "#blockquote", "#p", "Google", "has", "a", "comprehensive", "list", "of", "the", "libraries", "for", "selectively", "compiling", "#p", "With", "all", "that", "said", "you", "probably", "only", "need", "to", "include", "this", "one", "line", "in", "gradle", "for", "your", "Google", "Analytics", ":", "#pre", "#p", "#p", "Also", ",", "you", "can", "view", "the", "dependency", "tree", "by", "going", "to", "the", "root", "of", "your", "project", "(", "or", "using", "terminal", "in", "Android", "studio", ")", "and", "running", ":", "#pre", "#p", "Good", "Luck", "and", "happy", "coding", "!"], "answer_id": 33786747, "question_id": 32798816}, {"tokens": ["#p", "I", "actually", "found", "that", "having", "too", "many", "Android", "Studio", "modules", "was", "contributing", "to", "having", "this", "error", "without", "multidex", "enabled", ".", "If", "you", "are", "trying", "to", "avoid", "enabling", "multidex", "the", "limit", "seemed", "to", "be", "around", "26", "modules", ".", "This", "was", "with", "Android", "Studio", "1.5.1"], "answer_id": 34499426, "question_id": 32798816}, {"tokens": ["#p", "in", "my", "case", ",", "I", "had", "this", "twice", "in", "the", "build.grade", "file", "#pre", "#p", "Once", "I", "removed", "the", "2nd", "entry", ",", "it", "worked", "fine", "."], "answer_id": 35301222, "question_id": 32798816}, {"tokens": ["#p", "For", "me", "it", "was", "related", "to", "simplexml", "converter", "for", "retrofit", "2", ".", "And", "it", "fixed", "by", ":", "#p", "<code>compile (\"com.squareup.retrofit2:converter-simplexml:2.0.0-beta4\"){\n        exclude module: 'stax'\n        exclude module: 'stax-api'\n        exclude module: 'xpp3'}</code>"], "answer_id": 35788709, "question_id": 32798816}, {"tokens": ["#p", "Exactly", "the", "same", "problem", "as", "I", "encountered", "!", "#p", "I", "found", "out", "that", "it", "was", "due", "to", "duplicate", "dependencies", ".", "In", "build.gradle", ",", "one", "dependency", "may", "be", "already", "included", "in", "others", ",", "thus", "generate", "conflicts", ".", "I", "removed", "necessary", "dependencies", "and", "solved", "my", "problem", "."], "answer_id": 35831327, "question_id": 32798816}, {"tokens": ["#p", "Include", "specific", "dependencies", "in", "the", "build", "file", ".", "#blockquote"], "answer_id": 39291845, "question_id": 32798816}, {"tokens": ["#p", "When", "using", "the", "Java", "8", "<code>Optional</code>", "class", ",", "there", "are", "two", "ways", "in", "which", "a", "value", "can", "be", "wrapped", "in", "an", "optional", ".", "#pre", "#p", "I", "understand", "<code>Optional.ofNullable</code>", "is", "the", "only", "safe", "way", "of", "using", "<code>Optional</code>", ",", "but", "why", "does", "<code>Optional.of</code>", "exist", "at", "all", "?", "Why", "not", "just", "use", "<code>Optional.ofNullable</code>", "and", "be", "on", "the", "safe", "side", "at", "all", "times", "?"], "answer_count": 1, "question_id": 31696485}, {"tokens": ["#p", "Your", "question", "is", "based", "on", "assumption", "that", "the", "code", "which", "may", "throw", "<code>NullPointerException</code>", "is", "worse", "than", "the", "code", "which", "may", "not", ".", "This", "assumption", "is", "wrong", ".", "If", "you", "expect", "that", "your", "<code>foobar</code>", "is", "never", "null", "due", "to", "the", "program", "logic", ",", "it", "'s", "much", "better", "to", "use", "<code>Optional.of(foobar)</code>", "as", "you", "will", "see", "a", "<code>NullPointerException</code>", "which", "will", "indicate", "that", "your", "program", "has", "a", "bug", ".", "If", "you", "use", "<code>Optional.ofNullable(foobar)</code>", "and", "the", "<code>foobar</code>", "happens", "to", "be", "<code>null</code>", "due", "to", "the", "bug", ",", "then", "your", "program", "will", "silently", "continue", "working", "incorrectly", ",", "which", "may", "be", "a", "bigger", "disaster", ".", "This", "way", "an", "error", "may", "occur", "much", "later", "and", "it", "would", "be", "much", "harder", "to", "understand", "at", "which", "point", "it", "went", "wrong", "."], "answer_id": 31696584, "question_id": 31696485}, {"tokens": ["#p", "Getting", "the", "following", "exception", "when", "using", "the", "AWS", "SDK", "for", "Java", "and", "Java", "1.8u60+", ".", "#pre"], "answer_count": 4, "question_id": 32058431}, {"tokens": ["#p", "This", "is", "caused", "by", "a", "bug", "between", "JodaTime", "and", "versions", "of", "Java", "greater", "then", "1.8u60", ".", "Upgrading", "to", "JodaTime", "version", "2.8.1", "or", "later", "solves", "the", "issue", ".", "See", "the", "following", "Github", "issues", "for", "reference", ".", "#p", "https", ":", "//github.com/aws/aws-sdk-java/issues/484", "https", ":", "//github.com/aws/aws-sdk-java/issues/444"], "answer_id": 32058472, "question_id": 32058431}, {"tokens": ["#p", "Update", "your", "AWS", "Java", "SDK", "to", "1.10.1", "or", "later"], "answer_id": 34617752, "question_id": 32058431}, {"tokens": ["#p", "As", "far", "as", "I", "can", "see", ",", "there", "are", "three", "solutions", "to", "this", "issue", ":", "#li", "upgrade", "joda", "time", "#li", "upgrade", "the", "AWS", "java", "SDK", "#li", "downgrade", "java", "to", "a", "version", "less", "than", "1.8u60", "(", "java7", "seems", "to", "work", "fine", ")"], "answer_id": 34997737, "question_id": 32058431}, {"tokens": ["#p", "I", "faced", "while", "using", "presto", ".", "The", "problem", "is", "with", "java", "version", "jdk1.8.0_60", "greater", "downgrade", "it", "to", "jdk1.8.0_45", "will", "solve", "the", "problem"], "answer_id": 37694343, "question_id": 32058431}, {"tokens": ["#p", "I", "need", "to", "write", "a", "recursive", "method", "using", "Java", "called", "power", "that", "takes", "a", "double", "x", "and", "an", "integer", "n", "and", "that", "returns", "x^n", ".", "Here", "is", "what", "I", "have", "so", "far", ".", "#pre", "#p", "This", "code", "works", "as", "expected", ".", "However", ",", "I", "am", "trying", "to", "go", "the", "extra", "mile", "and", "perform", "the", "following", "optional", "exercise", ":", "#p", "``", "Optional", "challenge", ":", "you", "can", "make", "this", "method", "more", "efficient", ",", "when", "n", "is", "even", ",", "using", "x^n", "=", "(", "x^", "(", "n/2", ")", ")", "^2", ".", "''", "#p", "I", "am", "not", "sure", "how", "to", "implement", "that", "last", "formula", "when", "n", "is", "even", ".", "I", "do", "not", "think", "I", "can", "use", "recursion", "for", "that", ".", "I", "have", "tried", "to", "implement", "the", "following", ",", "but", "it", "also", "does", "not", "work", "because", "I", "can", "not", "take", "a", "double", "to", "the", "power", "of", "an", "int", ".", "#pre", "#p", "Can", "somebody", "point", "me", "in", "the", "right", "direction", "?", "I", "feel", "like", "I", "am", "missing", "something", "obvious", ".", "All", "help", "appreciated", "."], "answer_count": 6, "question_id": 32803843}, {"tokens": ["#p", "It", "'s", "exactly", "the", "same", "principle", "as", "for", "x^n", "==", "x*", "(", "x^", "(", "n-1", ")", ")", ":", "Insert", "your", "recursive", "function", "for", "x^", "(", "n/2", ")", "and", "(", "...", ")", "^2", ",", "but", "make", "sure", "you", "do", "n't", "enter", "an", "infinite", "recursion", "for", "n", "==", "2", "(", "as", "2", "is", "even", ",", "too", ")", ":", "#pre", "#p", "Alternatively", ",", "you", "could", "just", "use", "an", "intermediate", "variable", ":", "#pre", "#p", "I", "'d", "probably", "just", "handle", "2", "as", "a", "special", "case", ",", "too", "--", "and", "avoid", "the", "``", "and", "''", "-condition", "and", "extra", "variable", ":", "#pre", "#p", "P.S", ".", "I", "think", "this", "should", "work", ",", "too", ":", ")", "#pre"], "answer_id": 32803864, "question_id": 32803843}, {"tokens": ["#p", "When", "<code>n</code>", "is", "even", ",", "the", "formula", "is", "exactly", "what", "you", "wrote", ":", "divide", "<code>n</code>", "by", "two", ",", "call", "<code>power</code>", "recursively", ",", "and", "square", "the", "result", ".", "#p", "When", "<code>n</code>", "is", "odd", ",", "the", "formula", "is", "a", "little", "more", "complex", ":", "subtract", "<code>1</code>", "from", "<code>n</code>", ",", "make", "a", "recursive", "call", "for", "<code>n/2</code>", ",", "square", "the", "result", ",", "and", "multiply", "by", "<code>x</code>", ".", "#pre", "#p", "<code>n/2</code>", "truncates", "the", "result", ",", "so", "subtraction", "of", "<code>1</code>", "is", "not", "done", "explicitly", ".", "Here", "is", "an", "implementation", "in", "Java", ":", "#pre", "#p", "Demo", "."], "answer_id": 32803866, "question_id": 32803843}, {"tokens": ["#p", "Hint", ":", "The", "<code>^</code>", "operation", "wo", "n't", "perform", "exponentiation", "in", "Java", ",", "but", "the", "function", "you", "wrote", ",", "<code>power</code>", "will", ".", "#p", "Also", ",", "do", "n't", "forget", "squaring", "a", "number", "is", "the", "same", "as", "just", "multiplying", "it", "by", "itself", ".", "No", "function", "call", "needed", "."], "answer_id": 32803871, "question_id": 32803843}, {"tokens": ["#p", "Making", "a", "small", "change", "to", "your", "function", ",", "it", "will", "reduce", "the", "number", "of", "recursive", "calls", "made", ":", "#pre"], "answer_id": 32803943, "question_id": 32803843}, {"tokens": ["#p", "Since", "#pre", "#p", "you", "can", "add", "this", "rule", "to", "your", "method", ",", "either", "using", "the", "power", "function", "you", "wrote", ",", "as", "Stefan", "Haustein", "suggested", ",", "or", "using", "the", "regular", "multiplication", "operator", ",", "since", "it", "seems", "you", "are", "allowed", "to", "do", "that", ".", "#p", "Note", "that", "there", "is", "no", "need", "for", "both", "the", "base", "cases", "n=1", "and", "n=0", ",", "one", "of", "them", "suffices", "(", "prefferably", "use", "the", "base", "case", "n=0", ",", "since", "otherwise", "your", "method", "would", "not", "be", "defined", "for", "n=0", ")", ".", "#pre", "#p", "There", "is", "no", "need", "to", "check", "that", "n", ">", "2", "in", "any", "of", "the", "cases", "."], "answer_id": 32809564, "question_id": 32803843}, {"tokens": ["#p", "This", "just", "reminds", "me", "more", "optimisation", "could", "be", "done", "and", "this", "following", "code", ".", "#pre", "#p", "what", "is", "more", "intermediate", "result", "could", "be", "memorised", "and", "avoid", "redundant", "computation", "."], "answer_id": 32858034, "question_id": 32803843}, {"tokens": ["#p", "My", "website", "has", "been", "experiencing", "a", "denial", "of", "service/hack", "attack", "for", "the", "last", "week", ".", "The", "attack", "is", "hitting", "our", "web", "API", "with", "randomly", "generated", "invalid", "API", "keys", "in", "a", "loop", ".", "#p", "I", "'m", "not", "sure", "if", "they", "are", "trying", "to", "guess", "a", "key", "(", "mathematically", "impossible", "as", "64bit", "keys", ")", "or", "trying", "to", "DOS", "attack", "the", "server", ".", "The", "attack", "is", "distributed", ",", "so", "I", "can", "not", "ban", "all", "of", "the", "IP", "address", ",", "as", "it", "occurs", "from", "hundreds", "of", "clients", ".", "#p", "My", "guess", "is", "that", "it", "is", "an", "Android", "app", "by", "the", "IPs", ",", "so", "someone", "has", "some", "malware", "in", "an", "Android", "app", ",", "and", "use", "all", "the", "installs", "to", "attack", "my", "server", ".", "#p", "Server", "is", "Tomcat/Java", ",", "currently", "the", "web", "API", "just", "responds", "400", "to", "invalid", "keys", ",", "and", "caches", "IPs", "that", "have", "made", "several", "invalid", "key", "attempts", ",", "but", "still", "needs", "to", "do", "some", "processing", "for", "each", "bad", "request", ".", "#p", "Any", "suggestions", "how", "to", "stop", "the", "attack", "?", "Is", "there", "any", "way", "to", "identify", "the", "Android", "app", "making", "the", "request", "from", "the", "HTTP", "header", "?"], "answer_count": 6, "question_id": 32575924}, {"tokens": ["#p", "#p", "There", "is", "a", "vast", "array", "of", "tools", "and", "strategies", "available", "to", "help", "you", "do", "this", ",", "and", "which", "to", "use", "depends", "entirely", "on", "your", "server", "implementation", "and", "requirements", ".", "#p", "Without", "using", "a", "firewall", ",", "IDS", ",", "or", "other", "network-control", "tools", ",", "you", "ca", "n't", "really", "stop", "a", "DDOS", "from", ",", "well", ",", "denying", "service", "to", "your", "application", ".", "You", "can", ",", "however", ",", "modify", "your", "application", "to", "make", "a", "brute-force", "attack", "significantly", "more", "difficult", ".", "#p", "The", "standard", "way", "to", "do", "this", "is", "by", "implementing", "a", "or", "a", ".", "A", "lockout", "prevents", "an", "IP", "from", "making", "a", "login", "request", "for", "X", "minutes", "if", "they", "fail", "to", "log", "in", "N", "times", ".", "A", "progressive", "delay", "adds", "a", "longer", "and", "longer", "delay", "to", "processing", "each", "bad", "login", "request", ".", "#p", "If", "you", "'re", "using", "Tomcat", "'s", "authentication", "system", "(", "i.e", ".", "you", "have", "a", "<code>&lt;login-constraint&gt;</code>", "element", "in", "your", "webapp", "configuration", ")", ",", "you", "should", "use", "the", "Tomcat", "LockoutRealm", ",", "which", "lets", "you", "easily", "put", "IP", "addresses", "on", "a", "lockout", "once", "they", "make", "a", "number", "of", "bad", "requests", ".", "#p", "If", "you", "are", "not", "using", "Tomcat", "'s", "authentication", "system", ",", "then", "you", "would", "have", "to", "post", "more", "information", "about", "what", "you", "are", "using", "to", "get", "more", "specific", "information", ".", "#p", "Finally", ",", "you", "could", "simply", "increase", "the", "length", "of", "your", "API", "keys", ".", "64", "bits", "seems", "like", "an", "insurmountably", "huge", "keyspace", "to", "search", ",", "but", "its", "underweight", "by", "modern", "standards", ".", "A", "number", "of", "factors", "could", "contribute", "to", "making", "it", "far", "less", "secure", "than", "you", "expect", ":", "#li", "A", "botnet", "(", "or", "other", "large", "network", ")", "could", "make", "tens", "of", "thousands", "of", "attempts", "per", "second", ",", "if", "you", "have", "no", "protections", "in", "place", ".", "#li", "Depending", "on", "how", "you", "'re", "generating", "your", "keys", "and", "gathering", "entropy", ",", "your", "keyspace", "might", "be", "much", "smaller", ".", "#li", "As", "your", "number", "of", "valid", "keys", "increases", ",", "the", "number", "of", "keys", "that", "need", "to", "be", "attempted", "to", "find", "a", "valid", "one", "(", "at", "least", "in", "theory", ")", "drops", "sharply", ".", "#p", "Upping", "the", "API", "key", "length", "to", "128", "(", "or", "256", ",", "or", "512", ")", "wo", "n't", "cost", "much", ",", "and", "you", "'ll", "tremendously", "increase", "the", "search", "space", "(", "and", "thus", ",", "the", "difficulty", ")", "of", "any", "brute", "force", "attack", ".", "#p", "#p", "To", "mitigate", "DDOS", "attacks", ",", "however", ",", "you", "need", "to", "do", "a", "bit", "more", "legwork", ".", "DDOS", "attacks", "are", "to", "defend", "against", ",", "and", "its", "especially", "hard", "if", "you", "do", "n't", "control", "the", "network", "your", "server", "is", "on", ".", "#p", "That", "being", "said", ",", "there", "are", "a", "few", "server-side", "things", "you", "can", "do", ":", "#li", "Installing", "and", "configuring", "a", "web-application", "firewall", ",", "like", "mod_security", ",", "to", "reject", "incoming", "connections", "that", "violate", "rules", "that", "you", "define", ".", "#li", "Setting", "up", "an", "IDS", "system", ",", "like", "Snort", ",", "to", "detect", "when", "a", "DDOS", "attack", "is", "occurring", "and", "take", "the", "first", "steps", "to", "mitigate", "it", "#li", "See", "@", "Martin", "Muller", "'s", "post", "for", "another", "excellent", "option", ",", "fail2ban", "#li", "Creating", "your", "own", "Tomcat", "<code>Valve</code>", ",", "as", "described", "here", ",", "to", "reject", "incoming", "requests", "by", "their", "<code>User-Agents</code>", "(", "or", "any", "other", "criterion", ")", "as", "a", "last", "line", "of", "defense", ".", "#p", "In", "the", "end", ",", "however", ",", "there", "is", "only", "so", "much", "you", "can", "do", "to", "stop", "a", "DDOS", "attack", "for", "free", ".", "A", "server", "has", "only", "so", "much", "memory", ",", "so", "many", "CPU", "cycles", ",", "and", "so", "much", "network", "bandwidth", ";", "with", "enough", "incoming", "connections", ",", "even", "the", "most", "efficient", "firewall", "wo", "n't", "keep", "you", "from", "going", "down", ".", "You", "'ll", "be", "better", "able", "to", "weather", "DDOS", "attacks", "if", "you", "invest", "in", "a", "higher-bandwidth", "internet", "connection", "and", "more", "servers", ",", "or", "if", "you", "deploy", "your", "application", "on", "Amazon", "Web", "Services", ",", "or", "if", "you", "bought", "one", "of", "many", "consumer", "and", "enterprise", "DDOS", "mitigation", "products", "(", "@", "SDude", "has", "some", "excellent", "recommendations", "in", "his", "post", ")", ".", "None", "of", "those", "options", "are", "cheap", ",", "quick", ",", "or", "easy", ",", "but", "they", "'re", "what", "'s", "available", ".", "#p", "Bottom", "Line", ":", "#p"], "answer_id": 32636048, "question_id": 32575924}, {"tokens": ["#p", "If", "D-DOS", "is", "attack", "is", "severe", ",", "application", "level", "checks", "does", "not", "work", "at", "all", ".", "Entire", "bandwidth", "will", "be", "consumed", "by", "D-DOS", "clients", "and", "your", "application", "level", "checks", "wo", "n't", "be", "triggered", ".", "Practically", "your", "web", "service", "does", "not", "run", "at", "all", ".", "#p", "If", "you", "have", "to", "keep", "your", "application", "safe", "from", "severe", "D-DOS", "attacks", ",", "you", "do", "not", "have", "any", "other", "option", "except", "relying", "on", "third", "party", "tools", "by", "paying", "money", ".", "One", "of", "the", "Clean", "pipe", "provider", "(", "who", "sends", "only", "good", "traffic", ")", "tools", "I", "can", "bank", "on", "from", "my", "past", "experience", ":", "Neustar", "#p", "If", "D-DOS", "attack", "is", "mild", "in", "your", "website", ",", "you", "can", "implement", "application", "level", "checks", ".", "For", "example", ",", "below", "configuration", "will", "restrict", "maximum", "number", "of", "connections", "from", "single", "IP", "as", "quoted", "in", "Restrict", "calls", "from", "single", "IP", "#pre", "#p", "For", "more", "insight", "into", "D-DOS", "attack", ",", "visit", "Wiki", "link", ".", "It", "provides", "list", "of", "preventive", "&", "responsive", "tools", "which", "includes", ":", "#p", "and", "finally", "#p", "(", "All", "traffic", "is", "passed", "through", "a", "``", "cleaning", "center", "''", "or", "a", "``", "scrubbing", "center", "''", "via", "various", "methods", "such", "as", "proxies", ",", "tunnels", "or", "even", "direct", "circuits", ",", "which", "separates", "``", "bad", "''", "traffic", "(", "DDoS", "and", "also", "other", "common", "internet", "attacks", ")", "and", "only", "sends", "good", "traffic", "beyond", "to", "the", "server", ")", "#p", "You", "can", "find", "12", "distributors", "of", "Clean", "pipes", "."], "answer_id": 32643483, "question_id": 32575924}, {"tokens": ["#p", "The", "best", "way", "is", "to", "prevent", "the", "access", "to", "your", "services", "entirely", "for", "those", "IP", "addresses", "who", "have", "failed", "let", "'s", "say", "3", "times", ".", "This", "will", "take", "most", "of", "the", "load", "from", "your", "server", "as", "the", "attacker", "gets", "blocked", "before", "Tomcat", "even", "has", "to", "start", "a", "thread", "for", "this", "user", ".", "#p", "One", "of", "the", "best", "tools", "to", "achieve", "this", "is", "called", "fail2ban", "(", "http", ":", "//www.fail2ban.org", ")", ".", "It", "is", "provided", "as", "a", "package", "in", "all", "major", "linux", "distributions", ".", "#p", "What", "you", "have", "to", "do", "is", "basically", "log", "the", "failed", "attempts", "into", "a", "file", "and", "create", "a", "custom", "filter", "for", "fail2ban", ".", "Darryn", "van", "Tonder", "has", "a", "nice", "example", "on", "how", "to", "write", "your", "own", "filter", "on", "his", "blog", ":", "https", ":", "//darrynvt.wordpress.com/tag/custom-fail2ban-filters/"], "answer_id": 32761682, "question_id": 32575924}, {"tokens": ["#p", "If", "it", "'s", "big", "enough", "you", "just", "ca", "n't", "stop", "it", "alone", ".", "You", "can", "do", "all", "the", "optimisation", "you", "want", "at", "the", "app", "level", ",", "but", "you", "'ll", "still", "go", "down", ".", "In", "addition", "to", "app-level", "security", "for", "prevention", "(", "as", "in", "FSQ", "'s", "answer", ")", "you", "should", "use", "proven", "solutions", "leaving", "the", "heavy", "lifting", "to", "professionals", "(", "if", "you", "are", "serious", "about", "your", "business", ")", ".", "My", "advise", "is", ":", "#li", "Sign-up", "for", "CloudFlare", "or", "Incapsula", ".", "This", "is", "day", "to", "day", "for", "them", ".", "#li", "Consider", "using", "AWS", "API", "gateway", "as", "the", "second", "stage", "for", "your", "API", "requests", ".", "You", "'ll", "enjoy", "filtering", ",", "throttling", ",", "security", ",", "auto-scaling", "and", "HA", "for", "your", "API", "at", ".", "Then", "you", "can", "forward", "the", "valid", "requests", "to", "your", "machines", "(", "in", "or", "outside", "amazon", ")", "#p", "Internet", "--", ">", "CloudFlare/Incapsula", "--", ">", "AWS", "API", "Gateway", "--", ">", "Your", "API", "Server", "#p", "0,02", "#p", "PS", ":", "I", "think", "this", "question", "belongs", "to", "Sec"], "answer_id": 32767822, "question_id": 32575924}, {"tokens": ["#p", "For", "a", "targeted", "and", "highly", "distributed", "DOS", "attack", "the", "only", "practical", "solution", "(", "other", "than", "providing", "the", "capacity", "to", "soak", "it", "up", ")", "is", "to", "profile", "the", "attack", ",", "identify", "the", "'tells", "'", "and", "route", "that", "traffic", "to", "a", "low", "resource", "handler", ".", "#p", "Your", "question", "has", "some", "tells", "-", "that", "the", "request", "is", "invalid", ",", "but", "presumably", "there", "is", "too", "much", "cost", "in", "determining", "that", ".", "That", "the", "requests", "originate", "from", "a", "specific", "group", "of", "networks", "and", "that", "presumably", "they", "occur", "in", "bursts", ".", "#p", "In", "your", "comments", "you", "'ve", "told", "us", "at", "least", "one", "other", "tell", "-", "the", "user", "agent", "is", "null", ".", "#p", "Without", "adding", "any", "additional", "components", ",", "you", "could", "start", "by", "tarpitting", "the", "connection", "-", "if", "a", "request", "matching", "the", "profile", "comes", "in", ",", "go", "ahead", "and", "validate", "the", "key", ",", "but", "then", "have", "your", "code", "sleep", "for", "a", "second", "or", "two", ".", "This", "will", "reduce", "the", "rate", "of", "requests", "from", "these", "clients", "at", "a", "small", "cost", ".", "#p", "Another", "solution", "would", "be", "to", "use", "log", "failures", "matching", "the", "tell", "and", "use", "fail2ban", "to", "reconfigure", "your", "firewall", "in", "real", "time", "to", "drop", "all", "packets", "from", "the", "source", "address", "for", "a", "while", ".", "#p", "No", ",", "its", "unlikely", "you", "will", "be", "able", "to", "identify", "the", "app", "without", "getting", "hold", "of", "an", "affected", "device", "."], "answer_id": 32771700, "question_id": 32575924}, {"tokens": ["#p", "Here", "are", "a", "couple", "ideas", ".", "There", "are", "a", "number", "of", "strategies", "in", "addition", ",", "but", "this", "should", "get", "you", "started", ".", "Also", "realize", "that", "amazon", "gets", "ddos", "'d", "on", "a", "frequent", "basis", "and", "their", "systems", "tend", "to", "have", "a", "few", "heuristics", "that", "harden", "them", "(", "and", "therefore", "you", ")", "from", "these", "attacks", ",", "particularly", "if", "you", "are", "using", "Elastic", "load", "balancing", ",", "which", "you", "should", "be", "using", "anyway", ".", "#li", "Use", "a", "CDN", "--", "they", "often", "have", "ways", "of", "detecting", "and", "defending", "against", "ddos", ".", "Akamai", ",", "mastery", ",", "or", "amazons", "own", "cloud", "front", ".", "#li", "Use", "iptables", "to", "blacklist", "offensive", "ips", ".", "The", "more", "tooling", "you", "have", "around", "this", ",", "the", "faster", "you", "can", "blok/unblock", "#li", "#p", "Use", "throttling", "mechanisms", "to", "prevent", "large", "numbers", "of", "requests", "#li", "#p", "Automatically", "deny", "requests", "that", "are", "very", "large", "(", "say", "greater", "than", "1-2mb", ";", "unless", "you", "have", "a", "photo", "uploading", "service", "or", "similar", ")", "before", "they", "get", "to", "your", "application", "#li", "#p", "Prevent", "cascading", "failures", "by", "placing", "a", "limit", "on", "the", "total", "number", "of", "connections", "to", "other", "components", "in", "your", "system", ";", "for", "example", ",", "dont", "let", "your", "database", "server", "become", "overloaded", "by", "opening", "a", "thousand", "connections", "to", "it", "."], "answer_id": 37107681, "question_id": 32575924}, {"tokens": ["#p", "I", "have", "a", "question", "regarding", "Java", "8", "inference", "with", "respect", "to", "lambdas", "and", "their", "related", "exception", "signatures", ".", "#p", "If", "I", "define", "some", "method", "foo", ":", "#pre", "#p", "then", "I", "get", "the", "nice", "and", "concise", "semantic", "of", "being", "able", "to", "write", "<code>foo(() -&gt; getTheT());</code>", "in", "most", "cases", "for", "a", "given", "<code>T</code>", ".", "However", ",", "in", "this", "example", ",", "if", "my", "<code>getTheT</code>", "operation", "declares", "that", "it", "<code>throws Exception</code>", ",", "my", "<code>foo</code>", "method", "which", "takes", "a", "Supplier", "no", "longer", "compiles", ":", "the", "Supplier", "method", "signature", "for", "<code>get</code>", "does", "n't", "throw", "exceptions", ".", "#p", "It", "seems", "like", "a", "decent", "way", "to", "get", "around", "this", "would", "be", "to", "overload", "foo", "to", "accept", "either", "option", ",", "with", "the", "overloaded", "definition", "being", ":", "#pre", "#p", "where", "ThrowingSupplier", "is", "defined", "as", "#pre", "#p", "In", "this", "way", ",", "we", "have", "one", "Supplier", "type", "which", "throws", "exceptions", "and", "one", "which", "does", "n't", ".", "The", "desired", "syntax", "would", "be", "something", "like", "this", ":", "#pre", "#p", "However", ",", "this", "causes", "issues", "due", "to", "the", "lambda", "type", "being", "ambiguous", "(", "presumably", "unable", "to", "resolve", "between", "Supplier", "and", "ThrowingSupplier", ")", ".", "Doing", "an", "explicit", "cast", "a", "la", "<code>foo((ThrowingSupplier)(() -&gt; operationWhichThrows()));</code>", "would", "work", ",", "but", "it", "gets", "rid", "of", "most", "of", "the", "conciseness", "of", "the", "desired", "syntax", ".", "#p", "I", "guess", "the", "underlying", "question", "is", ":", "if", "the", "Java", "compiler", "is", "able", "to", "resolve", "the", "fact", "that", "one", "of", "my", "lambdas", "is", "incompatible", "due", "to", "it", "throwing", "an", "exception", "in", "the", "Supplier-only", "case", ",", "why", "is", "n't", "it", "able", "to", "use", "that", "same", "information", "to", "derive", "the", "type", "of", "the", "lambda", "in", "the", "secondary", ",", "type-inference", "case", "?", "#p", "Any", "information", "or", "resources", "which", "anyone", "could", "point", "me", "to", "would", "likewise", "be", "much", "appreciated", ",", "as", "I", "'m", "just", "not", "too", "sure", "where", "to", "look", "for", "more", "information", "on", "the", "matter", ".", "#p", "Thanks", "!"], "answer_count": 3, "question_id": 32323081}, {"tokens": ["#p", "Any", "lambda", "which", "could", "be", "accepted", "as", "a", "<code>Supplier&lt;T&gt;</code>", "can", "also", "be", "accepted", "as", "a", "<code>ThrowingSupplier&lt;T&gt;</code>", ".", "The", "following", "compiles", ":", "#pre", "#p", "Given", "the", "above", ",", "you", "probably", "do", "n't", "need", "this", ",", "but", "if", "<code>foo</code>", "accept", "a", "non-throwing", "<code>Supplier&lt;T&gt;</code>", ",", "you", "can", "always", "wrap", "the", "Exception-throwing", "method", "in", "a", "method", "which", "launders", "it", "into", "an", "unchecked", "Exception", ":", "#pre"], "answer_id": 32323305, "question_id": 32323081}, {"tokens": ["#p", "If", "it", "makes", "you", "feel", "any", "better", ",", "this", "topic", "was", "indeed", "carefully", "considered", "during", "the", "JSR-335", "design", "process", ".", "#p", "The", "question", "is", "not", "``", "why", "is", "n't", "it", "able", "''", ",", "but", "``", "why", "did", "we", "choose", "not", "to", ".", "''", "When", "we", "find", "multiple", "potentially", "applicable", "overloads", ",", "we", "certainly", "could", "have", "chosen", "to", "speculatively", "attribute", "the", "lambda", "body", "under", "each", "set", "of", "signatures", ",", "and", "prune", "those", "candidates", "for", "which", "the", "lambda", "body", "failed", "to", "type-check", ".", "#p", "However", ",", "we", "concluded", "that", "doing", "so", "would", "likely", "do", "more", "harm", "than", "good", ";", "it", "means", ",", "for", "example", ",", "that", "small", "changes", "to", "the", "method", "body", ",", "under", "this", "rule", ",", "could", "cause", "some", "method", "overload", "selection", "decisions", "to", "silently", "change", "without", "the", "user", "intending", "to", "do", "so", ".", "In", "the", "end", ",", "we", "concluded", "that", "using", "the", "presence", "of", "errors", "in", "the", "method", "body", "to", "discard", "a", "potentially", "applicable", "candidate", "would", "cause", "more", "confusion", "than", "benefit", ",", "especially", "given", "that", "there", "is", "a", "simple", "and", "safe", "workaround", "--", "provide", "a", "target-type", ".", "We", "felt", "that", "reliability", "and", "predictability", "here", "outweighed", "optimal", "concision", "."], "answer_id": 32323348, "question_id": 32323081}, {"tokens": ["#p", "First", "of", "all", ",", "you", "don", "'", "have", "to", "overload", ":", "D", "-", "overloading", "is", "never", "a", "necessity", ";", "use", "2", "different", "method", "names", ",", "e.g", ".", "<code>foo</code>", "and", "<code>fooX</code>", "#p", "Secondly", ",", "I", "do", "n't", "see", "why", "you", "need", "2", "methods", "here", ".", "If", "you", "want", "to", "handle", "checked", "and", "unchecked", "exceptions", "differently", ",", "it", "can", "be", "done", "at", "runtime", ".", "To", "achieve", "``", "exception", "transparency", "''", ",", "you", "can", "do", "#pre", "#p", "Finally", ",", "disambiguity", "can", "be", "achieved", "throw", "lambda", "return", "type", ";", "the", "compiler", "uses", "the", "return", "type", "as", "if", "using", "an", "argument", "type", "for", "choosing", "the", "most", "specific", "method", ".", "This", "gives", "us", "the", "idea", "to", "wrap", "the", "value", "together", "with", "the", "exception", "type", ",", "as", "<code>Result&lt;T,X&gt;</code>", ",", "a", "``", "monad", "''", "as", "they", "say", ".", "#pre"], "answer_id": 32323641, "question_id": 32323081}, {"tokens": ["#p", "I", "am", "testing", "a", "business", "service", "with", "TestNG", ",", "mockito", "unit", "tests", "in", "spring", "boot", "application", ".", "#p", "Application", "is", "multi-module", "spring", "boot", "project.And", "I", "am", "writing", "unit", "tests", "for", "business", "module", ".", "#p", "I", "have", "added", "following", "dependencies", "related", "testing", "in", "pom", ",", "#pre", "#p", "My", "wrapper", "annotation", "look", "like", "#pre", "#p", "My", "TestApp", "looks", "like", "#pre", "#p", "My", "Business", "Service", "looks", "like", "#pre", "#p", "MyTestClass", "looks", "like", "#pre", "#p", "If", "I", "do", "n't", "use", "<code>@Target(ElementType.TYPE)</code>", ",", "<code>@Retention(RetentionPolicy.RUNTIME)</code>", ",", "<code>@Inherited</code>", "these", "annotations", "then", "my", "mock", "DAO", "calls", "in", "test", "works", "fine", ".", "#p", "I", "need", "above", "annotations", "explicitly", "because", "if", "I", "do", "not", "use", "them", "then", ",", "#p", "For", "example", ",", "If", "I", "want", "to", "perform", "one", "single", "task", "which", "uses", "multiple", "business", "service", "then", ".", "In", "other", "words", "if", "a", "business", "call", "uses", "multiple", "business", "services", "say", "<code>ServiceA</code>", "and", "<code>ServiceB</code>", ".", "Call", "goes", "from", "<code>serviceA</code>", "to", "<code>serviceB</code>", ".", "If", "an", "exception", "occurs", "in", "<code>serviceB</code>", "then", "database", "changes", "done", "by", "<code>serviceA</code>", "wont", "rollback", ".", "#p", "#p", "Do", "I", "have", "wrong", "dependencies", "in", "pom", "?", "#li", "Why", "this", "is", "not", "working", "?", "#li", "What", "would", "be", "the", "solution", "over", "it", "?", "#p", ",", "here", "you", "will", "get", "sample", "code.It", "is", "giving", "me", "some", "error", "while", "compiling", "."], "answer_count": 4, "question_id": 31315433}, {"tokens": ["#p", "I", "think", "that", "problem", "may", "be", "caused", "by", "annotation", "processing", "order", ".", "#p", "You", "probably", "can", "try", "to", "set", "internal", "state", "of", "your", "service", "explicitly", "in", "before", "method", "like", "so", ":", "#pre", "#p", "and", "check", "whether", "error", "still", "occurs"], "answer_id": 31829779, "question_id": 31315433}, {"tokens": ["#p", "Remove", "all", "your", "annotations", ".", "You", "need", "something", "special", "to", "make", "the", "transactions", "work", ".", "#p", "#blockquote", "#p", "provides", "a", "technology-independent", "API", "that", "allows", "you", "to", "start", "a", "new", "transaction", "by", "calling", "the", "getTransaction", "(", ")", "method", "and", "manage", "it", "by", "#p", "commit", "(", ")", "#p", "As", "PlatformTransactionManager", "is", "an", "abstract", "unit", "for", "transaction", "Management", ",", "#p", "the", "methods", "you", "called", "for", "transaction", "management", "are", "guaranteed", "to", "be", "technology", "independent", ".", "#pre", "#p", "...", "..", "#p", "then", "inside", "your", "dao", "method", "you", "can", "configure", "commit", "and", "rollback", "method", ".", "#pre", "#p", "A", "transactionmanager", "is", "declared", "in", "the", "XML", "configuration", "file", "as", "a", "normal", "bean", ".", "#p", "For", "example", ",", "#p", "the", "following", "bean", "configuration", "declares", "a", "DataSourceTransactionManager", "instance", ".", "#p", "It", "requires", "the", "dataSource", "property", "to", "be", "set", "so", "that", "it", "can", "manage", "transactions", "for", "connectionsmade", "by", "this", "data", "source", ".", "#pre", "#p", "How", "can", "I", "use", "Spring", "Boot", "auto-configured", "beans", "in", "XML", "configuration", "files", "?", "#p", "You", "can", "also", "go", "through", "the", "github", "to", "implement", "bean", "inside", "your", "app", "over", "here", "#p", "Once", "you", "have", "a", "transaction", "definition", ",", "#p", "You", "can", "ask", "the", "transaction", "manager", "to", "start", "a", "new", "transaction", "with", "that", "definition", "by", "calling", "the", "getTransaction", "(", ")", "method", ".", "#p", "Then", "it", "will", "return", "a", "TransactionStatus", "object", "to", "keep", "track", "of", "the", "transaction", "status", ".", "#p", "If", "all", "the", "statements", "execute", "successfully", ",", "you", "ask", "the", "transaction", "manager", "to", "commit", "this", "transaction", "by", "passing", "in", "the", "transaction", "status", ".", "#p", "As", "all", "exceptions", "thrown", "by", "the", "Spring", "JDBC", "template", "are", "subclasses", "of", "DataAccessException", ",", "you", "ask", "the", "transactionmanager", "to", "roll", "back", "the", "transaction", "when", "this", "kind", "of", "exception", "is", "caught", ".", "#p", "In", "this", "class", ",", "you", "have", "declared", "the", "transaction", "manager", "property", "of", "the", "general", "type", ".", "#p", "Now", "you", "have", "to", "inject", "an", "appropriate", "transaction", "manager", "implementation", ".", "#p", "As", "you", "are", "dealing", "with", "only", "a", "single", "data", "source", "and", "accessing", "it", "with", "JDBC", ",", "you", "should", "choose", "."], "answer_id": 32219066, "question_id": 31315433}, {"tokens": ["#p", "Can", "you", "try", "using", "MockitoJUnitRunner", ".", "#pre"], "answer_id": 32243662, "question_id": 31315433}, {"tokens": ["#p", "I", "recommend", "you", "to", "keep", "tests", "simple", ".", "You", "can", "take", "profit", "of", "DI", "benefits", ".", "For", "further", "details", "please", "visit", "Spring", "documentation", ":", "#blockquote", "#p", "Your", "test", "class", "should", "look", "like", "this", ".", "#pre", "#p", "You", "should", "also", "check", "for", "null", "address", "list", "in", "your", "implementation", ".", "The", "test", "fails", "because", "provider", "class", "provides", "the", "test", "with", "a", "user", "instance", "that", "does", "not", "have", "address", "list", "initialized", ".", "#pre"], "answer_id": 32257786, "question_id": 31315433}, {"tokens": ["#p", "I", "'m", "trying", "to", "show", "an", "icon", "next", "to", "an", "item", "within", "my", "menu", "for", "my", "navigation", "drawer", ",", "but", "for", "some", "reason", "the", "icon", "always", "appears", "in", "grey", "rather", "than", "the", "original", "colour", "(", "brown", ")", ".", "Is", "there", "any", "way", "of", "preventing", "this", "from", "happening", "in", "order", "to", "show", "the", "icon", "'s", "original", "colour", "?", "#p", "#pre", "#p", "#pre", "#p"], "answer_count": 3, "question_id": 31394265}, {"tokens": ["#p", "You", "can", "try", "using", "a", "tinted", "drawable", ",", "not", "sure", "if", "it", "works", "below", "5.0", ".", "#p", "Create", "a", "drawable", "and", "add", "the", "following", "code", ".", "#pre", "#p", "And", "then", "change", "your", "menu", "item", "drawable", "to", "the", "one", "you", "just", "created", ".", "If", "that", "does", "n't", "work", ",", "then", "I", "'m", "not", "sure", "of", "any", "other", "solutions", ".", "You", "can", "try", "this", "library", ":", "https", ":", "//github.com/mikepenz/MaterialDrawer", "I", "use", "it", "a", "lot", "in", "my", "projects", "."], "answer_id": 31395899, "question_id": 31394265}, {"tokens": ["#p", "I", "'ve", "tried", "something", "similar", "in", "one", "of", "my", "app", ".", "And", "yes", ",", "it", "appears", "that", "the", "icon", "color", "does", "n't", "change", ".", "But", "I", "'ve", "managed", "to", "do", "with", "another", "workaround", ".", "Here", "'s", "my", "<code>ic_browncircle.xml</code>", "#pre", "#p", "Which", "I", "believe", "is", "something", "similar", "to", "you", "but", "it", "does", "n't", "have", "any", "effect", "and", "does", "n't", "change", "the", "color", ".", "#p", "So", "what", "I", "did", "is", "this", ".", "#pre", "#p", "And", "it", "seems", "working", ".", "Here", "'s", "the", "result", ".", "#p"], "answer_id": 31398223, "question_id": 31394265}, {"tokens": ["#p", "I", "found", "the", "answer", "here", ":", "http", ":", "//stackoverflow.com/a/30632980/875249", "#p", "To", "avoid", "the", "link", "its", "pretty", "straightforward", ":", "#pre", "#p", "This", "disables", "all", "state", "based", "tinting", ",", "but", "you", "can", "also", "specify", "your", "own", "list", "too", ".", "It", "worked", "great", "for", "me", "!", "#p", "Here", "is", "where", "you", "can", "get", "the", "details", "on", "creating", "a", "color", "state", "list", ",", "but", "its", "pretty", "simple", "too", ":", "http", ":", "//developer.android.com/reference/android/content/res/ColorStateList.html", "#pre"], "answer_id": 31999206, "question_id": 31394265}, {"tokens": ["#p", "So", "Retrofit", "2.0.0", "was", "recently", "released", "and", "theres", "not", "really", "any", "updated", "examples", "on", "how", "to", "use", "it", ",", "but", "im", "trying", "to", "implement", "it", "for", "a", "basic", "API", "call", ".", "Im", "getting", "a", "#pre", "#p", "caused", "by", "#pre", "#p", "When", "trying", "to", "make", "the", "api", "call", "."], "answer_count": 5, "question_id": 32343183}, {"tokens": ["#p", "I", "was", "facing", "the", "same", "issue", ".", "I", "fixed", "it", "by", "adding", ":", "#pre", "#p", "to", "my", "build.gradle", "#p", "Then", "specify", "the", "converter", "when", "creating", "my", "Retrofit", "instance", ".", "#pre"], "answer_id": 32353578, "question_id": 32343183}, {"tokens": ["#p", "In", "Retrofit", "2.0", ",", "Converter", "is", "not", "included", "in", "the", "package", "and", "when", "you", "are", "using", "Retrofit", "2.0", "Make", "Sure", "follow", "new", "URL", "pattern", "#p", "#p", "#pre", "#p", "For", "more", "information", "about", "2.0", "Follow", "this", "link", "Retrofit", "2.0", ":", "The", "biggest", "update", "#p", "And", "also", "update", "build.gradle", "."], "answer_id": 32652747, "question_id": 32343183}, {"tokens": ["#p", "For", "Retrofit", "V2", "add", "the", "following", "repositories", "-", "#pre", "#p", "Now", "use", "below", "code", "-", "#pre", "#p", "Hope", "it", "will", "help", ":", ")"], "answer_id": 36134082, "question_id": 32343183}, {"tokens": ["#p", "In", "the", "latest", "Retrofit", "2.0", ",", "you", "should", "import", "the", "latest", "version", ":", "#pre", "#p", "Be", "careful", "call", "<code>baseUrl()</code>", "\uff0cat", "v2.0", ",", "it", "should", "be", "end", "of", "``", "/", "''", ",", "and", "at", "the", "method", ",", "you", "would\u2019t", "start", "thr", "url", "with", "''", "/", "''", "#pre", "#p", "And", "you", "can", "see", "Retrofit", "to", "get", "more", "info", "!", "Hope", "help", "!"], "answer_id": 36151710, "question_id": 32343183}, {"tokens": ["#p", "Change", "retrofit", "version", "accordingly", "#p", "For", "me", "below", "dependency", "was", "there", "already", "#pre", "#p", "For", "gson", "2.0.2", "I", "changed", "#pre", "#p", "Then", "add", "#pre"], "answer_id": 36676852, "question_id": 32343183}, {"tokens": ["#p", "In", "the", "Advantages", "of", "Exceptions", "section", "of", "the", "Java\u2122", "tutorials", ":", "#blockquote", "#p", "What", "does", "``", "duck", "an", "exception", "''", "mean", "here", "?", "I", "searched", "the", "web", "and", "FOLDOC", "(", "Free", "On-line", "Dictionary", "of", "Computing", ")", "but", "did", "n't", "find", "anything", "that", "looked", "promising", "."], "answer_count": 4, "question_id": 33774972}, {"tokens": ["#p", "i", "think", "it", "means", "a", "method", "can", "catch", "an", "exception", "and", "re-throw", "it", "for", "other", "method", "to", "catch", "it", "and", "handle", "it", "as", "needed", ".", "Or", "just", "throw", "a", "new", "exception", ".", "Or", "avoid", "catching", "an", "exception", "and", "let", "it", "bubble", "up", "the", "call", "stack", ".", "The", "point", "is", "to", "have", "a", "method", "to", "other", "method", "which", "might", "be", "more", "appropriate", "to", "handle", "a", "given", "exception", "(", "e.g", "by", "having", "access", "to", "necessary", "data", "and/or", "state", ")", ".", "But", "(", "for", "<code>java</code>", ")", "this", "requires", "declaring", "methods", "with", "<code>throws</code>", "clause", "all", "the", "time", ",", "which", "becomes", "boilerplate", "easily", "#p", "as", "mentioned", "in", "@", "jmcg", "'s", "comment", ",", "literally", "``", "``", "(", "like", "ducks", "do", "in", "a", "river", ")"], "answer_id": 33775034, "question_id": 33774972}, {"tokens": ["#p", "To", "``", "duck", "an", "exception", "''", "means", "``", "not", "handle", "the", "exception", "''", ".", "This", "actually", "explains", "the", "name", ":", "to", "duck", "means", "to", "``", "To", "evade", ";", "dodge", "''", ".", "#p", "The", "method", "ducking", "the", "exception", "simply", "does", "n't", "handle", "it", "(", "because", ",", "for", "example", ",", "it", "is", "not", "its", "purpose", ")", "and", "let", "the", "exception", "be", "thrown", "to", "the", "calling", "method", ".", "#p", "For", "example", ",", "consider", "a", "method", "whose", "purpose", "is", "to", "count", "the", "number", "of", "lines", "in", "a", "file", ".", "This", "would", "be", "a", "simple", "implementation", "(", "Java", "8", ")", ":", "#pre", "#p", "Note", "that", "this", "method", "does", "n't", "handle", "the", "<code>IOException</code>", "that", "is", "thrown", "by", "<code>Files.newBufferedReader(path)</code>", ",", "because", "that", "'s", "not", "the", "method", "goal", ".", "It", "ducks", "and", "let", "the", "caller", "handle", "it", "appropriately", ".", "#p", "Note", "the", "caller", "might", "also", "duck", "the", "exception", "and", "let", "caller", "handle", "it", ",", "etc", "."], "answer_id": 33775114, "question_id": 33774972}, {"tokens": ["#p", "Well", ",", "ducking", "simply", "means", "to", "lower", "your", "head", "in", "order", "to", "avoid", "being", "hit", "or", "seen", ".", "In", "this", "case", ",", "'duck", "an", "exception", "'", "just", "means", "avoiding", "your", "code", "from", "getting", "hit", "by", "an", "exception", ".", "#p", "For", "your", "method", "not", "to", "be", "hit", "by", "exception", ",", "you", "throw", "it", "further", "up", "the", "call", "stack", "by", "declaring", "a", "<code>throws</code>", "exception", "on", "your", "method", "#pre", "#p", "If", "you", "do", "n't", "duck", ",", "you", "have", "to", "<code>catch</code>", "it", ":", "#pre"], "answer_id": 33775120, "question_id": 33774972}, {"tokens": ["#p", "I", "think", "to", "duck", "means", "re-throw", "an", "exception", "...", "in", "other", "words", ",", "ignore", "it", "hoping", "that", "someone", "else", "will", "handle", "it", ":", ")"], "answer_id": 33831940, "question_id": 33774972}, {"tokens": ["#p", "I", "just", "saw", "that", "the", "4th", "candidate", "got", "released", "for", "Hibernate", "5", ".", "What", "'s", "new", "in", "5", "compared", "to", "earlier", "versions", "?"], "answer_count": 2, "question_id": 31965179}, {"tokens": ["#p", "Some", "exciting", "features", "has", "been", "added/enhanced", "in", "Hibernate", "5.x", ".", "Have", "a", "quick", "look", ".", "#blockquote", "#li", "Full-text", "search", "for", "entities", "-", "#li", "Cluster-friendly", "-", "#li", "Faceting", "and", "geolocation", "-", "#p", "For", "more", "details", "on", "Hibernate", "Search", "view", "this", ".", "#p", "Hibernate", "Validator", "comes", "with", "a", "handful", "of", "built-in", "validation", "rules", "like", "Email", ",", "Length", ",", "NotBlank", "etc", ".", "#blockquote", "#p", "For", "more", "details", "on", "Hibernate", "Validator", "view", "this", ".", "#p", "Java", "8", "date/time", "data", "types", "(", "JSR", "310", ")", "are", "supported", "and", "can", "be", "validated", "via", "@", "Past", "and", "@", "Future", ".", "Also", "Optional", "and", "JavaFX", "types", "are", "supported", "via", "an", "improved", "ValidatedValueUnwrapper", ".", "#p", "Just", "released", "the", "first", "stable", "version", ".", "#p", "New", "bootstrapping", "API", "-", "better", "determinism", ",", "better", "integration"], "answer_id": 31975705, "question_id": 31965179}, {"tokens": ["#p", "There", "'s", "a", "long", "list", "of", "things", "that", "have", "been", "changed", "in", "Hibernate", "5", ":", "#li", "#p", "New", "bootstrap", "API", "so", "we", "can", "bootstrap", "a", "JPA", "environment", "programmatically", "without", "the", "need", "of", "a", "<code>persistence.xml</code>", "file", ".", "#li", "#p", "Starting", "in", "5.0", "Hibernate", "Spatial", "is", "part", "of", "the", "Hibernate", "project", "so", "we", "can", "handle", "GIS", "data", "too", ".", "#li", "#p", "The", "Java", "8", "Date", "and", "Time", "types", "are", "supported", "in", "domain", "model", "mappings", ".", "The", "mapping", "between", "the", "standard", "SQL", "Date/Time", "types", "and", "the", "supported", "Java", "8", "Date/Time", "class", "types", "looks", "as", "follows", ";", "#li", "DATE", ":", "<code>java.time.LocalDate</code>", "#li", "TIME", ":", "<code>java.time.LocalTime</code>", ",", "<code>java.time.OffsetTime</code>", "#li", "TIMESTAMP", ":", "<code>java.time.Instant</code>", ",", "<code>java.time.LocalDateTime</code>", ",", "<code>java.time.OffsetDateTime</code>", "and", "<code>java.time.ZonedDateTime</code>", "#li", "#p", "The", "bytecode", "enhancement", "mechanism", "was", "redesigned", "from", "scratch", ",", "and", "Hibernate", "features", "both", "a", "Maven", "and", "a", "Gradle", "plugin", ".", "There", "are", "three", "main", "aspects", "which", "we", "can", "enhance", "with", "bytecode", "instrumentation", ":", "#li", "#p", "Lazy", "initialization", ":", "Fields", "can", "be", "declared", "as", "<code>LAZY</code>", "and", "they", "will", "be", "fetched", "only", "when", "being", "accessed", "for", "the", "first", "time", ".", "#li", "#p", "Dirty", "checking", ":", "Entities", "are", "enhanced", "so", "that", "they", "can", "keep", "track", "of", "all", "the", "properties", "that", "get", "changed", "after", "being", "loaded", "in", "a", "Persistence", "Context", ".", "#li", "#p", "Bidirectional", "associations", ":", "It", "'s", "possible", "to", "synchronize", "both", "sides", "of", "a", "bidirectional", "association", "automatically", ",", "even", "if", "the", "developer", "only", "updates", "a", "single", "side", ".", "#li", "#p", "Hibernate", "'s", "native", "APIs", "(", "<code>Session</code>", ",", "etc", ")", "have", "been", "updated", "to", "use", "generic", "typed", ".", "No", "need", "to", "cast", "when", "fetching", "entities", ".", "#li", "#p", "Hibernate", "5.0", "expends", "this", "to", "a", "broader", "set", "of", "types", "(", "e.g", ".", "<code>UUID</code>", ")", ".", "#li", "#p", "Second-level", "cache", "by", "reference", ".", "This", "feature", "enables", "direct", "storage", "of", "entity", "references", "into", "the", "second", "level", "cache", "for", "immutable", "entities", ".", "#li", "#p", "Starting", "with", "Hibernate", "5.0", ",", "we", "have", "a", "completely", "new", "User", "Guide", "that", "was", "written", "from", "scratch", "."], "answer_id": 35427268, "question_id": 31965179}, {"tokens": ["#p", "<code>String</code>", "is", "a", "special", "case", "in", "Java", ".", "It", "'s", "a", "class", ",", "which", "I", "can", "examine", "in", "the", "source", "code", ",", "but", "it", "also", "has", "its", "own", "infix", "operator", "<code>+</code>", ",", "which", "seems", "to", "be", "syntactic", "sugar", "for", "<code>StringBuilder</code>", ".", "#p", "For", "example", ",", "#pre", "#p", "could", "become", "#pre", "#p", "There", "are", "no", "user-defined", "operators", "in", "Java", ",", "so", "where", "is", "<code>+</code>", "specified", "for", "<code>String</code>", "?", "#p", "Could", "the", "same", "mechanism", "be", "used", "to", "make", "additional", "operators", ",", "such", "as", "for", "vectors", "?"], "answer_count": 5, "question_id": 32714194}, {"tokens": ["#p", "<code>+</code>", "is", "implemented", "in", "java", ".", "The", "compiler", "<code>String</code>", "+", "<code>String</code>", "with", "either", "constants", "or", "<code>StringBuilder</code>", "code", ".", "Note", "that", "this", "applies", "to", "too", ".", "i.e", ",", "<code>int  i=1+2</code>", "could", "get", "directly", "replaced", "to", "<code>int i=3</code>", "during", "compilation", "itself", "."], "answer_id": 32714222, "question_id": 32714194}, {"tokens": ["#p", "Java", "compilers", "have", "the", "implementation", "for", "+", ".", "The", "Javadocs", "says", ":", "#blockquote", "#p", "You", "can", "try", "to", "check", "this", ":", "#pre", "#p", "The", "above", "code", "generates", "the", "same", "bytecode", "for", "+", "and", "when", "using", "StringBuilder", ":", "#pre"], "answer_id": 32714276, "question_id": 32714194}, {"tokens": ["#p", "You", "can", "check", "with", "specification", ".", "The", "compiler", "have", "the", "implementation", "of", "it", ",", "not", "the", "Java", "source", "code", ".", "#p", "<code>Java Language Specification- 15.18.1. String Concatenation Operator +</code>", "#blockquote", "#p", "It", "shows", "the", "evidence", "that", "the", "implementation", "is", "depends", "on", "the", "compiler", "."], "answer_id": 32714290, "question_id": 32714194}, {"tokens": ["#p", "While", "currently", "most", "of", "Java", "compilers", "using", "<code>StringBuilder</code>", "chain", ",", "it", "'s", "not", "specified", "that", "it", "should", "be", "always", "in", "this", "way", ".", "In", "particular", "there", "'s", "a", "proposal", "to", "change", "this", "drastically", "in", "Java-9", "replacing", "with", "single", "<code>invokedynamic</code>", "call", "and", "introduce", "new", "metafactory", "which", "will", "generate", "an", "appropriate", "<code>MethodHandle</code>", "in", "runtime", "to", "perform", "concatenation", "."], "answer_id": 32714537, "question_id": 32714194}, {"tokens": ["#p", "As", "for", "the", "language", ",", "no", ",", "it", "'s", "not", "extensible", ".", "This", "is", "specific", "behavior", ",", "no", "other", "class", "extends", "the", "<code>+</code>", "operator", ".", "#p", "As", "for", "where", "this", "is", "done", ",", "search", "for", "<code>string_add</code>", "(", "not", "a", "real", "JVM", "op", ")", "in", "the", "following", "files", ":", "#li", "#p", "Operator", "definition", "#li", "#p", "Code", "generator"], "answer_id": 32728816, "question_id": 32714194}, {"tokens": ["#p", "The", "languageLevel", "key", "gets", "changed", "from", "JDK_1_8", "to", "JDK_1_7", "for", "reasons", "I", "am", "not", "aware", ".", "#p", "What", "could", "be", "going", "on", "?", "#p", "Does", "this", "have", "something", "to", "do", "with", "the", "IDE", "of", "other", "developers", "working", "on", "the", "project", "?", "Maybe", "they", "have", "another", "Android", "Studio", "setting", "?", "#p", "Here", "is", "what", "pops", "up", "after", "I", "notice", "files", "under", "source", "control", "have", "changed", ":", "#pre", "#p", "This", "is", "my", "gitignore", "in", "case", "it", "matters", ".", "#pre", "#p", "How", "do", "I", "proceed", "so", "that", "it", "just", "stays", "one", "way", "or", "the", "other", "?"], "answer_count": 1, "question_id": 32878888}, {"tokens": ["#p", "I", "solved", "this", "problem", "when", "I", "removed", "and", "stopped", "committing", "the", ".idea", "folder", "to", "source", "control", ".", "#p", "The", "problem", "is", "that", "some", "of", "these", "files", "are", "machine", "specific", "configurations", "so", "sharing", "them", "could", "be", "an", "issue", ".", "#p", "Removing", "it", "and", "other", "offending", "files", "was", "a", "two", "step", "git", "process", ":", "#p", "1", ")", "Add", "this", ".gitignore", "(", "from", "http", ":", "//stackoverflow.com/a/32942758/869936", ")", ":", "#pre", "#p", "2", ")", "For", "each", "line", "of", "the", ".gitignore", ",", "run", "<code>git rm line</code>", "from", "the", "command", "line", ".", "#p", "Example", ":", "#pre", "#p", "Add", "and", "commit", "the", "changes", "#p", "Now", "these", "files", "will", "be", "generated", "when", "you", "open", "the", "Android", "Studio", "project", "and", "they", "wo", "n't", "be", "added", "to", "git", "."], "answer_id": 33898839, "question_id": 32878888}, {"tokens": ["#p", "I", "had", "add", "<code>uses-permission</code>", "including", "<code>WRITE_EXTERNAL_STORAGE</code>", "\uff0c", "<code>MOUNT_UNMOUNT_FILESYSTEMS</code>", "\uff0c", "<code>READ_EXTERNAL_STORAGE</code>", "to", "<code>AndroidManifest.xml</code>", ".", "#p", "When", "I", "ran", "my", "app", "in", "Nexus5", "(", "Android6.0", ")", ",", "it", "threw", "a", "exception", "as", "below", ":", "#p", "<code>java.io.IOException: open failed: EACCES (Permission denied)</code>", "#p", "And", "I", "tried", "another", "Android", "phone", "(", "Android5.1", ")", ",", "everything", "was", "OK.Here", "'s", "the", "code", ":", "#pre", "#p", "Does", "Android", "6.0", "have", "difference", "about", "permission", "?"], "answer_count": 4, "question_id": 33030933}, {"tokens": ["#p", "Android", "added", "new", "permission", "model", "for", ".", "#p", "http", ":", "//www.captechconsulting.com/blogs/runtime-permissions-best-practices-and-how-to-gracefully-handle-permission-removal", "#p", "So", "you", "have", "to", "check", "<code>Runtime Permission</code>", ":", "#p", "#p", "With", "Android", "6.0", "Marshmallow", ",", "Google", "introduced", "a", "new", "permission", "model", "that", "allows", "users", "to", "better", "understand", "why", "an", "application", "may", "be", "requesting", "specific", "permissions", ".", "Rather", "than", "the", "user", "blindly", "accepting", "all", "permissions", "at", "install", "time", ",", "the", "user", "is", "now", "prompted", "to", "accept", "permissions", "as", "they", "become", "necessary", "during", "application", "use", ".", "#p", "#p", "it", "doesn\u2019t", "require", "full", "support", "until", "you", "choose", "to", "target", "version", "23", "in", "your", "application", ".", "If", "you", "are", "targeting", "version", "22", "or", "below", ",", "your", "application", "will", "request", "all", "permissions", "at", "install", "time", "just", "as", "it", "would", "on", "any", "device", "running", "an", "OS", "below", "Marshmallow", ".", "#p", "This", "information", "is", "taken", "from", "here", ":", "#p", "Please", "check", "How", "to", "implement", "from", "this", "link", ":", "#p", "http", ":", "//www.captechconsulting.com/blogs/runtime-permissions-best-practices-and-how-to-gracefully-handle-permission-removal"], "answer_id": 33031091, "question_id": 33030933}, {"tokens": ["#p", "In", ",", "even", "though", "the", "user", "accepted", "all", "your", "permissions", "at", "install", "time", ",", "they", "can", "later", "decide", "to", "take", "some", "of", "those", "permissions", "away", "from", "you", ".", "#p", "maybe", "if", "you", "change", "your", "<code>targetSdkVersion</code>", "in", "the", "gradle", "to", "<code>22</code>", ",", "the", "problem", "will", "be", "solved", ".", "#p", "#li", "#p", "First", "determine", "if", "the", "user\u2019s", "device", "is", "a", "Marshmallow", "device", "or", "not", ":", "#pre", "#li", "#p", "If", "<code>shouldAskPermission()</code>", "return", "<code>true</code>", ",", "ask", "for", "permission", "you", "need", ":", "#pre", "#p", "The", "method", "<code>requestPermissions(String[] permissions, int requestCode);</code>", "is", "a", "public", "method", "found", "inside", "of", "the", "Android", "Activity", "class", ".", "#li", "#p", "You", "will", "receive", "the", "results", "of", "your", "request", "in", "the", "method", "onRequestPermissionResult", "as", "shown", "below", ":", "#pre", "#p", "After", "receiving", "the", "results", ",", "you", "will", "need", "to", "handle", "them", "appropriately", ".", "#p", "#p", "#p", "#p", "A", "user", "with", "a", "Marshmallow", "device", "will", "now", "have", "the", "ability", "to", "revoke", "via", "the", "application", "settings", "#p", "Android", "defines", "some", "permissions", "as", "\u201c", "\u201d", "and", "some", "permissions", "as", "\u201c", ".\u201d", "Both", "are", "required", "in", "your", "application\u2019s", "manifest", "but", "only", "dangerous", "permissions", "require", "a", "runtime", "request", ".", "#p", "If", "you", "have", "chosen", "not", "to", "implement", "the", "new", "permissions", "model", "(", "runtime", "request", ")", ",", "the", "revocation", "of", "permissions", "can", "cause", "unwanted", "user", "experiences", "and", "in", "some", "cases", "application", "crashes", ".", "#p", "The", "table", "below", "lists", "all", "the", "current", "dangerous", "permissions", "and", "their", "respective", "groups", ":", "#p", "#p", "If", "the", "user", "accepts", "one", "permission", "in", "a", "group/category", "they", "accept", "the", "entire", "group", "!", "#p"], "answer_id": 33980679, "question_id": 33030933}, {"tokens": ["#p", "You", "can", "also", "use", "ActivityCompat.requestPermissions", "for", "backwards", "compatible", ".", "#p", "example", ":", "#pre"], "answer_id": 35475070, "question_id": 33030933}, {"tokens": ["#p", "From", "API-23", "you", "need", "to", "declare", "the", "permission", "in", "activity", "even", "if", "you", "have", "already", "declared", "in", "manifest", ".", "#pre", "#p", "To", "use", "simply", "call", "<code>verifyStoragePermissions(this);</code>", "in", "onCreate", ".", "That", "should", "do", "it", "hopefully", "."], "answer_id": 37038313, "question_id": 33030933}, {"tokens": ["#p", "As", "far", "as", "I", "understand", "the", "Java", "8", "JLS", "the", "expression", "<code>(1/0)</code>", "is", "considered", "a", "constant", "expression", ",", "but", "when", "I", "try", "to", "compile", "the", "following", "program", "with", "OpenJDK", "8", "I", "get", "an", "error", "#pre", "#p", "The", "error", "says", "<code>(1/0)</code>", "is", "n't", "a", "constant", "expression", "#pre", "#p", "Am", "I", "missing", "something", "?", "Or", "is", "it", "a", "bug", "in", "OpenJDK", "8", "?"], "answer_count": 2, "question_id": 31206740}, {"tokens": ["#p", "The", "compiler", "is", "doing", "constant", "folding", "(", "precomputing", "trivial", "literal", "expressions", ")", ".", "This", "is", "a", "case", "where", "the", "expression", "``", "completes", "abruptly", "''", ",", "to", "use", "the", "JLS", "verbiage", ",", "disqualifying", "it", "from", "meeting", "the", "definition", "of", "``", "constant", "expression", "''", ".", "So", "it", "'s", "not", "a", "bug", ",", "it", "'s", "consistent", "with", "the", "JLS", ".", "#p", "And", "yes", ",", "the", "expression", "does", "n't", "evaluate", "to", "a", "value", "either", "(", "warning", "the", "user", "trying", "to", "do", "something", "like", "this", "that", "the", "result", "will", "not", "be", "a", "constant", "expression", ")", ",", "but", "the", "compiler", "does", "n't", "know", "that", "until", "it", "tries", ".", "Not", "evaluating", "to", "a", "value", "and", "completing", "abruptly", "would", "seem", "to", "go", "hand-in-hand", ".", "#p", "Adding", "a", "variable", "declaration", "like", "#pre", "#p", "does", "n't", "cause", "a", "compiler", "error", ",", "it", "'s", "the", "switch", "that", "forces", "the", "expression", "to", "be", "evaluated", "at", "compile", "time", ".", "#p", "By", "the", "way", "I", "checked", "that", "this", "happens", "for", "version", "7", "of", "the", "Oracle", "and", "IBM", "JDKs", "too", ",", "it", "'s", "not", "OpenJDK", "or", "JDK8", "specific", "."], "answer_id": 31206824, "question_id": 31206740}, {"tokens": ["#p", "A", "constant", "expression", "must", "be", "able", "to", "evaluate", "to", "a", "value", ",", "since", "the", "compiler", "must", "reconduce", "that", "expression", "to", "a", "value", ".", "#p", "<code>1/0</code>", "does", "n't", "have", "any", "value", ".", "#p", "From", "JSL", "\u00a715.28", ":", "#blockquote"], "answer_id": 31206825, "question_id": 31206740}, {"tokens": ["#p", "My", "understanding", "was", "that", "static", "variables", "and", "static", "methods", "are", "of", "a", "class", ",", "not", "of", "the", "class", "objects", ".", "So", "an", "<code>Override</code>", "of", "a", "static", "method", "wo", "n't", "work", "in", "Java", ",", "as", "for", "overriding", "we", "need", "an", "instance", "of", "a", "class", "to", "be", "created", ".", "But", "I", "was", "trying", "something", "today", "that", "contradicted", "my", "knowledge", "of", "Java", ".", "#p", "Please", "follow", "this", "code", ":", "#pre", "#p", "The", "output", "of", "the", "above", "implementation", "is", ":", "#pre", "#p", "From", "this", "output", "I", "can", "understand", "that", "though", "the", "<code>Child</code>", "class", "extends", "the", "<code>Parent</code>", "class", ",", "the", "<code>doit</code>", "methods", "are", "individual", "to", "each", "class", "as", "they", "are", "<code>static</code>", ".", "So", "no", "overriding", "of", "them", "is", "allowed", ".", "#p", "Now", "please", "follow", "the", "below", "code", ",", "where", "<code>@Override</code>", "is", "added", "to", "the", "child", "'s", "<code>doIt</code>", "method", ":", "#pre", "#p", "The", "output", "of", "the", "above", "code", "gives", "a", "compilation", "error", "as", "follows", ":", "#pre", "#p", "Here", "it", "clearly", "says", "that", "the", "annotation", "<code>Override</code>", "ca", "n't", "be", "applied", "in", "<code>static</code>", "methods", "as", "they", "are", "not", "getting", "overridden", ".", "#p", "Now", "please", "follow", "the", "below", "code", ",", "where", "<code>Child</code>", "has", "no", "<code>doIt</code>", "method", ":", "#pre", "#p", "The", "output", "is", ":", "#pre", "#p", "Why", "does", "the", "above", "code", "compile", "and", "run", "?", "I", "was", "expecting", "a", "compilation", "error", "for", "method", "<code>doit</code>", "for", "class", "Child", ",", "and", "I", "was", "expecting", "``", "Method", "not", "found", "''", ".", "I", "do", "n't", "understand", ".", "#p", "Also", "please", "follow", "the", "below", "code", ".", "Here", ",", "the", "<code>doIt</code>", "method", "in", "<code>Parent</code>", "is", "now", "<code>final</code>", ".", "#pre", "#p", "The", "output", "after", "running", "the", "above", "code", "is", "as", "follows", ":", "#pre", "#p", "What", "I", "was", "expecting", "was", "that", "the", "above", "code", "should", "work", "fine", "as", "the", "<code>doit</code>", "methods", "are", "static", "in", "each", "class", ",", "so", "even", "a", "<code>final</code>", "keyword", "should", "not", "make", "any", "compilation", "error", "as", "the", "method", "is", "<code>static</code>", ".", "#p", "Please", "explain", "to", "me", "how", "method", "overriding", "works", "in", "static", "classes", "in", "Java", ".", "#li", "Can", "static", "methods", "be", "overridden", "?", "If", "yes", ",", "then", "how", "come", "annotating", "<code>@Override</code>", "fails", "?", "#li", "If", "static", "methods", "ca", "n't", "be", "overriden", ",", "then", "how", "come", "my", "3rd", "code", "block", "runs", "fine", "?", "#li", "If", "static", "methods", "ca", "n't", "be", "overriden", ",", "then", "how", "come", "the", "<code>final</code>", "keyword", "makes", "a", "difference", "?"], "answer_count": 3, "question_id": 32112692}, {"tokens": ["#p", "You", "are", "confusing", "overriding", "with", "hiding"], "answer_id": 32112793, "question_id": 32112692}, {"tokens": ["#p", "First", "of", "all", "there", "are", "different", "mechanisms", "involved", "here", ":", "Overriding", "and", "Shadowing", "(", "also", "called", "hiding", ")", ".", "#p", "1", ")", "Static", "methods", "can", "not", "be", "overriden", "as", "they", "are", "attached", "to", "the", "class", "they", "are", "defined", "in", ".", "However", ",", "you", "can", "a", "static", "method", "as", "you", "are", "doing", "with", "your", "<code>Parent</code>", "/", "<code>Child</code>", "class", ".", "This", "means", ",", "the", "method", "gets", "replaced", "in", "the", "<code>Child</code>", "class", "but", "is", "still", "available", "from", "the", "<code>Parent</code>", "class", ".", "#p", "It", "gets", "more", "obvious", "that", "you", "are", "overriding", "when", "you", "are", "calling", "the", "static", "methods", "from", "instances", "of", "those", "classes", "(", "and", "not", "using", "the", "<code>Class.staticMethod()</code>", "invocation", ")", ".", "#pre", "#p", "the", "output", "is", "#pre", "#p", "The", "answer", "is", "the", "dispatch", "of", "the", "methods", ".", "You", "can", "grab", "the", "source", "code", "here", "#p", "2", ")", "The", "dispatch", "finds", "the", "method", "on", "the", "<code>Parent</code>", "class", ".", "There", "is", "no", "dynamic", "dispatch", "as", "that", "the", "runtime", "type", "is", "used", "to", "find", "the", "method", "handle", ".", "It", "uses", "the", "compile", "time", "type", ".", ":", "Calling", "static", "methods", "from", "instances", "is", "considered", "bad", "practice", "since", "things", "like", "above", "can", "happen", "and", "are", "easy", "to", "be", "overlooked", ".", "#p", "3", ")", "With", "<code>final</code>", "you", "declare", "that", "the", "method", "can", "not", "be", "overridden", "neither", "shadowed/hidden", "."], "answer_id": 32112813, "question_id": 32112692}, {"tokens": ["#p", "Although", "it", "is", "discouraged", "to", "ask", "3", "questions", "in", "one", "post", ",", "I", "am", "still", "willing", "to", "answer", "them", ".", "#li", "#p", "Static", "methods", "can", "not", "be", "overridden", "because", "there", "is", "no", "point", "of", "doing", "that", ".", "In", "your", "case", ",", "If", "you", "want", "to", "override", "the", "static", "method", "you", "can", "just", "call", "the", "method", "and", "add", "your", "own", "implementation", "after", "that", "or", "you", "just", "create", "another", "method", ".", "#li", "#p", "So", "now", "that", "you", "know", "that", "static", "methods", "can", "not", "be", "overridden", ".", "But", "you", "are", "asking", "why", "the", "third", "code", "works", "?", "The", "third", "code", "is", "the", "code", "with", "#p", "public", "class", "Child", "extends", "Parent", "{", "}", "#p", "right", "?", "Although", "static", "methods", "can", "not", "be", "overridden", ",", "they", "can", "be", ".", "What", "you", "are", "doing", "is", "inheriting", "<code>Parent</code>", "so", "that", "is", "completely", "fine", "!", "#li", "Now", "let", "me", "tell", "you", ",", "in", "your", "first", "code", "sample", "you", "are", "the", "method", "in", "the", "<code>Parent</code>", "class", ",", "not", "overriding", ".", "That", "'s", "why", "you", "get", "the", "output", ".", "A", "<code>final</code>", "keyword", "means", "the", "method", "can", "be", "changed", ",", "not", "even", "hidden", ".", "So", "that", "'s", "why", "."], "answer_id": 32113074, "question_id": 32112692}, {"tokens": ["#p", "The", "question", "had", "been", "asked", "by", "another", "SO", "member", ",", "but", "was", "disappointingly", "deleted", ".", "The", "comments", "were", "saying", "the", "measurements", "are", "flawed", "and", "does", "not", "make", "sense", ".", "#p", "However", "I", "was", "able", "to", "reproduce", "the", "original", "problem", "with", "a", "small", "benchmark", "under", "JMH", ":", "#pre", "#p", "The", "benchmarks", "shows", "<code>indirectInc</code>", "works", "3", "times", "faster", ",", "though", "the", "``", "optimization", "''", "is", "not", "obvious", "at", "all", ".", "One", "would", "assume", "<code>indirectInc</code>", "should", "work", "a", "bit", "slower", "because", "it", "involves", "an", "extra", "intermediate", "operation", ".", "#pre", "#p", "#pre", "#p", "What", "causes", "JIT", "to", "compile", "<code>indirectInc</code>", "better", "than", "similar", "<code>directInc</code>", "?"], "answer_count": 2, "question_id": 31462514}, {"tokens": ["#p", "I", "suspect", "a", "few", "things", ":", "#li", "You", "are", "n't", "testing", "the", "same", "work", "for", "each", ".", "Break", "your", "test", "into", "two", "individual", "files", "to", "ensure", "the", "JIT", "is", "n't", "just", "warmed", "up", "for", "one", "rather", "than", "the", "other", ".", "#li", "(", "minor", ")", "direct", "is", "<", "=1000", ",", "indirect", "is", "<", "1000", "so", "you", "do", "one", "more", "step", ".", "#li", "You", "probably", "want", "to", "use", "the", "same", "random", "numbers", "for", "each", "test", ",", "rather", "than", "different", "ones", "each", "time", ".", "#p", "The", "body", "of", "the", "loop", "is", "essentially", "the", "same", "for", "each", "test", ":", "#p", "Direct", ":", "#pre", "#p", "Indirect", ":", "#pre", "#p", "It", "'s", "(", "barely", ")", "possible", "that", "if_icmpge", "is", "faster", "than", "if_icmpgt", "on", "your", "platform", ",", "or", "that", "the", "JIT", "knows", "more", "to", "do", "with", "if_icmpge", "than", "if_icmpgt", ",", "but", "I", "suspect", "something", "else", "underlying", "your", "test", "is", "confounding", "things", "."], "answer_id": 31464996, "question_id": 31462514}, {"tokens": ["#p", "Ok", ",", "this", "is", "how", "you", "approach", "these", "things", ".", "#li", "#p", "Try", "to", "reproduce", "it", ".", "Okay", ",", "it", "reproduces", ":", "#pre", "#li", "#p", "Try", "to", "see", "the", "generated", "assembly", "with", "<code>-prof perfasm</code>", ".", "Long", "story", "short", ",", "it", "produces", "a", "lot", "of", "generated", "code", ",", "and", "so", "we", "probably", "want", "to", "limit", "the", "loop", "unrolling", ".", "But", ",", "it", "can", "affect", "the", "performance", ",", "and", "can", "pretty", "much", "be", "the", "cause", ".", "So", ",", "let", "'s", "re-run", "with", "<code>-XX:LoopUnrollLimit=1</code>", ".", "Okay", ",", "the", "score", "is", "lower", ",", "but", "the", "difference", "is", "still", "there", ",", "excellent", ":", "#pre", "#li", "#p", "Take", "another", "look", "at", "the", "generated", "code", ",", "still", "nothing", "that", "pops", "out", "to", "our", "eye", ".", "Well", ",", "this", "seems", "interesting", ".", "Let", "'s", "get", "on", "this", "properly", ".", "Can", "we", "characterize", "the", "workload", "?", "Of", "course", "we", "can", ",", "with", "the", "help", "of", "<code>-prof perfnorm</code>", ",", "which", "normalizes", "the", "hardware", "counters", "per", "benchmark", "op", ".", "Let", "'s", "see", ":", "#pre", "#p", "Oh", ",", "both", "benchmarks", "have", "comparable", "number", "of", "instructions", ".", "The", "slower", "one", "takes", "more", "cycles", "(", "that", "'s", "why", "CPI", "is", "also", "not", "ideal", "in", "<code>directInc</code>", ";", "<code>indirectInc</code>", ",", "however", ",", "produces", "a", "close-to-ideal", "CPI", ")", ".", "If", "you", "look", "closely", "at", "possible", "causes", ":", "there", "is", "not", "many", "cache", "misses", ",", "not", "many", "TLB", "misses", ",", "but", "slow", "benchmark", "has", "lots", "of", "branch", "misses", ".", "AHA", "!", "Now", "we", "know", "what", "to", "look", "in", "the", "generated", "code", ".", "#li", "#p", "Let", "'s", "look", "at", "generated", "code", "again", ".", "<code>-prof perfasm</code>", "conveniently", "highlights", "the", "jumps", ".", "And", "then", "you", "will", "see", "this", "...", "#p", ":", "#pre", "#p", ":", "#pre", "#p", "Notice", "the", "<code>cmovne</code>", "instead", "of", "<code>jmp</code>", "--", "this", "is", "why", "we", "have", "more", "``", "predictable", "''", "branches", ".", "HotSpot", "profiles", "the", "branches", ",", "and", "emits", "the", "conditional", "move", "when", "the", "branch", "profile", "branch", "is", "very", "flat", ".", "In", "other", "words", ",", "dodge", "a", "very", "likely", "branch", "misprediction", "by", "paying", "a", "bit", "for", "the", "added", "latency", "of", "conditional", "move", ".", "However", ",", "in", "this", "case", ",", "switch", "is", "special", ":", "it", "has", "alternatives", "(", "0", ",", "1", ",", "and", "``", "nothing", "''", ")", ".", "This", "is", "why", ",", "I", "speculate", ",", "the", "<code>result</code>", "increment", "is", "not", "being", "folded", "into", "cmov", ".", "(", "Generally", "speaking", ",", "HotSpot", "could", "have", "stored", "zero", "to", "<code>result</code>", "in", "``", "default", "''", ",", "but", "it", "blew", "it", ",", "oh", "well", ")", "#li", "#p", "To", "confirm", "that", "hypothesis", ",", "let", "'s", "make", "a", "<code>directCompleteInc</code>", "case", ",", "where", "we", "still", "use", "<code>switch</code>", ",", "but", "now", "cover", "all", "the", "cases", ":", "#pre", "#p", "...", "and", "measure", "it", ",", "and", "this", "time", "without", "any", "options", ",", "like", "the", "OP", "did", ":", "#pre", "#p", "THERE", ".", "#li", "#p", "Confirm", "<code>directCompleteInc</code>", "is", "using", "<code>cmov</code>", "with", "<code>-prof perfasm</code>", ".", "It", "does", ".", "#li", "#p", "Drink", "up", "."], "answer_id": 31483805, "question_id": 31462514}, {"tokens": ["#p", "I", "learned", "the", "other", "day", "that", "you", "can", "do", "this", "#pre", "#p", "This", "seems", "really", "weird", "to", "me", ".", "Surely", "the", "static", "type", "of", "the", "object", "created", "is", "<code>Object</code>", ",", "so", "there", "is", "n't", "a", "method", "<code>hello()</code>", "?", "Is", "n't", "it", "almost", "completely", "pointless", "(", "it", "is", "n't", "possible", "to", "invoke", "<code>hello</code>", "twice", "for", "example", ")", ".", "#p", "I", "have", "2", "questions", "about", "this", ".", "#li", "Can", "somebody", "point", "me", "to", "the", "part", "of", "the", "specification", "that", "addresses", "this", "?", "#li", "Am", "I", "right", "in", "thinking", "that", "the", "only", "way", "you", "can", "invoke", "<code>hello</code>", "is", "immediately", "like", "this", ".", "What", "about", "reflection", "?", "#p", "Thanks"], "answer_count": 4, "question_id": 32959680}, {"tokens": ["#p", "As", "posted", ",", "there", "is", "n't", "a", "way", "to", "get", "the", "anonymous", "methods", "from", "the", "<code>Object</code>", "instance", ".", "And", ",", "it", "makes", "Anonymous", "classes", "look", "pointless", ".", "But", ",", "you", "could", "(", "and", "I", "usually", "would", ")", "use", "it", "to", "implement", "an", "interface", ".", "Something", "like", ",", "#pre", "#p", "Or", ",", "more", "commonly", ",", "for", "call-backs", "with", "JFC/Swing", "and", "ActionListener", "."], "answer_id": 32959739, "question_id": 32959680}, {"tokens": ["#blockquote", "#p", "This", "will", "mostly", "be", "defined", "in", "the", "section", "concerning", "Method", "invocation", "expressions", ":", "#blockquote", "#p", "Here", ",", "the", "is", "the", "class", "instance", "creation", "expression", ".", "So", "the", "type", "to", "search", "is", "the", "anonymous", "type", ".", "#blockquote", "#p", "As", "long", "as", "an", "expression", "evaluates", "to", "the", "anonymous", "type", "<code>T</code>", ",", "whether", "through", "direct", "access", "like", "you", "have", ",", "or", "through", "generics", ",", "you", "have", "access", "(", "regular", "access", "rules", "apply", ")", "to", "the", "members", "that", "<code>T</code>", "declares", ".", "This", "is", "n't", "limited", "to", "methods", ".", "You", "can", "access", "fields", "or", "types", ",", "though", "it", "'s", "not", "as", "useful", "for", "types", ".", "For", "example", ",", "#pre", "#p", "Since", "there", "'s", "no", "way", "to", "refer", "to", "the", "nested", "type", "without", "the", "enclosing", "type", ",", "you", "ca", "n't", "declare", "a", "variable", "of", "that", "nested", "type", ".", "The", "usefulness", "declines", "very", "quickly", ".", "(", "Presumably", ",", "that", "'s", "also", "why", "you", "ca", "n't", "have", "a", "<code>static</code>", "nested", "type", "within", "this", "anonymous", "class", ".", ")", "#p", "Reflection", "also", "exposes", "this", "method", ".", "The", "generated", "anonymous", "class", "contains", "this", "method", ",", "so", "you", "can", "retrieve", "it", "and", "invoke", "it", ".", "The", "process", "is", "the", "same", ".", "The", "fact", "that", "the", "instance", "is", "from", "an", "anonymous", "class", "does", "n't", "matter", ".", "The", "same", "strategy", "as", "presented", "in", "How", "do", "I", "invoke", "a", "Java", "method", "when", "given", "the", "method", "name", "as", "a", "string", "?", "applies", ".", "#p", "For", "example", ",", "#pre", "#p"], "answer_id": 32959751, "question_id": 32959680}, {"tokens": ["#p", "Adding", "to", "Sotirios", "'", "answer", ",", "here", "'s", "to", "invoke", "the", "method", "through", "reflection", ":", "#pre", "#p", "This", "allows", "you", "to", "call", "the", "method", "more", "than", "once", ",", "but", "other", "than", "that", ",", "makes", "little", "sense", "."], "answer_id": 32959990, "question_id": 32959680}, {"tokens": ["#p", "Anonymous", "class", "is", "for", "the", "benefit", "of", "lazy", "programmers", "-", "naming", "things", "is", "too", "hard", ":", ")", "#p", "Anonymous", "class", "is", "very", "much", "like", "a", "local", "class", ".", "If", "a", "local", "class", "is", "just", "for", "creating", "one", "object", ",", "which", "is", "then", "used", "only", "as", "a", "supertype", ",", "we", "can", "create", "an", "anonymous", "class", "instead", "which", "is", "more", "succinct", ".", "#p", "Anonymous", "class", "is", "undenotable", "(", "to", "programmer", ")", ",", "which", "is", "fine", "because", "we", "do", "n't", "need", "to", "reference", "it", "again", ".", "However", ",", "to", "the", "compiler", ",", "the", "class", "is", "very", "much", "named", ",", "and", "there", "is", "no", "reason", "to", "treat", "it", "differently", "from", "explicitly", "named", "classes", ".", "The", "static", "type", "of", "the", "expression", "is", "the", "concrete", "subclass", ",", "and", "the", "members", "of", "the", "object", "is", "the", "members", "of", "that", "class", ".", "Is", "this", "feature", "(", "being", "able", "to", "call", "<code>hello()</code>", ")", "pointless", "?", "Only", "if", "you", "consider", "local", "class", "pointless", "(", "and", "indeed", "local", "class", "is", "rarely", "used", ")", ".", "Here", "'s", "an", "example", "where", "I", "used", "that", "feature", "(", "for", "fun", ")", ".", "#p", "Although", "the", "type", "is", "undenotable", ",", "the", "type", "can", "survive", "as", "itself", "through", "APIs", ".", "For", "example", ",", "#pre", "#p", "Even", "though", "we", "can", "not", "name", "the", "type", ",", "it", "does", "not", "need", "to", "be", "named", "where", "it", "can", "be", "inferred", ".", "#pre", "#p", "And", "we", "can", "create", "puzzlers", "for", "people", "who", "did", "n't", "expect", "the", "static", "type", "#pre"], "answer_id": 32960669, "question_id": 32959680}, {"tokens": ["#p", "I", "'m", "still", "pretty", "fresh", "to", "all", "this", ",", "but", "I", "'m", "working", "on", "attaining", "my", "OCAJP", "certification", "(", "Java", ")", ".", "I", "remembered", "reading", "previously", "that", "the", ".equals", "method", "could", "be", "overridden", "when", "I", "came", "to", "this", "question", ":", "#p", "#p", "Now", "these", "questions", "have", "been", "pretty", "evil", "as", "far", "as", "I", "'m", "concerned", ".", "Twisting", "every", "little", "thing", "you", "think", "you", "know", "to", "force", "you", "to", "learn", "all", "the", "minutiae", ".", "Now", "I", "had", "guessed", "E", ",", "but", "I", "did", "n't", "think", "D", "was", "correct", ".", "I", "mean", "99.9", "%", "of", "the", "time", ",", "of", "course", ",", "but", "I", "thought", "it", "was", "a", "trick", "question", "based", "on", "the", "wording", ".", "#p", "This", "got", "me", "thinking", ",", "is", "that", "true", "?", "I", "mean", ",", "if", "I", "get", "the", "question", "on", "the", "exam", ",", "I", "know", "how", "to", "answer", "it", "now", ",", "but", "in", "the", "deep", "dark", "abyss", "of", "overriding", "madness", ",", "is", "it", "possible", "to", "create", "a", "situation", "where", "a.equals", "(", "a", ")", "returns", "false", "?", "I", "feel", "like", "this", "would", "make", "Aristotle", "angry", "..."], "answer_count": 5, "question_id": 32175145}, {"tokens": ["#p", "Note", "that", "<code>a</code>", ".", "<code>b</code>", "and", "<code>c</code>", "are", "instances", "of", "primitive", "wrapper", "classes", "(", "such", "as", "Integer", ",", "Double", ",", "etc", "...", ")", ".", "These", "classes", "are", "final", "and", "can", "not", "be", "extended", ",", "so", "you", "ca", "n't", "override", "their", "<code>equals</code>", "implementation", ".", "#p", "Therefore", "<code>a.equals(a)</code>", "will", "always", "return", "true", ",", "since", "those", "classes", "implement", "<code>equals</code>", "properly", "."], "answer_id": 32175175, "question_id": 32175145}, {"tokens": ["#p", "You", "can", "take", "a", "look", "at", "the", "implementations", "of", "all", "the", "primitive", "wrappers", ",", "i.e", ":", "Integer", ",", "Boolean", ",", "Character", "etc", "...", "you", "will", "see", "that", "the", "implementation", "is", "correct", "."], "answer_id": 32175201, "question_id": 32175145}, {"tokens": ["#p", "Since", "<code>equals(...)</code>", "is", "not", "a", "final", "method", "of", "<code>Object</code>", ",", "yes", ",", "it", "is", "very", "well", "be", "possible", ".", "#pre", "#p", "This", "question", ",", "however", ",", "specifically", "says", "that", "these", "are", "primitive", "wrappers", "(", "e.g", ".", "Integer", ",", "Boolean", ",", "etc", ".", ")", "and", "since", "these", "classes", "are", "final", ",", "you", "can", "not", "extend", "them", ",", "thus", "<code>a.equals(a)</code>", "will", "always", "return", "<code>true</code>", "."], "answer_id": 32175224, "question_id": 32175145}, {"tokens": ["#p", "The", "other", "answers", "have", "already", "answered", "your", "question", "-", "no", ",", "this", "is", "not", "possible", "with", "the", "Java", "'s", "primitive", "wrapper", "classes", ".", "#p", "I", "'ll", "try", "to", "address", "the", "``", "question", "behind", "the", "question", "''", ":", "Is", "this", "possible", "with", "other", "classes", "?", "#blockquote", "#p", "This", "is", "actually", "a", "good", "question", ",", "and", "the", "answer", "is", ":", "Yes", ",", "it", "is", "possible", "to", "create", "such", "a", "situation", ",", "and", "yes", ",", "it", "would", "make", "Aristotle", "angry", ".", "Actually", ",", "I", "do", "n't", "know", "if", "it", "would", "make", "Aristotle", "angry", ",", "not", "having", "known", "him", ",", "but", "it", "will", "certainly", "cause", "a", "lot", "of", "grief", "for", "whoever", "has", "to", "work", "with", "the", "code", ".", "#p", "The", "thing", "is", ":", "There", "is", "a", "associated", "with", "<code>Object.equals()</code>", ":", "#blockquote", "#p", "#p", "Yes", ",", "when", "creating", "your", "own", "class", ",", "you", "can", "violate", "this", "contract", ".", "There", "is", "(", "unfortunately", ")", "nothing", "in", "the", "compiler", "or", "runtime", "stopping", "you", ".", "#p", "However", ",", "a", "lot", "of", "code", "relies", "on", "this", "contract", ",", "so", "if", "you", "violate", "it", ",", "any", "code", "that", "uses", "<code>equals</code>", "will", "probably", "fail", "in", "mysterious", "ways", ".", "#p", "One", "example", ":", "Java", "'s", "own", "Collection", "classes", "(", "<code>java.util.Collection</code>", "and", "friends", ")", "rely", "on", "<code>equals</code>", ".", "If", "an", "instance", "of", "a", "class", "that", "does", "not", "correctly", "implement", "<code>equals</code>", "is", "put", "into", "a", "collection", ",", "weird", "things", "happen", ",", "such", "as", "the", "collection", "sometimes", "containing", "the", "instance", "and", "sometimes", "not", "."], "answer_id": 32177563, "question_id": 32175145}, {"tokens": ["#p", "But", "you", "have", "to", "be", "really", "evil", "and", "use", "reflections", "and", "Multithreading", ":", "#p", "If", "you", "run", "this", "code", ",", "there", "is", "a", "chance", "that", "a", "racing", "condition", "can", "change", "the", "internal", "Value", "of", "<code>myInt</code>", "while", "the", "comparision", "takes", "place", ".", "If", "you", "want", "to", "simulate", "this", "condition", ",", "just", "set", "a", "breakpoint", "inside", "of", "<code>Integer.intValue()</code>", "run", "the", "code", "in", "debug", "and", "hit", "continue", ".", "This", "will", "create", "a", "delay", "which", "creates", "the", "race", "condition", "artificially", "and", "the", "console", "will", "return", "false", ".", "#pre"], "answer_id": 32182250, "question_id": 32175145}, {"tokens": ["#p", "How", "to", "install", "Google", "Play", "Services", "on", "6.0", "Genymotion", "device", "?", "#p", "For", "other", "versions", "this", "answer", "works", ",", "but", "not", "for", "6.0", "#p", ":", "#p", "I", "'ve", "tried", "to", "use", "6.0", "Gapps", "from", "this", "source", ",", "but", "all", "of", "them", "failed", "to", "flash", "the", "emulator", "."], "answer_count": 6, "question_id": 33517612}, {"tokens": ["#p", "For", "enable", "Google", "play", "service", "in", "genymotion", ",", "as", "per", "answer", "you", "mentioned", "in", "your", "question", "you", "need", "ARM", "and", "Gapps", ".", "#p", "So", ",", "Download", "gapps", "for", "Android", "Marshmallow", "from", "here", "and", "follow", "this", "answer", "."], "answer_id": 33518181, "question_id": 33517612}, {"tokens": ["#p", "Ivan", ",", "I", "found", "the", "solution", "here", "and", "followed", "the", "steps", "from", "the", "user", "@", "sinistance", "and", "it", "worked", "for", "me", "using", "the", "Nexus", "5X", "Preview", "API", "23", ".", "#p", "To", "simplify", "this", "is", "the", "answer", ":", "#blockquote", "#p", "You", "can", "find", "all", "the", "files", "in", "the", "link", "above", "!", "I", "hope", "it", "works", "for", "you", "!", "#p", "Regards"], "answer_id": 34617375, "question_id": 33517612}, {"tokens": ["#p", "For", "enable", "Google", "play", "service", "in", "genymotion", "marshmallow", "version", "#p", "Download", "and", "install", "Install", "ARM", "Translation", "from", "here", ":", "http", ":", "//filetrip.net/dl", "?", "4SUOrdcMRv", "After", "installation", "reboot", "your", "device", "(", "Just", "close", "and", "restart", ")", "#p", "After", "restart", "Download", "the", "gapps/5.1/gapps-L-4-21-15.zip", "flash", "from", ":", "http", ":", "//mirror31.downloadandroidrom.com/download/gapps/5.1/gapps-L-4-21-15.zip", "?", "token=432826691", "#p", "After", "installation", ".", "reboot", "the", "device", "and", "update", "yourgoogle", "play", "service", "and", "google", "."], "answer_id": 35355721, "question_id": 33517612}, {"tokens": ["#p", "On", "Samsung", "Galaxy", "S6", "-", "6.0.0", "-", "1440x2560", ":", "#li", "Flash", "Genymotion-ARM-Translation_v1.1", "#li", "Flash", "open_gapps-x86-6.0-pico-20160524.zip", "#p", "Please", "give", "it", "a", "try", "."], "answer_id": 37427178, "question_id": 33517612}, {"tokens": ["#p", "If", "Google", "Play", "Services", "on", "Android", "6.0", "crash", "everytime", ",", "you", "can", "try", "do", "the", "same", "things", "in", "this", "sequence", ".", "Maybe", "it", "will", "work", ".", "#p", "Here", "is", "what", "I", "did", ":", "#li", "Install", "a", "latest", "Genymotion", "(", "version", "2.6.0", "in", "my", "case", ")", ".", "Make", "sure", "the", "previous", "old", "(", "preview", ")", "Android", "6.0", "images", "are", "removed", "(", "Genymotion", "-", ">", "Settings", "-", ">", "Misc", "-", ">", "Clear", "cache", ")", ".", "#li", "Add", "a", "new", "virtualdevice", ",", "select", "Google", "Nexus", "5X", "and", "Android", "6.0", "image", ".", "It", "should", "download", "a", "new", "image", "from", "Genymotion", "website.Start", "created", "Google", "Nexus", "5X", "-", "6.0.0", "-", "API", "23", "-", "1080x1920", "virtual", "device", ".", "#li", "Flash", "Genymotion-ARM-Translation_v1.1.zip", "(", "drag", "&", "drop", "the", "zip", "file", "to", "virtual", "device", "window", ")", "and", "then", "restart", "the", "virtual", "device", ".", "#li", "Flash", "gapps-L-4-21-15.zip", "and", "restart", "the", "virtual", "device", "again", ".", "Now", "add", "Google", "account", "in", "the", "virtual", "device", "via", "Settings", "-", ">", "Accounts", "-", ">", "Add", "account", ".", "Do", "not", "start", "Google", "Play", "!", "Ignore", "any", "crashes", "in", "sign", "in", "process", ".", "#li", "Flash", "benzo-gapps-M-20151011-signed-chroma-r3.zip", "and", "restart", "the", "virtual", "device", ".", "Open", "Google", "Play", "in", "virtual", "device", ",", "update", "all", "installed", "applications", ".", "#li", "Start", "Google", "Now", "with", "long", "touch", "on", "home", "button", "to", "force", "dialog", "with", "request", "to", "update", "Google", "Play", "Services", ".", "Update", "Google", "Play", "Services", ".", "Now", "the", "device", "is", "prepared", "with", "working", "Google", "Play", "and", "Google", "Play", "Services", ".", "#p", "Genymotion", "android", "6.0", "with", "Google", "play", "service"], "answer_id": 38039757, "question_id": 33517612}, {"tokens": ["#p", "For", "me", "it", "worked", "just", "to", "install", "a", "package", "(", "in", "my", "case", "the", "full", ")", "for", "x86", "and", "Android", "Version", "6.0", "from", "http", ":", "//opengapps.org/", "by", "dragging", "the", "downloaded", "zip-file", "to", "the", "machine", ".", "A", "restart", "was", "suggested", "and", "done", "#p", "Maybe", "some", "Apps", "wo", "n't", "work", "but", "you", "do", "n't", "have", "to", "do", "anything", "else", ".", "I", "hope", "I", "could", "help", "you", "with", "that", "answer", "."], "answer_id": 38473415, "question_id": 33517612}, {"tokens": ["#pre", "#p", "I", "get", "duplicate", "key", "exception", "when", "duplicates", "occurs", ".", "#p", "Is", "it", "possible", "to", "ignore", "to", "add", "the", "values", "to", "map", "when", "the", "duplicates", "occurs", "?", "#p", "When", "there", "is", "duplicate", "it", "simply", "should", "continue", "by", "ignoring", "that", "duplicate", "key", "."], "answer_count": 2, "question_id": 32312876}, {"tokens": ["#p", "This", "is", "possible", "using", "the", "<code>mergeFunction</code>", "parameter", "of", "<code>Collectors.toMap(keyMapper, valueMapper, mergeFunction)</code>", ":", "#pre", "#p", "<code>mergeFunction</code>", "is", "a", "function", "that", "operates", "on", "two", "values", "associated", "with", "the", "same", "key", ".", "<code>adress1</code>", "corresponds", "to", "the", "first", "address", "that", "was", "encountered", "when", "collecting", "elements", "and", "<code>adress2</code>", "corresponds", "to", "the", "second", "address", "encountered", ":", "this", "lambda", "just", "tells", "to", "keep", "the", "first", "address", "and", "ignores", "the", "second", "."], "answer_id": 32313069, "question_id": 32312876}, {"tokens": ["#p", "As", "said", "in", "JavaDocs", ":", "#blockquote", "#p", "So", "you", "should", "use", "toMap", "(", "Function", "keyMapper", ",", "Function", "valueMapper", ",", "BinaryOperator", "mergeFunction", ")", "instead", ".", "Just", "provide", "merge", "function", ",", "that", "will", "determine", ",", "which", "one", "of", "duplicates", "needed", "to", "put", "in", "map", ".", "For", "example", ",", "if", "you", "do", "n't", "care", "which", "one", ",", "just", "call", "#pre"], "answer_id": 32313148, "question_id": 32312876}, {"tokens": ["#p", "Currently", "the", "BlendModes", "(", "Subtract", ",", "Exclusion", "etc", ")", "use", "the", "LauncherImage", "as", "the", "mask", ".", "Can", "I", "apply", "these", "BlendModes", "to", "a", "ColorMatrix", "?", "#p", "I", "'m", "using", "the", "GPUImageLibrary", "#pre", "#p", "#pre", "#p", "#pre", "#p", "My", "guess", "it", "involves", "changing", "something", "with", "<code>String SUBTRACT_BLEND_GRAGMENT_SHADER</code>", "&", "<code>String VERTEX_SHADER</code>", "."], "answer_count": 1, "question_id": 33358248}, {"tokens": ["#p", "Color", "matrix", "is", "the", "entity", "that", "defines", "new", "color", "component", "values", "for", "some", "pixel", "as", "linear", "functions", "of", "the", "current", "color", "components", "of", "the", "same", "pixel", ".", "I.e", ".", "the", "only", "input", "for", "color", "matrix", "conversion", "is", "the", "pixel", ",", "which", "colors", "should", "be", "transformed", ".", "There", "is", "no", "way", "to", "involve", "another", "pixels", "to", "such", "conversion", ".", "Regardless", "if", "they", "are", "pixels", "from", "another", "image", "or", "even", "neighbors", "of", "transformed", "pixel", "-", "it", "is", "impossible", "."], "answer_id": 39493675, "question_id": 33358248}, {"tokens": ["#p", "I", "come", "from", "a", "C++", "background", "and", "I", "am", "currently", "learning", "Java", ".", "One", "question", "arose", "when", "I", "have", "tried", "using", "some", "third", "party", "libraries", ".", "How", "do", "I", "determine", "if", "the", "call", "to", "a", "method", "taking", "an", "object", "reference", "as", "parameter", "modifies", "the", "object", "?", "In", "C++", "this", "is", "clear", "thanks", "to", "the", "use", "of", "the", "const", "keyword", ".", "If", "the", "method", "signature", "is", ":", "#pre", "#p", "I", "know", "that", "the", "referenced", "object", "might", "be", "modified", ",", "while", "if", "the", "method", "signature", "is", ":", "#pre", "#p", "The", "compiler", "guarantees", "that", "the", "referenced", "object", "is", "not", "modified", ".", "#p", "I", "have", "n't", "seen", "something", "analogous", "in", "Java", ",", "as", "only", "the", "reference", "itself", "can", "be", "declared", "final", ",", "not", "the", "referenced", "object", ",", "and", "a", "final", "argument", "does", "n't", "make", "much", "sense", "in", "the", "first", "place", "since", "it", "is", "passed", "by", "value", "anyway", ".", "Therefore", ",", "when", "I", "see", "a", "method", "such", "as", ":", "#pre", "#p", "How", "do", "I", "determine", "if", "the", "object", "referenced", "by", "boo", "is", "modified", "inside", "the", "body", "of", "the", "function", "(", "maybe", "using", "annotations", ")", "?", "If", "there", "is", "no", "way", "to", "know", ",", "is", "there", "some", "widely", "used", "convention", "or", "some", "best", "practices", "to", "avoid", "confusion", "and", "bugs", "?"], "answer_count": 7, "question_id": 32164385}, {"tokens": ["#p", "There", "'s", "no", "such", "facility", "built", "in", "to", "the", "language", ",", "unfortunately", ".", "A", "good", "defensive", "practice", "is", "to", "define", "the", "data", "objects", "you", "pass", "around", "as", "immutable", "(", "i.e.", ",", "without", "any", "public", "method", "that", "allows", "modifying", "their", "state", ")", ".", "If", "you", "are", "concerned", "about", "this", ",", "you", "could", "copy/clone", "an", "object", "before", "passing", "it", "to", "a", "method", "you", "do", "n't", "trust", ",", "but", "this", "is", "usually", "a", "redundant", "precaution", "."], "answer_id": 32164414, "question_id": 32164385}, {"tokens": ["#blockquote", "#p", "The", "only", "way", "is", "to", "read", "the", "code", "unfortunately", ".", "#blockquote", "#p", "The", "common", "convention", "is", "to", "pass", "an", "object", "which", "can", "not", "be", "modified", ",", "using", "a", "wrapper", "if", "needed", ".", "This", "ensure", "the", "class", "can", "not", "modify", "the", "object", ".", "#pre", "#p", "If", "the", "object", "is", "Cloneable", ",", "you", "can", "also", "use", "<code>clone()</code>", "but", "another", "common", "approach", "is", "to", "use", "a", "copy", ".", "#pre", "#p", "If", "you", "care", "about", "such", "behaviour", ",", "unit", "tests", "can", "show", "whether", "a", "method", "modifies", "an", "object", "or", "not", ".", "If", "you", "have", "unit", "tests", "already", ",", "it", "is", "usually", "one", "or", "two", "lines", "extra", "to", "check", "for", "this", "."], "answer_id": 32164423, "question_id": 32164385}, {"tokens": ["#p", "There", "is", "a", "way", ",", "that", "the", "method", "developer", "should", "mark", "parameter", "as", "final", ",", "if", "it", "is", "not", "going", "to", "modify", "the", "parameter", ".", "#pre", "#p", "However", "very", "few", "people", "follow", "this", ",", "so", "it", "is", "difficult", "to", "know", ".", "However", "good", "programmer", "follow", "this", "rule", ",", "especially", "writing", "the", "api", ".", "If", "you", "want", "to", "write", "method", "and", "expose", "it", ".", "Make", "param", "final", "to", "indicate", "that", "passed", "object", "is", "not", "going", "to", "be", "modified", "."], "answer_id": 32164426, "question_id": 32164385}, {"tokens": ["#p", "A", "side", "effect", "analysis", "is", "not", "built", "into", "the", "Java", "language", ".", "#p", "You", "can", "perform", "side", "effect", "analysis", "via", "manual", "inspection", ",", "but", "several", "tools", "exist", "to", "automate", "the", "process", ".", "#p", "You", "can", "use", "an", "inference", "tool", "(", "1", ",", "2", ",", "3", ")", "to", "detect", "whether", "your", "code", "side-effects", "a", "parameter", ".", "#p", "You", "can", "also", "write", "purity", "or", "side-effect", "annotations", "in", "your", "code", "and", "then", "use", "a", "checking/verification", "tool", "(", "1", ",", "2", ")", "to", "ensure", "that", "your", "code", "conforms", "to", "the", "annotations", "you", "have", "written", ".", "#p", "All", "of", "the", "above-linked", "tools", "have", "limitations", ",", "but", "you", "might", "find", "them", "useful", ".", "If", "you", "know", "of", "other", "tools", ",", "mention", "them", "in", "comments", "."], "answer_id": 32164819, "question_id": 32164385}, {"tokens": ["#p", "#blockquote", "#p", "There", "exists", "the", "Checker", "Framework", "among", "the", "various", "things", "it", "can", "check", "at", "compile-time", "via", "annotations", "is", "the", "IJG", "Immutablity", "checker", ".", "This", "checker", "allows", "you", "to", "annotate", "object", "references", "with", "<code>@Immutable</code>", "or", "<code>@ReadOnly</code>", ".", "#p", "The", "problem", "is", "that", "you", "often", "would", "have", "to", "annotate", "the", "library", "yourself", ".", "To", "ease", "your", "task", "the", "Checker", "Framework", "can", "automatically", "infer", "part", "of", "the", "annotations", ";", "you", "will", "still", "have", "to", "do", "much", "yourself", "."], "answer_id": 32165123, "question_id": 32164385}, {"tokens": ["#blockquote", "#p", "I", "must", "agree", "with", "other", "answers", "that", "there", "is", "no", "direct", "way", "to", "determine", "that", "method", "will", "modify", "your", "object", "or", "not", "and", "yes", "to", "make", "sure", "that", "method", "can", "not", "modify", "your", "<code>Object</code>", "you", "all", "have", "to", "do", "it", "is", "from", "your", "side", ".", "#blockquote", "#p", "Here", "the", "comes", "to", "the", "scene", ".", "Moving", "ahead", "with", "the", "naming", "convention", "of", "method", "we", "have", "to", "take", "a", "look", "at", "some", "method", "declarations", "which", "clearly", "convince", "you", "that", "your", "<code>Object</code>", "will", "not", "be", "changed", "at", "all", ".", "#p", "For", "example", ",", "You", "know", "that", "<code>Arrays.copyOf</code>", "will", "not", "change", "your", "actual", "array", ",", "<code>System.out.println(boo)</code>", "will", "not", "change", "your", "<code>boo</code>", "#p", "Method", "names", "are", "real", "to", "provide", "as", "much", "information", "as", "possible", "to", "the", "method", "user", ".", "#p", "Let", "'s", "consider", "it", "in", "your", "case", "that", "say", "<code>printBoo</code>", "will", "only", "print", ",", "<code>copyBoo</code>", "will", "only", "copy", ",", "<code>clearBoo</code>", "will", "reset", "all", "attributes", ",", "<code>checkAndCreateNewBoo</code>", "will", "check", "your", "<code>boo</code>", "<code>Object</code>", "and", "create", "new", "if", "required", ".", "#p", "So", ",", "ultimately", "if", "we", "can", "use", "them", "in", "a", "proper", "way", "caller", "can", "be", "assured", "with", "the", "fact", "that", "<code>Object</code>", "will", "remain", "the", "same", "after", "calling", "the", "method", "."], "answer_id": 32167166, "question_id": 32164385}, {"tokens": ["#p", "As", "everyone", "says", ",", "prefer", "using", "immutable", "objects", "and", "also", "avoid", "#p", "The", "available", "purposes", "of", "methods", "like", "this", "#pre", "#p", "are", "to", "change", "the", "state", "of", "the", "object", "itself", "or", "change", "the", "object", "passed", "as", "a", "parameter", "#pre"], "answer_id": 32293732, "question_id": 32164385}, {"tokens": ["#p", "I", "try", "to", "understand", "why", "there", "is", "a", "difference", "between", "accessibility", "of", "class", "members", "when", "speaking", "about", "constructors", ".", "#p", "Consider", "the", "following", "example", ":", "#pre", "#p", "Private", "members", "of", "<code>A</code>", ",", "as", "being", "private", ",", "should", "not", "be", "accessible", "from", "<code>B</code>", ".", "For", "fields", "and", "methods", ",", "it", "is", "the", "case", ",", "but", "it", "seems", "that", "constructors", "are", "not", "following", "the", "same", "rule", ".", "#p", "From", "the", "JLS-8", "(", "6.6.1", ".", "Determining", "Accessibility", ")", ",", "we", "can", "read", ":", "#blockquote", "#p", "Can", "anyone", "explain", "me", "why", "the", "constructor", "is", "accessible", "from", "<code>C</code>", ",", "even", "while", "being", "declared", "<code>private</code>", "?"], "answer_count": 3, "question_id": 33800344}, {"tokens": ["#p", "The", "method", "<code>foo()</code>", "is", "private", ",", "so", "you", "do", "n't", "inherit", "it", "and", "ca", "n't", "call", "it", "directly", "from", "the", "<code>C</code>", "class", ".", "#p", "However", ",", "you", "can", "see", "private", "methods", "and", "constructor", "from", "<code>B</code>", "since", "everything", "is", "declared", "in", "the", "same", "containing", "class", ",", "and", "access", "them", "with", "<code>super</code>", ",", "which", "is", "why", "<code>super()</code>", "works", ".", "In", "the", "same", "way", ",", "you", "can", "access", "<code>foo</code>", "with", "<code>super.foo()</code>", ".", "#p", "Note", "that", "you", "can", "redefine", "a", "new", "foo", "method", "in", "<code>C</code>", ",", "but", "this", "method", "will", "not", "override", "<code>B.foo()</code>", "."], "answer_id": 33800659, "question_id": 33800344}, {"tokens": ["#p", "So", "the", "trick", "here", "might", "be", "the", "following", ":", "#p", "you", "can", "not", "access", "<code>foo</code>", "because", "it", "is", "declared", "private", "so", "you", "do", "n't", "inherit", "it", "in", "C", ".", "#p", "However", ",", "as", "was", "noted", "in", "comments", "you", "can", "access", "<code>super.foo();</code>", "because", "<code>super</code>", "refers", "to", "a", "type", "that", "is", "declared", "in", "the", "same", "top", "level", "class", "(", "see", "JLS", "6.6.1", "for", "this", ")", ".", "#p", "Then", "the", "trick", "is", "that", "calling", "<code>super(s)</code>", "can", "be", "viewed", "as", "calling", "<code>super.&lt;init&gt;(s)</code>", "which", "ends", "up", "being", "the", "same", "case", "as", "<code>super.foo()</code>"], "answer_id": 33800724, "question_id": 33800344}, {"tokens": ["#p", "Foo", "(", ")", "method", "is", "not", "accessible", "in", "class", "C", ",", "as", "foo", "(", ")", "method", "is", "private", "and", "private", "method", "can", "not", "be", "inherited", "to", "base", "class", ".", "#p", "For", "constructors", ",", "CONSTRUCTORS", "NEVER", "EVER", "BE", "INHERITED", ".", "Also", ",", "I", "compiled", "this", "code", ":", "#pre", "#p", "And", "get", "Compile", "time", "Error", ":", "Vehicle", "(", ")", "has", "private", "access", "in", "Vehicle", "super", "(", ")", ";", "^", "Which", "clearly", "indicates", "that", "a", "private", "constructor", "can", "not", "be", "accessed", "using", "super", ".", "If", "we", "are", "able", "to", "initialize", "or", "access", "a", "private", "constructor", ",", "then", "what", "'s", "the", "point", "in", "creating", "a", "private", "constructor", "."], "answer_id": 33801293, "question_id": 33800344}, {"tokens": ["#p", "I", "want", "to", "integrate", "the", "Aadhaar", "Card", "Authentication", "API", "for", "Aadhaar", "number", "Verification", "in", "PHP", ".", "I", "tried", "this", "and", "wrote", "code", "for", "API", "access", ".", "#p", "How", "can", "I", "generate", "the", "XML", "encryption", "field", "data", "below", "in", "PHP", "?", "This", "sample", "code", "is", "written", "in", "Java", ".", "#pre"], "answer_count": 1, "question_id": 31377015}, {"tokens": ["#p", "To", "generate", "the", "XML", ",", "you", "could", "use", "this", "library", "to", "generate", "it", "quite", "easily", ":", "#p", "https", ":", "//github.com/iwyg/xmlbuilder", "#p", "For", "the", "encryption", ";", "I", "could", "be", "wrong", "but", "it", "looks", "like", "(", "from", "this", "page", ")", "you", "can", "generate", "the", "encoded", "results", "in", "java", "one", "time", "and", "just", "paste", "in", "the", "results", "to", "your", "PHP", "variables", "."], "answer_id": 35161665, "question_id": 31377015}, {"tokens": ["#pre", "#p", "Counter", "to", "my", "expectation", ",", "the", "<code>collect</code>", "call", "never", "returns", ".", "Setting", "<code>limit</code>", "before", "<code>filter</code>", "produces", "the", "expected", "result", ".", "Why", "?"], "answer_count": 4, "question_id": 34172978}, {"tokens": ["#p", "Since", "there", "are", "only", "4", "elements", "that", "pass", "the", "filter", ",", "<code>limit(10)</code>", "never", "reaches", "10", "elements", ",", "so", "the", "Stream", "pipeline", "keeps", "generating", "new", "elements", "and", "feeding", "them", "to", "the", "filter", ",", "trying", "to", "reach", "10", "elements", "that", "pass", "the", "filter", ",", "but", "since", "only", "the", "first", "4", "elements", "pass", "the", "filter", ",", "the", "processing", "never", "ends", "(", "at", "least", "until", "<code>i</code>", "overflows", ")", ".", "#p", "The", "Stream", "pipeline", "is", "not", "smart", "enough", "to", "know", "that", "no", "more", "elements", "can", "pass", "the", "filter", ",", "so", "it", "keeps", "processing", "new", "elements", "."], "answer_id": 34173040, "question_id": 34172978}, {"tokens": ["#p", "Flipping", "the", "<code>limit</code>", "and", "the", "<code>filter</code>", "clauses", "has", "different", "behaviors", ".", "#p", "If", "you", "put", "the", "<code>limit</code>", "first", ",", "the", "stream", "will", "first", "generate", "10", "integers", "[", "1..10", "]", ",", "and", "then", "filter", "them", "leaving", "only", "those", "smaller", "than", "5", ".", "#p", "In", "the", "original", "ordering", ",", "with", "the", "<code>filter</code>", "applied", "first", ",", "integers", "are", "generated", "and", "filtered", "until", "you", "reach", "10", "elements", ".", "This", "is", "n't", "an", "infinite", "operator", ",", "as", "<code>i</code>", "in", "the", "supplier", "will", "eventually", "overflow", ",", "but", "it", "will", "take", "a", "while", ",", "especially", "on", "a", "slow", "computer", ",", "to", "reach", "<code>MAX_INT</code>", "."], "answer_id": 34173110, "question_id": 34172978}, {"tokens": ["#p", "If", "you", "want", "to", "stop", "if", "number", "5", "is", "reached", "or", "10", "elements", "are", "collected", ",", "there", "'s", "<code>Stream.takeWhile()</code>", "method", "added", "in", "Java-9", ":", "#pre"], "answer_id": 34173658, "question_id": 34172978}, {"tokens": ["#p", "It", "will", "finish", ",", "after", "the", "Supplier", "overflows", "and", "starts", "generating", "negative", "numbers", ".", "The", "resulting", "list", "will", "contain", ":", "#pre", "#p", "The", "reason", "for", "this", "is", "in", "other", "answers", ".", "On", "my", "i7", "machine", "it", "took", "40", "seconds", "to", "complete", "."], "answer_id": 34179446, "question_id": 34172978}, {"tokens": ["#p", "I", "have", "a", "<code>List&lt;Item&gt;</code>", "collection", ".", "I", "need", "to", "convert", "it", "into", "<code>Map&lt;Integer, Item&gt;</code>", "The", "key", "of", "the", "map", "must", "be", "the", "index", "of", "the", "item", "in", "the", "collection", ".", "I", "can", "not", "figure", "it", "out", "how", "to", "do", "this", "with", "streams", ".", "Something", "like", ":", "#pre", "#p", "Any", "help", "?", "#p", "As", "this", "question", "is", "identified", "as", "possible", "duplicate", "I", "need", "to", "add", "that", "my", "concrete", "problem", "was", "-", "how", "to", "get", "the", "position", "of", "the", "item", "in", "the", "list", "and", "put", "it", "as", "a", "key", "value"], "answer_count": 6, "question_id": 32859038}, {"tokens": ["#p", "You", "can", "create", "a", "<code>Stream</code>", "of", "the", "indices", "using", "an", "<code>IntStream</code>", "and", "then", "convert", "them", "to", "a", "<code>Map</code>", ":", "#pre"], "answer_id": 32859065, "question_id": 32859038}, {"tokens": ["#p", "The", "previous", "solution", "had", "time", "complexity", "of", "O", "(", "n2", ")", "and", "its", "better", "to", "use", "the", "following", "solution", ":", "#pre", "#p", "#p", "You", "can", "also", "use", "the", "following", "(", "assuming", "no", "duplicates", ")", ":", "#pre", "#p", "An", "example", "would", "be", "like", ":", "#pre"], "answer_id": 32859238, "question_id": 32859038}, {"tokens": ["#p", "Do", "n't", "feel", "like", "you", "have", "to", "do", "in/with", "the", "stream", ".", "I", "would", "just", "do", ":", "#pre", "#p", "As", "long", "as", "you", "do", "n't", "parallelise", "the", "stream", "this", "will", "work", "and", "it", "avoids", "potentially", "expensive", "and/or", "problematic", "(", "in", "the", "case", "of", "duplicates", ")", "<code>get()</code>", "and", "<code>indexOf()</code>", "operations", ".", "#p", "(", "You", "can", "not", "use", "a", "regular", "<code>int</code>", "variable", "in", "place", "of", "the", "<code>AtomicInteger</code>", "because", "variables", "used", "from", "outside", "a", "lambda", "expression", "must", "be", "effectively", "final", ".", "Note", "that", "when", "uncontested", "(", "as", "in", "this", "case", ")", ",", "<code>AtomicInteger</code>", "is", "very", "fast", "and", "wo", "n't", "pose", "a", "performance", "problem", ".", "But", "if", "it", "worries", "you", "you", "can", "use", "a", "non-thread-safe", "counter", ".", ")"], "answer_id": 32863263, "question_id": 32859038}, {"tokens": ["#p", "One", "more", "solution", "just", "for", "completeness", "is", "to", "use", "custom", "collector", ":", "#pre", "#p", "Usage", ":", "#pre", "#p", "This", "solution", "is", "parallel-friendly", "and", "does", "not", "depend", "on", "the", "source", "(", "you", "can", "use", "list", "without", "random", "access", "or", "<code>Files.lines()</code>", "or", "whatever", ")", "."], "answer_id": 32864029, "question_id": 32859038}, {"tokens": ["#p", "Using", "a", "third", "party", "library", "(", "protonpack", "for", "example", ",", "but", "there", "are", "others", ")", "you", "can", "<code>zip</code>", "the", "value", "with", "its", "index", "and", "voila", ":", "#pre", "#p", "although", "<code>getIndex</code>", "returns", "a", "<code>long</code>", ",", "so", "you", "may", "need", "to", "cast", "it", "using", "something", "similar", "to", ":", "#pre"], "answer_id": 32869478, "question_id": 32859038}, {"tokens": ["#p", "Eran", "'s", "answer", "is", "usually", "the", "best", "approach", "for", "random-access", "lists", ".", "#p", "If", "your", "<code>List</code>", "is", "n't", "random", "access", ",", "or", "if", "you", "have", "a", "<code>Stream</code>", "instead", "of", "a", "<code>List</code>", ",", "you", "can", "use", "<code>forEachOrdered</code>", ":", "#pre", "#p", "This", "is", "safe", ",", "if", "the", "stream", "is", "parallel", ",", "even", "though", "the", "destination", "map", "is", "thread-unsafe", "and", "is", "operated", "upon", "as", "a", "side", "effect", ".", "The", "<code>forEachOrdered</code>", "guarantees", "that", "items", "are", "processed", "one-at-a-time", ",", "in", "order", ".", "For", "this", "reason", "it", "'s", "unlikely", "that", "any", "speedup", "will", "result", "from", "running", "in", "parallel", ".", "(", "There", "might", "be", "some", "speedup", "if", "there", "are", "expensive", "operations", "in", "the", "pipeline", "before", "the", "<code>forEachOrdered</code>", ".", ")"], "answer_id": 32918035, "question_id": 32859038}, {"tokens": ["#p", "I", "'m", "reading", "up", "about", "Java", "streams", "and", "discovering", "new", "things", "as", "I", "go", "along", ".", "One", "of", "the", "new", "things", "I", "found", "was", "the", "<code>peek()</code>", "function", ".", "Almost", "everything", "I", "'ve", "read", "on", "peek", "says", "it", "should", "be", "used", "to", "debug", "your", "Streams", ".", "#p", "What", "if", "I", "had", "a", "Stream", "where", "each", "Account", "has", "a", "username", ",", "password", "field", "and", "a", "login", "(", ")", "and", "loggedIn", "(", ")", "method", ".", "#p", "I", "also", "have", "#pre", "#p", "and", "#pre", "#p", "Why", "would", "this", "be", "so", "bad", "?", "#pre", "#p", "Now", "as", "far", "as", "I", "can", "tell", "this", "does", "exactly", "what", "it", "'s", "intended", "to", "do", ".", "It", ";", "#li", "Takes", "a", "list", "of", "accounts", "#li", "Tries", "to", "log", "in", "to", "each", "account", "#li", "Filters", "out", "any", "account", "which", "are", "n't", "logged", "in", "#li", "Collects", "the", "logged", "in", "accounts", "into", "a", "new", "list", "#p", "What", "is", "the", "downside", "of", "doing", "something", "like", "this", "?", "Any", "reason", "I", "should", "n't", "proceed", "?", "Lastly", ",", "if", "not", "this", "solution", "then", "what", "?", "#p", "The", "original", "version", "of", "this", "used", "the", ".filter", "(", ")", "method", "as", "follows", ";", "#pre"], "answer_count": 3, "question_id": 33635717}, {"tokens": ["#p", "Using", "<code>map()</code>", "for", "this", "type", "of", "operation", "would", "eliminate", "any", "doubts", "about", "its", "correctness", ".", "#pre"], "answer_id": 33636301, "question_id": 33635717}, {"tokens": ["#p", "The", "important", "thing", "you", "have", "to", "understand", ",", "is", "that", "streams", "are", "driven", "by", "the", ".", "The", "terminal", "operation", "determines", "whether", "all", "elements", "have", "to", "be", "processed", "or", "any", "at", "all", ".", "So", "<code>collect</code>", "is", "an", "operation", "which", "processes", "each", "item", ",", "whereas", "<code>findAny</code>", "may", "stop", "processing", "items", "once", "it", "encountered", "a", "matching", "element", ".", "#p", "And", "<code>count()</code>", "may", "not", "process", "any", "elements", "at", "all", "when", "it", "can", "determine", "the", "size", "of", "the", "stream", "without", "processing", "the", "items", ".", "Since", "this", "is", "an", "optimization", "not", "made", "in", "Java", "8", ",", "but", "which", "will", "be", "in", "Java", "9", ",", "there", "might", "be", "surprises", "when", "you", "switch", "to", "Java", "9", "and", "have", "code", "relying", "on", "<code>count()</code>", "processing", "all", "items", ".", "This", "is", "also", "connected", "to", "other", "implementation", "dependent", "details", ",", "e.g", ".", "even", "in", "Java", "9", ",", "the", "reference", "implementation", "will", "not", "be", "able", "to", "predict", "the", "size", "of", "an", "infinite", "stream", "source", "combined", "with", "<code>limit</code>", "while", "there", "is", "no", "fundamental", "limitation", "preventing", "such", "prediction", ".", "#p", "Since", "<code>peek</code>", "allows", "\u201cperforming", "the", "provided", "action", "on", "each", "element", "\u201d", ",", "it", "does", "not", "mandate", "processing", "of", "elements", "but", "will", "perform", "the", "action", "dependent", "on", "what", "the", "terminal", "operation", "needs", ".", "This", "implies", "that", "you", "have", "to", "use", "it", "with", "great", "care", "if", "you", "need", "a", "particular", "processing", ",", "e.g", ".", "want", "to", "apply", "an", "action", "on", "all", "elements", ".", "It", "works", "if", "the", "terminal", "operation", "is", "guaranteed", "to", "process", "all", "items", ",", "but", "even", "then", ",", "you", "must", "be", "sure", "that", "not", "the", "next", "developer", "changes", "the", "terminal", "operation", "(", "or", "you", "forget", "that", "subtle", "aspect", ")", ".", "#p", "Further", ",", "while", "streams", "guaranty", "maintaining", "the", "encounter", "order", "for", "certain", "combination", "of", "operations", "even", "for", "parallel", "streams", ",", "these", "guarantees", "do", "not", "apply", "to", "<code>peek</code>", ".", "When", "collecting", "into", "a", "list", ",", "the", "resulting", "list", "will", "have", "the", "right", "order", "for", "ordered", "parallel", "streams", ",", "but", "the", "<code>peek</code>", "action", "may", "get", "invoked", "in", "an", "arbitrary", "order", "and", "concurrently", ".", "#p", "So", "the", "most", "useful", "thing", "you", "can", "do", "with", "<code>peek</code>", "is", "to", "find", "out", "whether", "a", "stream", "element", "has", "been", "processed", "which", "is", "exactly", "what", "the", "API", "documentation", "says", ":", "#blockquote"], "answer_id": 33636377, "question_id": 33635717}, {"tokens": ["#p", "The", "key", "takeaway", "from", "this", ":", "#p", "That", "approach", "may", "break", "in", "the", "future", ",", "and", "it", "is", "also", "unclear", "to", "future", "maintainers", "."], "answer_id": 33636457, "question_id": 33635717}, {"tokens": ["#p", "I", "run", "my", "ProGuard", "for", "my", "Android", "project", "and", "get", "the", "following", "warnings", ":", "#pre", "#p", "I", "found", "here", "to", "fix", "this", "with", "ignoring", "it", "with", ":", "#pre", "#p", "I", "do", "not", "see", "a", "way", "to", "remove", "the", "duplicates", "from", "the", "used", "libraries", ".", "Even", "after", "using", "<code>dontwarn</code>", "the", "warnings", "do", "not", "vanish", ".", "#p"], "answer_count": 3, "question_id": 33047806}, {"tokens": ["#p", "Probably", ",", "you", "have", "mentioned", "``", "-injars", "''", "and", "-libraryjars", "''", "in", "your", "proguard-project.txt", ",", "considering", "the", "latest", "build", "system", "takes", "care", "of", "mentioning", "them", "for", "you", "..so", "you", "dont", "need", "to", "mention", "it", "again", ".", "#p", "source", ":", "http", ":", "//proguard.sourceforge.net/manual/troubleshooting.html", "#", "duplicateclass", "#p", "I", "think", "this", "will", "help", ".", ":", ")"], "answer_id": 33782969, "question_id": 33047806}, {"tokens": ["#p", "If", "you", "add", "a", "proguard", "option", "<code>-printconfiguration config.txt</code>", "you", "'ll", "see", "proguard", "adds", "#blockquote", "#p", "your", "duplicated", "classes", "(", "e.g", ".", "SslError", ")", "are", "presented", "in", "both", "android.jar", "and", "org.apache.http.legacy.jar", "#p", "Proguard", "adds", "second", "jar", "even", "if", "you", "do", "n't", "<code>useLibrary 'org.apache.http.legacy'</code>", "Here", "is", "an", "open", "bug", "describing", "the", "problem", ".", "#p", "So", "now", "we", "ca", "n't", "do", "anything", "with", "the", "issue", ".", "Just", "ignore", "it", ":", "#pre", "#p", "There", "is", "no", "need", "to", "keep", "the", "classes", "as", "long", "as", "they", "are", "located", "in", "library", "jar", "(", "phone", "'s", "library", "actually", ")", ".", "dontwarn", "does", "n't", "work", "because", "it", "'s", "not", "a", "warning", ",", "it", "'s", "a", "note", "."], "answer_id": 35742739, "question_id": 33047806}, {"tokens": ["#p", "You", "can", "try", "this", "in", "your", "build.gradle", "for", "everything", "that", "is", "indicated", "as", "duplicate", "in", "the", "logs", ".", "I", "am", "not", "sure", "if", "this", "will", "work", ",", "so", "try", "it", "out", "and", "inform", "if", "it", "works", "or", "not", ".", "#pre"], "answer_id": 35748583, "question_id": 33047806}, {"tokens": ["#p", "We", "have", "found", "several", "cases", "for", "this", "kind", "of", "crashes", "reported", "by", "backend", "logging", "monitoring", ".", "It", "seems", "the", "crashes", "do", "not", "tie", "to", "particular", "UX", "failure", ".", "And", "from", "the", "reports", ",", "there", "is", "no", "sign", "of", "how", "our", "own", "classes", "being", "involved", "(", "no", "sign", "of", "any", "of", "our", "classes", "names", ")", ".", "Here", "is", "an", "example", "of", "typical", "crashes", ":", "#pre", "#p", "Does", "anyone", "know", "whether", "there", "is", "related", "bug", "logged", "against", "Android", "code", "?"], "answer_count": 5, "question_id": 33242776}, {"tokens": ["#p", "The", "problem", "is", "in", "the", "<code>ViewGroup</code>", "'s", "<code>dispatchDraw()</code>", "method", ".", "This", "method", "tries", "to", "draw", "all", "the", "<code>ViewGroup</code>", "'s", "children", ".", "When", "a", "child", "is", "<code>null</code>", ",", "you", "get", "an", "exception", ",", "which", "most", "likely", "comes", "from", "this", "line", ":", "<code>if ((child.mViewFlags &amp; VISIBILITY_MASK) == VISIBLE) {</code>", "(", "notice", "the", "<code>mViewFlags</code>", ")", ".", "#p", "So", "the", "problem", "is", "that", "one", "of", "your", "views", ",", "somewhere", ",", "is", "not", "properly", "initialized", ".", "I", "'m", "afraid", "that", "'s", "the", "best", "I", "can", "do", "."], "answer_id": 34829023, "question_id": 33242776}, {"tokens": ["#p", "I", "had", "this", "same", "issue", ".", "I", "setup", "an", "<code>animation</code>", "and", "in", "<code>onAnimationEnd</code>", "I", "was", "removing", "the", "object", "that", "had", "been", "animated", "which", "is", "when", "problems", "started", ".", "What", "I", "did", "was", "setup", "an", "<code>Runnable</code>", "to", "wait", "100", "milliseconds", "after", "the", "animation", "had", "stopped", "before", "removing", "the", "animated", "object", ":", "#p", "#pre", "#p"], "answer_id": 35205000, "question_id": 33242776}, {"tokens": ["#p", "I", "was", "having", "the", "exact", "same", "issue", ".", "It", "turned", "out", "it", "started", "to", "happen", "when", "I", "added", "code", "to", "modify", "the", "view", "tree", "within", "onDraw", "(", ")", "call", ".", "To", "be", "specific", ",", "I", "removed", "a", "view", "with", "children", "in", "my", "derived", "onDraw", "(", ")", "when", "certain", "conditions", "were", "met", ".", "I", "now", "believe", "this", "is", "a", "bad", "thing", "to", "do", ",", "probably", "because", "the", "platform", "is", "trying", "to", "draw", "views", "that", "I", "have", "now", "removed", "from", "the", "view", "tree", ".", "I", "resolved", "the", "issue", "by", "posting", "the", "deletion", "with", "Runnable", "to", "happen", "after", "the", "call", "to", "onDraw", "(", ")", "has", "finished", "."], "answer_id": 36300563, "question_id": 33242776}, {"tokens": ["#p", "We", "started", "getting", "this", "error", "unexpectedly", "too", ".", "It", "was", "tracked", "down", "to", "fragment", "animations", "being", "the", "issue", ".", "More", "specifically", "using", "custom", "animations", "with", "<code>replace()</code>", "in", "a", "fragment", "transaction", "when", "the", "app", "is", "built", "against", "<code>Local Maven repository for Support Libraries</code>", "rev", ">", "26", ".", "#p", "Downgrade", "<code>Local Maven repository for Support Libraries</code>", "to", "rev", "26", ".", "See", "here"], "answer_id": 36313569, "question_id": 33242776}, {"tokens": ["#p", "I", "was", "facing", "same", "problem", ".", "I", "resolved", "with", "Handler", ".", "#pre"], "answer_id": 37213025, "question_id": 33242776}, {"tokens": ["#p", "I", "just", "made", "this", "simple", "``", "program", "''", ":", "#pre", "#p", "Upon", "running", "this", "program", ",", "I", "immediately", "get", "the", "output", ":", "#pre", "#p", "as", "if", "<code>i</code>", "would", "be", "always", "0", ".", "#p", "And", "in", "fact", ",", "when", "I", "debug", "in", "Eclipse", ",", "upon", "suspending", "the", "program", ",", "<code>i</code>", "would", "be", "always", "zero", ".", "When", "stepping", "through", "the", "loop", ",", "<code>i</code>", "would", "increment", ",", "but", "upon", "resuming", "and", "suspending", "the", "debugger", ",", "<code>i</code>", "is", "0", "again", ".", "#p", "When", "I", "change", "<code>i</code>", "to", "long", ",", "upon", "running", "the", "program", "I", "need", "to", "wait", "quite", "a", "while", "before", "seeing", "the", "first", "<code>loop: 1</code>", ".", "In", "the", "debugger", ",", "upon", "pausing", "the", "program", ",", "<code>i</code>", "does", "increment", ":", "it", "'s", "not", "0", ",", "so", "it", "works", "as", "it", "should", ".", "#p", "What", "'s", "the", "problem", "with", "<code>++i</code>", "as", "an", "int", "?"], "answer_count": 5, "question_id": 34276322}, {"tokens": ["#p", "Your", "loop", "is", "overflowing", "<code>i</code>", ".", "You", "have", "no", "<code>break</code>", ",", "so", "after", "a", "period", "of", "time", ",", "<code>i</code>", "wraps", "back", "to", "0", ",", "and", "this", "prints", "the", "statement", "and", "increments", "<code>k</code>", ".", "This", "also", "explains", "why", "changing", "the", "<code>int</code>", "to", "a", "<code>long</code>", "causes", "the", "printing", "to", "slow", "down", ":", "it", "takes", "much", "longer", "for", "a", "<code>long</code>", "value", "to", "overflow", "."], "answer_id": 34276351, "question_id": 34276322}, {"tokens": ["#p", "If", "you", "keep", "incrementing", "an", "integer", "type", ",", "it", "will", "eventually", "overflow", ",", "becoming", "a", "large", "negative", "value", ".", "If", "you", "keep", "going", ",", "it", "will", "eventually", "become", "0", "again", ",", "and", "the", "cycle", "will", "repeat", ".", "#p", "There", "are", "convenience", "methods", "to", "help", "avoid", "inadvertent", "overflows", ",", "like", "<code>Math.addExact()</code>", ",", "but", "these", "would", "n't", "normally", "be", "used", "in", "a", "loop", "."], "answer_id": 34276352, "question_id": 34276322}, {"tokens": ["#p", "It", "'s", "not", "always", "0", ",", "it", "becomes", "0", "after", "looping", "over", "(", "integer", "overflow", ")", ",", "so", "it", "would", "first", "become", "Integer.MAX_VALUE", ",", "then", "Integer.MIN_VALUE", ",", "and", "then", "work", "its", "way", "up", "to", "0", "again", ".", "That", "'s", "why", "it", "seems", "as", "if", "it", "is", "always", "0", ",", "but", "in", "fact", "it", "takes", "all", "possible", "integer", "values", "before", "becoming", "0", "...", "Over", "and", "over", "again", "."], "answer_id": 34276370, "question_id": 34276322}, {"tokens": ["#p", "First", "let", "'s", "look", "at", "what", "that", "loop", "logically", "does", ".", "#p", "<code>i</code>", "will", "repeatedly", "overflow", ".", "Every", "2", "(", "about", "4", "billion", ")", "iterations", "of", "the", "loop", "the", "output", "will", "be", "printed", "and", "k", "will", "be", "incremented", ".", "#p", "That", "is", "the", "logical", "view", ".", "However", ",", "compilers", "and", "runtimes", "are", "allowed", "to", "optimise", "and", "if", "you", "are", "getting", "more", "than", "a", "value", "every", "second", "or", "so", "it", "is", "pretty", "clear", "that", "such", "optimisation", "must", "be", "taking", "place", ".", "Even", "with", "modern", "branch", "prediction", ",", "out", "of", "order", "execution", ",", "etc", ".", "I", "find", "it", "unlikely", "that", "a", "CPU", "would", "get", "round", "a", "tight", "loop", "more", "than", "once", "per", "clock", "cycle", "(", "and", "even", "that", "I", "would", "consider", "unlikely", ")", ".", "The", "fact", "that", "you", "never", "see", "anything", "other", "than", "zero", "in", "a", "debugger", "reinforces", "the", "idea", "that", "the", "code", "is", "being", "optimised", "away", ".", "#p", "You", "mention", "it", "takes", "longer", "when", "``", "long", "''", "is", "used", "and", "that", "you", "do", "see", "other", "values", ".", "If", "a", "``", "long", "''", "counter", "was", "used", "in", "an", "unoptimised", "loop", "you", "would", "expect", "many", "decades", "between", "values", ".", "Again", "clearly", "optimisation", "is", "taking", "place", ",", "but", "it", "seems", "the", "optimiser", "is", "giving", "up", "before", "it", "has", "fully", "optimised", "away", "the", "pointless", "iterations", "."], "answer_id": 34279876, "question_id": 34276322}, {"tokens": ["#p", "As", "JohannesD", "suggested", "in", "a", "comment", ",", "it", "'s", "hardly", "possible", "to", "count", "from", "0", "to", "<code>Integer.MAX_VALUE</code>", "(", "and", ",", "after", "the", "overflow", ",", "from", "<code>-Integer.MAX_VALUE</code>", "to", "0", "again", ")", "so", "quickly", ".", "#p", "In", "order", "to", "verify", "the", "assumption", "that", "the", "JIT", "does", "some", "magic", "optimization", "here", ",", "I", "created", "a", "slightly", "modified", "program", ",", "introducing", "some", "methods", "make", "it", "easier", "to", "identify", "parts", "of", "the", "code", ":", "#pre", "#p", "The", "bytecode", "emitted", "and", "shown", "with", "<code>javap -c IntOverflowTest</code>", "brings", "no", "surprises", ":", "#pre", "#p", "It", "clearly", "does", "increment", "both", "local", "variables", "(", "<code>runLoop</code>", ",", "offsets", "4", "and", "11", ")", ".", "#p", "However", ",", "when", "running", "the", "code", "with", "<code>-XX:+UnlockDiagnosticVMOptions -XX:+LogCompilation -XX:+PrintAssembly</code>", "in", "a", "Hotspot", "Disassembler", ",", "the", "machine", "code", "eventually", "ends", "up", "to", "be", "the", "following", ":", "#pre", "#p", "One", "can", "clearly", "see", "that", "it", "does", "not", "increment", "the", "outer", "variable", "<code>i</code>", "any", "more", ".", "It", "only", "calls", "the", "<code>doPrint</code>", "method", ",", "increments", "a", "single", "variable", "(", "<code>k</code>", "in", "the", "code", ")", ",", "and", "then", "and", "immediately", "jumps", "back", "to", "the", "point", "before", "the", "<code>doPrint</code>", "call", ".", "#p", "So", "the", "JIT", "indeed", "seems", "to", "detect", "that", "there", "is", "no", "real", "``", "condition", "''", "involved", "for", "printing", "the", "output", ",", "and", "that", "the", "code", "is", "equivalent", "to", "an", "infinite", "loop", "that", "only", "prints", "and", "increments", "a", "single", "variable", ".", "#p"], "answer_id": 34287776, "question_id": 34276322}, {"tokens": ["#p", "I", "am", "using", "retrofit", "2.0.0-beta1", "with", "SimpleXml", ".", "I", "want", "the", "retrieve", "a", "Simple", "(", "XML", ")", "resource", "from", "a", "REST", "service", ".", "Marshalling/Unmarshalling", "the", "Simple", "object", "with", "SimpleXML", "works", "fine", ".", "#p", "When", "using", "this", "code", "(", "converted", "form", "pre", "2.0.0", "code", ")", ":", "#pre", "#p", "Service", ":", "#pre", "#p", "I", "get", "this", "exception", ":", "#pre", "#p", "What", "am", "i", "missing", "?", "I", "know", "that", "wrapping", "the", "return", "type", "by", "a", "<code>Call</code>", "works", ".", "But", "I", "want", "the", "service", "to", "return", "business", "objects", "as", "type", "(", "and", "working", "in", "sync", "mode", ")", ".", "#p", "#p", "After", "added", "the", "extra", "dependancies", "and", "<code>.addCallAdapterFactory(RxJavaCallAdapterFactory.create())</code>", "as", "suggested", "by", "different", "answers", ",", "I", "still", "get", "this", "error", ":", "#pre"], "answer_count": 7, "question_id": 32269064}, {"tokens": ["#p", "With", "the", "new", "Retrofit", "(", "2.+", ")", "you", "need", "to", "add", "addCallAdapterFactory", "which", "can", "be", "a", "normal", "one", "or", "a", "RxJavaCallAdapterFactory", "(", "for", "Observables", ")", ".", "I", "think", "you", "can", "add", "more", "than", "both", "too", ".", "It", "automatically", "checks", "which", "one", "to", "use", ".", "See", "a", "working", "example", "below", ".", "You", "can", "also", "check", "this", "link", "for", "more", "details", ".", "#pre"], "answer_id": 32276352, "question_id": 32269064}, {"tokens": ["#p", "Add", "the", "following", "dependencies", "for", "retrofit", "2", "#pre", "#p", "for", "GSON", "#pre", "#p", "for", "observables", "#pre", "#p", "In", "your", "case", "for", "XML", ",", "you", "would", "have", "to", "include", "the", "following", "dependencies", "#pre", "#p", "Update", "the", "service", "call", "as", "below", "#pre"], "answer_id": 32444433, "question_id": 32269064}, {"tokens": ["#p", "The", "way", "I", "fixed", "this", "issue", "was", "adding", "this", "to", "the", "application", "gradle", "file", ",", "if", "the", "configuration", "is", "not", "set", "there", "will", "be", "conflicts", ",", "maybe", "this", "will", "be", "fixed", "in", "the", "stable", "release", "of", "the", "library", ":", "#pre", "#p", "and", "create", "your", "adapter", "this", "way", ":", "#pre", "#p", "Hope", "it", "helps", "!"], "answer_id": 32539947, "question_id": 32269064}, {"tokens": ["#p", "add", "dependencies", ":", "#pre", "#p", "create", "your", "adapter", "this", "way", ":", "#pre", "#p", "<code>addCallAdapterFactory ()</code>", "and", "<code>addConverterFactory ()</code>", "both", "need", "to", "be", "called", ".", "#p", "Service", ":", "#pre", "#p", "Modify", "<code>Simple</code>", "to", "<code>Call&lt;Simple&gt;</code>", "."], "answer_id": 32585215, "question_id": 32269064}, {"tokens": ["#p", "Short", "answer", ":", "return", "<code>Call&lt;Simple&gt;</code>", "in", "your", "service", "interface", ".", "#p", "It", "looks", "like", "Retrofit", "2.0", "is", "trying", "to", "find", "a", "way", "of", "creating", "the", "proxy", "object", "for", "your", "service", "interface", ".", "It", "expects", "you", "to", "write", "this", ":", "#pre", "#p", "However", ",", "it", "still", "wants", "to", "play", "nice", "and", "be", "flexible", "when", "you", "do", "n't", "want", "to", "return", "a", "<code>Call</code>", ".", "To", "support", "this", ",", "it", "has", "the", "concept", "of", "a", "<code>CallAdapter</code>", ",", "which", "is", "supposed", "to", "know", "how", "to", "adapt", "a", "<code>Call&lt;Simple&gt;</code>", "into", "a", "<code>Simple</code>", ".", "#p", "The", "use", "of", "<code>RxJavaCallAdapterFactory</code>", "is", "only", "useful", "if", "you", "are", "trying", "to", "return", "<code>rx.Observable&lt;Simple&gt;</code>", ".", "#p", "The", "simplest", "solution", "is", "to", "return", "a", "<code>Call</code>", "as", "Retrofit", "expects", ".", "You", "could", "also", "write", "a", "<code>CallAdapter.Factory</code>", "if", "you", "really", "need", "it", "."], "answer_id": 33202805, "question_id": 32269064}, {"tokens": ["#p", "You", "can", "implement", "a", "Callback", ",", "get", "the", "Simple", "from", "onResponse", "function", ".", "#pre"], "answer_id": 34233458, "question_id": 32269064}, {"tokens": ["#p", "If", "you", "want", "use", "<code>retrofit2</code>", "and", "you", "do", "n't", "want", "always", "return", "<code>retrofit2.Call&lt;T&gt;</code>", ",", "you", "have", "to", "create", "your", "own", "<code>CallAdapter.Factory</code>", "which", "return", "simple", "type", "as", "you", "expected", ".", "The", "simple", "code", "can", "look", "like", "this", ":", "#pre", "#p", "Then", "simple", "register", "the", "<code>SynchronousCallAdapterFactory</code>", "in", "Retrofit", "should", "solved", "your", "problem", ".", "#pre", "#p", "After", "that", "you", "can", "return", "simple", "type", "without", "<code>retrofit2.Call</code>", ".", "#pre"], "answer_id": 35104080, "question_id": 32269064}, {"tokens": ["#p", "I", "am", "developing", "a", "Spring", "Boot", "application", "with", "a", "Rest", "interface", "and", "a", "dart", "fronted", ".", "#p", "The", "XMLHttpRequest", "does", "execute", "a", "OPTIONS", "request", "which", "is", "handled", "totally", "correct", ".", "After", "this", ",", "the", "final", "GET", "(", "``", "/products", "''", ")", "request", "is", "issued", "and", "fails", ":", "#p", "#p", "After", "some", "debugging", "I", "have", "found", "the", "following", ":", "The", "AbstractHandlerMapping.corsConfiguration", "is", "populated", "for", "all", "Subclasses", "except", "RepositoryRestHandlerMapping", ".", "In", "the", "RepositoryRestHandlerMapping", "no", "corsConfiguration", "is", "present", "/", "set", "at", "creation", "time", "and", "so", "it", "wo", "n't", "get", "recognized", "as", "cors", "path", "/", "resource", ".", "#p", "Configuration", "classes", ":", "#pre", "#p", "I", "even", "tried", "to", "set", "the", "Cors", "per", "annotation", ":", "#pre", "#p", "Raw", "request", "headers", ":", "#pre", "#p", "Raw", "response", "headers", ":", "#pre", "#p", "Versions", "used", ":", "Spring", "Boot", "1.3.0.M2", "Spring", "4.2.0.RC2", "#p", "What", "do", "I", "miss", "?", "#p", "Thanks", ",", "Thomas"], "answer_count": 2, "question_id": 31724994}, {"tokens": ["#p", "Indeed", ",", "when", "using", "Spring", "Data", "REST", "+", "Spring", "Framework", "4.2", ",", "only", "<code>HandlerMapping</code>", "instances", "created", "by", "Spring", "MVC", "<code>WebMvcConfigurationSupport</code>", "and", "controllers", "annotated", "with", "<code>@CrossOrigin</code>", "will", "be", "CORS", "aware", ".", "#p", "Spring", "Data", "REST", "still", "compiles", "against", "Spring", "Framework", "4.1", ",", "and", "does", "not", "support", "builtin", "Spring", "Framework", "CORS", "implementation", ".", "Feel", "free", "to", "vote", "for", "the", "DATAREST-573", "related", "issue", ".", "#p", "Right", "now", ",", "I", "think", "the", "best", "solution", "is", "to", "use", "a", "filter", "based", "approach", ".", "You", "could", "obviously", "use", "Tomcat", ",", "Jetty", "or", "this", "one", ",", "but", "be", "aware", "that", "Spring", "Framework", "4.2", "also", "provides", "a", "<code>CorsFilter</code>", "that", "use", "the", "same", "CORS", "processing", "logic", "that", "<code>@CrossOrigin</code>", "and", "<code>addCorsMappings(CorsRegistry registry)</code>", "approaches", ".", "By", "passing", "an", "<code>UrlBasedCorsConfigurationSource</code>", "instance", "to", "the", "<code>CorsFilter</code>", "constructor", "parameter", ",", "you", "could", "easily", "get", "something", "as", "powerful", "as", "Spring", "native", "CORS", "global", "support", ".", "#p", "If", "you", "are", "using", "Spring", "Boot", "(", "which", "supports", "<code>Filter</code>", "beans", ")", ",", "it", "could", "be", "something", "like", ":", "#pre", "#p", "The", "Spring", "Data", "team", "is", "currently", "looking", "into", "ways", "to", "let", "the", "user", "customize", "the", "CORS", "handling", "on", "it", "(", "i.e", ".", "calling", "<code>setCorsConfigurations(Map&lt;String, CorsConfiguration&gt; configurations)</code>", "on", "the", "<code>HandlerMapping</code>", "instance", "Spring", "Data", "REST", "deploys", ")", ",", "but", "I", "think", "it", "is", "better", "to", "use", "the", "<code>CorsFilter</code>", "approach", "until", "DATAREST-573", "is", "resolved", ".", "#p", "Hendy", "'s", "addition", ":", "In", "my", "case", ",", "the", "simple", "<code>@Bean Filter</code>", "definition", "above", "does", "not", "work", ",", "I", "had", "to", "use", "this", ":", "(", "It", "have", "something", "to", "do", "with", "my", "usage", "of", "Spring", "Security", "or", "ocpsoft", "rewrite", ",", "but", "Sebastien", "is", "more", "expert", "in", "this..", "I", "do", "n't", "really", "know", "why", ")", "#pre"], "answer_id": 31748398, "question_id": 31724994}, {"tokens": ["#p", "After", "configuring", "this", "in", "webMvcConfigurerAdapter", "subclass", "#pre", "#p", "In", "my", "response", "am", "not", "able", "to", "see", "this", "header", "value", ".", "#pre", "#pre"], "answer_id": 36623327, "question_id": 31724994}, {"tokens": ["#p", "Talking", "about", "<code>Stream</code>", "s", ",", "when", "I", "execute", "this", "piece", "of", "code", "#pre", "#p", "I", "get", "this", "output", "#pre", "#p", "because", "limiting", "my", "stream", "to", "the", "first", "three", "components", "forces", "actions", ",", "and", "to", "be", "executed", "only", "three", "times", ".", "#p", "Trying", "to", "perform", "an", "analogous", "computation", "on", "the", "last", "three", "elements", "by", "using", "<code>skip()</code>", "method", ",", "shows", "a", "different", "behaviour", ":", "this", "#pre", "#p", "outputs", "this", "#pre", "#p", "Why", ",", "in", "this", "case", ",", "actions", "to", "are", "being", "executed", "?", "It", "must", "have", "something", "to", "do", "with", "the", "fact", "that", "is", "a", "short-circuiting", "stateful", "intermediate", "operation", ",", "while", "is", "not", ",", "but", "I", "do", "n't", "understand", "practical", "implications", "of", "this", "property", ".", "Is", "it", "just", "that", "``", "every", "action", "before", "is", "executed", "while", "not", "everyone", "before", "is", "''", "?"], "answer_count": 4, "question_id": 32414088}, {"tokens": ["#p", "The", "fluent", "notation", "of", "the", "streamed", "pipeline", "is", "what", "'s", "causing", "this", "confusion", ".", "Think", "about", "it", "this", "way", ":", "#p", "All", "the", "pipelined", "operations", "are", "evaluated", "lazily", ",", "except", "<code>forEach()</code>", ",", "which", "is", "a", "terminal", "operation", ",", "which", "triggers", ".", "#p", "When", "the", "pipeline", "is", "executed", ",", "intermediary", "stream", "definitions", "will", "not", "make", "any", "assumptions", "about", "what", "happens", "or", ".", "All", "they", "'re", "doing", "is", "take", "an", "input", "stream", "and", "transform", "it", "into", "an", "output", "stream", ":", "#pre", "#li", "<code>s1</code>", "contains", "9", "different", "<code>Integer</code>", "values", ".", "#li", "<code>s2</code>", "peeks", "at", "all", "values", "that", "pass", "it", "and", "prints", "them", ".", "#li", "<code>s3</code>", "passes", "the", "first", "3", "values", "to", "<code>s4</code>", "and", "aborts", "the", "pipeline", "after", "the", "third", "value", ".", "No", "further", "values", "are", "produced", "by", "<code>s3</code>", ".", "#li", "<code>s4</code>", "again", "peeks", "at", "all", "values", "that", "pass", "it", "and", "prints", "them", ".", "#li", "<code>forEach</code>", "consumes", "and", "prints", "whatever", "<code>s4</code>", "passes", "to", "it", ".", "#p", "Think", "about", "it", "this", "way", ".", "The", "whole", "stream", "is", "completely", "lazy", ".", "Only", "the", "terminal", "operation", "actively", "new", "values", "from", "the", "pipeline", ".", "After", "it", "has", "pulled", "3", "values", "from", "<code>s4 &lt;- s3 &lt;- s2 &lt;- s1</code>", ",", "<code>s3</code>", "will", "no", "longer", "produce", "new", "values", "and", "it", "will", "no", "longer", "pull", "any", "values", "from", "<code>s2 &lt;- s1</code>", ".", "While", "<code>s1 -&gt; s2</code>", "would", "still", "be", "able", "to", "produce", "<code>4-9</code>", ",", "those", "values", "are", "just", "never", "pulled", "from", "the", "pipeline", ",", "and", "thus", "never", "printed", "by", "<code>s2</code>", ".", "#p", "With", "<code>skip()</code>", "the", "same", "thing", "happens", ":", "#pre", "#li", "<code>s1</code>", "contains", "9", "different", "<code>Integer</code>", "values", ".", "#li", "<code>s2</code>", "peeks", "at", "all", "values", "that", "pass", "it", "and", "prints", "them", ".", "#li", "<code>s3</code>", "consumes", "the", "first", "6", "values", ",", ",", "which", "means", "the", "first", "6", "values", "are", "n't", "passed", "to", "<code>s4</code>", ",", "only", "the", "subsequent", "values", "are", ".", "#li", "<code>s4</code>", "again", "peeks", "at", "all", "values", "that", "pass", "it", "and", "prints", "them", ".", "#li", "<code>forEach</code>", "consumes", "and", "prints", "whatever", "<code>s4</code>", "passes", "to", "it", ".", "#p", "The", "important", "thing", "here", "is", "that", "<code>s2</code>", "is", "not", "aware", "of", "the", "remaining", "pipeline", "skipping", "any", "values", ".", "<code>s2</code>", "peeks", "at", "all", "values", "independently", "of", "what", "happens", "afterwards", ".", "#p", "Consider", "this", "pipeline", ",", "which", "is", "listed", "in", "this", "blog", "post", "#pre", "#p", "When", "you", "execute", "the", "above", ",", "the", "program", "will", "never", "halt", ".", "Why", "?", "Because", ":", "#pre", "#p", "Which", "means", ":", "#li", "<code>i1</code>", "generates", "an", "infinite", "amount", "of", "alternating", "values", ":", "<code>0</code>", ",", "<code>1</code>", ",", "<code>0</code>", ",", "<code>1</code>", ",", "<code>0</code>", ",", "<code>1</code>", ",", "...", "#li", "<code>i2</code>", "consumes", "all", "values", "that", "have", "been", "encountered", "before", ",", "passing", "on", "only", "values", ",", "i.e", ".", "there", "are", "a", "total", "of", "2", "values", "coming", "out", "of", "<code>i2</code>", ".", "#li", "<code>i3</code>", "passes", "on", "10", "values", ",", "then", "stops", ".", "#p", "This", "algorithm", "will", "never", "stop", ",", "because", "<code>i3</code>", "waits", "for", "<code>i2</code>", "to", "produce", "8", "more", "values", "after", "<code>0</code>", "and", "<code>1</code>", ",", "but", "those", "values", "never", "appear", ",", "while", "<code>i1</code>", "never", "stops", "feeding", "values", "to", "<code>i2</code>", ".", "#p", "It", "does", "n't", "matter", "that", "at", "some", "point", "in", "the", "pipeline", ",", "more", "than", "10", "values", "had", "been", "produced", ".", "All", "that", "matters", "is", "that", "<code>i3</code>", "has", "never", "seen", "those", "10", "values", ".", "#blockquote", "#p", "Nope", ".", "All", "operations", "before", "either", "<code>skip()</code>", "or", "<code>limit()</code>", "are", "executed", ".", "In", "both", "of", "your", "executions", ",", "you", "get", "<code>A1</code>", "-", "<code>A3</code>", ".", "But", "<code>limit()</code>", "may", "short-circuit", "the", "pipeline", ",", "aborting", "value", "consumption", "once", "the", "event", "of", "interest", "(", "the", "limit", "is", "reached", ")", "has", "occurred", "."], "answer_id": 32414407, "question_id": 32414088}, {"tokens": ["#p", "What", "you", "have", "here", "are", "two", "stream", "pipelines", ".", "#p", "These", "stream", "pipelines", "each", "consist", "of", "a", "source", ",", "several", "intermediate", "operations", ",", "and", "a", "terminal", "operation", ".", "#p", "But", "the", "intermediate", "operations", "are", "lazy", ".", "This", "means", "that", "nothing", "happens", "unless", "a", "downstream", "operation", "requires", "an", "item", ".", "When", "it", "does", ",", "then", "the", "intermediate", "operation", "does", "all", "it", "needs", "to", "produce", "the", "required", "item", ",", "and", "then", "again", "waits", "until", "another", "item", "is", "requested", ",", "and", "so", "on", ".", "#p", "The", "terminal", "operations", "are", "usually", "``", "eager", "''", ".", "That", "is", ",", "they", "ask", "for", "all", "the", "items", "in", "the", "stream", "that", "are", "needed", "for", "them", "to", "complete", ".", "#p", "So", "you", "should", "really", "think", "of", "the", "pipeline", "as", "the", "<code>forEach</code>", "asking", "the", "stream", "behind", "it", "for", "the", "next", "item", ",", "and", "that", "stream", "asks", "the", "stream", "behind", "it", ",", "and", "so", "on", ",", "all", "the", "way", "to", "the", "source", ".", "#p", "With", "that", "in", "mind", ",", "let", "'s", "see", "what", "we", "have", "with", "your", "first", "pipeline", ":", "#pre", "#p", "So", ",", "the", "<code>forEach</code>", "is", "asking", "for", "the", "first", "item", ".", "That", "means", "the", "``", "B", "''", "<code>peek</code>", "needs", "an", "item", ",", "and", "asks", "the", "<code>limit</code>", "output", "stream", "for", "it", ",", "which", "means", "<code>limit</code>", "will", "need", "to", "ask", "the", "``", "A", "''", "<code>peek</code>", ",", "which", "goes", "to", "the", "source", ".", "An", "item", "is", "given", ",", "and", "goes", "all", "the", "way", "up", "to", "the", "<code>forEach</code>", ",", "and", "you", "get", "your", "first", "line", ":", "#pre", "#p", "The", "<code>forEach</code>", "asks", "for", "another", "item", ",", "then", "another", ".", "And", "each", "time", ",", "the", "request", "is", "propagated", "up", "the", "stream", ",", "and", "performed", ".", "But", "when", "<code>forEach</code>", "asks", "for", "the", "fourth", "item", ",", "when", "the", "request", "gets", "to", "the", "<code>limit</code>", ",", "it", "knows", "that", "it", "has", "already", "given", "all", "the", "items", "it", "is", "allowed", "to", "give", ".", "#p", "Thus", ",", "it", "is", "not", "asking", "the", "``", "A", "''", "peek", "for", "another", "item", ".", "It", "immediately", "indicates", "that", "its", "items", "are", "exhausted", ",", "and", "thus", ",", "no", "more", "actions", "are", "performed", "and", "<code>forEach</code>", "terminates", ".", "#p", "What", "happens", "in", "the", "second", "pipeline", "?", "#pre", "#p", "Again", ",", "<code>forEach</code>", "is", "asking", "for", "the", "first", "item", ".", "This", "is", "propagated", "back", ".", "But", "when", "it", "gets", "to", "the", "<code>skip</code>", ",", "it", "knows", "it", "has", "to", "ask", "for", "6", "items", "from", "its", "upstream", "before", "it", "can", "pass", "one", "downstream", ".", "So", "it", "makes", "a", "request", "upstream", "from", "the", "``", "A", "''", "<code>peek</code>", ",", "consumes", "it", "without", "passing", "it", "downstream", ",", "makes", "another", "request", ",", "and", "so", "on", ".", "So", "the", "``", "A", "''", "peek", "gets", "6", "requests", "for", "an", "item", "and", "produces", "6", "prints", ",", "but", "these", "items", "are", "not", "passed", "down", ".", "#pre", "#p", "On", "the", "7th", "request", "made", "by", "<code>skip</code>", ",", "the", "item", "is", "passed", "down", "to", "the", "``", "B", "''", "peek", "and", "from", "it", "to", "the", "<code>forEach</code>", ",", "so", "the", "full", "print", "is", "done", ":", "#pre", "#p", "Then", "it", "'s", "just", "like", "before", ".", "The", "<code>skip</code>", "will", "now", ",", "whenever", "it", "gets", "a", "request", ",", "ask", "for", "an", "item", "upstream", "and", "pass", "it", "downstream", ",", "as", "it", "``", "knows", "''", "it", "has", "already", "done", "its", "skipping", "job", ".", "So", "the", "rest", "of", "the", "prints", "are", "going", "through", "the", "entire", "pipe", ",", "until", "the", "source", "is", "exhausted", "."], "answer_id": 32414480, "question_id": 32414088}, {"tokens": ["#p", "All", "streams", "are", "based", "on", "spliterators", ",", "which", "have", "basically", "two", "operations", ":", "advance", "(", "move", "forward", "one", "element", ",", "similar", "to", "iterator", ")", "and", "split", "(", "divide", "oneself", "in", "arbitrary", "position", ",", "which", "is", "suitable", "for", "parallel", "processing", ")", ".", "You", "can", "stop", "taking", "input", "elements", "at", "any", "moment", "you", "like", "(", "which", "is", "done", "by", "<code>limit</code>", ")", ",", "but", "you", "can", "not", "just", "jump", "to", "the", "arbitrary", "position", "(", "there", "'s", "no", "such", "operation", "in", "<code>Spliterator</code>", "interface", ")", ".", "Thus", "<code>skip</code>", "operation", "need", "to", "actually", "read", "the", "first", "elements", "from", "the", "source", "just", "to", "ignore", "them", ".", "Note", "that", "in", "some", "cases", "you", "can", "perform", "actual", "jump", ":", "#pre"], "answer_id": 32414556, "question_id": 32414088}, {"tokens": ["#p", "It", "is", "complete", "blasphemy", "to", "look", "at", "steam", "operations", "individually", "because", "that", "is", "not", "how", "a", "stream", "is", "evaluated", ".", "#p", "Talking", "about", ",", "it", "is", "a", "short", "circuit", "operation", ",", "which", "makes", "sense", "because", "thinking", "about", "it", ",", "whatever", "operation", "is", "and", "the", "<code>limit</code>", ",", "having", "a", "limit", "in", "a", "stream", "would", "stop", "iteration", "after", "getting", "elements", "the", "limit", "operation", ",", "but", "this", "does", "n't", "mean", "that", "only", "n", "stream", "elements", "would", "be", "processed", ".", "Take", "this", "different", "stream", "operation", "for", "an", "example", "#pre", "#p", "would", "output", "#pre", "#p", "which", "seem", "right", ",", "because", "limit", "is", "waiting", "for", "3", "stream", "elements", "to", "pass", "through", "the", "operation", "chain", ",", "although", "6", "elements", "of", "stream", "are", "processed", "."], "answer_id": 32414994, "question_id": 32414088}, {"tokens": ["#p", "I", "am", "getting", "the", "exception", "below", "when", "I", "am", "trying", "to", "run", "the", "application", "using", "Android", "Studio", ":", "#blockquote"], "answer_count": 8, "question_id": 33915955}, {"tokens": ["#p", "I", "have", "same", "issue", ",", "after", "few", "hour", "research", ",", "i", "found", "a", "solution", "to", "fix", "it", ".", "#p", "You", "should", "fixed", ":", "#pre", "#blockquote", "#p", "For", "information", "on", "how", "to", "do", "this", ",", "see", "Selectively", "compiling", "APIs", "into", "your", "executable", "and", "Building", "Apps", "with", "Over", "65K", "Methods"], "answer_id": 34284213, "question_id": 33915955}, {"tokens": ["#p", "in", "my", "case", "using", "android", "studio", "2.0", "preview", "4", "I", "suddenly", "got", "that", "problem", "and", "adding", "<code>multiDexEnabled true</code>", "did", "n't", "help", ",", "and", "also", "clean", "and", "rebuilt", "did", "n't", "help", ".", "#p", "so", "the", "only", "thing", "that", "solved", "it", "for", "me", "is", "deleting", "that", "file", ":", "#blockquote", "#p", "and", "run", "the", "application", "and", "it", "works", "."], "answer_id": 34438793, "question_id": 33915955}, {"tokens": ["#p", "For", "me", "closing", "all", "other", "Android", "Studio", "solved", "the", "problem", ".", "#p", "I", "had", "opened", "3", "android", "studios", "when", "I", "was", "getting", "the", "error", ",", "after", "I", "closed", "2", "I", "did", "n't", "get", "any", "error", ".", "#p", "No", "need", "to", "add", "any", "code", "related", "to", "multiDex", "!", "#p", "Seems", "like", "there", "was", "some", "memory", "issue", "related", "to", "jvm", "."], "answer_id": 35090262, "question_id": 33915955}, {"tokens": ["#p", "Just", "fixed", "this", "issue", ".", "In", "my", "case", ",", "rebuilding", "the", "project", "helped", "for", "me", ".", "So", ",", "try", "to", "rebuild", "your", "project", "."], "answer_id": 36699760, "question_id": 33915955}, {"tokens": ["#p", "Add", "the", "following", "line", ":", "#pre", "#p", "Inside", "the", "<code>defaultConfig</code>", "of", "<code>build.gradle</code>", "#p", "Like", "this", ":", "#pre"], "answer_id": 36910919, "question_id": 33915955}, {"tokens": ["#p", "Modify", "the", "module-level", "build.gradle", "file", "#pre", "#p", "}", "#p", "add", "dependencies", "compile", "'com.android.support", ":", "multidex:1.0.0", "'", "#p", "In", "your", "manifest", "add", "the", "MultiDexApplication", "class", "#pre", "#p", "#p", "http", ":", "//developer.android.com/studio/build/multidex.html"], "answer_id": 37731832, "question_id": 33915955}, {"tokens": ["#p", "My", "problem", "was", "heap", "size", "too", "big", "for", "gradle"], "answer_id": 37780420, "question_id": 33915955}, {"tokens": ["#p", "At", "my", "case", "change", "buildToolsVersion", "from", "``", "24", "''", "to", "``", "23.0.2", "''", ",", "solve", "the", "problem", ".", "This", "will", "solve", "the", "problem", "especially", "if", "you", "'re", "using", "old", "Android", "Studio", "less", "than", "version", "2", "."], "answer_id": 39439941, "question_id": 33915955}, {"tokens": ["#p", "Consider", "the", "following", "code", "snippet", ",", "I", "stumpled", "upon", "after", "some", "refactoring", ",", "when", "checkin", "why", "the", "build", "server", "reported", "a", "broken", "build", "but", "it", "was", "fine", "in", "my", "IDE", ":", "#pre", "#p", "So", ",", "the", "same", "name", "is", "used", "for", "the", "String", "and", "the", "List", "within", "the", "for-each", ".", "#p", "This", "is", "of", "course", "not", "very", "wise", "to", "do", ",", "but", "after", "following", "my", "nosiness", "before", "renaming", "it", ",", "I", "saw", "that", "the", "above", "code", "compiles", "fine", "with", "JDK", "8", ",", "but", "gives", "the", "below", "error", "with", "JDK", "7", ":", "#pre", "#p", "I", "know", "that", "changes", "were", "made", "to", "several", "parts", "in", "this", "area", "within", "the", "JDK", "-", "but", "can", "someone", "enlighten", "me", "on", "why", "exactly", "this", "behaviour", "occurs", "?"], "answer_count": 6, "question_id": 33438842}, {"tokens": ["#p", "Your", "build", "server", "may", "be", "compiling", "using", "a", "different", "jdk", "than", "your", "local", "machine", ".", "(", "Not", "just", "a", "different", "version", "number", ",", "but", "a", "completely", "different", "implementation", ".", ")", "Eclipse", "is", "one", "that", "uses", "its", "own", "compiler", ",", "I", "believe", "to", "facilitate", "its", "code", "hot-swapping", ".", "#p", ",", "but", "I", "have", "heard", "of", "and", "occasionally", "noticed", "Eclipse", "tolerating", "things", "that", "the", "Sun/Oracle", "JDK", "wo", "n't", "."], "answer_id": 33438943, "question_id": 33438842}, {"tokens": ["#p", "I", "would", "say", "it", "is", "a", "compiler", "bug", "in", "the", "particular", "version", "of", "the", "Java", "7", "compiler", "that", "you", "are", "using", ".", "#p", "The", "earlier", "<code>text</code>", "is", "a", "field", ",", "and", "it", "is", "legal", "for", "the", "<code>text</code>", "local", "declared", "in", "the", "<code>for</code>", "statement", "to", "shadow", "a", "field", ".", "#p", "Then", "we", "look", "at", "what", "the", "for", "loop", "means", ".", "According", "to", "the", "JLS", ",", "#pre", "#p", "is", "equivalent", "to", "#pre", "#p", "As", "you", "can", "see", "the", "inner", "<code>text</code>", "is", "not", "in-scope", "for", "the", "<code>text.iterator()</code>", "expression", "."], "answer_id": 33439404, "question_id": 33438842}, {"tokens": ["#p", "This", "compiled", "fine", "for", "me", ".", "I", "'m", "using", "the", "Java", "8", "JDK", ",", "on", "Netbeans", ",", "on", "a", "64", "bit", "machine", "(", "Windows", "7", ")", ".", "#p", "I", "believe", "this", "is", "a", "localization", "issue", "related", "to", "your", "IDE", "or", "compiler", ".", "I", "used", "your", "exact", "example", ",", "the", "output", "being", "#pre", "#p", "There", "was", "a", "warning", "given", ",", "stating", "that", "it", "is", "possible", ",", "but", "not", "recommended", "to", "hide", "a", "field", "with", "a", "local", "variable", "."], "answer_id": 33439440, "question_id": 33438842}, {"tokens": ["#p", "This", "should", "actually", "compile", "fine", "for", "JDK", "7", "and", "8", ".", "#p", "Quoting", "JLS", "section", "14.14.2", "(", "which", "is", "the", "same", "for", "the", "Java", "7", "specification", ")", ":", "#blockquote", "#p", "Rewriting", "the", "enhanched", "for", "loop", "with", "<code>Iterator</code>", "#pre", "#p", "becomes", "#pre", "#p", "Then", ",", "quoting", "example", "6.4.1", "of", "the", "JLS", ":", "#blockquote", "#p", "As", "such", ",", "there", "is", "no", "compile-time", "error", "here", "because", "no", "restriction", "is", "made", "when", "shadowing", "a", "member", "variable", "by", "a", "local", "variable", ",", "which", "is", "the", "case", "here", ":", "the", "local", "variable", "<code>String text</code>", "is", "shadowing", "the", "member", "variable", "<code>List&lt;String&gt; text</code>", "."], "answer_id": 33439463, "question_id": 33438842}, {"tokens": ["#p", "Although", "I", "think", "the", "other", "answers", "are", "correct", ",", "let", "me", "be", "devil", "'s", "advocate", "and", "offer", "the", "opposite", "view", ".", "#p", "Obviously", "JDK", "7", "parses", "the", "foreach", "loop", "in", "such", "a", "way", "that", "the", "variable", "'text", "'", "is", "also", "in", "scope", "after", "the", "'", ":", "'", ".", "To", "test", "this", ",", "I", "wrote", "the", "following", "method", ".", "It", "compiles", "and", "runs", "just", "fine", "in", "Java", "1.7", ":", "#pre", "#p", "Although", "others", "have", "said", "this", "is", "a", "bug", "in", "jdk", "1.7", "(", "and", "it", "probably", "is", ")", ",", "I", "could", "n't", "find", "anywhere", "in", "the", "JLS", "that", "specifically", "says", "the", "variable", "just", "declared", "is", "not", "in", "scope", "after", "the", "'", ":", "'", ".", "If", "it", "'s", "not", "a", "bug", ",", "then", "Java", "8", "breaks", "compatibility", "."], "answer_id": 33440082, "question_id": 33438842}, {"tokens": ["#p", "While", "the", "reasoning", ",", "using", "the", "specified", "translation", "from", "the", "enhanced", "<code>for</code>", "loop", "to", "the", "traditional", "<code>for</code>", "loop", ",", "used", "by", "other", "answers", "is", "correct", ",", "there", "is", "an", "explicit", "specification", "about", "the", "scopes", ":", "#blockquote", "#p", "(", "direct", "link", ")", "#p", "Thus", ",", "the", "scope", "of", "the", "variable", "does", "not", "include", "the", "of", "the", "enhanced", "<code>for</code>", "loop\u2026", "#p", "You", "can", "verify", "that", "this", "hasn\u2019t", "changed", ",", "compared", "to", "Java", "7", "and", "Java", "6", ",", "though", "both", "(", "I", "tried", "Java", "6", "<code>javac</code>", ")", "exhibit", "the", "contradicting", "behavior", ".", "#p", "So", "this", "change", "in", "the", "compiler", "behavior", "is", "the", "fix", "of", "an", "old", "bug\u2026"], "answer_id": 33441855, "question_id": 33438842}, {"tokens": ["#p", "The", "issue", "is", "to", "decided", "the", "trade", "offs", "between", "following", "notations", ":", "#p", ":", "#pre", "#p", ":", "#pre", "#p", "Relating", "to", "this", "post", "on", "the", "same", "issue", ",", "I", "have", "decided", "(", "on", "front", "end", ")", "to", "use", "the", "JSON", "object", "notation", "instead", "of", "array", "of", "objects", "as", "it", "suits", "my", "requirements", "and", "better", "performance", "and", "less", "code", "in", "the", "browser", ".", "#p", "But", "the", "problem", "is", "that", "the", "list", "itself", "is", "not", "static", ".", "By", "this", "I", "mean", "the", "list", "is", "being", "generated", "i.e", ".", "fetched/stored", "from", "DB", "(", "NoSQL", ")", "and", "created", "for", "new", "entries", "through", "a", "Java", "API", "at", "the", "server", ".", "I", "am", "not", "able", "to", "decide", "on", "which", "notation", "should", "I", "use", "at", "the", "back", "end", "(", "which", "eventually", "will", "also", "affect", "the", "UI", "too", ")", ".", "#p", "Any", "thoughts/suggestion", "about", "performance", ",", "maintainability", "or", "scalability", "is", "appreciated", "."], "answer_count": 5, "question_id": 31469441}, {"tokens": ["#p", "It", "is", "a", "total", "opinion", "based", "question", ".", "There", "might", "be", "many", "other", "points", ",", "but", "I", "can", "point", "out", "as", "below", ".", "#p", "If", "I", "am", "not", "wrong", "then", "this", "will", "be", "implemented", "using", "<code>Map</code>", "on", "server", "side", ".", "#p", "In", "JavaScript", "you", "can", "directly", "use", "users.id1", ",", "users.id2", "i.e", ".", "no", "need", "of", "iteration", "#p", "On", "client", "side", ",", "some", "how", "you", "will", "require", "the", "ids", "present", "in", "your", "JSON", "i.e", ".", "either", "hard", "coding", "it", "or", "using", "some", "dynamic", "approach", "which", "will", "tell", "you", "which", "id", "is", "present", "in", "your", "JSON", "."], "answer_id": 31470302, "question_id": 31469441}, {"tokens": ["#p", "On", "the", "server", "side", ",", "Arrays", "are", "stored", "as", "simple", "Lists", ":", "<code>ArrayList&lt;Content&gt;</code>", ",", "while", "Objects", "are", "either", "stored", "as", "maps", ":", "<code>HashMap&lt;String, Content&gt;</code>", "or", ",", "mostly", ",", "as", "Java", "Objects", ".", "#p", "In", "order", "to", "convert", "Java", "Entities", "to", "and", "from", "JSON", ",", "you", "can", "take", "a", "look", "at", "the", "Jackson", "project", "which", "does", "all", "that", "for", "you", ".", "#p", "I", "would", "n't", "worry", "about", "any", "performance", "differences", "between", "those", "two", "variants", ".", "It", "'s", "more", "important", "to", "have", "an", "understandable", ",", "semantic", "API", ",", "so", "you", "should", "base", "your", "desicion", "on", "the", "business", "case", "rather", "than", "performance", ".", "#p", "Looking", "at", "your", "example", ",", "I", "think", "an", "<code>Array</code>", "is", "the", "better", "approach", ",", "since", "you", "want", "to", "return", "a", "list", "of", "users", "which", "are", "all", "equal", ".", "Sending", "the", "id", "twice", "makes", "no", "sense", "imho", "and", "increases", "the", "amount", "of", "data", "that", "has", "to", "be", "transmitted", ".", "#p", "Furthermore", ",", "since", "<code>Arrays</code>", "are", "much", "simpler", "to", "store", "and", "to", "iterate", "in", "Java", ",", "they", "should", "also", "provide", "better", "performance", "than", "Objects", ".", "#p", "#li", "Arrays", "preserve", "the", "order", "#li", "Arrays", "can", "contain", "duplicate", "entries", "#li", "Objects", "often", "have", "a", "bigger", "storage/network", "overhead", "#li", "Arrays", "are", "faster", "to", "iterate", "(", "on", "the", "server", "side", ")"], "answer_id": 31470532, "question_id": 31469441}, {"tokens": ["#p", "One", "big", "disadvantage", "of", "your", "first", "``", "JSON", "based", "''", "notation", "that", "comes", "to", "mind", "is", "that", "some", "frameworks", "will", "have", "problems", "with", "(", "de", ")", "serialization", "of", "this", ".", "For", "example", "the", "DataContractSerializer", "(", "C", "#", ".NET", ")", "will", "expect", "the", "fields", "<code>id1</code>", "and", "<code>id2</code>", "to", "be", "defined", "(", "hardcoded", ")", "in", "the", "class", "of", "your", "objects", "<code>users</code>", ".", "I", "'m", "not", "sure", "if", "this", "applies", "to", "some", "Java", "frameworks", ",", "too", ".", "Maybe", "the", "framework", "will", "you", "use", "can", "deserialze", "it", "as", "a", "HashMap", "instead", ".", "#p", "Altogether", "I", "'d", "find", "the", "array", "notation", "much", "more", "intuitive", "to", "work", "with", "when", "it", "comes", "to", "iteration", "etc", "."], "answer_id": 31509502, "question_id": 31469441}, {"tokens": ["#p", "You", "can", "use", "<code>object[property]</code>", "notation", "to", "access", "or", "set", "properties", "in", "an", "object", "in", "JavaScript", ".", "#p", "Go", "with", "approach", "at", "the", "backend", ",", "and", "convert", "the", "array", "to", "a", "map", "(", "as", "you", "refer", "to", "it", ")", "in", "the", "front", "end", ".", "#pre", "#p", "If", "your", "list", "changes", ",", "you", "can", "get", "the", "new", "list", "from", "backend", "and", "update", "your", "map", "in", "UI", ".", "#p", "This", "way", "your", "backend", "is", "faster", "to", "respond", "as", "it", "does", "not", "have", "to", "convert", "list", "to", "a", "map", ".", "Your", "front", "end", "will", "do", "a", "O", "(", "n", ")", "iteration", "over", "the", "list", "to", "convert", "it", "to", "a", "map", ".", "But", "that", "is", "a", "small", "price", "compared", "to", "O", "(", "n", ")", "you", "will", "pay", "every", "time", "you", "search", "on", "a", "list", ".", "#p", "If", "you", "will", "be", "doing", "get", "by", "id", "predominantly", "on", "your", "data", "at", "the", "back", "end", "go", "with", "at", "the", "backend", "itself", "(", "you", "can", "use", "<code>LinkedHashMap</code>", "to", "preserve", "order", ")", "."], "answer_id": 31620462, "question_id": 31469441}, {"tokens": ["#p", "Both", "approaches", "have", "their", "pros", "and", "cons", "and", "depends", "on", "what", "is", "it", "that", "you", "are", "looking", "at", ".", "#p", "The", "array", "approach", "is", "easy", "to", "serialize", "and", "is", "more", "'framework", "'", "friendly", "(", "you", "can", "add", "beans", "to", "a", "list", "and", "serialize", "the", "list", "and", "you", "are", "done", ")", ".", "This", "allows", ",", "for", "example", ",", "a", "web-container", "to", "return", "the", "response", "without", "requiring", "any", "customization", ".", "This", "is", "likely", "to", "be", "supported", "out-of-the-box", "by", "most", "frameworks", ".", "#p", "On", "the", "other", "hand", ",", "the", "object", "based", "approach", "is", "more", "difficult", "to", "generate", "(", "in", "relative", "terms", ")", "but", "its", "easier", "to", "lookup", "given", "the", "key", "is", "known", ".", "#p", "So", "for", "ease", "of", "implementation", "(", "by", "producer", ")", ",", "go", "for", "the", "array", "based", "approach", ".", "For", "ease", "of", "use", "(", "consumed", "by", "clients", ")", "go", "for", "object", "based", "approach", "."], "answer_id": 31629757, "question_id": 31469441}, {"tokens": ["#p", "I", "am", "looking", "for", "a", "component", "that", "would", "act", "as", "an", "event", "dispatcher", "for", "Android", "Analytics", "or", "for", "a", "whole", "custom", "Analytics", "solution", ".", "#p", "I", "found", "some", "pretty", "neat", "code", "from", "the", "recently", "released", "Parse", "Android", "SDK", ".", "#p", "Ideally", ",", "I", "would", "like", "to", "have", "something", "similar", "to", "what", "ARAnalytics", "is", ",", "plus", "some", "custom", "analytics/usage", "sender", "pointing", "to", "my", "service", ".", "#p", "Are", "there", "any", "production-ready", "components", "for", "that", "?"], "answer_count": 2, "question_id": 32097669}, {"tokens": ["#p", "If", "I", "understand", "correctly", ",", "you", "need", "to", "send", "extra", "events", "and", "perform", "custom", "post-processing", "on", "those", "events", ".", "#p", "You", "could", "use", "something", "like", "PIWIK", "to", "track", "your", "custom", "events", "locally", ".", "Then", "you", "'d", "need", "to", "write", "a", "glue", "between", "your", "server", "and", "PIWIK", "(", "or", "write", "the", "functionality", "you", "desire", "as", "a", "PIWIK", "module", ")", ".", "#p", "Alternatively", ",", "you", "could", "sent", "events", "to", "Mixpanel", "and", "export", "them", "periodically", "to", "your", "server", "(", "e.g", ".", "in", "a", "cronjob", ")", ".", "Then", ",", "your", "server", "can", "do", "whatever", "post-processing", "it", "needs", "to", "do", ".", "#p", "As", "a", "side", "note", ",", "when", "I", "was", "experimenting", "with", "Google", "Analytics", "and", "Mixpanel", ",", "I", "wrote", "an", "(", "opinionated", ")", "analytics", "wrapper", "with", "specific", "methods", "(", "e.g", ".", "<code>sendError(...)</code>", ",", "<code>sendTimeDelta(...)</code>", ")", "."], "answer_id": 33808995, "question_id": 32097669}, {"tokens": ["#p", "you", "can", "do", "like", "this", "#pre", "#p", "and", "also", "Google", "has", "introduced", "Firebase", "analytics", "google", "now", "recommends", "developer", "to", "use", "firebase", "refer", ":", "https", ":", "//firebase.google.com/docs/analytics/"], "answer_id": 38540557, "question_id": 32097669}, {"tokens": ["#p", "Encapsulation", "is", "hiding", "the", "data", ".", "I", "would", "like", "to", "hear", "some", "really", "interesting", "answers", "here", ".", "#p", "What", "is", "the", "point", "behind", "keeping", "variables", "as", "<code>private</code>", "when", "we", "already", "declare", "<code>public</code>", "setter", "methods", "for", "variables", ".", "#p", "I", "understand", "the", "usage", "of", "encapsulation", "but", "when", "we", "are", "making", "the", "setters", "as", "public", "what", "is", "the", "point", "behind", "keeping", "the", "variables", "as", "<code>private</code>", ",", "we", "can", "directly", "use", "<code>public</code>", "access", "modifiers", "#p", "Is", "it", "because", "we", "do", "not", "want", "others", "to", "know", "the", "exact", "way", "we", "are", "storing", "data", "or", "managing", "data", "on", "the", "back-end", "?"], "answer_count": 9, "question_id": 32603329}, {"tokens": ["#blockquote", "#p", "Yes", ",", "that", "'s", "the", "point", ".", "It", "is", "related", "to", "the", "concepts", "of", "and", "too", ".", "#p", "You", "provide", "a", "public", "setter", "that", "when", "invoked", "by", "the", "class", "client", "will", "have", "the", "effect", "that", "you", "have", "documented", ".", "It", "is", "none", "of", "the", "client", "'s", "business", "how", "this", "effect", "is", "actually", "achieved", ".", "Are", "you", "modifying", "one", "of", "the", "class", "attributes", "?", "Ok", ",", "let", "the", "client", "know", "that", ",", "but", "not", "the", "fact", "that", "you", "are", "actually", "modifying", "a", "variable", ".", "In", "the", "future", ",", "you", "could", "want", "to", "modify", "your", "class", "so", "that", "instead", "of", "a", "simple", "backup", "variable", "it", "uses", "something", "completely", "different", "(", "a", "dictionary", "of", "attributes", "?", "An", "external", "service", "?", "Whatever", "!", ")", "and", "the", "client", "will", "not", "break", ".", "#p", "So", "your", "setter", "is", "an", "that", "you", "provide", "to", "the", "client", "for", "``", "modify", "this", "class", "attribute", "''", ".", "At", "the", "same", "time", "you", "are", "the", "fact", "that", "you", "are", "using", "an", "internal", "variable", "because", "the", "client", "does", "n't", "need", "to", "know", "that", "fact", ".", "#p", "(", "Note", ":", "here", "I", "'m", "using", "the", "word", "``", "attribute", "''", "as", "a", "generic", "concept", ",", "not", "related", "to", "any", "concrete", "programming", "language", ")"], "answer_id": 32603593, "question_id": 32603329}, {"tokens": ["#p", "More", "or", "less", "simple", "and", "realistic", "example", "I", "encountered", "in", "practice", "is", "an", "<code>Options</code>", "class", ",", "which", "has", "a", "lot", "of", "setters", "and", "getters", ".", "At", "some", "point", "you", "might", "want", "to", "add", "new", "option", "which", "depends", "on", "others", "or", "has", "side", "effects", ".", "Or", "even", "replace", "group", "of", "options", "with", "<code>Enum</code>", ".", "In", "this", "case", "<code>setA</code>", "function", "will", "not", "just", "modify", "<code>a</code>", "field", ",", "but", "will", "hide", "some", "additional", "configuration", "logic", ".", "Similarly", "<code>getA</code>", "will", "not", "just", "return", "value", "of", "<code>a</code>", ",", "but", "something", "like", "<code>config == cStuffSupportingA</code>", "."], "answer_id": 32604301, "question_id": 32603329}, {"tokens": ["#p", "Although", "Konamiman", "'s", "answer", "is", "spot", "on", ",", "I", "'d", "like", "to", "add", "that", ",", "in", "the", "particular", "case", "of", "public", "setters", "versus", "directly", "exposing", "public", "fields", "you", "are", "asking", ",", "there", "is", "another", "very", "important", "distinction", "to", "keep", "in", "mind", "apart", "from", "and", "implementation", "from", "the", "public", "surface", ",", "or", ",", "of", "a", "class", ";", ".", "#p", "In", "a", "public", "field", "scenario", ",", "there", "is", "no", "way", "to", "validate", "the", "field", "'s", "value", "when", "it", "'s", "modified", ".", "In", "case", "of", "a", "public", "setter", "(", "be", "it", "a", "<code>Foo {get; set;}</code>", "property", "or", "a", "<code>SetFoo(Foo value)</code>", ")", "method", "you", "have", "the", "possibility", "to", "add", "validation", "code", "and", "launch", "required", "side-effects", "and", "this", "way", "ensure", "that", "your", "class", "is", "always", "in", "a", "valid", "or", "predictable", "state", "."], "answer_id": 32605059, "question_id": 32603329}, {"tokens": ["#p", "Because", "by", "encapsulation", "we", "provide", "single", "point", "of", "access", ".", "Suppose", "you", "define", "a", "variable", "and", "its", "setter", "as", "follows", "#pre", "#p", "Later", "you", "like", "to", "add", "some", "validation", "before", "setting", "username", "property", ".", "If", "you", "are", "setting", "the", "username", "at", "10", "places", "by", "directly", "accessing", "the", "property", "then", "you", "do", "n't", "have", "single", "point", "of", "access", "and", "you", "need", "to", "make", "this", "change", "at", "10", "places", ".", "But", "if", "you", "have", "one", "setter", "method", "then", "by", "making", "a", "change", "at", "one", "place", "you", "can", "easily", "achieve", "the", "result", "."], "answer_id": 32605578, "question_id": 32603329}, {"tokens": ["#p", "I", "fully", "agree", "with", "Konamiman", "'s", "answer", ",", "but", "I", "'d", "like", "to", "add", "one", "thing", ":", "#p", "There", "are", "cases", "where", "you", ".", "And", "that", "'s", "fine", ".", "#p", "A", "simple", "example", "I", "like", "to", "use", "here", "is", "a", "class", "for", "a", "3-dimensional", "float", "vector", ":", "#pre", "#p", "Could", "you", "make", "those", "fields", "private", "and", "provide", "setters", "instead", "?", "Sure", ",", "you", "could", ".", "But", "here", "you", "might", "argue", "that", "the", "class", "is", "really", "just", "supposed", "to", "provide", "a", "tuple", "of", "floats", "and", "you", "do", "n't", "want", "any", "additional", "functionality", ".", "Thus", "adding", "setters", "would", "only", "complicate", "the", "class", "and", "you", "'d", "rather", "leave", "the", "fields", "public", ".", "#p", "Now", ",", "you", "can", "easily", "construct", "scenarios", "where", "that", "might", "bite", "you", "later", "on", ".", "For", "instance", ",", "you", "might", "one", "day", "get", "a", "requirement", "that", "<code>Vector3f</code>", "s", "are", "not", "allowed", "to", "store", "<code>NaN</code>", "s", "and", "should", "throw", "an", "exception", "if", "anyone", "tries", "to", "do", "so", ".", "But", "such", "a", "hypothetical", "future", "problem", "should", "not", "be", "enough", "to", "justify", "introducing", "additional", "abstractions", ".", "#p", "It", "'s", "call", "as", "a", "programmer", "to", "decide", "which", "abstractions", "make", "sense", "for", "the", "problem", "at", "hand", "and", "which", "ones", "would", "only", "get", "in", "your", "way", "of", "getting", "the", "job", "done", ".", "Unnecessary", "abstractions", "are", "over-engineering", "and", "will", "hurt", "your", "productivity", "just", "as", "much", "as", "not", "abstracting", "enough", ".", "#p", "Bottom", "line", ":", "Do", "n't", "blindly", "use", "setters", "everywhere", "just", "because", "someone", "claimed", "that", "'s", "good", "practice", ".", "Instead", ",", "think", "about", "the", "problem", "at", "hand", "and", "consider", "the", "tradeoffs", "."], "answer_id": 32606545, "question_id": 32603329}, {"tokens": ["#p", "What", "if", "you", "do", "want", "to", "a", "range", "check", "before", "assignment", "?", "That", "'s", "one", "of", "the", "cases", "I", "use", "setters", "and", "getters"], "answer_id": 32606918, "question_id": 32603329}, {"tokens": ["#p", "Wikipedia", "has", "a", "good", "overview", "of", "[", "mutator", "methods", "(", "https", ":", "//en.wikipedia.org/wiki/Mutator_method", ")", ",", "which", "is", "what", "setter", "methods", "are", "and", "how", "they", "work", "in", "different", "languages", ".", "#p", "The", "short", "version", ":", "if", "you", "want", "to", "introduce", "validation", "or", "other", "logic", "that", "gets", "executed", "on", "object", "modification", "it", "is", "nice", "to", "have", "a", "setter", "to", "put", "that", "logic", "in", ".", "Also", "you", "may", "want", "to", "hide", "how", "you", "store", "things", ".", "So", ",", "those", "are", "reasons", "for", "having", "getters/setters", ".", "Similarly", ",", "for", "getters", ",", "you", "might", "have", "logic", "that", "provides", "default", "values", "or", "values", "that", "are", "dependent", "on", "e.g", ".", "configuration", "for", "things", "like", "Locale", ",", "character", "encoding", ",", "etc", ".", "There", "are", "lots", "of", "valid", "reasons", "to", "want", "to", "have", "logic", "other", "than", "getting", "or", "setting", "the", "instance", "variable", ".", "#p", "Obviously", ",", "if", "you", "have", "getters", "and", "setteres", ",", "you", "do", "n't", "want", "people", "bypassing", "them", "by", "manipulating", "the", "object", "state", "directly", ",", "which", "is", "why", "you", "should", "keep", "instance", "variables", "private", ".", "#p", "Other", "things", "to", "consider", "include", "whether", "you", "actually", "want", "your", "objects", "to", "be", "mutable", "at", "all", "(", "if", "not", ",", "make", "fields", "final", ")", ",", "whether", "you", "want", "to", "make", "modifying", "the", "object", "state", "threadsafe", "with", "e.g", ".", "locks", ",", "synchronized", ",", "etc", "."], "answer_id": 32607764, "question_id": 32603329}, {"tokens": ["#p", "Setting", "fields", "as", "private", "documents", "a", "powerful", "fact", ":", "these", "private", "fields", "are", "only", "directly", "used", "within", "the", "current", "class", ".", "This", "helps", "maintainers", "by", "not", "having", "to", "track", "down", "field", "usage", ".", "They", "can", "reason", "better", "on", "the", "code", "by", "looking", "at", "the", "class", "and", "determining", "that", "the", "effects", "on", "and", "from", "these", "fields", "with", "the", "class", "'", "environment", "go", "through", "public", "and", "protected", "method", "calls", ".", "It", "limits", "the", "exposure", "surface", "on", "the", "class", ".", "#p", "In", "turn", ",", "defining", "a", "``", "setter", "''", "for", "a", "private", "field", "is", "not", "about", "giving", "it", "publicity", "again", ".", "It", "is", "about", "declaring", "another", "powerful", "fact", ":", "an", "belonging", "to", "this", "class", "has", "a", "that", "can", "be", "modified", "from", "the", "outside", ".", "(", "The", "terms", "and", "are", "used", "in", "the", "sense", "of", "and", ",", "not", "in", "the", "OOP", "sense", ")", "#p", "Why", "then", "declare", "a", "``", "setter", "''", "on", "a", "field", "when", "making", "the", "field", "public", "would", "suffice", "?", "Because", "a", "field", "not", "only", "binds", "a", "name", "to", "a", "of", "the", "of", "the", "class", ",", "but", "also", "commits", "to", "use", "memory", "storage", "for", "this", "property", ".", "#p", "Therefore", ",", "if", "you", "declare", "a", "``", "private", "field", "with", "a", "setter", "''", ",", "you", "declare", "three", "things", ":", "#li", "You", "declare", "that", "the", "name", "you", "gave", "to", "the", "field/setter", "cluster", "represents", "a", "of", "the", "object", "which", "is", "of", "interest", "when", "the", "object", "is", "seen", "as", "a", "black", "box", ".", "#li", "You", "declare", "that", "the", "value", "of", "this", "is", "modifiable", "by", "the", "environment", "of", "the", "object", ".", "#li", "You", "declare", "that", "in", "this", "particular", "concrete", "class", ",", "the", "of", "the", "object", "is", "realized", "by", "committing", "some", "memory", "storage", "to", "it", ".", "#p", "I", "advocate", "that", "you", "make", "your", "fields", "private", "with", "getters", "and", "setters", "indiscriminately", ".", "Fields", "are", "for", "describing", "storage", ".", "Methods", "are", "for", "interactions", "with", "the", "environment", ".", "(", "And", "the", "particular", "case", "of", "``", "getters", "''", "and", "``", "setters", "''", "are", "for", "describing", "of", "interest", ")"], "answer_id": 32607882, "question_id": 32603329}, {"tokens": ["#p", "Think", "about", "this", ":", "I", "'m", "representing", "a", "real", "life", "object", ",", "a", "Lion", "through", "a", "class", ".", "I", "'d", "do", "something", "like", "this", ".", "#pre", "#p", "Now", "my", "class", "is", "needed", "by", "some", "other", "developer", "to", "create", "an", "object", "and", "set", "its", "legs", "field", ".", "He", "'d", "do", "something", "like", "this", "#pre", "#p", "Now", "the", "question", "is", ",", "Java", "wo", "n't", "restrict", "him", "to", "setting", "any", "number", "more", "than", "4", "as", "the", "number", "of", "legs", "for", "that", "object", ".", "It", "'s", "not", "an", "error", ",", "and", "it", "'ll", "run", "just", "fine", ".", "But", "it", "'s", "a", "logical", "blunder", ",", "and", "the", "compiler", "wo", "n't", "help", "you", "there", ".", "This", "way", "a", "Lion", "may", "have", "any", "number", "of", "legs", ".", "But", "if", "we", "write", "the", "code", "this", "way", "#pre", "#p", "Now", "you", "wo", "n't", "have", "any", "Lion", "with", "more", "than", "4", "legs", "because", "the", "policy", "of", "updating", "the", "fields", "of", "the", "class", "has", "been", "defined", "by", "the", "class", "itself", "and", "there", "'s", "no", "way", "anyone", "not", "knowing", "the", "policy", "is", "going", "to", "update", "the", "legs", "field", "because", "the", "only", "way", "to", "update", "the", "legs", "field", "is", "through", "the", "setLegs", "(", ")", "method", "and", "that", "method", "knows", "the", "policy", "of", "the", "class", "."], "answer_id": 32609318, "question_id": 32603329}]}