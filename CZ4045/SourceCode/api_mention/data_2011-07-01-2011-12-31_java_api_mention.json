{"items": [{"body": "<p>If I run the following program, which parses two date strings referencing times one second apart and compares them:</p>\n\n<pre><code>public static void main(String[] args) throws ParseException {\n    SimpleDateFormat sf = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");  \n    String str3 = \"1927-12-31 23:54:07\";  \n    String str4 = \"1927-12-31 23:54:08\";  \n    Date sDt3 = sf.parse(str3);  \n    Date sDt4 = sf.parse(str4);  \n    long ld3 = sDt3.getTime() /1000;  \n    long ld4 = sDt4.getTime() /1000;\n    System.out.println(ld4-ld3);\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>353\n</code></pre>\n\n<p>Why is <code>ld4-ld3</code> not <code>1</code> (as I would expect from the one-second difference in the times), but <code>353</code>?</p>\n\n<p>If I change the dates to times one second later:</p>\n\n<pre><code>String str3 = \"1927-12-31 23:54:08\";  \nString str4 = \"1927-12-31 23:54:09\";  \n</code></pre>\n\n<p>Then <code>ld4-ld3</code> will be <code>1</code>.</p>\n\n<hr>\n\n<p>Java version:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>java version \"1.6.0_22\"\nJava(TM) SE Runtime Environment (build 1.6.0_22-b04)\nDynamic Code Evolution Client VM (build 0.2-b02-internal, 19.0-b04-internal, mixed mode)\n</code></pre>\n\n<p>Timezone(<code>TimeZone.getDefault()</code>):</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>sun.util.calendar.ZoneInfo[id=\"Asia/Shanghai\",\noffset=28800000,dstSavings=0,\nuseDaylight=false,\ntransitions=19,\nlastRule=null]\n\nLocale(Locale.getDefault()): zh_CN\n</code></pre>\n", "title": "Why is subtracting these two times (in 1927) giving a strange result?", "tags": ["java", "date", "timezone"], "link": "http://stackoverflow.com/questions/6841333/why-is-subtracting-these-two-times-in-1927-giving-a-strange-result", "post_type": "question", "question_id": 6841333}, {"body": "<p>I got a simple question in Java: How can I convert a <code>String</code> that was obtained by <code>Long.toString()</code> to <code>long</code>?</p>\n", "title": "How to convert String to long in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/7693324/how-to-convert-string-to-long-in-java", "post_type": "question", "question_id": 7693324}, {"body": "<p>I wanted to clarify if I understand this correctly:</p>\n\n<ul>\n<li><code>==</code> -> is a reference comparison, i.e. both objects point to the same memory location</li>\n<li><code>.equals()</code> -> evaluates to the comparison of values in the objects</li>\n</ul>\n\n<p>Am I correct in my understanding ?</p>\n", "title": "What is the difference between == vs equals() in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/7520432/what-is-the-difference-between-vs-equals-in-java", "post_type": "question", "question_id": 7520432}, {"body": "<p>Which of the following is the best and most portable way to get the hostname of the current computer in Java?</p>\n\n<p><code>Runtime.getRuntime().exec(\"hostname\")</code> </p>\n\n<p>vs </p>\n\n<p><code>InetAddress.getLocalHost().getHostName()</code></p>\n", "title": "Recommended way to get hostname in Java", "tags": ["java", "network-programming", "environment-variables", "hostname"], "link": "http://stackoverflow.com/questions/7348711/recommended-way-to-get-hostname-in-java", "post_type": "question", "question_id": 7348711}, {"body": "<p>What is the best way to use the values stored in an Enum as String literals?\nFor example:</p>\n\n<pre><code>public enum Modes {\n    some-really-long-string,\n    mode2,\n    mode3\n}\n</code></pre>\n\n<p>Then later I could use <code>Mode.mode1</code> to return its string representation as <code>mode1</code>. Without having to keep calling <code>Mode.model.toString()</code>.</p>\n", "title": "Using Enum values as String literals", "tags": ["java", "string", "enums"], "link": "http://stackoverflow.com/questions/6667243/using-enum-values-as-string-literals", "post_type": "question", "question_id": 6667243}, {"body": "<p>Note: I am aware of the <code>Iterator#remove()</code> method.</p>\n\n<p>In the following code sample, I don't understand why the <code>List.remove</code> in <code>main</code> method throws <code>ConcurrentModificationException</code> but not in the <code>remove</code> method.</p>\n\n<pre><code>public class RemoveListElementDemo {    \n    private static final List&lt;Integer&gt; integerList;\n\n    static {\n        integerList = new ArrayList&lt;Integer&gt;();\n        integerList.add(1);\n        integerList.add(2);\n        integerList.add(3);\n    }\n\n    public static void remove(Integer toRemove) {\n        for(Integer integer : integerList) {\n            if(integer.equals(toRemove)) {                \n                integerList.remove(integer);\n            }\n        }\n    }\n\n    public static void main(String... args) {                \n        remove(Integer.valueOf(2));\n\n        Integer toRemove = Integer.valueOf(3);\n        for(Integer integer : integerList) {\n            if(integer.equals(toRemove)) {                \n                integerList.remove(integer);\n            }\n        }\n    }\n}\n</code></pre>\n", "title": "java.util.ConcurrentModificationException", "tags": ["java", "list", "concurrentmodification", "foreach"], "link": "http://stackoverflow.com/questions/8189466/java-util-concurrentmodificationexception", "post_type": "question", "question_id": 8189466}, {"body": "<p>Assuming that <code>arraylist</code> is defined as <code>ArrayList&lt;String&gt; arraylist</code>, is <a href=\"http://developer.android.com/reference/java/util/AbstractCollection.html#removeAll%28java.util.Collection%3C?%3E%29\"><code>arraylist.removeAll(arraylist)</code></a> equivalent to <a href=\"http://developer.android.com/reference/java/util/ArrayList.html#clear%28%29\"><code>arraylist.clear()</code></a>?</p>\n\n<p>If so, can I assume that the <code>clear()</code> method is more efficient for emptying the array list?</p>\n\n<p>Are there any caveats in using <code>arraylist.removeAll(arraylist)</code> instead of <code>arraylist.clear()</code>?</p>\n", "title": "What is the difference between ArrayList.clear() and ArrayList.removeAll()?", "tags": ["java", "arraylist"], "link": "http://stackoverflow.com/questions/7032070/what-is-the-difference-between-arraylist-clear-and-arraylist-removeall", "post_type": "question", "question_id": 7032070}, {"body": "<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/3796121/trim-whitespace-from-a-string\">trim whitespace from a string?</a>  </p>\n</blockquote>\n\n\n\n<p>Is there a convenience method to strip any leading or trailing spaces from a Java String?</p>\n\n<p>Something like:</p>\n\n<pre><code>String myString = \"  keep this  \";\nString stripppedString = myString.strip();\nSystem.out.println(\"no spaces:\" + strippedString);\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>no spaces:keep this\n</code></pre>\n\n<p><code>myString.replace(\" \",\"\")</code> would replace the space between keep and this.</p>\n\n<p>Thanks</p>\n", "title": "Strip Leading and Trailing Spaces From Java String", "tags": ["java", "string", "replace"], "link": "http://stackoverflow.com/questions/6652687/strip-leading-and-trailing-spaces-from-java-string", "post_type": "question", "question_id": 6652687}, {"body": "<p>I wonder what the difference is between <code>Class.getResource()</code> and <code>ClassLoader.getResource()</code>?</p>\n\n<p><em>edit: I especially want to know if any caching is involved on file/directory level. As in \"are directory listings cached in the Class version?\"</em></p>\n\n<p>AFAIK the following should essentially do the same, but they are not:</p>\n\n<pre><code>getClass().getResource() \ngetClass().getClassLoader().getResource()\n</code></pre>\n\n<p>I discovered this when fiddling with some report generation code that creates a new file in <code>WEB-INF/classes/</code> from an existing file in that directory. When using the method from Class, I could find files that were there at deployment using <code>getClass().getResource()</code>, but when trying to fetch the newly created file, I recieved a null object. Browsing the directory clearly shows that the new file is there. The filenames were prepended with a forward slash as in \"/myFile.txt\".</p>\n\n<p>The <code>ClassLoader</code> version of <code>getResource()</code> on the other hand did find the generated file. From this experience it seems that there is some kind of caching of the directory listing going on. Am I right, and if so, where is this documented?</p>\n\n<p>From the <a href=\"http://download.oracle.com/javase/1,5.0/docs/api/java/lang/Class.html#getResource%28java.lang.String%29\">API docs</a> on <code>Class.getResource()</code></p>\n\n<blockquote>\n  <p>Finds a resource\n  with a given name. The rules for\n  searching resources associated with a\n  given class are implemented by the\n  defining class loader of the class.\n  This method delegates to this object's\n  class loader. If this object was\n  loaded by the bootstrap class loader,\n  the method delegates to\n  ClassLoader.getSystemResource(java.lang.String).</p>\n</blockquote>\n\n<p>To me, this reads \"Class.getResource is really calling its own classloader's getResource()\". Which would be the same as doing <code>getClass().getClassLoader().getResource()</code>. But it is obviously not. Could someone please provide me with some illumination into this matter?</p>\n", "title": "What is the difference between Class.getResource() and ClassLoader.getResource()?", "tags": ["java", "classloader", "getresource"], "link": "http://stackoverflow.com/questions/6608795/what-is-the-difference-between-class-getresource-and-classloader-getresource", "post_type": "question", "question_id": 6608795}, {"body": "<p>I have prepared a simple code snippet in order to separate the erroneous portion from my web application.</p>\n\n<pre><code>public class Main {\n\n    public static void main(String[] args) throws IOException {\n        System.out.print(\"\\nEnter a string:-&gt;\");\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        String temp = br.readLine();\n\n        String words[] = temp.split(\".\");\n\n        for (int i = 0; i &lt; words.length; i++) {\n            System.out.println(words[i] + \"\\n\");\n        }\n    }\n}\n</code></pre>\n\n<p>I have tested it while building a web application JSF. I just want to know why in the above code <code>temp.split(\".\")</code> does not work. The statement,</p>\n\n<pre><code>System.out.println(words[i]+\"\\n\"); \n</code></pre>\n\n<p>displays nothing on the console means that it doesn't go through the loop. When I change the argument of the <code>temp.split()</code> method to other characters, It works just fine as usual. What might be the problem?</p>\n", "title": "The split() method in Java does not work on a dot (.)", "tags": ["java", "string", "split"], "link": "http://stackoverflow.com/questions/7935858/the-split-method-in-java-does-not-work-on-a-dot", "post_type": "question", "question_id": 7935858}, {"body": "<p>As explained by others, there's a time discontinuity there. There are two possible timezone offsets for <code>1927-12-31 23:54:08</code> at <code>Asia/Shanghai</code>, but only one offset for <code>1927-12-31 23:54:07</code>. So, depending on which offset is used, there's either a one second difference or a 5 minutes and 53 seconds difference.</p>\n\n<p>This slight shift of offsets, instead of the usual one-hour daylight savings (summer time) we are used to, obscures the problem a bit.</p>\n\n<p>Note that the 2013a update of the timezone database moved this discontinuity a few seconds earlier, but the effect would still be observable.</p>\n\n<p>The new <code>java.time</code> package on Java 8 let use see this more clearly, and provide tools to handle it. Given:</p>\n\n<pre><code>DateTimeFormatterBuilder dtfb = new DateTimeFormatterBuilder();\ndtfb.append(DateTimeFormatter.ISO_LOCAL_DATE);\ndtfb.appendLiteral(' ');\ndtfb.append(DateTimeFormatter.ISO_LOCAL_TIME);\nDateTimeFormatter dtf = dtfb.toFormatter();\nZoneId shanghai = ZoneId.of(\"Asia/Shanghai\");\n\nString str3 = \"1927-12-31 23:54:07\";  \nString str4 = \"1927-12-31 23:54:08\";  \n\nZonedDateTime zdt3 = LocalDateTime.parse(str3, dtf).atZone(shanghai);\nZonedDateTime zdt4 = LocalDateTime.parse(str4, dtf).atZone(shanghai);\n\nDuration durationAtEarlierOffset = Duration.between(zdt3.withEarlierOffsetAtOverlap(), zdt4.withEarlierOffsetAtOverlap());\n\nDuration durationAtLaterOffset = Duration.between(zdt3.withLaterOffsetAtOverlap(), zdt4.withLaterOffsetAtOverlap());\n</code></pre>\n\n<p>Then <code>durationAtEarlierOffset</code> will be one second, while <code>durationAtLaterOffset</code> will be five minutes and 53 seconds.</p>\n\n<p>Also, these two offsets are the same:</p>\n\n<pre><code>// Both have offsets +08:05:52\nZoneOffset zo3Earlier = zdt3.withEarlierOffsetAtOverlap().getOffset();\nZoneOffset zo3Later = zdt3.withLaterOffsetAtOverlap().getOffset();\n</code></pre>\n\n<p>But these two are different:</p>\n\n<pre><code>// +08:05:52\nZoneOffset zo4Earlier = zdt4.withEarlierOffsetAtOverlap().getOffset();\n\n// +08:00\nZoneOffset zo4Later = zdt4.withLaterOffsetAtOverlap().getOffset();\n</code></pre>\n\n<p>You can see the same problem comparing <code>1927-12-31 23:59:59</code> with <code>1928-01-01 00:00:00</code>, though, in this case, it is the earlier offset that produce the longer divergence, and it is the earlier date that has two possible offsets.</p>\n\n<p>Another way to approach this is to check whether there's a transition going on. We can do this like this:</p>\n\n<pre><code>// Null\nZoneOffsetTransition zot3 = shanghai.getRules().getTransition(ld3.toLocalDateTime);\n\n// An overlap transition\nZoneOffsetTransition zot4 = shanghai.getRules().getTransition(ld3.toLocalDateTime);\n</code></pre>\n\n<p>You can check whether the transition is an overlap - in which case there's more than one valid offset for that date/time - or a gap - in which case that date/time is not valid for that zone id - by using the <code>isOverlap()</code> and <code>isGap()</code> methods on <code>zot4</code>.</p>\n\n<p>I hope this helps people handle this sort of issue once Java 8 becomes widely available, or to those using Java 7 who adopt the JSR 310 backport.</p>\n", "title": "Why is subtracting these two times (in 1927) giving a strange result?", "tags": ["java", "date", "timezone"], "link": "http://stackoverflow.com/questions/6841333/why-is-subtracting-these-two-times-in-1927-giving-a-strange-result/20906129#20906129", "post_type": "answer", "question_id": 6841333, "answer_id": 20906129}, {"body": "<p>You can use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#toString-char-\"><code>Character.toString(char)</code></a>. Note that this method simply returns a call to <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#valueOf-char-\"><code>String.valueOf(char)</code></a>, which also works.</p>\n\n<p>As others have noted, string concatenation works as a shortcut as well:</p>\n\n<pre><code>String s = \"\" + 's';\n</code></pre>\n\n<p>But this compiles down to:</p>\n\n<pre><code>String s = new StringBuilder().append(\"\").append('s').toString();\n</code></pre>\n\n<p>which is less efficient because the <code>StringBuilder</code> is backed by a <code>char[]</code> (over-allocated by <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/lang/StringBuilder.java#StringBuilder.%3Cinit%3E%28%29\"><code>StringBuilder()</code></a> to <code>16</code>), only for that array to be defensively copied by the resulting <code>String</code>.</p>\n\n<p><code>String.valueOf(char)</code> \"gets in the back door\" by wrapping the <code>char</code> in a single-element array and passing it to the package private constructor <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/lang/String.java#String.%3Cinit%3E%28char%5B%5D%2Cboolean%29\"><code>String(char[], boolean)</code></a>, which avoids the array copy.</p>\n", "title": "How to convert a char to a string in Java?", "tags": ["java", "string", "char", "type-conversion"], "link": "http://stackoverflow.com/questions/8172420/how-to-convert-a-char-to-a-string-in-java/8172439#8172439", "post_type": "answer", "question_id": 8172420, "answer_id": 8172439}, {"body": "<p>Try this: <code>Character.toString(aChar)</code> or just this: <code>aChar + \"\"</code></p>\n", "title": "How to convert a char to a string in Java?", "tags": ["java", "string", "char", "type-conversion"], "link": "http://stackoverflow.com/questions/8172420/how-to-convert-a-char-to-a-string-in-java/8172444#8172444", "post_type": "answer", "question_id": 8172420, "answer_id": 8172444}, {"body": "<p>Nice question. I've got of the following <strike>five</strike> 6 methods to do it.</p>\n\n<pre><code>1. String stringValueOf = String.valueOf('c'); // most efficient\n\n2. String stringValueOfCharArray = String.valueOf(new char[]{x});\n\n3. String characterToString = Character.toString('c');\n\n4. String characterObjectToString = new Character('c').toString();\n\n   // Although this method seems very simple, \n   // this is less efficient because the concatenation\n   // expands to new StringBuilder().append(x).append(\"\").toString();\n5. String concatBlankString = 'c' + \"\";\n\n6. String fromCharArray = new String(new char[]{x});\n</code></pre>\n\n<blockquote>\n  <p>Note: <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Character.java#Character.toString%28char%29\">Character.toString(char)</a> returns <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/String.java#String.valueOf%28char%29\">String.valueOf(char)</a>. So effectively both are same.</p>\n</blockquote>\n\n<p><code>String.valueOf(char[] value)</code> invokes <code>new String(char[] value)</code>, which in turn sets the <code>value</code> char array.</p>\n\n<pre><code>public String(char value[]) {\n    this.value = Arrays.copyOf(value, value.length);\n}\n</code></pre>\n\n<p>On the other hand <code>String.valueOf(char value)</code> invokes the following <strong>package private constructor.</strong></p>\n\n<pre><code>String(char[] value, boolean share) {\n    // assert share : \"unshared not supported\";\n    this.value = value;\n}\n</code></pre>\n\n<p><em>Source code from <code>String.java</code> in <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/lang/String.java\">Java 8 source code</a></em></p>\n\n<blockquote>\n  <p>Hence <code>String.valueOf(char)</code> seems to be most efficient method, in terms of both memory and speed, for converting <code>char</code> to <code>String</code>.</p>\n</blockquote>\n\n<ol>\n<li><a href=\"http://deepumohan.com/tech/2013/03/26/java-how-to-convert-primitive-char-to/\">Java :: How to convert primitive char to String in Java</a></li>\n<li><a href=\"http://javarevisited.blogspot.in/2012/02/how-to-convert-char-to-string-in-java.html\">How to convert Char to String in Java with Example</a></li>\n</ol>\n", "title": "How to convert a char to a string in Java?", "tags": ["java", "string", "char", "type-conversion"], "link": "http://stackoverflow.com/questions/8172420/how-to-convert-a-char-to-a-string-in-java/15633542#15633542", "post_type": "answer", "question_id": 8172420, "answer_id": 15633542}, {"body": "<p>We have various ways to convert a <code>char</code> to <code>String</code>. <strong>One</strong> way is to make use of static method <code>toString()</code> in <code>Character</code> class:</p>\n\n<pre><code>char ch = 'I'; \nString str1 = Character.toString(ch);\n</code></pre>\n\n<p>Actually this <code>toString</code> method internally makes use of <code>valueOf</code> method from <code>String</code> class which makes use of char array:</p>\n\n<pre><code>public static String toString(char c) {\n    return String.valueOf(c);\n}\n</code></pre>\n\n<p>So <strong>second</strong> way is to use this directly:</p>\n\n<pre><code>String str2 = String.valueOf(ch);\n</code></pre>\n\n<p>This <code>valueOf</code> method in <code>String</code> class makes use of char array:</p>\n\n<pre><code>public static String valueOf(char c) {\n        char data[] = {c};\n        return new String(data, true);\n}\n</code></pre>\n\n<p>So the <strong>third</strong> way is to make use of an anonymous array to wrap a single character and then passing it to <code>String</code> constructor:</p>\n\n<pre><code>String str4 = new String(new char[]{ch});\n</code></pre>\n\n<p>The <strong>fourth</strong> way is to make use of concatenation:</p>\n\n<pre><code>String str3 = \"\" + ch;\n</code></pre>\n\n<p>This will actually make use of <code>append</code> method from <code>StringBuilder</code> class which is actually preferred when we are doing concatenation in a loop. </p>\n", "title": "How to convert a char to a string in Java?", "tags": ["java", "string", "char", "type-conversion"], "link": "http://stackoverflow.com/questions/8172420/how-to-convert-a-char-to-a-string-in-java/32174377#32174377", "post_type": "answer", "question_id": 8172420, "answer_id": 32174377}, {"body": "<p>There is no direct way to do this - Java has no Map literals (yet - I think they were proposed for Java 8).</p>\n\n<p>Some people like this:</p>\n\n<pre><code>Map&lt;String,String&gt; test = new HashMap&lt;String, String&gt;(){{\n       put(\"test\",\"test\"); put(\"test\",\"test\");}};\n</code></pre>\n\n<p>This creates an anonymous subclass of HashMap, whose instance initializer puts these values. (By the way, a map can't contain twice the same value, your second put will overwrite the first one. I'll use different values for the next examples.)</p>\n\n<p>The normal way would be this (for a local variable):</p>\n\n<pre><code>Map&lt;String,String&gt; test = new HashMap&lt;String, String&gt;();\ntest.put(\"test\",\"test\");\ntest.put(\"test1\",\"test2\");\n</code></pre>\n\n<p>If your <code>test</code> map is an instance variable, put the initialization in a constructor or instance initializer:</p>\n\n<pre><code>Map&lt;String,String&gt; test = new HashMap&lt;String, String&gt;();\n{\n    test.put(\"test\",\"test\");\n    test.put(\"test1\",\"test2\");\n}\n</code></pre>\n\n<p>If your <code>test</code> map is a class variable, put the initialization in a static initializer:</p>\n\n<pre><code>static Map&lt;String,String&gt; test = new HashMap&lt;String, String&gt;();\nstatic {\n    test.put(\"test\",\"test\");\n    test.put(\"test1\",\"test2\");\n}\n</code></pre>\n\n<p>If you want your map to never change, you should after the initialization wrap your map by <code>Collections.unmodifiableMap(...)</code>. You can do this in a static initializer too:</p>\n\n<pre><code>static Map&lt;String,String&gt; test;\n{\n    Map&lt;String,String&gt; temp = new HashMap&lt;String, String&gt;();\n    temp.put(\"test\",\"test\");\n    temp.put(\"test1\",\"test2\");\n    test = Collections.unmodifiableMap(temp);\n}\n</code></pre>\n\n<p>(I'm not sure if you can now make <code>test</code> final ... try it out and report here.)</p>\n", "title": "How to directly initialize a HashMap (in a literal way)?", "tags": ["java", "collections", "map", "initialization"], "link": "http://stackoverflow.com/questions/6802483/how-to-directly-initialize-a-hashmap-in-a-literal-way/6802523#6802523", "post_type": "answer", "question_id": 6802483, "answer_id": 6802523}, {"body": "<p>Two steps: </p>\n\n<ol>\n<li><code>String [] items = commaSeparated.split(\",\");</code></li>\n<li><code>List&lt;String&gt; container = Arrays.asList(items);</code></li>\n</ol>\n", "title": "How to convert comma-separated String to ArrayList?", "tags": ["java", "string", "collections", "split"], "link": "http://stackoverflow.com/questions/7488643/how-to-convert-comma-separated-string-to-arraylist/7488669#7488669", "post_type": "answer", "question_id": 7488643, "answer_id": 7488669}, {"body": "<p>You can first split them using <code>String.split(\",\")</code>, and then convert the returned String <code>array</code> to an <code>ArrayList</code> using <code>Arrays.asList(array)</code></p>\n", "title": "How to convert comma-separated String to ArrayList?", "tags": ["java", "string", "collections", "split"], "link": "http://stackoverflow.com/questions/7488643/how-to-convert-comma-separated-string-to-arraylist/7488683#7488683", "post_type": "answer", "question_id": 7488643, "answer_id": 7488683}, {"body": "<p><code>Arrays.asList</code> returns a fixed-size <code>List</code> backed by the array. If you want a normal mutable <code>java.util.ArrayList</code> you need to do this:</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(string.split(\" , \")));\n</code></pre>\n\n<p>Or, using <a href=\"http://guava-libraries.googlecode.com\">Guava</a>:</p>\n\n<pre><code>List&lt;String&gt; list = Lists.newArrayList(Splitter.on(\" , \").split(string));\n</code></pre>\n\n<p>Using a <code>Splitter</code> gives you more flexibility in how you split the string and gives you the ability to, for example, skip empty strings in the results and trim results. It also has less weird behavior than <code>String.split</code> as well as not requiring you to split by regex (that's just one option).</p>\n", "title": "How to convert comma-separated String to ArrayList?", "tags": ["java", "string", "collections", "split"], "link": "http://stackoverflow.com/questions/7488643/how-to-convert-comma-separated-string-to-arraylist/7488710#7488710", "post_type": "answer", "question_id": 7488643, "answer_id": 7488710}, {"body": "<p>To convert a <strong>String</strong> to a <strong>Long</strong> (object), use <code>Long.valueOf(String s).longValue();</code></p>\n\n<p>See <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html#valueOf(java.lang.String)\">link</a></p>\n", "title": "How to convert String to long in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/7693324/how-to-convert-string-to-long-in-java/7693341#7693341", "post_type": "answer", "question_id": 7693324, "answer_id": 7693341}, {"body": "<p>In general, the answer to  your question is \"yes\", but...</p>\n\n<ul>\n<li>equals will only compare what it is written to compare, no more, no less.</li>\n<li>if a class does not override the equals method, then it defaults to the <code>equals(Object o)</code> method of the closest parent class that has overridden this method. </li>\n<li>If no parent classes have provided an override, then it defaults to the method from the ultimate parent class, Object, and so  you're left with the <code>Object#equals(Object o)</code> method. Per the Object API this is the same as <code>==</code>; that is, it returns true <em>if and only if</em> both variables refer to the same object, if their references are one and the same. Thus you will be testing  for <strong>object equality</strong> and not <strong>functional equality</strong>.</li>\n<li>Always remember to override <code>hashCode</code> if you override <code>equals</code> so as not to \"break the contract\". As per the API, the result returned from the <code>hashCode()</code> method for two objects <strong>must</strong> be the same if their <code>equals</code> methods shows that they are equivalent. The converse is <em>not</em> necessarily true. </li>\n</ul>\n", "title": "What is the difference between == vs equals() in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/7520432/what-is-the-difference-between-vs-equals-in-java/7520464#7520464", "post_type": "answer", "question_id": 7520432, "answer_id": 7520464}, {"body": "<p>Just remember that <code>.equals(...)</code> has to be implemented by the class you are trying to compare. Otherwise, there isn't much of a point; the version of the method for the Object class does the same thing as the comparison operation: <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/lang/Object.html#equals%28java.lang.Object%29\" rel=\"nofollow\">Object#equals</a>.</p>\n\n<p>The only time you really want to use the comparison operator for objects is wen you are comparing Enums. This is because there is only one instance of an Enum value at a time. For instance, given the enum</p>\n\n<pre><code>enum FooEnum {A, B, C}\n</code></pre>\n\n<p>You will never have more than one instance of <code>A</code> at a time, and the same for <code>B</code> and <code>C</code>. This means that you can actually write a method like so:</p>\n\n<pre><code>public boolean compareFoos(FooEnum x, FooEnum y)\n{\n    return (x == y);\n}\n</code></pre>\n\n<p>And you will have no problems whatsoever.</p>\n", "title": "What is the difference between == vs equals() in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/7520432/what-is-the-difference-between-vs-equals-in-java/7521675#7521675", "post_type": "answer", "question_id": 7520432, "answer_id": 7521675}, {"body": "<p><code>==</code> can be used in many object types but you can use <code>Object.equals</code> for any type , especially Strings and Google Map Markers.</p>\n", "title": "What is the difference between == vs equals() in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/7520432/what-is-the-difference-between-vs-equals-in-java/27478241#27478241", "post_type": "answer", "question_id": 7520432, "answer_id": 27478241}, {"body": "<p>Also note that <code>.equals()</code> normally contains <code>==</code> for testing as this is the first thing you would wish to test for if you wanted to test if two objects are equal. </p>\n\n<p>And <code>==</code> actually does look at values for primitive types, for objects it checks the reference.</p>\n", "title": "What is the difference between == vs equals() in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/7520432/what-is-the-difference-between-vs-equals-in-java/29226136#29226136", "post_type": "answer", "question_id": 7520432, "answer_id": 29226136}, {"body": "<p><strong>The <a href=\"http://stackoverflow.com/questions/2486191/what-is-the-java-string-pool-and-how-is-s-different-from-new-strings\">String pool</a> (aka <a href=\"http://stackoverflow.com/questions/10578984/what-is-string-interning\">interning</a>) and <a href=\"http://stackoverflow.com/questions/20877086/why-do-comparisons-with-integer-valueofstring-give-different-results-for-12\">Integer pool</a></strong> blur the difference further, and may allow you to use <code>==</code> for objects in some cases instead of <code>.equals</code></p>\n\n<p>This can give you greater performance (?), at the cost of greater complexity.</p>\n\n<p>E.g.:</p>\n\n<pre><code>assert \"ab\" == \"a\" + \"b\";\n\nInteger i = 1;\nInteger j = i;\nassert i == j;\n</code></pre>\n\n<p>Complexity tradeoff: the following may surprise you:</p>\n\n<pre><code>assert new String(\"a\") != new String(\"a\");\n\nInteger i = 128;\nInteger j = 128;\nassert i != j;\n</code></pre>\n\n<p>I advise you to stay away from such micro-optimization, and <em>always</em> use <code>.equals</code> for objects, and <code>==</code> for primitives:</p>\n\n<pre><code>assert (new String(\"a\")).equals(new String(\"a\"));\n\nInteger i = 128;\nInteger j = 128;\nassert i.equals(j);\n</code></pre>\n", "title": "What is the difference between == vs equals() in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/7520432/what-is-the-difference-between-vs-equals-in-java/35399386#35399386", "post_type": "answer", "question_id": 7520432, "answer_id": 35399386}, {"body": "<p>Basically, <code>==</code> compares if two objects have the same reference on the heap, so unless two references are linked to the same object, this comparison will be false.</p>\n\n<p><code>equals()</code> is a method inherited from <strong><code>Object</code></strong> class. This method by default compares if two objects have the same referece. It means:</p>\n\n<p><code>object1.equals(object2)</code> <strong>&lt;=></strong> <code>object1 == object2</code></p>\n\n<p>However, if you want to establish equality between two objects of the same class you should override this method. It is also very important to override the method <code>hashCode()</code> if you have overriden <code>equals()</code>.</p>\n\n<p>Implement <code>hashCode()</code> when establishing equality is part of the Java Object Contract. If you are working with collections, and you haven't implemented <code>hashCode()</code>, Strange Bad Things could happen:</p>\n\n<pre><code>HashMap&lt;Cat, String&gt; cats = new HashMap&lt;&gt;();\nCat cat = new Cat(\"molly\");\ncats.put(cat, \"This is a cool cat\");\nSystem.out.println(cats.get(new Cat(\"molly\"));\n</code></pre>\n\n<p><code>null</code> will be printed after executing the previous code if you haven't implemented <code>hashCode()</code>.</p>\n", "title": "What is the difference between == vs equals() in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/7520432/what-is-the-difference-between-vs-equals-in-java/36875991#36875991", "post_type": "answer", "question_id": 7520432, "answer_id": 36875991}, {"body": "<p>There's no built in type for <code>ConcurrentHashSet</code> because you can always <em>derive</em> a set from a map. Since there are many types of maps, you use a method to produce a set from a given map (or map class).</p>\n\n<p>Prior to Java 8, you produce a concurrent hash set backed by a concurrent hash map, by using <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Collections.html#newSetFromMap%28java.util.Map%29\"><code>Collections.newSetFromMap(map)</code></a></p>\n\n<p>In Java 8 (pointed out by @Matt), you can get a concurrent hash set <em>view</em> via <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html#newKeySet--\"><code>ConcurrentHashMap.newKeySet()</code></a>. This is a bit simpler than the old <code>newSetFromMap</code> which required you to pass in an empty map object. But it is specific to <code>ConcurrentHashMap</code>.</p>\n\n<p>Anyway, the Java designers could have created a new set interface every time a new map interface was created, but that pattern would be impossible to enforce when third parties create their own maps. It is better to have the static methods that derive new sets; that approach always works, even when you create your own map implementations.</p>\n", "title": "Why there is no ConcurrentHashSet against ConcurrentHashMap", "tags": ["java", "collections", "concurrency", "hashmap", "hashset"], "link": "http://stackoverflow.com/questions/6992608/why-there-is-no-concurrenthashset-against-concurrenthashmap/6992643#6992643", "post_type": "answer", "question_id": 6992608, "answer_id": 6992643}, {"body": "<p>As pointed by <a href=\"http://possiblelossofprecision.net/?p=813\" rel=\"nofollow\">this</a> the best way to obtain a concurrency-able HashSet is by means of <code>Collections.synchronizedSet()</code></p>\n\n<pre><code>Set s = Collections.synchronizedSet(new HashSet(...));\n</code></pre>\n\n<p>This worked for me and I haven't seen anybody really pointing to it.</p>\n\n<p><strong>EDIT</strong> This is less efficient than the currently aproved solution, as Eugene points out, since it just wraps your set into a synchronized decorator, while a <code>ConcurrentHashMap</code> actually implements low-level concurrency and it can back your Set just as fine. So thanks to Mr. Stepanenkov for making that clear.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#synchronizedSet-java.util.Set-\" rel=\"nofollow\">http://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#synchronizedSet-java.util.Set-</a></p>\n", "title": "Why there is no ConcurrentHashSet against ConcurrentHashMap", "tags": ["java", "collections", "concurrency", "hashmap", "hashset"], "link": "http://stackoverflow.com/questions/6992608/why-there-is-no-concurrenthashset-against-concurrenthashmap/26764904#26764904", "post_type": "answer", "question_id": 6992608, "answer_id": 26764904}, {"body": "<p>Replace will replace all instances of a letter. All you need to do is use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#substring(int,%20int)\"><code>substring()</code></a>:</p>\n\n<pre><code>public String method(String str) {\n    if (str != null &amp;&amp; str.length() &gt; 0 &amp;&amp; str.charAt(str.length()-1)=='x') {\n      str = str.substring(0, str.length()-1);\n    }\n    return str;\n}\n</code></pre>\n", "title": "How to remove the last character from a string?", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7438612/how-to-remove-the-last-character-from-a-string/7438613#7438613", "post_type": "answer", "question_id": 7438612, "answer_id": 7438613}, {"body": "<p>As others have pointed out the preferred way is to use:</p>\n\n<p><code>new StringBuilder(hi).reverse().toString()</code></p>\n\n<p>but if you want to implement this by youself, i'am afraid that the rest of responses have flaws.</p>\n\n<p>The reason is that String represent a list of <strong>Unicode</strong> points, encoded in a <code>char[]</code> array according to the variable-length encoding: <a href=\"https://en.wikipedia.org/wiki/UTF-16\" rel=\"nofollow\">UTF-16</a>. </p>\n\n<p>This means some code points use a single element of the array (one code unit) but others use two of them, so there might be pairs of characters that must be treated as a single unit (consecutive \"high\" and \"low\" surrogates)</p>\n\n<pre><code>public static String reverseString(String s) {\n    char[] chars = new char[s.length()];\n    boolean twoCharCodepoint = false;\n    for (int i = 0; i &lt; s.length(); i++) {\n        chars[s.length() - 1 - i] = s.charAt(i);\n        if (twoCharCodepoint) {\n            swap(chars, s.length() - 1 - i, s.length() - i);\n        }\n        twoCharCodepoint = !Character.isBmpCodePoint(s.codePointAt(i));\n    }\n    return new String(chars);\n}\n\nprivate static void swap(char[] array, int i, int j) {\n    char temp = array[i];\n    array[i] = array[j];\n    array[j] = temp;\n}\n\npublic static void main(String[] args) throws Exception {\n    FileOutputStream fos = new FileOutputStream(\"C:/temp/reverse-string.txt\");\n    StringBuilder sb = new StringBuilder(\"Linear B Syllable B008 A: \");\n    sb.appendCodePoint(65536); //http://unicode-table.com/es/#10000\n    sb.append(\".\");\n    fos.write(sb.toString().getBytes(\"UTF-16\"));\n    fos.write(\"\\n\".getBytes(\"UTF-16\"));\n    fos.write(reverseString(sb.toString()).getBytes(\"UTF-16\"));\n}\n</code></pre>\n", "title": "Reverse a string in Java", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7569335/reverse-a-string-in-java/39329245#39329245", "post_type": "answer", "question_id": 7569335, "answer_id": 39329245}, {"body": "<p><code>String text = String.copyValueOf(data);</code> </p>\n\n<p>or </p>\n\n<p><code>String text = String.valueOf(data);</code></p>\n\n<p>is arguably better (encapsulates the <code>new String</code> call).</p>\n", "title": "How to convert a char array back to a string?", "tags": ["java", "arrays", "string", "char"], "link": "http://stackoverflow.com/questions/7655127/how-to-convert-a-char-array-back-to-a-string/7655177#7655177", "post_type": "answer", "question_id": 7655127, "answer_id": 7655177}, {"body": "<p><code>InetAddress.getLocalHost().getHostName()</code> is the more portable way.</p>\n\n<p><code>exec(\"hostname\")</code> actually calls out to the operating system to execute the <code>hostname</code> command. </p>\n\n<p>Here are a couple other related answers on SO: </p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/q/473446/224354\">Java current machine name and logged in user?</a> </li>\n<li><a href=\"http://stackoverflow.com/q/5596788/224354\">Get DNS name of local machine as seen by a remote machine</a></li>\n</ul>\n\n<p><strong>EDIT:</strong> You should take a look at <a href=\"http://stackoverflow.com/questions/7348711/recommended-way-to-get-hostname-in-java/7800008#7800008\">A.H.'s answer</a> or <a href=\"http://stackoverflow.com/a/7353473/224354\">Arnout Engelen's answer</a> for details on why this might not work as expected, depending on your situation. As an answer for this person who specifically requested portable, I still think <code>getHostName()</code> is fine, but they bring up some good points that should be considered.</p>\n", "title": "Recommended way to get hostname in Java", "tags": ["java", "network-programming", "environment-variables", "hostname"], "link": "http://stackoverflow.com/questions/7348711/recommended-way-to-get-hostname-in-java/7353205#7353205", "post_type": "answer", "question_id": 7348711, "answer_id": 7353205}, {"body": "<p><code>InetAddress.getLocalHost().getHostName()</code> is better (as explained by Nick), but still not very good</p>\n\n<p>One host can be known under many different hostnames. Usually you'll be looking for the hostname your host has in a specific context.</p>\n\n<p>For example, in a web application, you might be looking for the hostname used by whoever issued the request you're currently handling. How to best find that one depends on which framework you're using for your web application.</p>\n\n<p>In some kind of other internet-facing service, you'll want the hostname your service is available through from the 'outside'. Due to proxies, firewalls etc this might not even be a hostname on the machine your service is installed on - you might try to come up with a reasonable default, but you should definitely make this configurable for whoever installs this.</p>\n", "title": "Recommended way to get hostname in Java", "tags": ["java", "network-programming", "environment-variables", "hostname"], "link": "http://stackoverflow.com/questions/7348711/recommended-way-to-get-hostname-in-java/7353473#7353473", "post_type": "answer", "question_id": 7348711, "answer_id": 7353473}, {"body": "<p>Strictly speaking - you have no choice but calling either <code>hostname(1)</code> or - on Unix <code>gethostname(2)</code>. This is the name of your computer. Any attempt to determine the hostname by an IP address like this</p>\n\n<pre><code>InetAddress.getLocalHost().getHostName()\n</code></pre>\n\n<p>is bound to fail in some circumstances:</p>\n\n<ul>\n<li>The IP address might not resolve into any name. Bad DNS setup, bad system setup or bad provider setup may be the reason for this.</li>\n<li>A name in DNS can have many aliases called CNAMEs. These can only be resolved in one direction properly: name to address. The reverse direction is ambiguous. Which one is the \"official\" name?</li>\n<li>A host can have many different IP addresses - and each address can have many different names. Two common cases are: One ethernet port has several \"logical\" IP addresses or the computer has several ethernet ports. It is configurable whether they share an IP or have different IPs. This is called \"multihomed\".</li>\n<li>One Name in DNS can resolve to several IP Addresses. And not all of those addresses must be located on the same computer! (Usecase: A simple form of load-balancing)</li>\n<li>Let's not even start talking about dynamic IP addresses.</li>\n</ul>\n\n<p>Also don't confuse the name of an IP-address with the name of the host (hostname). A metaphor might make it clearer:</p>\n\n<blockquote>\n  <p>There is a large city (server) called \"London\". Inside the city walls much business happens. The city has several gates (IP addresses). Each gate has a name (\"North Gate\", \"River Gate\", \"Southampton Gate\"...) but the name of the gate is not the name of the city. Also you cannot deduce the name of the city by using the name of a gate - \"North Gate\" would catch half of the bigger cities and not just one city. However - a stranger (IP packet) walks along the river and asks a local: \"I have a strange address: 'Rivergate, second left, third house'. Can you help me?\" The local says: \"Of course, you are on the right road, simply go ahead and you will arrive at your destination within half an hour.\"</p>\n</blockquote>\n\n<p>This illustrates it pretty much I think.</p>\n\n<p>The good news is: The <em>real</em> hostname is <em>usually</em> not necessary. In most cases any name which resolves into an IP address on this host will do. (The stranger might enter the city by Northgate, but helpful locals translate the \"2nd left\" part.)</p>\n\n<p>If the remaining corner cases you must use the <em>definitive</em> source of this configuration setting - which is the C function <code>gethostname(2)</code>. That function is also called by the program <code>hostname</code>. </p>\n", "title": "Recommended way to get hostname in Java", "tags": ["java", "network-programming", "environment-variables", "hostname"], "link": "http://stackoverflow.com/questions/7348711/recommended-way-to-get-hostname-in-java/7800008#7800008", "post_type": "answer", "question_id": 7348711, "answer_id": 7800008}, {"body": "<p>Environment variables may also provide a useful means -- <code>COMPUTERNAME</code> on Windows, <code>HOSTNAME</code> on most modern Unix/Linux shells.</p>\n\n<p>See:  <a href=\"http://stackoverflow.com/a/17956000/768795\">http://stackoverflow.com/a/17956000/768795</a></p>\n\n<p>I'm using these as \"supplementary\" methods to <code>InetAddress.getLocalHost().getHostName()</code>, since as several people point out, that function doesn't work in all environments.</p>\n\n<p><code>Runtime.getRuntime().exec(\"hostname\")</code> is another possible supplement. At this stage, I haven't used it.</p>\n\n<pre><code>import java.net.InetAddress;\nimport java.net.UnknownHostException;\n\n// try InetAddress.LocalHost first;\n//      NOTE -- InetAddress.getLocalHost().getHostName() will not work in certain environments.\ntry {\n    String result = InetAddress.getLocalHost().getHostName();\n    if (StringUtils.isNotEmpty( result))\n        return result;\n} catch (UnknownHostException e) {\n    // failed;  try alternate means.\n}\n\n// try environment properties.\n//      \nString host = System.getenv(\"COMPUTERNAME\");\nif (host != null)\n    return host;\nhost = System.getenv(\"HOSTNAME\");\nif (host != null)\n    return host;\n\n// undetermined.\nreturn null;\n</code></pre>\n", "title": "Recommended way to get hostname in Java", "tags": ["java", "network-programming", "environment-variables", "hostname"], "link": "http://stackoverflow.com/questions/7348711/recommended-way-to-get-hostname-in-java/20793241#20793241", "post_type": "answer", "question_id": 7348711, "answer_id": 20793241}, {"body": "<p>As others have noted, getting the hostname based on DNS resolution is unreliable.</p>\n\n<p>Since this question is unfortunately still relevant in <strong>2016</strong>, I'd like to share with you my network-independent solution, with some test runs on different systems.</p>\n\n<p>The following code tries to do the following:</p>\n\n<ul>\n<li><p>On Windows</p>\n\n<ol>\n<li><p>Read the <code>COMPUTERNAME</code> environment variable through <code>System.getenv()</code>.</p></li>\n<li><p>Execute <code>hostname.exe</code> and read the response</p></li>\n</ol></li>\n<li><p>On Linux</p>\n\n<ol>\n<li><p>Read the <code>HOSTNAME</code> environment variable through <code>System.getenv()</code></p></li>\n<li><p>Execute <code>hostname</code> and read the response</p></li>\n<li><p>Read <code>/etc/hostname</code> (to do this I'm executing <code>cat</code> since the snippet already contains code to execute and read. Simply reading the file would be better, though).</p></li>\n</ol></li>\n</ul>\n\n<p>The code:</p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n        String OS = System.getProperty(\"os.name\").toLowerCase();\n\n        if (OS.indexOf(\"win\") &gt;= 0) {\n            System.out.println(\"Windows computer name throguh env:\\\"\" + System.getenv(\"COMPUTERNAME\") + \"\\\"\");\n            System.out.println(\"Windows computer name through exec:\\\"\" + execReadToString(\"hostname\") + \"\\\"\");\n        } else {\n            if (OS.indexOf(\"nix\") &gt;= 0 || OS.indexOf(\"nux\") &gt;= 0) {\n                System.out.println(\"Linux computer name throguh env:\\\"\" + System.getenv(\"HOSTNAME\") + \"\\\"\");\n                System.out.println(\"Linux computer name through exec:\\\"\" + execReadToString(\"hostname\") + \"\\\"\");\n                System.out.println(\"Linux computer name through /etc/hostname:\\\"\" + execReadToString(\"cat /etc/hostname\") + \"\\\"\");\n            }\n        }\n    }\n\n    public static String execReadToString(String execCommand) throws IOException {\n        Process proc = Runtime.getRuntime().exec(execCommand);\n        try (InputStream stream = proc.getInputStream()) {\n            try (Scanner s = new Scanner(stream).useDelimiter(\"\\\\A\")) {\n                return s.hasNext() ? s.next() : \"\";\n            }\n        }\n    }\n</code></pre>\n\n<p>Results for different operating systems:</p>\n\n<p><strong>OpenSuse 13.1</strong></p>\n\n<pre><code>Linux computer name throguh env:\"machinename\"\nLinux computer name through exec:\"machinename\n\"\nLinux computer name through /etc/hostname:\"\"\n</code></pre>\n\n<p><strong>Ubuntu 14.04 LTS</strong> \nThis one is kinda strange since <code>echo $HOSTNAME</code> returns the correct hostname, but <code>System.getenv(\"HOSTNAME\")</code> does not:</p>\n\n<pre><code>Linux computer name through env:\"null\"\nLinux computer name through exec:\"machinename\n\"\nLinux computer name through /etc/hostname:\"machinename\n\"\n</code></pre>\n\n<p><strong>EDIT:</strong> According to <a href=\"http://stackoverflow.com/users/1773110/legolas108\">legolas108</a>, <code>System.getenv(\"HOSTNAME\")</code> works on Ubuntu 14.04 if you run <code>export HOSTNAME</code> before executing the Java code.</p>\n\n<p><strong>Windows 7</strong></p>\n\n<pre><code>Windows computer name through env:\"MACHINENAME\"\nWindows computer name through exec:\"machinename\n\"\n</code></pre>\n\n<p>The machine names have been replaced but I kept the capitalization and structure. Note the extra newline when executing <code>hostname</code>, you might have to take it into account in some cases.</p>\n", "title": "Recommended way to get hostname in Java", "tags": ["java", "network-programming", "environment-variables", "hostname"], "link": "http://stackoverflow.com/questions/7348711/recommended-way-to-get-hostname-in-java/28043703#28043703", "post_type": "answer", "question_id": 7348711, "answer_id": 28043703}, {"body": "<p>The first thing to keep in mind is that Java ternary operators have a \"type\", and that this is what the compiler will determine and consider no matter what the actual/real types of the second or third parameter are. Depending on several factors the ternary operator type is determined in different ways as illustrated in the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.25-300-E\" rel=\"nofollow\">Java Language Specification 15.26</a></p>\n\n<p>In the question above we should consider the last case:</p>\n\n<blockquote>\n  <p>Otherwise, the second and third operands are of types <em>S1</em> and <em>S2</em> respectively. Let <em>T1</em> be the type that results from applying boxing conversion to <em>S1</em>, and let <em>T2</em> be the type that results from applying boxing conversion to <em>S2</em>. The type of the conditional expression is the result of applying capture conversion (\u00a75.1.10) to <em>lub(T1, T2)</em> (\u00a715.12.2.7).</p>\n</blockquote>\n\n<p>This is by far the most complex case once you take a look at <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.10\" rel=\"nofollow\">applying capture conversion (\u00a75.1.10)</a> and most of all at <em><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.12.2.7\" rel=\"nofollow\">lub(T1, T2)</a></em>.</p>\n\n<p>In plain English and after an extreme simplification we can describe the process as calculating the \"Least Common Superclass\" (yes, think of the LCM) of the second and third parameters. This will give us the ternary operator \"type\". Again, what I just said is an extreme simplification (consider classes that implement multiple common interfaces).</p>\n\n<p>For example, if you try the following:</p>\n\n<pre><code>long millis = System.currentTimeMillis();\nreturn(true ? new java.sql.Timestamp(millis) : new java.sql.Time(millis));\n</code></pre>\n\n<p>You'll notice that resulting type of the conditional expression is <code>java.util.Date</code> since it's the \"Least Common Superclass\" for the <code>Timestamp</code>/<code>Time</code> pair.</p>\n\n<p>Since <code>null</code> can be autoboxed to anything, the \"Least Common Superclass\" is the <code>Integer</code> class and this will be the return type of the conditional expression (ternary operator) above. The return value will then be a null pointer of type <code>Integer</code> and that is what will be returned by the ternary operator.</p>\n\n<p>At runtime, when the Java Virtual Machine unboxes the <code>Integer</code> a <code>NullPointerException</code> is thrown. This happens because the JVM attempts to invoke the function <code>null.intValue()</code>, where <code>null</code> is the result of autoboxing.</p>\n\n<p>In my opinion (and since my opinion is not in the Java Language Specification many people will find it wrong anyway) the compiler does a poor job in evaluating the expression in your question. Given that you wrote <code>true ? param1 : param2</code> the compiler should determine right away that the first parameter -<code>null</code>- will be returned and it should generate a compiler error. This is somewhat similar to when you write <code>while(true){} etc...</code> and the compiler complains about the code underneath the loop and flags it with <code>Unreachable Statements</code>.</p>\n\n<p>Your second case is pretty straightforward and this answer is already too long... ;)</p>\n\n<p><strong>CORRECTION:</strong></p>\n\n<p>After another analysis I believe that I was wrong to say that a <code>null</code> value can be boxed/autoboxed to anything. Talking about the class Integer, explicit boxing consists in invoking the <code>new Integer(...)</code> constructor or maybe the <code>Integer.valueOf(int i);</code> (I found this version somewhere). The former would throw a <code>NumberFormatException</code> (and this does not happen) while the second would just not make sense since an <code>int</code> cannot be <code>null</code>...</p>\n", "title": "Tricky ternary operator in Java - autoboxing", "tags": ["java", "nullpointerexception", "conditional-operator", "autoboxing"], "link": "http://stackoverflow.com/questions/8098953/tricky-ternary-operator-in-java-autoboxing/8103083#8103083", "post_type": "answer", "question_id": 8098953, "answer_id": 8103083}, {"body": "<p><a href=\"http://stackoverflow.com/questions/8430805/android-clicking-twice-the-back-button-to-exit-activity/13578600#13578600\">Sudheesh B Nair</a>'s has a nice (and accepted) answer on the question, which i think should have a better alternative such as;</p>\n\n<p>What's wrong with measuring time passed and checking if <code>TIME_INTERVAL</code> miliseconds (say 2000) passed since the last back press. The following sample code uses <code>System.currentTimeMillis();</code> to store the time <code>onBackPressed()</code> is called;</p>\n\n<pre><code>private static final int TIME_INTERVAL = 2000; // # milliseconds, desired time passed between two back presses.\nprivate long mBackPressed;\n\n@Override\npublic void onBackPressed()\n{\n    if (mBackPressed + TIME_INTERVAL &gt; System.currentTimeMillis()) \n    { \n        super.onBackPressed(); \n        return;\n    }\n    else { Toast.makeText(getBaseContext(), \"Tap back button in order to exit\", Toast.LENGTH_SHORT).show(); }\n\n    mBackPressed = System.currentTimeMillis();\n}\n</code></pre>\n\n<hr>\n\n<p>Back on accepted answer <em>critique</em>; Using a <strong><code>flag</code></strong> to indicate if it was pressed in last <code>TIME_INTERVAL</code> (say 2000) milliseconds and <em>set - reset</em> is via <code>Handler</code>'s <code>postDelayed()</code> method was the first thing to come in my mind. But the <code>postDelayed()</code> action should be cancelled when activity is closing, removing the <code>Runnable</code>.</p>\n\n<p>In order to remove the <code>Runnable</code>, it must not be declared <em>anonymous</em>, and be declared as member along with the <code>Handler</code> aswell. Then <code>removeCallbacks()</code> method of <code>Handler</code> can be called appropriately.</p>\n\n<p>The following sample is the demonstration;</p>\n\n<pre><code>private boolean doubleBackToExitPressedOnce;\nprivate Handler mHandler = new Handler();\n\nprivate final Runnable mRunnable = new Runnable() {\n    @Override\n    public void run() {\n        doubleBackToExitPressedOnce = false;                       \n    }\n};\n\n@Override \nprotected void onDestroy() \n{ \n    super.onDestroy();\n\n    if (mHandler != null) { mHandler.removeCallbacks(mRunnable); }\n}\n\n@Override\npublic void onBackPressed() {\n    if (doubleBackToExitPressedOnce) {\n        super.onBackPressed();\n        return;\n    }\n\n    this.doubleBackToExitPressedOnce = true;\n    Toast.makeText(this, \"Please click BACK again to exit\", Toast.LENGTH_SHORT).show();\n\n    mHandler.postDelayed(mRunnable, 2000);\n}\n</code></pre>\n\n<hr>\n\n<p>Thanks to @NSouth for contributing; In order to prevent <em>toast message</em> appearing even after the application is closed, <code>Toast</code> can be declared as a member - say <code>mExitToast</code> - and can be cancelled via <code>mExitToast.cancel();</code> just before <code>super.onBackPressed();</code> call.</p>\n", "title": "Clicking the back button twice to exit an activity", "tags": ["java", "android", "back-button"], "link": "http://stackoverflow.com/questions/8430805/clicking-the-back-button-twice-to-exit-an-activity/22332291#22332291", "post_type": "answer", "question_id": 8430805, "answer_id": 22332291}, {"body": "<p><code>mode1.name()</code> or <code>String.valueOf(mode1)</code>. It doesn't get better than that, I'm afraid</p>\n", "title": "Using Enum values as String literals", "tags": ["java", "string", "enums"], "link": "http://stackoverflow.com/questions/6667243/using-enum-values-as-string-literals/6667307#6667307", "post_type": "answer", "question_id": 6667243, "answer_id": 6667307}, {"body": "<p>You can use <code>Mode.mode1.name()</code> however you often don't need to do this.</p>\n\n<pre><code>Mode mode =\nSystem.out.println(\"The mode is \"+mode);\n</code></pre>\n", "title": "Using Enum values as String literals", "tags": ["java", "string", "enums"], "link": "http://stackoverflow.com/questions/6667243/using-enum-values-as-string-literals/6667310#6667310", "post_type": "answer", "question_id": 6667243, "answer_id": 6667310}, {"body": "<p>Enum is just a little bit special class. Enums can store additional fields, implement methods etc. For example</p>\n\n<pre><code>public enum Modes {\n    mode1('a'),\n    mode2('b'),\n    mode3('c'),\n    ;\n    char c;\n\n    private Modes(char c) {\n        this.c = c;\n    }\n    public char character() {\n        return c;\n    }\n}\n</code></pre>\n\n<p>Now you can say:</p>\n\n<p><code>System.out.println(Modes.mode1.character())</code></p>\n\n<p>and see output: \n<code>a</code></p>\n", "title": "Using Enum values as String literals", "tags": ["java", "string", "enums"], "link": "http://stackoverflow.com/questions/6667243/using-enum-values-as-string-literals/6667354#6667354", "post_type": "answer", "question_id": 6667243, "answer_id": 6667354}, {"body": "<p>You could override the <code>toString()</code> method for each enum value.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>public enum Country {\n\n  DE {\n    @Override\n    public String toString() {\n      return \"Germany\";\n    }\n  },\n  IT {\n    @Override\n    public String toString() {\n      return \"Italy\";\n    }\n  },\n  US {\n    @Override\n    public String toString() {\n      return \"United States\";\n    }\n  }\n\n}\n</code></pre>\n\n<p><strong>Usage:</strong></p>\n\n<pre><code>public static void main(String[] args) {\n  System.out.println(Country.DE); // Germany\n  System.out.println(Country.IT); // Italy\n  System.out.println(Country.US); // United States\n}\n</code></pre>\n", "title": "Using Enum values as String literals", "tags": ["java", "string", "enums"], "link": "http://stackoverflow.com/questions/6667243/using-enum-values-as-string-literals/25575077#25575077", "post_type": "answer", "question_id": 6667243, "answer_id": 25575077}, {"body": "<p>Just use <code>TheClassName.class</code> instead of <code>getClass()</code>.</p>\n", "title": "How to call getClass() from a static method in Java?", "tags": ["java", "static-methods"], "link": "http://stackoverflow.com/questions/8275499/how-to-call-getclass-from-a-static-method-in-java/8275508#8275508", "post_type": "answer", "question_id": 8275499, "answer_id": 8275508}, {"body": "<p><code>getClass()</code> method is defined in Object class with the following signature:</p>\n\n<blockquote>\n  <p>public final Class getClass()</p>\n</blockquote>\n\n<p>Since it is not defined as <code>static</code>, you can not call it within a static code block. See these answers for more information: <a href=\"http://stackoverflow.com/questions/5152428/non-static-to-static-problem\">Q1</a>, <a href=\"http://stackoverflow.com/questions/2042813/calling-non-static-method-in-static-method-in-java\">Q2</a>, <a href=\"http://stackoverflow.com/questions/6270690/non-static-method-cannot-be-referenced-in-static-context\">Q3</a>.</p>\n\n<p>If you're in a static context, then you have to use the class literal expression to get the Class, so you basically have to do like:</p>\n\n<blockquote>\n  <p>Foo.class</p>\n</blockquote>\n\n<p>This type of expression is called <strong>Class Literals</strong> and they are explained in <a href=\"http://java.sun.com/docs/books/jls/second_edition/html/expressions.doc.html#251530\">Java Language Specification Book</a> as follows:</p>\n\n<blockquote>\n  <p>A class literal is an expression consisting of the name of a class, interface, array, or primitive type followed by a `.' and the token class. The type of a class literal is Class. It evaluates to the Class object for the named type (or for void) as defined by the defining class loader of the class of the current instance.</p>\n</blockquote>\n\n<p>You can also find information about this subject on <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html\">API documentation</a> for Class.</p>\n", "title": "How to call getClass() from a static method in Java?", "tags": ["java", "static-methods"], "link": "http://stackoverflow.com/questions/8275499/how-to-call-getclass-from-a-static-method-in-java/8275761#8275761", "post_type": "answer", "question_id": 8275499, "answer_id": 8275761}, {"body": "<p>As for the code example in the question, the standard solution is to reference the class explicitly by its name, and it is even possible to do without <code>getClassLoader()</code> call:</p>\n\n<pre><code>class MyClass {\n  public static void startMusic() {\n    URL songPath = MyClass.class.getResource(\"background.midi\");\n  }\n}\n</code></pre>\n\n<p>This approach still has a back side that it is not very safe against copy/paste errors in case you need to replicate this code to a number of similar classes.</p>\n\n<p>And as for the exact question in the headline, there is a trick posted in the <a href=\"http://stackoverflow.com/a/17397143/972463\">adjacent thread</a>:</p>\n\n<pre><code>Class currentClass = new Object() { }.getClass().getEnclosingClass();\n</code></pre>\n\n<p>It uses a nested anonymous <code>Object</code> subclass to get hold of the execution context. This trick has a benefit of being copy/paste safe...</p>\n\n<p>It may be also worth noting that if this snippet is shaped as a static method of some base class, then <code>currenClass</code> value will always be a reference to that base class rather than to any subclass that may be using that method.</p>\n", "title": "How to call getClass() from a static method in Java?", "tags": ["java", "static-methods"], "link": "http://stackoverflow.com/questions/8275499/how-to-call-getclass-from-a-static-method-in-java/17397548#17397548", "post_type": "answer", "question_id": 8275499, "answer_id": 17397548}, {"body": "<p>Here's why:\nAs it is says in the Javadoc:</p>\n\n<blockquote>\n  <p>The iterators returned by this class's iterator and listIterator\n  methods are fail-fast: if the list is structurally modified at any\n  time after the iterator is created, in any way except through the\n  iterator's own remove or add methods, the iterator will throw a\n  ConcurrentModificationException.</p>\n</blockquote>\n\n<p>This check is done in the <code>next()</code> method of the iterator (as you can see by the stacktrace). But we will reach the <code>next()</code> method only if <code>hasNext()</code> delivered true, which is what is called by the for each to check if the boundary is met. In your remove method, when <code>hasNext()</code> checks if it needs to return another element, it will see that it returned two elements, and now after one element was removed the list only contains two elements. So all is peachy and we are done with iterating. The check for concurrent modifications does not occur, as this is done in the <code>next()</code> method which is never called.</p>\n\n<p>Next we get to the second loop. After we remove the second number the hasNext method will check again if can return more values. It has returned two values already, but the list now only contains one. But the code here is:</p>\n\n<pre><code>public boolean hasNext() {\n        return cursor != size();\n}\n</code></pre>\n\n<p>1 != 2, so we continue to the <code>next()</code> method, which now realizes that someone has been messing with the list and fires the exception.</p>\n\n<p>Hope that clears your question up.</p>\n", "title": "java.util.ConcurrentModificationException", "tags": ["java", "list", "concurrentmodification", "foreach"], "link": "http://stackoverflow.com/questions/8189466/java-util-concurrentmodificationexception/8189786#8189786", "post_type": "answer", "question_id": 8189466, "answer_id": 8189786}, {"body": "<p>I had that same problem but in case that I was adding en element into iterated list.\nI made it this way</p>\n\n<pre><code>public static void remove(Integer remove) {\n    for(int i=0; i&lt;integerList.size(); i++) {\n        //here is maybe fine to deal with integerList.get(i)==null\n        if(integerList.get(i).equals(remove)) {                \n            integerList.remove(i);\n        }\n    }\n}\n</code></pre>\n\n<p>Now everything goes fine because you don't create any iterator over your list, you iterate over it \"manually\". And condition <code>i &lt; integerList.size()</code> will never fool you because when you remove/add something into List size of the List decrement/increment..</p>\n\n<p>Hope it helps, for me that was solution.</p>\n", "title": "java.util.ConcurrentModificationException", "tags": ["java", "list", "concurrentmodification", "foreach"], "link": "http://stackoverflow.com/questions/8189466/java-util-concurrentmodificationexception/23592535#23592535", "post_type": "answer", "question_id": 8189466, "answer_id": 23592535}, {"body": "<p>Unless there is a specific optimization that checks if the argument passed to <code>removeAll()</code> is the collection itself (and I <em>highly</em> doubt that such an optimization is there) it will be <em>significantly</em> slower than a simple <code>.clear()</code>.</p>\n\n<p>Apart from that (and <em>at least</em> equally important): <code>arraylist.removeAll(arraylist)</code> is just obtuse, confusing code. It is a very backwards way of saying \"clear this collection\". What advantage would it have over the <em>very understandable</em> <code>arraylist.clear()</code>?</p>\n", "title": "What is the difference between ArrayList.clear() and ArrayList.removeAll()?", "tags": ["java", "arraylist"], "link": "http://stackoverflow.com/questions/7032070/what-is-the-difference-between-arraylist-clear-and-arraylist-removeall/7032137#7032137", "post_type": "answer", "question_id": 7032070, "answer_id": 7032137}, {"body": "<p>The source code for <code>clear()</code>:</p>\n\n<pre><code>public void clear() {\n    modCount++;\n\n    // Let gc do its work\n    for (int i = 0; i &lt; size; i++)\n        elementData[i] = null;\n\n    size = 0;\n}\n</code></pre>\n\n<p>The source code for <code>removeAll()</code>(As defined in <code>AbstractCollection</code>):</p>\n\n<pre><code>public boolean removeAll(Collection&lt;?&gt; c) {\n    boolean modified = false;\n    Iterator&lt;?&gt; e = iterator();\n    while (e.hasNext()) {\n        if (c.contains(e.next())) {\n            e.remove();\n            modified = true;\n        }\n    }\n    return modified;\n}\n</code></pre>\n\n<p><code>clear()</code> is much faster since it doesn't have to deal with all those extra method calls.</p>\n\n<p>And as Atrey points out, <code>c.contains(..)</code> increases the time complexity of <code>removeAll</code> to O(n^2) as opposed to <code>clear</code>'s O(n).</p>\n", "title": "What is the difference between ArrayList.clear() and ArrayList.removeAll()?", "tags": ["java", "arraylist"], "link": "http://stackoverflow.com/questions/7032070/what-is-the-difference-between-arraylist-clear-and-arraylist-removeall/7032144#7032144", "post_type": "answer", "question_id": 7032070, "answer_id": 7032144}, {"body": "<p>The <code>clear()</code> method removes all the elements of a single <code>ArrayList</code>. It's a fast operation, as it just sets some array elements to <code>null</code>.</p>\n\n<p>The <code>removeAll(Collection)</code> method, which is inherited from <code>AbstractCollection</code>, removes all the elements that are in the argument collection from the collection you call the method on. It's a relatively slow operation, as it has to search through one of the collections involved.</p>\n", "title": "What is the difference between ArrayList.clear() and ArrayList.removeAll()?", "tags": ["java", "arraylist"], "link": "http://stackoverflow.com/questions/7032070/what-is-the-difference-between-arraylist-clear-and-arraylist-removeall/7032180#7032180", "post_type": "answer", "question_id": 7032070, "answer_id": 7032180}, {"body": "<p><code>clear()</code> will go through the underlying Array and set each entry to null;</p>\n\n<p><code>removeAll(collection)</code> will go through the ArrayList checking for collection and <code>remove(Object)</code> it if it exists. </p>\n\n<p>I would imagine that <code>clear()</code> is way faster then removeAll because it's not comparing, etc.</p>\n", "title": "What is the difference between ArrayList.clear() and ArrayList.removeAll()?", "tags": ["java", "arraylist"], "link": "http://stackoverflow.com/questions/7032070/what-is-the-difference-between-arraylist-clear-and-arraylist-removeall/7032208#7032208", "post_type": "answer", "question_id": 7032070, "answer_id": 7032208}, {"body": "<p><code>SimpleDateFormat</code> stores intermediate results in instance fields. So if one instance is used by two threads they can mess each other's results.</p>\n\n<p>Looking at the <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/text/DateFormat.java/?v=source\">source code</a> reveals that there is a <code>Calendar</code> instance field, which is used by operations on <code>DateFormat</code> / <code>SimpleDateFormat</code></p>\n\n<p>For example <code>parse(..)</code> calls <code>calendar.clear()</code> initially and then <code>calendar.add(..)</code>. If another thread invokes <code>parse(..)</code> before the completion of the first invocation, it will clear the calendar, but the other invocation will expect it to be populated with intermediate results of the calculation.</p>\n\n<p>One way to reuse date formats without trading thread-safety is to put them in a <code>ThreadLocal</code> - some libraries do that. That's if you need to use the same format multiple times within one thread. But in case you are using a servlet container (that has a thread pool), remember to clean the thread-local after you finish.</p>\n\n<p>To be honest, I don't understand why they need the instance field, but that's the way it is. You can also use <a href=\"http://joda-time.sourceforge.net/\">joda-time</a> <code>DateTimeFormat</code> which is threadsafe.</p>\n", "title": "SimpleDateFormat thread safety", "tags": ["java", "thread-safety", "simpledateformat"], "link": "http://stackoverflow.com/questions/6840803/simpledateformat-thread-safety/6840856#6840856", "post_type": "answer", "question_id": 6840803, "answer_id": 6840856}, {"body": "<p>Use <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/String.html#trim%28%29\"><code>String#trim()</code></a> method or <code>String allRemoved = myString.replaceAll(\"^\\\\s+|\\\\s+$\", \"\")</code> for trim both the end.</p>\n\n<p>For left trim:</p>\n\n<pre><code>String leftRemoved = myString.replaceAll(\"^\\\\s+\", \"\");\n</code></pre>\n\n<p>For right trim:</p>\n\n<pre><code>String rightRemoved = myString.replaceAll(\"\\\\s+$\", \"\");\n</code></pre>\n", "title": "Strip Leading and Trailing Spaces From Java String", "tags": ["java", "string", "replace"], "link": "http://stackoverflow.com/questions/6652687/strip-leading-and-trailing-spaces-from-java-string/6652772#6652772", "post_type": "answer", "question_id": 6652687, "answer_id": 6652772}, {"body": "<p>Because any particular implementation of Set may or may not be <a href=\"http://en.wikipedia.org/wiki/Random_access\" rel=\"nofollow\">random access</a>.</p>\n\n<p>You can always get an <a href=\"http://download.oracle.com/javase/6/docs/api/index.html?java/util/Set.html\" rel=\"nofollow\">iterator</a> and step through the Set, using the iterators' <code>next()</code> method to return the result you want once you find the equal element.  This works regardless of the implementation.  If the implementation is NOT random access (picture a linked-list backed Set), a <code>get(E element)</code> method in the interface would be deceptive, since it would have to iterate the collection to find the element to return, and a <code>get(E element)</code> would seem to imply this would be necessary, that the Set could jump directly to the element to get.</p>\n\n<p><code>contains()</code> may or may not have to do the same thing, of course, depending on the implementation, but the name doesn't seem to lend itself to the same sort of misunderstandings.</p>\n", "title": "Getting an element from a Set", "tags": ["java", "collections", "set", "equals"], "link": "http://stackoverflow.com/questions/7283338/getting-an-element-from-a-set/7283475#7283475", "post_type": "answer", "question_id": 7283338, "answer_id": 7283475}, {"body": "<p>If you want the value you are assigning in the constructor, you need to add a method in the enum definition to return that value.</p>\n\n<p>If you want a unique number that represent the enum value, you can use <code>ordinal()</code>.</p>\n", "title": "How to convert enum value to int?", "tags": ["java", "enums"], "link": "http://stackoverflow.com/questions/8157755/how-to-convert-enum-value-to-int/8157791#8157791", "post_type": "answer", "question_id": 8157755, "answer_id": 8157791}, {"body": "<p>You can't just take the returned string and construct a string from it... it's not a <code>byte[]</code> data type anymore, it's already a string; you need to parse it. For example :</p>\n\n<pre><code>String response = \"[-47, 1, 16, 84, 2, 101, 110, 83, 111, 109, 101, 32, 78, 70, 67, 32, 68, 97, 116, 97]\";      // response from the Python script\n\nString[] byteValues = response.substring(1, response.length() - 1).split(\",\");\nbyte[] bytes = new byte[byteValues.length];\n\nfor (int i=0, len=bytes.length; i&lt;len; i++) {\n   bytes[i] = Byte.parseByte(byteValues[i].trim());     \n}\n\nString str = new String(bytes);\n</code></pre>\n\n<p>** <strong>EDIT</strong> **</p>\n\n<p>You get an hint of your problem in your question, where you say \"<code>Whatever I seem to try I end up getting a byte array which looks as follows... [91, 45, ...</code>\", because <code>91</code> is the byte value for <code>[</code>, so <code>[91, 45, ...</code> is the byte array of the string \"<code>[-45, 1, 16, ...</code>\" string.</p>\n\n<p>The method <code>Arrays.toString()</code> will return a <code>String</code> representation of the specified array; meaning that the returned value will not be a array anymore. For example :</p>\n\n<pre><code>byte[] b1 = new byte[] {97, 98, 99};\n\nString s1 = Arrays.toString(b1);\nString s2 = new String(b1);\n\nSystem.out.println(s1);        // -&gt; \"[97, 98, 99]\"\nSystem.out.println(s2);        // -&gt; \"abc\";\n</code></pre>\n\n<p>As you can see, <code>s1</code> holds the string representation of the <strong>array</strong> <code>b1</code>, while <code>s2</code> holds the string representation of the <strong>bytes</strong> contained in <code>b1</code>.</p>\n\n<p>Now, in your problem, your server returns a string similar to <code>s1</code>, therefore to get the array representation back, you need the opposite constructor method. If <code>s2.getBytes()</code> is the opposite of <code>new String(b1)</code>, you need to find the opposite of <code>Arrays.toString(b1)</code>, thus the code I pasted in the first snippet of this answer.</p>\n", "title": "Java Byte Array to String to Byte Array", "tags": ["java", "string", "byte"], "link": "http://stackoverflow.com/questions/6684665/java-byte-array-to-string-to-byte-array/6684822#6684822", "post_type": "answer", "question_id": 6684665, "answer_id": 6684822}, {"body": "<p>What <code>Arrays.toString()</code> does is create a string representation of each individual byte in your byteArray.</p>\n\n<p>Please check the API documentation \n<a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/Arrays.html#toString%28byte%5B%5D%29\" rel=\"nofollow\">Arrays API</a></p>\n\n<p>To convert your response string back to the original byte array, you have to use <code>split(\",\")</code> or something and convert it into a collection and then convert each individual item in there to a byte to recreate your byte array.</p>\n", "title": "Java Byte Array to String to Byte Array", "tags": ["java", "string", "byte"], "link": "http://stackoverflow.com/questions/6684665/java-byte-array-to-string-to-byte-array/6684852#6684852", "post_type": "answer", "question_id": 6684665, "answer_id": 6684852}, {"body": "<p>If you want to convert the string back into a byte array you will need to use <code>String.getBytes()</code> (or equivalent Python function) and this will allow you print out the original byte array.</p>\n", "title": "Java Byte Array to String to Byte Array", "tags": ["java", "string", "byte"], "link": "http://stackoverflow.com/questions/6684665/java-byte-array-to-string-to-byte-array/6684935#6684935", "post_type": "answer", "question_id": 6684665, "answer_id": 6684935}, {"body": "<p>The kind of output you are seeing from your byte array (<code>[B@405217f8</code>) is also an output for a zero length byte array (ie <code>new byte[0]</code>). It looks like this string is a reference to the array rather than a description of the contents of the array like we might expect from a regular collection's <code>toString()</code> method.</p>\n\n<p>As with other respondents, I would point you to the <code>String</code> constructors that accept a <code>byte[]</code> parameter to construct a string from the contents of a byte array. You should be able to read raw bytes from a socket's <code>InputStream</code> if you want to obtain bytes from a TCP connection. </p>\n\n<p>If you have already read those bytes as a <code>String</code> (using an <code>InputStreamReader</code>), then, the string can be converted to bytes using the <code>getBytes()</code> function. Be sure to pass in your desired character set to both the String constructor and <code>getBytes()</code> functions, and this will only work if the byte data can be converted to characters by the <code>InputStreamReader</code>. </p>\n\n<p>If you want to deal with raw bytes you should really avoid using this stream reader layer.</p>\n", "title": "Java Byte Array to String to Byte Array", "tags": ["java", "string", "byte"], "link": "http://stackoverflow.com/questions/6684665/java-byte-array-to-string-to-byte-array/12685471#12685471", "post_type": "answer", "question_id": 6684665, "answer_id": 12685471}, {"body": "<p><strong>There is a subtle issue here that is a bit of a gotcha.</strong></p>\n\n<p>The <code>toString()</code> method has a base implementation in <code>Object</code>. <code>CharSequence</code> is an interface; and although the <code>toString()</code> method appears as part of that interface, there is nothing at compile-time that will force you to override it and honor the additional constraints that the <code>CharSequence</code> <code>toString()</code> method's javadoc puts on the <code>toString()</code> method; ie that it should return a string containing the characters in the order returned by <code>charAt()</code>.</p>\n\n<p>Your IDE won't even help you out by reminding that you that you <em>probably should</em> override <code>toString()</code>. For example, in intellij, this is what you'll see if you create a new <code>CharSequence</code> implementation: <a href=\"http://puu.sh/2w1RJ\">http://puu.sh/2w1RJ</a>. Note the absence of <code>toString()</code>.</p>\n\n<p>If you rely on <code>toString()</code> on an arbitrary <code>CharSequence</code>, it <em>should</em> work provided the <code>CharSequence</code> implementer did their job properly. But if you want to avoid any uncertainty altogether, you should use a <code>StringBuilder</code> and <code>append()</code>, like so:</p>\n\n<pre><code>final StringBuilder sb = new StringBuilder(charSequence.length());\nsb.append(charSequence);\nreturn sb.toString();\n</code></pre>\n", "title": "How to convert CharSequence to String in Java?", "tags": ["java", "string", "charsequence"], "link": "http://stackoverflow.com/questions/7707556/how-to-convert-charsequence-to-string-in-java/15870428#15870428", "post_type": "answer", "question_id": 7707556, "answer_id": 15870428}, {"body": "<p>If you just invoke <code>run()</code> directly, it's executed on the calling thread, just like any other method call. <code>Thread.start()</code> is required to actually create a new thread so that the runnable's <code>run</code> method is executed in parallel.</p>\n", "title": "What&#39;s the difference between Thread start() and Runnable run()", "tags": ["java", "multithreading", "concurrency", "runnable"], "link": "http://stackoverflow.com/questions/8579657/whats-the-difference-between-thread-start-and-runnable-run/8579702#8579702", "post_type": "answer", "question_id": 8579657, "answer_id": 8579702}, {"body": "<p><code>Thread.start()</code> code registers the Thread with scheduler and the scheduler calls the <code>run()</code> method. Also, <code>Thread</code> is class while <code>Runnable</code> is an interface.</p>\n", "title": "What&#39;s the difference between Thread start() and Runnable run()", "tags": ["java", "multithreading", "concurrency", "runnable"], "link": "http://stackoverflow.com/questions/8579657/whats-the-difference-between-thread-start-and-runnable-run/8641412#8641412", "post_type": "answer", "question_id": 8579657, "answer_id": 8641412}, {"body": "<p>Actually <code>Thread.start()</code> creates a new thread and have its own execution scenario.</p>\n\n<p><code>Thread.start()</code> calls the <code>run()</code> method asynchronously,which changes the state of new Thread to Runnable.</p>\n\n<p>But <code>Thread.run()</code> does not create any new thread. Instead it execute the run method in the current running thread synchronously.</p>\n\n<p>If you are using <code>Thread.run()</code> then you are not using the features of multi threading at all. </p>\n", "title": "What&#39;s the difference between Thread start() and Runnable run()", "tags": ["java", "multithreading", "concurrency", "runnable"], "link": "http://stackoverflow.com/questions/8579657/whats-the-difference-between-thread-start-and-runnable-run/13134221#13134221", "post_type": "answer", "question_id": 8579657, "answer_id": 13134221}, {"body": "<p>If you do <code>run()</code> in main method, the thread of main method will invoke the <code>run</code> method instead of the thread you require to run.</p>\n\n<p>The <code>start()</code> method creates new thread and for which the <code>run()</code> method has to be done</p>\n", "title": "What&#39;s the difference between Thread start() and Runnable run()", "tags": ["java", "multithreading", "concurrency", "runnable"], "link": "http://stackoverflow.com/questions/8579657/whats-the-difference-between-thread-start-and-runnable-run/19629304#19629304", "post_type": "answer", "question_id": 8579657, "answer_id": 19629304}, {"body": "<p>invoke <code>run()</code> is  executing on the calling thread, like any other method call. whereas  <code>Thread.start()</code> creates a new thread.\ninvoking <code>run()</code> is a programmatic bug. </p>\n", "title": "What&#39;s the difference between Thread start() and Runnable run()", "tags": ["java", "multithreading", "concurrency", "runnable"], "link": "http://stackoverflow.com/questions/8579657/whats-the-difference-between-thread-start-and-runnable-run/26159918#26159918", "post_type": "answer", "question_id": 8579657, "answer_id": 26159918}, {"body": "<p>Most of these answers miss the big picture, which is that, as far as the Java language is concerned, there is no more difference between <code>t.start()</code> and <code>r.run()</code> than there is between any other two methods.</p>\n\n<p>They're both just methods.  They both run <em>in the thread that called them</em>.  They both do whatever they were coded to do, and then they both return, still in the same thread, to their callers.</p>\n\n<p>The biggest difference is that most of the code for <code>t.start()</code> is <em>native</em> code while, in most cases, the code for <code>r.run()</code> is going to be pure Java.  But that's not much of a difference.  Code is code.  Native code is harder to find, and harder to understand when you find it, but it's still just code that tells the computer what to do.</p>\n\n<p>So, what does <code>t.start()</code> do?</p>\n\n<p>It creates a new native thread, it arranges for that thread to call <code>t.run()</code>, and then it tells the OS to let the new thread run.  Then it returns.</p>\n\n<p>And what does <code>r.run()</code> do?</p>\n\n<p>The funny thing is, the person asking this question is the person who <em>wrote it</em>.  <code>r.run()</code> does whatever <em>you</em> (i.e., the developer who wrote it) designed it to do.</p>\n\n<hr>\n\n<p><code>t.start()</code> is the method that the library provides for your code to call when you want a new thread.</p>\n\n<p><code>r.run()</code> is the method that <em>you</em> provide for the <em>library</em> to call <em>in</em> the new thread.</p>\n", "title": "What&#39;s the difference between Thread start() and Runnable run()", "tags": ["java", "multithreading", "concurrency", "runnable"], "link": "http://stackoverflow.com/questions/8579657/whats-the-difference-between-thread-start-and-runnable-run/33375616#33375616", "post_type": "answer", "question_id": 8579657, "answer_id": 33375616}, {"body": "<p>Main difference is that when program calls <code>start()</code> method a <strong>new Thread</strong> is created and code inside run() method is executed in new Thread while if you call <code>run()</code> method directly <strong>no new Thread</strong> is created and code inside run() will execute on <strong>current Thread</strong>.</p>\n\n<p>Another <strong>difference between start vs run in Java thread</strong> is that you <strong>can not call start() method twice on thread object</strong>. once started, second call of start() will throw IllegalStateException in Java while you can call run() method twice.</p>\n", "title": "What&#39;s the difference between Thread start() and Runnable run()", "tags": ["java", "multithreading", "concurrency", "runnable"], "link": "http://stackoverflow.com/questions/8579657/whats-the-difference-between-thread-start-and-runnable-run/35264580#35264580", "post_type": "answer", "question_id": 8579657, "answer_id": 35264580}, {"body": "<p>If you directly call <code>run()</code> method, you are not using multi-threading feature since <code>run()</code> method is executed as part of caller thread. </p>\n\n<p>If you call <code>start()</code> method on Thread, the Java Virtual Machine will call run() method and two threads will run concurrently - Current Thread (<code>main()</code> in your example) and Other Thread (Runnable <code>r1</code> in your example).</p>\n\n<p>Have a look at source code of <code>start()</code> method in <a href=\"http://grepcode.com/file_/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Thread.java/?v=source\" rel=\"nofollow\">Thread class</a></p>\n\n<pre><code> /**\n     * Causes this thread to begin execution; the Java Virtual Machine\n     * calls the &lt;code&gt;run&lt;/code&gt; method of this thread.\n     * &lt;p&gt;\n     * The result is that two threads are running concurrently: the\n     * current thread (which returns from the call to the\n     * &lt;code&gt;start&lt;/code&gt; method) and the other thread (which executes its\n     * &lt;code&gt;run&lt;/code&gt; method).\n     * &lt;p&gt;\n     * It is never legal to start a thread more than once.\n     * In particular, a thread may not be restarted once it has completed\n     * execution.\n     *\n     * @exception  IllegalThreadStateException  if the thread was already\n     *               started.\n     * @see        #run()\n     * @see        #stop()\n     */\n    public synchronized void start() {\n        /**\n         * This method is not invoked for the main method thread or \"system\"\n         * group threads created/set up by the VM. Any new functionality added\n         * to this method in the future may have to also be added to the VM.\n         *\n         * A zero status value corresponds to state \"NEW\".\n         */\n        if (threadStatus != 0)\n            throw new IllegalThreadStateException();\n        group.add(this);\n        start0();\n        if (stopBeforeStart) {\n            stop0(throwableFromStop);\n        }\n    }\n\n    private native void start0();\n</code></pre>\n\n<p>In above code, you can't see invocation to <code>run()</code> method. </p>\n\n<p><code>private native void start0()</code> is responsible for calling <code>run()</code> method. JVM executes this native method.</p>\n", "title": "What&#39;s the difference between Thread start() and Runnable run()", "tags": ["java", "multithreading", "concurrency", "runnable"], "link": "http://stackoverflow.com/questions/8579657/whats-the-difference-between-thread-start-and-runnable-run/35931153#35931153", "post_type": "answer", "question_id": 8579657, "answer_id": 35931153}, {"body": "<p>All these answers around here, as well as the answers in <a href=\"http://stackoverflow.com/questions/676250\">this question</a>, suggest that loading absolute URLs, like \"/foo/bar.properties\" treated the same by <code>class.getResourceAsStream(String)</code> and <code>class.getClassLoader().getResourceAsStream(String)</code>. This is NOT the case, at least not in my Tomcat configuration/version (currently 7.0.40).</p>\n\n<pre><code>MyClass.class.getResourceAsStream(\"/foo/bar.properties\"); // works!  \nMyClass.class.getClassLoader().getResourceAsStream(\"/foo/bar.properties\"); // does NOT work!\n</code></pre>\n\n<p>Sorry, I have absolutely no satisfying explanation, but I guess that tomcat does dirty tricks and his black magic with the classloaders and cause the difference. I always used <code>class.getResourceAsStream(String)</code> in the past and haven't had any problems.</p>\n\n<p>PS: I also posted this over <a href=\"http://stackoverflow.com/questions/676250/different-ways-of-loading-a-file-as-an-inputstream/20069749#20069749\">here</a></p>\n", "title": "What is the difference between Class.getResource() and ClassLoader.getResource()?", "tags": ["java", "classloader", "getresource"], "link": "http://stackoverflow.com/questions/6608795/what-is-the-difference-between-class-getresource-and-classloader-getresource/20069798#20069798", "post_type": "answer", "question_id": 6608795, "answer_id": 20069798}, {"body": "<p>I tried reading from input1.txt which was inside one of my packages <em>together with the class which was trying to read it.</em></p>\n\n<p>The following works:</p>\n\n<pre><code>String fileName = FileTransferClient.class.getResource(\"input1.txt\").getPath();\n\nSystem.out.println(fileName);\n\nBufferedReader bufferedTextIn = new BufferedReader(new FileReader(fileName));\n</code></pre>\n\n<p>The most important part was to call <code>getPath()</code> if you want the correct path name in String format. <strong>DO NOT USE <code>toString()</code></strong> because it will add some extra formatting text which will TOTALLY MESS UP the fileName (you can try it and see the print out).</p>\n\n<p>Spent 2 hours debugging this... :(</p>\n", "title": "What is the difference between Class.getResource() and ClassLoader.getResource()?", "tags": ["java", "classloader", "getresource"], "link": "http://stackoverflow.com/questions/6608795/what-is-the-difference-between-class-getresource-and-classloader-getresource/22327270#22327270", "post_type": "answer", "question_id": 6608795, "answer_id": 22327270}, {"body": "<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-\"><code>java.lang.String.split</code></a> splits on regular expressions, and <code>.</code> in a regular expression means \"any character\".</p>\n\n<p>Try <code>temp.split(\"\\\\.\")</code>.</p>\n", "title": "The split() method in Java does not work on a dot (.)", "tags": ["java", "string", "split"], "link": "http://stackoverflow.com/questions/7935858/the-split-method-in-java-does-not-work-on-a-dot/7935873#7935873", "post_type": "answer", "question_id": 7935858, "answer_id": 7935873}, {"body": "<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-\" rel=\"nofollow\">documentation on <code>split()</code></a> says:</p>\n\n<blockquote>\n  <p>Splits this string around matches of the given <strong><a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#sum\" rel=\"nofollow\">regular expression</a></strong>.</p>\n</blockquote>\n\n<p>(Emphasis mine.)</p>\n\n<p>A dot is a special character in regular expression syntax. Use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#quote-java.lang.String-\" rel=\"nofollow\"><code>Pattern.quote()</code></a> on the parameter to split() if you want the split to be on a literal string pattern:</p>\n\n<pre><code>String[] words = temp.split(Pattern.quote(\".\"));\n</code></pre>\n", "title": "The split() method in Java does not work on a dot (.)", "tags": ["java", "string", "split"], "link": "http://stackoverflow.com/questions/7935858/the-split-method-in-java-does-not-work-on-a-dot/7935881#7935881", "post_type": "answer", "question_id": 7935858, "answer_id": 7935881}]}